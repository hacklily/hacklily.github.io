!function(e){function t(t){for(var n,o,r=t[0],a=t[1],s=0,c=[];s<r.length;s++)o=r[s],i[o]&&c.push(i[o][0]),i[o]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);for(l&&l(t);c.length;)c.shift()()}var n={},i={2:0};function o(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.e=function(e){var t=[],n=i[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise(function(t,o){n=i[e]=[t,o]});t.push(n[2]=r);var a,s=document.getElementsByTagName("head")[0],l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=function(e){return o.p+"static/js/"+({}[e]||e)+"."+{0:"08b478d2",1:"c9cd0b60",5:"fb90d1a8",6:"ead201c2",7:"51115fb9",8:"d4da528d",9:"f7820560",10:"ae2f18ea",11:"0cf3197c",12:"43f35c42",13:"fde25d39",14:"1becd85f",15:"e3637033",16:"90fd0935",17:"bd34e3d0",18:"8b5b5a9c",19:"1a98bbd1",20:"4e39bbd3",21:"93666e45",22:"343d8414",23:"03416259",24:"af854e83",25:"3cf0daec",26:"0918907a",27:"c4e424d7",28:"fdbe61cc",29:"e0645184",30:"2c23a70a",31:"136c5899",32:"ac3ea9cb",33:"38fda5df",34:"71e3e068",35:"4ae257be",36:"4be021d0",37:"60cfbf71",38:"2818c458",39:"efdc0953",40:"5b98295f",41:"c7a84083",42:"69a47eb6",43:"a066e322",44:"d22b7f30",45:"08ca13a5",46:"a1e1c778",47:"1b68da8b",48:"0d45584e",49:"87cbef66",50:"83004799",51:"66b89325",52:"abb9b057",53:"1b047f76",54:"bfb32e9d",55:"78c6b192",56:"5f401482",57:"69d36abb",58:"01c31e5a",59:"9803870e",60:"16cb86a2"}[e]+".chunk.js"}(e),a=function(t){l.onerror=l.onload=null,clearTimeout(c);var n=i[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src,a=new Error("Loading chunk "+e+" failed.\n("+o+": "+r+")");a.type=o,a.request=r,n[1](a)}i[e]=void 0}};var c=setTimeout(function(){a({type:"timeout",target:l})},12e4);l.onerror=l.onload=a,s.appendChild(l)}return Promise.all(t)},o.m=e,o.c=n,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o.oe=function(e){throw console.error(e),e};var r=window.webpackJsonp=window.webpackJsonp||[],a=r.push.bind(r);r.push=t,r=r.slice();for(var s=0;s<r.length;s++)t(r[s]);var l=a;o(o.s=316)}([function(e,t,n){"use strict";function i(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return function(e,t){return 0===t.length?e:e.replace(/\{(\d+)\}/g,function(e,n){var i=n[0];return"undefined"!==typeof t[i]?t[i]:e})}(t,n)}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";n.d(t,"l",function(){return p}),n.d(t,"D",function(){return m}),n.d(t,"z",function(){return v}),n.d(t,"f",function(){return w}),n.d(t,"G",function(){return _}),n.d(t,"N",function(){return S}),n.d(t,"g",function(){return x}),n.d(t,"j",function(){return k}),n.d(t,"h",function(){return T}),n.d(t,"J",function(){return O}),n.d(t,"L",function(){return N}),n.d(t,"i",function(){return W}),n.d(t,"r",function(){return V}),n.d(t,"q",function(){return z}),n.d(t,"b",function(){return q}),n.d(t,"w",function(){return G}),n.d(t,"u",function(){return K}),n.d(t,"e",function(){return Y}),n.d(t,"y",function(){return Z}),n.d(t,"t",function(){return $}),n.d(t,"s",function(){return X}),n.d(t,"x",function(){return Q}),n.d(t,"B",function(){return J}),n.d(t,"p",function(){return ee}),n.d(t,"o",function(){return te}),n.d(t,"n",function(){return oe}),n.d(t,"F",function(){return re}),n.d(t,"C",function(){return ae}),n.d(t,"d",function(){return se}),n.d(t,"c",function(){return le}),n.d(t,"K",function(){return ce}),n.d(t,"I",function(){return ue}),n.d(t,"O",function(){return he}),n.d(t,"k",function(){return fe}),n.d(t,"E",function(){return pe}),n.d(t,"a",function(){return ge}),n.d(t,"M",function(){return be}),n.d(t,"A",function(){return ye}),n.d(t,"H",function(){return ve}),n.d(t,"v",function(){return we}),n.d(t,"m",function(){return _e}),n.d(t,"P",function(){return Se});var i,o=n(18),r=n(20),a=n(15),s=n(7),l=n(28),c=n(54),u=n(44),d=n(5),h=n(53),f=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function p(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function m(e){for(;e;){if(e===document.body)return!0;e=e.parentNode}return!1}var g=new(function(){function e(){}return e.prototype._findClassName=function(e,t){var n=e.className;if(n){t=t.trim();var i=n.length,o=t.length;if(0!==o)if(i<o)this._lastStart=-1;else{if(n===t)return this._lastStart=0,void(this._lastEnd=i);for(var r,a=-1;(a=n.indexOf(t,a+1))>=0;){if(r=a+o,(0===a||32===n.charCodeAt(a-1))&&32===n.charCodeAt(r))return this._lastStart=a,void(this._lastEnd=r+1);if(a>0&&32===n.charCodeAt(a-1)&&r===i)return this._lastStart=a-1,void(this._lastEnd=r);if(0===a&&r===i)return this._lastStart=0,void(this._lastEnd=r)}this._lastStart=-1}else this._lastStart=-1}else this._lastStart=-1},e.prototype.hasClass=function(e,t){return this._findClassName(e,t),-1!==this._lastStart},e.prototype.addClasses=function(e){for(var t=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];n.forEach(function(n){return n.split(" ").forEach(function(n){return t.addClass(e,n)})})},e.prototype.addClass=function(e,t){e.className?(this._findClassName(e,t),-1===this._lastStart&&(e.className=e.className+" "+t)):e.className=t},e.prototype.removeClass=function(e,t){this._findClassName(e,t),-1!==this._lastStart&&(e.className=e.className.substring(0,this._lastStart)+e.className.substring(this._lastEnd))},e.prototype.removeClasses=function(e){for(var t=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];n.forEach(function(n){return n.split(" ").forEach(function(n){return t.removeClass(e,n)})})},e.prototype.toggleClass=function(e,t,n){this._findClassName(e,t),-1===this._lastStart||void 0!==n&&n||this.removeClass(e,t),-1!==this._lastStart||void 0!==n&&!n||this.addClass(e,t)},e}()),b=new(function(){function e(){}return e.prototype.hasClass=function(e,t){return t&&e.classList&&e.classList.contains(t)},e.prototype.addClasses=function(e){for(var t=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];n.forEach(function(n){return n.split(" ").forEach(function(n){return t.addClass(e,n)})})},e.prototype.addClass=function(e,t){t&&e.classList&&e.classList.add(t)},e.prototype.removeClass=function(e,t){t&&e.classList&&e.classList.remove(t)},e.prototype.removeClasses=function(e){for(var t=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];n.forEach(function(n){return n.split(" ").forEach(function(n){return t.removeClass(e,n)})})},e.prototype.toggleClass=function(e,t,n){e.classList&&e.classList.toggle(t,n)},e}()),y=l.k?g:b,v=y.hasClass.bind(y),w=y.addClass.bind(y),_=y.removeClass.bind(y),S=y.toggleClass.bind(y),C=function(){function e(e,t,n,i){this._node=e,this._type=t,this._handler=n,this._useCapture=i||!1,this._node.addEventListener(this._type,this._handler,this._useCapture)}return e.prototype.dispose=function(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._useCapture),this._node=null,this._handler=null)},e}();function x(e,t,n,i){return new C(e,t,n,i)}var k=function(e,t,n,i){var o=n;return"click"===t||"mousedown"===t?o=function(e){return function(t){return e(new u.b(t))}}(n):"keydown"!==t&&"keypress"!==t&&"keyup"!==t||(o=function(e){return function(t){return e(new c.a(t))}}(n)),x(e,t,o,i)};function T(e,t){return x(e,"mouseout",function(n){for(var i=n.relatedTarget||n.toElement;i&&i!==e;)i=i.parentNode;i!==e&&t(n)})}var O,N,L=null;var I,E,D,A,M,P=function(){function e(e,t){this._runner=e,this.priority=t,this._canceled=!1}return e.prototype.dispose=function(){this._canceled=!0},e.prototype.execute=function(){if(!this._canceled)try{this._runner()}catch(e){Object(a.e)(e)}},e.sort=function(e,t){return t.priority-e.priority},e}();I=[],E=null,D=!1,A=!1,M=function(){for(D=!1,E=I,I=[],A=!0;E.length>0;){E.sort(P.sort),E.shift().execute()}A=!1},N=function(e,t){void 0===t&&(t=0);var n,i=new P(e,t);return I.push(i),D||(D=!0,n=M,L||(L=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||function(e){return setTimeout(function(){return e((new Date).getTime())},0)}),L.call(self,n)),i},O=function(e,t){if(A){var n=new P(e,t);return E.push(n),n}return N(e,t)};var R=16,F=function(e,t){return t},j=function(e){function t(t,n,i,o,a){void 0===o&&(o=F),void 0===a&&(a=R);var s=e.call(this)||this,l=null,c=0,u=s._register(new r.f),d=function(){c=(new Date).getTime(),i(l),l=null};return s._register(x(t,n,function(e){l=o(l,e);var t=(new Date).getTime()-c;t>=a?(u.cancel(),d()):u.setIfNotSet(d,a-t)})),s}return f(t,e),t}(s.a);function W(e,t,n,i,o){return new j(e,t,n,i,o)}function V(e){return document.defaultView.getComputedStyle(e,null)}var B=function(e,t){return parseFloat(t)||0};function H(e,t,n){var i=V(e),o="0";return i&&(o=i.getPropertyValue?i.getPropertyValue(t):i.getAttribute(n)),B(e,o)}function z(e){if(e!==document.body)return new q(e.clientWidth,e.clientHeight);if(window.innerWidth&&window.innerHeight)return new q(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientWidth)return new q(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new q(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}var U={getBorderLeftWidth:function(e){return H(e,"border-left-width","borderLeftWidth")},getBorderRightWidth:function(e){return H(e,"border-right-width","borderRightWidth")},getBorderTopWidth:function(e){return H(e,"border-top-width","borderTopWidth")},getBorderBottomWidth:function(e){return H(e,"border-bottom-width","borderBottomWidth")},getPaddingLeft:function(e){return H(e,"padding-left","paddingLeft")},getPaddingRight:function(e){return H(e,"padding-right","paddingRight")},getPaddingTop:function(e){return H(e,"padding-top","paddingTop")},getPaddingBottom:function(e){return H(e,"padding-bottom","paddingBottom")},getMarginLeft:function(e){return H(e,"margin-left","marginLeft")},getMarginTop:function(e){return H(e,"margin-top","marginTop")},getMarginRight:function(e){return H(e,"margin-right","marginRight")},getMarginBottom:function(e){return H(e,"margin-bottom","marginBottom")},__commaSentinel:!1},q=function(){return function(e,t){this.width=e,this.height=t}}();function G(e){for(var t=e.offsetParent,n=e.offsetTop,i=e.offsetLeft;null!==(e=e.parentNode)&&e!==document.body&&e!==document.documentElement;){n-=e.scrollTop;var o=V(e);o&&(i-="rtl"!==o.direction?e.scrollLeft:-e.scrollLeft),e===t&&(i+=U.getBorderLeftWidth(e),n+=U.getBorderTopWidth(e),n+=e.offsetTop,i+=e.offsetLeft,t=e.offsetParent)}return{left:i,top:n}}function K(e){var t=e.getBoundingClientRect();return{left:t.left+Y.scrollX,top:t.top+Y.scrollY,width:t.width,height:t.height}}var Y=new(function(){function e(){}return Object.defineProperty(e.prototype,"scrollX",{get:function(){return"number"===typeof window.scrollX?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollY",{get:function(){return"number"===typeof window.scrollY?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop},enumerable:!0,configurable:!0}),e}());function Z(e){var t=U.getMarginLeft(e)+U.getMarginRight(e);return e.offsetWidth+t}function $(e){var t=U.getBorderLeftWidth(e)+U.getBorderRightWidth(e),n=U.getPaddingLeft(e)+U.getPaddingRight(e);return e.offsetWidth-t-n}function X(e){var t=U.getBorderTopWidth(e)+U.getBorderBottomWidth(e),n=U.getPaddingTop(e)+U.getPaddingBottom(e);return e.offsetHeight-t-n}function Q(e){var t=U.getMarginTop(e)+U.getMarginBottom(e);return e.offsetHeight+t}function J(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function ee(e,t,n){for(;e;){if(v(e,t))return e;if(n)if("string"===typeof n){if(v(e,n))return null}else if(e===n)return null;e=e.parentNode}return null}function te(e){void 0===e&&(e=document.getElementsByTagName("head")[0]);var t=document.createElement("style");return t.type="text/css",t.media="screen",e.appendChild(t),t}var ne=null;function ie(){return ne||(ne=te()),ne}function oe(e,t,n){void 0===n&&(n=ie()),n&&t&&n.sheet.insertRule(e+"{"+t+"}",0)}function re(e,t){if(void 0===t&&(t=ie()),t){for(var n=function(e){return e&&e.sheet&&e.sheet.rules?e.sheet.rules:e&&e.sheet&&e.sheet.cssRules?e.sheet.cssRules:[]}(t),i=[],o=0;o<n.length;o++){-1!==n[o].selectorText.indexOf(e)&&i.push(o)}for(o=i.length-1;o>=0;o--)t.sheet.deleteRule(i[o])}}function ae(e){return"object"===typeof HTMLElement?e instanceof HTMLElement:e&&"object"===typeof e&&1===e.nodeType&&"string"===typeof e.nodeName}var se={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",UNLOAD:"unload",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:l.n?"webkitAnimationStart":"animationstart",ANIMATION_END:l.n?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:l.n?"webkitAnimationIteration":"animationiteration"},le={stop:function(e,t){e.preventDefault?e.preventDefault():e.returnValue=!1,t&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)}};function ce(e){for(var t=[],n=0;e&&e.nodeType===e.ELEMENT_NODE;n++)t[n]=e.scrollTop,e=e.parentNode;return t}function ue(e,t){for(var n=0;e&&e.nodeType===e.ELEMENT_NODE;n++)e.scrollTop!==t[n]&&(e.scrollTop=t[n]),e=e.parentNode}var de=function(){function e(e){var t=this;this._onDidFocus=new d.a,this.onDidFocus=this._onDidFocus.event,this._onDidBlur=new d.a,this.onDidBlur=this._onDidBlur.event,this.disposables=[];var n=!1,i=!1;Object(h.a)(e,se.FOCUS,!0)(function(){i=!1,n||(n=!0,t._onDidFocus.fire())},null,this.disposables),Object(h.a)(e,se.BLUR,!0)(function(){n&&(i=!0,window.setTimeout(function(){i&&(i=!1,n=!1,t._onDidBlur.fire())},0))},null,this.disposables)}return e.prototype.dispose=function(){this.disposables=Object(s.d)(this.disposables),this._onDidFocus.dispose(),this._onDidBlur.dispose()},e}();function he(e){return new de(e)}function fe(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach(function(t){return e.appendChild(t)}),t[t.length-1]}function pe(e,t){return e.insertBefore(t,e.firstChild),t}var me=/([\w\-]+)?(#([\w\-]+))?((.([\w\-]+))*)/;function ge(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=me.exec(e);if(!o)throw new Error("Bad use of emmet");var r=document.createElement(o[1]||"div");return o[3]&&(r.id=o[3]),o[4]&&(r.className=o[4].replace(/\./g," ").trim()),Object.keys(t||{}).forEach(function(e){if(/^on\w+$/.test(e))r[e]=t[e];else if("selected"===e){t[e]&&r.setAttribute(e,"true")}else r.setAttribute(e,t[e])}),n.filter(function(e){return!!e}).forEach(function(e){e instanceof Node?r.appendChild(e):r.appendChild(document.createTextNode(e))}),r}function be(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,i=e;n<i.length;n++){var o=i[n];o.style.display="",o.removeAttribute("aria-hidden")}}function ye(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,i=e;n<i.length;n++){var o=i[n];o.style.display="none",o.setAttribute("aria-hidden","true")}}function ve(e){if(e&&e.hasAttribute("tabIndex")){if(document.activeElement===e){var t=function(e,t){for(;e;){if(e instanceof HTMLElement&&e.hasAttribute(t))return e;e=e.parentNode}return null}(e.parentElement,"tabIndex");t&&t.focus()}e.removeAttribute("tabindex")}}function we(e){return Array.prototype.slice.call(document.getElementsByTagName(e),0)}function _e(e){var t=window.devicePixelRatio*e;return Math.max(1,Math.floor(t))/window.devicePixelRatio}function Se(e){if(o.e||l.i)window.open(e);else{var t=window.open();t&&(t.opener=null,t.location.href=e)}}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n(10),o=function(){function e(e,t,n,i){e>n||e===n&&t>i?(this.startLineNumber=n,this.startColumn=i,this.endLineNumber=e,this.endColumn=t):(this.startLineNumber=e,this.startColumn=t,this.endLineNumber=n,this.endColumn=i)}return e.prototype.isEmpty=function(){return e.isEmpty(this)},e.isEmpty=function(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn},e.prototype.containsPosition=function(t){return e.containsPosition(this,t)},e.containsPosition=function(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber)&&(!(t.lineNumber===e.startLineNumber&&t.column<e.startColumn)&&!(t.lineNumber===e.endLineNumber&&t.column>e.endColumn))},e.prototype.containsRange=function(t){return e.containsRange(this,t)},e.containsRange=function(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber)&&(!(t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber)&&(!(t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn)&&!(t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn)))},e.prototype.plusRange=function(t){return e.plusRange(this,t)},e.plusRange=function(t,n){var i,o,r,a;return n.startLineNumber<t.startLineNumber?(i=n.startLineNumber,o=n.startColumn):n.startLineNumber===t.startLineNumber?(i=n.startLineNumber,o=Math.min(n.startColumn,t.startColumn)):(i=t.startLineNumber,o=t.startColumn),n.endLineNumber>t.endLineNumber?(r=n.endLineNumber,a=n.endColumn):n.endLineNumber===t.endLineNumber?(r=n.endLineNumber,a=Math.max(n.endColumn,t.endColumn)):(r=t.endLineNumber,a=t.endColumn),new e(i,o,r,a)},e.prototype.intersectRanges=function(t){return e.intersectRanges(this,t)},e.intersectRanges=function(t,n){var i=t.startLineNumber,o=t.startColumn,r=t.endLineNumber,a=t.endColumn,s=n.startLineNumber,l=n.startColumn,c=n.endLineNumber,u=n.endColumn;return i<s?(i=s,o=l):i===s&&(o=Math.max(o,l)),r>c?(r=c,a=u):r===c&&(a=Math.min(a,u)),i>r?null:i===r&&o>a?null:new e(i,o,r,a)},e.prototype.equalsRange=function(t){return e.equalsRange(this,t)},e.equalsRange=function(e,t){return!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn},e.prototype.getEndPosition=function(){return new i.a(this.endLineNumber,this.endColumn)},e.prototype.getStartPosition=function(){return new i.a(this.startLineNumber,this.startColumn)},e.prototype.toString=function(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"},e.prototype.setEndPosition=function(t,n){return new e(this.startLineNumber,this.startColumn,t,n)},e.prototype.setStartPosition=function(t,n){return new e(t,n,this.endLineNumber,this.endColumn)},e.prototype.collapseToStart=function(){return e.collapseToStart(this)},e.collapseToStart=function(t){return new e(t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn)},e.fromPositions=function(t,n){return void 0===n&&(n=t),new e(t.lineNumber,t.column,n.lineNumber,n.column)},e.lift=function(t){return t?new e(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn):null},e.isIRange=function(e){return e&&"number"===typeof e.startLineNumber&&"number"===typeof e.startColumn&&"number"===typeof e.endLineNumber&&"number"===typeof e.endColumn},e.areIntersectingOrTouching=function(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<t.startColumn)&&!(t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<e.startColumn)},e.areIntersecting=function(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<=t.startColumn)&&!(t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<=e.startColumn)},e.compareRangesUsingStarts=function(e,t){var n=0|e.startLineNumber,i=0|t.startLineNumber;if(n===i){var o=0|e.startColumn,r=0|t.startColumn;if(o===r){var a=0|e.endLineNumber,s=0|t.endLineNumber;return a===s?(0|e.endColumn)-(0|t.endColumn):a-s}return o-r}return n-i},e.compareRangesUsingEnds=function(e,t){return e.endLineNumber===t.endLineNumber?e.endColumn===t.endColumn?e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber:e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber},e.spansMultipleLines=function(e){return e.endLineNumber>e.startLineNumber},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return y}),n.d(t,"c",function(){return v}),n.d(t,"b",function(){return w}),n.d(t,"j",function(){return _}),n.d(t,"e",function(){return S}),n.d(t,"g",function(){return C}),n.d(t,"f",function(){return x}),n.d(t,"i",function(){return k}),n.d(t,"h",function(){return T}),n.d(t,"d",function(){return o});var i,o,r=n(15),a=n(36),s=n(40),l=n(85),c=n(60),u=n(109),d=n(10),h=n(63),f=n(41),p=n(13),m=n(39),g=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),b=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},y=function(){function e(e){this.id=e.id,this.precondition=e.precondition,this._kbOpts=e.kbOpts,this._menubarOpts=e.menubarOpts,this._description=e.description}return e.prototype.register=function(){var e=this;if(this._menubarOpts&&f.d.appendMenuItem(this._menubarOpts.menuId,{group:this._menubarOpts.group,command:{id:this.id,title:this._menubarOpts.title},when:this._menubarOpts.when,order:this._menubarOpts.order}),this._kbOpts){var t=this._kbOpts.kbExpr;this.precondition&&(t=t?p.d.and(t,this.precondition):this.precondition),l.a.registerCommandAndKeybindingRule({id:this.id,handler:function(t,n){return e.runCommand(t,n)},weight:this._kbOpts.weight,when:t,primary:this._kbOpts.primary,secondary:this._kbOpts.secondary,win:this._kbOpts.win,linux:this._kbOpts.linux,mac:this._kbOpts.mac,description:this._description})}else s.a.registerCommand({id:this.id,handler:function(t,n){return e.runCommand(t,n)},description:this._description})},e}(),v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g(t,e),t.bindToContribution=function(e){return function(t){function n(e){var n=t.call(this,e)||this;return n._callback=e.handler,n}return g(n,t),n.prototype.runEditorCommand=function(t,n,i){e(n)&&this._callback(e(n))},n}(t)},t.prototype.runCommand=function(e,t){var n=this,i=e.get(m.a),o=i.getFocusedCodeEditor()||i.getActiveCodeEditor();if(o)return o.invokeWithinContext(function(e){if(e.get(p.e).contextMatchesRules(n.precondition))return n.runEditorCommand(e,o,t)})},t}(y),w=function(e){function t(t){var n=e.call(this,t)||this;return n.label=t.label,n.alias=t.alias,n.menuOpts=t.menuOpts,n}return g(t,e),t.prototype.register=function(){this.menuOpts&&f.d.appendMenuItem(f.b.EditorContext,{command:{id:this.id,title:this.label},when:p.d.and(this.precondition,this.menuOpts.when),group:this.menuOpts.group,order:this.menuOpts.order}),e.prototype.register.call(this)},t.prototype.runEditorCommand=function(e,t,n){return this.reportTelemetry(e,t),this.run(e,t,n||{})},t.prototype.reportTelemetry=function(e,t){e.get(u.a).publicLog("editorActionInvoked",b({name:this.label,id:this.id},t.getTelemetryData()))},t}(v);function _(e,t){s.a.registerCommand(e,function(e,n){return t(e,n||{})})}function S(e,t){_(e,function(e,n){var i=n.resource,o=n.position;if(!(i instanceof a.a))throw Object(r.b)("resource");if(!d.a.isIPosition(o))throw Object(r.b)("position");var s=e.get(h.a).getModel(i);if(!s)throw Object(r.b)("Can not find open model for "+i);var l=d.a.lift(o);return t(s,l,n)})}function C(e){return O.INSTANCE.registerEditorCommand(e),e}function x(e){O.INSTANCE.registerEditorAction(new e)}function k(e){O.INSTANCE.registerEditorAction(e)}function T(e){O.INSTANCE.registerEditorContribution(e)}!function(e){e.getEditorCommand=function(e){return O.INSTANCE.getEditorCommand(e)},e.getEditorActions=function(){return O.INSTANCE.getEditorActions()},e.getEditorContributions=function(){return O.INSTANCE.getEditorContributions()}}(o||(o={}));var O=function(){function e(){this.editorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}return e.prototype.registerEditorContribution=function(e){this.editorContributions.push(e)},e.prototype.registerEditorAction=function(e){e.register(),this.editorActions.push(e)},e.prototype.getEditorContributions=function(){return this.editorContributions.slice(0)},e.prototype.getEditorActions=function(){return this.editorActions.slice(0)},e.prototype.registerEditorCommand=function(e){e.register(),this.editorCommands[e.id]=e},e.prototype.getEditorCommand=function(e){return this.editorCommands[e]||null},e.INSTANCE=new e,e}();c.a.add("editor.contributions",O.INSTANCE)},function(e,t,n){"use strict";e.exports=n(176)},function(e,t,n){"use strict";var i=n(15);var o,r=n(7),a=n(191);n.d(t,"b",function(){return o}),n.d(t,"a",function(){return s}),n.d(t,"d",function(){return l}),n.d(t,"k",function(){return c}),n.d(t,"f",function(){return u}),n.d(t,"h",function(){return d}),n.d(t,"c",function(){return h}),n.d(t,"j",function(){return f}),n.d(t,"i",function(){return p}),n.d(t,"g",function(){return g}),n.d(t,"e",function(){return b}),function(e){var t={dispose:function(){}};e.None=function(){return t}}(o||(o={}));var s=function(){function e(e){this._options=e}return Object.defineProperty(e.prototype,"event",{get:function(){var t=this;return this._event||(this._event=function(n,i,o){t._listeners||(t._listeners=new a.a);var r=t._listeners.isEmpty();r&&t._options&&t._options.onFirstListenerAdd&&t._options.onFirstListenerAdd(t);var s,l=t._listeners.push(i?[n,i]:n);return r&&t._options&&t._options.onFirstListenerDidAdd&&t._options.onFirstListenerDidAdd(t),t._options&&t._options.onListenerDidAdd&&t._options.onListenerDidAdd(t,n,i),s={dispose:function(){s.dispose=e._noop,t._disposed||(l(),t._options&&t._options.onLastListenerRemove&&t._listeners.isEmpty()&&t._options.onLastListenerRemove(t))}},Array.isArray(o)&&o.push(s),s}),this._event},enumerable:!0,configurable:!0}),e.prototype.fire=function(e){if(this._listeners){this._deliveryQueue||(this._deliveryQueue=[]);for(var t=this._listeners.iterator(),n=t.next();!n.done;n=t.next())this._deliveryQueue.push([n.value,e]);for(;this._deliveryQueue.length>0;){var o=this._deliveryQueue.shift(),r=o[0],a=o[1];try{"function"===typeof r?r.call(void 0,a):r[0].call(r[1],a)}catch(n){Object(i.e)(n)}}}},e.prototype.dispose=function(){this._listeners&&(this._listeners=void 0),this._deliveryQueue&&(this._deliveryQueue.length=0),this._disposed=!0},e._noop=function(){},e}(),l=function(){function e(){var e=this;this.hasListeners=!1,this.events=[],this.emitter=new s({onFirstListenerAdd:function(){return e.onFirstListenerAdd()},onLastListenerRemove:function(){return e.onLastListenerRemove()}})}return Object.defineProperty(e.prototype,"event",{get:function(){return this.emitter.event},enumerable:!0,configurable:!0}),e.prototype.add=function(e){var t=this,n={event:e,listener:null};this.events.push(n),this.hasListeners&&this.hook(n);return Object(r.f)(function(e){var t,n=this,i=!1;return function(){return i?t:(i=!0,t=e.apply(n,arguments))}}(function(){t.hasListeners&&t.unhook(n);var e=t.events.indexOf(n);t.events.splice(e,1)}))},e.prototype.onFirstListenerAdd=function(){var e=this;this.hasListeners=!0,this.events.forEach(function(t){return e.hook(t)})},e.prototype.onLastListenerRemove=function(){var e=this;this.hasListeners=!1,this.events.forEach(function(t){return e.unhook(t)})},e.prototype.hook=function(e){var t=this;e.listener=e.event(function(e){return t.emitter.fire(e)})},e.prototype.unhook=function(e){e.listener.dispose(),e.listener=null},e.prototype.dispose=function(){this.emitter.dispose()},e}();function c(e){return function(t,n,i){void 0===n&&(n=null);var o=e(function(e){return o.dispose(),t.call(n,e)},null,i);return o}}function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t,n,i){return void 0===n&&(n=null),Object(r.c)(e.map(function(e){return e(function(e){return t.call(n,e)},null,i)}))}}function d(e,t,n,i){var o;void 0===n&&(n=100),void 0===i&&(i=!1);var r=void 0,a=void 0,l=0,c=new s({onFirstListenerAdd:function(){o=e(function(e){l++,r=t(r,e),i&&!a&&c.fire(r),clearTimeout(a),a=setTimeout(function(){var e=r;r=void 0,a=void 0,(!i||l>1)&&c.fire(e),l=0},n)})},onLastListenerRemove:function(){o.dispose()}});return c.event}var h=function(){function e(){this.buffers=[]}return e.prototype.wrapEvent=function(e){var t=this;return function(n,i,o){return e(function(e){var o=t.buffers[t.buffers.length-1];o?o.push(function(){return n.call(i,e)}):n.call(i,e)},void 0,o)}},e.prototype.bufferEvents=function(e){var t=[];this.buffers.push(t),e(),this.buffers.pop(),t.forEach(function(e){return e()})},e}();function f(e,t){return function(n,i,o){return void 0===i&&(i=null),e(function(e){return n.call(i,t(e))},null,o)}}function p(e,t){return function(n,i,o){return void 0===i&&(i=null),e(function(e){return t(e)&&n.call(i,e)},null,o)}}var m=function(){function e(e){this._event=e}return Object.defineProperty(e.prototype,"event",{get:function(){return this._event},enumerable:!0,configurable:!0}),e.prototype.map=function(t){return new e(f(this._event,t))},e.prototype.filter=function(t){return new e(p(this._event,t))},e.prototype.on=function(e,t,n){return this._event(e,t,n)},e}();function g(e){return new m(e)}var b=function(){function e(){this.emitter=new s,this.event=this.emitter.event,this.disposable=r.a.None}return Object.defineProperty(e.prototype,"input",{set:function(e){this.disposable.dispose(),this.disposable=e(this.emitter.fire,this.emitter)},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.disposable.dispose(),this.emitter.dispose()},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i,o=n(13);!function(e){e.editorTextFocus=new o.f("editorTextFocus",!1),e.focus=new o.f("editorFocus",!1),e.textInputFocus=new o.f("textInputFocus",!1),e.readOnly=new o.f("editorReadonly",!1),e.writable=e.readOnly.toNegated(),e.hasNonEmptySelection=new o.f("editorHasSelection",!1),e.hasOnlyEmptySelection=e.hasNonEmptySelection.toNegated(),e.hasMultipleSelections=new o.f("editorHasMultipleSelections",!1),e.hasSingleSelection=e.hasMultipleSelections.toNegated(),e.tabMovesFocus=new o.f("editorTabMovesFocus",!1),e.tabDoesNotMoveFocus=e.tabMovesFocus.toNegated(),e.isInEmbeddedEditor=new o.f("isInEmbeddedEditor",void 0),e.canUndo=new o.f("canUndo",!1),e.canRedo=new o.f("canRedo",!1),e.languageId=new o.f("editorLangId",void 0),e.hasCompletionItemProvider=new o.f("editorHasCompletionItemProvider",void 0),e.hasCodeActionsProvider=new o.f("editorHasCodeActionsProvider",void 0),e.hasCodeLensProvider=new o.f("editorHasCodeLensProvider",void 0),e.hasDefinitionProvider=new o.f("editorHasDefinitionProvider",void 0),e.hasImplementationProvider=new o.f("editorHasImplementationProvider",void 0),e.hasTypeDefinitionProvider=new o.f("editorHasTypeDefinitionProvider",void 0),e.hasHoverProvider=new o.f("editorHasHoverProvider",void 0),e.hasDocumentHighlightProvider=new o.f("editorHasDocumentHighlightProvider",void 0),e.hasDocumentSymbolProvider=new o.f("editorHasDocumentSymbolProvider",void 0),e.hasReferenceProvider=new o.f("editorHasReferenceProvider",void 0),e.hasRenameProvider=new o.f("editorHasRenameProvider",void 0),e.hasDocumentFormattingProvider=new o.f("editorHasDocumentFormattingProvider",void 0),e.hasDocumentSelectionFormattingProvider=new o.f("editorHasDocumentSelectionFormattingProvider",void 0),e.hasSignatureHelpProvider=new o.f("editorHasSignatureHelpProvider",void 0)}(i||(i={}))},function(e,t,n){"use strict";function i(e){return"function"===typeof e.dispose&&0===e.dispose.length}function o(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return Array.isArray(e)?(e.forEach(function(e){return e&&e.dispose()}),[]):0===t.length?e?(e.dispose(),e):void 0:(o(e),o(t),[])}function r(e){return{dispose:function(){return o(e)}}}function a(e){return{dispose:function(){e()}}}n.d(t,"e",function(){return i}),n.d(t,"d",function(){return o}),n.d(t,"c",function(){return r}),n.d(t,"f",function(){return a}),n.d(t,"a",function(){return s}),n.d(t,"b",function(){return l});var s=function(){function e(){this._toDispose=[]}return Object.defineProperty(e.prototype,"toDispose",{get:function(){return this._toDispose},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._toDispose=o(this._toDispose)},e.prototype._register=function(e){return this._toDispose.push(e),e},e.None=Object.freeze({dispose:function(){}}),e}(),l=function(){function e(e){this.object=e}return e.prototype.dispose=function(){},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"kb",function(){return l}),n.d(t,"I",function(){return c}),n.d(t,"G",function(){return u}),n.d(t,"H",function(){return d}),n.d(t,"e",function(){return h}),n.d(t,"b",function(){return f}),n.d(t,"qb",function(){return p}),n.d(t,"pb",function(){return m}),n.d(t,"rb",function(){return g}),n.d(t,"K",function(){return b}),n.d(t,"M",function(){return y}),n.d(t,"L",function(){return v}),n.d(t,"J",function(){return w}),n.d(t,"P",function(){return _}),n.d(t,"Q",function(){return S}),n.d(t,"R",function(){return C}),n.d(t,"S",function(){return x}),n.d(t,"N",function(){return k}),n.d(t,"O",function(){return T}),n.d(t,"W",function(){return O}),n.d(t,"X",function(){return N}),n.d(t,"T",function(){return L}),n.d(t,"U",function(){return I}),n.d(t,"cb",function(){return E}),n.d(t,"db",function(){return D}),n.d(t,"bb",function(){return A}),n.d(t,"Z",function(){return M}),n.d(t,"ab",function(){return P}),n.d(t,"V",function(){return R}),n.d(t,"Y",function(){return F}),n.d(t,"ib",function(){return j}),n.d(t,"hb",function(){return W}),n.d(t,"c",function(){return V}),n.d(t,"d",function(){return B}),n.d(t,"lb",function(){return H}),n.d(t,"nb",function(){return z}),n.d(t,"ob",function(){return U}),n.d(t,"mb",function(){return q}),n.d(t,"jb",function(){return G}),n.d(t,"n",function(){return K}),n.d(t,"u",function(){return Y}),n.d(t,"D",function(){return Z}),n.d(t,"E",function(){return $}),n.d(t,"F",function(){return X}),n.d(t,"z",function(){return Q}),n.d(t,"A",function(){return J}),n.d(t,"y",function(){return ee}),n.d(t,"B",function(){return te}),n.d(t,"C",function(){return ne}),n.d(t,"o",function(){return ie}),n.d(t,"q",function(){return oe}),n.d(t,"s",function(){return re}),n.d(t,"p",function(){return ae}),n.d(t,"r",function(){return se}),n.d(t,"t",function(){return le}),n.d(t,"x",function(){return ce}),n.d(t,"v",function(){return ue}),n.d(t,"w",function(){return de}),n.d(t,"m",function(){return he}),n.d(t,"f",function(){return fe}),n.d(t,"g",function(){return pe}),n.d(t,"i",function(){return me}),n.d(t,"k",function(){return ge}),n.d(t,"j",function(){return be}),n.d(t,"l",function(){return ye}),n.d(t,"h",function(){return ve}),n.d(t,"fb",function(){return _e}),n.d(t,"gb",function(){return Se}),n.d(t,"eb",function(){return xe});var i=n(60),o=n(17),r=n(0),a={ColorContribution:"base.contributions.colors"},s=new(function(){function e(){this.colorSchema={type:"object",description:r.a("schema.colors","Colors used in the workbench."),properties:{},additionalProperties:!1},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}return e.prototype.registerColor=function(e,t,n,i,o){void 0===i&&(i=!1);var r={id:e,description:n,defaults:t,needsTransparency:i,deprecationMessage:o};this.colorsById[e]=r;var a={type:"string",description:n,format:"color-hex",default:"#ff0000"};return o&&(a.deprecationMessage=o),this.colorSchema.properties[e]=a,this.colorReferenceSchema.enum.push(e),this.colorReferenceSchema.enumDescriptions.push(n),e},e.prototype.resolveDefaultColor=function(e,t){var n=this.colorsById[e];return n&&n.defaults?Te(n.defaults[t.type],t):null},e.prototype.toString=function(){var e=this;return Object.keys(this.colorsById).sort(function(e,t){var n=-1===e.indexOf(".")?0:1,i=-1===t.indexOf(".")?0:1;return n!==i?n-i:e.localeCompare(t)}).map(function(t){return"- `"+t+"`: "+e.colorsById[t].description}).join("\n")},e}());function l(e,t,n,i,o){return s.registerColor(e,t,n,i,o)}i.a.add(a.ColorContribution,s);var c=l("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},r.a("foreground","Overall foreground color. This color is only used if not overridden by a component.")),u=l("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},r.a("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),d=l("focusBorder",{dark:o.a.fromHex("#0E639C").transparent(.6),light:o.a.fromHex("#007ACC").transparent(.4),hc:"#F38518"},r.a("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),h=l("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},r.a("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),f=l("contrastActiveBorder",{light:null,dark:null,hc:d},r.a("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),p=l("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},r.a("textLinkForeground","Foreground color for links in text.")),m=l("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:o.a.black},r.a("textCodeBlockBackground","Background color for code blocks in text.")),g=l("widget.shadow",{dark:"#000000",light:"#A8A8A8",hc:null},r.a("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),b=l("input.background",{dark:"#3C3C3C",light:o.a.white,hc:o.a.black},r.a("inputBoxBackground","Input box background.")),y=l("input.foreground",{dark:c,light:c,hc:c},r.a("inputBoxForeground","Input box foreground.")),v=l("input.border",{dark:null,light:null,hc:h},r.a("inputBoxBorder","Input box border.")),w=l("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hc:f},r.a("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),_=l("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:o.a.black},r.a("inputValidationInfoBackground","Input validation background color for information severity.")),S=l("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:h},r.a("inputValidationInfoBorder","Input validation border color for information severity.")),C=l("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:o.a.black},r.a("inputValidationWarningBackground","Input validation background color for warning severity.")),x=l("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:h},r.a("inputValidationWarningBorder","Input validation border color for warning severity.")),k=l("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:o.a.black},r.a("inputValidationErrorBackground","Input validation background color for error severity.")),T=l("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:h},r.a("inputValidationErrorBorder","Input validation border color for error severity.")),O=l("list.focusBackground",{dark:"#062F4A",light:"#DFF0FF",hc:null},r.a("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),N=l("list.focusForeground",{dark:null,light:null,hc:null},r.a("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),L=l("list.activeSelectionBackground",{dark:"#094771",light:"#2477CE",hc:null},r.a("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),I=l("list.activeSelectionForeground",{dark:o.a.white,light:o.a.white,hc:null},r.a("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),E=l("list.inactiveSelectionBackground",{dark:"#37373D",light:"#dddfea",hc:null},r.a("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),D=l("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},r.a("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),A=l("list.inactiveFocusBackground",{dark:"#313135",light:"#d8dae6",hc:null},r.a("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),M=l("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},r.a("listHoverBackground","List/Tree background when hovering over items using the mouse.")),P=l("list.hoverForeground",{dark:null,light:null,hc:null},r.a("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),R=l("list.dropBackground",{dark:O,light:O,hc:null},r.a("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),F=l("list.highlightForeground",{dark:"#0097fb",light:"#007acc",hc:d},r.a("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),j=l("pickerGroup.foreground",{dark:"#3794FF",light:"#006AB1",hc:o.a.white},r.a("pickerGroupForeground","Quick picker color for grouping labels.")),W=l("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:o.a.white},r.a("pickerGroupBorder","Quick picker color for grouping borders.")),V=l("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:o.a.black},r.a("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),B=l("badge.foreground",{dark:o.a.white,light:"#333",hc:o.a.white},r.a("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),H=l("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},r.a("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),z=l("scrollbarSlider.background",{dark:o.a.fromHex("#797979").transparent(.4),light:o.a.fromHex("#646464").transparent(.4),hc:Ce(h,.6)},r.a("scrollbarSliderBackground","Scrollbar slider background color.")),U=l("scrollbarSlider.hoverBackground",{dark:o.a.fromHex("#646464").transparent(.7),light:o.a.fromHex("#646464").transparent(.7),hc:Ce(h,.8)},r.a("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),q=l("scrollbarSlider.activeBackground",{dark:o.a.fromHex("#BFBFBF").transparent(.4),light:o.a.fromHex("#000000").transparent(.6),hc:h},r.a("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),G=l("progressBar.background",{dark:o.a.fromHex("#0E70C0"),light:o.a.fromHex("#0E70C0"),hc:h},r.a("progressBarBackground","Background color of the progress bar that can show for long running operations.")),K=l("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:o.a.black},r.a("editorBackground","Editor background color.")),Y=l("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:o.a.white},r.a("editorForeground","Editor default foreground color.")),Z=l("editorWidget.background",{dark:"#2D2D30",light:"#EFEFF2",hc:"#0C141F"},r.a("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),$=l("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:h},r.a("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),X=l("editorWidget.resizeBorder",{light:null,dark:null,hc:null},r.a("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),Q=l("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},r.a("editorSelectionBackground","Color of the editor selection.")),J=l("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},r.a("editorSelectionForeground","Color of the selected text for high contrast.")),ee=l("editor.inactiveSelectionBackground",{light:Ce(Q,.5),dark:Ce(Q,.5),hc:Ce(Q,.5)},r.a("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque to not hide underlying decorations."),!0),te=l("editor.selectionHighlightBackground",{light:ke(Q,K,.3,.6),dark:ke(Q,K,.3,.6),hc:null},r.a("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque to not hide underlying decorations."),!0),ne=l("editor.selectionHighlightBorder",{light:null,dark:null,hc:f},r.a("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),ie=l("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},r.a("editorFindMatch","Color of the current search match.")),oe=l("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},r.a("findMatchHighlight","Color of the other search matches. The color must not be opaque to not hide underlying decorations."),!0),re=l("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},r.a("findRangeHighlight","Color of the range limiting the search. The color must not be opaque to not hide underlying decorations."),!0),ae=l("editor.findMatchBorder",{light:null,dark:null,hc:f},r.a("editorFindMatchBorder","Border color of the current search match.")),se=l("editor.findMatchHighlightBorder",{light:null,dark:null,hc:f},r.a("findMatchHighlightBorder","Border color of the other search matches.")),le=l("editor.findRangeHighlightBorder",{dark:null,light:null,hc:Ce(f,.4)},r.a("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque to not hide underlying decorations."),!0),ce=l("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},r.a("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque to not hide underlying decorations."),!0),ue=l("editorHoverWidget.background",{light:Z,dark:Z,hc:Z},r.a("hoverBackground","Background color of the editor hover.")),de=l("editorHoverWidget.border",{light:$,dark:$,hc:$},r.a("hoverBorder","Border color of the editor hover.")),he=l("editorLink.activeForeground",{dark:"#4E94CE",light:o.a.blue,hc:o.a.cyan},r.a("activeLinkForeground","Color of active links.")),fe=new o.a(new o.c(155,185,85,.2)),pe=new o.a(new o.c(255,0,0,.2)),me=l("diffEditor.insertedTextBackground",{dark:fe,light:fe,hc:null},r.a("diffEditorInserted","Background color for text that got inserted. The color must not be opaque to not hide underlying decorations."),!0),ge=l("diffEditor.removedTextBackground",{dark:pe,light:pe,hc:null},r.a("diffEditorRemoved","Background color for text that got removed. The color must not be opaque to not hide underlying decorations."),!0),be=l("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},r.a("diffEditorInsertedOutline","Outline color for the text that got inserted.")),ye=l("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},r.a("diffEditorRemovedOutline","Outline color for text that got removed.")),ve=l("diffEditor.border",{dark:null,light:null,hc:h},r.a("diffEditorBorder","Border color between the two text editors.")),we=new o.a(new o.c(246,185,77,.7)),_e=l("editorOverviewRuler.findMatchForeground",{dark:we,light:we,hc:we},r.a("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque to not hide underlying decorations."),!0),Se=l("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},r.a("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque to not hide underlying decorations."),!0);function Ce(e,t){return function(n){var i=Te(e,n);return i?i.transparent(t):null}}function xe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){for(var n=0,i=e;n<i.length;n++){var o=Te(i[n],t);if(o)return o}return null}}function ke(e,t,n,i){return function(r){var a=Te(e,r);if(a){var s=Te(t,r);return s?a.isDarkerThan(s)?o.a.getLighterColor(a,s,n).transparent(i):o.a.getDarkerColor(a,s,n).transparent(i):a.transparent(n*i)}return null}}function Te(e,t){return null===e?null:"string"===typeof e?"#"===e[0]?o.a.fromHex(e):t.getColor(e):e instanceof o.a?e:"function"===typeof e?e(t):null}},function(e,t,n){"use strict";n.r(t),n.d(t,"empty",function(){return i}),n.d(t,"isFalsyOrWhitespace",function(){return o}),n.d(t,"pad",function(){return r}),n.d(t,"format",function(){return s}),n.d(t,"escape",function(){return l}),n.d(t,"escapeRegExpCharacters",function(){return c}),n.d(t,"trim",function(){return u}),n.d(t,"ltrim",function(){return d}),n.d(t,"rtrim",function(){return h}),n.d(t,"convertSimple2RegExpPattern",function(){return f}),n.d(t,"startsWith",function(){return p}),n.d(t,"endsWith",function(){return m}),n.d(t,"createRegExp",function(){return g}),n.d(t,"regExpLeadsToEndlessLoop",function(){return b}),n.d(t,"firstNonWhitespaceIndex",function(){return y}),n.d(t,"getLeadingWhitespace",function(){return v}),n.d(t,"lastNonWhitespaceIndex",function(){return w}),n.d(t,"compare",function(){return _}),n.d(t,"compareIgnoreCase",function(){return S}),n.d(t,"isLowerAsciiLetter",function(){return C}),n.d(t,"isUpperAsciiLetter",function(){return x}),n.d(t,"equalsIgnoreCase",function(){return T}),n.d(t,"startsWithIgnoreCase",function(){return N}),n.d(t,"commonPrefixLength",function(){return L}),n.d(t,"commonSuffixLength",function(){return I}),n.d(t,"isHighSurrogate",function(){return E}),n.d(t,"isLowSurrogate",function(){return D}),n.d(t,"containsRTL",function(){return M}),n.d(t,"containsEmoji",function(){return R}),n.d(t,"isBasicASCII",function(){return j}),n.d(t,"containsFullWidthCharacter",function(){return W}),n.d(t,"isFullWidthCharacter",function(){return V}),n.d(t,"UTF8_BOM_CHARACTER",function(){return B}),n.d(t,"startsWithUTF8BOM",function(){return H}),n.d(t,"safeBtoa",function(){return z}),n.d(t,"repeat",function(){return U});var i="";function o(e){return!e||"string"!==typeof e||0===e.trim().length}function r(e,t,n){void 0===n&&(n="0");for(var i=""+e,o=[i],r=i.length;r<t;r++)o.push(n);return o.reverse().join("")}var a=/{(\d+)}/g;function s(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return 0===t.length?e:e.replace(a,function(e,n){var i=parseInt(n,10);return isNaN(i)||i<0||i>=t.length?e:t[i]})}function l(e){return e.replace(/[<|>|&]/g,function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return e}})}function c(e){return e.replace(/[\-\\\{\}\*\+\?\|\^\$\.\[\]\(\)\#]/g,"\\$&")}function u(e,t){return void 0===t&&(t=" "),h(d(e,t),t)}function d(e,t){if(!e||!t)return e;var n=t.length;if(0===n||0===e.length)return e;for(var i=0;e.indexOf(t,i)===i;)i+=n;return e.substring(i)}function h(e,t){if(!e||!t)return e;var n=t.length,i=e.length;if(0===n||0===i)return e;for(var o=i,r=-1;-1!==(r=e.lastIndexOf(t,o-1))&&r+n===o;){if(0===r)return"";o=r}return e.substring(0,o)}function f(e){return e.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function p(e,t){if(e.length<t.length)return!1;if(e===t)return!0;for(var n=0;n<t.length;n++)if(e[n]!==t[n])return!1;return!0}function m(e,t){var n=e.length-t.length;return n>0?e.indexOf(t,n)===n:0===n&&e===t}function g(e,t,n){if(void 0===n&&(n={}),!e)throw new Error("Cannot create regex from empty string");t||(e=c(e)),n.wholeWord&&(/\B/.test(e.charAt(0))||(e="\\b"+e),/\B/.test(e.charAt(e.length-1))||(e+="\\b"));var i="";return n.global&&(i+="g"),n.matchCase||(i+="i"),n.multiline&&(i+="m"),new RegExp(e,i)}function b(e){return"^"!==e.source&&"^$"!==e.source&&"$"!==e.source&&"^\\s*$"!==e.source&&(e.exec("")&&0===e.lastIndex)}function y(e){for(var t=0,n=e.length;t<n;t++){var i=e.charCodeAt(t);if(32!==i&&9!==i)return t}return-1}function v(e,t,n){void 0===t&&(t=0),void 0===n&&(n=e.length);for(var i=t;i<n;i++){var o=e.charCodeAt(i);if(32!==o&&9!==o)return e.substring(t,i)}return e.substring(t,n)}function w(e,t){void 0===t&&(t=e.length-1);for(var n=t;n>=0;n--){var i=e.charCodeAt(n);if(32!==i&&9!==i)return n}return-1}function _(e,t){return e<t?-1:e>t?1:0}function S(e,t){for(var n=Math.min(e.length,t.length),i=0;i<n;i++){var o=e.charCodeAt(i),r=t.charCodeAt(i);if(o!==r){x(o)&&(o+=32),x(r)&&(r+=32);var a=o-r;if(0!==a)return C(o)&&C(r)?a:_(e.toLowerCase(),t.toLowerCase())}}return e.length<t.length?-1:e.length>t.length?1:0}function C(e){return e>=97&&e<=122}function x(e){return e>=65&&e<=90}function k(e){return C(e)||x(e)}function T(e,t){return(e?e.length:0)===(t?t.length:0)&&O(e,t)}function O(e,t,n){if(void 0===n&&(n=e.length),"string"!==typeof e||"string"!==typeof t)return!1;for(var i=0;i<n;i++){var o=e.charCodeAt(i),r=t.charCodeAt(i);if(o!==r)if(k(o)&&k(r)){var a=Math.abs(o-r);if(0!==a&&32!==a)return!1}else if(String.fromCharCode(o).toLowerCase()!==String.fromCharCode(r).toLowerCase())return!1}return!0}function N(e,t){var n=t.length;return!(t.length>e.length)&&O(e,t,n)}function L(e,t){var n,i=Math.min(e.length,t.length);for(n=0;n<i;n++)if(e.charCodeAt(n)!==t.charCodeAt(n))return n;return i}function I(e,t){var n,i=Math.min(e.length,t.length),o=e.length-1,r=t.length-1;for(n=0;n<i;n++)if(e.charCodeAt(o-n)!==t.charCodeAt(r-n))return n;return i}function E(e){return 55296<=e&&e<=56319}function D(e){return 56320<=e&&e<=57343}var A=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u08BD\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE33\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDCFF]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD50-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function M(e){return A.test(e)}var P=/(?:[\u231A\u231B\u23F0\u23F3\u2600-\u27BF\u2B50\u2B55]|\uD83C[\uDDE6-\uDDFF\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEF8]|\uD83E[\uDD00-\uDDE6])/;function R(e){return P.test(e)}var F=/^[\t\n\r\x20-\x7E]*$/;function j(e){return F.test(e)}function W(e){for(var t=0,n=e.length;t<n;t++)if(V(e.charCodeAt(t)))return!0;return!1}function V(e){return(e=+e)>=11904&&e<=55215||e>=63744&&e<=64255||e>=65281&&e<=65374}var B=String.fromCharCode(65279);function H(e){return e&&e.length>0&&65279===e.charCodeAt(0)}function z(e){return btoa(encodeURIComponent(e))}function U(e,t){for(var n="",i=0;i<t;i++)n+=e;return n}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(){function e(e,t){this.lineNumber=e,this.column=t}return e.prototype.equals=function(t){return e.equals(this,t)},e.equals=function(e,t){return!e&&!t||!!e&&!!t&&e.lineNumber===t.lineNumber&&e.column===t.column},e.prototype.isBefore=function(t){return e.isBefore(this,t)},e.isBefore=function(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<t.column},e.prototype.isBeforeOrEqual=function(t){return e.isBeforeOrEqual(this,t)},e.isBeforeOrEqual=function(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<=t.column},e.compare=function(e,t){var n=0|e.lineNumber,i=0|t.lineNumber;return n===i?(0|e.column)-(0|t.column):n-i},e.prototype.clone=function(){return new e(this.lineNumber,this.column)},e.prototype.toString=function(){return"("+this.lineNumber+","+this.column+")"},e.lift=function(t){return new e(t.lineNumber,t.column)},e.isIPosition=function(e){return e&&"number"===typeof e.lineNumber&&"number"===typeof e.column},e}()},function(e,t,n){"use strict";(function(e,i){var o;n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a}),function(){var t=Object.create(null);t["WinJS/Core/_WinJS"]={};var n=function(e,n,i){var o={},r=!1,a=n.map(function(e){return"exports"===e?(r=!0,o):t[e]}),s=i.apply({},a);t[e]=r?o:s};n("WinJS/Core/_Global",[],function(){return"undefined"!==typeof window?window:"undefined"!==typeof self?self:"undefined"!==typeof e?e:{}}),n("WinJS/Core/_BaseCoreUtils",["WinJS/Core/_Global"],function(e){var t=null;return{hasWinRT:!!e.Windows,markSupportedForProcessing:function(e){return e.supportedForProcessing=!0,e},_setImmediate:function(n){null===t&&(t=e.setImmediate?e.setImmediate.bind(e):"undefined"!==typeof i&&"function"===typeof i.nextTick?i.nextTick.bind(i):e.setTimeout.bind(e)),t(n)}}}),n("WinJS/Core/_WriteProfilerMark",["WinJS/Core/_Global"],function(e){return e.msWriteProfilerMark||function(){}}),n("WinJS/Core/_Base",["WinJS/Core/_WinJS","WinJS/Core/_Global","WinJS/Core/_BaseCoreUtils","WinJS/Core/_WriteProfilerMark"],function(e,t,n,i){function o(e,t,n){var i,o,r,a=Object.keys(t),s=Array.isArray(e);for(o=0,r=a.length;o<r;o++){var l=a[o],c=95!==l.charCodeAt(0),u=t[l];!u||"object"!==typeof u||void 0===u.value&&"function"!==typeof u.get&&"function"!==typeof u.set?c?s?e.forEach(function(e){e[l]=u}):e[l]=u:(i=i||{})[l]={value:u,enumerable:c,configurable:!0,writable:!0}:(void 0===u.enumerable&&(u.enumerable=c),n&&u.setName&&"function"===typeof u.setName&&u.setName(n+"."+l),(i=i||{})[l]=u)}i&&(s?e.forEach(function(e){Object.defineProperties(e,i)}):Object.defineProperties(e,i))}return function(){var n=e;function r(n,i){var o=n||{};if(i){var r=i.split(".");o===t&&"WinJS"===r[0]&&(o=e,r.splice(0,1));for(var a=0,s=r.length;a<s;a++){var l=r[a];o[l]||Object.defineProperty(o,l,{value:{},writable:!1,enumerable:!0,configurable:!0}),o=o[l]}}return o}function a(e,t,n){var i=r(e,t);return n&&o(i,n,t||"<ANONYMOUS>"),i}n.Namespace||(n.Namespace=Object.create(Object.prototype));var s={uninitialized:1,working:2,initialized:3};Object.defineProperties(n.Namespace,{defineWithParent:{value:a,writable:!0,enumerable:!0,configurable:!0},define:{value:function(e,n){return a(t,e,n)},writable:!0,enumerable:!0,configurable:!0},_lazy:{value:function(e){var t,n,o=s.uninitialized;return{setName:function(e){t=e},get:function(){switch(o){case s.initialized:return n;case s.uninitialized:o=s.working;try{i("WinJS.Namespace._lazy:"+t+",StartTM"),n=e()}finally{i("WinJS.Namespace._lazy:"+t+",StopTM"),o=s.uninitialized}return e=null,o=s.initialized,n;case s.working:throw"Illegal: reentrancy on initialization";default:throw"Illegal"}},set:function(e){switch(o){case s.working:throw"Illegal: reentrancy on initialization";default:o=s.initialized,n=e}},enumerable:!0,configurable:!0}},writable:!0,enumerable:!0,configurable:!0},_moduleDefine:{value:function(e,n,i){var a=[e],s=null;return n&&(s=r(t,n),a.push(s)),o(a,i,n||"<ANONYMOUS>"),s},writable:!0,enumerable:!0,configurable:!0}})}(),function(){function t(e,t,i){return e=e||function(){},n.markSupportedForProcessing(e),t&&o(e.prototype,t),i&&o(e,i),e}e.Namespace.define("WinJS.Class",{define:t,derive:function(e,i,r,a){if(e){i=i||function(){};var s=e.prototype;return i.prototype=Object.create(s),n.markSupportedForProcessing(i),Object.defineProperty(i.prototype,"constructor",{value:i,writable:!0,configurable:!0,enumerable:!0}),r&&o(i.prototype,r),a&&o(i,a),i}return t(i,r,a)},mix:function(e){var t,n;for(e=e||function(){},t=1,n=arguments.length;t<n;t++)o(e.prototype,arguments[t]);return e}})}(),{Namespace:e.Namespace,Class:e.Class}}),n("WinJS/Core/_ErrorFromName",["WinJS/Core/_Base"],function(e){var t=e.Class.derive(Error,function(e,t){this.name=e,this.message=t||e},{},{supportedForProcessing:!1});return e.Namespace.define("WinJS",{ErrorFromName:t}),t}),n("WinJS/Core/_Events",["exports","WinJS/Core/_Base"],function(e,t){function n(e){var t="_on"+e+"state";return{get:function(){var e=this[t];return e&&e.userHandler},set:function(n){var i=this[t];n?(i||(i={wrapper:function(e){return i.userHandler(e)},userHandler:n},Object.defineProperty(this,t,{value:i,enumerable:!1,writable:!0,configurable:!0}),this.addEventListener(e,i.wrapper,!1)),i.userHandler=n):i&&(this.removeEventListener(e,i.wrapper,!1),this[t]=null)},enumerable:!0}}var i=t.Class.define(function(e,t,n){this.detail=t,this.target=n,this.timeStamp=Date.now(),this.type=e},{bubbles:{value:!1,writable:!1},cancelable:{value:!1,writable:!1},currentTarget:{get:function(){return this.target}},defaultPrevented:{get:function(){return this._preventDefaultCalled}},trusted:{value:!1,writable:!1},eventPhase:{value:0,writable:!1},target:null,timeStamp:null,type:null,preventDefault:function(){this._preventDefaultCalled=!0},stopImmediatePropagation:function(){this._stopImmediatePropagationCalled=!0},stopPropagation:function(){}},{supportedForProcessing:!1}),o={_listeners:null,addEventListener:function(e,t,n){n=n||!1,this._listeners=this._listeners||{};for(var i=this._listeners[e]=this._listeners[e]||[],o=0,r=i.length;o<r;o++){var a=i[o];if(a.useCapture===n&&a.listener===t)return}i.push({listener:t,useCapture:n})},dispatchEvent:function(e,t){var n=this._listeners&&this._listeners[e];if(n){for(var o=new i(e,t,this),r=0,a=(n=n.slice(0,n.length)).length;r<a&&!o._stopImmediatePropagationCalled;r++)n[r].listener(o);return o.defaultPrevented||!1}return!1},removeEventListener:function(e,t,n){n=n||!1;var i=this._listeners&&this._listeners[e];if(i)for(var o=0,r=i.length;o<r;o++){var a=i[o];if(a.listener===t&&a.useCapture===n){i.splice(o,1),0===i.length&&delete this._listeners[e];break}}}};t.Namespace._moduleDefine(e,"WinJS.Utilities",{_createEventProperty:n,createEventProperties:function(){for(var e={},t=0,i=arguments.length;t<i;t++){var o=arguments[t];e["on"+o]=n(o)}return e},eventMixin:o})}),n("WinJS/Core/_Trace",["WinJS/Core/_Global"],function(e){function t(e){return e}return{_traceAsyncOperationStarting:e.Debug&&e.Debug.msTraceAsyncOperationStarting&&e.Debug.msTraceAsyncOperationStarting.bind(e.Debug)||t,_traceAsyncOperationCompleted:e.Debug&&e.Debug.msTraceAsyncOperationCompleted&&e.Debug.msTraceAsyncOperationCompleted.bind(e.Debug)||t,_traceAsyncCallbackStarting:e.Debug&&e.Debug.msTraceAsyncCallbackStarting&&e.Debug.msTraceAsyncCallbackStarting.bind(e.Debug)||t,_traceAsyncCallbackCompleted:e.Debug&&e.Debug.msTraceAsyncCallbackCompleted&&e.Debug.msTraceAsyncCallbackCompleted.bind(e.Debug)||t}}),n("WinJS/Promise/_StateMachine",["WinJS/Core/_Global","WinJS/Core/_BaseCoreUtils","WinJS/Core/_Base","WinJS/Core/_ErrorFromName","WinJS/Core/_Events","WinJS/Core/_Trace"],function(e,t,n,i,o,r){e.Debug&&(e.Debug.setNonUserCodeExceptions=!0);var a=new(n.Class.mix(n.Class.define(null,{},{supportedForProcessing:!1}),o.eventMixin));a._listeners={};var s="error",l="Canceled",c=!1,u={promise:1,thenPromise:2,errorPromise:4,exceptionPromise:8,completePromise:16};u.all=u.promise|u.thenPromise|u.errorPromise|u.exceptionPromise|u.completePromise;var d,h,f,p,m,g,b,y,v,w,_=1;function S(){}d={name:"created",enter:function(e){e._setState(h)},cancel:S,done:S,then:S,_completed:S,_error:S,_notify:S,_progress:S,_setCompleteValue:S,_setErrorValue:S},h={name:"working",enter:S,cancel:function(e){e._setState(m)},done:I,then:V,_completed:x,_error:E,_notify:S,_progress:P,_setCompleteValue:W,_setErrorValue:j},f={name:"waiting",enter:function(e){var t=e._value;if(t instanceof H&&t._state!==w&&t._state!==y)R(t,{promise:e});else{var n=function(i){t._errorId?e._chainedError(i,t):(M(e,i,T,t,n),e._error(i))};n.handlesOnError=!0,t.then(e._completed.bind(e),n,e._progress.bind(e))}},cancel:function(e){e._setState(p)},done:I,then:V,_completed:x,_error:E,_notify:S,_progress:P,_setCompleteValue:W,_setErrorValue:j},p={name:"waiting_canceled",enter:function(e){e._setState(g);var t=e._value;t.cancel&&t.cancel()},cancel:S,done:I,then:V,_completed:x,_error:E,_notify:S,_progress:P,_setCompleteValue:W,_setErrorValue:j},m={name:"canceled",enter:function(e){e._setState(g),e._cancelAction()},cancel:S,done:I,then:V,_completed:x,_error:E,_notify:S,_progress:P,_setCompleteValue:W,_setErrorValue:j},g={name:"canceling",enter:function(e){var t=new Error(l);t.name=t.message,e._value=t,e._setState(v)},cancel:S,done:S,then:S,_completed:S,_error:S,_notify:S,_progress:S,_setCompleteValue:S,_setErrorValue:S},b={name:"complete_notify",enter:function(e){if(e.done=q.prototype.done,e.then=q.prototype.then,e._listeners)for(var t,n=[e];n.length;)(t=n.shift())._state._notify(t,n);e._setState(y)},cancel:S,done:null,then:null,_completed:S,_error:S,_notify:D,_progress:S,_setCompleteValue:S,_setErrorValue:S},y={name:"success",enter:function(e){e.done=q.prototype.done,e.then=q.prototype.then,e._cleanupAction()},cancel:S,done:null,then:null,_completed:S,_error:S,_notify:D,_progress:S,_setCompleteValue:S,_setErrorValue:S},v={name:"error_notify",enter:function(e){if(e.done=z.prototype.done,e.then=z.prototype.then,e._listeners)for(var t,n=[e];n.length;)(t=n.shift())._state._notify(t,n);e._setState(w)},cancel:S,done:null,then:null,_completed:S,_error:S,_notify:A,_progress:S,_setCompleteValue:S,_setErrorValue:S},w={name:"error",enter:function(e){e.done=z.prototype.done,e.then=z.prototype.then,e._cleanupAction()},cancel:S,done:null,then:null,_completed:S,_error:S,_notify:A,_progress:S,_setCompleteValue:S,_setErrorValue:S};var C=n.Class.define(null,{_listeners:null,_nextState:null,_state:null,_value:null,cancel:function(){this._state.cancel(this),this._run()},done:function(e,t,n){this._state.done(this,e,t,n)},then:function e(t,n,i){if(this.then===e)return this._state.then(this,t,n,i);this.then(t,n,i)},_chainedError:function(e,t){var n=this._state._error(this,e,O,t);return this._run(),n},_completed:function(e){var t=this._state._completed(this,e);return this._run(),t},_error:function(e){var t=this._state._error(this,e,N);return this._run(),t},_progress:function(e){this._state._progress(this,e)},_setState:function(e){this._nextState=e},_setCompleteValue:function(e){this._state._setCompleteValue(this,e),this._run()},_setChainedErrorValue:function(e,t){var n=this._state._setErrorValue(this,e,O,t);return this._run(),n},_setExceptionValue:function(e){var t=this._state._setErrorValue(this,e,L);return this._run(),t},_run:function(){for(;this._nextState;)this._state=this._nextState,this._nextState=null,this._state.enter(this)}},{supportedForProcessing:!1});function x(e,t){var n;n=t&&"object"===typeof t&&"function"===typeof t.then?f:b,e._value=t,e._setState(n)}function k(e,t,n,i,o,r){return{exception:e,error:t,promise:n,handler:r,id:i,parent:o}}function T(e,t,n,i){var o=n._isException,r=n._errorId;return k(o?t:null,o?null:t,e,r,n,i)}function O(e,t,n){var i=n._isException,o=n._errorId;return F(e,o,i),k(i?t:null,i?null:t,e,o,n)}function N(e,t){var n=++_;return F(e,n),k(null,t,e,n)}function L(e,t){var n=++_;return F(e,n,!0),k(t,null,e,n)}function I(e,t,n,i){R(e,{c:t,e:n,p:i,asyncOpID:r._traceAsyncOperationStarting("WinJS.Promise.done")})}function E(e,t,n,i){e._value=t,M(e,t,n,i),e._setState(v)}function D(t,n){var i,o,a=t._value,s=t._listeners;if(s)for(t._listeners=null,i=0,o=Array.isArray(s)?s.length:1;i<o;i++){var l=1===o?s:s[i],c=l.c,u=l.promise;if(r._traceAsyncOperationCompleted(l.asyncOpID,e.Debug&&e.Debug.MS_ASYNC_OP_STATUS_SUCCESS),u){r._traceAsyncCallbackStarting(l.asyncOpID);try{u._setCompleteValue(c?c(a):a)}catch(e){u._setExceptionValue(e)}finally{r._traceAsyncCallbackCompleted()}u._state!==f&&u._listeners&&n.push(u)}else q.prototype.done.call(t,c)}}function A(t,n){var i,o,a=t._value,s=t._listeners;if(s)for(t._listeners=null,i=0,o=Array.isArray(s)?s.length:1;i<o;i++){var c=1===o?s:s[i],u=c.e,d=c.promise,h=e.Debug&&(a&&a.name===l?e.Debug.MS_ASYNC_OP_STATUS_CANCELED:e.Debug.MS_ASYNC_OP_STATUS_ERROR);if(r._traceAsyncOperationCompleted(c.asyncOpID,h),d){var p=!1;try{u?(r._traceAsyncCallbackStarting(c.asyncOpID),p=!0,u.handlesOnError||M(d,a,T,t,u),d._setCompleteValue(u(a))):d._setChainedErrorValue(a,t)}catch(e){d._setExceptionValue(e)}finally{p&&r._traceAsyncCallbackCompleted()}d._state!==f&&d._listeners&&n.push(d)}else z.prototype.done.call(t,null,u)}}function M(e,t,n,i,o){if(a._listeners[s]){if(t instanceof Error&&t.message===l)return;a.dispatchEvent(s,n(e,t,i,o))}}function P(e,t){var n,i,o=e._listeners;if(o)for(n=0,i=Array.isArray(o)?o.length:1;n<i;n++){var r=1===i?o:o[n],a=r.p;if(a)try{a(t)}catch(e){}r.c||r.e||!r.promise||r.promise._progress(t)}}function R(e,t){var n=e._listeners;n?(n=Array.isArray(n)?n:[n]).push(t):n=t,e._listeners=n}function F(e,t,n){e._isException=n||!1,e._errorId=t}function j(e,t,n,i){e._value=t,M(e,t,n,i),e._setState(w)}function W(e,t){var n;n=t&&"object"===typeof t&&"function"===typeof t.then?f:y,e._value=t,e._setState(n)}function V(e,t,n,i){var o=new H(e);return R(e,{promise:o,c:t,e:n,p:i,asyncOpID:r._traceAsyncOperationStarting("WinJS.Promise.then")}),o}var B,H=n.Class.derive(C,function(e){c&&(!0===c||c&u.thenPromise)&&(this._stack=G._getStack()),this._creator=e,this._setState(d),this._run()},{_creator:null,_cancelAction:function(){this._creator&&this._creator.cancel()},_cleanupAction:function(){this._creator=null}},{supportedForProcessing:!1}),z=n.Class.define(function(e){c&&(!0===c||c&u.errorPromise)&&(this._stack=G._getStack()),this._value=e,M(this,e,N)},{cancel:function(){},done:function(e,t){var n=this._value;if(t)try{t.handlesOnError||M(null,n,T,this,t);var i=t(n);return void(i&&"object"===typeof i&&"function"===typeof i.done&&i.done())}catch(e){n=e}n instanceof Error&&n.message===l||G._doneHandler(n)},then:function(e,t){if(!t)return this;var n,i=this._value;try{t.handlesOnError||M(null,i,T,this,t),n=new q(t(i))}catch(e){n=e===i?this:new U(e)}return n}},{supportedForProcessing:!1}),U=n.Class.derive(z,function(e){c&&(!0===c||c&u.exceptionPromise)&&(this._stack=G._getStack()),this._value=e,M(this,e,L)},{},{supportedForProcessing:!1}),q=n.Class.define(function(e){if(c&&(!0===c||c&u.completePromise)&&(this._stack=G._getStack()),e&&"object"===typeof e&&"function"===typeof e.then){var t=new H(null);return t._setCompleteValue(e),t}this._value=e},{cancel:function(){},done:function(e){if(e)try{var t=e(this._value);t&&"object"===typeof t&&"function"===typeof t.done&&t.done()}catch(e){G._doneHandler(e)}},then:function(e){try{var t=e?e(this._value):this._value;return t===this._value?this:new q(t)}catch(e){return new U(e)}}},{supportedForProcessing:!1});var G=n.Class.derive(C,function(e,t){c&&(!0===c||c&u.promise)&&(this._stack=G._getStack()),this._oncancel=t,this._setState(d),this._run();try{e(this._completed.bind(this),this._error.bind(this),this._progress.bind(this))}catch(e){this._setExceptionValue(e)}},{_oncancel:null,_cancelAction:function(){try{if(!this._oncancel)throw new Error("Promise did not implement oncancel");this._oncancel()}catch(e){e.message,e.stack;a.dispatchEvent("error",e)}},_cleanupAction:function(){this._oncancel=null}},{addEventListener:function(e,t,n){a.addEventListener(e,t,n)},any:function(e){return new G(function(t,n){var i=Object.keys(e);0===i.length&&t();var o=0;i.forEach(function(r){G.as(e[r]).then(function(){t({key:r,value:e[r]})},function(a){a instanceof Error&&a.name===l?++o===i.length&&t(G.cancel):n({key:r,value:e[r]})})})},function(){Object.keys(e).forEach(function(t){var n=G.as(e[t]);"function"===typeof n.cancel&&n.cancel()})})},as:function(e){return e&&"object"===typeof e&&"function"===typeof e.then?e:new q(e)},cancel:{get:function(){return B=B||new z(new i(l))}},dispatchEvent:function(e,t){return a.dispatchEvent(e,t)},is:function(e){return e&&"object"===typeof e&&"function"===typeof e.then},join:function(e){return new G(function(t,n,i){var o=Object.keys(e),r=Array.isArray(e)?[]:{},a=Array.isArray(e)?[]:{},s=0,c=o.length,u=function(e){if(0===--c){var s=Object.keys(r).length;if(0===s)t(a);else{var u=0;o.forEach(function(e){var t=r[e];t instanceof Error&&t.name===l&&u++}),u===s?t(G.cancel):n(r)}}else i({Key:e,Done:!0})};o.forEach(function(t){var n=e[t];void 0===n?s++:G.then(n,function(e){a[t]=e,u(t)},function(e){r[t]=e,u(t)})}),0!==(c-=s)||t(a)},function(){Object.keys(e).forEach(function(t){var n=G.as(e[t]);"function"===typeof n.cancel&&n.cancel()})})},removeEventListener:function(e,t,n){a.removeEventListener(e,t,n)},supportedForProcessing:!1,then:function(e,t,n,i){return G.as(e).then(t,n,i)},thenEach:function(e,t,n,i){var o=Array.isArray(e)?[]:{};return Object.keys(e).forEach(function(r){o[r]=G.as(e[r]).then(t,n,i)}),G.join(o)},timeout:function(n,i){var o,r,a=(o=n,new G(function(n){o?r=e.setTimeout(n,o):t._setImmediate(n)},function(){r&&e.clearTimeout(r)}));return i?function(e,t){var n=function(){e.cancel()};return e.then(function(){t.cancel()}),t.then(n,n),t}(a,i):a},wrap:function(e){return new q(e)},wrapError:function(e){return new z(e)},_veryExpensiveTagWithStack:{get:function(){return c},set:function(e){c=e}},_veryExpensiveTagWithStack_tag:u,_getStack:function(){if(e.Debug&&e.Debug.debuggerEnabled)try{throw new Error}catch(e){return e.stack}},_cancelBlocker:function(e,t){if(!G.is(e))return G.wrap(e);var n,i,o=new G(function(e,t){n=e,i=t},function(){n=null,i=null,t&&t()});return e.then(function(e){n&&n(e)},function(e){i&&i(e)}),o}});return Object.defineProperties(G,o.createEventProperties(s)),G._doneHandler=function(e){t._setImmediate(function(){throw e})},{PromiseStateMachine:C,Promise:G,state_created:d}}),n("WinJS/Promise",["WinJS/Core/_Base","WinJS/Promise/_StateMachine"],function(e,t){return e.Namespace.define("WinJS",{Promise:t.Promise}),t.Promise}),(o=t["WinJS/Core/_WinJS"]).TPromise=o.Promise,o.PPromise=o.Promise}();var r=o.Promise,a=o.TPromise;o.PPromise}).call(this,n(122),n(308))},function(e,t,n){"use strict";var i=n(5),o=n(7),r=n(192);function a(e,t,n,i){if(Array.isArray(e)){for(var o=0,s=0,l=e;s<l.length;s++){var c=a(l[s],t,n,i);if(10===c)return c;c>o&&(o=c)}return o}if("string"===typeof e)return i?"*"===e?5:e===n?10:0:0;if(e){var u=e.language,d=e.pattern,h=e.scheme,f=e.hasAccessToAllModels;if(!i&&!f)return 0;o=0;if(h)if(h===t.scheme)o=10;else{if("*"!==h)return 0;o=5}if(u)if(u===n)o=10;else{if("*"!==u)return 0;o=Math.max(o,5)}if(d){if(d!==t.fsPath&&!Object(r.a)(d,t.fsPath))return 0;o=10}return o}return 0}var s=n(63);function l(e){return"string"!==typeof e&&(Array.isArray(e)?e.every(l):e.exclusive)}var c=function(){function e(){this._clock=0,this._entries=[],this._onDidChange=new i.a}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),e.prototype.register=function(e,t){var n=this,i={selector:e,provider:t,_score:-1,_time:this._clock++};return this._entries.push(i),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),Object(o.f)(function(){if(i){var e=n._entries.indexOf(i);e>=0&&(n._entries.splice(e,1),n._lastCandidate=void 0,n._onDidChange.fire(n._entries.length),i=void 0)}})},e.prototype.has=function(e){return this.all(e).length>0},e.prototype.all=function(e){if(!e)return[];this._updateScores(e);for(var t=[],n=0,i=this._entries;n<i.length;n++){var o=i[n];o._score>0&&t.push(o.provider)}return t},e.prototype.ordered=function(e){var t=[];return this._orderedForEach(e,function(e){return t.push(e.provider)}),t},e.prototype.orderedGroups=function(e){var t,n,i=[];return this._orderedForEach(e,function(e){t&&n===e._score?t.push(e.provider):(n=e._score,t=[e.provider],i.push(t))}),i},e.prototype._orderedForEach=function(e,t){if(e){this._updateScores(e);for(var n=0;n<this._entries.length;n++){var i=this._entries[n];i._score>0&&t(i)}}},e.prototype._updateScores=function(t){var n={uri:t.uri.toString(),language:t.getLanguageIdentifier().language};if(!this._lastCandidate||this._lastCandidate.language!==n.language||this._lastCandidate.uri!==n.uri){this._lastCandidate=n;for(var i=0,o=this._entries;i<o.length;i++){var r=o[i];if(r._score=a(r.selector,t.uri,t.getLanguageIdentifier().language,Object(s.b)(t)),l(r.selector)&&r._score>0){for(var c=0,u=this._entries;c<u.length;c++){u[c]._score=0}r._score=1e3;break}}this._entries.sort(e._compareByScoreAndTime)}},e._compareByScoreAndTime=function(e,t){return e._score<t._score?1:e._score>t._score?-1:e._time<t._time?1:e._time>t._time?-1:0},e}(),u=function(){function e(){this._onDidChange=new i.a,this.onDidChange=this._onDidChange.event,this._map=Object.create(null),this._colorMap=null}return e.prototype.fire=function(e){this._onDidChange.fire({changedLanguages:e,changedColorMap:!1})},e.prototype.register=function(e,t){var n=this;return this._map[e]=t,this.fire([e]),Object(o.f)(function(){n._map[e]===t&&(delete n._map[e],n.fire([e]))})},e.prototype.get=function(e){return this._map[e]||null},e.prototype.setColorMap=function(e){this._colorMap=e,this._onDidChange.fire({changedLanguages:Object.keys(this._map),changedColorMap:!0})},e.prototype.getColorMap=function(){return this._colorMap},e.prototype.getDefaultBackground=function(){return this._colorMap[2]},e}(),d=n(24);n.d(t,"o",function(){return g}),n.d(t,"x",function(){return b}),n.d(t,"v",function(){return h}),n.d(t,"b",function(){return f}),n.d(t,"g",function(){return p}),n.d(t,"w",function(){return m}),n.d(t,"B",function(){return v}),n.d(t,"k",function(){return w}),n.d(t,"A",function(){return _}),n.d(t,"r",function(){return S}),n.d(t,"s",function(){return C}),n.d(t,"u",function(){return x}),n.d(t,"t",function(){return k}),n.d(t,"m",function(){return T}),n.d(t,"j",function(){return O}),n.d(t,"h",function(){return N}),n.d(t,"e",function(){return L}),n.d(t,"n",function(){return I}),n.d(t,"z",function(){return E}),n.d(t,"c",function(){return D}),n.d(t,"a",function(){return A}),n.d(t,"f",function(){return M}),n.d(t,"i",function(){return P}),n.d(t,"q",function(){return R}),n.d(t,"p",function(){return F}),n.d(t,"d",function(){return j}),n.d(t,"l",function(){return W}),n.d(t,"y",function(){return V});var h,f,p,m,g=function(){return function(e,t){this.language=e,this.id=t}}(),b=function(){function e(){}return e.getLanguageId=function(e){return(255&e)>>>0},e.getTokenType=function(e){return(1792&e)>>>8},e.getFontStyle=function(e){return(14336&e)>>>11},e.getForeground=function(e){return(8372224&e)>>>14},e.getBackground=function(e){return(4286578688&e)>>>23},e.getClassNameFromMetadata=function(e){var t="mtk"+this.getForeground(e),n=this.getFontStyle(e);return 1&n&&(t+=" mtki"),2&n&&(t+=" mtkb"),4&n&&(t+=" mtku"),t},e.getInlineStyleFromMetadata=function(e,t){var n=this.getForeground(e),i=this.getFontStyle(e),o="color: "+t[n]+";";return 1&i&&(o+="font-style: italic;"),2&i&&(o+="font-weight: bold;"),4&i&&(o+="text-decoration: underline;"),o},e}();!function(e){e[e.Invoke=0]="Invoke",e[e.TriggerCharacter=1]="TriggerCharacter",e[e.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"}(h||(h={})),function(e){e[e.Automatic=1]="Automatic",e[e.Manual=2]="Manual"}(f||(f={})),function(e){e[e.Text=0]="Text",e[e.Read=1]="Read",e[e.Write=2]="Write"}(p||(p={})),function(e){e[e.File=0]="File",e[e.Module=1]="Module",e[e.Namespace=2]="Namespace",e[e.Package=3]="Package",e[e.Class=4]="Class",e[e.Method=5]="Method",e[e.Property=6]="Property",e[e.Field=7]="Field",e[e.Constructor=8]="Constructor",e[e.Enum=9]="Enum",e[e.Interface=10]="Interface",e[e.Function=11]="Function",e[e.Variable=12]="Variable",e[e.Constant=13]="Constant",e[e.String=14]="String",e[e.Number=15]="Number",e[e.Boolean=16]="Boolean",e[e.Array=17]="Array",e[e.Object=18]="Object",e[e.Key=19]="Key",e[e.Null=20]="Null",e[e.EnumMember=21]="EnumMember",e[e.Struct=22]="Struct",e[e.Event=23]="Event",e[e.Operator=24]="Operator",e[e.TypeParameter=25]="TypeParameter"}(m||(m={}));var y,v=((y=Object.create(null))[m.File]="file",y[m.Module]="module",y[m.Namespace]="namespace",y[m.Package]="package",y[m.Class]="class",y[m.Method]="method",y[m.Property]="property",y[m.Field]="field",y[m.Constructor]="constructor",y[m.Enum]="enum",y[m.Interface]="interface",y[m.Function]="function",y[m.Variable]="variable",y[m.Constant]="constant",y[m.String]="string",y[m.Number]="number",y[m.Boolean]="boolean",y[m.Array]="array",y[m.Object]="object",y[m.Key]="key",y[m.Null]="null",y[m.EnumMember]="enum-member",y[m.Struct]="struct",y[m.Event]="event",y[m.Operator]="operator",y[m.TypeParameter]="type-parameter",function(e){return"symbol-icon "+(y[e]||"property")}),w=function(){function e(e){this.value=e}return e.Comment=new e("comment"),e.Imports=new e("imports"),e.Region=new e("region"),e}();function _(e){return Object(d.g)(e)&&e.resource&&Array.isArray(e.edits)}var S=new c,C=new c,x=new c,k=new c,T=new c,O=new c,N=new c,L=new c,I=new c,E=new c,D=new c,A=new c,M=new c,P=new c,R=new c,F=new c,j=new c,W=new c,V=new u},function(e,t,n){"use strict";n.d(t,"d",function(){return l}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return d}),n.d(t,"a",function(){return m}),n.d(t,"f",function(){return g}),n.d(t,"e",function(){return b}),n.d(t,"g",function(){return y});var i,o,r=n(25),a=n(9),s=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});!function(e){e[e.Defined=1]="Defined",e[e.Not=2]="Not",e[e.Equals=3]="Equals",e[e.NotEquals=4]="NotEquals",e[e.And=5]="And",e[e.Regex=6]="Regex"}(o||(o={}));var l=function(){function e(){}return e.has=function(e){return new u(e)},e.equals=function(e,t){return new d(e,t)},e.regex=function(e,t){return new p(e,t)},e.not=function(e){return new f(e)},e.and=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new m(e)},e.deserialize=function(e){var t=this;if(!e)return null;var n=e.split("&&");return new m(n.map(function(e){return t._deserializeOne(e)})).normalize()},e._deserializeOne=function(e){if((e=e.trim()).indexOf("!=")>=0){var t=e.split("!=");return new h(t[0].trim(),this._deserializeValue(t[1]))}if(e.indexOf("==")>=0){t=e.split("==");return new d(t[0].trim(),this._deserializeValue(t[1]))}if(e.indexOf("=~")>=0){t=e.split("=~");return new p(t[0].trim(),this._deserializeRegexValue(t[1]))}return/^\!\s*/.test(e)?new f(e.substr(1).trim()):new u(e)},e._deserializeValue=function(e){if("true"===(e=e.trim()))return!0;if("false"===e)return!1;var t=/^'([^']*)'$/.exec(e);return t?t[1].trim():e},e._deserializeRegexValue=function(e){if(Object(a.isFalsyOrWhitespace)(e))return console.warn("missing regexp-value for =~-expression"),null;var t=e.indexOf("/"),n=e.lastIndexOf("/");if(t===n||t<0)return console.warn("bad regexp-value '"+e+"', missing /-enclosure"),null;var i=e.slice(t+1,n),o="i"===e[n+1]?"i":"";try{return new RegExp(i,o)}catch(t){return console.warn("bad regexp-value '"+e+"', parse error: "+t),null}},e}();function c(e,t){var n=e.getType(),i=t.getType();if(n!==i)return n-i;switch(n){case o.Defined:case o.Not:case o.Equals:case o.NotEquals:case o.Regex:return e.cmp(t);default:throw new Error("Unknown ContextKeyExpr!")}}var u=function(){function e(e){this.key=e}return e.prototype.getType=function(){return o.Defined},e.prototype.cmp=function(e){return this.key<e.key?-1:this.key>e.key?1:0},e.prototype.equals=function(t){return t instanceof e&&this.key===t.key},e.prototype.evaluate=function(e){return!!e.getValue(this.key)},e.prototype.normalize=function(){return this},e.prototype.keys=function(){return[this.key]},e}(),d=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.getType=function(){return o.Equals},e.prototype.cmp=function(e){return this.key<e.key?-1:this.key>e.key?1:this.value<e.value?-1:this.value>e.value?1:0},e.prototype.equals=function(t){return t instanceof e&&(this.key===t.key&&this.value===t.value)},e.prototype.evaluate=function(e){return e.getValue(this.key)==this.value},e.prototype.normalize=function(){return"boolean"===typeof this.value?this.value?new u(this.key):new f(this.key):this},e.prototype.keys=function(){return[this.key]},e}(),h=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.getType=function(){return o.NotEquals},e.prototype.cmp=function(e){return this.key<e.key?-1:this.key>e.key?1:this.value<e.value?-1:this.value>e.value?1:0},e.prototype.equals=function(t){return t instanceof e&&(this.key===t.key&&this.value===t.value)},e.prototype.evaluate=function(e){return e.getValue(this.key)!=this.value},e.prototype.normalize=function(){return"boolean"===typeof this.value?this.value?new f(this.key):new u(this.key):this},e.prototype.keys=function(){return[this.key]},e}(),f=function(){function e(e){this.key=e}return e.prototype.getType=function(){return o.Not},e.prototype.cmp=function(e){return this.key<e.key?-1:this.key>e.key?1:0},e.prototype.equals=function(t){return t instanceof e&&this.key===t.key},e.prototype.evaluate=function(e){return!e.getValue(this.key)},e.prototype.normalize=function(){return this},e.prototype.keys=function(){return[this.key]},e}(),p=function(){function e(e,t){this.key=e,this.regexp=t}return e.prototype.getType=function(){return o.Regex},e.prototype.cmp=function(e){if(this.key<e.key)return-1;if(this.key>e.key)return 1;var t=this.regexp?this.regexp.source:void 0;return t<e.regexp.source?-1:t>e.regexp.source?1:0},e.prototype.equals=function(t){if(t instanceof e){var n=this.regexp?this.regexp.source:void 0;return this.key===t.key&&n===t.regexp.source}return!1},e.prototype.evaluate=function(e){return!!this.regexp&&this.regexp.test(e.getValue(this.key))},e.prototype.normalize=function(){return this},e.prototype.keys=function(){return[this.key]},e}(),m=function(){function e(t){this.expr=e._normalizeArr(t)}return e.prototype.getType=function(){return o.And},e.prototype.equals=function(t){if(t instanceof e){if(this.expr.length!==t.expr.length)return!1;for(var n=0,i=this.expr.length;n<i;n++)if(!this.expr[n].equals(t.expr[n]))return!1;return!0}return!1},e.prototype.evaluate=function(e){for(var t=0,n=this.expr.length;t<n;t++)if(!this.expr[t].evaluate(e))return!1;return!0},e._normalizeArr=function(t){var n=[];if(t){for(var i=0,o=t.length;i<o;i++){var r=t[i];r&&((r=r.normalize())&&(r instanceof e?n=n.concat(r.expr):n.push(r)))}n.sort(c)}return n},e.prototype.normalize=function(){return 0===this.expr.length?null:1===this.expr.length?this.expr[0]:this},e.prototype.keys=function(){for(var e=[],t=0,n=this.expr;t<n.length;t++){var i=n[t];e.push.apply(e,i.keys())}return e},e}(),g=function(e){function t(t,n){var i=e.call(this,t)||this;return i._defaultValue=n,i}return s(t,e),t.prototype.bindTo=function(e){return e.createKey(this.key,this._defaultValue)},t.prototype.toNegated=function(){return l.not(this.key)},t}(u),b=Object(r.c)("contextKeyService"),y="setContext"},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"g",function(){return a}),n.d(t,"f",function(){return s}),n.d(t,"d",function(){return l}),n.d(t,"c",function(){return c}),n.d(t,"b",function(){return u}),n.d(t,"e",function(){return d}),n.d(t,"h",function(){return h});var i,o=n(16),r=o.StyleSheet.create({downloadButton:{borderLeft:"1px solid #ccc",bottom:10,color:"black",maxHeight:"90%",overflow:"auto",position:"absolute",right:110,textDecoration:"none"},errorDecoration:{border:"2px solid red",color:"red",fontStyle:"oblique",fontWeight:"bold",textDecoration:"underline"},errorMask:{backgroundColor:"black",bottom:0,color:"white",left:"50%",padding:15,position:"absolute",right:0,textAlign:"center",top:0},monacoHidden:{display:"none"},pendingPreviewMask:{animationDuration:"2s",animationIterationCount:"infinite",animationName:{"0%":{opacity:0},"50%":{opacity:.15},"100%":{opacity:0}},animationTimingFunction:"ease-in-out",backgroundColor:"black",bottom:0,left:"50%",position:"absolute",right:0,top:0},previewPendingMaskModeView:{left:0},sheetMusicError:{color:"#aeaeae",display:"inline-block",textAlign:"center",verticalAlign:"middle"},sheetMusicView:{alignItems:"center",backgroundColor:"white",border:"0 none",bottom:0,display:"flex",justifyContent:"center",overflow:"hidden",position:"absolute",right:"0",top:0},sheetMusicViewEdit:{left:"50%"},sheetMusicViewView:{left:0},urgentEditorNotification:{backgroundColor:"#1e1e1e",color:"white",fontWeight:"bold",left:0,padding:10,top:0,zIndex:1e5},urgentEditorNotificationClose:{color:"#aeaeae"}}),a=o.StyleSheet.create({big:{margin:"0 0 0 -400px",width:800},closeButton:{float:"right",textDecoration:"none"},gpl:{"@media (max-width: 530px)":{display:"none"},bottom:10,position:"absolute",right:10},license:{fontSize:12,marginTop:20},link:{":hover":{color:"black"},color:"blue",cursor:"pointer",fontSize:16,textDecoration:"underline"},login:{textAlign:"center"},modal:{"@media (max-width: 530px)":{left:0,margin:0,position:"absolute",width:"100%"},backgroundColor:"white",border:"1px solid rgba(0, 0, 0, 0.3)",borderRadius:6,boxSizing:"border-box",color:"#555555",left:"50%",margin:"0 0 0 -265px",padding:"15px 15px 0 15px",position:"absolute",top:80,width:530,zIndex:1050},modalBody:{margin:0,maxHeight:"none",padding:"20px 0 2px 0"},modalHeader:{borderBottom:"1px solid #ddd",padding:"0 0 9px 0"},overlay:{backgroundColor:"rgba(0, 0, 0, 0.75)",bottom:0,left:0,position:"absolute",right:0,top:0},shareURL:{display:"block",padding:5,textAlign:"center"},signInPrivacy:{marginTop:-10,textAlign:"center"}}),s=o.StyleSheet.create({deleteSong:{":hover":{color:"red"},color:"#aeaeae",float:"right"},innerSongList:{listStyle:"none",marginLeft:0,marginTop:0,paddingLeft:0},menu:{"::after":{"@media (max-width: 500px)":{left:97},borderBottomColor:"white",borderLeftColor:"transparent",borderRightColor:"transparent",borderStyle:"solid",borderTopColor:"transparent",borderWidth:12,bottom:"100%",content:'" "',height:0,left:40,marginLeft:-30,pointerEvents:"none",position:"absolute",width:0},"@media (max-width: 500px)":{left:0,position:"absolute",width:"100%"},backgroundColor:"white",border:"1px solid rgba(0, 0, 0, 0.3)",display:"flex",flexDirection:"row",height:500,left:65,outline:"none",padding:"14px 7px 4px 7px",position:"absolute",top:48,width:400,zIndex:1050},menuColumn:{"@media (max-width: 500px)":{marginRight:14},display:"flex",flex:1,flexDirection:"column",overflow:"auto",paddingLeft:7,paddingRight:7},menuOverlay:{backgroundColor:"rgba(0, 0, 0, 0.35)",bottom:0,left:0,position:"absolute",right:0,top:0},option:{":hover":{color:"blue"},backgroundColor:"#f6f6f6",border:"1px solid #dedede",color:"black",fontSize:16,marginBottom:10,padding:10,textAlign:"left",textDecoration:"none"},placeholder:{color:"black",fontSize:16,left:"50%",position:"absolute",textAlign:"center",top:"50%",transform:"translate(-50%, -50%)",width:"100%"},placeholderLink:{":hover":{color:"black"},color:"blue",fontSize:16,textDecoration:"underline"},section:{fontSize:24,fontWeight:"bold",paddingBottom:7},song:{":hover":{color:"blue"},color:"black",fontSize:16,marginBottom:4,textDecoration:"none"},songList:{flex:1,position:"relative"}}),l=o.StyleSheet.create({headerGroupWrapper:{marginBottom:"auto",marginTop:"auto"},headerSpacer:{flex:1},logo:{height:32,marginLeft:16,padding:"9px 0",transform:"scale(-1, 1)",width:32},miniGroup:{marginLeft:16},modeItem:{fontSize:14,paddingBottom:5,paddingTop:5,width:14},newSong:{":hover":{color:"black"},color:"#aeaeae",fontSize:14,marginRight:32,textDecoration:"none"},playButton:{":hover":{backgroundColor:"#ccc"},color:"#6e6e6e",display:"inline-block",fontSize:14,height:36,padding:9},playTime:{textAlign:"left",width:80},publish:{color:"#aeaeae",cursor:"unset",fontSize:14,marginRight:16,textDecoration:"none"},publishActive:{":hover":{color:"black"},cursor:"pointer"},songs:{marginLeft:16},songsText:{":hover":{backgroundColor:"#ccc"},color:"#6e6e6e",display:"inline-block",fontSize:14,padding:9},srOnly:{border:0,clip:"rect(0,0,0,0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1}}),c=o.StyleSheet.create({btnGithub:{":active":{backgroundColor:"#101010"},":hover":{backgroundColor:"#444444"},backgroundColor:"#2a2a2a",backgroundImage:"url('./github.svg')",backgroundPosition:"1em",backgroundRepeat:"no-repeat",backgroundSize:"2em",border:"none",borderRadius:"0.5em",color:"white",cursor:"pointer",fontSize:"1em",height:"4em",lineHeight:"1em",padding:"0 2em 0 4em",textDecoration:"none",transition:"all 0.5s",width:262}}),u=o.StyleSheet.create({buttonStyle:(i={":first-child":{borderBottomLeftRadius:"3px",borderLeft:"1px solid #ccc",borderTopLeftRadius:"3px"}},i[":focus"]={zIndex:"2"},i[":hover"]={backgroundColor:"#ccc"},i[":last-child"]={borderBottomRightRadius:"3px",borderRight:"1px solid #ccc",borderTopRightRadius:"3px"},i.backgroundColor="white",i.border="1px solid #ccc",i.borderLeft="0",i.cursor="pointer",i.margin="0",i.padding="5px 10px",i.position="relative",i),downloadChoiceButton:{boxSizing:"border-box",color:"black",display:"inline-block",marginBottom:10,textDecoration:"none",width:"100%"},selectedStyle:{backgroundColor:"#ddd"}}),d=o.StyleSheet.create({logsButton:{borderLeft:"1px solid #ccc",bottom:10,maxHeight:"90%",overflow:"auto",position:"absolute",right:20},mask:{bottom:0,left:0,position:"fixed",right:0,top:0}}),h=o.StyleSheet.create({cell:{display:"table-cell",fontSize:14,whiteSpace:"nowrap",width:"1px"},error:{bottom:20,color:"red",fontFamily:"sans-serif",fontSize:14,position:"absolute"},expand:{width:"100%"},footer:{display:"inline-block",marginBottom:10,marginTop:15,width:"100%"},mono:{fontFamily:"monospace"},publishBtn:{":disabled":{backgroundColor:"#ccc",cursor:"not-allowed"},color:"black",float:"right",fontFamily:"sans-serif",fontSize:14,textDecoration:"none"},row:{display:"table",fontSize:14,width:"100%"}})},function(e,t,n){"use strict";n.d(t,"e",function(){return r}),n.d(t,"f",function(){return a}),n.d(t,"g",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"a",function(){return u}),n.d(t,"b",function(){return d}),n.d(t,"c",function(){return h});var i={};n(11).b.addEventListener("error",function(e){var t=e.detail,n=t.id;t.parent?t.handler&&i&&delete i[n]:(i[n]=t,1===Object.keys(i).length&&setTimeout(function(){var e=i;i={},Object.keys(e).forEach(function(t){var n=e[t];n.exception?r(n.exception):n.error&&r(n.error),console.log("WARNING: Promise with no error callback:"+n.id),console.log(n),n.exception&&console.log(n.exception.stack)})},0))});var o=new(function(){function e(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(function(){if(e.stack)throw new Error(e.message+"\n\n"+e.stack);throw e},0)}}return e.prototype.emit=function(e){this.listeners.forEach(function(t){t(e)})},e.prototype.onUnexpectedError=function(e){this.unexpectedErrorHandler(e),this.emit(e)},e.prototype.onUnexpectedExternalError=function(e){this.unexpectedErrorHandler(e)},e}());function r(e){c(e)||o.onUnexpectedError(e)}function a(e){c(e)||o.onUnexpectedExternalError(e)}function s(e){return e instanceof Error?{$isError:!0,name:e.name,message:e.message,stack:e.stacktrace||e.stack}:e}var l="Canceled";function c(e){return e instanceof Error&&e.name===l&&e.message===l}function u(){var e=new Error(l);return e.name=e.message,e}function d(e){return e?new Error("Illegal argument: "+e):new Error("Illegal argument")}function h(e){return e?new Error("Illegal state: "+e):new Error("Illegal state")}},function(e,t,n){"use strict";n.r(t);var i=n(136),o=n.n(i),r=n(137),a=n.n(r),s=n(138),l=n.n(s),c=n(139),u=n.n(c),d=n(140),h=n.n(d),f=n(141),p=n.n(f),m=n(142),g=n.n(m),b=n(143),y=n.n(b),v=n(144),w=n.n(v),_=n(145),S=n.n(_),C=n(146),x=n.n(C),k=n(147),T=n.n(k),O=n(148),N=n.n(O),L=n(149),I=n.n(L),E=n(150),D=n.n(E),A=/([A-Z])/g,M=function(e){return"-"+String(e.toLowerCase())},P={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};var R=["Webkit","ms","Moz","O"];Object.keys(P).forEach(function(e){R.forEach(function(t){P[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(t,e)]=P[e]})});var F=function(e,t){return"number"===typeof t?P[e]?""+t:t+"px":""+t},j=function(e,t){return B(F(e,t))},W=function(e,t){return o()(e).toString(36)},V=function(e){return W(JSON.stringify(e))},B=function(e){return"!"===e[e.length-10]&&" !important"===e.slice(-11)?e:String(e)+" !important"},H="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var U="undefined"!==typeof Map,q=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.elements={},this.keyOrder=[]}return z(e,[{key:"forEach",value:function(){return function(e){for(var t=0;t<this.keyOrder.length;t++)e(this.elements[this.keyOrder[t]],this.keyOrder[t])}}()},{key:"set",value:function(){return function(t,n,i){if(this.elements.hasOwnProperty(t)){if(i){var o=this.keyOrder.indexOf(t);this.keyOrder.splice(o,1),this.keyOrder.push(t)}}else this.keyOrder.push(t);if(null!=n){if(U&&n instanceof Map||n instanceof e){var r=this.elements.hasOwnProperty(t)?this.elements[t]:new e;return n.forEach(function(e,t){r.set(t,e,i)}),void(this.elements[t]=r)}if(Array.isArray(n)||"object"!==("undefined"===typeof n?"undefined":H(n)))this.elements[t]=n;else{for(var a=this.elements.hasOwnProperty(t)?this.elements[t]:new e,s=Object.keys(n),l=0;l<s.length;l+=1)a.set(s[l],n[s[l]],i);this.elements[t]=a}}else this.elements[t]=n}}()},{key:"get",value:function(){return function(e){return this.elements[e]}}()},{key:"has",value:function(){return function(e){return this.elements.hasOwnProperty(e)}}()},{key:"addStyleType",value:function(){return function(t){var n=this;if(U&&t instanceof Map||t instanceof e)t.forEach(function(e,t){n.set(t,e,!0)});else for(var i=Object.keys(t),o=0;o<i.length;o++)this.set(i[o],t[i[o]],!0)}}()}]),e}(),G=["Webkit"],K=["Moz"],Y=["ms"],Z=["Webkit","Moz"],$=["Webkit","ms"],X=["Webkit","Moz","ms"],Q={plugins:[a.a,l.a,u.a,h.a,p.a,g.a,y.a,w.a,S.a,x.a,T.a,N.a],prefixMap:{transform:$,transformOrigin:$,transformOriginX:$,transformOriginY:$,backfaceVisibility:G,perspective:G,perspectiveOrigin:G,transformStyle:G,transformOriginZ:G,animation:G,animationDelay:G,animationDirection:G,animationFillMode:G,animationDuration:G,animationIterationCount:G,animationName:G,animationPlayState:G,animationTimingFunction:G,appearance:Z,userSelect:X,fontKerning:G,textEmphasisPosition:G,textEmphasis:G,textEmphasisStyle:G,textEmphasisColor:G,boxDecorationBreak:G,clipPath:G,maskImage:G,maskMode:G,maskRepeat:G,maskPosition:G,maskClip:G,maskOrigin:G,maskSize:G,maskComposite:G,mask:G,maskBorderSource:G,maskBorderMode:G,maskBorderSlice:G,maskBorderWidth:G,maskBorderOutset:G,maskBorderRepeat:G,maskBorder:G,maskType:G,textDecorationStyle:Z,textDecorationSkip:Z,textDecorationLine:Z,textDecorationColor:Z,filter:G,fontFeatureSettings:Z,breakAfter:X,breakBefore:X,breakInside:X,columnCount:Z,columnFill:Z,columnGap:Z,columnRule:Z,columnRuleColor:Z,columnRuleStyle:Z,columnRuleWidth:Z,columns:Z,columnSpan:Z,columnWidth:Z,writingMode:$,flex:$,flexBasis:G,flexDirection:$,flexGrow:G,flexFlow:$,flexShrink:G,flexWrap:$,alignContent:G,alignItems:G,alignSelf:G,justifyContent:G,order:G,transitionDelay:G,transitionDuration:G,transitionProperty:G,transitionTimingFunction:G,backdropFilter:G,scrollSnapType:$,scrollSnapPointsX:$,scrollSnapPointsY:$,scrollSnapDestination:$,scrollSnapCoordinate:$,shapeImageThreshold:G,shapeImageMargin:G,shapeImageOutside:G,hyphens:X,flowInto:$,flowFrom:$,regionFragment:$,textOrientation:G,boxSizing:K,textAlignLast:K,tabSize:K,wrapFlow:Y,wrapThrough:Y,wrapMargin:Y,touchAction:Y,gridTemplateColumns:Y,gridTemplateRows:Y,gridTemplateAreas:Y,gridTemplate:Y,gridAutoColumns:Y,gridAutoRows:Y,gridAutoFlow:Y,grid:Y,gridRowStart:Y,gridColumnStart:Y,gridRowEnd:Y,gridRow:Y,gridColumn:Y,gridColumnEnd:Y,gridColumnGap:Y,gridRowGap:Y,gridArea:Y,gridGap:Y,textSizeAdjust:$,borderImage:G,borderImageOutset:G,borderImageRepeat:G,borderImageSlice:G,borderImageSource:G,borderImageWidth:G}};var J=I()(Q),ee=[function(){return function(e,t,n){return":"!==e[0]?null:n(t+e)}}(),function(){return function(e,t,n){if("@"!==e[0])return null;var i=n(t);return[String(e)+"{"+String(i.join(""))+"}"]}}()],te=function e(t,n,i,o,r){for(var a=new q,s=0;s<n.length;s++)a.addStyleType(n[s]);var l=new q,c=[];a.forEach(function(n,a){i.some(function(s){var l=s(a,t,function(t){return e(t,[n],i,o,r)});if(null!=l)return Array.isArray(l)?c.push.apply(c,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(l)):(console.warn("WARNING: Selector handlers should return an array of rules.Returning a string containing multiple rules is deprecated.",s),c.push("@media all {"+String(l)+"}")),!0})||l.set(a,n,!0)});var u=oe(t,l,o,r,i);return u&&c.unshift(u),c},ne=function(e,t,n){return String("m"===(i=e.replace(A,M))[0]&&"s"===i[1]&&"-"===i[2]?"-"+String(i):i)+":"+String(n(e,t))+";";var i},ie=function(e,t){return e[t]=!0,e},oe=function(e,t,n,i,o){!function(e,t,n){if(t)for(var i=Object.keys(t),o=0;o<i.length;o++){var r=i[o];e.has(r)&&e.set(r,t[r](e.get(r),n),!1)}}(t,n,o);var r=Object.keys(t.elements).reduce(ie,Object.create(null)),a=J(t.elements),s=Object.keys(a);if(s.length!==t.keyOrder.length)for(var l=0;l<s.length;l++)if(!r[s[l]]){var c=void 0;if((c="W"===s[l][0]?s[l][6].toLowerCase()+s[l].slice(7):"o"===s[l][1]?s[l][3].toLowerCase()+s[l].slice(4):s[l][2].toLowerCase()+s[l].slice(3))&&r[c]){var u=t.keyOrder.indexOf(c);t.keyOrder.splice(u,0,s[l])}else t.keyOrder.unshift(s[l])}for(var d=!1===i?F:j,h=[],f=0;f<t.keyOrder.length;f++){var p=t.keyOrder[f],m=a[p];if(Array.isArray(m))for(var g=0;g<m.length;g++)h.push(ne(p,m[g],d));else h.push(ne(p,m,d))}return h.length?String(e)+"{"+String(h.join(""))+"}":""},re="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var ae=null,se={fontFamily:function(){return function e(t){if(Array.isArray(t)){var n={};return t.forEach(function(t){n[e(t)]=!0}),Object.keys(n).join(",")}return"object"===("undefined"===typeof t?"undefined":re(t))?(he(t.src,"@font-face",[t],!1),'"'+String(t.fontFamily)+'"'):t}}(),animationName:function(){return function e(t,n){if(Array.isArray(t))return t.map(function(t){return e(t,n)}).join(",");if("object"===("undefined"===typeof t?"undefined":re(t))){var i="keyframe_"+String(V(t)),o="@keyframes "+i+"{";return t instanceof q?t.forEach(function(e,t){o+=te(t,[e],n,se,!1).join("")}):Object.keys(t).forEach(function(e){o+=te(e,[t[e]],n,se,!1).join("")}),de(i,[o+="}"]),i}return t}}()},le={},ce=[],ue=!1,de=function(e,t){var n;if(!le[e]){if(!ue){if("undefined"===typeof document)throw new Error("Cannot automatically buffer without a document");ue=!0,D()(be)}(n=ce).push.apply(n,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t)),le[e]=!0}},he=function(e,t,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];if(!le[e]){var r=te(t,n,o,se,i);de(e,r)}},fe=function(){ce=[],le={},ue=!1,ae=null},pe=function(){if(ue)throw new Error("Cannot buffer while already buffering");ue=!0},me=function(){ue=!1;var e=ce;return ce=[],e},ge=function(){return me().join("")},be=function(){var e=me();e.length>0&&function(e){if(null==ae&&null==(ae=document.querySelector("style[data-aphrodite]"))){var t=document.head||document.getElementsByTagName("head")[0];(ae=document.createElement("style")).type="text/css",ae.setAttribute("data-aphrodite",""),t.appendChild(ae)}var n=ae.styleSheet||ae.sheet;if(n.insertRule){var i=n.cssRules.length;e.forEach(function(e){try{n.insertRule(e,i),i+=1}catch(e){}})}else ae.innerText=(ae.innerText||"")+e.join("")}(e)},ye=function(){return Object.keys(le)},ve=function(e){e.forEach(function(e){le[e]=!0})},we=function(e,t,n){var i=[],o=[],r=function e(t,n,i,o){for(var r=0;r<t.length;r+=1)t[r]&&(Array.isArray(t[r])?o+=e(t[r],n,i,o):(n.push(t[r]._name),i.push(t[r]._definition),o+=t[r]._len));return o}(t,i,o,0);if(0===i.length)return"";var a=void 0;return a=1===i.length?"_"+String(i[0]):"_"+String(W(i.join()))+String((r%36).toString(36)),he(a,"."+String(a),o,e,n),a},_e=function(e,t){return String(t)+"_"+String(W(e))},Se=W,Ce={create:function(){return function(e){for(var t={},n=Object.keys(e),i=0;i<n.length;i+=1){var o=n[i],r=e[o],a=JSON.stringify(r);t[o]={_len:a.length,_name:Se(a,o),_definition:r}}return t}}(),rehydrate:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];ve(e)}}()},xe="undefined"!==typeof window?null:{renderStatic:function(){return function(e){return fe(),pe(),{html:e(),css:{content:ge(),renderedClassNames:ye()}}}}()},ke=null;n.d(t,"StyleSheet",function(){return Oe}),n.d(t,"StyleSheetServer",function(){return Ne}),n.d(t,"StyleSheetTestUtils",function(){return Le}),n.d(t,"css",function(){return Ie}),n.d(t,"minify",function(){return Ee}),n.d(t,"flushToStyleTag",function(){return De}),n.d(t,"injectAndGetClassName",function(){return Ae}),n.d(t,"defaultSelectorHandlers",function(){return Me});var Te=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ee;return{StyleSheet:Object.assign({},Ce,{extend:function(i){var o=i.map(function(e){return e.selectorHandler}).filter(function(e){return e});return e(t,n.concat(o))}}),StyleSheetServer:xe,StyleSheetTestUtils:ke,minify:function(e){Se=e?W:_e},css:function(){for(var e=arguments.length,i=Array(e),o=0;o<e;o++)i[o]=arguments[o];return we(t,i,n)},flushToStyleTag:be,injectAndGetClassName:we,defaultSelectorHandlers:ee}}(!0),Oe=Te.StyleSheet,Ne=Te.StyleSheetServer,Le=Te.StyleSheetTestUtils,Ie=Te.css,Ee=Te.minify,De=Te.flushToStyleTag,Ae=Te.injectAndGetClassName,Me=Te.defaultSelectorHandlers},function(e,t,n){"use strict";function i(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}n.d(t,"c",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return s});var o=function(){function e(e,t,n,o){void 0===o&&(o=1),this.r=0|Math.min(255,Math.max(0,e)),this.g=0|Math.min(255,Math.max(0,t)),this.b=0|Math.min(255,Math.max(0,n)),this.a=i(Math.max(Math.min(1,o),0),3)}return e.equals=function(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a},e}(),r=function(){function e(e,t,n,o){this.h=0|Math.max(Math.min(360,e),0),this.s=i(Math.max(Math.min(1,t),0),3),this.l=i(Math.max(Math.min(1,n),0),3),this.a=i(Math.max(Math.min(1,o),0),3)}return e.equals=function(e,t){return e.h===t.h&&e.s===t.s&&e.l===t.l&&e.a===t.a},e.fromRGBA=function(t){var n=t.r/255,i=t.g/255,o=t.b/255,r=t.a,a=Math.max(n,i,o),s=Math.min(n,i,o),l=0,c=0,u=(s+a)/2,d=a-s;if(d>0){switch(c=Math.min(u<=.5?d/(2*u):d/(2-2*u),1),a){case n:l=(i-o)/d+(i<o?6:0);break;case i:l=(o-n)/d+2;break;case o:l=(n-i)/d+4}l*=60,l=Math.round(l)}return new e(l,c,u,r)},e._hue2rgb=function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e},e.toRGBA=function(t){var n,i,r,a=t.h/360,s=t.s,l=t.l,c=t.a;if(0===s)n=i=r=l;else{var u=l<.5?l*(1+s):l+s-l*s,d=2*l-u;n=e._hue2rgb(d,u,a+1/3),i=e._hue2rgb(d,u,a),r=e._hue2rgb(d,u,a-1/3)}return new o(Math.round(255*n),Math.round(255*i),Math.round(255*r),c)},e}(),a=function(){function e(e,t,n,o){this.h=0|Math.max(Math.min(360,e),0),this.s=i(Math.max(Math.min(1,t),0),3),this.v=i(Math.max(Math.min(1,n),0),3),this.a=i(Math.max(Math.min(1,o),0),3)}return e.equals=function(e,t){return e.h===t.h&&e.s===t.s&&e.v===t.v&&e.a===t.a},e.fromRGBA=function(t){var n,i=t.r/255,o=t.g/255,r=t.b/255,a=Math.max(i,o,r),s=a-Math.min(i,o,r),l=0===a?0:s/a;return n=0===s?0:a===i?((o-r)/s%6+6)%6:a===o?(r-i)/s+2:(i-o)/s+4,new e(Math.round(60*n),l,a,t.a)},e.toRGBA=function(e){var t=e.h,n=e.s,i=e.v,r=e.a,a=i*n,s=a*(1-Math.abs(t/60%2-1)),l=i-a,c=[0,0,0],u=c[0],d=c[1],h=c[2];return t<60?(u=a,d=s):t<120?(u=s,d=a):t<180?(d=a,h=s):t<240?(d=s,h=a):t<300?(u=s,h=a):t<360&&(u=a,h=s),u=Math.round(255*(u+l)),d=Math.round(255*(d+l)),h=Math.round(255*(h+l)),new o(u,d,h,r)},e}(),s=function(){function e(e){if(!e)throw new Error("Color needs a value");if(e instanceof o)this.rgba=e;else if(e instanceof r)this._hsla=e,this.rgba=r.toRGBA(e);else{if(!(e instanceof a))throw new Error("Invalid color ctor argument");this._hsva=e,this.rgba=a.toRGBA(e)}}return e.fromHex=function(t){return e.Format.CSS.parseHex(t)||e.red},Object.defineProperty(e.prototype,"hsla",{get:function(){return this._hsla?this._hsla:r.fromRGBA(this.rgba)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hsva",{get:function(){return this._hsva?this._hsva:a.fromRGBA(this.rgba)},enumerable:!0,configurable:!0}),e.prototype.equals=function(e){return!!e&&o.equals(this.rgba,e.rgba)&&r.equals(this.hsla,e.hsla)&&a.equals(this.hsva,e.hsva)},e.prototype.getRelativeLuminance=function(){return i(.2126*e._relativeLuminanceForComponent(this.rgba.r)+.7152*e._relativeLuminanceForComponent(this.rgba.g)+.0722*e._relativeLuminanceForComponent(this.rgba.b),4)},e._relativeLuminanceForComponent=function(e){var t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)},e.prototype.isLighter=function(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3>=128},e.prototype.isLighterThan=function(e){return this.getRelativeLuminance()>e.getRelativeLuminance()},e.prototype.isDarkerThan=function(e){return this.getRelativeLuminance()<e.getRelativeLuminance()},e.prototype.lighten=function(t){return new e(new r(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*t,this.hsla.a))},e.prototype.darken=function(t){return new e(new r(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*t,this.hsla.a))},e.prototype.transparent=function(t){var n=this.rgba,i=n.r,r=n.g,a=n.b,s=n.a;return new e(new o(i,r,a,s*t))},e.prototype.isTransparent=function(){return 0===this.rgba.a},e.prototype.isOpaque=function(){return 1===this.rgba.a},e.prototype.opposite=function(){return new e(new o(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))},e.prototype.toString=function(){return e.Format.CSS.format(this)},e.getLighterColor=function(e,t,n){if(e.isLighterThan(t))return e;n=n||.5;var i=e.getRelativeLuminance(),o=t.getRelativeLuminance();return n=n*(o-i)/o,e.lighten(n)},e.getDarkerColor=function(e,t,n){if(e.isDarkerThan(t))return e;n=n||.5;var i=e.getRelativeLuminance();return n=n*(i-t.getRelativeLuminance())/i,e.darken(n)},e.white=new e(new o(255,255,255,1)),e.black=new e(new o(0,0,0,1)),e.red=new e(new o(255,0,0,1)),e.blue=new e(new o(0,0,255,1)),e.cyan=new e(new o(0,255,255,1)),e.lightgrey=new e(new o(211,211,211,1)),e.transparent=new e(new o(0,0,0,0)),e}();!function(e){!function(t){!function(t){function n(e){var t=e.toString(16);return 2!==t.length?"0"+t:t}function i(e){switch(e){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:case 65:return 10;case 98:case 66:return 11;case 99:case 67:return 12;case 100:case 68:return 13;case 101:case 69:return 14;case 102:case 70:return 15}return 0}t.formatRGB=function(t){return 1===t.rgba.a?"rgb("+t.rgba.r+", "+t.rgba.g+", "+t.rgba.b+")":e.Format.CSS.formatRGBA(t)},t.formatRGBA=function(e){return"rgba("+e.rgba.r+", "+e.rgba.g+", "+e.rgba.b+", "+ +e.rgba.a.toFixed(2)+")"},t.formatHSL=function(t){return 1===t.hsla.a?"hsl("+t.hsla.h+", "+(100*t.hsla.s).toFixed(2)+"%, "+(100*t.hsla.l).toFixed(2)+"%)":e.Format.CSS.formatHSLA(t)},t.formatHSLA=function(e){return"hsla("+e.hsla.h+", "+(100*e.hsla.s).toFixed(2)+"%, "+(100*e.hsla.l).toFixed(2)+"%, "+e.hsla.a.toFixed(2)+")"},t.formatHex=function(e){return"#"+n(e.rgba.r)+n(e.rgba.g)+n(e.rgba.b)},t.formatHexA=function(t,i){return void 0===i&&(i=!1),i&&1===t.rgba.a?e.Format.CSS.formatHex(t):"#"+n(t.rgba.r)+n(t.rgba.g)+n(t.rgba.b)+n(Math.round(255*t.rgba.a))},t.format=function(t){return t?t.isOpaque()?e.Format.CSS.formatHex(t):e.Format.CSS.formatRGBA(t):null},t.parseHex=function(t){if(!t)return null;var n=t.length;if(0===n)return null;if(35!==t.charCodeAt(0))return null;if(7===n){var r=16*i(t.charCodeAt(1))+i(t.charCodeAt(2)),a=16*i(t.charCodeAt(3))+i(t.charCodeAt(4)),s=16*i(t.charCodeAt(5))+i(t.charCodeAt(6));return new e(new o(r,a,s,1))}if(9===n){r=16*i(t.charCodeAt(1))+i(t.charCodeAt(2)),a=16*i(t.charCodeAt(3))+i(t.charCodeAt(4)),s=16*i(t.charCodeAt(5))+i(t.charCodeAt(6));var l=16*i(t.charCodeAt(7))+i(t.charCodeAt(8));return new e(new o(r,a,s,l/255))}if(4===n)return r=i(t.charCodeAt(1)),a=i(t.charCodeAt(2)),s=i(t.charCodeAt(3)),new e(new o(16*r+r,16*a+a,16*s+s));if(5===n)return r=i(t.charCodeAt(1)),a=i(t.charCodeAt(2)),s=i(t.charCodeAt(3)),l=i(t.charCodeAt(4)),new e(new o(16*r+r,16*a+a,16*s+s,(16*l+l)/255));return null}}(t.CSS||(t.CSS={}))}(e.Format||(e.Format={}))}(s||(s={}))},function(e,t,n){"use strict";(function(e,i){n.d(t,"g",function(){return p}),n.d(t,"d",function(){return m}),n.d(t,"c",function(){return g}),n.d(t,"e",function(){return b}),n.d(t,"f",function(){return y}),n.d(t,"b",function(){return v}),n.d(t,"h",function(){return _}),n.d(t,"a",function(){return S});var o,r=!1,a=!1,s=!1,l=!1,c=!1;if("object"===typeof e&&"function"===typeof e.nextTick&&"string"===typeof e.platform){r="win32"===e.platform,a="darwin"===e.platform,s="linux"===e.platform,"en","en";var u=Object({NODE_ENV:"production",PUBLIC_URL:"",HOMEPAGE:"https://www.hacklily.org",REACT_APP_GITHUB_CLIENT_ID:"10a6656f66c8392b4d35",REACT_APP_BACKEND_WS_URL:"wss://hacklily-render.nettek.ca/rpc"}).VSCODE_NLS_CONFIG;if(u)try{var d=JSON.parse(u),h=d.availableLanguages["*"];d.locale,h||"en",d._translationsConfigFile}catch(e){}l=!0}else if("object"===typeof navigator){var f=navigator.userAgent;r=f.indexOf("Windows")>=0,a=f.indexOf("Macintosh")>=0,s=f.indexOf("Linux")>=0,c=!0,navigator.language}!function(e){e[e.Web=0]="Web",e[e.Mac=1]="Mac",e[e.Linux=2]="Linux",e[e.Windows=3]="Windows"}(o||(o={}));o.Web;l&&(a?o.Mac:r?o.Windows:s&&o.Linux);var p=r,m=a,g=s,b=l,y=c,v="object"===typeof self?self:"object"===typeof i?i:{},w=null;function _(t){return null===w&&(w=v.setImmediate?v.setImmediate.bind(v):"undefined"!==typeof e&&"function"===typeof e.nextTick?e.nextTick.bind(e):v.setTimeout.bind(v)),w(t)}var S=a?2:r?1:3}).call(this,n(308),n(122))},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return r}),n.d(t,"d",function(){return s});var i,o,r,a=n(55);function s(e){return!(!e||"function"!==typeof e.getEditorType)&&e.getEditorType()===a.a.ICodeEditor}!function(e){e[e.EXACT=0]="EXACT",e[e.ABOVE=1]="ABOVE",e[e.BELOW=2]="BELOW"}(i||(i={})),function(e){e[e.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",e[e.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",e[e.TOP_CENTER=2]="TOP_CENTER"}(o||(o={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.TEXTAREA=1]="TEXTAREA",e[e.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",e[e.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",e[e.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",e[e.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",e[e.CONTENT_TEXT=6]="CONTENT_TEXT",e[e.CONTENT_EMPTY=7]="CONTENT_EMPTY",e[e.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",e[e.CONTENT_WIDGET=9]="CONTENT_WIDGET",e[e.OVERVIEW_RULER=10]="OVERVIEW_RULER",e[e.SCROLLBAR=11]="SCROLLBAR",e[e.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",e[e.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"n",function(){return u}),n.d(t,"i",function(){return d}),n.d(t,"h",function(){return h}),n.d(t,"o",function(){return f}),n.d(t,"e",function(){return p}),n.d(t,"a",function(){return m}),n.d(t,"d",function(){return g}),n.d(t,"m",function(){return b}),n.d(t,"g",function(){return y}),n.d(t,"k",function(){return v}),n.d(t,"j",function(){return w}),n.d(t,"l",function(){return _}),n.d(t,"f",function(){return S}),n.d(t,"b",function(){return C}),n.d(t,"c",function(){return x});var i,o=n(15),r=n(11),a=n(51),s=n(7),l=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function c(e){return e&&"function"===typeof e.then}function u(e){return c(e)?e:r.b.as(e)}function d(e){var t=new a.b,n=e(t.token),i=new Promise(function(e,i){t.token.onCancellationRequested(function(){i(o.a())}),Promise.resolve(n).then(function(n){t.dispose(),e(n)},function(e){t.dispose(),i(e)})});return new(function(){function e(){}return e.prototype.cancel=function(){t.cancel()},e.prototype.then=function(e,t){return i.then(e,t)},e.prototype.catch=function(e){return this.then(void 0,e)},e}())}function h(e){var t=new a.b;return new r.b(function(n,i,o){var a=e(t.token);a instanceof r.b?a.then(function(e){t.dispose(),n(e)},function(e){t.dispose(),i(e)},o):c(a)?a.then(function(e){t.dispose(),n(e)},function(e){t.dispose(),i(e)}):(t.dispose(),n(a))},function(){t.cancel()})}function f(e,t,n){var i=e.onCancellationRequested(function(){return t.cancel()});return n&&(t=t.then(void 0,function(e){if(!o.d(e))return r.b.wrapError(e)})),y(t,function(){return i.dispose()})}var p=function(){function e(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}return e.prototype.queue=function(e){var t=this;if(this.activePromise){if(this.queuedPromiseFactory=e,!this.queuedPromise){var n=function(){t.queuedPromise=null;var e=t.queue(t.queuedPromiseFactory);return t.queuedPromiseFactory=null,e};this.queuedPromise=new r.b(function(e,i,o){t.activePromise.then(n,n,o).done(e)},function(){t.activePromise.cancel()})}return new r.b(function(e,n,i){t.queuedPromise.then(e,n,i)},function(){})}return this.activePromise=e(),new r.b(function(e,n,i){t.activePromise.done(function(n){t.activePromise=null,e(n)},function(e){t.activePromise=null,n(e)},i)},function(){t.activePromise.cancel()})},e}(),m=function(){function e(e){this.defaultDelay=e,this.timeout=null,this.completionPromise=null,this.onSuccess=null,this.task=null}return e.prototype.trigger=function(e,t){var n=this;return void 0===t&&(t=this.defaultDelay),this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new r.b(function(e){n.onSuccess=e},function(){}).then(function(){n.completionPromise=null,n.onSuccess=null;var e=n.task;return n.task=null,e()})),this.timeout=setTimeout(function(){n.timeout=null,n.onSuccess(null)},t),this.completionPromise},e.prototype.cancel=function(){this.cancelTimeout(),this.completionPromise&&(this.completionPromise.cancel(),this.completionPromise=null)},e.prototype.cancelTimeout=function(){null!==this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},e}(),g=function(e){function t(t){var n,i,r,a;return n=e.call(this,function(e,t,n){i=e,r=t,a=n},function(){r(o.a())})||this,t.then(i,r,a),n}return l(t,e),t}(r.b);function b(e){return d(function(t){return new Promise(function(n,i){var r=setTimeout(n,e);t.onCancellationRequested(function(e){clearTimeout(r),i(o.a())})})})}function y(e,t){return n=e,r.b.is(n)&&"function"===typeof n.done?new r.b(function(n,i,r){e.done(function(e){try{t(e)}catch(e){o.e(e)}n(e)},function(e){try{t(e)}catch(e){o.e(e)}i(e)},function(e){r(e)})},function(){e.cancel()}):(e.then(function(e){return t()},function(e){return t()}),e);var n}function v(e,t,n){void 0===t&&(t=function(e){return!!e}),void 0===n&&(n=null);var i=0,o=e.length,r=function(){return i>=o?Promise.resolve(n):(0,e[i++])().then(function(e){return t(e)?Promise.resolve(e):r()})};return r()}function w(e,t,n){void 0===t&&(t=function(e){return!!e}),void 0===n&&(n=null);var i=0,o=e.length,a=function(){return i>=o?r.b.as(n):(0,e[i++])().then(function(e){return t(e)?r.b.as(e):a()})};return a()}function _(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=setTimeout.apply(void 0,[e,t].concat(n));return{dispose:function(){clearTimeout(o)}}}var S=function(e){function t(){var t=e.call(this)||this;return t._token=-1,t}return l(t,e),t.prototype.dispose=function(){this.cancel(),e.prototype.dispose.call(this)},t.prototype.cancel=function(){-1!==this._token&&(clearTimeout(this._token),this._token=-1)},t.prototype.cancelAndSet=function(e,t){var n=this;this.cancel(),this._token=setTimeout(function(){n._token=-1,e()},t)},t.prototype.setIfNotSet=function(e,t){var n=this;-1===this._token&&(this._token=setTimeout(function(){n._token=-1,e()},t))},t}(s.a),C=function(e){function t(){var t=e.call(this)||this;return t._token=-1,t}return l(t,e),t.prototype.dispose=function(){this.cancel(),e.prototype.dispose.call(this)},t.prototype.cancel=function(){-1!==this._token&&(clearInterval(this._token),this._token=-1)},t.prototype.cancelAndSet=function(e,t){this.cancel(),this._token=setInterval(function(){e()},t)},t}(s.a),x=function(){function e(e,t){this.timeoutToken=-1,this.runner=e,this.timeout=t,this.timeoutHandler=this.onTimeout.bind(this)}return e.prototype.dispose=function(){this.cancel(),this.runner=null},e.prototype.cancel=function(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)},e.prototype.schedule=function(e){void 0===e&&(e=this.timeout),this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,e)},e.prototype.isScheduled=function(){return-1!==this.timeoutToken},e.prototype.onTimeout=function(){this.timeoutToken=-1,this.runner&&this.doRun()},e.prototype.doRun=function(){this.runner()},e}()},function(e,t,n){"use strict";var i,o,r,a;n.d(t,"f",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return r}),n.d(t,"d",function(){return a}),n.d(t,"g",function(){return l}),n.d(t,"e",function(){return c}),n.d(t,"h",function(){return s}),n.d(t,"a",function(){return u}),function(e){e[e.Left=1]="Left",e[e.Center=2]="Center",e[e.Right=4]="Right",e[e.Full=7]="Full"}(i||(i={})),function(e){e[e.TextDefined=0]="TextDefined",e[e.LF=1]="LF",e[e.CRLF=2]="CRLF"}(o||(o={})),function(e){e[e.LF=1]="LF",e[e.CRLF=2]="CRLF"}(r||(r={})),function(e){e[e.LF=0]="LF",e[e.CRLF=1]="CRLF"}(a||(a={}));var s,l=function(){function e(e){this.tabSize=0|e.tabSize,this.insertSpaces=Boolean(e.insertSpaces),this.defaultEOL=0|e.defaultEOL,this.trimAutoWhitespace=Boolean(e.trimAutoWhitespace)}return e.prototype.equals=function(e){return this.tabSize===e.tabSize&&this.insertSpaces===e.insertSpaces&&this.defaultEOL===e.defaultEOL&&this.trimAutoWhitespace===e.trimAutoWhitespace},e.prototype.createChangeEvent=function(e){return{tabSize:this.tabSize!==e.tabSize,insertSpaces:this.insertSpaces!==e.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==e.trimAutoWhitespace}},e}(),c=function(){return function(e,t){this.range=e,this.matches=t}}();!function(e){e[e.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",e[e.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",e[e.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",e[e.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"}(s||(s={}));var u=function(){return function(e,t,n){this.reverseEdits=e,this.changes=t,this.trimAutoWhitespaceLineNumbers=n}}()},function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"f",function(){return l}),n.d(t,"b",function(){return u}),n.d(t,"d",function(){return d}),n.d(t,"a",function(){return h}),n.d(t,"e",function(){return p});var i=n(25),o=n(7),r=n(60),a=n(5),s=Object(i.c)("themeService");function l(e){return{id:e}}var c="dark",u="hc";function d(e){switch(e){case c:return"vs-dark";case u:return"hc-black";default:return"vs"}}var h={ThemingContribution:"base.contributions.theming"},f=new(function(){function e(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new a.a}return e.prototype.onThemeChange=function(e){var t=this;return this.themingParticipants.push(e),this.onThemingParticipantAddedEmitter.fire(e),Object(o.f)(function(){var n=t.themingParticipants.indexOf(e);t.themingParticipants.splice(n,1)})},e.prototype.getThemingParticipants=function(){return this.themingParticipants},e}());function p(e){return f.onThemeChange(e)}r.a.add(h.ThemingContribution,f)},function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"f",function(){return d}),n.d(t,"c",function(){return h}),n.d(t,"d",function(){return f}),n.d(t,"e",function(){return p}),n.d(t,"a",function(){return m});var i=n(10),o=n(9),r=n(30),a=n(26),s=n(2),l=n(35),c=n(15),u=function(){function e(t,n,i,o){this._languageIdentifier=t;var r=o.editor;this.readOnly=r.readOnly,this.tabSize=i.tabSize,this.insertSpaces=i.insertSpaces,this.oneIndent=n,this.pageSize=Math.max(1,Math.floor(r.layoutInfo.height/r.fontInfo.lineHeight)-2),this.lineHeight=r.lineHeight,this.useTabStops=r.useTabStops,this.wordSeparators=r.wordSeparators,this.emptySelectionClipboard=r.emptySelectionClipboard,this.multiCursorMergeOverlapping=r.multiCursorMergeOverlapping,this.autoClosingBrackets=r.autoClosingBrackets,this.autoIndent=r.autoIndent,this.autoClosingPairsOpen={},this.autoClosingPairsClose={},this.surroundingPairs={},this._electricChars=null;var a=e._getAutoClosingPairs(t);if(a)for(var s=0;s<a.length;s++)this.autoClosingPairsOpen[a[s].open]=a[s].close,this.autoClosingPairsClose[a[s].close]=a[s].open;var l=e._getSurroundingPairs(t);if(l)for(s=0;s<l.length;s++)this.surroundingPairs[l[s].open]=l[s].close}return e.shouldRecreate=function(e){return e.layoutInfo||e.wordSeparators||e.emptySelectionClipboard||e.multiCursorMergeOverlapping||e.autoClosingBrackets||e.useTabStops||e.lineHeight||e.readOnly},Object.defineProperty(e.prototype,"electricChars",{get:function(){if(!this._electricChars){this._electricChars={};var t=e._getElectricCharacters(this._languageIdentifier);if(t)for(var n=0;n<t.length;n++)this._electricChars[t[n]]=!0}return this._electricChars},enumerable:!0,configurable:!0}),e.prototype.normalizeIndentation=function(e){return r.b.normalizeIndentation(e,this.tabSize,this.insertSpaces)},e._getElectricCharacters=function(e){try{return l.a.getElectricCharacters(e.id)}catch(e){return Object(c.e)(e),null}},e._getAutoClosingPairs=function(e){try{return l.a.getAutoClosingPairs(e.id)}catch(e){return Object(c.e)(e),null}},e._getSurroundingPairs=function(e){try{return l.a.getSurroundingPairs(e.id)}catch(e){return Object(c.e)(e),null}},e}(),d=function(){function e(t,n,i,o){this.selectionStart=t,this.selectionStartLeftoverVisibleColumns=n,this.position=i,this.leftoverVisibleColumns=o,this.selection=e._computeSelection(this.selectionStart,this.position)}return e.prototype.equals=function(e){return this.selectionStartLeftoverVisibleColumns===e.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===e.leftoverVisibleColumns&&this.position.equals(e.position)&&this.selectionStart.equalsRange(e.selectionStart)},e.prototype.hasSelection=function(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()},e.prototype.move=function(t,n,o,r){return t?new e(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new i.a(n,o),r):new e(new s.a(n,o,n,o),r,new i.a(n,o),r)},e._computeSelection=function(e,t){var n,i,o,r;return e.isEmpty()?(n=e.startLineNumber,i=e.startColumn,o=t.lineNumber,r=t.column):t.isBeforeOrEqual(e.getStartPosition())?(n=e.endLineNumber,i=e.endColumn,o=t.lineNumber,r=t.column):(n=e.startLineNumber,i=e.startColumn,o=t.lineNumber,r=t.column),new a.a(n,i,o,r)},e}(),h=function(){function e(e,t,n){this.model=t,this.viewModel=n,this.config=new u(this.model.getLanguageIdentifier(),this.model.getOneIndent(),this.model.getOptions(),e)}return e.prototype.validateViewPosition=function(e,t){return this.viewModel.coordinatesConverter.validateViewPosition(e,t)},e.prototype.validateViewRange=function(e,t){return this.viewModel.coordinatesConverter.validateViewRange(e,t)},e.prototype.convertViewRangeToModelRange=function(e){return this.viewModel.coordinatesConverter.convertViewRangeToModelRange(e)},e.prototype.convertViewPositionToModelPosition=function(e,t){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new i.a(e,t))},e.prototype.convertModelPositionToViewPosition=function(e){return this.viewModel.coordinatesConverter.convertModelPositionToViewPosition(e)},e.prototype.convertModelRangeToViewRange=function(e){return this.viewModel.coordinatesConverter.convertModelRangeToViewRange(e)},e.prototype.getCurrentScrollTop=function(){return this.viewModel.viewLayout.getCurrentScrollTop()},e.prototype.getCompletelyVisibleViewRange=function(){return this.viewModel.getCompletelyVisibleViewRange()},e.prototype.getCompletelyVisibleModelRange=function(){var e=this.viewModel.getCompletelyVisibleViewRange();return this.viewModel.coordinatesConverter.convertViewRangeToModelRange(e)},e.prototype.getCompletelyVisibleViewRangeAtScrollTop=function(e){return this.viewModel.getCompletelyVisibleViewRangeAtScrollTop(e)},e.prototype.getVerticalOffsetForViewLine=function(e){return this.viewModel.viewLayout.getVerticalOffsetForLineNumber(e)},e}(),f=function(){function e(e,t){this.modelState=e,this.viewState=t}return e.fromModelState=function(t){return new e(t,null)},e.fromViewState=function(t){return new e(null,t)},e.fromModelSelection=function(t){var n=t.selectionStartLineNumber,o=t.selectionStartColumn,r=t.positionLineNumber,a=t.positionColumn,l=new d(new s.a(n,o,n,o),0,new i.a(r,a),0);return e.fromModelState(l)},e.fromModelSelections=function(e){for(var t=[],n=0,i=e.length;n<i;n++)t[n]=this.fromModelSelection(e[n]);return t},e.prototype.equals=function(e){return this.viewState.equals(e.viewState)&&this.modelState.equals(e.modelState)},e}(),p=function(){return function(e,t,n){this.type=e,this.commands=t,this.shouldPushStackElementBefore=n.shouldPushStackElementBefore,this.shouldPushStackElementAfter=n.shouldPushStackElementAfter}}(),m=function(){function e(){}return e.isLowSurrogate=function(e,t,n){var i=e.getLineContent(t);return!(n<0||n>=i.length)&&o.isLowSurrogate(i.charCodeAt(n))},e.isHighSurrogate=function(e,t,n){var i=e.getLineContent(t);return!(n<0||n>=i.length)&&o.isHighSurrogate(i.charCodeAt(n))},e.isInsideSurrogatePair=function(e,t,n){return this.isHighSurrogate(e,t,n-2)},e.visibleColumnFromColumn=function(e,t,n){var i=e.length;i>t-1&&(i=t-1);for(var r=0,a=0;a<i;a++){var s=e.charCodeAt(a);9===s?r=this.nextTabStop(r,n):o.isFullWidthCharacter(s)?r+=2:r+=1}return r},e.visibleColumnFromColumn2=function(e,t,n){return this.visibleColumnFromColumn(t.getLineContent(n.lineNumber),n.column,e.tabSize)},e.columnFromVisibleColumn=function(e,t,n){if(t<=0)return 1;for(var i=e.length,r=0,a=0;a<i;a++){var s=e.charCodeAt(a),l=void 0;if((l=9===s?this.nextTabStop(r,n):o.isFullWidthCharacter(s)?r+2:r+1)>=t)return l-t<t-r?a+2:a+1;r=l}return i+1},e.columnFromVisibleColumn2=function(e,t,n,i){var o=this.columnFromVisibleColumn(t.getLineContent(n),i,e.tabSize),r=t.getLineMinColumn(n);if(o<r)return r;var a=t.getLineMaxColumn(n);return o>a?a:o},e.nextTabStop=function(e,t){return e+t-e%t},e.prevTabStop=function(e,t){return e-1-(e-1)%t},e}()},function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"h",function(){return r}),n.d(t,"g",function(){return a}),n.d(t,"f",function(){return s}),n.d(t,"c",function(){return l}),n.d(t,"i",function(){return c}),n.d(t,"j",function(){return u}),n.d(t,"d",function(){return h}),n.d(t,"e",function(){return f}),n.d(t,"k",function(){return p}),n.d(t,"a",function(){return g});var i={number:"number",string:"string",undefined:"undefined",object:"object",function:"function"};function o(e){return Array.isArray?Array.isArray(e):!(!e||typeof e.length!==i.number||e.constructor!==Array)}function r(e){return typeof e===i.string||e instanceof String}function a(e){return typeof e===i.object&&null!==e&&!Array.isArray(e)&&!(e instanceof RegExp)&&!(e instanceof Date)}function s(e){return(typeof e===i.number||e instanceof Number)&&!isNaN(e)}function l(e){return!0===e||!1===e}function c(e){return typeof e===i.undefined}function u(e){return c(e)||null===e}var d=Object.prototype.hasOwnProperty;function h(e){if(!a(e))return!1;for(var t in e)if(d.call(e,t))return!1;return!0}function f(e){return typeof e===i.function}function p(e,t){for(var n=Math.min(e.length,t.length),i=0;i<n;i++)m(e[i],t[i])}function m(e,t){if(r(t)){if(typeof e!==t)throw new Error("argument does not match constraint: typeof "+t)}else if(f(t)){if(e instanceof t)return;if(!u(e)&&e.constructor===t)return;if(1===t.length&&!0===t.call(void 0,e))return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function g(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=Object.create(e.prototype);return e.apply(i,t),i}},function(e,t,n){"use strict";var i;n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return s}),function(e){e.serviceIds=new Map,e.DI_TARGET="$di$target",e.DI_DEPENDENCIES="$di$dependencies",e.getServiceDependencies=function(t){return t[e.DI_DEPENDENCIES]||[]}}(i||(i={}));var o=a("instantiationService");function r(e,t,n,o){t[i.DI_TARGET]===t?t[i.DI_DEPENDENCIES].push({id:e,index:n,optional:o}):(t[i.DI_DEPENDENCIES]=[{id:e,index:n,optional:o}],t[i.DI_TARGET]=t)}function a(e){if(i.serviceIds.has(e))return i.serviceIds.get(e);var t=function(e,n,i){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");r(t,e,i,!1)};return t.toString=function(){return e},i.serviceIds.set(e,t),t}function s(e){return function(t,n,i){if(3!==arguments.length)throw new Error("@optional-decorator can only be used to decorate a parameter");r(e,t,i,!0)}}},function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return l});var i,o,r=n(2),a=n(10),s=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});!function(e){e[e.LTR=0]="LTR",e[e.RTL=1]="RTL"}(o||(o={}));var l=function(e){function t(t,n,i,o){var r=e.call(this,t,n,i,o)||this;return r.selectionStartLineNumber=t,r.selectionStartColumn=n,r.positionLineNumber=i,r.positionColumn=o,r}return s(t,e),t.prototype.clone=function(){return new t(this.selectionStartLineNumber,this.selectionStartColumn,this.positionLineNumber,this.positionColumn)},t.prototype.toString=function(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"},t.prototype.equalsSelection=function(e){return t.selectionsEqual(this,e)},t.selectionsEqual=function(e,t){return e.selectionStartLineNumber===t.selectionStartLineNumber&&e.selectionStartColumn===t.selectionStartColumn&&e.positionLineNumber===t.positionLineNumber&&e.positionColumn===t.positionColumn},t.prototype.getDirection=function(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?o.LTR:o.RTL},t.prototype.setEndPosition=function(e,n){return this.getDirection()===o.LTR?new t(this.startLineNumber,this.startColumn,e,n):new t(e,n,this.startLineNumber,this.startColumn)},t.prototype.getPosition=function(){return new a.a(this.positionLineNumber,this.positionColumn)},t.prototype.setStartPosition=function(e,n){return this.getDirection()===o.LTR?new t(e,n,this.endLineNumber,this.endColumn):new t(this.endLineNumber,this.endColumn,e,n)},t.fromPositions=function(e,n){return void 0===n&&(n=e),new t(e.lineNumber,e.column,n.lineNumber,n.column)},t.liftSelection=function(e){return new t(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn)},t.selectionsArrEqual=function(e,t){if(e&&!t||!e&&t)return!1;if(!e&&!t)return!0;if(e.length!==t.length)return!1;for(var n=0,i=e.length;n<i;n++)if(!this.selectionsEqual(e[n],t[n]))return!1;return!0},t.isISelection=function(e){return e&&"number"===typeof e.selectionStartLineNumber&&"number"===typeof e.selectionStartColumn&&"number"===typeof e.positionLineNumber&&"number"===typeof e.positionColumn},t.createWithDirection=function(e,n,i,r,a){return a===o.LTR?new t(e,n,i,r):new t(i,r,e,n)},t}(r.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i="undefined"===typeof monaco?self.monaco:monaco,o={};var r={};function a(e){return r[e]||(r[e]=function(e){return(0,o[e].loader)().then(function(t){i.languages.setMonarchTokensProvider(e,t.language),i.languages.setLanguageConfiguration(e,t.conf)})}(e)),r[e]}function s(e){var t=e.id;o[t]=e,i.languages.register(e),i.languages.onLanguage(t,function(){a(t)})}},function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"c",function(){return a}),n.d(t,"p",function(){return s}),n.d(t,"b",function(){return l}),n.d(t,"a",function(){return c}),n.d(t,"o",function(){return u}),n.d(t,"k",function(){return h}),n.d(t,"g",function(){return f}),n.d(t,"h",function(){return p}),n.d(t,"j",function(){return m}),n.d(t,"n",function(){return g}),n.d(t,"f",function(){return b}),n.d(t,"m",function(){return y}),n.d(t,"l",function(){return v}),n.d(t,"i",function(){return w}),n.d(t,"e",function(){return _});var i=n(5),o=function(){function e(){this._zoomLevel=0,this._lastZoomLevelChangeTime=0,this._onDidChangeZoomLevel=new i.a,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event,this._accessibilitySupport=0,this._onDidChangeAccessibilitySupport=new i.a,this.onDidChangeAccessibilitySupport=this._onDidChangeAccessibilitySupport.event}return e.prototype.getZoomLevel=function(){return this._zoomLevel},e.prototype.getTimeSinceLastZoomLevelChanged=function(){return Date.now()-this._lastZoomLevelChangeTime},e.prototype.getPixelRatio=function(){var e=document.createElement("canvas").getContext("2d");return(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)},e.prototype.getAccessibilitySupport=function(){return this._accessibilitySupport},e.INSTANCE=new e,e}();function r(){return o.INSTANCE.getZoomLevel()}function a(){return o.INSTANCE.getTimeSinceLastZoomLevelChanged()}function s(e){return o.INSTANCE.onDidChangeZoomLevel(e)}function l(){return o.INSTANCE.getPixelRatio()}function c(){return o.INSTANCE.getAccessibilitySupport()}function u(e){return o.INSTANCE.onDidChangeAccessibilitySupport(e)}var d=navigator.userAgent,h=d.indexOf("Trident")>=0,f=d.indexOf("Edge/")>=0,p=h||f,m=d.indexOf("Firefox")>=0,g=d.indexOf("AppleWebKit")>=0,b=d.indexOf("Chrome")>=0,y=-1===d.indexOf("Chrome")&&d.indexOf("Safari")>=0,v=d.indexOf("iPad")>=0,w=f&&d.indexOf("WebView/")>=0;function _(){if(h)return!1;if(f){var e=d.indexOf("Edge/"),t=parseInt(d.substring(e+5,d.indexOf(".",e)),10);if(!t||t>=12&&t<=16)return!1}return!0}},function(e,t,n){"use strict";function i(e,t){return void 0===t&&(t=0),e[e.length-(1+t)]}function o(e,t,n){if(void 0===n&&(n=function(e,t){return e===t}),e.length!==t.length)return!1;for(var i=0,o=e.length;i<o;i++)if(!n(e[i],t[i]))return!1;return!0}function r(e,t,n){for(var i=0,o=e.length-1;i<=o;){var r=(i+o)/2|0,a=n(e[r],t);if(a<0)i=r+1;else{if(!(a>0))return r;o=r-1}}return-(i+1)}function a(e,t){var n=0,i=e.length;if(0===i)return 0;for(;n<i;){var o=Math.floor((n+i)/2);t(e[o])?i=o:n=o+1}return n}function s(e,t){return function e(t,n,i,o,r){if(o<=i)return;var a=i+(o-i)/2|0;e(t,n,i,a,r);e(t,n,a+1,o,r);if(n(t[a],t[a+1])<=0)return;!function(e,t,n,i,o,r){for(var a=n,s=i+1,l=n;l<=o;l++)r[l]=e[l];for(var l=n;l<=o;l++)a>i?e[l]=r[s++]:s>o?e[l]=r[a++]:t(r[s],r[a])<0?e[l]=r[s++]:e[l]=r[a++]}(t,n,i,a,o,r)}(e,t,0,e.length-1,[]),e}function l(e,t){for(var n,i=[],o=0,r=s(e.slice(0),t);o<r.length;o++){var a=r[o];n&&0===t(n[0],a)?n.push(a):(n=[a],i.push(n))}return i}function c(e,t){if(!e&&!t)return e;if(!t)return e.filter(function(e){return!!e});for(var n=0,i=0;i<e.length;i++)e[i]&&(e[n]=e[i],n+=1);e.length=n}function u(e){return!Array.isArray(e)||0===e.length}function d(e,t){if(!t)return e.filter(function(t,n){return e.indexOf(t)===n});var n=Object.create(null);return e.filter(function(e){var i=t(e);return!n[i]&&(n[i]=!0,!0)})}function h(e,t){for(var n=0;n<e.length;n++){if(t(e[n]))return n}return-1}function f(e,t,n){void 0===n&&(n=null);var i=h(e,t);return i<0?n:e[i]}function p(e){return[].concat.apply([],e)}function m(e,t){var n="number"===typeof t?e:0;"number"===typeof t?n=e:(n=0,t=e);var i=[];if(n<=t)for(var o=n;o<t;o++)i.push(o);else for(o=n;o>t;o--)i.push(o);return i}function g(e,t,n){var i=e.slice(0,t),o=e.slice(t);return i.concat(n,o)}n.d(t,"n",function(){return i}),n.d(t,"e",function(){return o}),n.d(t,"b",function(){return r}),n.d(t,"f",function(){return a}),n.d(t,"l",function(){return s}),n.d(t,"j",function(){return l}),n.d(t,"c",function(){return c}),n.d(t,"k",function(){return u}),n.d(t,"d",function(){return d}),n.d(t,"h",function(){return h}),n.d(t,"g",function(){return f}),n.d(t,"i",function(){return p}),n.d(t,"m",function(){return m}),n.d(t,"a",function(){return g})},function(e,t,n){"use strict";var i=n(36),o=n(5),r=n(21),a=n(12),s=n(15),l=function(){function e(e,t){this.beforeVersionId=e,this.beforeCursorState=t,this.afterCursorState=null,this.afterVersionId=-1,this.editOperations=[]}return e.prototype.undo=function(e){for(var t=this.editOperations.length-1;t>=0;t--)this.editOperations[t]={operations:e.applyEdits(this.editOperations[t].operations)}},e.prototype.redo=function(e){for(var t=0;t<this.editOperations.length;t++)this.editOperations[t]={operations:e.applyEdits(this.editOperations[t].operations)}},e}();function c(e){return"\n"===e.getEOL()?r.d.LF:r.d.CRLF}var u=function(){function e(e,t){this.beforeVersionId=e,this.beforeCursorState=null,this.afterCursorState=null,this.afterVersionId=-1,this.eol=t}return e.prototype.undo=function(e){var t=c(e);e.setEOL(this.eol),this.eol=t},e.prototype.redo=function(e){var t=c(e);e.setEOL(this.eol),this.eol=t},e}(),d=function(){function e(e){this.model=e,this.currentOpenStackElement=null,this.past=[],this.future=[]}return e.prototype.pushStackElement=function(){null!==this.currentOpenStackElement&&(this.past.push(this.currentOpenStackElement),this.currentOpenStackElement=null)},e.prototype.clear=function(){this.currentOpenStackElement=null,this.past=[],this.future=[]},e.prototype.pushEOL=function(e){this.future=[],this.currentOpenStackElement&&this.pushStackElement();var t=c(this.model),n=new u(this.model.getAlternativeVersionId(),t);this.model.setEOL(e),n.afterVersionId=this.model.getVersionId(),this.currentOpenStackElement=n,this.pushStackElement()},e.prototype.pushEditOperation=function(t,n,i){this.future=[];var o=null;this.currentOpenStackElement&&(this.currentOpenStackElement instanceof l?o=this.currentOpenStackElement:this.pushStackElement()),this.currentOpenStackElement||(o=new l(this.model.getAlternativeVersionId(),t),this.currentOpenStackElement=o);var r={operations:this.model.applyEdits(n)};return o.editOperations.push(r),o.afterCursorState=e._computeCursorState(i,r.operations),o.afterVersionId=this.model.getVersionId(),o.afterCursorState},e._computeCursorState=function(e,t){try{return e?e(t):null}catch(e){return Object(s.e)(e),null}},e.prototype.undo=function(){if(this.pushStackElement(),this.past.length>0){var e=this.past.pop();try{e.undo(this.model)}catch(e){return Object(s.e)(e),this.clear(),null}return this.future.push(e),{selections:e.beforeCursorState,recordedVersionId:e.beforeVersionId}}return null},e.prototype.canUndo=function(){return this.past.length>0},e.prototype.redo=function(){if(this.future.length>0){var e=this.future.pop();try{e.redo(this.model)}catch(e){return Object(s.e)(e),this.clear(),null}return this.past.push(e),{selections:e.afterCursorState,recordedVersionId:e.afterVersionId}}return null},e.prototype.canRedo=function(){return this.future.length>0},e}(),h=n(2),f=n(26),p=function(){return function(){this.changeType=1}}(),m=function(){return function(e,t){this.changeType=2,this.lineNumber=e,this.detail=t}}(),g=function(){return function(e,t){this.changeType=3,this.fromLineNumber=e,this.toLineNumber=t}}(),b=function(){return function(e,t,n){this.changeType=4,this.fromLineNumber=e,this.toLineNumber=t,this.detail=n}}(),y=function(){return function(){this.changeType=5}}(),v=function(){function e(e,t,n,i){this.changes=e,this.versionId=t,this.isUndoing=n,this.isRedoing=i}return e.prototype.containsEvent=function(e){for(var t=0,n=this.changes.length;t<n;t++){if(this.changes[t].changeType===e)return!0}return!1},e.merge=function(t,n){return new e([].concat(t.changes).concat(n.changes),n.versionId,t.isUndoing||n.isUndoing,t.isRedoing||n.isRedoing)},e}(),w=function(){function e(e,t){this.rawContentChangedEvent=e,this.contentChangedEvent=t}return e.prototype.merge=function(t){return new e(v.merge(this.rawContentChangedEvent,t.rawContentChangedEvent),e._mergeChangeEvents(this.contentChangedEvent,t.contentChangedEvent))},e._mergeChangeEvents=function(e,t){return{changes:[].concat(e.changes).concat(t.changes),eol:t.eol,versionId:t.versionId,isUndoing:e.isUndoing||t.isUndoing,isRedoing:e.isRedoing||t.isRedoing,isFlush:e.isFlush||t.isFlush}},e}(),_=n(9);function S(e){return(1&e.metadata)>>>0}function C(e,t){e.metadata=254&e.metadata|t<<0}function x(e){return(2&e.metadata)>>>1===1}function k(e,t){e.metadata=253&e.metadata|(t?1:0)<<1}function T(e){return(4&e.metadata)>>>2===1}function O(e,t){e.metadata=251&e.metadata|(t?1:0)<<2}function N(e){return(8&e.metadata)>>>3===1}function L(e,t){e.metadata=247&e.metadata|(t?1:0)<<3}function I(e,t){e.metadata=207&e.metadata|t<<4}var E=function(){function e(e,t,n){this.metadata=0,this.parent=null,this.left=null,this.right=null,C(this,1),this.start=t,this.end=n,this.delta=0,this.maxEnd=n,this.id=e,this.ownerId=0,this.options=null,O(this,!1),I(this,1),L(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=n,this.range=null,k(this,!1)}return e.prototype.reset=function(e,t,n,i){this.start=t,this.end=n,this.maxEnd=n,this.cachedVersionId=e,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=n,this.range=i},e.prototype.setOptions=function(e){this.options=e;var t=this.options.className;O(this,"squiggly-error"===t||"squiggly-warning"===t||"squiggly-info"===t),I(this,this.options.stickiness),L(this,!!this.options.overviewRuler.color)},e.prototype.setCachedOffsets=function(e,t,n){this.cachedVersionId!==n&&(this.range=null),this.cachedVersionId=n,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=t},e.prototype.detach=function(){this.parent=null,this.left=null,this.right=null},e}(),D=new E(null,0,0);D.parent=D,D.left=D,D.right=D,C(D,0);var A=function(){function e(){this.root=D,this.requestNormalizeDelta=!1}return e.prototype.intervalSearch=function(e,t,n,i,o){return this.root===D?[]:function(e,t,n,i,o,r){var a=e.root,s=0,l=0,c=0,u=[],d=0;for(;a!==D;)if(x(a))k(a.left,!1),k(a.right,!1),a===a.parent.right&&(s-=a.parent.delta),a=a.parent;else{if(!x(a.left)){if(s+a.maxEnd<t){k(a,!0);continue}if(a.left!==D){a=a.left;continue}}if((l=s+a.start)>n)k(a,!0);else{if((c=s+a.end)>=t){a.setCachedOffsets(l,c,r);var h=!0;i&&a.ownerId&&a.ownerId!==i&&(h=!1),o&&T(a)&&(h=!1),h&&(u[d++]=a)}k(a,!0),a.right===D||x(a.right)||(s+=a.delta,a=a.right)}}return k(e.root,!1),u}(this,e,t,n,i,o)},e.prototype.search=function(e,t,n){return this.root===D?[]:function(e,t,n,i){var o=e.root,r=0,a=0,s=0,l=[],c=0;for(;o!==D;)if(x(o))k(o.left,!1),k(o.right,!1),o===o.parent.right&&(r-=o.parent.delta),o=o.parent;else if(o.left===D||x(o.left)){a=r+o.start,s=r+o.end,o.setCachedOffsets(a,s,i);var u=!0;t&&o.ownerId&&o.ownerId!==t&&(u=!1),n&&T(o)&&(u=!1),u&&(l[c++]=o),k(o,!0),o.right===D||x(o.right)||(r+=o.delta,o=o.right)}else o=o.left;return k(e.root,!1),l}(this,e,t,n)},e.prototype.collectNodesFromOwner=function(e){return function(e,t){var n=e.root,i=[],o=0;for(;n!==D;)x(n)?(k(n.left,!1),k(n.right,!1),n=n.parent):n.left===D||x(n.left)?(n.ownerId===t&&(i[o++]=n),k(n,!0),n.right===D||x(n.right)||(n=n.right)):n=n.left;return k(e.root,!1),i}(this,e)},e.prototype.collectNodesPostOrder=function(){return function(e){var t=e.root,n=[],i=0;for(;t!==D;)x(t)?(k(t.left,!1),k(t.right,!1),t=t.parent):t.left===D||x(t.left)?t.right===D||x(t.right)?(n[i++]=t,k(t,!0)):t=t.right:t=t.left;return k(e.root,!1),n}(this)},e.prototype.insert=function(e){R(this,e),this._normalizeDeltaIfNecessary()},e.prototype.delete=function(e){F(this,e),this._normalizeDeltaIfNecessary()},e.prototype.resolveNode=function(e,t){for(var n=e,i=0;e!==this.root;)e===e.parent.right&&(i+=e.parent.delta),e=e.parent;var o=n.start+i,r=n.end+i;n.setCachedOffsets(o,r,t)},e.prototype.acceptReplace=function(e,t,n,i){for(var o=function(e,t,n){var i=e.root,o=0,r=0,a=0,s=[],l=0;for(;i!==D;)if(x(i))k(i.left,!1),k(i.right,!1),i===i.parent.right&&(o-=i.parent.delta),i=i.parent;else{if(!x(i.left)){if(o+i.maxEnd<t){k(i,!0);continue}if(i.left!==D){i=i.left;continue}}(r=o+i.start)>n?k(i,!0):((a=o+i.end)>=t&&(i.setCachedOffsets(r,a,0),s[l++]=i),k(i,!0),i.right===D||x(i.right)||(o+=i.delta,i=i.right))}return k(e.root,!1),s}(this,e,e+t),r=0,a=o.length;r<a;r++){F(this,s=o[r])}this._normalizeDeltaIfNecessary(),function(e,t,n,i){var o=e.root,r=0,a=i-(n-t);for(;o!==D;)if(x(o))k(o.left,!1),k(o.right,!1),o===o.parent.right&&(r-=o.parent.delta),H(o),o=o.parent;else{if(!x(o.left)){if(r+o.maxEnd<t){k(o,!0);continue}if(o.left!==D){o=o.left;continue}}r+o.start>n?(o.start+=a,o.end+=a,o.delta+=a,(o.delta<-1073741824||o.delta>1073741824)&&(e.requestNormalizeDelta=!0),k(o,!0)):(k(o,!0),o.right===D||x(o.right)||(r+=o.delta,o=o.right))}k(e.root,!1)}(this,e,e+t,n),this._normalizeDeltaIfNecessary();for(r=0,a=o.length;r<a;r++){var s;(s=o[r]).start=s.cachedAbsoluteStart,s.end=s.cachedAbsoluteEnd,P(s,e,e+t,n,i),s.maxEnd=s.end,R(this,s)}this._normalizeDeltaIfNecessary()},e.prototype._normalizeDeltaIfNecessary=function(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,function(e){var t=e.root,n=0;for(;t!==D;)t.left===D||x(t.left)?t.right===D||x(t.right)?(t.start=n+t.start,t.end=n+t.end,t.delta=0,H(t),k(t,!0),k(t.left,!1),k(t.right,!1),t===t.parent.right&&(n-=t.parent.delta),t=t.parent):(n+=t.delta,t=t.right):t=t.left;k(e.root,!1)}(this))},e}();function M(e,t,n,i){return e<n||!(e>n)&&(1!==i&&(2===i||t))}function P(e,t,n,i,o){var r=function(e){return(48&e.metadata)>>>4}(e),a=0===r||2===r,s=1===r||2===r,l=n-t,c=i,u=Math.min(l,c),d=e.start,h=!1,f=e.end,p=!1,m=o?1:l>0?2:0;if(!h&&M(d,a,t,m)&&(h=!0),!p&&M(f,s,t,m)&&(p=!0),u>0&&!o){m=l>c?2:0;!h&&M(d,a,t+u,m)&&(h=!0),!p&&M(f,s,t+u,m)&&(p=!0)}m=o?1:0;!h&&M(d,a,n,m)&&(e.start=t+c,h=!0),!p&&M(f,s,n,m)&&(e.end=t+c,p=!0);var g=c-l;h||(e.start=Math.max(0,d+g),h=!0),p||(e.end=Math.max(0,f+g),p=!0),e.start>e.end&&(e.end=e.start)}function R(e,t){if(e.root===D)return t.parent=D,t.left=D,t.right=D,C(t,0),e.root=t,e.root;!function(e,t){var n=0,i=e.root,o=t.start,r=t.end;for(;;){var a=U(o,r,i.start+n,i.end+n);if(a<0){if(i.left===D){t.start-=n,t.end-=n,t.maxEnd-=n,i.left=t;break}i=i.left}else{if(i.right===D){t.start-=n+i.delta,t.end-=n+i.delta,t.maxEnd-=n+i.delta,i.right=t;break}n+=i.delta,i=i.right}}t.parent=i,t.left=D,t.right=D,C(t,1)}(e,t),z(t.parent);for(var n=t;n!==e.root&&1===S(n.parent);){var i;if(n.parent===n.parent.parent.left)1===S(i=n.parent.parent.right)?(C(n.parent,0),C(i,0),C(n.parent.parent,1),n=n.parent.parent):(n===n.parent.right&&W(e,n=n.parent),C(n.parent,0),C(n.parent.parent,1),V(e,n.parent.parent));else 1===S(i=n.parent.parent.left)?(C(n.parent,0),C(i,0),C(n.parent.parent,1),n=n.parent.parent):(n===n.parent.left&&V(e,n=n.parent),C(n.parent,0),C(n.parent.parent,1),W(e,n.parent.parent))}return C(e.root,0),t}function F(e,t){var n,i;if(t.left===D?(i=t,(n=t.right).delta+=t.delta,(n.delta<-1073741824||n.delta>1073741824)&&(e.requestNormalizeDelta=!0),n.start+=t.delta,n.end+=t.delta):t.right===D?(n=t.left,i=t):((n=(i=function(e){for(;e.left!==D;)e=e.left;return e}(t.right)).right).start+=i.delta,n.end+=i.delta,n.delta+=i.delta,(n.delta<-1073741824||n.delta>1073741824)&&(e.requestNormalizeDelta=!0),i.start+=t.delta,i.end+=t.delta,i.delta=t.delta,(i.delta<-1073741824||i.delta>1073741824)&&(e.requestNormalizeDelta=!0)),i===e.root)return e.root=n,C(n,0),t.detach(),j(),H(n),void(e.root.parent=D);var o,r=1===S(i);if(i===i.parent.left?i.parent.left=n:i.parent.right=n,i===t?n.parent=i.parent:(i.parent===t?n.parent=i:n.parent=i.parent,i.left=t.left,i.right=t.right,i.parent=t.parent,C(i,S(t)),t===e.root?e.root=i:t===t.parent.left?t.parent.left=i:t.parent.right=i,i.left!==D&&(i.left.parent=i),i.right!==D&&(i.right.parent=i)),t.detach(),r)return z(n.parent),i!==t&&(z(i),z(i.parent)),void j();for(z(n),z(n.parent),i!==t&&(z(i),z(i.parent));n!==e.root&&0===S(n);)n===n.parent.left?(1===S(o=n.parent.right)&&(C(o,0),C(n.parent,1),W(e,n.parent),o=n.parent.right),0===S(o.left)&&0===S(o.right)?(C(o,1),n=n.parent):(0===S(o.right)&&(C(o.left,0),C(o,1),V(e,o),o=n.parent.right),C(o,S(n.parent)),C(n.parent,0),C(o.right,0),W(e,n.parent),n=e.root)):(1===S(o=n.parent.left)&&(C(o,0),C(n.parent,1),V(e,n.parent),o=n.parent.left),0===S(o.left)&&0===S(o.right)?(C(o,1),n=n.parent):(0===S(o.left)&&(C(o.right,0),C(o,1),W(e,o),o=n.parent.left),C(o,S(n.parent)),C(n.parent,0),C(o.left,0),V(e,n.parent),n=e.root));C(n,0),j()}function j(){D.parent=D,D.delta=0,D.start=0,D.end=0}function W(e,t){var n=t.right;n.delta+=t.delta,(n.delta<-1073741824||n.delta>1073741824)&&(e.requestNormalizeDelta=!0),n.start+=t.delta,n.end+=t.delta,t.right=n.left,n.left!==D&&(n.left.parent=t),n.parent=t.parent,t.parent===D?e.root=n:t===t.parent.left?t.parent.left=n:t.parent.right=n,n.left=t,t.parent=n,H(t),H(n)}function V(e,t){var n=t.left;t.delta-=n.delta,(t.delta<-1073741824||t.delta>1073741824)&&(e.requestNormalizeDelta=!0),t.start-=n.delta,t.end-=n.delta,t.left=n.right,n.right!==D&&(n.right.parent=t),n.parent=t.parent,t.parent===D?e.root=n:t===t.parent.right?t.parent.right=n:t.parent.left=n,n.right=t,t.parent=n,H(t),H(n)}function B(e){var t=e.end;if(e.left!==D){var n=e.left.maxEnd;n>t&&(t=n)}if(e.right!==D){var i=e.right.maxEnd+e.delta;i>t&&(t=i)}return t}function H(e){e.maxEnd=B(e)}function z(e){for(;e!==D;){var t=B(e);if(e.maxEnd===t)return;e.maxEnd=t,e=e.parent}}function U(e,t,n,i){return e===n?t-i:e-n}var q=n(7),G=n(18),K=G.b.performance&&"function"===typeof G.b.performance.now,Y=function(){function e(e){this._highResolution=K&&e,this._startTime=this._now(),this._stopTime=-1}return e.create=function(t){return void 0===t&&(t=!0),new e(t)},e.prototype.elapsed=function(){return-1!==this._stopTime?this._stopTime-this._startTime:this._now()-this._startTime},e.prototype._now=function(){return this._highResolution?G.b.performance.now():(new Date).getTime()},e}(),Z=n(71),$=n(87),X=n(106),Q=n(10),J=n(35),ee=n(105),te=n(88),ne=n(29);function ie(e){return(16384|e<<0|2<<23)>>>0}var oe=new Uint32Array(0).buffer,re=function(){function e(e){this._state=e,this._lineTokens=null,this._invalid=!0}return e.prototype.deleteBeginning=function(e){null!==this._lineTokens&&this._lineTokens!==oe&&this.delete(0,e)},e.prototype.deleteEnding=function(e){if(null!==this._lineTokens&&this._lineTokens!==oe){var t=new Uint32Array(this._lineTokens),n=t[t.length-2];this.delete(e,n)}},e.prototype.delete=function(e,t){if(null!==this._lineTokens&&this._lineTokens!==oe&&e!==t){var n=new Uint32Array(this._lineTokens),i=n.length>>>1;if(0!==e||n[n.length-2]!==t){var o=te.a.findIndexInTokensArray(n,e),r=o>0?n[o-1<<1]:0;if(t<n[o<<1])for(var a=t-e,s=o;s<i;s++)n[s<<1]-=a;else{var l,c;r!==e?(n[o<<1]=e,l=o+1<<1,c=e):(l=o<<1,c=r);for(var u=t-e,d=o+1;d<i;d++){var h=n[d<<1]-u;h>c&&(n[l++]=h,n[l++]=n[1+(d<<1)],c=h)}if(l!==n.length){var f=new Uint32Array(l);f.set(n.subarray(0,l),0),this._lineTokens=f.buffer}}}else this._lineTokens=oe}},e.prototype.append=function(e){if(e!==oe)if(this._lineTokens!==oe){if(null!==this._lineTokens)if(null!==e){var t=new Uint32Array(this._lineTokens),n=new Uint32Array(e),i=n.length>>>1,o=new Uint32Array(t.length+n.length);o.set(t,0);for(var r=t.length,a=t[t.length-2],s=0;s<i;s++)o[r++]=n[s<<1]+a,o[r++]=n[1+(s<<1)];this._lineTokens=o.buffer}else this._lineTokens=null}else this._lineTokens=e},e.prototype.insert=function(e,t){if(this._lineTokens){var n=new Uint32Array(this._lineTokens),i=n.length>>>1,o=te.a.findIndexInTokensArray(n,e);if(o>0)(o>0?n[o-1<<1]:0)===e&&o--;for(var r=o;r<i;r++)n[r<<1]+=t}},e}(),ae=function(){function e(e,t){if(this.languageIdentifier=e,this.tokenizationSupport=t,this._tokens=[],this.tokenizationSupport){var n=null;try{n=this.tokenizationSupport.getInitialState()}catch(e){Object(s.e)(e),this.tokenizationSupport=null}n&&(this._tokens[0]=new re(n))}this._invalidLineStartIndex=0,this._lastState=null}return Object.defineProperty(e.prototype,"inValidLineStartIndex",{get:function(){return this._invalidLineStartIndex},enumerable:!0,configurable:!0}),e.prototype.getTokens=function(e,t,n){var i=null;if(t<this._tokens.length&&this._tokens[t]&&(i=this._tokens[t]._lineTokens),null!==i&&i!==oe)return new te.a(new Uint32Array(i),n);var o=new Uint32Array(2);return o[0]=n.length,o[1]=ie(e),new te.a(o,n)},e.prototype.isCheapToTokenize=function(e){return this._invalidLineStartIndex+1>=e},e.prototype.hasLinesToTokenize=function(e){return this._invalidLineStartIndex<e.getLineCount()},e.prototype.invalidateLine=function(e){this._setIsInvalid(e,!0),e<this._invalidLineStartIndex&&(this._setIsInvalid(this._invalidLineStartIndex,!0),this._invalidLineStartIndex=e)},e.prototype._setIsInvalid=function(e,t){e<this._tokens.length&&this._tokens[e]&&(this._tokens[e]._invalid=t)},e.prototype._isInvalid=function(e){return!(e<this._tokens.length&&this._tokens[e])||this._tokens[e]._invalid},e.prototype._getState=function(e){return e<this._tokens.length&&this._tokens[e]?this._tokens[e]._state:null},e.prototype._setTokens=function(e,t,n,i){var o;t<this._tokens.length&&this._tokens[t]?o=this._tokens[t]:(o=new re(null),this._tokens[t]=o),0!==n?(i&&0!==i.length||((i=new Uint32Array(2))[0]=0,i[1]=ie(e)),te.a.convertToEndOffset(i,n),o._lineTokens=i.buffer):o._lineTokens=oe},e.prototype._setState=function(e,t){if(e<this._tokens.length&&this._tokens[e])this._tokens[e]._state=t;else{var n=new re(t);this._tokens[e]=n}},e.prototype.applyEdits=function(e,t,n){for(var i=e.endLineNumber-e.startLineNumber,o=t,r=Math.min(i,o);r>=0;r--)this.invalidateLine(e.startLineNumber+r-1);this._acceptDeleteRange(e),this._acceptInsertText(new Q.a(e.startLineNumber,e.startColumn),t,n)},e.prototype._acceptDeleteRange=function(e){var t=e.startLineNumber-1;if(!(t>=this._tokens.length))if(e.startLineNumber!==e.endLineNumber){var n=this._tokens[t];n.deleteEnding(e.startColumn-1);var i=e.endLineNumber-1,o=null;if(i<this._tokens.length){var r=this._tokens[i];r.deleteBeginning(e.endColumn-1),o=r._lineTokens}n.append(o),this._tokens.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber)}else{if(e.startColumn===e.endColumn)return;this._tokens[t].delete(e.startColumn-1,e.endColumn-1)}},e.prototype._acceptInsertText=function(e,t,n){if(0!==t||0!==n){var i=e.lineNumber-1;if(!(i>=this._tokens.length))if(0!==t){var o=this._tokens[i];o.deleteEnding(e.column-1),o.insert(e.column-1,n);for(var r=new Array(t),a=t-1;a>=0;a--)r[a]=new re(null);this._tokens=ne.a(this._tokens,e.lineNumber,r)}else this._tokens[i].insert(e.column-1,n)}},e.prototype._tokenizeOneLine=function(e,t){if(!this.hasLinesToTokenize(e))return e.getLineCount()+1;var n=this._invalidLineStartIndex+1;return this._updateTokensUntilLine(e,t,n),n},e.prototype._tokenizeText=function(e,t,n){var i=null;try{i=this.tokenizationSupport.tokenize2(t,n,0)}catch(e){Object(s.e)(e)}return i||(i=Object(Z.e)(this.languageIdentifier.id,t,n,0)),i},e.prototype._updateTokensUntilLine=function(e,t,n){if(this.tokenizationSupport){for(var i=e.getLineCount(),o=n-1,r=this._invalidLineStartIndex;r<=o;r++){var a=r+1,l=null,c=e.getLineContent(r+1);try{var u=this._getState(r).clone();l=this.tokenizationSupport.tokenize2(c,u,0)}catch(e){Object(s.e)(e)}if(l||(l=Object(Z.e)(this.languageIdentifier.id,c,this._getState(r),0)),this._setTokens(this.languageIdentifier.id,r,c.length,l.tokens),t.registerChangedTokens(r+1),this._setIsInvalid(r,!1),a<i)if(null!==this._getState(a)&&l.endState.equals(this._getState(a))){for(var d=r+1;d<i&&!this._isInvalid(d);){if(d+1<i){if(null===this._getState(d+1))break}else if(null===this._lastState)break;d++}this._invalidLineStartIndex=Math.max(this._invalidLineStartIndex,d),r=d-1}else this._setState(a,l.endState);else this._lastState=l.endState}this._invalidLineStartIndex=Math.max(this._invalidLineStartIndex,o+1)}else this._invalidLineStartIndex=e.getLineCount()},e}(),se=function(){function e(){this._ranges=[]}return e.prototype.registerChangedTokens=function(e){var t=this._ranges,n=t.length,i=n>0?t[n-1]:null;i&&i.toLineNumber===e-1?i.toLineNumber++:t[n]={fromLineNumber:e,toLineNumber:e}},e.prototype.build=function(){return 0===this._ranges.length?null:{ranges:this._ranges}},e}();function le(e,t,n,i){var o;for(o=0;o<t&&o<i;o++){if(e.charCodeAt(o)!==n.charCodeAt(o))break}for(var r=0,a=0,s=o;s<t;s++){32===e.charCodeAt(s)?r++:a++}var l=0,c=0;for(s=o;s<i;s++){32===n.charCodeAt(s)?l++:c++}if(r>0&&a>0)return 0;if(l>0&&c>0)return 0;var u=Math.abs(a-c),d=Math.abs(r-l);return 0===u?d:d%u===0?d/u:0}function ce(e,t,n){for(var i=Math.min(e.getLineCount(),1e4),o=0,r=0,a="",s=0,l=[0,0,0,0,0,0,0,0,0],c=1;c<=i;c++){for(var u=e.getLineLength(c),d=e.getLineContent(c),h=u<=65536,f=!1,p=0,m=0,g=0,b=0,y=u;b<y;b++){var v=h?d.charCodeAt(b):e.getLineCharCode(c,b);if(9===v)g++;else{if(32!==v){f=!0,p=b;break}m++}}if(f){g>0?o++:m>1&&r++;var w=le(a,s,d,p);w<=8&&l[w]++,a=d,s=p}}var _=n;o!==r&&(_=o<r);var S=t,C=_?0:.1*i;return[2,4,6,8].forEach(function(e){var t=l[e];t>C&&(C=t,S=e)}),{insertSpaces:_,tabSize:S}}var ue=n(31),de=n(79),he=function(){function e(e,t){this.piece=e,this.color=t,this.size_left=0,this.lf_left=0,this.parent=null,this.left=null,this.right=null}return e.prototype.next=function(){if(this.right!==fe)return pe(this.right);for(var e=this;e.parent!==fe&&e.parent.left!==e;)e=e.parent;return e.parent===fe?fe:e.parent},e.prototype.prev=function(){if(this.left!==fe)return me(this.left);for(var e=this;e.parent!==fe&&e.parent.right!==e;)e=e.parent;return e.parent===fe?fe:e.parent},e.prototype.detach=function(){this.parent=null,this.left=null,this.right=null},e}(),fe=new he(null,0);function pe(e){for(;e.left!==fe;)e=e.left;return e}function me(e){for(;e.right!==fe;)e=e.right;return e}function ge(e){return e===fe?0:e.size_left+e.piece.length+ge(e.right)}function be(e){return e===fe?0:e.lf_left+e.piece.lineFeedCnt+be(e.right)}function ye(){fe.parent=fe}function ve(e,t){var n=t.right;n.size_left+=t.size_left+(t.piece?t.piece.length:0),n.lf_left+=t.lf_left+(t.piece?t.piece.lineFeedCnt:0),t.right=n.left,n.left!==fe&&(n.left.parent=t),n.parent=t.parent,t.parent===fe?e.root=n:t.parent.left===t?t.parent.left=n:t.parent.right=n,n.left=t,t.parent=n}function we(e,t){var n=t.left;t.left=n.right,n.right!==fe&&(n.right.parent=t),n.parent=t.parent,t.size_left-=n.size_left+(n.piece?n.piece.length:0),t.lf_left-=n.lf_left+(n.piece?n.piece.lineFeedCnt:0),t.parent===fe?e.root=n:t===t.parent.right?t.parent.right=n:t.parent.left=n,n.right=t,t.parent=n}function _e(e,t){var n,i;if(n=t.left===fe?(i=t).right:t.right===fe?(i=t).left:(i=pe(t.right)).right,i===e.root)return e.root=n,n.color=0,t.detach(),ye(),void(e.root.parent=fe);var o=1===i.color;if(i===i.parent.left?i.parent.left=n:i.parent.right=n,i===t?(n.parent=i.parent,xe(e,n)):(i.parent===t?n.parent=i:n.parent=i.parent,xe(e,n),i.left=t.left,i.right=t.right,i.parent=t.parent,i.color=t.color,t===e.root?e.root=i:t===t.parent.left?t.parent.left=i:t.parent.right=i,i.left!==fe&&(i.left.parent=i),i.right!==fe&&(i.right.parent=i),i.size_left=t.size_left,i.lf_left=t.lf_left,xe(e,i)),t.detach(),n.parent.left===n){var r=ge(n),a=be(n);if(r!==n.parent.size_left||a!==n.parent.lf_left){var s=r-n.parent.size_left,l=a-n.parent.lf_left;n.parent.size_left=r,n.parent.lf_left=a,Ce(e,n.parent,s,l)}}if(xe(e,n.parent),o)ye();else{for(var c;n!==e.root&&0===n.color;)n===n.parent.left?(1===(c=n.parent.right).color&&(c.color=0,n.parent.color=1,ve(e,n.parent),c=n.parent.right),0===c.left.color&&0===c.right.color?(c.color=1,n=n.parent):(0===c.right.color&&(c.left.color=0,c.color=1,we(e,c),c=n.parent.right),c.color=n.parent.color,n.parent.color=0,c.right.color=0,ve(e,n.parent),n=e.root)):(1===(c=n.parent.left).color&&(c.color=0,n.parent.color=1,we(e,n.parent),c=n.parent.left),0===c.left.color&&0===c.right.color?(c.color=1,n=n.parent):(0===c.left.color&&(c.right.color=0,c.color=1,ve(e,c),c=n.parent.left),c.color=n.parent.color,n.parent.color=0,c.left.color=0,we(e,n.parent),n=e.root));n.color=0,ye()}}function Se(e,t){for(xe(e,t);t!==e.root&&1===t.parent.color;){var n;if(t.parent===t.parent.parent.left)1===(n=t.parent.parent.right).color?(t.parent.color=0,n.color=0,t.parent.parent.color=1,t=t.parent.parent):(t===t.parent.right&&ve(e,t=t.parent),t.parent.color=0,t.parent.parent.color=1,we(e,t.parent.parent));else 1===(n=t.parent.parent.left).color?(t.parent.color=0,n.color=0,t.parent.parent.color=1,t=t.parent.parent):(t===t.parent.left&&we(e,t=t.parent),t.parent.color=0,t.parent.parent.color=1,ve(e,t.parent.parent))}e.root.color=0}function Ce(e,t,n,i){for(;t!==e.root&&t!==fe;)t.parent.left===t&&(t.parent.size_left+=n,t.parent.lf_left+=i),t=t.parent}function xe(e,t){var n=0,i=0;if(t!==e.root){if(0===n){for(;t!==e.root&&t===t.parent.right;)t=t.parent;if(t===e.root)return;n=ge((t=t.parent).left)-t.size_left,i=be(t.left)-t.lf_left,t.size_left+=n,t.lf_left+=i}for(;t!==e.root&&(0!==n||0!==i);)t.parent.left===t&&(t.parent.size_left+=n,t.parent.lf_left+=i),t=t.parent}}fe.parent=fe,fe.left=fe,fe.right=fe,fe.color=0;function ke(e){var t;return(t=e[e.length-1]<65536?new Uint16Array(e.length):new Uint32Array(e.length)).set(e,0),t}var Te=function(){return function(e,t,n,i,o){this.lineStarts=e,this.cr=t,this.lf=n,this.crlf=i,this.isBasicASCII=o}}();function Oe(e,t){void 0===t&&(t=!0);for(var n=[0],i=1,o=0,r=e.length;o<r;o++){var a=e.charCodeAt(o);13===a?o+1<r&&10===e.charCodeAt(o+1)?(n[i++]=o+2,o++):n[i++]=o+1:10===a&&(n[i++]=o+1)}return t?ke(n):n}var Ne=function(){return function(e,t,n,i,o){this.bufferIndex=e,this.start=t,this.end=n,this.lineFeedCnt=i,this.length=o}}(),Le=function(){return function(e,t){this.buffer=e,this.lineStarts=t}}(),Ie=function(){function e(e){this._limit=e,this._cache=[]}return e.prototype.get=function(e){for(var t=this._cache.length-1;t>=0;t--){var n=this._cache[t];if(n.nodeStartOffset<=e&&n.nodeStartOffset+n.node.piece.length>=e)return n}return null},e.prototype.get2=function(e){for(var t=this._cache.length-1;t>=0;t--){var n=this._cache[t];if(n.nodeStartLineNumber&&n.nodeStartLineNumber<e&&n.nodeStartLineNumber+n.node.piece.lineFeedCnt>=e)return n}return null},e.prototype.set=function(e){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(e)},e.prototype.valdiate=function(e){for(var t=!1,n=0;n<this._cache.length;n++){var i=this._cache[n];(null===i.node.parent||i.nodeStartOffset>=e)&&(this._cache[n]=null,t=!0)}if(t){var o=[];for(n=0;n<this._cache.length;n++)null!==this._cache[n]&&o.push(this._cache[n]);this._cache=o}},e}(),Ee=function(){function e(e,t,n){this.create(e,t,n)}return e.prototype.create=function(e,t,n){this._buffers=[new Le("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=fe,this._lineCnt=1,this._length=0,this._EOL=t,this._EOLLength=t.length,this._EOLNormalized=n;for(var i=null,o=0,r=e.length;o<r;o++)if(e[o].buffer.length>0){e[o].lineStarts||(e[o].lineStarts=Oe(e[o].buffer));var a=new Ne(o+1,{line:0,column:0},{line:e[o].lineStarts.length-1,column:e[o].buffer.length-e[o].lineStarts[e[o].lineStarts.length-1]},e[o].lineStarts.length-1,e[o].buffer.length);this._buffers.push(e[o]),i=this.rbInsertRight(i,a)}this._searchCache=new Ie(1),this._lastVisitedLine={lineNumber:0,value:null},this.computeBufferMetadata()},e.prototype.normalizeEOL=function(e){var t=this,n=65535-Math.floor(21845),i=2*n,o="",r=0,a=[];if(this.iterate(this.root,function(s){var l=t.getNodeContent(s),c=l.length;if(r<=n||r+c<i)return o+=l,r+=c,!0;var u=o.replace(/\r\n|\r|\n/g,e);return a.push(new Le(u,Oe(u))),o=l,r=c,!0}),r>0){var s=o.replace(/\r\n|\r|\n/g,e);a.push(new Le(s,Oe(s)))}this.create(a,e,!0)},e.prototype.getEOL=function(){return this._EOL},e.prototype.setEOL=function(e){this._EOL=e,this._EOLLength=this._EOL.length,this.normalizeEOL(e)},e.prototype.getOffsetAt=function(e,t){for(var n=0,i=this.root;i!==fe;)if(i.left!==fe&&i.lf_left+1>=e)i=i.left;else{if(i.lf_left+i.piece.lineFeedCnt+1>=e)return(n+=i.size_left)+(this.getAccumulatedValue(i,e-i.lf_left-2)+t-1);e-=i.lf_left+i.piece.lineFeedCnt,n+=i.size_left+i.piece.length,i=i.right}return n},e.prototype.getPositionAt=function(e){e=Math.floor(e),e=Math.max(0,e);for(var t=this.root,n=0,i=e;t!==fe;)if(0!==t.size_left&&t.size_left>=e)t=t.left;else{if(t.size_left+t.piece.length>=e){var o=this.getIndexOf(t,e-t.size_left);if(n+=t.lf_left+o.index,0===o.index){var r=i-this.getOffsetAt(n+1,1);return new Q.a(n+1,r+1)}return new Q.a(n+1,o.remainder+1)}if(e-=t.size_left+t.piece.length,n+=t.lf_left+t.piece.lineFeedCnt,t.right===fe){r=i-e-this.getOffsetAt(n+1,1);return new Q.a(n+1,r+1)}t=t.right}return new Q.a(1,1)},e.prototype.getValueInRange=function(e,t){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return"";var n=this.nodeAt2(e.startLineNumber,e.startColumn),i=this.nodeAt2(e.endLineNumber,e.endColumn),o=this.getValueInRange2(n,i);return t?t===this._EOL&&this._EOLNormalized&&t===this.getEOL()&&this._EOLNormalized?o:o.replace(/\r\n|\r|\n/g,t):o},e.prototype.getValueInRange2=function(e,t){if(e.node===t.node){var n=e.node,i=this._buffers[n.piece.bufferIndex].buffer,o=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return i.substring(o+e.remainder,o+t.remainder)}var r=e.node,a=this._buffers[r.piece.bufferIndex].buffer,s=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start),l=a.substring(s+e.remainder,s+r.piece.length);for(r=r.next();r!==fe;){var c=this._buffers[r.piece.bufferIndex].buffer,u=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);if(r===t.node){l+=c.substring(u,u+t.remainder);break}l+=c.substr(u,r.piece.length),r=r.next()}return l},e.prototype.getLinesContent=function(){return this.getContentOfSubTree(this.root).split(/\r\n|\r|\n/)},e.prototype.getLength=function(){return this._length},e.prototype.getLineCount=function(){return this._lineCnt},e.prototype.getLineContent=function(e){return this._lastVisitedLine.lineNumber===e?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=e,e===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(e):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(e,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(e).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)},e.prototype.getLineCharCode=function(e,t){var n=this.nodeAt2(e,t+1);if(n.remainder===n.node.piece.length){var i=n.node.next();if(!i)return 0;var o=this._buffers[i.piece.bufferIndex],r=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return o.buffer.charCodeAt(r)}o=this._buffers[n.node.piece.bufferIndex];var a=(r=this.offsetInBuffer(n.node.piece.bufferIndex,n.node.piece.start))+n.remainder;return o.buffer.charCodeAt(a)},e.prototype.getLineLength=function(e){if(e===this.getLineCount()){var t=this.getOffsetAt(e,1);return this.getLength()-t}return this.getOffsetAt(e+1,1)-this.getOffsetAt(e,1)-this._EOLLength},e.prototype.findMatchesInNode=function(e,t,n,i,o,r,a,s,l,c,u){var d,f=this._buffers[e.piece.bufferIndex],p=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start),m=this.offsetInBuffer(e.piece.bufferIndex,o),g=this.offsetInBuffer(e.piece.bufferIndex,r);t.reset(m);var b={line:0,column:0};do{if(d=t.next(f.buffer)){if(d.index>=g)return c;this.positionInBuffer(e,d.index-p,b);var y=this.getLineFeedCnt(e.piece.bufferIndex,o,b),v=b.line===o.line?b.column-o.column+i:b.column+1,w=v+d[0].length;if(u[c++]=Object(de.d)(new h.a(n+y,v,n+y,w),d,s),d.index+d[0].length>=g)return c;if(c>=l)return c}}while(d);return c},e.prototype.findMatchesLineByLine=function(e,t,n,i){var o=[],r=0,a=new de.b(t.wordSeparators,t.regex),s=this.nodeAt2(e.startLineNumber,e.startColumn);if(null===s)return[];var l=this.nodeAt2(e.endLineNumber,e.endColumn);if(null===l)return[];var c=this.positionInBuffer(s.node,s.remainder),u=this.positionInBuffer(l.node,l.remainder);if(s.node===l.node)return this.findMatchesInNode(s.node,a,e.startLineNumber,e.startColumn,c,u,t,n,i,r,o),o;for(var d=e.startLineNumber,h=s.node;h!==l.node;){var f=this.getLineFeedCnt(h.piece.bufferIndex,c,h.piece.end);if(f>=1){var p=this._buffers[h.piece.bufferIndex].lineStarts,m=this.offsetInBuffer(h.piece.bufferIndex,h.piece.start),g=p[c.line+f],b=d===e.startLineNumber?e.startColumn:1;if((r=this.findMatchesInNode(h,a,d,b,c,this.positionInBuffer(h,g-m),t,n,i,r,o))>=i)return o;d+=f}var y=d===e.startLineNumber?e.startColumn-1:0;if(d===e.endLineNumber){var v=this.getLineContent(d).substring(y,e.endColumn-1);return r=this._findMatchesInLine(t,a,v,e.endLineNumber,y,r,o,n,i),o}if((r=this._findMatchesInLine(t,a,this.getLineContent(d).substr(y),d,y,r,o,n,i))>=i)return o;d++,h=(s=this.nodeAt2(d,1)).node,c=this.positionInBuffer(s.node,s.remainder)}if(d===e.endLineNumber){var w=d===e.startLineNumber?e.startColumn-1:0;v=this.getLineContent(d).substring(w,e.endColumn-1);return r=this._findMatchesInLine(t,a,v,e.endLineNumber,w,r,o,n,i),o}var _=d===e.startLineNumber?e.startColumn:1;return r=this.findMatchesInNode(l.node,a,d,_,c,u,t,n,i,r,o),o},e.prototype._findMatchesInLine=function(e,t,n,i,o,a,s,l,c){var u,d=e.wordSeparators;if(!l&&e.simpleSearch){for(var f=e.simpleSearch,p=f.length,m=n.length,g=-p;-1!==(g=n.indexOf(f,g+p));)if((!d||Object(de.e)(d,n,m,g,p))&&(s[a++]=new r.e(new h.a(i,g+1+o,i,g+1+p+o),null),a>=c))return a;return a}t.reset(0);do{if((u=t.next(n))&&(s[a++]=Object(de.d)(new h.a(i,u.index+1+o,i,u.index+1+u[0].length+o),u,l),a>=c))return a}while(u);return a},e.prototype.insert=function(e,t,n){if(void 0===n&&(n=!1),this._EOLNormalized=this._EOLNormalized&&n,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value=null,this.root!==fe){var i=this.nodeAt(e),o=i.node,r=i.remainder,a=i.nodeStartOffset,s=o.piece,l=s.bufferIndex,c=this.positionInBuffer(o,r);if(0===o.piece.bufferIndex&&s.end.line===this._lastChangeBufferPos.line&&s.end.column===this._lastChangeBufferPos.column&&a+s.length===e&&t.length<65535)return this.appendToNode(o,t),void this.computeBufferMetadata();if(a===e)this.insertContentToNodeLeft(t,o),this._searchCache.valdiate(e);else if(a+o.piece.length>e){var u=[],d=new Ne(s.bufferIndex,c,s.end,this.getLineFeedCnt(s.bufferIndex,c,s.end),this.offsetInBuffer(l,s.end)-this.offsetInBuffer(l,c));if(this.shouldCheckCRLF()&&this.endWithCR(t))if(10===this.nodeCharCodeAt(o,r)){var h={line:d.start.line+1,column:0};d=new Ne(d.bufferIndex,h,d.end,this.getLineFeedCnt(d.bufferIndex,h,d.end),d.length-1),t+="\n"}if(this.shouldCheckCRLF()&&this.startWithLF(t))if(13===this.nodeCharCodeAt(o,r-1)){var f=this.positionInBuffer(o,r-1);this.deleteNodeTail(o,f),t="\r"+t,0===o.piece.length&&u.push(o)}else this.deleteNodeTail(o,c);else this.deleteNodeTail(o,c);var p=this.createNewPieces(t);d.length>0&&this.rbInsertRight(o,d);for(var m=o,g=0;g<p.length;g++)m=this.rbInsertRight(m,p[g]);this.deleteNodes(u)}else this.insertContentToNodeRight(t,o)}else{var b=this.createNewPieces(t);for(o=this.rbInsertLeft(null,b[0]),g=1;g<b.length;g++)o=this.rbInsertRight(o,b[g])}this.computeBufferMetadata()},e.prototype.delete=function(e,t){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value=null,!(t<=0||this.root===fe)){var n=this.nodeAt(e),i=this.nodeAt(e+t),o=n.node,r=i.node;if(o===r){var a=this.positionInBuffer(o,n.remainder),s=this.positionInBuffer(o,i.remainder);if(n.nodeStartOffset===e){if(t===o.piece.length){var l=o.next();return _e(this,o),this.validateCRLFWithPrevNode(l),void this.computeBufferMetadata()}return this.deleteNodeHead(o,s),this._searchCache.valdiate(e),this.validateCRLFWithPrevNode(o),void this.computeBufferMetadata()}return n.nodeStartOffset+o.piece.length===e+t?(this.deleteNodeTail(o,a),this.validateCRLFWithNextNode(o),void this.computeBufferMetadata()):(this.shrinkNode(o,a,s),void this.computeBufferMetadata())}var c=[],u=this.positionInBuffer(o,n.remainder);this.deleteNodeTail(o,u),this._searchCache.valdiate(e),0===o.piece.length&&c.push(o);var d=this.positionInBuffer(r,i.remainder);this.deleteNodeHead(r,d),0===r.piece.length&&c.push(r);for(var h=o.next();h!==fe&&h!==r;h=h.next())c.push(h);var f=0===o.piece.length?o.prev():o;this.deleteNodes(c),this.validateCRLFWithNextNode(f),this.computeBufferMetadata()}},e.prototype.insertContentToNodeLeft=function(e,t){var n=[];if(this.shouldCheckCRLF()&&this.endWithCR(e)&&this.startWithLF(t)){var i=t.piece,o={line:i.start.line+1,column:0},r=new Ne(i.bufferIndex,o,i.end,this.getLineFeedCnt(i.bufferIndex,o,i.end),i.length-1);t.piece=r,e+="\n",Ce(this,t,-1,-1),0===t.piece.length&&n.push(t)}for(var a=this.createNewPieces(e),s=this.rbInsertLeft(t,a[a.length-1]),l=a.length-2;l>=0;l--)s=this.rbInsertLeft(s,a[l]);this.validateCRLFWithPrevNode(s),this.deleteNodes(n)},e.prototype.insertContentToNodeRight=function(e,t){this.adjustCarriageReturnFromNext(e,t)&&(e+="\n");for(var n=this.createNewPieces(e),i=this.rbInsertRight(t,n[0]),o=i,r=1;r<n.length;r++)o=this.rbInsertRight(o,n[r]);this.validateCRLFWithPrevNode(i)},e.prototype.positionInBuffer=function(e,t,n){for(var i,o,r,a=e.piece,s=e.piece.bufferIndex,l=this._buffers[s].lineStarts,c=l[a.start.line]+a.start.column+t,u=a.start.line,d=a.end.line;u<=d&&(r=l[i=u+(d-u)/2|0],i!==d);)if(o=l[i+1],c<r)d=i-1;else{if(!(c>=o))break;u=i+1}return n?(n.line=i,n.column=c-r,null):{line:i,column:c-r}},e.prototype.getLineFeedCnt=function(e,t,n){if(0===n.column)return n.line-t.line;var i=this._buffers[e].lineStarts;if(n.line===i.length-1)return n.line-t.line;var o=i[n.line+1],r=i[n.line]+n.column;if(o>r+1)return n.line-t.line;var a=r-1;return 13===this._buffers[e].buffer.charCodeAt(a)?n.line-t.line+1:n.line-t.line},e.prototype.offsetInBuffer=function(e,t){return this._buffers[e].lineStarts[t.line]+t.column},e.prototype.deleteNodes=function(e){for(var t=0;t<e.length;t++)_e(this,e[t])},e.prototype.createNewPieces=function(e){if(e.length>65535){for(var t=[];e.length>65535;){var n=e.charCodeAt(65534),i=void 0;13===n||n>=55296&&n<=56319?(i=e.substring(0,65534),e=e.substring(65534)):(i=e.substring(0,65535),e=e.substring(65535));var o=Oe(i);t.push(new Ne(this._buffers.length,{line:0,column:0},{line:o.length-1,column:i.length-o[o.length-1]},o.length-1,i.length)),this._buffers.push(new Le(i,o))}var r=Oe(e);return t.push(new Ne(this._buffers.length,{line:0,column:0},{line:r.length-1,column:e.length-r[r.length-1]},r.length-1,e.length)),this._buffers.push(new Le(e,r)),t}var a=this._buffers[0].buffer.length,s=Oe(e,!1),l=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===a&&0!==a&&this.startWithLF(e)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},l=this._lastChangeBufferPos;for(var c=0;c<s.length;c++)s[c]+=a+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(s.slice(1)),this._buffers[0].buffer+="_"+e,a+=1}else{if(0!==a)for(c=0;c<s.length;c++)s[c]+=a;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(s.slice(1)),this._buffers[0].buffer+=e}var u=this._buffers[0].buffer.length,d=this._buffers[0].lineStarts.length-1,h={line:d,column:u-this._buffers[0].lineStarts[d]},f=new Ne(0,l,h,this.getLineFeedCnt(0,l,h),u-a);return this._lastChangeBufferPos=h,[f]},e.prototype.getLineRawContent=function(e,t){void 0===t&&(t=0);var n=this.root,i="",o=this._searchCache.get2(e);if(o){n=o.node;var r=this.getAccumulatedValue(n,e-o.nodeStartLineNumber-1),a=this._buffers[n.piece.bufferIndex].buffer,s=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);if(o.nodeStartLineNumber+n.piece.lineFeedCnt!==e){var l=this.getAccumulatedValue(n,e-o.nodeStartLineNumber);return a.substring(s+r,s+l-t)}i=a.substring(s+r,s+n.piece.length)}else for(var c=0,u=e;n!==fe;)if(n.left!==fe&&n.lf_left>=e-1)n=n.left;else{if(n.lf_left+n.piece.lineFeedCnt>e-1){r=this.getAccumulatedValue(n,e-n.lf_left-2),l=this.getAccumulatedValue(n,e-n.lf_left-1),a=this._buffers[n.piece.bufferIndex].buffer,s=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return c+=n.size_left,this._searchCache.set({node:n,nodeStartOffset:c,nodeStartLineNumber:u-(e-1-n.lf_left)}),a.substring(s+r,s+l-t)}if(n.lf_left+n.piece.lineFeedCnt===e-1){r=this.getAccumulatedValue(n,e-n.lf_left-2),a=this._buffers[n.piece.bufferIndex].buffer,s=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);i=a.substring(s+r,s+n.piece.length);break}e-=n.lf_left+n.piece.lineFeedCnt,c+=n.size_left+n.piece.length,n=n.right}for(n=n.next();n!==fe;){a=this._buffers[n.piece.bufferIndex].buffer;if(n.piece.lineFeedCnt>0){l=this.getAccumulatedValue(n,0),s=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return i+=a.substring(s,s+l-t)}s=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);i+=a.substr(s,n.piece.length),n=n.next()}return i},e.prototype.computeBufferMetadata=function(){for(var e=this.root,t=1,n=0;e!==fe;)t+=e.lf_left+e.piece.lineFeedCnt,n+=e.size_left+e.piece.length,e=e.right;this._lineCnt=t,this._length=n,this._searchCache.valdiate(this._length)},e.prototype.getIndexOf=function(e,t){var n=e.piece,i=this.positionInBuffer(e,t),o=i.line-n.start.line;if(this.offsetInBuffer(n.bufferIndex,n.end)-this.offsetInBuffer(n.bufferIndex,n.start)===t){var r=this.getLineFeedCnt(e.piece.bufferIndex,n.start,i);if(r!==o)return{index:r,remainder:0}}return{index:o,remainder:i.column}},e.prototype.getAccumulatedValue=function(e,t){if(t<0)return 0;var n=e.piece,i=this._buffers[n.bufferIndex].lineStarts,o=n.start.line+t+1;return o>n.end.line?i[n.end.line]+n.end.column-i[n.start.line]-n.start.column:i[o]-i[n.start.line]-n.start.column},e.prototype.deleteNodeTail=function(e,t){var n=e.piece,i=n.lineFeedCnt,o=this.offsetInBuffer(n.bufferIndex,n.end),r=t,a=this.offsetInBuffer(n.bufferIndex,r),s=this.getLineFeedCnt(n.bufferIndex,n.start,r),l=s-i,c=a-o,u=n.length+c;e.piece=new Ne(n.bufferIndex,n.start,r,s,u),Ce(this,e,c,l)},e.prototype.deleteNodeHead=function(e,t){var n=e.piece,i=n.lineFeedCnt,o=this.offsetInBuffer(n.bufferIndex,n.start),r=t,a=this.getLineFeedCnt(n.bufferIndex,r,n.end),s=a-i,l=o-this.offsetInBuffer(n.bufferIndex,r),c=n.length+l;e.piece=new Ne(n.bufferIndex,r,n.end,a,c),Ce(this,e,l,s)},e.prototype.shrinkNode=function(e,t,n){var i=e.piece,o=i.start,r=i.end,a=i.length,s=i.lineFeedCnt,l=t,c=this.getLineFeedCnt(i.bufferIndex,i.start,l),u=this.offsetInBuffer(i.bufferIndex,t)-this.offsetInBuffer(i.bufferIndex,o);e.piece=new Ne(i.bufferIndex,i.start,l,c,u),Ce(this,e,u-a,c-s);var d=new Ne(i.bufferIndex,n,r,this.getLineFeedCnt(i.bufferIndex,n,r),this.offsetInBuffer(i.bufferIndex,r)-this.offsetInBuffer(i.bufferIndex,n)),h=this.rbInsertRight(e,d);this.validateCRLFWithPrevNode(h)},e.prototype.appendToNode=function(e,t){this.adjustCarriageReturnFromNext(t,e)&&(t+="\n");var n=this.shouldCheckCRLF()&&this.startWithLF(t)&&this.endWithCR(e),i=this._buffers[0].buffer.length;this._buffers[0].buffer+=t;for(var o=Oe(t,!1),r=0;r<o.length;r++)o[r]+=i;if(n){var a=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:i-a}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(o.slice(1));var s=this._buffers[0].lineStarts.length-1,l={line:s,column:this._buffers[0].buffer.length-this._buffers[0].lineStarts[s]},c=e.piece.length+t.length,u=e.piece.lineFeedCnt,d=this.getLineFeedCnt(0,e.piece.start,l),h=d-u;e.piece=new Ne(e.piece.bufferIndex,e.piece.start,l,d,c),this._lastChangeBufferPos=l,Ce(this,e,t.length,h)},e.prototype.nodeAt=function(e){var t=this.root,n=this._searchCache.get(e);if(n)return{node:n.node,nodeStartOffset:n.nodeStartOffset,remainder:e-n.nodeStartOffset};for(var i=0;t!==fe;)if(t.size_left>e)t=t.left;else{if(t.size_left+t.piece.length>=e){i+=t.size_left;var o={node:t,remainder:e-t.size_left,nodeStartOffset:i};return this._searchCache.set(o),o}e-=t.size_left+t.piece.length,i+=t.size_left+t.piece.length,t=t.right}return null},e.prototype.nodeAt2=function(e,t){for(var n=this.root,i=0;n!==fe;)if(n.left!==fe&&n.lf_left>=e-1)n=n.left;else{if(n.lf_left+n.piece.lineFeedCnt>e-1){var o=this.getAccumulatedValue(n,e-n.lf_left-2),r=this.getAccumulatedValue(n,e-n.lf_left-1);return i+=n.size_left,{node:n,remainder:Math.min(o+t-1,r),nodeStartOffset:i}}if(n.lf_left+n.piece.lineFeedCnt===e-1){if((o=this.getAccumulatedValue(n,e-n.lf_left-2))+t-1<=n.piece.length)return{node:n,remainder:o+t-1,nodeStartOffset:i};t-=n.piece.length-o;break}e-=n.lf_left+n.piece.lineFeedCnt,i+=n.size_left+n.piece.length,n=n.right}for(n=n.next();n!==fe;){if(n.piece.lineFeedCnt>0){r=this.getAccumulatedValue(n,0);var a=this.offsetOfNode(n);return{node:n,remainder:Math.min(t-1,r),nodeStartOffset:a}}if(n.piece.length>=t-1)return{node:n,remainder:t-1,nodeStartOffset:this.offsetOfNode(n)};t-=n.piece.length,n=n.next()}return null},e.prototype.nodeCharCodeAt=function(e,t){if(e.piece.lineFeedCnt<1)return-1;var n=this._buffers[e.piece.bufferIndex],i=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start)+t;return n.buffer.charCodeAt(i)},e.prototype.offsetOfNode=function(e){if(!e)return 0;for(var t=e.size_left;e!==this.root;)e.parent.right===e&&(t+=e.parent.size_left+e.parent.piece.length),e=e.parent;return t},e.prototype.shouldCheckCRLF=function(){return!(this._EOLNormalized&&"\n"===this._EOL)},e.prototype.startWithLF=function(e){if("string"===typeof e)return 10===e.charCodeAt(0);if(e===fe||0===e.piece.lineFeedCnt)return!1;var t=e.piece,n=this._buffers[t.bufferIndex].lineStarts,i=t.start.line,o=n[i]+t.start.column;return i!==n.length-1&&(!(n[i+1]>o+1)&&10===this._buffers[t.bufferIndex].buffer.charCodeAt(o))},e.prototype.endWithCR=function(e){return"string"===typeof e?13===e.charCodeAt(e.length-1):e!==fe&&0!==e.piece.lineFeedCnt&&13===this.nodeCharCodeAt(e,e.piece.length-1)},e.prototype.validateCRLFWithPrevNode=function(e){if(this.shouldCheckCRLF()&&this.startWithLF(e)){var t=e.prev();this.endWithCR(t)&&this.fixCRLF(t,e)}},e.prototype.validateCRLFWithNextNode=function(e){if(this.shouldCheckCRLF()&&this.endWithCR(e)){var t=e.next();this.startWithLF(t)&&this.fixCRLF(e,t)}},e.prototype.fixCRLF=function(e,t){var n,i=[],o=this._buffers[e.piece.bufferIndex].lineStarts;n=0===e.piece.end.column?{line:e.piece.end.line-1,column:o[e.piece.end.line]-o[e.piece.end.line-1]-1}:{line:e.piece.end.line,column:e.piece.end.column-1};var r=e.piece.length-1,a=e.piece.lineFeedCnt-1;e.piece=new Ne(e.piece.bufferIndex,e.piece.start,n,a,r),Ce(this,e,-1,-1),0===e.piece.length&&i.push(e);var s={line:t.piece.start.line+1,column:0},l=t.piece.length-1,c=this.getLineFeedCnt(t.piece.bufferIndex,s,t.piece.end);t.piece=new Ne(t.piece.bufferIndex,s,t.piece.end,c,l),Ce(this,t,-1,-1),0===t.piece.length&&i.push(t);var u=this.createNewPieces("\r\n");this.rbInsertRight(e,u[0]);for(var d=0;d<i.length;d++)_e(this,i[d])},e.prototype.adjustCarriageReturnFromNext=function(e,t){if(this.shouldCheckCRLF()&&this.endWithCR(e)){var n=t.next();if(this.startWithLF(n)){if(e+="\n",1===n.piece.length)_e(this,n);else{var i=n.piece,o={line:i.start.line+1,column:0},r=i.length-1,a=this.getLineFeedCnt(i.bufferIndex,o,i.end);n.piece=new Ne(i.bufferIndex,o,i.end,a,r),Ce(this,n,-1,-1)}return!0}}return!1},e.prototype.iterate=function(e,t){if(e===fe)return t(fe);var n=this.iterate(e.left,t);return n?t(e)&&this.iterate(e.right,t):n},e.prototype.getNodeContent=function(e){if(e===fe)return"";var t=this._buffers[e.piece.bufferIndex],n=e.piece,i=this.offsetInBuffer(n.bufferIndex,n.start),o=this.offsetInBuffer(n.bufferIndex,n.end);return t.buffer.substring(i,o)},e.prototype.rbInsertRight=function(e,t){var n=new he(t,1);if(n.left=fe,n.right=fe,n.parent=fe,n.size_left=0,n.lf_left=0,this.root===fe)this.root=n,n.color=0;else if(e.right===fe)e.right=n,n.parent=e;else{var i=pe(e.right);i.left=n,n.parent=i}return Se(this,n),n},e.prototype.rbInsertLeft=function(e,t){var n=new he(t,1);if(n.left=fe,n.right=fe,n.parent=fe,n.size_left=0,n.lf_left=0,this.root===fe)this.root=n,n.color=0;else if(e.left===fe)e.left=n,n.parent=e;else{var i=me(e.left);i.right=n,n.parent=i}return Se(this,n),n},e.prototype.getContentOfSubTree=function(e){var t=this,n="";return this.iterate(e,function(e){return n+=t.getNodeContent(e),!0}),n},e}(),De=function(){function e(e,t,n,i,o,r){this._BOM=t,this._mightContainNonBasicASCII=!o,this._mightContainRTL=i,this._pieceTree=new Ee(e,n,r)}return e.prototype.mightContainRTL=function(){return this._mightContainRTL},e.prototype.mightContainNonBasicASCII=function(){return this._mightContainNonBasicASCII},e.prototype.getBOM=function(){return this._BOM},e.prototype.getEOL=function(){return this._pieceTree.getEOL()},e.prototype.getOffsetAt=function(e,t){return this._pieceTree.getOffsetAt(e,t)},e.prototype.getPositionAt=function(e){return this._pieceTree.getPositionAt(e)},e.prototype.getRangeAt=function(e,t){var n=e+t,i=this.getPositionAt(e),o=this.getPositionAt(n);return new h.a(i.lineNumber,i.column,o.lineNumber,o.column)},e.prototype.getValueInRange=function(e,t){if(void 0===t&&(t=r.c.TextDefined),e.isEmpty())return"";var n=this._getEndOfLine(t);return this._pieceTree.getValueInRange(e,n)},e.prototype.getValueLengthInRange=function(e,t){if(void 0===t&&(t=r.c.TextDefined),e.isEmpty())return 0;if(e.startLineNumber===e.endLineNumber)return e.endColumn-e.startColumn;var n=this.getOffsetAt(e.startLineNumber,e.startColumn);return this.getOffsetAt(e.endLineNumber,e.endColumn)-n},e.prototype.getLength=function(){return this._pieceTree.getLength()},e.prototype.getLineCount=function(){return this._pieceTree.getLineCount()},e.prototype.getLinesContent=function(){return this._pieceTree.getLinesContent()},e.prototype.getLineContent=function(e){return this._pieceTree.getLineContent(e)},e.prototype.getLineCharCode=function(e,t){return this._pieceTree.getLineCharCode(e,t)},e.prototype.getLineLength=function(e){return this._pieceTree.getLineLength(e)},e.prototype.getLineFirstNonWhitespaceColumn=function(e){var t=_.firstNonWhitespaceIndex(this.getLineContent(e));return-1===t?0:t+1},e.prototype.getLineLastNonWhitespaceColumn=function(e){var t=_.lastNonWhitespaceIndex(this.getLineContent(e));return-1===t?0:t+2},e.prototype._getEndOfLine=function(e){switch(e){case r.c.LF:return"\n";case r.c.CRLF:return"\r\n";case r.c.TextDefined:return this.getEOL()}throw new Error("Unknown EOL preference")},e.prototype.setEOL=function(e){this._pieceTree.setEOL(e)},e.prototype.applyEdits=function(t,n){for(var i=this._mightContainRTL,o=this._mightContainNonBasicASCII,a=!0,s=[],l=0;l<t.length;l++){var c=t[l];a&&c._isTracked&&(a=!1);var u=c.range;!i&&c.text&&(i=_.containsRTL(c.text)),!o&&c.text&&(o=!_.isBasicASCII(c.text)),s[l]={sortIndex:l,identifier:c.identifier,range:u,rangeOffset:this.getOffsetAt(u.startLineNumber,u.startColumn),rangeLength:this.getValueLengthInRange(u),lines:c.text?c.text.split(/\r\n|\r|\n/):null,forceMoveMarkers:c.forceMoveMarkers,isAutoWhitespaceEdit:c.isAutoWhitespaceEdit||!1}}s.sort(e._sortOpsAscending);for(var d=!1,h=(l=0,s.length-1);l<h;l++){var f=s[l].range.getEndPosition(),p=s[l+1].range.getStartPosition();if(p.isBeforeOrEqual(f)){if(p.isBefore(f))throw new Error("Overlapping ranges are not allowed!");d=!0}}a&&(s=this._reduceOperations(s));var m=e._getInverseEditRanges(s),g=[];for(l=0;l<s.length;l++){c=s[l];var b=m[l];if(n&&c.isAutoWhitespaceEdit&&c.range.isEmpty())for(var y=b.startLineNumber;y<=b.endLineNumber;y++){var v="";y===b.startLineNumber&&(v=this.getLineContent(c.range.startLineNumber),-1!==_.firstNonWhitespaceIndex(v))||g.push({lineNumber:y,oldContent:v})}}var w=[];for(l=0;l<s.length;l++){c=s[l],b=m[l];w[l]={sortIndex:c.sortIndex,identifier:c.identifier,range:b,text:this.getValueInRange(c.range),forceMoveMarkers:c.forceMoveMarkers}}d||w.sort(function(e,t){return e.sortIndex-t.sortIndex}),this._mightContainRTL=i,this._mightContainNonBasicASCII=o;var S=this._doApplyEdits(s),C=null;if(n&&g.length>0){g.sort(function(e,t){return t.lineNumber-e.lineNumber}),C=[];l=0;for(var x=g.length;l<x;l++){y=g[l].lineNumber;if(!(l>0&&g[l-1].lineNumber===y)){var k=g[l].oldContent,T=this.getLineContent(y);0!==T.length&&T!==k&&-1===_.firstNonWhitespaceIndex(T)&&C.push(y)}}}return new r.a(w,S,C)},e.prototype._reduceOperations=function(e){return e.length<1e3?e:[this._toSingleEditOperation(e)]},e.prototype._toSingleEditOperation=function(e){for(var t=!1,n=e[0].range,i=e[e.length-1].range,o=new h.a(n.startLineNumber,n.startColumn,i.endLineNumber,i.endColumn),a=n.startLineNumber,s=n.startColumn,l=[],c=0,u=e.length;c<u;c++){var d=e[c],f=d.range;t=t||d.forceMoveMarkers;for(var p=a;p<f.startLineNumber;p++)p===a?l.push(this.getLineContent(p).substring(s-1)):(l.push("\n"),l.push(this.getLineContent(p)));if(f.startLineNumber===a?l.push(this.getLineContent(f.startLineNumber).substring(s-1,f.startColumn-1)):(l.push("\n"),l.push(this.getLineContent(f.startLineNumber).substring(0,f.startColumn-1))),d.lines)for(var m=0,g=d.lines.length;m<g;m++)0!==m&&l.push("\n"),l.push(d.lines[m]);a=d.range.endLineNumber,s=d.range.endColumn}return{sortIndex:0,identifier:e[0].identifier,range:o,rangeOffset:this.getOffsetAt(o.startLineNumber,o.startColumn),rangeLength:this.getValueLengthInRange(o,r.c.TextDefined),lines:l.join("").split("\n"),forceMoveMarkers:t,isAutoWhitespaceEdit:!1}},e.prototype._doApplyEdits=function(t){t.sort(e._sortOpsDescending);for(var n=[],i=0;i<t.length;i++){var o=t[i],r=o.range.startLineNumber,a=o.range.startColumn,s=o.range.endLineNumber,l=o.range.endColumn;if(r!==s||a!==l||o.lines&&0!==o.lines.length){var c=s-r,u=o.lines?o.lines.length-1:0,d=Math.min(c,u),f=o.lines?o.lines.join(this.getEOL()):"";if(f?(this._pieceTree.delete(o.rangeOffset,o.rangeLength),this._pieceTree.insert(o.rangeOffset,f,!0)):this._pieceTree.delete(o.rangeOffset,o.rangeLength),d<u){for(var p=[],m=d+1;m<=u;m++)p.push(o.lines[m]);p[p.length-1]=this.getLineContent(r+u-1)}var g=new h.a(r,a,s,l);n.push({range:g,rangeLength:o.rangeLength,text:f,rangeOffset:o.rangeOffset,forceMoveMarkers:o.forceMoveMarkers})}}return n},e.prototype.findMatchesLineByLine=function(e,t,n,i){return this._pieceTree.findMatchesLineByLine(e,t,n,i)},e._getInverseEditRanges=function(e){for(var t,n,i=[],o=null,r=0,a=e.length;r<a;r++){var s=e[r],l=void 0,c=void 0;o?o.range.endLineNumber===s.range.startLineNumber?(l=t,c=n+(s.range.startColumn-o.range.endColumn)):(l=t+(s.range.startLineNumber-o.range.endLineNumber),c=s.range.startColumn):(l=s.range.startLineNumber,c=s.range.startColumn);var u=void 0;if(s.lines&&s.lines.length>0){var d=s.lines.length,f=s.lines[0],p=s.lines[d-1];u=1===d?new h.a(l,c,l,c+f.length):new h.a(l,c,l+d-1,p.length+1)}else u=new h.a(l,c,l,c);t=u.endLineNumber,n=u.endColumn,i.push(u),o=s}return i},e._sortOpsAscending=function(e,t){var n=h.a.compareRangesUsingEnds(e.range,t.range);return 0===n?e.sortIndex-t.sortIndex:n},e._sortOpsDescending=function(e,t){var n=h.a.compareRangesUsingEnds(e.range,t.range);return 0===n?t.sortIndex-e.sortIndex:-n},e}(),Ae=function(){function e(e,t,n,i,o,r,a,s){this._chunks=e,this._bom=t,this._cr=n,this._lf=i,this._crlf=o,this._containsRTL=r,this._isBasicASCII=a,this._normalizeEOL=s}return e.prototype._getEOL=function(e){var t=this._cr+this._lf+this._crlf,n=this._cr+this._crlf;return 0===t?e===r.b.LF?"\n":"\r\n":n>t/2?"\r\n":"\n"},e.prototype.create=function(e){var t=this._getEOL(e),n=this._chunks;if(this._normalizeEOL&&("\r\n"===t&&(this._cr>0||this._lf>0)||"\n"===t&&(this._cr>0||this._crlf>0)))for(var i=0,o=n.length;i<o;i++){var r=n[i].buffer.replace(/\r\n|\r|\n/g,t),a=Oe(r);n[i]=new Le(r,a)}return new De(n,this._bom,t,this._containsRTL,this._isBasicASCII,this._normalizeEOL)},e}(),Me=function(){function e(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.isBasicASCII=!0}return e.prototype.acceptChunk=function(e){if(0!==e.length){0===this.chunks.length&&_.startsWithUTF8BOM(e)&&(this.BOM=_.UTF8_BOM_CHARACTER,e=e.substr(1));var t=e.charCodeAt(e.length-1);13===t||t>=55296&&t<=56319?(this._acceptChunk1(e.substr(0,e.length-1),!1),this._hasPreviousChar=!0,this._previousChar=t):(this._acceptChunk1(e,!1),this._hasPreviousChar=!1,this._previousChar=t)}},e.prototype._acceptChunk1=function(e,t){(t||0!==e.length)&&(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+e):this._acceptChunk2(e))},e.prototype._acceptChunk2=function(e){var t=function(e,t){e.length=0,e[0]=0;for(var n=1,i=0,o=0,r=0,a=!0,s=0,l=t.length;s<l;s++){var c=t.charCodeAt(s);13===c?s+1<l&&10===t.charCodeAt(s+1)?(r++,e[n++]=s+2,s++):(i++,e[n++]=s+1):10===c?(o++,e[n++]=s+1):a&&9!==c&&(c<32||c>126)&&(a=!1)}var u=new Te(ke(e),i,o,r,a);return e.length=0,u}(this._tmpLineStarts,e);this.chunks.push(new Le(e,t.lineStarts)),this.cr+=t.cr,this.lf+=t.lf,this.crlf+=t.crlf,this.isBasicASCII&&(this.isBasicASCII=t.isBasicASCII),this.isBasicASCII||this.containsRTL||(this.containsRTL=_.containsRTL(e))},e.prototype.finish=function(e){return void 0===e&&(e=!0),this._finish(),new Ae(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.isBasicASCII,e)},e.prototype._finish=function(){if(0===this.chunks.length&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;var e=this.chunks[this.chunks.length-1];e.buffer+=String.fromCharCode(this._previousChar);var t=Oe(e.buffer);e.lineStarts=t,13===this._previousChar&&this.cr++}},e}();n.d(t,"b",function(){return Ve}),n.d(t,"a",function(){return Ue});var Pe,Re=(Pe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}Pe(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function Fe(e){var t=new Me;return t.acceptChunk(e),t.finish()}function je(e,t){return("string"===typeof e?Fe(e):e).create(t)}var We=0;var Ve=function(e){function t(n,s,l,c){void 0===c&&(c=null);var u=e.call(this)||this;u._onWillDispose=u._register(new o.a),u.onWillDispose=u._onWillDispose.event,u._onDidChangeDecorations=u._register(new Ke),u.onDidChangeDecorations=u._onDidChangeDecorations.event,u._onDidChangeLanguage=u._register(new o.a),u.onDidChangeLanguage=u._onDidChangeLanguage.event,u._onDidChangeLanguageConfiguration=u._register(new o.a),u.onDidChangeLanguageConfiguration=u._onDidChangeLanguageConfiguration.event,u._onDidChangeTokens=u._register(new o.a),u.onDidChangeTokens=u._onDidChangeTokens.event,u._onDidChangeOptions=u._register(new o.a),u.onDidChangeOptions=u._onDidChangeOptions.event,u._eventEmitter=u._register(new Ye),We++,u.id="$model"+We,u.isForSimpleWidget=s.isForSimpleWidget,u._associatedResource="undefined"===typeof c||null===c?i.a.parse("inmemory://model/"+We):c,u._attachedEditorCount=0,u._buffer=je(n,s.defaultEOL),u._options=t.resolveOptions(u._buffer,s);var f,p=u._buffer.getLineCount(),m=u._buffer.getValueLengthInRange(new h.a(1,1,p,u._buffer.getLineLength(p)+1),r.c.TextDefined);return s.largeFileOptimizations?u._isTooLargeForTokenization=m>t.LARGE_FILE_SIZE_THRESHOLD||p>t.LARGE_FILE_LINE_COUNT_THRESHOLD:u._isTooLargeForTokenization=!1,u._isTooLargeForSyncing=m>t.MODEL_SYNC_LIMIT,u._setVersionId(1),u._isDisposed=!1,u._isDisposing=!1,u._languageIdentifier=l||Z.a,u._tokenizationListener=a.y.onDidChange(function(e){-1!==e.changedLanguages.indexOf(u._languageIdentifier.language)&&(u._resetTokenizationState(),u.emitModelTokensChangedEvent({ranges:[{fromLineNumber:1,toLineNumber:u.getLineCount()}]}),u._shouldAutoTokenize()&&u._warmUpTokens())}),u._revalidateTokensTimeout=-1,u._languageRegistryListener=J.a.onDidChange(function(e){e.languageIdentifier.id===u._languageIdentifier.id&&u._onDidChangeLanguageConfiguration.fire({})}),u._resetTokenizationState(),u._instanceId=(f=We,(f%=52)<26?String.fromCharCode(97+f):String.fromCharCode(65+f-26)),u._lastDecorationId=0,u._decorations=Object.create(null),u._decorationsTree=new Be,u._commandManager=new d(u),u._isUndoing=!1,u._isRedoing=!1,u._trimAutoWhitespaceLines=null,u}return Re(t,e),t.createFromString=function(e,n,i,o){return void 0===n&&(n=t.DEFAULT_CREATION_OPTIONS),void 0===i&&(i=null),void 0===o&&(o=null),new t(e,n,i,o)},t.resolveOptions=function(e,t){if(t.detectIndentation){var n=ce(e,t.tabSize,t.insertSpaces);return new r.g({tabSize:n.tabSize,insertSpaces:n.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL})}return new r.g({tabSize:t.tabSize,insertSpaces:t.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL})},t.prototype.onDidChangeRawContentFast=function(e){return this._eventEmitter.fastEvent(function(t){return e(t.rawContentChangedEvent)})},t.prototype.onDidChangeRawContent=function(e){return this._eventEmitter.slowEvent(function(t){return e(t.rawContentChangedEvent)})},t.prototype.onDidChangeContent=function(e){return this._eventEmitter.slowEvent(function(t){return e(t.contentChangedEvent)})},t.prototype.dispose=function(){this._isDisposing=!0,this._onWillDispose.fire(),this._commandManager=null,this._decorations=null,this._decorationsTree=null,this._tokenizationListener.dispose(),this._languageRegistryListener.dispose(),this._clearTimers(),this._tokens=null,this._isDisposed=!0,this._buffer=null,e.prototype.dispose.call(this),this._isDisposing=!1},t.prototype._assertNotDisposed=function(){if(this._isDisposed)throw new Error("Model is disposed!")},t.prototype._emitContentChangedEvent=function(e,t){this._isDisposing||this._eventEmitter.fire(new w(e,t))},t.prototype.setValue=function(e){if(this._assertNotDisposed(),null!==e){var t=je(e,this._options.defaultEOL);this.setValueFromTextBuffer(t)}},t.prototype._createContentChanged2=function(e,t,n,i,o,r,a){return{changes:[{range:e,rangeOffset:t,rangeLength:n,text:i}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:o,isRedoing:r,isFlush:a}},t.prototype.setValueFromTextBuffer=function(e){if(this._assertNotDisposed(),null!==e){var t=this.getFullModelRange(),n=this.getValueLengthInRange(t),i=this.getLineCount(),o=this.getLineMaxColumn(i);this._buffer=e,this._increaseVersionId(),this._resetTokenizationState(),this._decorations=Object.create(null),this._decorationsTree=new Be,this._commandManager=new d(this),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new v([new p],this._versionId,!1,!1),this._createContentChanged2(new h.a(1,1,i,o),0,n,this.getValue(),!1,!1,!0))}},t.prototype.setEOL=function(e){this._assertNotDisposed();var t=e===r.d.CRLF?"\r\n":"\n";if(this._buffer.getEOL()!==t){var n=this.getFullModelRange(),i=this.getValueLengthInRange(n),o=this.getLineCount(),a=this.getLineMaxColumn(o);this._onBeforeEOLChange(),this._buffer.setEOL(t),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new v([new y],this._versionId,!1,!1),this._createContentChanged2(new h.a(1,1,o,a),0,i,this.getValue(),!1,!1,!1))}},t.prototype._onBeforeEOLChange=function(){var e=this.getVersionId(),t=this._decorationsTree.search(0,!1,!1,e);this._ensureNodesHaveRanges(t)},t.prototype._onAfterEOLChange=function(){for(var e=this.getVersionId(),t=this._decorationsTree.collectNodesPostOrder(),n=0,i=t.length;n<i;n++){var o=t[n],r=o.cachedAbsoluteStart-o.start,a=this._buffer.getOffsetAt(o.range.startLineNumber,o.range.startColumn),s=this._buffer.getOffsetAt(o.range.endLineNumber,o.range.endColumn);o.cachedAbsoluteStart=a,o.cachedAbsoluteEnd=s,o.cachedVersionId=e,o.start=a-r,o.end=s-r,H(o)}},t.prototype._resetTokenizationState=function(){this._clearTimers();var e=this._isTooLargeForTokenization?null:a.y.get(this._languageIdentifier.language);this._tokens=new ae(this._languageIdentifier,e),this._beginBackgroundTokenization()},t.prototype._clearTimers=function(){-1!==this._revalidateTokensTimeout&&(clearTimeout(this._revalidateTokensTimeout),this._revalidateTokensTimeout=-1)},t.prototype.onBeforeAttached=function(){this._attachedEditorCount++,this._warmUpTokens()},t.prototype.onBeforeDetached=function(){this._attachedEditorCount--},t.prototype._shouldAutoTokenize=function(){return this.isAttachedToEditor()},t.prototype.isAttachedToEditor=function(){return this._attachedEditorCount>0},t.prototype.getAttachedEditorCount=function(){return this._attachedEditorCount},t.prototype.isTooLargeForSyncing=function(){return this._isTooLargeForSyncing},t.prototype.isTooLargeForTokenization=function(){return this._isTooLargeForTokenization},t.prototype.isDisposed=function(){return this._isDisposed},t.prototype.isDominatedByLongLines=function(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;for(var e=0,t=0,n=this._buffer.getLineCount(),i=1;i<=n;i++){var o=this._buffer.getLineLength(i);o>=1e4?t+=o:e+=o}return t>e},Object.defineProperty(t.prototype,"uri",{get:function(){return this._associatedResource},enumerable:!0,configurable:!0}),t.prototype.getOptions=function(){return this._assertNotDisposed(),this._options},t.prototype.updateOptions=function(e){this._assertNotDisposed();var t="undefined"!==typeof e.tabSize?e.tabSize:this._options.tabSize,n="undefined"!==typeof e.insertSpaces?e.insertSpaces:this._options.insertSpaces,i="undefined"!==typeof e.trimAutoWhitespace?e.trimAutoWhitespace:this._options.trimAutoWhitespace,o=new r.g({tabSize:t,insertSpaces:n,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:i});if(!this._options.equals(o)){var a=this._options.createChangeEvent(o);this._options=o,this._onDidChangeOptions.fire(a)}},t.prototype.detectIndentation=function(e,t){this._assertNotDisposed();var n=ce(this._buffer,t,e);this.updateOptions({insertSpaces:n.insertSpaces,tabSize:n.tabSize})},t._normalizeIndentationFromWhitespace=function(e,t,n){for(var i=0,o=0;o<e.length;o++)"\t"===e.charAt(o)?i+=t:i++;var r="";if(!n){var a=Math.floor(i/t);i%=t;for(o=0;o<a;o++)r+="\t"}for(o=0;o<i;o++)r+=" ";return r},t.normalizeIndentation=function(e,n,i){var o=_.firstNonWhitespaceIndex(e);return-1===o&&(o=e.length),t._normalizeIndentationFromWhitespace(e.substring(0,o),n,i)+e.substring(o)},t.prototype.normalizeIndentation=function(e){return this._assertNotDisposed(),t.normalizeIndentation(e,this._options.tabSize,this._options.insertSpaces)},t.prototype.getOneIndent=function(){this._assertNotDisposed();var e=this._options.tabSize;if(this._options.insertSpaces){for(var t="",n=0;n<e;n++)t+=" ";return t}return"\t"},t.prototype.getVersionId=function(){return this._assertNotDisposed(),this._versionId},t.prototype.mightContainRTL=function(){return this._buffer.mightContainRTL()},t.prototype.mightContainNonBasicASCII=function(){return this._buffer.mightContainNonBasicASCII()},t.prototype.getAlternativeVersionId=function(){return this._assertNotDisposed(),this._alternativeVersionId},t.prototype.getOffsetAt=function(e){this._assertNotDisposed();var t=this._validatePosition(e.lineNumber,e.column,!1);return this._buffer.getOffsetAt(t.lineNumber,t.column)},t.prototype.getPositionAt=function(e){this._assertNotDisposed();var t=Math.min(this._buffer.getLength(),Math.max(0,e));return this._buffer.getPositionAt(t)},t.prototype._increaseVersionId=function(){this._setVersionId(this._versionId+1)},t.prototype._setVersionId=function(e){this._versionId=e,this._alternativeVersionId=this._versionId},t.prototype._overwriteAlternativeVersionId=function(e){this._alternativeVersionId=e},t.prototype.getValue=function(e,t){void 0===t&&(t=!1),this._assertNotDisposed();var n=this.getFullModelRange(),i=this.getValueInRange(n,e);return t?this._buffer.getBOM()+i:i},t.prototype.getValueLength=function(e,t){void 0===t&&(t=!1),this._assertNotDisposed();var n=this.getFullModelRange(),i=this.getValueLengthInRange(n,e);return t?this._buffer.getBOM().length+i:i},t.prototype.getValueInRange=function(e,t){return void 0===t&&(t=r.c.TextDefined),this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(e),t)},t.prototype.getValueLengthInRange=function(e,t){return void 0===t&&(t=r.c.TextDefined),this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(e),t)},t.prototype.getLineCount=function(){return this._assertNotDisposed(),this._buffer.getLineCount()},t.prototype.getLineContent=function(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(e)},t.prototype.getLineLength=function(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(e)},t.prototype.getLinesContent=function(){return this._assertNotDisposed(),this._buffer.getLinesContent()},t.prototype.getEOL=function(){return this._assertNotDisposed(),this._buffer.getEOL()},t.prototype.getLineMinColumn=function(e){return this._assertNotDisposed(),1},t.prototype.getLineMaxColumn=function(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(e)+1},t.prototype.getLineFirstNonWhitespaceColumn=function(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(e)},t.prototype.getLineLastNonWhitespaceColumn=function(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(e)},t.prototype._validateRangeRelaxedNoAllocations=function(e){var t,n,i=this._buffer.getLineCount(),o=e.startLineNumber,r=e.startColumn;if(o<1)t=1,n=1;else if(o>i)t=i,n=this.getLineMaxColumn(t);else{if(t=0|o,r<=1)n=1;else n=r>=(u=this.getLineMaxColumn(t))?u:0|r}var a,s,l=e.endLineNumber,c=e.endColumn;if(l<1)a=1,s=1;else if(l>i)a=i,s=this.getLineMaxColumn(a);else{var u;if(a=0|l,c<=1)s=1;else s=c>=(u=this.getLineMaxColumn(a))?u:0|c}return o===t&&r===n&&l===a&&c===s&&e instanceof h.a&&!(e instanceof f.a)?e:new h.a(t,n,a,s)},t.prototype._isValidPosition=function(e,t,n){if(isNaN(e))return!1;if(e<1)return!1;if(e>this._buffer.getLineCount())return!1;if(isNaN(t))return!1;if(t<1)return!1;if(t>this.getLineMaxColumn(e))return!1;if(n&&t>1){var i=this._buffer.getLineCharCode(e,t-2);if(_.isHighSurrogate(i))return!1}return!0},t.prototype._validatePosition=function(e,t,n){var i=Math.floor("number"!==typeof e||isNaN(e)?1:e),o=Math.floor("number"!==typeof t||isNaN(t)?1:t),r=this._buffer.getLineCount();if(i<1)return new Q.a(1,1);if(i>r)return new Q.a(r,this.getLineMaxColumn(r));if(o<=1)return new Q.a(i,1);var a=this.getLineMaxColumn(i);if(o>=a)return new Q.a(i,a);if(n){var s=this._buffer.getLineCharCode(i,o-2);if(_.isHighSurrogate(s))return new Q.a(i,o-1)}return new Q.a(i,o)},t.prototype.validatePosition=function(e){return this._assertNotDisposed(),e instanceof Q.a&&this._isValidPosition(e.lineNumber,e.column,!0)?e:this._validatePosition(e.lineNumber,e.column,!0)},t.prototype._isValidRange=function(e,t){var n=e.startLineNumber,i=e.startColumn,o=e.endLineNumber,r=e.endColumn;if(!this._isValidPosition(n,i,!1))return!1;if(!this._isValidPosition(o,r,!1))return!1;if(t){var a=i>1?this._buffer.getLineCharCode(n,i-2):0,s=r>1&&r<=this._buffer.getLineLength(o)?this._buffer.getLineCharCode(o,r-2):0,l=_.isHighSurrogate(a),c=_.isHighSurrogate(s);return!l&&!c}return!0},t.prototype.validateRange=function(e){if(this._assertNotDisposed(),e instanceof h.a&&!(e instanceof f.a)&&this._isValidRange(e,!0))return e;var t=this._validatePosition(e.startLineNumber,e.startColumn,!1),n=this._validatePosition(e.endLineNumber,e.endColumn,!1),i=t.lineNumber,o=t.column,r=n.lineNumber,a=n.column,s=o>1?this._buffer.getLineCharCode(i,o-2):0,l=a>1&&a<=this._buffer.getLineLength(r)?this._buffer.getLineCharCode(r,a-2):0,c=_.isHighSurrogate(s),u=_.isHighSurrogate(l);return c||u?i===r&&o===a?new h.a(i,o-1,r,a-1):c&&u?new h.a(i,o-1,r,a+1):c?new h.a(i,o-1,r,a):new h.a(i,o,r,a+1):new h.a(i,o,r,a)},t.prototype.modifyPosition=function(e,t){this._assertNotDisposed();var n=this.getOffsetAt(e)+t;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,n)))},t.prototype.getFullModelRange=function(){this._assertNotDisposed();var e=this.getLineCount();return new h.a(1,1,e,this.getLineMaxColumn(e))},t.prototype.findMatchesLineByLine=function(e,t,n,i){return this._buffer.findMatchesLineByLine(e,t,n,i)},t.prototype.findMatches=function(e,t,n,i,o,r,a){var s;if(void 0===a&&(a=999),this._assertNotDisposed(),s=h.a.isIRange(t)?this.validateRange(t):this.getFullModelRange(),!n&&e.indexOf("\n")<0){var l=new de.a(e,n,i,o).parseSearchRequest();return l?this.findMatchesLineByLine(s,l,r,a):[]}return de.c.findMatches(this,new de.a(e,n,i,o),s,r,a)},t.prototype.findNextMatch=function(e,t,n,i,o,r){this._assertNotDisposed();var a=this.validatePosition(t);if(!n&&e.indexOf("\n")<0){var s=new de.a(e,n,i,o).parseSearchRequest(),l=this.getLineCount(),c=new h.a(a.lineNumber,a.column,l,this.getLineMaxColumn(l)),u=this.findMatchesLineByLine(c,s,r,1);return de.c.findNextMatch(this,new de.a(e,n,i,o),a,r),u.length>0?u[0]:(c=new h.a(1,1,a.lineNumber,this.getLineMaxColumn(a.lineNumber)),(u=this.findMatchesLineByLine(c,s,r,1)).length>0?u[0]:null)}return de.c.findNextMatch(this,new de.a(e,n,i,o),a,r)},t.prototype.findPreviousMatch=function(e,t,n,i,o,r){this._assertNotDisposed();var a=this.validatePosition(t);return de.c.findPreviousMatch(this,new de.a(e,n,i,o),a,r)},t.prototype.pushStackElement=function(){this._commandManager.pushStackElement()},t.prototype.pushEOL=function(e){if(("\n"===this.getEOL()?r.d.LF:r.d.CRLF)!==e)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._commandManager.pushEOL(e)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}},t.prototype.pushEditOperations=function(e,t,n){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(e,t,n)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}},t.prototype._pushEditOperations=function(e,t,n){var i=this;if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){for(var o=t.map(function(e){return{range:i.validateRange(e.range),text:e.text}}),r=!0,a=0,s=e.length;a<s;a++){for(var l=e[a],c=!1,u=0,d=o.length;u<d;u++){var f=(y=o[u].range).startLineNumber>l.endLineNumber,p=l.startLineNumber>y.endLineNumber;if(!f&&!p){c=!0;break}}if(!c){r=!1;break}}if(r)for(a=0,s=this._trimAutoWhitespaceLines.length;a<s;a++){var m=this._trimAutoWhitespaceLines[a],g=this.getLineMaxColumn(m),b=!0;for(u=0,d=o.length;u<d;u++){var y=o[u].range,v=o[u].text;if(!(m<y.startLineNumber||m>y.endLineNumber)&&(!(m===y.startLineNumber&&y.startColumn===g&&y.isEmpty()&&v&&v.length>0&&"\n"===v.charAt(0))&&!(m===y.startLineNumber&&1===y.startColumn&&y.isEmpty()&&v&&v.length>0&&"\n"===v.charAt(v.length-1)))){b=!1;break}}b&&t.push({range:new h.a(m,1,m,g),text:null})}this._trimAutoWhitespaceLines=null}return this._commandManager.pushEditOperation(e,t,n)},t.prototype.applyEdits=function(e){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._applyEdits(e)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}},t._eolCount=function(e){for(var t=0,n=0,i=0,o=e.length;i<o;i++){var r=e.charCodeAt(i);13===r?(0===t&&(n=i),t++,i+1<o&&10===e.charCodeAt(i+1)&&i++):10===r&&(0===t&&(n=i),t++)}return 0===t&&(n=e.length),[t,n]},t.prototype._applyEdits=function(e){for(var n=0,i=e.length;n<i;n++)e[n].range=this.validateRange(e[n].range);var o=this._buffer.getLineCount(),r=this._buffer.applyEdits(e,this._options.trimAutoWhitespace),a=this._buffer.getLineCount(),s=r.changes;if(this._trimAutoWhitespaceLines=r.trimAutoWhitespaceLineNumbers,0!==s.length){var l=[],c=o;for(n=0,i=s.length;n<i;n++){var u=s[n],d=t._eolCount(u.text),h=d[0],f=d[1];this._tokens.applyEdits(u.range,h,f),this._onDidChangeDecorations.fire(),this._decorationsTree.acceptReplace(u.rangeOffset,u.rangeLength,u.text.length,u.forceMoveMarkers);for(var p=u.range.startLineNumber,y=u.range.endLineNumber,w=y-p,_=h,S=Math.min(w,_),C=_-w,x=S;x>=0;x--){var k=p+x,T=a-c-C+k;l.push(new m(k,this.getLineContent(T)))}if(S<w){var O=p+S;l.push(new g(O+1,y))}if(S<_){for(var N=p+S,L=_-S,I=a-c-L+N+1,E=[],D=0;D<L;D++){var A=I+D;E[A-I]=this.getLineContent(A)}l.push(new b(N+1,p+_,E))}c+=C}this._increaseVersionId(),this._emitContentChangedEvent(new v(l,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:s,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return this._tokens.hasLinesToTokenize(this._buffer)&&this._beginBackgroundTokenization(),r.reverseEdits},t.prototype._undo=function(){this._isUndoing=!0;var e=this._commandManager.undo();return this._isUndoing=!1,e?(this._overwriteAlternativeVersionId(e.recordedVersionId),e.selections):null},t.prototype.undo=function(){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._undo()}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}},t.prototype.canUndo=function(){return this._commandManager.canUndo()},t.prototype._redo=function(){this._isRedoing=!0;var e=this._commandManager.redo();return this._isRedoing=!1,e?(this._overwriteAlternativeVersionId(e.recordedVersionId),e.selections):null},t.prototype.redo=function(){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._redo()}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}},t.prototype.canRedo=function(){return this._commandManager.canRedo()},t.prototype.changeDecorations=function(e,t){void 0===t&&(t=0),this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(t,e)}finally{this._onDidChangeDecorations.endDeferredEmit()}},t.prototype._changeDecorations=function(e,t){var n=this,i={addDecoration:function(t,i){return n._onDidChangeDecorations.fire(),n._deltaDecorationsImpl(e,[],[{range:t,options:i}])[0]},changeDecoration:function(e,t){n._onDidChangeDecorations.fire(),n._changeDecorationImpl(e,t)},changeDecorationOptions:function(e,t){n._onDidChangeDecorations.fire(),n._changeDecorationOptionsImpl(e,Ge(t))},removeDecoration:function(t){n._onDidChangeDecorations.fire(),n._deltaDecorationsImpl(e,[t],[])},deltaDecorations:function(t,i){return 0===t.length&&0===i.length?[]:(n._onDidChangeDecorations.fire(),n._deltaDecorationsImpl(e,t,i))}},o=null;try{o=t(i)}catch(e){Object(s.e)(e)}return i.addDecoration=null,i.changeDecoration=null,i.removeDecoration=null,i.deltaDecorations=null,o},t.prototype.deltaDecorations=function(e,t,n){if(void 0===n&&(n=0),this._assertNotDisposed(),e||(e=[]),0===e.length&&0===t.length)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._deltaDecorationsImpl(n,e,t)}finally{this._onDidChangeDecorations.endDeferredEmit()}},t.prototype._getTrackedRange=function(e){return this.getDecorationRange(e)},t.prototype._setTrackedRange=function(e,t,n){var i=e?this._decorations[e]:null;if(!i)return t?this._deltaDecorationsImpl(0,[],[{range:t,options:qe[n]}])[0]:null;if(!t)return this._decorationsTree.delete(i),delete this._decorations[i.id],null;var o=this._validateRangeRelaxedNoAllocations(t),r=this._buffer.getOffsetAt(o.startLineNumber,o.startColumn),a=this._buffer.getOffsetAt(o.endLineNumber,o.endColumn);return this._decorationsTree.delete(i),i.reset(this.getVersionId(),r,a,o),i.setOptions(qe[n]),this._decorationsTree.insert(i),i.id},t.prototype.removeAllDecorationsWithOwnerId=function(e){if(!this._isDisposed)for(var t=this._decorationsTree.collectNodesFromOwner(e),n=0,i=t.length;n<i;n++){var o=t[n];this._decorationsTree.delete(o),delete this._decorations[o.id]}},t.prototype.getDecorationOptions=function(e){var t=this._decorations[e];return t?t.options:null},t.prototype.getDecorationRange=function(e){var t=this._decorations[e];if(!t)return null;var n=this.getVersionId();return t.cachedVersionId!==n&&this._decorationsTree.resolveNode(t,n),null===t.range&&(t.range=this._getRangeAt(t.cachedAbsoluteStart,t.cachedAbsoluteEnd)),t.range},t.prototype.getLineDecorations=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=!1),e<1||e>this.getLineCount()?[]:this.getLinesDecorations(e,e,t,n)},t.prototype.getLinesDecorations=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=!1);var o=this.getLineCount(),r=Math.min(o,Math.max(1,e)),a=Math.min(o,Math.max(1,t)),s=this.getLineMaxColumn(a);return this._getDecorationsInRange(new h.a(r,1,a,s),n,i)},t.prototype.getDecorationsInRange=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=!1);var i=this.validateRange(e);return this._getDecorationsInRange(i,t,n)},t.prototype.getOverviewRulerDecorations=function(e,t){void 0===e&&(e=0),void 0===t&&(t=!1);var n=this.getVersionId(),i=this._decorationsTree.search(e,t,!0,n);return this._ensureNodesHaveRanges(i)},t.prototype.getAllDecorations=function(e,t){void 0===e&&(e=0),void 0===t&&(t=!1);var n=this.getVersionId(),i=this._decorationsTree.search(e,t,!1,n);return this._ensureNodesHaveRanges(i)},t.prototype._getDecorationsInRange=function(e,t,n){var i=this._buffer.getOffsetAt(e.startLineNumber,e.startColumn),o=this._buffer.getOffsetAt(e.endLineNumber,e.endColumn),r=this.getVersionId(),a=this._decorationsTree.intervalSearch(i,o,t,n,r);return this._ensureNodesHaveRanges(a)},t.prototype._ensureNodesHaveRanges=function(e){for(var t=0,n=e.length;t<n;t++){var i=e[t];null===i.range&&(i.range=this._getRangeAt(i.cachedAbsoluteStart,i.cachedAbsoluteEnd))}return e},t.prototype._getRangeAt=function(e,t){return this._buffer.getRangeAt(e,t-e)},t.prototype._changeDecorationImpl=function(e,t){var n=this._decorations[e];if(n){var i=this._validateRangeRelaxedNoAllocations(t),o=this._buffer.getOffsetAt(i.startLineNumber,i.startColumn),r=this._buffer.getOffsetAt(i.endLineNumber,i.endColumn);this._decorationsTree.delete(n),n.reset(this.getVersionId(),o,r,i),this._decorationsTree.insert(n)}},t.prototype._changeDecorationOptionsImpl=function(e,t){var n=this._decorations[e];n&&(!!n.options.overviewRuler.color!==!!t.overviewRuler.color?(this._decorationsTree.delete(n),n.setOptions(t),this._decorationsTree.insert(n)):n.setOptions(t))},t.prototype._deltaDecorationsImpl=function(e,t,n){for(var i=this.getVersionId(),o=t.length,r=0,a=n.length,s=0,l=new Array(a);r<o||s<a;){var c=null;if(r<o){do{c=this._decorations[t[r++]]}while(!c&&r<o);c&&this._decorationsTree.delete(c)}if(s<a){if(!c){var u=++this._lastDecorationId,d=this._instanceId+";"+u;c=new E(d,0,0),this._decorations[d]=c}var h=n[s],f=this._validateRangeRelaxedNoAllocations(h.range),p=Ge(h.options),m=this._buffer.getOffsetAt(f.startLineNumber,f.startColumn),g=this._buffer.getOffsetAt(f.endLineNumber,f.endColumn);c.ownerId=e,c.reset(i,m,g,f),c.setOptions(p),this._decorationsTree.insert(c),l[s]=c.id,s++}else c&&delete this._decorations[c.id]}return l},t.prototype.tokenizeViewport=function(e,t){if(this._tokens.tokenizationSupport){var n=Math.floor(.3*this._tokens.inValidLineStartIndex);if((e=Math.max(1,e-n))<=this._tokens.inValidLineStartIndex)this.forceTokenization(t);else{var i=new se,o=this.getLineFirstNonWhitespaceColumn(e),r=[],a=e-1,s=null;if(o>0)for(;o>0&&a>=1;){var l=this.getLineFirstNonWhitespaceColumn(a);if(0!==l){if(l<o){if(s=this._tokens._getState(a-1))break;r.push(this.getLineContent(a)),o=l}a--}else a--}s||(s=this._tokens.tokenizationSupport.getInitialState());for(var c=s.clone(),u=r.length-1;u>=0;u--){c=(f=this._tokens._tokenizeText(this._buffer,r[u],c))?f.endState.clone():s.clone()}var d=Math.floor(.4*this._tokens.inValidLineStartIndex);t=Math.min(this.getLineCount(),t+d);for(var h=e;h<=t;h++){var f,p=this.getLineContent(h);(f=this._tokens._tokenizeText(this._buffer,p,c))?(this._tokens._setTokens(this._tokens.languageIdentifier.id,h-1,p.length,f.tokens),this._tokens._setIsInvalid(h-1,!1),this._tokens._setState(h-1,c),c=f.endState.clone(),i.registerChangedTokens(h)):c=s.clone()}var m=i.build();m&&this._onDidChangeTokens.fire(m)}}},t.prototype.forceTokenization=function(e){if(e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");var t=new se;this._tokens._updateTokensUntilLine(this._buffer,t,e);var n=t.build();n&&this._onDidChangeTokens.fire(n)},t.prototype.isCheapToTokenize=function(e){return this._tokens.isCheapToTokenize(e)},t.prototype.tokenizeIfCheap=function(e){this.isCheapToTokenize(e)&&this.forceTokenization(e)},t.prototype.getLineTokens=function(e){if(e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(e)},t.prototype._getLineTokens=function(e){var t=this._buffer.getLineContent(e);return this._tokens.getTokens(this._languageIdentifier.id,e-1,t)},t.prototype.getLanguageIdentifier=function(){return this._languageIdentifier},t.prototype.getModeId=function(){return this._languageIdentifier.language},t.prototype.setMode=function(e){if(this._languageIdentifier.id!==e.id){var t={oldLanguage:this._languageIdentifier.language,newLanguage:e.language};this._languageIdentifier=e,this._resetTokenizationState(),this.emitModelTokensChangedEvent({ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]}),this._onDidChangeLanguage.fire(t),this._onDidChangeLanguageConfiguration.fire({})}},t.prototype.getLanguageIdAtPosition=function(e,t){if(!this._tokens.tokenizationSupport)return this._languageIdentifier.id;var n=this.validatePosition({lineNumber:e,column:t}),i=n.lineNumber,o=n.column,r=this._getLineTokens(i);return r.getLanguageId(r.findTokenIndexAtOffset(o-1))},t.prototype._beginBackgroundTokenization=function(){var e=this;this._shouldAutoTokenize()&&-1===this._revalidateTokensTimeout&&(this._revalidateTokensTimeout=setTimeout(function(){e._revalidateTokensTimeout=-1,e._revalidateTokensNow()},0))},t.prototype._warmUpTokens=function(){var e=Math.min(100,this.getLineCount());this._revalidateTokensNow(e),this._tokens.hasLinesToTokenize(this._buffer)&&this._beginBackgroundTokenization()},t.prototype._revalidateTokensNow=function(e){void 0===e&&(e=this._buffer.getLineCount());for(var t=new se,n=Y.create(!1);this._tokens.hasLinesToTokenize(this._buffer)&&!(n.elapsed()>20);){if(this._tokens._tokenizeOneLine(this._buffer,t)>=e)break}this._tokens.hasLinesToTokenize(this._buffer)&&this._beginBackgroundTokenization();var i=t.build();i&&this._onDidChangeTokens.fire(i)},t.prototype.emitModelTokensChangedEvent=function(e){this._isDisposing||this._onDidChangeTokens.fire(e)},t.prototype.getWordAtPosition=function(e){this._assertNotDisposed();var n=this.validatePosition(e),i=this.getLineContent(n.lineNumber),o=this._getLineTokens(n.lineNumber),r=o.findTokenIndexAtOffset(n.column-1),a=t._findLanguageBoundaries(o,r),s=a[0],l=a[1],c=Object(ee.d)(n.column,J.a.getWordDefinition(o.getLanguageId(r)),i.substring(s,l),s);if(c)return c;if(r>0&&s===n.column-1){var u=t._findLanguageBoundaries(o,r-1),d=u[0],h=u[1],f=Object(ee.d)(n.column,J.a.getWordDefinition(o.getLanguageId(r-1)),i.substring(d,h),d);if(f)return f}return null},t._findLanguageBoundaries=function(e,t){for(var n,i,o=e.getLanguageId(t),r=t;r>=0&&e.getLanguageId(r)===o;r--)n=e.getStartOffset(r);r=t;for(var a=e.getCount();r<a&&e.getLanguageId(r)===o;r++)i=e.getEndOffset(r);return[n,i]},t.prototype.getWordUntilPosition=function(e){var t=this.getWordAtPosition(e);return t?{word:t.word.substr(0,e.column-t.startColumn),startColumn:t.startColumn,endColumn:e.column}:{word:"",startColumn:e.column,endColumn:e.column}},t.prototype.findMatchingBracketUp=function(e,t){var n=e.toLowerCase(),i=this.validatePosition(t),o=this._getLineTokens(i.lineNumber),r=o.getLanguageId(o.findTokenIndexAtOffset(i.column-1)),a=J.a.getBracketsSupport(r);if(!a)return null;var s=a.textIsBracket[n];return s?this._findMatchingBracketUp(s,i):null},t.prototype.matchBracket=function(e){return this._matchBracket(this.validatePosition(e))},t.prototype._matchBracket=function(e){var t=e.lineNumber,n=this._getLineTokens(t),i=this._buffer.getLineContent(t),o=n.findTokenIndexAtOffset(e.column-1);if(o<0)return null;var r=J.a.getBracketsSupport(n.getLanguageId(o));if(r&&!Object($.b)(n.getStandardTokenType(o))){for(var a=Math.max(n.getStartOffset(o),e.column-1-r.maxBracketLength),s=Math.min(n.getEndOffset(o),e.column-1+r.maxBracketLength),l=null;;){if(!(u=X.a.findNextBracketInToken(r.forwardRegex,t,i,a,s)))break;if(u.startColumn<=e.column&&e.column<=u.endColumn)d=(d=i.substring(u.startColumn-1,u.endColumn-1)).toLowerCase(),(h=this._matchFoundBracket(u,r.textIsBracket[d],r.textIsOpenBracket[d]))&&(l=h);a=u.endColumn-1}if(l)return l}if(o>0&&n.getStartOffset(o)===e.column-1){s=n.getStartOffset(o);o--;var c=J.a.getBracketsSupport(n.getLanguageId(o));if(c&&!Object($.b)(n.getStandardTokenType(o))){var u,d,h;a=Math.max(n.getStartOffset(o),e.column-1-c.maxBracketLength);if((u=X.a.findPrevBracketInToken(c.reversedRegex,t,i,a,s))&&u.startColumn<=e.column&&e.column<=u.endColumn)if(d=(d=i.substring(u.startColumn-1,u.endColumn-1)).toLowerCase(),h=this._matchFoundBracket(u,c.textIsBracket[d],c.textIsOpenBracket[d]))return h}}return null},t.prototype._matchFoundBracket=function(e,t,n){if(!t)return null;var i;if(n){if(i=this._findMatchingBracketDown(t,e.getEndPosition()))return[e,i]}else if(i=this._findMatchingBracketUp(t,e.getStartPosition()))return[e,i];return null},t.prototype._findMatchingBracketUp=function(e,t){for(var n=e.languageIdentifier.id,i=e.reversedRegex,o=-1,r=t.lineNumber;r>=1;r--){var a=this._getLineTokens(r),s=a.getCount(),l=this._buffer.getLineContent(r),c=s-1,u=-1;for(r===t.lineNumber&&(c=a.findTokenIndexAtOffset(t.column-1),u=t.column-1);c>=0;c--){var d=a.getLanguageId(c),h=a.getStandardTokenType(c),f=a.getStartOffset(c),p=a.getEndOffset(c);if(-1===u&&(u=p),d===n&&!Object($.b)(h))for(;;){var m=X.a.findPrevBracketInToken(i,r,l,f,u);if(!m)break;var g=l.substring(m.startColumn-1,m.endColumn-1);if((g=g.toLowerCase())===e.open?o++:g===e.close&&o--,0===o)return m;u=m.startColumn-1}u=-1}}return null},t.prototype._findMatchingBracketDown=function(e,t){for(var n=e.languageIdentifier.id,i=e.forwardRegex,o=1,r=t.lineNumber,a=this.getLineCount();r<=a;r++){var s=this._getLineTokens(r),l=s.getCount(),c=this._buffer.getLineContent(r),u=0,d=0;for(r===t.lineNumber&&(u=s.findTokenIndexAtOffset(t.column-1),d=t.column-1);u<l;u++){var h=s.getLanguageId(u),f=s.getStandardTokenType(u),p=s.getStartOffset(u),m=s.getEndOffset(u);if(0===d&&(d=p),h===n&&!Object($.b)(f))for(;;){var g=X.a.findNextBracketInToken(i,r,c,d,m);if(!g)break;var b=c.substring(g.startColumn-1,g.endColumn-1);if((b=b.toLowerCase())===e.open?o++:b===e.close&&o--,0===o)return g;d=g.endColumn-1}d=0}}return null},t.prototype.findNextBracket=function(e){for(var t=this.validatePosition(e),n=-1,i=null,o=t.lineNumber,r=this.getLineCount();o<=r;o++){var a=this._getLineTokens(o),s=a.getCount(),l=this._buffer.getLineContent(o),c=0,u=0;for(o===t.lineNumber&&(c=a.findTokenIndexAtOffset(t.column-1),u=t.column-1);c<s;c++){var d=a.getLanguageId(c),h=a.getStandardTokenType(c),f=a.getStartOffset(c),p=a.getEndOffset(c);if(0===u&&(u=f),n!==d&&(n=d,i=J.a.getBracketsSupport(n)),i&&!Object($.b)(h)){var m=X.a.findNextBracketInToken(i.forwardRegex,o,l,u,p);if(m)return this._toFoundBracket(i,m)}u=0}}return null},t.prototype._toFoundBracket=function(e,t){if(!t)return null;var n=this.getValueInRange(t);n=n.toLowerCase();var i=e.textIsBracket[n];return i?{range:t,open:i.open,close:i.close,isOpen:e.textIsOpenBracket[n]}:null},t.computeIndentLevel=function(e,t){for(var n=0,i=0,o=e.length;i<o;){var r=e.charCodeAt(i);if(32===r)n++;else{if(9!==r)break;n=n-n%t+t}i++}return i===o?-1:n},t.prototype._computeIndentLevel=function(e){return t.computeIndentLevel(this._buffer.getLineContent(e+1),this._options.tabSize)},t.prototype.getActiveIndentGuide=function(e,t,n){var i=this;this._assertNotDisposed();var o=this.getLineCount();if(e<1||e>o)throw new Error("Illegal value for lineNumber");for(var r=J.a.getFoldingRules(this._languageIdentifier.id),a=r&&r.offSide,s=-2,l=-1,c=-2,u=-1,d=function(e){if(-1!==s&&(-2===s||s>e-1)){s=-1,l=-1;for(var t=e-2;t>=0;t--){var n=i._computeIndentLevel(t);if(n>=0){s=t,l=n;break}}}if(-2===c){c=-1,u=-1;for(t=e;t<o;t++){var r=i._computeIndentLevel(t);if(r>=0){c=t,u=r;break}}}},h=-2,f=-1,p=-2,m=-1,g=function(e){if(-2===h){h=-1,f=-1;for(var t=e-2;t>=0;t--){var n=i._computeIndentLevel(t);if(n>=0){h=t,f=n;break}}}if(-1!==p&&(-2===p||p<e-1)){p=-1,m=-1;for(t=e;t<o;t++){var r=i._computeIndentLevel(t);if(r>=0){p=t,m=r;break}}}},b=0,y=!0,v=0,w=!0,_=0,S=0;y||w;S++){var C=e-S,x=e+S;if(0!==S&&(C<1||C<t)&&(y=!1),0!==S&&(x>o||x>n)&&(w=!1),S>5e4&&(y=!1,w=!1),y){var k=void 0;if((T=this._computeIndentLevel(C-1))>=0?(c=C-1,u=T,k=Math.ceil(T/this._options.tabSize)):(d(C),k=this._getIndentLevelForWhitespaceLine(a,l,u)),0===S){if(b=C,v=x,0===(_=k))return{startLineNumber:b,endLineNumber:v,indent:_};continue}k>=_?b=C:y=!1}if(w){var T,O=void 0;(T=this._computeIndentLevel(x-1))>=0?(h=x-1,f=T,O=Math.ceil(T/this._options.tabSize)):(g(x),O=this._getIndentLevelForWhitespaceLine(a,f,m)),O>=_?v=x:w=!1}}return{startLineNumber:b,endLineNumber:v,indent:_}},t.prototype.getLinesIndentGuides=function(e,t){this._assertNotDisposed();var n=this.getLineCount();if(e<1||e>n)throw new Error("Illegal value for startLineNumber");if(t<1||t>n)throw new Error("Illegal value for endLineNumber");for(var i=J.a.getFoldingRules(this._languageIdentifier.id),o=i&&i.offSide,r=new Array(t-e+1),a=-2,s=-1,l=-2,c=-1,u=e;u<=t;u++){var d=u-e,h=this._computeIndentLevel(u-1);if(h>=0)a=u-1,s=h,r[d]=Math.ceil(h/this._options.tabSize);else{if(-2===a){a=-1,s=-1;for(var f=u-2;f>=0;f--){if((p=this._computeIndentLevel(f))>=0){a=f,s=p;break}}}if(-1!==l&&(-2===l||l<u-1)){l=-1,c=-1;for(f=u;f<n;f++){var p;if((p=this._computeIndentLevel(f))>=0){l=f,c=p;break}}}r[d]=this._getIndentLevelForWhitespaceLine(o,s,c)}}return r},t.prototype._getIndentLevelForWhitespaceLine=function(e,t,n){return-1===t||-1===n?0:t<n?1+Math.floor(t/this._options.tabSize):t===n?Math.ceil(n/this._options.tabSize):e?Math.ceil(n/this._options.tabSize):1+Math.floor(n/this._options.tabSize)},t.MODEL_SYNC_LIMIT=52428800,t.LARGE_FILE_SIZE_THRESHOLD=20971520,t.LARGE_FILE_LINE_COUNT_THRESHOLD=3e5,t.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:ue.c.tabSize,insertSpaces:ue.c.insertSpaces,detectIndentation:!1,defaultEOL:r.b.LF,trimAutoWhitespace:ue.c.trimAutoWhitespace,largeFileOptimizations:ue.c.largeFileOptimizations},t}(q.a),Be=function(){function e(){this._decorationsTree0=new A,this._decorationsTree1=new A}return e.prototype.intervalSearch=function(e,t,n,i,o){var r=this._decorationsTree0.intervalSearch(e,t,n,i,o),a=this._decorationsTree1.intervalSearch(e,t,n,i,o);return r.concat(a)},e.prototype.search=function(e,t,n,i){if(n)return this._decorationsTree1.search(e,t,i);var o=this._decorationsTree0.search(e,t,i),r=this._decorationsTree1.search(e,t,i);return o.concat(r)},e.prototype.collectNodesFromOwner=function(e){var t=this._decorationsTree0.collectNodesFromOwner(e),n=this._decorationsTree1.collectNodesFromOwner(e);return t.concat(n)},e.prototype.collectNodesPostOrder=function(){var e=this._decorationsTree0.collectNodesPostOrder(),t=this._decorationsTree1.collectNodesPostOrder();return e.concat(t)},e.prototype.insert=function(e){N(e)?this._decorationsTree1.insert(e):this._decorationsTree0.insert(e)},e.prototype.delete=function(e){N(e)?this._decorationsTree1.delete(e):this._decorationsTree0.delete(e)},e.prototype.resolveNode=function(e,t){N(e)?this._decorationsTree1.resolveNode(e,t):this._decorationsTree0.resolveNode(e,t)},e.prototype.acceptReplace=function(e,t,n,i){this._decorationsTree0.acceptReplace(e,t,n,i),this._decorationsTree1.acceptReplace(e,t,n,i)},e}();function He(e){return e.replace(/[^a-z0-9\-_]/gi," ")}var ze=function(){return function(e){this.color=_.empty,this.darkColor=_.empty,this.hcColor=_.empty,this.position=r.f.Center,this._resolvedColor=null,e&&e.color&&(this.color=e.color),e&&e.darkColor&&(this.darkColor=e.darkColor,this.hcColor=e.darkColor),e&&e.hcColor&&(this.hcColor=e.hcColor),e&&e.hasOwnProperty("position")&&(this.position=e.position)}}(),Ue=function(){function e(e){this.stickiness=e.stickiness||r.h.AlwaysGrowsWhenTypingAtEdges,this.zIndex=e.zIndex||0,this.className=e.className?He(e.className):_.empty,this.hoverMessage=e.hoverMessage||[],this.glyphMarginHoverMessage=e.glyphMarginHoverMessage||[],this.isWholeLine=e.isWholeLine||!1,this.showIfCollapsed=e.showIfCollapsed||!1,this.overviewRuler=new ze(e.overviewRuler),this.glyphMarginClassName=e.glyphMarginClassName?He(e.glyphMarginClassName):_.empty,this.linesDecorationsClassName=e.linesDecorationsClassName?He(e.linesDecorationsClassName):_.empty,this.marginClassName=e.marginClassName?He(e.marginClassName):_.empty,this.inlineClassName=e.inlineClassName?He(e.inlineClassName):_.empty,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=e.beforeContentClassName?He(e.beforeContentClassName):_.empty,this.afterContentClassName=e.afterContentClassName?He(e.afterContentClassName):_.empty}return e.register=function(t){return new e(t)},e.createDynamic=function(t){return new e(t)},e}();Ue.EMPTY=Ue.register({});var qe=[Ue.register({stickiness:r.h.AlwaysGrowsWhenTypingAtEdges}),Ue.register({stickiness:r.h.NeverGrowsWhenTypingAtEdges}),Ue.register({stickiness:r.h.GrowsOnlyWhenTypingBefore}),Ue.register({stickiness:r.h.GrowsOnlyWhenTypingAfter})];function Ge(e){return e instanceof Ue?e:Ue.createDynamic(e)}var Ke=function(e){function t(){var t=e.call(this)||this;return t._actual=t._register(new o.a),t.event=t._actual.event,t._deferredCnt=0,t._shouldFire=!1,t}return Re(t,e),t.prototype.beginDeferredEmit=function(){this._deferredCnt++},t.prototype.endDeferredEmit=function(){this._deferredCnt--,0===this._deferredCnt&&this._shouldFire&&(this._shouldFire=!1,this._actual.fire({}))},t.prototype.fire=function(){this._shouldFire=!0},t}(q.a),Ye=function(e){function t(){var t=e.call(this)||this;return t._fastEmitter=t._register(new o.a),t.fastEvent=t._fastEmitter.event,t._slowEmitter=t._register(new o.a),t.slowEvent=t._slowEmitter.event,t._deferredCnt=0,t._deferredEvent=null,t}return Re(t,e),t.prototype.beginDeferredEmit=function(){this._deferredCnt++},t.prototype.endDeferredEmit=function(){if(this._deferredCnt--,0===this._deferredCnt&&null!==this._deferredEvent){var e=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(e),this._slowEmitter.fire(e)}},t.prototype.fire=function(e){this._deferredCnt>0?this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(e):this._deferredEvent=e:(this._fastEmitter.fire(e),this._slowEmitter.fire(e))},t}(q.a)},function(e,t,n){"use strict";n.d(t,"g",function(){return i}),n.d(t,"j",function(){return o}),n.d(t,"h",function(){return r}),n.d(t,"k",function(){return p}),n.d(t,"i",function(){return a}),n.d(t,"l",function(){return m}),n.d(t,"e",function(){return g}),n.d(t,"d",function(){return S}),n.d(t,"f",function(){return C}),n.d(t,"b",function(){return k}),n.d(t,"c",function(){return T}),n.d(t,"a",function(){return O});var i,o,r,a,s=n(0),l=n(18),c=n(45),u=n(105),d=n(29),h=n(34),f=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};function p(e){if(e===r.Blink)return"blink";if(e===r.Expand)return"expand";if(e===r.Phase)return"phase";if(e===r.Smooth)return"smooth";if(e===r.Solid)return"solid";throw new Error("blinkingStyleToString: Unknown blinkingStyle")}function m(e){if(e===a.Line)return"line";if(e===a.Block)return"block";if(e===a.Underline)return"underline";if(e===a.LineThin)return"line-thin";if(e===a.BlockOutline)return"block-outline";if(e===a.UnderlineThin)return"underline-thin";throw new Error("cursorStyleToString: Unknown cursorStyle")}!function(e){e[e.None=0]="None",e[e.Small=1]="Small",e[e.Large=2]="Large",e[e.SmallBlocks=3]="SmallBlocks",e[e.LargeBlocks=4]="LargeBlocks"}(i||(i={})),function(e){e[e.None=0]="None",e[e.Same=1]="Same",e[e.Indent=2]="Indent",e[e.DeepIndent=3]="DeepIndent"}(o||(o={})),function(e){e[e.Hidden=0]="Hidden",e[e.Blink=1]="Blink",e[e.Smooth=2]="Smooth",e[e.Phase=3]="Phase",e[e.Expand=4]="Expand",e[e.Solid=5]="Solid"}(r||(r={})),function(e){e[e.Line=1]="Line",e[e.Block=2]="Block",e[e.Underline=3]="Underline",e[e.LineThin=4]="LineThin",e[e.BlockOutline=5]="BlockOutline",e[e.UnderlineThin=6]="UnderlineThin"}(a||(a={}));var g=function(){function e(e){this.canUseLayerHinting=e.canUseLayerHinting,this.pixelRatio=e.pixelRatio,this.editorClassName=e.editorClassName,this.lineHeight=0|e.lineHeight,this.readOnly=e.readOnly,this.accessibilitySupport=e.accessibilitySupport,this.multiCursorModifier=e.multiCursorModifier,this.multiCursorMergeOverlapping=e.multiCursorMergeOverlapping,this.wordSeparators=e.wordSeparators,this.autoClosingBrackets=e.autoClosingBrackets,this.autoIndent=e.autoIndent,this.useTabStops=e.useTabStops,this.tabFocusMode=e.tabFocusMode,this.dragAndDrop=e.dragAndDrop,this.emptySelectionClipboard=e.emptySelectionClipboard,this.layoutInfo=e.layoutInfo,this.fontInfo=e.fontInfo,this.viewInfo=e.viewInfo,this.wrappingInfo=e.wrappingInfo,this.contribInfo=e.contribInfo,this.showUnused=e.showUnused}return e.prototype.equals=function(t){return this.canUseLayerHinting===t.canUseLayerHinting&&this.pixelRatio===t.pixelRatio&&this.editorClassName===t.editorClassName&&this.lineHeight===t.lineHeight&&this.readOnly===t.readOnly&&this.accessibilitySupport===t.accessibilitySupport&&this.multiCursorModifier===t.multiCursorModifier&&this.multiCursorMergeOverlapping===t.multiCursorMergeOverlapping&&this.wordSeparators===t.wordSeparators&&this.autoClosingBrackets===t.autoClosingBrackets&&this.autoIndent===t.autoIndent&&this.useTabStops===t.useTabStops&&this.tabFocusMode===t.tabFocusMode&&this.dragAndDrop===t.dragAndDrop&&this.showUnused===t.showUnused&&this.emptySelectionClipboard===t.emptySelectionClipboard&&e._equalsLayoutInfo(this.layoutInfo,t.layoutInfo)&&this.fontInfo.equals(t.fontInfo)&&e._equalsViewOptions(this.viewInfo,t.viewInfo)&&e._equalsWrappingInfo(this.wrappingInfo,t.wrappingInfo)&&e._equalsContribOptions(this.contribInfo,t.contribInfo)},e.prototype.createChangeEvent=function(t){return{canUseLayerHinting:this.canUseLayerHinting!==t.canUseLayerHinting,pixelRatio:this.pixelRatio!==t.pixelRatio,editorClassName:this.editorClassName!==t.editorClassName,lineHeight:this.lineHeight!==t.lineHeight,readOnly:this.readOnly!==t.readOnly,accessibilitySupport:this.accessibilitySupport!==t.accessibilitySupport,multiCursorModifier:this.multiCursorModifier!==t.multiCursorModifier,multiCursorMergeOverlapping:this.multiCursorMergeOverlapping!==t.multiCursorMergeOverlapping,wordSeparators:this.wordSeparators!==t.wordSeparators,autoClosingBrackets:this.autoClosingBrackets!==t.autoClosingBrackets,autoIndent:this.autoIndent!==t.autoIndent,useTabStops:this.useTabStops!==t.useTabStops,tabFocusMode:this.tabFocusMode!==t.tabFocusMode,dragAndDrop:this.dragAndDrop!==t.dragAndDrop,emptySelectionClipboard:this.emptySelectionClipboard!==t.emptySelectionClipboard,layoutInfo:!e._equalsLayoutInfo(this.layoutInfo,t.layoutInfo),fontInfo:!this.fontInfo.equals(t.fontInfo),viewInfo:!e._equalsViewOptions(this.viewInfo,t.viewInfo),wrappingInfo:!e._equalsWrappingInfo(this.wrappingInfo,t.wrappingInfo),contribInfo:!e._equalsContribOptions(this.contribInfo,t.contribInfo)}},e._equalsLayoutInfo=function(e,t){return e.width===t.width&&e.height===t.height&&e.glyphMarginLeft===t.glyphMarginLeft&&e.glyphMarginWidth===t.glyphMarginWidth&&e.glyphMarginHeight===t.glyphMarginHeight&&e.lineNumbersLeft===t.lineNumbersLeft&&e.lineNumbersWidth===t.lineNumbersWidth&&e.lineNumbersHeight===t.lineNumbersHeight&&e.decorationsLeft===t.decorationsLeft&&e.decorationsWidth===t.decorationsWidth&&e.decorationsHeight===t.decorationsHeight&&e.contentLeft===t.contentLeft&&e.contentWidth===t.contentWidth&&e.contentHeight===t.contentHeight&&e.renderMinimap===t.renderMinimap&&e.minimapLeft===t.minimapLeft&&e.minimapWidth===t.minimapWidth&&e.viewportColumn===t.viewportColumn&&e.verticalScrollbarWidth===t.verticalScrollbarWidth&&e.horizontalScrollbarHeight===t.horizontalScrollbarHeight&&this._equalsOverviewRuler(e.overviewRuler,t.overviewRuler)},e._equalsOverviewRuler=function(e,t){return e.width===t.width&&e.height===t.height&&e.top===t.top&&e.right===t.right},e._equalsViewOptions=function(e,t){return e.extraEditorClassName===t.extraEditorClassName&&e.disableMonospaceOptimizations===t.disableMonospaceOptimizations&&d.e(e.rulers,t.rulers)&&e.ariaLabel===t.ariaLabel&&e.renderLineNumbers===t.renderLineNumbers&&e.renderCustomLineNumbers===t.renderCustomLineNumbers&&e.selectOnLineNumbers===t.selectOnLineNumbers&&e.glyphMargin===t.glyphMargin&&e.revealHorizontalRightPadding===t.revealHorizontalRightPadding&&e.roundedSelection===t.roundedSelection&&e.overviewRulerLanes===t.overviewRulerLanes&&e.overviewRulerBorder===t.overviewRulerBorder&&e.cursorBlinking===t.cursorBlinking&&e.mouseWheelZoom===t.mouseWheelZoom&&e.cursorStyle===t.cursorStyle&&e.cursorWidth===t.cursorWidth&&e.hideCursorInOverviewRuler===t.hideCursorInOverviewRuler&&e.scrollBeyondLastLine===t.scrollBeyondLastLine&&e.scrollBeyondLastColumn===t.scrollBeyondLastColumn&&e.smoothScrolling===t.smoothScrolling&&e.stopRenderingLineAfter===t.stopRenderingLineAfter&&e.renderWhitespace===t.renderWhitespace&&e.renderControlCharacters===t.renderControlCharacters&&e.fontLigatures===t.fontLigatures&&e.renderIndentGuides===t.renderIndentGuides&&e.highlightActiveIndentGuide===t.highlightActiveIndentGuide&&e.renderLineHighlight===t.renderLineHighlight&&this._equalsScrollbarOptions(e.scrollbar,t.scrollbar)&&this._equalsMinimapOptions(e.minimap,t.minimap)&&e.fixedOverflowWidgets===t.fixedOverflowWidgets},e._equalsScrollbarOptions=function(e,t){return e.arrowSize===t.arrowSize&&e.vertical===t.vertical&&e.horizontal===t.horizontal&&e.useShadows===t.useShadows&&e.verticalHasArrows===t.verticalHasArrows&&e.horizontalHasArrows===t.horizontalHasArrows&&e.handleMouseWheel===t.handleMouseWheel&&e.horizontalScrollbarSize===t.horizontalScrollbarSize&&e.horizontalSliderSize===t.horizontalSliderSize&&e.verticalScrollbarSize===t.verticalScrollbarSize&&e.verticalSliderSize===t.verticalSliderSize&&e.mouseWheelScrollSensitivity===t.mouseWheelScrollSensitivity},e._equalsMinimapOptions=function(e,t){return e.enabled===t.enabled&&e.side===t.side&&e.showSlider===t.showSlider&&e.renderCharacters===t.renderCharacters&&e.maxColumn===t.maxColumn},e._equalFindOptions=function(e,t){return e.seedSearchStringFromSelection===t.seedSearchStringFromSelection&&e.autoFindInSelection===t.autoFindInSelection&&e.globalFindClipboard===t.globalFindClipboard},e._equalsHoverOptions=function(e,t){return e.enabled===t.enabled&&e.delay===t.delay&&e.sticky===t.sticky},e._equalsSuggestOptions=function(e,t){return e===t||!(!e||!t)&&(e.filterGraceful===t.filterGraceful&&e.snippets===t.snippets&&e.snippetsPreventQuickSuggestions===t.snippetsPreventQuickSuggestions)},e._equalsWrappingInfo=function(e,t){return e.inDiffEditor===t.inDiffEditor&&e.isDominatedByLongLines===t.isDominatedByLongLines&&e.isWordWrapMinified===t.isWordWrapMinified&&e.isViewportWrapping===t.isViewportWrapping&&e.wrappingColumn===t.wrappingColumn&&e.wrappingIndent===t.wrappingIndent&&e.wordWrapBreakBeforeCharacters===t.wordWrapBreakBeforeCharacters&&e.wordWrapBreakAfterCharacters===t.wordWrapBreakAfterCharacters&&e.wordWrapBreakObtrusiveCharacters===t.wordWrapBreakObtrusiveCharacters},e._equalsContribOptions=function(t,n){return t.selectionClipboard===n.selectionClipboard&&this._equalsHoverOptions(t.hover,n.hover)&&t.links===n.links&&t.contextmenu===n.contextmenu&&e._equalsQuickSuggestions(t.quickSuggestions,n.quickSuggestions)&&t.quickSuggestionsDelay===n.quickSuggestionsDelay&&t.parameterHints===n.parameterHints&&t.iconsInSuggestions===n.iconsInSuggestions&&t.formatOnType===n.formatOnType&&t.formatOnPaste===n.formatOnPaste&&t.suggestOnTriggerCharacters===n.suggestOnTriggerCharacters&&t.acceptSuggestionOnEnter===n.acceptSuggestionOnEnter&&t.acceptSuggestionOnCommitCharacter===n.acceptSuggestionOnCommitCharacter&&t.wordBasedSuggestions===n.wordBasedSuggestions&&t.suggestSelection===n.suggestSelection&&t.suggestFontSize===n.suggestFontSize&&t.suggestLineHeight===n.suggestLineHeight&&this._equalsSuggestOptions(t.suggest,n.suggest)&&t.selectionHighlight===n.selectionHighlight&&t.occurrencesHighlight===n.occurrencesHighlight&&t.codeLens===n.codeLens&&t.folding===n.folding&&t.foldingStrategy===n.foldingStrategy&&t.showFoldingControls===n.showFoldingControls&&t.matchBrackets===n.matchBrackets&&this._equalFindOptions(t.find,n.find)&&t.colorDecorators===n.colorDecorators&&h.e(t.codeActionsOnSave,n.codeActionsOnSave)&&t.codeActionsOnSaveTimeout===n.codeActionsOnSaveTimeout&&t.lightbulbEnabled===n.lightbulbEnabled},e._equalsQuickSuggestions=function(e,t){return"boolean"===typeof e?"boolean"===typeof t&&e===t:"boolean"!==typeof t&&(e.comments===t.comments&&e.other===t.other&&e.strings===t.strings)},e}();function b(e,t){return"undefined"===typeof e?t:"false"!==e&&Boolean(e)}function y(e,t){return"string"!==typeof e?t:e}function v(e,t,n){return"string"!==typeof e?t:-1===n.indexOf(e)?t:e}function w(e,t,n,i){var o;return"undefined"===typeof e?o=t:(o=parseInt(e,10),isNaN(o)&&(o=t)),o=Math.max(n,o),0|(o=Math.min(i,o))}function _(e,t){if("string"!==typeof e)return t;switch(e){case"hidden":return c.b.Hidden;case"visible":return c.b.Visible;default:return c.b.Auto}}var S=function(){function e(){}return e.validate=function(e,t){var n=e.wordWrap;!0===n?n="on":!1===n&&(n="off"),n=v(n,t.wordWrap,["off","on","wordWrapColumn","bounded"]);var i,r=this._sanitizeViewInfo(e,t.viewInfo),a=this._sanitizeContribInfo(e,t.contribInfo);"string"===typeof e.multiCursorModifier&&(i="ctrlCmd"===e.multiCursorModifier?l.d?"metaKey":"ctrlKey":"altKey");var s,c,u=v(i,t.multiCursorModifier,["altKey","metaKey","ctrlKey"]);return{inDiffEditor:b(e.inDiffEditor,t.inDiffEditor),wordSeparators:y(e.wordSeparators,t.wordSeparators),lineNumbersMinChars:w(e.lineNumbersMinChars,t.lineNumbersMinChars,1,10),lineDecorationsWidth:"undefined"===typeof e.lineDecorationsWidth?t.lineDecorationsWidth:e.lineDecorationsWidth,readOnly:b(e.readOnly,t.readOnly),mouseStyle:v(e.mouseStyle,t.mouseStyle,["text","default","copy"]),disableLayerHinting:b(e.disableLayerHinting,t.disableLayerHinting),automaticLayout:b(e.automaticLayout,t.automaticLayout),wordWrap:n,wordWrapColumn:w(e.wordWrapColumn,t.wordWrapColumn,1,1073741824),wordWrapMinified:b(e.wordWrapMinified,t.wordWrapMinified),wrappingIndent:(s=e.wrappingIndent,c=t.wrappingIndent,"string"!==typeof s?c:"same"===s?o.Same:"indent"===s?o.Indent:"deepIndent"===s?o.DeepIndent:o.None),wordWrapBreakBeforeCharacters:y(e.wordWrapBreakBeforeCharacters,t.wordWrapBreakBeforeCharacters),wordWrapBreakAfterCharacters:y(e.wordWrapBreakAfterCharacters,t.wordWrapBreakAfterCharacters),wordWrapBreakObtrusiveCharacters:y(e.wordWrapBreakObtrusiveCharacters,t.wordWrapBreakObtrusiveCharacters),autoClosingBrackets:b(e.autoClosingBrackets,t.autoClosingBrackets),autoIndent:b(e.autoIndent,t.autoIndent),dragAndDrop:b(e.dragAndDrop,t.dragAndDrop),emptySelectionClipboard:b(e.emptySelectionClipboard,t.emptySelectionClipboard),useTabStops:b(e.useTabStops,t.useTabStops),multiCursorModifier:u,multiCursorMergeOverlapping:b(e.multiCursorMergeOverlapping,t.multiCursorMergeOverlapping),accessibilitySupport:v(e.accessibilitySupport,t.accessibilitySupport,["auto","on","off"]),showUnused:b(e.showUnused,t.showUnused),viewInfo:r,contribInfo:a}},e._sanitizeScrollbarOpts=function(e,t,n){if("object"!==typeof e)return t;var i=w(e.horizontalScrollbarSize,t.horizontalScrollbarSize,0,1e3),o=w(e.verticalScrollbarSize,t.verticalScrollbarSize,0,1e3);return{vertical:_(e.vertical,t.vertical),horizontal:_(e.horizontal,t.horizontal),arrowSize:w(e.arrowSize,t.arrowSize,0,1e3),useShadows:b(e.useShadows,t.useShadows),verticalHasArrows:b(e.verticalHasArrows,t.verticalHasArrows),horizontalHasArrows:b(e.horizontalHasArrows,t.horizontalHasArrows),horizontalScrollbarSize:i,horizontalSliderSize:w(e.horizontalSliderSize,i,0,1e3),verticalScrollbarSize:o,verticalSliderSize:w(e.verticalSliderSize,o,0,1e3),handleMouseWheel:b(e.handleMouseWheel,t.handleMouseWheel),mouseWheelScrollSensitivity:n}},e._sanitizeMinimapOpts=function(e,t){return"object"!==typeof e?t:{enabled:b(e.enabled,t.enabled),side:v(e.side,t.side,["right","left"]),showSlider:v(e.showSlider,t.showSlider,["always","mouseover"]),renderCharacters:b(e.renderCharacters,t.renderCharacters),maxColumn:w(e.maxColumn,t.maxColumn,1,1e4)}},e._santizeFindOpts=function(e,t){return"object"!==typeof e?t:{seedSearchStringFromSelection:b(e.seedSearchStringFromSelection,t.seedSearchStringFromSelection),autoFindInSelection:b(e.autoFindInSelection,t.autoFindInSelection),globalFindClipboard:b(e.globalFindClipboard,t.globalFindClipboard)}},e._santizeHoverOpts=function(e,t){var n;if("boolean"===typeof e)n={enabled:e};else{if("object"!==typeof e)return t;n=e}return{enabled:b(n.enabled,t.enabled),delay:w(n.delay,t.delay,0,1e4),sticky:b(n.sticky,t.sticky)}},e._sanitizeSuggestOpts=function(e,t){var n=e.suggest||{};return{filterGraceful:b(n.filterGraceful,t.filterGraceful),snippets:v(e.snippetSuggestions,t.snippets,["top","bottom","inline","none"]),snippetsPreventQuickSuggestions:b(n.snippetsPreventQuickSuggestions,t.filterGraceful)}},e._sanitizeViewInfo=function(e,t){var n=[];if(Array.isArray(e.rulers)){for(var i=0,o=e.rulers.length;i<o;i++)n.push(w(e.rulers[i],0,0,1e4));n.sort()}var s=t.renderLineNumbers,l=t.renderCustomLineNumbers;if("undefined"!==typeof e.lineNumbers){var c=e.lineNumbers;!0===c?c="on":!1===c&&(c="off"),"function"===typeof c?(s=4,l=c):s="interval"===c?3:"relative"===c?2:"on"===c?1:0}var u=b(e.fontLigatures,t.fontLigatures),d=b(e.disableMonospaceOptimizations,t.disableMonospaceOptimizations)||u,h=e.renderWhitespace;!0===h?h="boundary":!1===h&&(h="none"),h=v(e.renderWhitespace,t.renderWhitespace,["none","boundary","all"]);var f=e.renderLineHighlight;!0===f?f="line":!1===f&&(f="none"),f=v(e.renderLineHighlight,t.renderLineHighlight,["none","gutter","line","all"]);var p,m,g,_=(p=e.mouseWheelScrollSensitivity,m=t.scrollbar.mouseWheelScrollSensitivity,g=parseFloat(p),isNaN(g)&&(g=m),g);0===_&&(_=1);var S=this._sanitizeScrollbarOpts(e.scrollbar,t.scrollbar,_),C=this._sanitizeMinimapOpts(e.minimap,t.minimap);return{extraEditorClassName:y(e.extraEditorClassName,t.extraEditorClassName),disableMonospaceOptimizations:d,rulers:n,ariaLabel:y(e.ariaLabel,t.ariaLabel),renderLineNumbers:s,renderCustomLineNumbers:l,selectOnLineNumbers:b(e.selectOnLineNumbers,t.selectOnLineNumbers),glyphMargin:b(e.glyphMargin,t.glyphMargin),revealHorizontalRightPadding:w(e.revealHorizontalRightPadding,t.revealHorizontalRightPadding,0,1e3),roundedSelection:b(e.roundedSelection,t.roundedSelection),overviewRulerLanes:w(e.overviewRulerLanes,t.overviewRulerLanes,0,3),overviewRulerBorder:b(e.overviewRulerBorder,t.overviewRulerBorder),cursorBlinking:function(e,t){if("string"!==typeof e)return t;switch(e){case"blink":return r.Blink;case"smooth":return r.Smooth;case"phase":return r.Phase;case"expand":return r.Expand;case"visible":case"solid":return r.Solid}return r.Blink}(e.cursorBlinking,t.cursorBlinking),mouseWheelZoom:b(e.mouseWheelZoom,t.mouseWheelZoom),cursorStyle:function(e,t){return"string"!==typeof e?t:"line"===e?a.Line:"block"===e?a.Block:"underline"===e?a.Underline:"line-thin"===e?a.LineThin:"block-outline"===e?a.BlockOutline:"underline-thin"===e?a.UnderlineThin:a.Line}(e.cursorStyle,t.cursorStyle),cursorWidth:w(e.cursorWidth,t.cursorWidth,0,Number.MAX_VALUE),hideCursorInOverviewRuler:b(e.hideCursorInOverviewRuler,t.hideCursorInOverviewRuler),scrollBeyondLastLine:b(e.scrollBeyondLastLine,t.scrollBeyondLastLine),scrollBeyondLastColumn:w(e.scrollBeyondLastColumn,t.scrollBeyondLastColumn,0,1073741824),smoothScrolling:b(e.smoothScrolling,t.smoothScrolling),stopRenderingLineAfter:w(e.stopRenderingLineAfter,t.stopRenderingLineAfter,-1,1073741824),renderWhitespace:h,renderControlCharacters:b(e.renderControlCharacters,t.renderControlCharacters),fontLigatures:u,renderIndentGuides:b(e.renderIndentGuides,t.renderIndentGuides),highlightActiveIndentGuide:b(e.highlightActiveIndentGuide,t.highlightActiveIndentGuide),renderLineHighlight:f,scrollbar:S,minimap:C,fixedOverflowWidgets:b(e.fixedOverflowWidgets,t.fixedOverflowWidgets)}},e._sanitizeContribInfo=function(e,t){var n;n="object"===typeof e.quickSuggestions?f({other:!0},e.quickSuggestions):b(e.quickSuggestions,t.quickSuggestions),"boolean"===typeof e.acceptSuggestionOnEnter&&(e.acceptSuggestionOnEnter=e.acceptSuggestionOnEnter?"on":"off");var i=this._santizeFindOpts(e.find,t.find);return{selectionClipboard:b(e.selectionClipboard,t.selectionClipboard),hover:this._santizeHoverOpts(e.hover,t.hover),links:b(e.links,t.links),contextmenu:b(e.contextmenu,t.contextmenu),quickSuggestions:n,quickSuggestionsDelay:w(e.quickSuggestionsDelay,t.quickSuggestionsDelay,-1073741824,1073741824),parameterHints:b(e.parameterHints,t.parameterHints),iconsInSuggestions:b(e.iconsInSuggestions,t.iconsInSuggestions),formatOnType:b(e.formatOnType,t.formatOnType),formatOnPaste:b(e.formatOnPaste,t.formatOnPaste),suggestOnTriggerCharacters:b(e.suggestOnTriggerCharacters,t.suggestOnTriggerCharacters),acceptSuggestionOnEnter:v(e.acceptSuggestionOnEnter,t.acceptSuggestionOnEnter,["on","smart","off"]),acceptSuggestionOnCommitCharacter:b(e.acceptSuggestionOnCommitCharacter,t.acceptSuggestionOnCommitCharacter),wordBasedSuggestions:b(e.wordBasedSuggestions,t.wordBasedSuggestions),suggestSelection:v(e.suggestSelection,t.suggestSelection,["first","recentlyUsed","recentlyUsedByPrefix"]),suggestFontSize:w(e.suggestFontSize,t.suggestFontSize,0,1e3),suggestLineHeight:w(e.suggestLineHeight,t.suggestLineHeight,0,1e3),suggest:this._sanitizeSuggestOpts(e,t.suggest),selectionHighlight:b(e.selectionHighlight,t.selectionHighlight),occurrencesHighlight:b(e.occurrencesHighlight,t.occurrencesHighlight),codeLens:b(e.codeLens,t.codeLens),folding:b(e.folding,t.folding),foldingStrategy:v(e.foldingStrategy,t.foldingStrategy,["auto","indentation"]),showFoldingControls:v(e.showFoldingControls,t.showFoldingControls,["always","mouseover"]),matchBrackets:b(e.matchBrackets,t.matchBrackets),find:i,colorDecorators:b(e.colorDecorators,t.colorDecorators),lightbulbEnabled:b(!!e.lightbulb&&e.lightbulb.enabled,t.lightbulbEnabled),codeActionsOnSave:function(e,t){if(!e)return t;for(var n=Object.create(null),i=0,o=Object.keys(e);i<o.length;i++){var r=o[i],a=e[r];"boolean"===typeof a&&(n[r]=a)}return n}(e.codeActionsOnSave,{}),codeActionsOnSaveTimeout:w(e.codeActionsOnSaveTimeout,t.codeActionsOnSaveTimeout,1,1e4)}},e}(),C=function(){function e(){}return e._tweakValidatedOptions=function(e,t){var n=2===t,i=1===t;return{inDiffEditor:e.inDiffEditor,wordSeparators:e.wordSeparators,lineNumbersMinChars:e.lineNumbersMinChars,lineDecorationsWidth:e.lineDecorationsWidth,readOnly:e.readOnly,mouseStyle:e.mouseStyle,disableLayerHinting:e.disableLayerHinting,automaticLayout:e.automaticLayout,wordWrap:e.wordWrap,wordWrapColumn:e.wordWrapColumn,wordWrapMinified:e.wordWrapMinified,wrappingIndent:e.wrappingIndent,wordWrapBreakBeforeCharacters:e.wordWrapBreakBeforeCharacters,wordWrapBreakAfterCharacters:e.wordWrapBreakAfterCharacters,wordWrapBreakObtrusiveCharacters:e.wordWrapBreakObtrusiveCharacters,autoClosingBrackets:e.autoClosingBrackets,autoIndent:e.autoIndent,dragAndDrop:e.dragAndDrop,emptySelectionClipboard:e.emptySelectionClipboard,useTabStops:e.useTabStops,multiCursorModifier:e.multiCursorModifier,multiCursorMergeOverlapping:e.multiCursorMergeOverlapping,accessibilitySupport:e.accessibilitySupport,showUnused:e.showUnused,viewInfo:{extraEditorClassName:e.viewInfo.extraEditorClassName,disableMonospaceOptimizations:e.viewInfo.disableMonospaceOptimizations,rulers:e.viewInfo.rulers,ariaLabel:i?s.a("accessibilityOffAriaLabel","The editor is not accessible at this time. Press Alt+F1 for options."):e.viewInfo.ariaLabel,renderLineNumbers:e.viewInfo.renderLineNumbers,renderCustomLineNumbers:e.viewInfo.renderCustomLineNumbers,selectOnLineNumbers:e.viewInfo.selectOnLineNumbers,glyphMargin:e.viewInfo.glyphMargin,revealHorizontalRightPadding:e.viewInfo.revealHorizontalRightPadding,roundedSelection:!n&&e.viewInfo.roundedSelection,overviewRulerLanes:e.viewInfo.overviewRulerLanes,overviewRulerBorder:e.viewInfo.overviewRulerBorder,cursorBlinking:e.viewInfo.cursorBlinking,mouseWheelZoom:e.viewInfo.mouseWheelZoom,cursorStyle:e.viewInfo.cursorStyle,cursorWidth:e.viewInfo.cursorWidth,hideCursorInOverviewRuler:e.viewInfo.hideCursorInOverviewRuler,scrollBeyondLastLine:e.viewInfo.scrollBeyondLastLine,scrollBeyondLastColumn:e.viewInfo.scrollBeyondLastColumn,smoothScrolling:e.viewInfo.smoothScrolling,stopRenderingLineAfter:e.viewInfo.stopRenderingLineAfter,renderWhitespace:n?"none":e.viewInfo.renderWhitespace,renderControlCharacters:!n&&e.viewInfo.renderControlCharacters,fontLigatures:!n&&e.viewInfo.fontLigatures,renderIndentGuides:!n&&e.viewInfo.renderIndentGuides,highlightActiveIndentGuide:e.viewInfo.highlightActiveIndentGuide,renderLineHighlight:e.viewInfo.renderLineHighlight,scrollbar:e.viewInfo.scrollbar,minimap:{enabled:!n&&e.viewInfo.minimap.enabled,side:e.viewInfo.minimap.side,renderCharacters:e.viewInfo.minimap.renderCharacters,showSlider:e.viewInfo.minimap.showSlider,maxColumn:e.viewInfo.minimap.maxColumn},fixedOverflowWidgets:e.viewInfo.fixedOverflowWidgets},contribInfo:{selectionClipboard:e.contribInfo.selectionClipboard,hover:e.contribInfo.hover,links:!n&&e.contribInfo.links,contextmenu:e.contribInfo.contextmenu,quickSuggestions:e.contribInfo.quickSuggestions,quickSuggestionsDelay:e.contribInfo.quickSuggestionsDelay,parameterHints:e.contribInfo.parameterHints,iconsInSuggestions:e.contribInfo.iconsInSuggestions,formatOnType:e.contribInfo.formatOnType,formatOnPaste:e.contribInfo.formatOnPaste,suggestOnTriggerCharacters:e.contribInfo.suggestOnTriggerCharacters,acceptSuggestionOnEnter:e.contribInfo.acceptSuggestionOnEnter,acceptSuggestionOnCommitCharacter:e.contribInfo.acceptSuggestionOnCommitCharacter,wordBasedSuggestions:e.contribInfo.wordBasedSuggestions,suggestSelection:e.contribInfo.suggestSelection,suggestFontSize:e.contribInfo.suggestFontSize,suggestLineHeight:e.contribInfo.suggestLineHeight,suggest:e.contribInfo.suggest,selectionHighlight:!n&&e.contribInfo.selectionHighlight,occurrencesHighlight:!n&&e.contribInfo.occurrencesHighlight,codeLens:!n&&e.contribInfo.codeLens,folding:!n&&e.contribInfo.folding,foldingStrategy:e.contribInfo.foldingStrategy,showFoldingControls:e.contribInfo.showFoldingControls,matchBrackets:!n&&e.contribInfo.matchBrackets,find:e.contribInfo.find,colorDecorators:e.contribInfo.colorDecorators,lightbulbEnabled:e.contribInfo.lightbulbEnabled,codeActionsOnSave:e.contribInfo.codeActionsOnSave,codeActionsOnSaveTimeout:e.contribInfo.codeActionsOnSaveTimeout}}},e.createInternalEditorOptions=function(e,t){var n;n="auto"===t.accessibilitySupport?e.accessibilitySupport:"on"===t.accessibilitySupport?2:1;var i,o=this._tweakValidatedOptions(t,n);"string"===typeof o.lineDecorationsWidth&&/^\d+(\.\d+)?ch$/.test(o.lineDecorationsWidth)?i=parseFloat(o.lineDecorationsWidth.substr(0,o.lineDecorationsWidth.length-2))*e.fontInfo.typicalHalfwidthCharacterWidth:i=w(o.lineDecorationsWidth,0,0,1e3);o.contribInfo.folding&&(i+=16);var r=x.compute({outerWidth:e.outerWidth,outerHeight:e.outerHeight,showGlyphMargin:o.viewInfo.glyphMargin,lineHeight:e.fontInfo.lineHeight,showLineNumbers:0!==o.viewInfo.renderLineNumbers,lineNumbersMinChars:o.lineNumbersMinChars,lineNumbersDigitCount:e.lineNumbersDigitCount,lineDecorationsWidth:i,typicalHalfwidthCharacterWidth:e.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:e.fontInfo.maxDigitWidth,verticalScrollbarWidth:o.viewInfo.scrollbar.verticalScrollbarSize,horizontalScrollbarHeight:o.viewInfo.scrollbar.horizontalScrollbarSize,scrollbarArrowSize:o.viewInfo.scrollbar.arrowSize,verticalScrollbarHasArrows:o.viewInfo.scrollbar.verticalHasArrows,minimap:o.viewInfo.minimap.enabled,minimapSide:o.viewInfo.minimap.side,minimapRenderCharacters:o.viewInfo.minimap.renderCharacters,minimapMaxColumn:o.viewInfo.minimap.maxColumn,pixelRatio:e.pixelRatio}),a=null,s=o.wordWrap,l=o.wordWrapColumn,c=o.wordWrapMinified;a=2===n?{isWordWrapMinified:!1,isViewportWrapping:!1,wrappingColumn:-1}:c&&e.isDominatedByLongLines?{isWordWrapMinified:!0,isViewportWrapping:!0,wrappingColumn:Math.max(1,r.viewportColumn)}:"on"===s?{isWordWrapMinified:!1,isViewportWrapping:!0,wrappingColumn:Math.max(1,r.viewportColumn)}:"bounded"===s?{isWordWrapMinified:!1,isViewportWrapping:!0,wrappingColumn:Math.min(Math.max(1,r.viewportColumn),l)}:"wordWrapColumn"===s?{isWordWrapMinified:!1,isViewportWrapping:!1,wrappingColumn:l}:{isWordWrapMinified:!1,isViewportWrapping:!1,wrappingColumn:-1};var u={inDiffEditor:o.inDiffEditor,isDominatedByLongLines:e.isDominatedByLongLines,isWordWrapMinified:a.isWordWrapMinified,isViewportWrapping:a.isViewportWrapping,wrappingColumn:a.wrappingColumn,wrappingIndent:o.wrappingIndent,wordWrapBreakBeforeCharacters:o.wordWrapBreakBeforeCharacters,wordWrapBreakAfterCharacters:o.wordWrapBreakAfterCharacters,wordWrapBreakObtrusiveCharacters:o.wordWrapBreakObtrusiveCharacters},d="monaco-editor";return o.viewInfo.extraEditorClassName&&(d+=" "+o.viewInfo.extraEditorClassName),e.extraEditorClassName&&(d+=" "+e.extraEditorClassName),o.viewInfo.fontLigatures&&(d+=" enable-ligatures"),"default"===o.mouseStyle?d+=" mouse-default":"copy"===o.mouseStyle&&(d+=" mouse-copy"),new g({canUseLayerHinting:!o.disableLayerHinting,pixelRatio:e.pixelRatio,editorClassName:d,lineHeight:e.fontInfo.lineHeight,readOnly:o.readOnly,accessibilitySupport:n,multiCursorModifier:o.multiCursorModifier,multiCursorMergeOverlapping:o.multiCursorMergeOverlapping,wordSeparators:o.wordSeparators,autoClosingBrackets:o.autoClosingBrackets,autoIndent:o.autoIndent,useTabStops:o.useTabStops,tabFocusMode:!!o.readOnly||e.tabFocusMode,dragAndDrop:o.dragAndDrop,emptySelectionClipboard:o.emptySelectionClipboard&&e.emptySelectionClipboard,layoutInfo:r,fontInfo:e.fontInfo,viewInfo:o.viewInfo,wrappingInfo:u,contribInfo:o.contribInfo,showUnused:o.showUnused})},e}(),x=function(){function e(){}return e.compute=function(e){var t=0|e.outerWidth,n=0|e.outerHeight,o=e.showGlyphMargin,r=0|e.lineHeight,a=e.showLineNumbers,s=0|e.lineNumbersMinChars,l=0|e.lineNumbersDigitCount,c=0|e.lineDecorationsWidth,u=e.typicalHalfwidthCharacterWidth,d=e.maxDigitWidth,h=0|e.verticalScrollbarWidth,f=e.verticalScrollbarHasArrows,p=0|e.scrollbarArrowSize,m=0|e.horizontalScrollbarHeight,g=e.minimap,b=e.minimapSide,y=e.minimapRenderCharacters,v=0|e.minimapMaxColumn,w=e.pixelRatio,_=0;if(a){var S=Math.max(l,s);_=Math.round(S*d)}var C=0;o&&(C=r);var x,k,T,O,N=0,L=N+C,I=L+_,E=I+c,D=t-C-_-c;if(g){var A=void 0;w>=2?(x=y?i.Large:i.LargeBlocks,A=2/w):(x=y?i.Small:i.SmallBlocks,A=1/w),(T=Math.max(0,Math.floor((D-h-2)*A/(u+A))))/A>v&&(T=Math.floor(v*A)),O=D-T,"left"===b?(k=0,N+=T,L+=T,I+=T,E+=T):k=t-T-h}else k=0,T=0,x=i.None,O=D;var M=Math.max(1,Math.floor((O-h-2)/u)),P=f?p:0;return{width:t,height:n,glyphMarginLeft:N,glyphMarginWidth:C,glyphMarginHeight:n,lineNumbersLeft:L,lineNumbersWidth:_,lineNumbersHeight:n,decorationsLeft:I,decorationsWidth:c,decorationsHeight:n,contentLeft:E,contentWidth:O,contentHeight:n,renderMinimap:x,minimapLeft:k,minimapWidth:T,viewportColumn:M,verticalScrollbarWidth:h,horizontalScrollbarHeight:m,overviewRuler:{top:P,width:h,height:n-2*P,right:0}}},e}(),k={fontFamily:l.d?"Menlo, Monaco, 'Courier New', monospace":l.c?"'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback'":"Consolas, 'Courier New', monospace",fontWeight:"normal",fontSize:l.d?12:14,lineHeight:0,letterSpacing:0},T={tabSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0},O={inDiffEditor:!1,wordSeparators:u.b,lineNumbersMinChars:5,lineDecorationsWidth:10,readOnly:!1,mouseStyle:"text",disableLayerHinting:!1,automaticLayout:!1,wordWrap:"off",wordWrapColumn:80,wordWrapMinified:!0,wrappingIndent:o.Same,wordWrapBreakBeforeCharacters:"([{\u2018\u201c\u3008\u300a\u300c\u300e\u3010\u3014\uff08\uff3b\uff5b\uff62\xa3\xa5\uff04\uffe1\uffe5+\uff0b",wordWrapBreakAfterCharacters:" \t})]?|&,;\xa2\xb0\u2032\u2033\u2030\u2103\u3001\u3002\uff61\uff64\uffe0\uff0c\uff0e\uff1a\uff1b\uff1f\uff01\uff05\u30fb\uff65\u309d\u309e\u30fd\u30fe\u30fc\u30a1\u30a3\u30a5\u30a7\u30a9\u30c3\u30e3\u30e5\u30e7\u30ee\u30f5\u30f6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308e\u3095\u3096\u31f0\u31f1\u31f2\u31f3\u31f4\u31f5\u31f6\u31f7\u31f8\u31f9\u31fa\u31fb\u31fc\u31fd\u31fe\u31ff\u3005\u303b\uff67\uff68\uff69\uff6a\uff6b\uff6c\uff6d\uff6e\uff6f\uff70\u201d\u3009\u300b\u300d\u300f\u3011\u3015\uff09\uff3d\uff5d\uff63",wordWrapBreakObtrusiveCharacters:".",autoClosingBrackets:!0,autoIndent:!0,dragAndDrop:!0,emptySelectionClipboard:!0,useTabStops:!0,multiCursorModifier:"altKey",multiCursorMergeOverlapping:!0,accessibilitySupport:"auto",showUnused:!0,viewInfo:{extraEditorClassName:"",disableMonospaceOptimizations:!1,rulers:[],ariaLabel:s.a("editorViewAccessibleLabel","Editor content"),renderLineNumbers:1,renderCustomLineNumbers:null,selectOnLineNumbers:!0,glyphMargin:!0,revealHorizontalRightPadding:30,roundedSelection:!0,overviewRulerLanes:2,overviewRulerBorder:!0,cursorBlinking:r.Blink,mouseWheelZoom:!1,cursorStyle:a.Line,cursorWidth:0,hideCursorInOverviewRuler:!1,scrollBeyondLastLine:!0,scrollBeyondLastColumn:5,smoothScrolling:!1,stopRenderingLineAfter:1e4,renderWhitespace:"none",renderControlCharacters:!1,fontLigatures:!1,renderIndentGuides:!0,highlightActiveIndentGuide:!0,renderLineHighlight:"line",scrollbar:{vertical:c.b.Auto,horizontal:c.b.Auto,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:10,horizontalSliderSize:10,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,mouseWheelScrollSensitivity:1},minimap:{enabled:!0,side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120},fixedOverflowWidgets:!1},contribInfo:{selectionClipboard:!0,hover:{enabled:!0,delay:300,sticky:!0},links:!0,contextmenu:!0,quickSuggestions:{other:!0,comments:!1,strings:!1},quickSuggestionsDelay:10,parameterHints:!0,iconsInSuggestions:!0,formatOnType:!1,formatOnPaste:!1,suggestOnTriggerCharacters:!0,acceptSuggestionOnEnter:"on",acceptSuggestionOnCommitCharacter:!0,wordBasedSuggestions:!0,suggestSelection:"recentlyUsed",suggestFontSize:0,suggestLineHeight:0,suggest:{filterGraceful:!0,snippets:"inline",snippetsPreventQuickSuggestions:!0},selectionHighlight:!0,occurrencesHighlight:!0,codeLens:!0,folding:!0,foldingStrategy:"auto",showFoldingControls:"mouseover",matchBrackets:!0,find:{seedSearchStringFromSelection:!0,autoFindInSelection:!1,globalFindClipboard:!1},colorDecorators:!0,lightbulbEnabled:!0,codeActionsOnSave:{},codeActionsOnSaveTimeout:750}}},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r});var i=n(1),o=function(){function e(e){this.domNode=e,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._layerHint=!1}return e.prototype.setMaxWidth=function(e){this._maxWidth!==e&&(this._maxWidth=e,this.domNode.style.maxWidth=this._maxWidth+"px")},e.prototype.setWidth=function(e){this._width!==e&&(this._width=e,this.domNode.style.width=this._width+"px")},e.prototype.setHeight=function(e){this._height!==e&&(this._height=e,this.domNode.style.height=this._height+"px")},e.prototype.setTop=function(e){this._top!==e&&(this._top=e,this.domNode.style.top=this._top+"px")},e.prototype.unsetTop=function(){-1!==this._top&&(this._top=-1,this.domNode.style.top="")},e.prototype.setLeft=function(e){this._left!==e&&(this._left=e,this.domNode.style.left=this._left+"px")},e.prototype.setBottom=function(e){this._bottom!==e&&(this._bottom=e,this.domNode.style.bottom=this._bottom+"px")},e.prototype.setRight=function(e){this._right!==e&&(this._right=e,this.domNode.style.right=this._right+"px")},e.prototype.setFontFamily=function(e){this._fontFamily!==e&&(this._fontFamily=e,this.domNode.style.fontFamily=this._fontFamily)},e.prototype.setFontWeight=function(e){this._fontWeight!==e&&(this._fontWeight=e,this.domNode.style.fontWeight=this._fontWeight)},e.prototype.setFontSize=function(e){this._fontSize!==e&&(this._fontSize=e,this.domNode.style.fontSize=this._fontSize+"px")},e.prototype.setLineHeight=function(e){this._lineHeight!==e&&(this._lineHeight=e,this.domNode.style.lineHeight=this._lineHeight+"px")},e.prototype.setLetterSpacing=function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.domNode.style.letterSpacing=this._letterSpacing+"px")},e.prototype.setClassName=function(e){this._className!==e&&(this._className=e,this.domNode.className=this._className)},e.prototype.toggleClassName=function(e,t){i.N(this.domNode,e,t),this._className=this.domNode.className},e.prototype.setDisplay=function(e){this._display!==e&&(this._display=e,this.domNode.style.display=this._display)},e.prototype.setPosition=function(e){this._position!==e&&(this._position=e,this.domNode.style.position=this._position)},e.prototype.setVisibility=function(e){this._visibility!==e&&(this._visibility=e,this.domNode.style.visibility=this._visibility)},e.prototype.setLayerHinting=function(e){this._layerHint!==e&&(this._layerHint=e,this.domNode.style.willChange=this._layerHint?"transform":"auto")},e.prototype.setAttribute=function(e,t){this.domNode.setAttribute(e,t)},e.prototype.removeAttribute=function(e){this.domNode.removeAttribute(e)},e.prototype.appendChild=function(e){this.domNode.appendChild(e.domNode)},e.prototype.removeChild=function(e){this.domNode.removeChild(e.domNode)},e}();function r(e){return new o(e)}},function(e,t,n){"use strict";n.d(t,"o",function(){return s}),n.d(t,"p",function(){return l}),n.d(t,"g",function(){return d}),n.d(t,"f",function(){return h}),n.d(t,"l",function(){return p}),n.d(t,"a",function(){return m}),n.d(t,"q",function(){return g}),n.d(t,"b",function(){return y}),n.d(t,"s",function(){return v}),n.d(t,"e",function(){return w}),n.d(t,"c",function(){return _}),n.d(t,"d",function(){return S}),n.d(t,"r",function(){return C}),n.d(t,"i",function(){return k}),n.d(t,"h",function(){return T}),n.d(t,"w",function(){return O}),n.d(t,"v",function(){return N}),n.d(t,"n",function(){return L}),n.d(t,"m",function(){return I}),n.d(t,"k",function(){return E}),n.d(t,"j",function(){return D}),n.d(t,"t",function(){return A}),n.d(t,"u",function(){return M}),n.d(t,"x",function(){return P}),n.d(t,"z",function(){return R}),n.d(t,"y",function(){return F});var i=n(0),o=n(8),r=n(22),a=n(17),s=Object(o.kb)("editor.lineHighlightBackground",{dark:null,light:null,hc:null},i.a("lineHighlight","Background color for the highlight of line at the cursor position.")),l=Object(o.kb)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},i.a("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),c=Object(o.kb)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},i.a("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque to not hide underlying decorations."),!0),u=Object(o.kb)("editor.rangeHighlightBorder",{dark:null,light:null,hc:o.b},i.a("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),d=Object(o.kb)("editorCursor.foreground",{dark:"#AEAFAD",light:a.a.black,hc:a.a.white},i.a("caret","Color of the editor cursor.")),h=Object(o.kb)("editorCursor.background",null,i.a("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),f=Object(o.kb)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},i.a("editorWhitespaces","Color of whitespace characters in the editor.")),p=Object(o.kb)("editorIndentGuide.background",{dark:f,light:f,hc:f},i.a("editorIndentGuides","Color of the editor indentation guides.")),m=Object(o.kb)("editorIndentGuide.activeBackground",{dark:f,light:f,hc:f},i.a("editorActiveIndentGuide","Color of the active editor indentation guides.")),g=Object(o.kb)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:a.a.white},i.a("editorLineNumbers","Color of editor line numbers.")),b=Object(o.kb)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:o.b},i.a("editorActiveLineNumber","Color of editor active line number"),!1,i.a("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),y=Object(o.kb)("editorLineNumber.activeForeground",{dark:b,light:b,hc:b},i.a("editorActiveLineNumber","Color of editor active line number")),v=Object(o.kb)("editorRuler.foreground",{dark:"#5A5A5A",light:a.a.lightgrey,hc:a.a.white},i.a("editorRuler","Color of the editor rulers.")),w=Object(o.kb)("editorCodeLens.foreground",{dark:"#999999",light:"#999999",hc:"#999999"},i.a("editorCodeLensForeground","Foreground color of editor code lenses")),_=Object(o.kb)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},i.a("editorBracketMatchBackground","Background color behind matching brackets")),S=Object(o.kb)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:"#fff"},i.a("editorBracketMatchBorder","Color for matching brackets boxes")),C=Object(o.kb)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},i.a("editorOverviewRulerBorder","Color of the overview ruler border.")),x=Object(o.kb)("editorGutter.background",{dark:o.n,light:o.n,hc:o.n},i.a("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),k=Object(o.kb)("editorError.foreground",{dark:"#ea4646",light:"#d60a0a",hc:null},i.a("errorForeground","Foreground color of error squigglies in the editor.")),T=Object(o.kb)("editorError.border",{dark:null,light:null,hc:a.a.fromHex("#E47777").transparent(.8)},i.a("errorBorder","Border color of error squigglies in the editor.")),O=Object(o.kb)("editorWarning.foreground",{dark:"#4d9e4d",light:"#117711",hc:null},i.a("warningForeground","Foreground color of warning squigglies in the editor.")),N=Object(o.kb)("editorWarning.border",{dark:null,light:null,hc:a.a.fromHex("#71B771").transparent(.8)},i.a("warningBorder","Border color of warning squigglies in the editor.")),L=Object(o.kb)("editorInfo.foreground",{dark:"#008000",light:"#008000",hc:null},i.a("infoForeground","Foreground color of info squigglies in the editor.")),I=Object(o.kb)("editorInfo.border",{dark:null,light:null,hc:a.a.fromHex("#71B771").transparent(.8)},i.a("infoBorder","Border color of info squigglies in the editor.")),E=Object(o.kb)("editorHint.foreground",{dark:a.a.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},i.a("hintForeground","Foreground color of hint squigglies in the editor.")),D=Object(o.kb)("editorHint.border",{dark:null,light:null,hc:a.a.fromHex("#eeeeee").transparent(.8)},i.a("hintBorder","Border color of hint squigglies in the editor.")),A=Object(o.kb)("editorUnnecessaryCode.border",{dark:null,light:null,hc:a.a.fromHex("#fff").transparent(.8)},i.a("unnecessaryCodeBorder","Border of unnecessary code in the editor.")),M=Object(o.kb)("editorUnnecessaryCode.opacity",{dark:a.a.fromHex("#000a"),light:a.a.fromHex("#0007"),hc:null},i.a("unnecessaryCodeOpacity","Opacity of unnecessary code in the editor.")),P=Object(o.kb)("editorOverviewRuler.errorForeground",{dark:new a.a(new a.c(255,18,18,.7)),light:new a.a(new a.c(255,18,18,.7)),hc:new a.a(new a.c(255,50,50,1))},i.a("overviewRuleError","Overview ruler marker color for errors.")),R=Object(o.kb)("editorOverviewRuler.warningForeground",{dark:new a.a(new a.c(18,136,18,.7)),light:new a.a(new a.c(18,136,18,.7)),hc:new a.a(new a.c(50,255,50,1))},i.a("overviewRuleWarning","Overview ruler marker color for warnings.")),F=Object(o.kb)("editorOverviewRuler.infoForeground",{dark:new a.a(new a.c(18,18,136,.7)),light:new a.a(new a.c(18,18,136,.7)),hc:new a.a(new a.c(50,50,255,1))},i.a("overviewRuleInfo","Overview ruler marker color for infos."));Object(r.e)(function(e,t){var n=e.getColor(o.n);n&&t.addRule(".monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: "+n+"; }");var i=e.getColor(o.u);i&&t.addRule(".monaco-editor, .monaco-editor .inputarea.ime-input { color: "+i+"; }");var r=e.getColor(x);r&&t.addRule(".monaco-editor .margin { background-color: "+r+"; }");var a=e.getColor(c);a&&t.addRule(".monaco-editor .rangeHighlight { background-color: "+a+"; }");var s=e.getColor(u);s&&t.addRule(".monaco-editor .rangeHighlight { border: 1px "+("hc"===e.type?"dotted":"solid")+" "+s+"; }");var l=e.getColor(f);l&&t.addRule(".vs-whitespace { color: "+l+" !important; }")})},function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"d",function(){return r}),n.d(t,"g",function(){return s}),n.d(t,"a",function(){return l}),n.d(t,"e",function(){return c}),n.d(t,"b",function(){return u}),n.d(t,"f",function(){return d});var i=n(24);function o(e){if(!e||"object"!==typeof e)return e;if(e instanceof RegExp)return e;var t=Array.isArray(e)?[]:{};return Object.keys(e).forEach(function(n){e[n]&&"object"===typeof e[n]?t[n]=o(e[n]):t[n]=e[n]}),t}function r(e){if(!e||"object"!==typeof e)return e;for(var t=[e];t.length>0;){var n=t.shift();for(var i in Object.freeze(n),n)if(a.call(n,i)){var o=n[i];"object"!==typeof o||Object.isFrozen(o)||t.push(o)}}return e}var a=Object.prototype.hasOwnProperty;function s(e,t,n){return void 0===n&&(n=!0),Object(i.g)(e)?(Object(i.g)(t)&&Object.keys(t).forEach(function(o){o in e?n&&(Object(i.g)(e[o])&&Object(i.g)(t[o])?s(e[o],t[o],n):e[o]=t[o]):e[o]=t[o]}),e):t}function l(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach(function(t){return Object.keys(t).forEach(function(n){return e[n]=t[n]})}),e}function c(e,t){if(e===t)return!0;if(null===e||void 0===e||null===t||void 0===t)return!1;if(typeof e!==typeof t)return!1;if("object"!==typeof e)return!1;if(Array.isArray(e)!==Array.isArray(t))return!1;var n,i;if(Array.isArray(e)){if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(!c(e[n],t[n]))return!1}else{var o=[];for(i in e)o.push(i);o.sort();var r=[];for(i in t)r.push(i);if(r.sort(),!c(o,r))return!1;for(n=0;n<o.length;n++)if(!c(e[o[n]],t[o[n]]))return!1}return!0}function u(e,t){void 0===t&&(t=!1),t&&(e=e.map(function(e){return e.toLowerCase()}));var n=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=!0;return t}(e);return t?function(e){return void 0!==n[e.toLowerCase()]&&n.hasOwnProperty(e.toLowerCase())}:function(e){return void 0!==n[e]&&n.hasOwnProperty(e)}}function d(e,t,n){void 0===n&&(n=null);var i=t(e);return"undefined"===typeof i?n:i}},function(e,t,n){"use strict";var i=n(47),o=function(){function e(e){e.autoClosingPairs?this._autoClosingPairs=e.autoClosingPairs.map(function(e){return new i.b(e)}):e.brackets?this._autoClosingPairs=e.brackets.map(function(e){return new i.b({open:e[0],close:e[1]})}):this._autoClosingPairs=[],this._surroundingPairs=e.surroundingPairs||this._autoClosingPairs}return e.prototype.getAutoClosingPairs=function(){return this._autoClosingPairs},e.prototype.shouldAutoClosePair=function(e,t,n){if(0===t.getTokenCount())return!0;for(var i=t.findTokenIndexAtOffset(n-2),o=t.getStandardTokenType(i),r=0;r<this._autoClosingPairs.length;++r){var a=this._autoClosingPairs[r];if(a.open===e)return a.isOK(o)}return!1},e.prototype.getSurroundingPairs=function(){return this._surroundingPairs},e}(),r=n(87),a=n(106),s=function(){function e(e,t,n){n=n||{},this._richEditBrackets=e,this._complexAutoClosePairs=t.filter(function(e){return e.open.length>1&&!!e.close}).map(function(e){return new i.b(e)}),n.docComment&&this._complexAutoClosePairs.push(new i.b({open:n.docComment.open,close:n.docComment.close}))}return e.prototype.getElectricCharacters=function(){var e=[];if(this._richEditBrackets)for(var t=0,n=this._richEditBrackets.brackets.length;t<n;t++){var i=this._richEditBrackets.brackets[t],o=i.close.charAt(i.close.length-1);e.push(o)}for(var r=0,a=this._complexAutoClosePairs;r<a.length;r++){var s=a[r];e.push(s.open.charAt(s.open.length-1))}return e=e.filter(function(e,t,n){return n.indexOf(e)===t})},e.prototype.onElectricCharacter=function(e,t,n){return this._onElectricAutoClose(e,t,n)||this._onElectricAutoIndent(e,t,n)},e.prototype._onElectricAutoIndent=function(e,t,n){if(!this._richEditBrackets||0===this._richEditBrackets.brackets.length)return null;var i=t.findTokenIndexAtOffset(n-1);if(Object(r.b)(t.getStandardTokenType(i)))return null;var o=this._richEditBrackets.reversedRegex,s=t.getLineContent().substring(0,n-1)+e,l=a.a.findPrevBracketInToken(o,1,s,0,s.length);if(!l)return null;var c=s.substring(l.startColumn-1,l.endColumn-1);if(c=c.toLowerCase(),this._richEditBrackets.textIsOpenBracket[c])return null;var u=s.substring(0,l.startColumn-1);return/^\s*$/.test(u)?{matchOpenBracket:c}:null},e.prototype._onElectricAutoClose=function(e,t,n){if(!this._complexAutoClosePairs.length)return null;for(var i=t.getLineContent(),o=0,r=this._complexAutoClosePairs.length;o<r;o++){var a=this._complexAutoClosePairs[o];if(e===a.open.charAt(a.open.length-1))if(i.substring(i.length-a.open.length+1)+e===a.open){var s=t.findTokenIndexAtOffset(n-1),l=t.getStandardTokenType(s);if(a.isOK(l)&&!(i.indexOf(a.close,n-1)>=0))return{appendText:a.close}}}return null},e}(),l=n(15),c=n(9),u=function(){function e(t){(t=t||{}).brackets=t.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=t.brackets.map(function(t){return{open:t[0],openRegExp:e._createOpenBracketRegExp(t[0]),close:t[1],closeRegExp:e._createCloseBracketRegExp(t[1])}}),this._regExpRules=t.regExpRules||[]}return e.prototype.onEnter=function(e,t,n){for(var o=0,r=this._regExpRules.length;o<r;o++){var a=this._regExpRules[o];if(a.beforeText.test(t)){if(!a.afterText)return a.action;if(a.afterText.test(n))return a.action}}if(t.length>0&&n.length>0)for(o=0,r=this._brackets.length;o<r;o++){if((s=this._brackets[o]).openRegExp.test(t)&&s.closeRegExp.test(n))return{indentAction:i.a.IndentOutdent}}if(t.length>0)for(o=0,r=this._brackets.length;o<r;o++){var s;if((s=this._brackets[o]).openRegExp.test(t))return{indentAction:i.a.Indent}}return null},e._createOpenBracketRegExp=function(t){var n=c.escapeRegExpCharacters(t);return/\B/.test(n.charAt(0))||(n="\\b"+n),n+="\\s*$",e._safeRegExp(n)},e._createCloseBracketRegExp=function(t){var n=c.escapeRegExpCharacters(t);return/\B/.test(n.charAt(n.length-1))||(n+="\\b"),n="^\\s*"+n,e._safeRegExp(n)},e._safeRegExp=function(e){try{return new RegExp(e)}catch(e){return Object(l.e)(e),null}},e}(),d=function(){function e(e){this._indentationRules=e}return e.prototype.shouldIncrease=function(e){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&this._indentationRules.increaseIndentPattern.test(e))},e.prototype.shouldDecrease=function(e){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&this._indentationRules.decreaseIndentPattern.test(e))},e.prototype.shouldIndentNextLine=function(e){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&this._indentationRules.indentNextLinePattern.test(e))},e.prototype.shouldIgnore=function(e){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&this._indentationRules.unIndentedLinePattern.test(e))},e.prototype.getIndentMetadata=function(e){var t=0;return this.shouldIncrease(e)&&(t+=1),this.shouldDecrease(e)&&(t+=2),this.shouldIndentNextLine(e)&&(t+=4),this.shouldIgnore(e)&&(t+=8),t},e}(),h=n(5),f=n(7),p=n(105),m=n(2);n.d(t,"a",function(){return b});var g=function(){function e(t,n,i){this._languageIdentifier=t,this._brackets=null,this._electricCharacter=null;var r=null;n&&(r=n._conf),this._conf=e._mergeConf(r,i),this.onEnter=e._handleOnEnter(this._conf),this.comments=e._handleComments(this._conf),this.characterPair=new o(this._conf),this.wordDefinition=this._conf.wordPattern||p.a,this.indentationRules=this._conf.indentationRules,this._conf.indentationRules&&(this.indentRulesSupport=new d(this._conf.indentationRules)),this.foldingRules=this._conf.folding||{}}return Object.defineProperty(e.prototype,"brackets",{get:function(){return!this._brackets&&this._conf.brackets&&(this._brackets=new a.b(this._languageIdentifier,this._conf.brackets)),this._brackets},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"electricCharacter",{get:function(){if(!this._electricCharacter){var e=[];this._conf.autoClosingPairs?e=this._conf.autoClosingPairs:this._conf.brackets&&(e=this._conf.brackets.map(function(e){return{open:e[0],close:e[1]}})),this._electricCharacter=new s(this.brackets,e,this._conf.__electricCharacterSupport)}return this._electricCharacter},enumerable:!0,configurable:!0}),e._mergeConf=function(e,t){return{comments:e?t.comments||e.comments:t.comments,brackets:e?t.brackets||e.brackets:t.brackets,wordPattern:e?t.wordPattern||e.wordPattern:t.wordPattern,indentationRules:e?t.indentationRules||e.indentationRules:t.indentationRules,onEnterRules:e?t.onEnterRules||e.onEnterRules:t.onEnterRules,autoClosingPairs:e?t.autoClosingPairs||e.autoClosingPairs:t.autoClosingPairs,surroundingPairs:e?t.surroundingPairs||e.surroundingPairs:t.surroundingPairs,folding:e?t.folding||e.folding:t.folding,__electricCharacterSupport:e?t.__electricCharacterSupport||e.__electricCharacterSupport:t.__electricCharacterSupport}},e._handleOnEnter=function(e){var t={},n=!0;return e.brackets&&(n=!1,t.brackets=e.brackets),e.indentationRules&&(n=!1),e.onEnterRules&&(n=!1,t.regExpRules=e.onEnterRules),n?null:new u(t)},e._handleComments=function(e){var t=e.comments;if(!t)return null;var n={};if(t.lineComment&&(n.lineCommentToken=t.lineComment),t.blockComment){var i=t.blockComment,o=i[0],r=i[1];n.blockCommentStartToken=o,n.blockCommentEndToken=r}return n},e}(),b=(function(){}(),new(function(){function e(){this._onDidChange=new h.a,this.onDidChange=this._onDidChange.event,this._entries=[]}return e.prototype.register=function(e,t){var n=this,i=this._getRichEditSupport(e.id),o=new g(e,i,t);return this._entries[e.id]=o,this._onDidChange.fire({languageIdentifier:e}),Object(f.f)(function(){n._entries[e.id]===o&&(n._entries[e.id]=i,n._onDidChange.fire({languageIdentifier:e}))})},e.prototype._getRichEditSupport=function(e){return this._entries[e]||null},e.prototype._getElectricCharacterSupport=function(e){var t=this._getRichEditSupport(e);return t&&t.electricCharacter||null},e.prototype.getElectricCharacters=function(e){var t=this._getElectricCharacterSupport(e);return t?t.getElectricCharacters():[]},e.prototype.onElectricCharacter=function(e,t,n){var i=Object(r.a)(t,n-1),o=this._getElectricCharacterSupport(i.languageId);return o?o.onElectricCharacter(e,i,n-i.firstCharOffset):null},e.prototype.getComments=function(e){var t=this._getRichEditSupport(e);return t&&t.comments||null},e.prototype._getCharacterPairSupport=function(e){var t=this._getRichEditSupport(e);return t&&t.characterPair||null},e.prototype.getAutoClosingPairs=function(e){var t=this._getCharacterPairSupport(e);return t?t.getAutoClosingPairs():[]},e.prototype.getSurroundingPairs=function(e){var t=this._getCharacterPairSupport(e);return t?t.getSurroundingPairs():[]},e.prototype.shouldAutoClosePair=function(e,t,n){var i=Object(r.a)(t,n-1),o=this._getCharacterPairSupport(i.languageId);return!!o&&o.shouldAutoClosePair(e,i,n-i.firstCharOffset)},e.prototype.getWordDefinition=function(e){var t=this._getRichEditSupport(e);return t?Object(p.c)(t.wordDefinition||null):Object(p.c)(null)},e.prototype.getFoldingRules=function(e){var t=this._getRichEditSupport(e);return t?t.foldingRules:{}},e.prototype.getIndentRulesSupport=function(e){var t=this._getRichEditSupport(e);return t&&t.indentRulesSupport||null},e.prototype.getPrecedingValidLine=function(e,t,n){var i=e.getLanguageIdAtPosition(t,0);if(t>1){var o=t-1,r=-1;for(o=t-1;o>=1;o--){if(e.getLanguageIdAtPosition(o,0)!==i)return r;var a=e.getLineContent(o);if(!n.shouldIgnore(a)&&!/^\s+$/.test(a)&&""!==a)return o;r=o}}return-1},e.prototype.getInheritIndentForLine=function(e,t,n){void 0===n&&(n=!0);var o=this.getIndentRulesSupport(e.getLanguageIdentifier().id);if(!o)return null;if(t<=1)return{indentation:"",action:null};var r=this.getPrecedingValidLine(e,t,o);if(r<0)return null;if(r<1)return{indentation:"",action:null};var a=e.getLineContent(r);if(o.shouldIncrease(a)||o.shouldIndentNextLine(a))return{indentation:c.getLeadingWhitespace(a),action:i.a.Indent,line:r};if(o.shouldDecrease(a))return{indentation:c.getLeadingWhitespace(a),action:null,line:r};if(1===r)return{indentation:c.getLeadingWhitespace(e.getLineContent(r)),action:null,line:r};var s=r-1,l=o.getIndentMetadata(e.getLineContent(s));if(!(3&l)&&4&l){for(var u=0,d=s-1;d>0;d--)if(!o.shouldIndentNextLine(e.getLineContent(d))){u=d;break}return{indentation:c.getLeadingWhitespace(e.getLineContent(u+1)),action:null,line:u+1}}if(n)return{indentation:c.getLeadingWhitespace(e.getLineContent(r)),action:null,line:r};for(d=r;d>0;d--){var h=e.getLineContent(d);if(o.shouldIncrease(h))return{indentation:c.getLeadingWhitespace(h),action:i.a.Indent,line:d};if(o.shouldIndentNextLine(h)){u=0;for(var f=d-1;f>0;f--)if(!o.shouldIndentNextLine(e.getLineContent(d))){u=f;break}return{indentation:c.getLeadingWhitespace(e.getLineContent(u+1)),action:null,line:u+1}}if(o.shouldDecrease(h))return{indentation:c.getLeadingWhitespace(h),action:null,line:d}}return{indentation:c.getLeadingWhitespace(e.getLineContent(1)),action:null,line:1}},e.prototype.getGoodIndentForLine=function(e,t,n,o){var r=this.getIndentRulesSupport(t);if(!r)return null;var a=this.getInheritIndentForLine(e,n),s=e.getLineContent(n);if(a){var u=a.line;if(void 0!==u){var d=this._getOnEnterSupport(t),h=null;try{h=d.onEnter("",e.getLineContent(u),"")}catch(e){Object(l.e)(e)}if(h){var f=c.getLeadingWhitespace(e.getLineContent(u));return h.removeText&&(f=f.substring(0,f.length-h.removeText)),h.indentAction===i.a.Indent||h.indentAction===i.a.IndentOutdent?f=o.shiftIndent(f):h.indentAction===i.a.Outdent&&(f=o.unshiftIndent(f)),r.shouldDecrease(s)&&(f=o.unshiftIndent(f)),h.appendText&&(f+=h.appendText),c.getLeadingWhitespace(f)}}return r.shouldDecrease(s)?a.action===i.a.Indent?a.indentation:o.unshiftIndent(a.indentation):a.action===i.a.Indent?o.shiftIndent(a.indentation):a.indentation}return null},e.prototype.getIndentForEnter=function(e,t,n,o){e.forceTokenization(t.startLineNumber);var a,s,l=e.getLineTokens(t.startLineNumber),u=Object(r.a)(l,t.startColumn-1),d=u.getLineContent(),h=!1;(u.firstCharOffset>0&&l.getLanguageId(0)!==u.languageId?(h=!0,a=d.substr(0,t.startColumn-1-u.firstCharOffset)):a=l.getLineContent().substring(0,t.startColumn-1),t.isEmpty())?s=d.substr(t.startColumn-1-u.firstCharOffset):s=this.getScopedLineTokens(e,t.endLineNumber,t.endColumn).getLineContent().substr(t.endColumn-1-u.firstCharOffset);var f=this.getIndentRulesSupport(u.languageId);if(!f)return null;var p=a,m=c.getLeadingWhitespace(a);if(!o&&!h){var g=this.getInheritIndentForLine(e,t.startLineNumber);f.shouldDecrease(a)&&g&&(m=g.indentation,g.action!==i.a.Indent&&(m=n.unshiftIndent(m))),p=m+c.ltrim(c.ltrim(a," "),"\t")}var b={getLineTokens:function(t){return e.getLineTokens(t)},getLanguageIdentifier:function(){return e.getLanguageIdentifier()},getLanguageIdAtPosition:function(t,n){return e.getLanguageIdAtPosition(t,n)},getLineContent:function(n){return n===t.startLineNumber?p:e.getLineContent(n)}},y=c.getLeadingWhitespace(l.getLineContent()),v=this.getInheritIndentForLine(b,t.startLineNumber+1);if(!v){var w=h?y:m;return{beforeEnter:w,afterEnter:w}}var _=h?y:v.indentation;return v.action===i.a.Indent&&(_=n.shiftIndent(_)),f.shouldDecrease(s)&&(_=n.unshiftIndent(_)),{beforeEnter:h?y:m,afterEnter:_}},e.prototype.getIndentActionForType=function(e,t,n,o){var r=this.getScopedLineTokens(e,t.startLineNumber,t.startColumn),a=this.getIndentRulesSupport(r.languageId);if(!a)return null;var s,l=r.getLineContent(),c=l.substr(0,t.startColumn-1-r.firstCharOffset);t.isEmpty()?s=l.substr(t.startColumn-1-r.firstCharOffset):s=this.getScopedLineTokens(e,t.endLineNumber,t.endColumn).getLineContent().substr(t.endColumn-1-r.firstCharOffset);if(!a.shouldDecrease(c+s)&&a.shouldDecrease(c+n+s)){var u=this.getInheritIndentForLine(e,t.startLineNumber,!1);if(!u)return null;var d=u.indentation;return u.action!==i.a.Indent&&(d=o.unshiftIndent(d)),d}return null},e.prototype.getIndentMetadata=function(e,t){var n=this.getIndentRulesSupport(e.getLanguageIdentifier().id);return n?t<1||t>e.getLineCount()?null:n.getIndentMetadata(e.getLineContent(t)):null},e.prototype._getOnEnterSupport=function(e){var t=this._getRichEditSupport(e);return t&&t.onEnter||null},e.prototype.getRawEnterActionAtPosition=function(e,t,n){var i=this.getEnterAction(e,new m.a(t,n,t,n));return i?i.enterAction:null},e.prototype.getEnterAction=function(e,t){var n=this.getIndentationAtPosition(e,t.startLineNumber,t.startColumn),o=this.getScopedLineTokens(e,t.startLineNumber,t.startColumn),r=this._getOnEnterSupport(o.languageId);if(!r)return null;var a,s=o.getLineContent(),c=s.substr(0,t.startColumn-1-o.firstCharOffset);t.isEmpty()?a=s.substr(t.startColumn-1-o.firstCharOffset):a=this.getScopedLineTokens(e,t.endLineNumber,t.endColumn).getLineContent().substr(t.endColumn-1-o.firstCharOffset);var u=t.startLineNumber,d="";if(u>1&&0===o.firstCharOffset){var h=this.getScopedLineTokens(e,u-1);h.languageId===o.languageId&&(d=h.getLineContent())}var f=null;try{f=r.onEnter(d,c,a)}catch(e){Object(l.e)(e)}return f?(f.appendText||(f.indentAction===i.a.Indent||f.indentAction===i.a.IndentOutdent?f.appendText="\t":f.appendText=""),f.removeText&&(n=n.substring(0,n.length-f.removeText)),{enterAction:f,indentation:n}):null},e.prototype.getIndentationAtPosition=function(e,t,n){var i=e.getLineContent(t),o=c.getLeadingWhitespace(i);return o.length>n-1&&(o=o.substring(0,n-1)),o},e.prototype.getScopedLineTokens=function(e,t,n){e.forceTokenization(t);var i=e.getLineTokens(t),o=isNaN(n)?e.getLineMaxColumn(t)-1:n-1;return Object(r.a)(i,o)},e.prototype.getBracketsSupport=function(e){var t=this._getRichEditSupport(e);return t&&t.brackets||null},e}()))},function(e,t,n){"use strict";var i,o,r=n(18),a=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=/^\w[\w\d+.-]*$/,l=/^\//,c=/^\/\//;var u="",d="/",h=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,f=function(){function e(e,t,n,i,o){"object"===typeof e?(this.scheme=e.scheme||u,this.authority=e.authority||u,this.path=e.path||u,this.query=e.query||u,this.fragment=e.fragment||u):(this.scheme=e||u,this.authority=t||u,this.path=function(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==d&&(t=d+t):t=d}return t}(this.scheme,n||u),this.query=i||u,this.fragment=o||u,function(e){if(e.scheme&&!s.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path)if(e.authority){if(!l.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(c.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}(this))}return e.isUri=function(t){return t instanceof e||!!t&&("string"===typeof t.authority&&"string"===typeof t.fragment&&"string"===typeof t.path&&"string"===typeof t.query&&"string"===typeof t.scheme)},Object.defineProperty(e.prototype,"fsPath",{get:function(){return y(this)},enumerable:!0,configurable:!0}),e.prototype.with=function(e){if(!e)return this;var t=e.scheme,n=e.authority,i=e.path,o=e.query,r=e.fragment;return void 0===t?t=this.scheme:null===t&&(t=u),void 0===n?n=this.authority:null===n&&(n=u),void 0===i?i=this.path:null===i&&(i=u),void 0===o?o=this.query:null===o&&(o=u),void 0===r?r=this.fragment:null===r&&(r=u),t===this.scheme&&n===this.authority&&i===this.path&&o===this.query&&r===this.fragment?this:new p(t,n,i,o,r)},e.parse=function(e){var t=h.exec(e);return t?new p(t[2]||u,decodeURIComponent(t[4]||u),decodeURIComponent(t[5]||u),decodeURIComponent(t[7]||u),decodeURIComponent(t[9]||u)):new p(u,u,u,u,u)},e.file=function(e){var t=u;if(r.g&&(e=e.replace(/\\/g,d)),e[0]===d&&e[1]===d){var n=e.indexOf(d,2);-1===n?(t=e.substring(2),e=d):(t=e.substring(2,n),e=e.substring(n)||d)}return new p("file",t,e,u,u)},e.from=function(e){return new p(e.scheme,e.authority,e.path,e.query,e.fragment)},e.prototype.toString=function(e){return void 0===e&&(e=!1),v(this,e)},e.prototype.toJSON=function(){return this},e.revive=function(t){if(t){if(t instanceof e)return t;var n=new p(t);return n._fsPath=t.fsPath,n._formatted=t.external,n}return t},e}();t.a=f;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._formatted=null,t._fsPath=null,t}return a(t,e),Object.defineProperty(t.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=y(this)),this._fsPath},enumerable:!0,configurable:!0}),t.prototype.toString=function(e){return void 0===e&&(e=!1),e?v(this,!0):(this._formatted||(this._formatted=v(this,!1)),this._formatted)},t.prototype.toJSON=function(){var e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e},t}(f),m=((o={})[58]="%3A",o[47]="%2F",o[63]="%3F",o[35]="%23",o[91]="%5B",o[93]="%5D",o[64]="%40",o[33]="%21",o[36]="%24",o[38]="%26",o[39]="%27",o[40]="%28",o[41]="%29",o[42]="%2A",o[43]="%2B",o[44]="%2C",o[59]="%3B",o[61]="%3D",o[32]="%20",o);function g(e,t){for(var n=void 0,i=-1,o=0;o<e.length;o++){var r=e.charCodeAt(o);if(r>=97&&r<=122||r>=65&&r<=90||r>=48&&r<=57||45===r||46===r||95===r||126===r||t&&47===r)-1!==i&&(n+=encodeURIComponent(e.substring(i,o)),i=-1),void 0!==n&&(n+=e.charAt(o));else{void 0===n&&(n=e.substr(0,o));var a=m[r];void 0!==a?(-1!==i&&(n+=encodeURIComponent(e.substring(i,o)),i=-1),n+=a):-1===i&&(i=o)}}return-1!==i&&(n+=encodeURIComponent(e.substring(i))),void 0!==n?n:e}function b(e){for(var t=void 0,n=0;n<e.length;n++){var i=e.charCodeAt(n);35===i||63===i?(void 0===t&&(t=e.substr(0,n)),t+=m[i]):void 0!==t&&(t+=e[n])}return void 0!==t?t:e}function y(e){var t;return t=e.authority&&e.path.length>1&&"file"===e.scheme?"//"+e.authority+e.path:47===e.path.charCodeAt(0)&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&58===e.path.charCodeAt(2)?e.path[1].toLowerCase()+e.path.substr(2):e.path,r.g&&(t=t.replace(/\//g,"\\")),t}function v(e,t){var n=t?b:g,i="",o=e.scheme,r=e.authority,a=e.path,s=e.query,l=e.fragment;if(o&&(i+=o,i+=":"),(r||"file"===o)&&(i+=d,i+=d),r){var c=r.indexOf("@");if(-1!==c){var u=r.substr(0,c);r=r.substr(c+1),-1===(c=u.indexOf(":"))?i+=n(u,!1):(i+=n(u.substr(0,c),!1),i+=":",i+=n(u.substr(c+1),!1)),i+="@"}-1===(c=(r=r.toLowerCase()).indexOf(":"))?i+=n(r,!1):(i+=n(r.substr(0,c),!1),i+=r.substr(c))}if(a){if(a.length>=3&&47===a.charCodeAt(0)&&58===a.charCodeAt(2))(h=a.charCodeAt(1))>=65&&h<=90&&(a="/"+String.fromCharCode(h+32)+":"+a.substr(3));else if(a.length>=2&&58===a.charCodeAt(1)){var h;(h=a.charCodeAt(0))>=65&&h<=90&&(a=String.fromCharCode(h+32)+":"+a.substr(2))}i+=n(a,!0)}return s&&(i+="?",i+=n(s,!1)),l&&(i+="#",i+=t?l:g(l,!1)),i}},function(e,t,n){"use strict";n.d(t,"a",function(){return y});n(333);var i,o=n(24),r=n(7),a=n(9),s=n(78),l=n(1),c=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u="_msDataKey";function d(e){return e[u]||(e[u]={}),e[u]}function h(e){return!!e[u]}var f=function(){function e(e,t){this.offdom=t,this.container=e,this.currentElement=e,this.createdElements=[],this.toDispose={},this.captureToDispose={}}return e.prototype.clone=function(){var t=new e(this.container,this.offdom);return t.currentElement=this.currentElement,t.createdElements=this.createdElements,t.captureToDispose=this.captureToDispose,t.toDispose=this.toDispose,t},e.prototype.build=function(t,n){s.a(this.offdom,"This builder was not created off-dom, so build() can not be called."),t?t instanceof e&&(t=t.getHTMLElement()):t=this.container,s.a(t,"Builder can only be build() with a container provided."),s.a(l.C(t),"The container must either be a HTMLElement or a Builder.");var i,r,a=t,c=a.childNodes;if(o.f(n)&&n<c.length)for(i=0,r=this.createdElements.length;i<r;i++)a.insertBefore(this.createdElements[i],c[n++]);else for(i=0,r=this.createdElements.length;i<r;i++)a.appendChild(this.createdElements[i]);return this},e.prototype.appendTo=function(t,n){t?t instanceof e&&(t=t.getHTMLElement()):t=this.container,s.a(t,"Builder can only be build() with a container provided."),s.a(l.C(t),"The container must either be a HTMLElement or a Builder.");var i=t;this.currentElement.parentNode&&this.currentElement.parentNode.removeChild(this.currentElement);var r=i.childNodes;return o.f(n)&&n<r.length?i.insertBefore(this.currentElement,r[n]):i.appendChild(this.currentElement),this},e.prototype.getHTMLElement=function(){return this.currentElement},e.prototype.div=function(e,t){return this.doElement("div",e,t)},e.prototype.element=function(e,t,n){return this.doElement(e,t,n)},e.prototype.doElement=function(t,n,i){var r=document.createElement(t);if(this.currentElement=r,this.offdom&&this.createdElements.push(r),o.g(n)&&this.attr(n),o.e(n)&&(i=n),o.e(i)){var a=new e(r);i.call(a,a)}return this.offdom||this.container.appendChild(r),this},e.prototype.domBlur=function(){return this.currentElement.blur(),this},e.prototype.on=function(e,t,n,i){var r=this;if(o.b(e))e.forEach(function(e){r.on(e,t,n,i)});else{var a=e,s=l.g(this.currentElement,a,function(e){t(e,r,s)},i||!1);i?(this.captureToDispose[a]||(this.captureToDispose[a]=[]),this.captureToDispose[a].push(s)):(this.toDispose[a]||(this.toDispose[a]=[]),this.toDispose[a].push(s));var c=this.getProperty("__$listeners",[]);c.push(s),this.setProperty("__$listeners",c),n&&o.b(n)&&n.push(s)}return this},e.prototype.off=function(e,t){var n=this;if(o.b(e))e.forEach(function(e){n.off(e)});else{var i=e;t?this.captureToDispose[i]&&(this.captureToDispose[i]=Object(r.d)(this.captureToDispose[i])):this.toDispose[i]&&(this.toDispose[i]=Object(r.d)(this.toDispose[i]))}return this},e.prototype.attr=function(e,t){if(o.g(e)){for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];this.doSetAttr(n,i)}return this}return o.h(e)&&!o.h(t)?this.currentElement.getAttribute(e):(o.h(e)&&(o.h(t)||(t=String(t)),this.doSetAttr(e,t)),this)},e.prototype.doSetAttr=function(e,t){"class"===e&&(e="addClass"),this[e]?o.b(t)?this[e].apply(this,t):this[e].call(this,t):this.currentElement.setAttribute(e,t)},e.prototype.style=function(e,t){if(o.g(e)){for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];this.doSetStyle(n,i)}return this}var r=o.h(e);return r&&o.i(t)?this.currentElement.style[this.cssKeyToJavaScriptProperty(e)]:(r&&this.doSetStyle(e,t),this)},e.prototype.doSetStyle=function(e,t){if(e.indexOf("-")>=0){var n=e.split("-");e=n[0];for(var i=1;i<n.length;i++){var o=n[i];e=e+o.charAt(0).toUpperCase()+o.substr(1)}}this.currentElement.style[this.cssKeyToJavaScriptProperty(e)]=t},e.prototype.cssKeyToJavaScriptProperty=function(e){if(e.indexOf("-")>=0){var t=e.split("-");e=t[0];for(var n=1;n<t.length;n++){var i=t[n];e=e+i.charAt(0).toUpperCase()+i.substr(1)}}else"float"===e&&(e="cssFloat");return e},e.prototype.addClass=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.forEach(function(t){t.split(" ").forEach(function(t){l.f(e.currentElement,t)})}),this},e.prototype.setClass=function(e,t){return void 0===t&&(t=null),null===t?this.currentElement.className=e:t?this.addClass(e):this.removeClass(e),this},e.prototype.hasClass=function(e){return l.z(this.currentElement,e)},e.prototype.removeClass=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.forEach(function(t){t.split(" ").forEach(function(t){l.G(e.currentElement,t)})}),this},e.prototype.show=function(){return this.hasClass("monaco-builder-hidden")&&this.removeClass("monaco-builder-hidden"),this.attr("aria-hidden","false"),this.cancelVisibilityTimeout(),this},e.prototype.hide=function(){return this.hasClass("monaco-builder-hidden")||this.addClass("monaco-builder-hidden"),this.attr("aria-hidden","true"),this.cancelVisibilityTimeout(),this},e.prototype.cancelVisibilityTimeout=function(){var e=this.getProperty("__$visibility");e&&(e.dispose(),this.removeProperty("__$visibility"))},e.prototype.innerHtml=function(e,t){return t?this.currentElement.innerHTML+=e:this.currentElement.innerHTML=e,this},e.prototype.text=function(e,t){return t?0===this.currentElement.children.length?this.currentElement.textContent+=e:this.currentElement.appendChild(document.createTextNode(e)):this.currentElement.textContent=e,this},e.prototype.safeInnerHtml=function(e,t){return this.innerHtml(a.escape(e),t)},e.prototype.setProperty=function(e,t){return function(e,t,n){d(e)[t]=n}(this.currentElement,e,t),this},e.prototype.getProperty=function(e,t){return function(e,t,n){if(h(e)){var i=d(e)[t];if(!o.i(i))return i}return n}(this.currentElement,e,t)},e.prototype.removeProperty=function(e){return h(this.currentElement)&&delete d(this.currentElement)[e],this},e.prototype.unbindDescendants=function(e){if(e&&e.children)for(var t=0,n=e.children.length;t<n;t++){var i=e.children.item(t);if(h(i)){var r=d(i).__$listeners;if(o.b(r))for(;r.length;)r.pop().dispose();delete i[u]}this.unbindDescendants(i)}},e.prototype.empty=function(){return this.unbindDescendants(this.currentElement),this.clearChildren(),this.offdom&&(this.createdElements=[]),this},e.prototype.clearChildren=function(){return this.currentElement&&l.l(this.currentElement),this},e.prototype.destroy=function(){if(this.currentElement&&(this.currentElement.parentNode&&this.currentElement.parentNode.removeChild(this.currentElement),this.empty(),h(this.currentElement))){var e=d(this.currentElement).__$listeners;if(o.b(e))for(;e.length;)e.pop().dispose();delete this.currentElement[u]}var t;for(t in this.toDispose)this.toDispose.hasOwnProperty(t)&&o.b(this.toDispose[t])&&(this.toDispose[t]=Object(r.d)(this.toDispose[t]));for(t in this.captureToDispose)this.captureToDispose.hasOwnProperty(t)&&o.b(this.captureToDispose[t])&&(this.captureToDispose[t]=Object(r.d)(this.captureToDispose[t]));this.currentElement=null,this.container=null,this.offdom=null,this.createdElements=null,this.captureToDispose=null,this.toDispose=null},e.prototype.dispose=function(){this.destroy()},e.prototype.getTotalSize=function(){var e=l.y(this.currentElement),t=l.x(this.currentElement);return new l.b(e,t)},e.prototype.getClientArea=function(){return l.q(this.currentElement)},e}(),p=function(e){function t(n){var i=this;if(s.a(o.b(n)||n instanceof t,"Expected Array or MultiBuilder as parameter"),(i=e.call(this)||this).length=0,i.builders=[],o.b(n))for(var r=0;r<n.length;r++)n[r]instanceof HTMLElement?i.push(m(n[r])):i.push(n[r]);else for(r=0;r<n.length;r++)i.push(n.item(r));var a=i,l=function(e){a[e]=function(){for(var n,i=Array.prototype.slice.call(arguments),r=!1,s=0;s<a.length;s++){var l=a.item(s)[e].apply(a.item(s),i);if(l instanceof t){n||(n=[]),r=!0;for(var c=0;c<l.length;c++)n.push(l.item(c))}else o.i(l)||l instanceof f||(n||(n=[]),n.push(l))}return n&&r?new t(n):n||a}};for(var c in f.prototype)"clone"!==c&&"and"!==c&&f.prototype.hasOwnProperty(c)&&o.e(f.prototype[c])&&l(c);return i}return c(t,e),t.prototype.item=function(e){return this.builders[e]},t.prototype.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;n++)this.builders.push(e[n]);this.length=this.builders.length},t.prototype.clone=function(){return new t(this)},t}(f);function m(e,t){return new f(e,t)}function g(){return new f(null,!0)}var b=/([\w\-]+)?(#([\w\-]+))?((.([\w\-]+))*)/,y=function(e){if(o.i(e))return g();if(!e)throw new Error("Bad use of $");if(l.C(e)||e===window)return m(e);if(o.b(e))return new p(e);if(e instanceof f)return(t=e)instanceof p?new p(t):new f(t.getHTMLElement(),n);var t,n;if(o.h(e)){if("<"===e[0]){var i=void 0,r=document.createElement("div");if(r.innerHTML=a.format.apply(a,arguments),0===r.children.length)throw new Error("Bad use of $");if(1===r.children.length)return i=r.firstChild,r.removeChild(i),m(i);for(var s=[];r.firstChild;)i=r.firstChild,r.removeChild(i),s.push(m(i));return new p(s)}if(1===arguments.length){var c=b.exec(e);if(!c)throw new Error("Bad use of $");var u=c[1]||"div",d=c[3]||void 0,h=(c[4]||"").replace(/\./g," "),y={};return d&&(y.id=d),h&&(y.class=h),g().element(u,y)}var v=g();return v.element.apply(v,arguments),v}throw new Error("Bad use of $")}},function(e,t,n){"use strict";var i;n.d(t,"a",function(){return i}),function(e){e[e.NotSet=0]="NotSet",e[e.ContentFlush=1]="ContentFlush",e[e.RecoverFromMarkers=2]="RecoverFromMarkers",e[e.Explicit=3]="Explicit",e[e.Paste=4]="Paste",e[e.Undo=5]="Undo",e[e.Redo=6]="Redo"}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n(25),o=Object(i.c)("codeEditorService")},function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return l});var i=n(7),o=n(24),r=n(25),a=n(191),s=Object(r.c)("commandService"),l=new(function(){function e(){this._commands=new Map}return e.prototype.registerCommand=function(e,t){var n=this;if(!e)throw new Error("invalid command");if("string"===typeof e){if(!t)throw new Error("invalid command");return this.registerCommand({id:e,handler:t})}if(e.description){for(var r=[],s=0,l=e.description.args;s<l.length;s++){var c=l[s];r.push(c.constraint)}var u=e.handler;e.handler=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return Object(o.k)(t,r),u.apply(void 0,[e].concat(t))}}var d=e.id,h=this._commands.get(d);h||(h=new a.a,this._commands.set(d,h));var f=h.unshift(e);return Object(i.f)(function(){f(),n._commands.get(d).isEmpty()&&n._commands.delete(d)})},e.prototype.registerCommandAlias=function(e,t){return l.registerCommand(e,function(e){for(var n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];(n=e.get(s)).executeCommand.apply(n,[t].concat(i))})},e.prototype.getCommand=function(e){var t=this._commands.get(e);if(t&&!t.isEmpty())return t.iterator().next().value},e.prototype.getCommands=function(){var e=this,t=Object.create(null);return this._commands.forEach(function(n,i){t[i]=e.getCommand(i)}),t},e}())},function(e,t,n){"use strict";n.d(t,"f",function(){return d}),n.d(t,"b",function(){return h}),n.d(t,"a",function(){return f}),n.d(t,"d",function(){return p}),n.d(t,"e",function(){return g}),n.d(t,"c",function(){return b});var i,o=n(80),r=n(25),a=n(13),s=n(40),l=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},u=function(e,t){return function(n,i){t(n,i,e)}};function d(e){return void 0!==e.command}var h=function(){function e(){this.id=String(e.ID++)}return e.ID=1,e.EditorContext=new e,e.CommandPalette=new e,e.MenubarEditMenu=new e,e.MenubarSelectionMenu=new e,e}(),f=Object(r.c)("menuService"),p=new(function(){function e(){this._commands=Object.create(null),this._menuItems=Object.create(null)}return e.prototype.addCommand=function(e){var t=this._commands[e.id];return this._commands[e.id]=e,void 0!==t},e.prototype.getCommand=function(e){return this._commands[e]},e.prototype.appendMenuItem=function(e,t){var n=e.id,i=this._menuItems[n];return i?i.push(t):this._menuItems[n]=i=[t],{dispose:function(){var e=i.indexOf(t);e>=0&&i.splice(e,1)}}},e.prototype.getMenuItems=function(e){var t=e.id,n=this._menuItems[t]||[];return t===h.CommandPalette.id&&this._appendImplicitItems(n),n},e.prototype._appendImplicitItems=function(e){for(var t=new Set,n=0,i=e.filter(function(e){return d(e)});n<i.length;n++){var o=i[n],r=o.command,a=o.alt;t.add(r.id),a&&t.add(a.id)}for(var s in this._commands)t.has(s)||e.push({command:this._commands[s]})},e}()),m=function(e){function t(t,n,i){var o=e.call(this,t,n)||this;return o._commandService=i,o}return l(t,e),t.prototype.run=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this._commandService).executeCommand.apply(e,[this.id].concat(t))},t=c([u(2,s.b)],t)}(o.a),g=function(e){function t(t){var n=this;return(n="string"===typeof t.title?e.call(this,"",t.title,"submenu")||this:e.call(this,"",t.title.value,"submenu")||this).item=t,n}return l(t,e),t}(o.a),b=function(e){function t(n,i,o,r,a){var s=this;return(s="string"===typeof n.title?e.call(this,n.id,n.title,a)||this:e.call(this,n.id,n.title.value,a)||this)._cssClass=void 0,s._enabled=!n.precondition||r.contextMatchesRules(n.precondition),s._options=o||{},s.item=n,s.alt=i?new t(i,void 0,s._options,r,a):void 0,s}return l(t,e),t.prototype.run=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=[];return this._options.arg&&(i=i.concat([this._options.arg])),this._options.shouldForwardArgs&&(i=i.concat(t)),e.prototype.run.apply(this,i)},t=c([u(3,a.e),u(4,s.b)],t)}(m)},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return l}),n.d(t,"f",function(){return c}),n.d(t,"e",function(){return d}),n.d(t,"d",function(){return f}),n.d(t,"c",function(){return p});var i,o=function(){function e(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}return e.prototype.define=function(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e},e.prototype.keyCodeToStr=function(e){return this._keyCodeToStr[e]},e.prototype.strToKeyCode=function(e){return this._strToKeyCode[e.toLowerCase()]||0},e}(),r=new o,a=new o,s=new o;function l(e,t){return(e|(65535&t)<<16>>>0)>>>0}function c(e,t){if(0===e)return null;var n=(65535&e)>>>0,i=(4294901760&e)>>>16;return 0!==i?new h(u(n,t),u(i,t)):u(n,t)}function u(e,t){var n=!!(2048&e),i=!!(256&e);return new d(2===t?i:n,!!(1024&e),!!(512&e),2===t?n:i,255&e)}!function(){function e(e,t,n,i){void 0===n&&(n=t),void 0===i&&(i=n),r.define(e,t),a.define(e,n),s.define(e,i)}e(0,"unknown"),e(1,"Backspace"),e(2,"Tab"),e(3,"Enter"),e(4,"Shift"),e(5,"Ctrl"),e(6,"Alt"),e(7,"PauseBreak"),e(8,"CapsLock"),e(9,"Escape"),e(10,"Space"),e(11,"PageUp"),e(12,"PageDown"),e(13,"End"),e(14,"Home"),e(15,"LeftArrow","Left"),e(16,"UpArrow","Up"),e(17,"RightArrow","Right"),e(18,"DownArrow","Down"),e(19,"Insert"),e(20,"Delete"),e(21,"0"),e(22,"1"),e(23,"2"),e(24,"3"),e(25,"4"),e(26,"5"),e(27,"6"),e(28,"7"),e(29,"8"),e(30,"9"),e(31,"A"),e(32,"B"),e(33,"C"),e(34,"D"),e(35,"E"),e(36,"F"),e(37,"G"),e(38,"H"),e(39,"I"),e(40,"J"),e(41,"K"),e(42,"L"),e(43,"M"),e(44,"N"),e(45,"O"),e(46,"P"),e(47,"Q"),e(48,"R"),e(49,"S"),e(50,"T"),e(51,"U"),e(52,"V"),e(53,"W"),e(54,"X"),e(55,"Y"),e(56,"Z"),e(57,"Meta"),e(58,"ContextMenu"),e(59,"F1"),e(60,"F2"),e(61,"F3"),e(62,"F4"),e(63,"F5"),e(64,"F6"),e(65,"F7"),e(66,"F8"),e(67,"F9"),e(68,"F10"),e(69,"F11"),e(70,"F12"),e(71,"F13"),e(72,"F14"),e(73,"F15"),e(74,"F16"),e(75,"F17"),e(76,"F18"),e(77,"F19"),e(78,"NumLock"),e(79,"ScrollLock"),e(80,";",";","OEM_1"),e(81,"=","=","OEM_PLUS"),e(82,",",",","OEM_COMMA"),e(83,"-","-","OEM_MINUS"),e(84,".",".","OEM_PERIOD"),e(85,"/","/","OEM_2"),e(86,"`","`","OEM_3"),e(110,"ABNT_C1"),e(111,"ABNT_C2"),e(87,"[","[","OEM_4"),e(88,"\\","\\","OEM_5"),e(89,"]","]","OEM_6"),e(90,"'","'","OEM_7"),e(91,"OEM_8"),e(92,"OEM_102"),e(93,"NumPad0"),e(94,"NumPad1"),e(95,"NumPad2"),e(96,"NumPad3"),e(97,"NumPad4"),e(98,"NumPad5"),e(99,"NumPad6"),e(100,"NumPad7"),e(101,"NumPad8"),e(102,"NumPad9"),e(103,"NumPad_Multiply"),e(104,"NumPad_Add"),e(105,"NumPad_Separator"),e(106,"NumPad_Subtract"),e(107,"NumPad_Decimal"),e(108,"NumPad_Divide")}(),function(e){e.toString=function(e){return r.keyCodeToStr(e)},e.fromString=function(e){return r.strToKeyCode(e)},e.toUserSettingsUS=function(e){return a.keyCodeToStr(e)},e.toUserSettingsGeneral=function(e){return s.keyCodeToStr(e)},e.fromUserSettings=function(e){return a.strToKeyCode(e)||s.strToKeyCode(e)}}(i||(i={}));var d=function(){function e(e,t,n,i,o){this.type=1,this.ctrlKey=e,this.shiftKey=t,this.altKey=n,this.metaKey=i,this.keyCode=o}return e.prototype.equals=function(e){return 1===e.type&&(this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode)},e.prototype.isModifierKey=function(){return 0===this.keyCode||5===this.keyCode||57===this.keyCode||6===this.keyCode||4===this.keyCode},e.prototype.isDuplicateModifierCase=function(){return this.ctrlKey&&5===this.keyCode||this.shiftKey&&4===this.keyCode||this.altKey&&6===this.keyCode||this.metaKey&&57===this.keyCode},e}(),h=function(){return function(e,t){this.type=2,this.firstPart=e,this.chordPart=t}}(),f=function(){return function(e,t,n,i,o,r){this.ctrlKey=e,this.shiftKey=t,this.altKey=n,this.metaKey=i,this.keyLabel=o,this.keyAriaLabel=r}}(),p=function(){return function(){}}()},function(e,t,n){"use strict";n.d(t,"i",function(){return r}),n.d(t,"g",function(){return a}),n.d(t,"b",function(){return s}),n.d(t,"a",function(){return l}),n.d(t,"c",function(){return c}),n.d(t,"h",function(){return h}),n.d(t,"f",function(){return p}),n.d(t,"e",function(){return m}),n.d(t,"d",function(){return g});var i=n(18),o=n(9),r="/",a=i.g?"\\":"/";function s(e){var t=~e.lastIndexOf("/")||~e.lastIndexOf("\\");if(0===t)return".";if(0===~t)return e[0];if(~t===e.length-1)return s(e.substring(0,e.length-1));var n=e.substring(0,~t);return i.g&&":"===n[n.length-1]&&(n+=a),n}function l(e){var t=~e.lastIndexOf("/")||~e.lastIndexOf("\\");return 0===t?e:~t===e.length-1?l(e.substring(0,e.length-1)):e.substr(1+~t)}function c(e){var t=~(e=l(e)).lastIndexOf(".");return t?e.substring(~t):""}var u=/(\/\.\.?\/)|(\/\.\.?)$|^(\.\.?\/)|(\/\/+)|(\\)/,d=/(\\\.\.?\\)|(\\\.\.?)$|^(\.\.?\\)|(\\\\+)|(\/)/;function h(e,t){if(null===e||void 0===e)return e;var n=e.length;if(0===n)return".";var o=i.g&&t;if(function(e,t){return t?!d.test(e):!u.test(e)}(e,o))return e;for(var r=o?"\\":"/",a=function(e,t){void 0===t&&(t="/");if(!e)return"";var n=e.length,i=e.charCodeAt(0);if(47===i||92===i){if((47===(i=e.charCodeAt(1))||92===i)&&47!==(i=e.charCodeAt(2))&&92!==i){for(var o=3,r=o;o<n&&(47!==(i=e.charCodeAt(o))&&92!==i);o++);if(i=e.charCodeAt(o+1),r!==o&&47!==i&&92!==i)for(o+=1;o<n;o++)if(47===(i=e.charCodeAt(o))||92===i)return e.slice(0,o+1).replace(/[\\/]/g,t)}return t}if((i>=65&&i<=90||i>=97&&i<=122)&&58===e.charCodeAt(1))return 47===(i=e.charCodeAt(2))||92===i?e.slice(0,2)+t:e.slice(0,2);var a=e.indexOf("://");if(-1!==a)for(a+=3;a<n;a++)if(47===(i=e.charCodeAt(a))||92===i)return e.slice(0,a+1);return""}(e,r),s=a.length,l=!1,c="",h=a.length;h<=n;h++)if(h===n||47===e.charCodeAt(h)||92===e.charCodeAt(h)){if(f(e,s,h,"..")){var p=c.lastIndexOf(r),m=c.slice(p+1);(a||m.length>0)&&".."!==m&&(c=-1===p?"":c.slice(0,p),l=!0)}else f(e,s,h,".")&&(a||c||h<n-1)&&(l=!0);if(!l){var g=e.slice(s,h);""!==c&&c[c.length-1]!==r&&(c+=r),c+=g}s=h+1,l=!1}return a+c}function f(e,t,n,i){return t+i.length===n&&e.indexOf(i,t)===t}var p=function(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];if(t>0){var i=e.charCodeAt(e.length-1);if(47!==i&&92!==i){var o=n.charCodeAt(0);47!==o&&92!==o&&(e+=r)}}e+=n}return h(e)};function m(e,t,n,i){if(void 0===i&&(i=a),e===t)return!0;if(!e||!t)return!1;if(t.length>e.length)return!1;if(n){if(!Object(o.startsWithIgnoreCase)(e,t))return!1;if(t.length===e.length)return!0;var r=t.length;return t.charAt(t.length-1)===i&&r--,e.charAt(r)===i}return t.charAt(t.length-1)!==i&&(t+=i),0===e.indexOf(t)}function g(e){return i.g?function(e){if(!e)return!1;var t=e.charCodeAt(0);if(47===t||92===t)return!0;if((t>=65&&t<=90||t>=97&&t<=122)&&e.length>2&&58===e.charCodeAt(1)){var n=e.charCodeAt(2);if(47===n||92===n)return!0}return!1}(e):function(e){return e&&47===e.charCodeAt(0)}(e)}},function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"a",function(){return c}),n.d(t,"c",function(){return u});var i,o=n(18),r=n(28),a=n(184),s=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(){function e(e){this.timestamp=Date.now(),this.browserEvent=e,this.leftButton=0===e.button,this.middleButton=1===e.button,this.rightButton=2===e.button,this.target=e.target,this.detail=e.detail||1,"dblclick"===e.type&&(this.detail=2),this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey,"number"===typeof e.pageX?(this.posx=e.pageX,this.posy=e.pageY):(this.posx=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=e.clientY+document.body.scrollTop+document.documentElement.scrollTop);var t=a.a.getPositionOfChildWindowRelativeToAncestorWindow(self,e.view);this.posx-=t.left,this.posy-=t.top}return e.prototype.preventDefault=function(){this.browserEvent.preventDefault&&this.browserEvent.preventDefault()},e.prototype.stopPropagation=function(){this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()},e}(),c=function(e){function t(t){var n=e.call(this,t)||this;return n.dataTransfer=t.dataTransfer,n}return s(t,e),t}(l),u=function(){function e(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=0),this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=n,this.deltaX=t,e){var i=e,a=e;"undefined"!==typeof i.wheelDeltaY?this.deltaY=i.wheelDeltaY/120:"undefined"!==typeof a.VERTICAL_AXIS&&a.axis===a.VERTICAL_AXIS&&(this.deltaY=-a.detail/3),"undefined"!==typeof i.wheelDeltaX?r.m&&o.g?this.deltaX=-i.wheelDeltaX/120:this.deltaX=i.wheelDeltaX/120:"undefined"!==typeof a.HORIZONTAL_AXIS&&a.axis===a.HORIZONTAL_AXIS&&(this.deltaX=-e.detail/3),0===this.deltaY&&0===this.deltaX&&e.wheelDelta&&(this.deltaY=e.wheelDelta/120)}}return e.prototype.preventDefault=function(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()},e.prototype.stopPropagation=function(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()},e}()},function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return c});var i,o,r=n(7),a=n(5),s=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});!function(e){e[e.Auto=1]="Auto",e[e.Hidden=2]="Hidden",e[e.Visible=3]="Visible"}(o||(o={}));var l=function(){function e(e,t,n,i,o,r){t|=0,n|=0,i|=0,o|=0,r|=0,(e|=0)<0&&(e=0),n+e>t&&(n=t-e),n<0&&(n=0),i<0&&(i=0),r+i>o&&(r=o-i),r<0&&(r=0),this.width=e,this.scrollWidth=t,this.scrollLeft=n,this.height=i,this.scrollHeight=o,this.scrollTop=r}return e.prototype.equals=function(e){return this.width===e.width&&this.scrollWidth===e.scrollWidth&&this.scrollLeft===e.scrollLeft&&this.height===e.height&&this.scrollHeight===e.scrollHeight&&this.scrollTop===e.scrollTop},e.prototype.withScrollDimensions=function(t){return new e("undefined"!==typeof t.width?t.width:this.width,"undefined"!==typeof t.scrollWidth?t.scrollWidth:this.scrollWidth,this.scrollLeft,"undefined"!==typeof t.height?t.height:this.height,"undefined"!==typeof t.scrollHeight?t.scrollHeight:this.scrollHeight,this.scrollTop)},e.prototype.withScrollPosition=function(t){return new e(this.width,this.scrollWidth,"undefined"!==typeof t.scrollLeft?t.scrollLeft:this.scrollLeft,this.height,this.scrollHeight,"undefined"!==typeof t.scrollTop?t.scrollTop:this.scrollTop)},e.prototype.createScrollEvent=function(e){var t=this.width!==e.width,n=this.scrollWidth!==e.scrollWidth,i=this.scrollLeft!==e.scrollLeft,o=this.height!==e.height,r=this.scrollHeight!==e.scrollHeight,a=this.scrollTop!==e.scrollTop;return{width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:t,scrollWidthChanged:n,scrollLeftChanged:i,heightChanged:o,scrollHeightChanged:r,scrollTopChanged:a}},e}(),c=function(e){function t(t,n){var i=e.call(this)||this;return i._onScroll=i._register(new a.a),i.onScroll=i._onScroll.event,i._smoothScrollDuration=t,i._scheduleAtNextAnimationFrame=n,i._state=new l(0,0,0,0,0,0),i._smoothScrolling=null,i}return s(t,e),t.prototype.dispose=function(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),e.prototype.dispose.call(this)},t.prototype.setSmoothScrollDuration=function(e){this._smoothScrollDuration=e},t.prototype.validateScrollPosition=function(e){return this._state.withScrollPosition(e)},t.prototype.getScrollDimensions=function(){return this._state},t.prototype.setScrollDimensions=function(e){var t=this._state.withScrollDimensions(e);this._setState(t),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)},t.prototype.getFutureScrollPosition=function(){return this._smoothScrolling?this._smoothScrolling.to:this._state},t.prototype.getCurrentScrollPosition=function(){return this._state},t.prototype.setScrollPositionNow=function(e){var t=this._state.withScrollPosition(e);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(t)},t.prototype.setScrollPositionSmooth=function(e){var t=this;if(0===this._smoothScrollDuration)return this.setScrollPositionNow(e);if(this._smoothScrolling){e={scrollLeft:"undefined"===typeof e.scrollLeft?this._smoothScrolling.to.scrollLeft:e.scrollLeft,scrollTop:"undefined"===typeof e.scrollTop?this._smoothScrolling.to.scrollTop:e.scrollTop};var n=this._state.withScrollPosition(e);if(this._smoothScrolling.to.scrollLeft===n.scrollLeft&&this._smoothScrolling.to.scrollTop===n.scrollTop)return;var i=this._smoothScrolling.combine(this._state,n,this._smoothScrollDuration);this._smoothScrolling.dispose(),this._smoothScrolling=i}else{n=this._state.withScrollPosition(e);this._smoothScrolling=h.start(this._state,n,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(function(){t._smoothScrolling&&(t._smoothScrolling.animationFrameDisposable=null,t._performSmoothScrolling())})},t.prototype._performSmoothScrolling=function(){var e=this,t=this._smoothScrolling.tick(),n=this._state.withScrollPosition(t);if(this._setState(n),t.isDone)return this._smoothScrolling.dispose(),void(this._smoothScrolling=null);this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(function(){e._smoothScrolling&&(e._smoothScrolling.animationFrameDisposable=null,e._performSmoothScrolling())})},t.prototype._setState=function(e){var t=this._state;t.equals(e)||(this._state=e,this._onScroll.fire(this._state.createScrollEvent(t)))},t}(r.a),u=function(){return function(e,t,n){this.scrollLeft=e,this.scrollTop=t,this.isDone=n}}();function d(e,t){var n=t-e;return function(t){return e+n*(1-function(e){return Math.pow(e,3)}(1-t))}}var h=function(){function e(e,t,n,i){this.from=e,this.to=t,this.duration=i,this._startTime=n,this.animationFrameDisposable=null,this._initAnimations()}return e.prototype._initAnimations=function(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)},e.prototype._initAnimation=function(e,t,n){var i,o,r;if(Math.abs(e-t)>2.5*n){var a=void 0,s=void 0;return e<t?(a=e+.75*n,s=t-.75*n):(a=e-.75*n,s=t+.75*n),i=d(e,a),o=d(s,t),r=.33,function(e){return e<r?i(e/r):o((e-r)/(1-r))}}return d(e,t)},e.prototype.dispose=function(){null!==this.animationFrameDisposable&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)},e.prototype.acceptScrollDimensions=function(e){this.to=e.withScrollPosition(this.to),this._initAnimations()},e.prototype.tick=function(){return this._tick(Date.now())},e.prototype._tick=function(e){var t=(e-this._startTime)/this.duration;if(t<1){var n=this.scrollLeft(t),i=this.scrollTop(t);return new u(n,i,!1)}return new u(this.to.scrollLeft,this.to.scrollTop,!0)},e.prototype.combine=function(t,n,i){return e.start(t,n,i)},e.start=function(t,n,i){return i+=10,new e(t,n,Date.now()-10,i)},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"d",function(){return r}),n.d(t,"c",function(){return a}),n.d(t,"b",function(){return s});var i=n(26),o=function(){function e(e,t,n){void 0===n&&(n=!1),this._range=e,this._text=t,this.insertsAutoWhitespace=n}return e.prototype.getEditOperations=function(e,t){t.addTrackedEditOperation(this._range,this._text)},e.prototype.computeCursorState=function(e,t){var n=t.getInverseEditOperations()[0].range;return new i.a(n.endLineNumber,n.endColumn,n.endLineNumber,n.endColumn)},e}(),r=function(){function e(e,t,n){void 0===n&&(n=!1),this._range=e,this._text=t,this.insertsAutoWhitespace=n}return e.prototype.getEditOperations=function(e,t){t.addTrackedEditOperation(this._range,this._text)},e.prototype.computeCursorState=function(e,t){var n=t.getInverseEditOperations()[0].range;return new i.a(n.startLineNumber,n.startColumn,n.startLineNumber,n.startColumn)},e}(),a=function(){function e(e,t,n,i,o){void 0===o&&(o=!1),this._range=e,this._text=t,this._columnDeltaOffset=i,this._lineNumberDeltaOffset=n,this.insertsAutoWhitespace=o}return e.prototype.getEditOperations=function(e,t){t.addTrackedEditOperation(this._range,this._text)},e.prototype.computeCursorState=function(e,t){var n=t.getInverseEditOperations()[0].range;return new i.a(n.endLineNumber+this._lineNumberDeltaOffset,n.endColumn+this._columnDeltaOffset,n.endLineNumber+this._lineNumberDeltaOffset,n.endColumn+this._columnDeltaOffset)},e}(),s=function(){function e(e,t,n){this._range=e,this._text=t,this._initialSelection=n}return e.prototype.getEditOperations=function(e,t){t.addEditOperation(this._range,this._text),this._selectionId=t.trackSelection(this._initialSelection)},e.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this._selectionId)},e}()},function(e,t,n){"use strict";var i;n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o}),function(e){e[e.None=0]="None",e[e.Indent=1]="Indent",e[e.IndentOutdent=2]="IndentOutdent",e[e.Outdent=3]="Outdent"}(i||(i={}));var o=function(){function e(e){if(this.open=e.open,this.close=e.close,this._standardTokenMask=0,Array.isArray(e.notIn))for(var t=0,n=e.notIn.length;t<n;t++){switch(e.notIn[t]){case"string":this._standardTokenMask|=2;break;case"comment":this._standardTokenMask|=1;break;case"regex":this._standardTokenMask|=4}}}return e.prototype.isOK=function(e){return 0===(this._standardTokenMask&e)},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a});var i=n(100),o=n(25),r=(i.a,Object(o.c)("notificationService")),a=function(){return function(){}}()},function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return c});var i,o,r,a=n(25),s=n(0),l=n(100);!function(e){e[e.Unnecessary=1]="Unnecessary"}(i||(i={})),function(e){e[e.Hint=1]="Hint",e[e.Info=2]="Info",e[e.Warning=4]="Warning",e[e.Error=8]="Error"}(o||(o={})),function(e){e.compare=function(e,t){return t-e};var t=Object.create(null);t[e.Error]=Object(s.a)("sev.error","Error"),t[e.Warning]=Object(s.a)("sev.warning","Warning"),t[e.Info]=Object(s.a)("sev.info","Info"),e.toString=function(e){return t[e]||""},e.fromSeverity=function(t){switch(t){case l.a.Error:return e.Error;case l.a.Warning:return e.Warning;case l.a.Info:return e.Info;case l.a.Ignore:return e.Hint}}}(o||(o={})),function(e){var t="";e.makeKey=function(e){var n=[t];return e.source?n.push(e.source.replace("\xa6","\xa6")):n.push(t),e.code?n.push(e.code.replace("\xa6","\xa6")):n.push(t),void 0!==e.severity&&null!==e.severity?n.push(o.toString(e.severity)):n.push(t),e.message?n.push(e.message.replace("\xa6","\xa6")):n.push(t),void 0!==e.startLineNumber&&null!==e.startLineNumber?n.push(e.startLineNumber.toString()):n.push(t),void 0!==e.startColumn&&null!==e.startColumn?n.push(e.startColumn.toString()):n.push(t),void 0!==e.endLineNumber&&null!==e.endLineNumber?n.push(e.endLineNumber.toString()):n.push(t),void 0!==e.endColumn&&null!==e.endColumn?n.push(e.endColumn.toString()):n.push(t),n.push(t),n.join("\xa6")}}(r||(r={}));var c=Object(a.c)("markerService")},function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"b",function(){return p}),n.d(t,"d",function(){return m}),n.d(t,"c",function(){return _}),n.d(t,"e",function(){return C});var i,o=n(20),r=n(29),a=n(9),s=n(34),l=n(15),c=n(3),u=n(12),d=n(13),h=n(51),f={Visible:new d.f("suggestWidgetVisible",!1),MultipleSuggestions:new d.f("suggestWidgetMultipleSuggestions",!1),MakesTextEdit:new d.f("suggestionMakesTextEdit",!0),AcceptOnKey:new d.f("suggestionSupportsAcceptOnKey",!0),AcceptSuggestionsOnEnter:new d.f("acceptSuggestionOnEnter",!0)};function p(){return i}function m(e,t,n,a,s,c){void 0===n&&(n="bottom"),void 0===c&&(c=h.a.None);var d=[],f=function(e){return"none"===e?function(e){return"snippet"!==e.type}:function(){return!0}}(n);t=t.clone();var p=u.u.orderedGroups(e);"none"!==n&&i&&p.unshift([i]);var m=s||{triggerKind:u.v.Invoke},y=!1,v=p.map(function(n){return function(){return Promise.all(n.map(function(n){if(Object(r.k)(a)||!(a.indexOf(n)<0))return Promise.resolve(n.provideCompletionItems(e,t,m,c)).then(function(o){var a=d.length;if(o&&!Object(r.k)(o.suggestions))for(var s=0,l=o.suggestions;s<l.length;s++){var c=l[s];f(c)&&(g(c,o),d.push({position:t,container:o,suggestion:c,support:n,resolve:b(n,c,e,t)}))}a!==d.length&&n!==i&&(y=!0)},l.f)}))}});return Object(o.k)(v,function(){return y}).then(function(){return d.sort(_(n))})}function g(e,t){"number"!==typeof e.overwriteBefore&&(e.overwriteBefore=0),("number"!==typeof e.overwriteAfter||e.overwriteAfter<0)&&(e.overwriteAfter=0)}function b(e,t,n,i){return function(o){return"function"===typeof e.resolveCompletionItem?Promise.resolve(e.resolveCompletionItem(n,i,t,o)).then(function(e){Object(s.a)(t,e)}):Promise.resolve(void 0)}}function y(e,t){var n=0;return"string"===typeof e.suggestion.sortText&&"string"===typeof t.suggestion.sortText&&(n=Object(a.compareIgnoreCase)(e.suggestion.sortText,t.suggestion.sortText)),0===n&&(n=Object(a.compareIgnoreCase)(e.suggestion.label,t.suggestion.label)),0===n&&e.suggestion.type!==t.suggestion.type&&("snippet"===e.suggestion.type?n=1:"snippet"===t.suggestion.type&&(n=-1)),n}function v(e,t){if(e.suggestion.type!==t.suggestion.type){if("snippet"===e.suggestion.type)return-1;if("snippet"===t.suggestion.type)return 1}return y(e,t)}function w(e,t){if(e.suggestion.type!==t.suggestion.type){if("snippet"===e.suggestion.type)return 1;if("snippet"===t.suggestion.type)return-1}return y(e,t)}function _(e){return"top"===e?v:"bottom"===e?w:y}Object(c.e)("_executeCompletionItemProvider",function(e,t,n){var i={incomplete:!1,suggestions:[]},o=[],r=n.maxItemsToResolve||0;return m(e,t).then(function(e){for(var t=0,n=e;t<n.length;t++){var a=n[t];o.length<r&&o.push(a.resolve(h.a.None)),i.incomplete=i.incomplete||a.container.incomplete,i.suggestions.push(a.suggestion)}}).then(function(){return Promise.all(o)}).then(function(){return i})});var S=new(function(){function e(){this.onlyOnceSuggestions=[]}return e.prototype.provideCompletionItems=function(){var e={suggestions:this.onlyOnceSuggestions.slice(0)};return this.onlyOnceSuggestions.length=0,e},e}());function C(e,t){setTimeout(function(){var n;(n=S.onlyOnceSuggestions).push.apply(n,t),e.getContribution("editor.contrib.suggestController").triggerSuggest([S])},0)}u.u.register("*",S)},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s});var i,o=n(5),r=Object.freeze(function(e,t){var n=setTimeout(e.bind(t),0);return{dispose:function(){clearTimeout(n)}}});!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:o.b.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:r})}(i||(i={}));var a=function(){function e(){this._isCancelled=!1}return e.prototype.cancel=function(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))},Object.defineProperty(e.prototype,"isCancellationRequested",{get:function(){return this._isCancelled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onCancellationRequested",{get:function(){return this._isCancelled?r:(this._emitter||(this._emitter=new o.a),this._emitter.event)},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)},e}(),s=function(){function e(){}return Object.defineProperty(e.prototype,"token",{get:function(){return this._token||(this._token=new a),this._token},enumerable:!0,configurable:!0}),e.prototype.cancel=function(){this._token?this._token instanceof a&&this._token.cancel():this._token=i.Cancelled},e.prototype.dispose=function(){this._token?this._token instanceof a&&this._token.dispose():this._token=i.None},e}()},function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return i}),n.d(t,"i",function(){return l}),n.d(t,"c",function(){return c}),n.d(t,"h",function(){return u}),n.d(t,"e",function(){return d}),n.d(t,"d",function(){return h}),n.d(t,"f",function(){return f}),n.d(t,"g",function(){return p});var i,o=n(60),r=n(25),a=n(104),s=Object(r.c)("configurationService");function l(e,t){var n=Object.create(null);for(var i in e)c(n,i,e[i],t);return n}function c(e,t,n,i){for(var o=t.split("."),r=o.pop(),a=e,s=0;s<o.length;s++){var l=o[s],c=a[l];switch(typeof c){case"undefined":c=a[l]=Object.create(null);break;case"object":break;default:return void i("Ignoring "+t+" as "+o.slice(0,s+1).join(".")+" is "+JSON.stringify(c))}a=c}"object"===typeof a?a[r]=n:i("Ignoring "+t+" as "+o.join(".")+" is "+JSON.stringify(a))}function u(e,t){!function e(t,n){var i=n.shift();if(0===n.length)return void delete t[i];if(-1!==Object.keys(t).indexOf(i)){var o=t[i];"object"!==typeof o||Array.isArray(o)||(e(o,n),0===Object.keys(o).length&&delete t[i])}}(e,t.split("."))}function d(e,t,n){var i=function(e,t){for(var n=e,i=0;i<t.length;i++){if("object"!==typeof n||null===n)return;n=n[t[i]]}return n}(e,t.split("."));return"undefined"===typeof i?n:i}function h(){var e=o.a.as(a.b.Configuration).getConfigurationProperties();return Object.keys(e)}function f(){var e=Object.create(null),t=o.a.as(a.b.Configuration).getConfigurationProperties();for(var n in t){c(e,n,t[n].default,function(e){return console.error("Conflict in default settings: "+e)})}return e}function p(e){return e.substring(1,e.length-1)}!function(e){e[e.USER=1]="USER",e[e.WORKSPACE=2]="WORKSPACE",e[e.WORKSPACE_FOLDER=3]="WORKSPACE_FOLDER",e[e.DEFAULT=4]="DEFAULT",e[e.MEMORY=5]="MEMORY"}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r});var i=n(5),o=function(e,t,n){var o=function(e){return r.fire(e)},r=new i.a({onFirstListenerAdd:function(){e.addEventListener(t,o,n)},onLastListenerRemove:function(){e.removeEventListener(t,o,n)}});return r.event};function r(e){return Object(i.j)(e,function(e){return e.preventDefault(),e.stopPropagation(),e})}},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var i=n(42),o=n(18),r=n(28),a=new Array(230),s=new Array(112);!function(){for(var e=0;e<s.length;e++)s[e]=-1;function t(e,t){a[e]=t,s[t]=e}t(3,7),t(8,1),t(9,2),t(13,3),t(16,4),t(17,5),t(18,6),t(19,7),t(20,8),t(27,9),t(32,10),t(33,11),t(34,12),t(35,13),t(36,14),t(37,15),t(38,16),t(39,17),t(40,18),t(45,19),t(46,20),t(48,21),t(49,22),t(50,23),t(51,24),t(52,25),t(53,26),t(54,27),t(55,28),t(56,29),t(57,30),t(65,31),t(66,32),t(67,33),t(68,34),t(69,35),t(70,36),t(71,37),t(72,38),t(73,39),t(74,40),t(75,41),t(76,42),t(77,43),t(78,44),t(79,45),t(80,46),t(81,47),t(82,48),t(83,49),t(84,50),t(85,51),t(86,52),t(87,53),t(88,54),t(89,55),t(90,56),t(93,58),t(96,93),t(97,94),t(98,95),t(99,96),t(100,97),t(101,98),t(102,99),t(103,100),t(104,101),t(105,102),t(106,103),t(107,104),t(108,105),t(109,106),t(110,107),t(111,108),t(112,59),t(113,60),t(114,61),t(115,62),t(116,63),t(117,64),t(118,65),t(119,66),t(120,67),t(121,68),t(122,69),t(123,70),t(124,71),t(125,72),t(126,73),t(127,74),t(128,75),t(129,76),t(130,77),t(144,78),t(145,79),t(186,80),t(187,81),t(188,82),t(189,83),t(190,84),t(191,85),t(192,86),t(193,110),t(194,111),t(219,87),t(220,88),t(221,89),t(222,90),t(223,91),t(226,92),t(229,109),r.k?t(91,57):r.j?(t(59,80),t(107,81),t(109,83),o.d&&t(224,57)):r.n&&(t(91,57),o.d?t(93,57):t(92,57))}();var l=o.d?256:2048,c=o.d?2048:256,u=function(){function e(e){var t=e;this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.keyCode=function(e){if(e.charCode){var t=String.fromCharCode(e.charCode).toUpperCase();return i.b.fromString(t)}return a[e.keyCode]||0}(t),this.code=t.code,this.ctrlKey=this.ctrlKey||5===this.keyCode,this.altKey=this.altKey||6===this.keyCode,this.shiftKey=this.shiftKey||4===this.keyCode,this.metaKey=this.metaKey||57===this.keyCode,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}return e.prototype.preventDefault=function(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()},e.prototype.stopPropagation=function(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()},e.prototype.toKeybinding=function(){return this._asRuntimeKeybinding},e.prototype.equals=function(e){return this._asKeybinding===e},e.prototype._computeKeybinding=function(){var e=0;5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(e=this.keyCode);var t=0;return this.ctrlKey&&(t|=l),this.altKey&&(t|=512),this.shiftKey&&(t|=1024),this.metaKey&&(t|=c),t|=e},e.prototype._computeRuntimeKeybinding=function(){var e=0;return 5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(e=this.keyCode),new i.e(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,e)},e}()},function(e,t,n){"use strict";function i(e){return e&&"string"===typeof e.id}n.d(t,"c",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r});var o={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"},r={ExecuteCommand:"executeCommand",ExecuteCommands:"executeCommands",Type:"type",ReplacePreviousChar:"replacePreviousChar",CompositionStart:"compositionStart",CompositionEnd:"compositionEnd",Paste:"paste",Cut:"cut",Undo:"undo",Redo:"redo"}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n(2),o=function(){function e(){}return e.insert=function(e,t){return{range:new i.a(e.lineNumber,e.column,e.lineNumber,e.column),text:t,forceMoveMarkers:!0}},e.delete=function(e){return{range:e,text:null}},e.replace=function(e,t){return{range:e,text:t}},e.replaceMove=function(e,t){return{range:e,text:t,forceMoveMarkers:!0}},e}()},function(e,t,n){"use strict";n.d(t,"f",function(){return o}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"a",function(){return l}),n.d(t,"e",function(){return c});var i=n(9),o=function(){return function(e,t,n,i){this.top=0|e,this.left=0|t,this.width=0|n,this.height=0|i}}(),r=function(){return function(e,t){this.tabSize=e,this.data=t}}(),a=function(){return function(e,t,n,i,o){this.content=e,this.continuesWithWrappedLine=t,this.minColumn=n,this.maxColumn=i,this.tokens=o}}(),s=function(){function e(t,n,i,o,r,a,s,l,c){this.minColumn=t,this.maxColumn=n,this.content=i,this.continuesWithWrappedLine=o,this.isBasicASCII=e.isBasicASCII(i,a),this.containsRTL=e.containsRTL(i,this.isBasicASCII,r),this.tokens=s,this.inlineDecorations=l,this.tabSize=c}return e.isBasicASCII=function(e,t){return!t||i.isBasicASCII(e)},e.containsRTL=function(e,t,n){return!(t||!n)&&i.containsRTL(e)},e}(),l=function(){return function(e,t,n){this.range=e,this.inlineClassName=t,this.type=n}}(),c=function(){return function(e,t){this.range=e,this.options=t}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return a});var i,o=n(25),r=Object(o.c)("storageService");!function(e){e[e.GLOBAL=0]="GLOBAL",e[e.WORKSPACE=1]="WORKSPACE"}(i||(i={}));var a={_serviceBrand:void 0,store:function(){},remove:function(){},get:function(e,t,n){return n},getInteger:function(e,t,n){return n},getBoolean:function(e,t,n){return n}}},function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"a",function(){return f}),n.d(t,"c",function(){return p});var i=n(0),o=n(5),r=n(43),a=n(7),s=n(9),l=n(161),c=n(11),u=n(2),d=function(){function e(e,t){this._parent=e,this._range=t,this._onRefChanged=new o.a,this.onRefChanged=this._onRefChanged.event,this._id=l.b.nextId()}return Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"uri",{get:function(){return this._parent.uri},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return this._range},set:function(e){this._range=e,this._onRefChanged.fire(this)},enumerable:!0,configurable:!0}),e.prototype.getAriaMessage=function(){return Object(i.a)("aria.oneReference","symbol in {0} on line {1} at column {2}",Object(r.a)(this.uri.fsPath),this.range.startLineNumber,this.range.startColumn)},e}(),h=function(){function e(e){this._modelReference=e}return Object.defineProperty(e.prototype,"_model",{get:function(){return this._modelReference.object.textEditorModel},enumerable:!0,configurable:!0}),e.prototype.preview=function(e,t){void 0===t&&(t=8);var n=this._model;if(n){var i=e.startLineNumber,o=e.startColumn,r=e.endLineNumber,a=e.endColumn,l=n.getWordUntilPosition({lineNumber:i,column:o-t}),c=new u.a(i,l.startColumn,i,o),d=new u.a(r,a,r,Number.MAX_VALUE);return{before:n.getValueInRange(c).replace(/^\s+/,s.empty),inside:n.getValueInRange(e),after:n.getValueInRange(d).replace(/\s+$/,s.empty)}}},e.prototype.dispose=function(){this._modelReference&&(this._modelReference.dispose(),this._modelReference=null)},e}(),f=function(){function e(e,t){this._parent=e,this._uri=t,this._children=[]}return Object.defineProperty(e.prototype,"id",{get:function(){return this._uri.toString()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"preview",{get:function(){return this._preview},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"failure",{get:function(){return this._loadFailure},enumerable:!0,configurable:!0}),e.prototype.getAriaMessage=function(){var e=this.children.length;return 1===e?Object(i.a)("aria.fileReferences.1","1 symbol in {0}, full path {1}",Object(r.a)(this.uri.fsPath),this.uri.fsPath):Object(i.a)("aria.fileReferences.N","{0} symbols in {1}, full path {2}",e,Object(r.a)(this.uri.fsPath),this.uri.fsPath)},e.prototype.resolve=function(e){var t=this;return this._resolved?c.b.as(this):e.createModelReference(this._uri).then(function(e){if(!e.object)throw e.dispose(),new Error;return t._preview=new h(e),t._resolved=!0,t},function(e){return t._children=[],t._resolved=!0,t._loadFailure=e,t})},e.prototype.dispose=function(){this._preview&&(this._preview.dispose(),this._preview=null)},e}(),p=function(){function e(t){var n,i=this;this._groups=[],this._references=[],this._onDidChangeReferenceRange=new o.a,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._disposables=[],t.sort(e._compareReferences);for(var r=0,a=t;r<a.length;r++){var s=a[r];if(n&&n.uri.toString()===s.uri.toString()||(n=new f(this,s.uri),this.groups.push(n)),0===n.children.length||!u.a.equalsRange(s.range,n.children[n.children.length-1].range)){var l=new d(n,s.range);this._disposables.push(l.onRefChanged(function(e){return i._onDidChangeReferenceRange.fire(e)})),this._references.push(l),n.children.push(l)}}}return Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this._groups.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"references",{get:function(){return this._references},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),e.prototype.getAriaMessage=function(){return this.empty?Object(i.a)("aria.result.0","No results found"):1===this.references.length?Object(i.a)("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):1===this.groups.length?Object(i.a)("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):Object(i.a)("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)},e.prototype.nextOrPreviousReference=function(e,t){var n=e.parent,i=n.children.indexOf(e),o=n.children.length,r=n.parent.groups.length;return 1===r||t&&i+1<o||!t&&i>0?(i=t?(i+1)%o:(i+o-1)%o,n.children[i]):(i=n.parent.groups.indexOf(n),t?(i=(i+1)%r,n.parent.groups[i].children[0]):(i=(i+r-1)%r,n.parent.groups[i].children[n.parent.groups[i].children.length-1]))},e.prototype.nearestReference=function(e,t){var n=this._references.map(function(n,i){return{idx:i,prefixLen:s.commonPrefixLength(n.uri.toString(),e.toString()),offsetDist:100*Math.abs(n.range.startLineNumber-t.lineNumber)+Math.abs(n.range.startColumn-t.column)}}).sort(function(e,t){return e.prefixLen>t.prefixLen?-1:e.prefixLen<t.prefixLen?1:e.offsetDist<t.offsetDist?-1:e.offsetDist>t.offsetDist?1:0})[0];if(n)return this._references[n.idx]},e.prototype.dispose=function(){this._groups=Object(a.d)(this._groups),Object(a.d)(this._disposables),this._disposables.length=0},e._compareReferences=function(e,t){var n=e.uri.toString(),i=t.uri.toString();return n<i?-1:n>i?1:u.a.compareRangesUsingStarts(e.range,t.range)},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n(24),o=n(78),r=new(function(){function e(){this.data={}}return e.prototype.add=function(e,t){o.a(i.h(e)),o.a(i.g(t)),o.a(!this.data.hasOwnProperty(e),"There is already an extension with this id"),this.data[e]=t},e.prototype.as=function(e){return this.data[e]||null},e}())},function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return u}),n.d(t,"c",function(){return d});n(319);var i,o,r,a=n(0),s=n(18),l=n(1);function c(e){(i=document.createElement("div")).className="monaco-aria-container",(o=document.createElement("div")).className="monaco-alert",o.setAttribute("role","alert"),o.setAttribute("aria-atomic","true"),i.appendChild(o),(r=document.createElement("div")).className="monaco-status",r.setAttribute("role","status"),r.setAttribute("aria-atomic","true"),i.appendChild(r),e.appendChild(i)}function u(e){p(o,e)}function d(e){s.d?u(e):p(r,e)}var h=0,f=void 0;function p(e,t){if(i){switch(f===t?h++:(f=t,h=0),h){case 0:break;case 1:t=a.a("repeated","{0} (occurred again)",t);break;default:t=a.a("repeatedNtimes","{0} (occurred {1} times)",t,h)}l.l(e),e.textContent=t,e.style.visibility="hidden",e.style.visibility="visible"}}},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i,o=n(7),r=n(44),a=n(54),s=n(1),l=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),t.prototype.onclick=function(e,t){this._register(s.g(e,s.d.CLICK,function(e){return t(new r.b(e))}))},t.prototype.onmousedown=function(e,t){this._register(s.g(e,s.d.MOUSE_DOWN,function(e){return t(new r.b(e))}))},t.prototype.onmouseover=function(e,t){this._register(s.g(e,s.d.MOUSE_OVER,function(e){return t(new r.b(e))}))},t.prototype.onnonbubblingmouseout=function(e,t){this._register(s.h(e,function(e){return t(new r.b(e))}))},t.prototype.onkeydown=function(e,t){this._register(s.g(e,s.d.KEY_DOWN,function(e){return t(new a.a(e))}))},t.prototype.onkeyup=function(e,t){this._register(s.g(e,s.d.KEY_UP,function(e){return t(new a.a(e))}))},t.prototype.oninput=function(e,t){this._register(s.g(e,s.d.INPUT,t))},t.prototype.onblur=function(e,t){this._register(s.g(e,s.d.BLUR,t))},t.prototype.onfocus=function(e,t){this._register(s.g(e,s.d.FOCUS,t))},t.prototype.onchange=function(e,t){this._register(s.g(e,s.d.CHANGE,t))},t}(o.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r});var i=n(25),o=Object(i.c)("modelService");function r(e){return!e.isTooLargeForSyncing()&&!e.isForSimpleWidget}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(208),r=(i=o)&&i.__esModule?i:{default:i};t.default=r.default,e.exports=t.default},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return r});var i,o=n(25);!function(e){e[e.Default=1]="Default",e[e.User=2]="User"}(i||(i={}));var r=Object(o.c)("keybindingService")},function(e,t,n){"use strict";var i;n.d(t,"a",function(){return i}),function(e){e.inMemory="inmemory",e.vscode="vscode",e.internal="private",e.walkThrough="walkThrough",e.walkThroughSnippet="walkThroughSnippet",e.http="http",e.https="https",e.file="file",e.mailto="mailto",e.untitled="untitled",e.data="data"}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n(23),o=n(10),r=n(2),a=function(){return function(e,t,n){this.lineNumber=e,this.column=t,this.leftoverVisibleColumns=n}}(),s=function(){function e(){}return e.left=function(e,t,n,o){return o>t.getLineMinColumn(n)?i.a.isLowSurrogate(t,n,o-2)?o-=2:o-=1:n>1&&(n-=1,o=t.getLineMaxColumn(n)),new a(n,o,0)},e.moveLeft=function(t,n,i,o,r){var a,s;if(i.hasSelection()&&!o)a=i.selection.startLineNumber,s=i.selection.startColumn;else{var l=e.left(t,n,i.position.lineNumber,i.position.column-(r-1));a=l.lineNumber,s=l.column}return i.move(o,a,s,0)},e.right=function(e,t,n,o){return o<t.getLineMaxColumn(n)?i.a.isHighSurrogate(t,n,o-1)?o+=2:o+=1:n<t.getLineCount()&&(n+=1,o=t.getLineMinColumn(n)),new a(n,o,0)},e.moveRight=function(t,n,i,o,r){var a,s;if(i.hasSelection()&&!o)a=i.selection.endLineNumber,s=i.selection.endColumn;else{var l=e.right(t,n,i.position.lineNumber,i.position.column+(r-1));a=l.lineNumber,s=l.column}return i.move(o,a,s,0)},e.down=function(e,t,n,o,r,s,l){var c=i.a.visibleColumnFromColumn(t.getLineContent(n),o,e.tabSize)+r;n+=s;var u=t.getLineCount();return n>u?(n=u,l?o=t.getLineMaxColumn(n):(o=Math.min(t.getLineMaxColumn(n),o),i.a.isInsideSurrogatePair(t,n,o)&&(o-=1))):(o=i.a.columnFromVisibleColumn2(e,t,n,c),i.a.isInsideSurrogatePair(t,n,o)&&(o-=1)),r=c-i.a.visibleColumnFromColumn(t.getLineContent(n),o,e.tabSize),new a(n,o,r)},e.moveDown=function(t,n,i,o,r){var a,s;i.hasSelection()&&!o?(a=i.selection.endLineNumber,s=i.selection.endColumn):(a=i.position.lineNumber,s=i.position.column);var l=e.down(t,n,a,s,i.leftoverVisibleColumns,r,!0);return i.move(o,l.lineNumber,l.column,l.leftoverVisibleColumns)},e.translateDown=function(t,n,a){var s=a.selection,l=e.down(t,n,s.selectionStartLineNumber,s.selectionStartColumn,a.selectionStartLeftoverVisibleColumns,1,!1),c=e.down(t,n,s.positionLineNumber,s.positionColumn,a.leftoverVisibleColumns,1,!1);return new i.f(new r.a(l.lineNumber,l.column,l.lineNumber,l.column),l.leftoverVisibleColumns,new o.a(c.lineNumber,c.column),c.leftoverVisibleColumns)},e.up=function(e,t,n,o,r,s,l){var c=i.a.visibleColumnFromColumn(t.getLineContent(n),o,e.tabSize)+r;return(n-=s)<1?(n=1,l?o=t.getLineMinColumn(n):(o=Math.min(t.getLineMaxColumn(n),o),i.a.isInsideSurrogatePair(t,n,o)&&(o-=1))):(o=i.a.columnFromVisibleColumn2(e,t,n,c),i.a.isInsideSurrogatePair(t,n,o)&&(o-=1)),r=c-i.a.visibleColumnFromColumn(t.getLineContent(n),o,e.tabSize),new a(n,o,r)},e.moveUp=function(t,n,i,o,r){var a,s;i.hasSelection()&&!o?(a=i.selection.startLineNumber,s=i.selection.startColumn):(a=i.position.lineNumber,s=i.position.column);var l=e.up(t,n,a,s,i.leftoverVisibleColumns,r,!0);return i.move(o,l.lineNumber,l.column,l.leftoverVisibleColumns)},e.translateUp=function(t,n,a){var s=a.selection,l=e.up(t,n,s.selectionStartLineNumber,s.selectionStartColumn,a.selectionStartLeftoverVisibleColumns,1,!1),c=e.up(t,n,s.positionLineNumber,s.positionColumn,a.leftoverVisibleColumns,1,!1);return new i.f(new r.a(l.lineNumber,l.column,l.lineNumber,l.column),l.leftoverVisibleColumns,new o.a(c.lineNumber,c.column),c.leftoverVisibleColumns)},e.moveToBeginningOfLine=function(e,t,n,i){var o,r=n.position.lineNumber,a=t.getLineMinColumn(r),s=t.getLineFirstNonWhitespaceColumn(r)||a;return o=n.position.column===s?a:s,n.move(i,r,o,0)},e.moveToEndOfLine=function(e,t,n,i){var o=n.position.lineNumber,r=t.getLineMaxColumn(o);return n.move(i,o,r,0)},e.moveToBeginningOfBuffer=function(e,t,n,i){return n.move(i,1,1,0)},e.moveToEndOfBuffer=function(e,t,n,i){var o=t.getLineCount(),r=t.getLineMaxColumn(o);return n.move(i,o,r,0)},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return c});var i,o=n(29),r=n(7),a=n(1),s=n(95),l=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};!function(e){e.Tap="-monaco-gesturetap",e.Change="-monaco-gesturechange",e.Start="-monaco-gesturestart",e.End="-monaco-gesturesend",e.Contextmenu="-monaco-gesturecontextmenu"}(i||(i={}));var c=function(){function e(){var e=this;this.toDispose=[],this.activeTouches={},this.handle=null,this.targets=[],this.toDispose.push(a.g(document,"touchstart",function(t){return e.onTouchStart(t)})),this.toDispose.push(a.g(document,"touchend",function(t){return e.onTouchEnd(t)})),this.toDispose.push(a.g(document,"touchmove",function(t){return e.onTouchMove(t)}))}return e.addTarget=function(t){e.isTouchDevice()&&(e.INSTANCE||(e.INSTANCE=new e),e.INSTANCE.targets.push(t))},e.isTouchDevice=function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0},e.prototype.dispose=function(){this.handle&&(this.handle.dispose(),Object(r.d)(this.toDispose),this.handle=null)},e.prototype.onTouchStart=function(e){var t=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(var n=0,o=e.targetTouches.length;n<o;n++){var r=e.targetTouches.item(n);this.activeTouches[r.identifier]={id:r.identifier,initialTarget:r.target,initialTimeStamp:t,initialPageX:r.pageX,initialPageY:r.pageY,rollingTimestamps:[t],rollingPageX:[r.pageX],rollingPageY:[r.pageY]};var a=this.newGestureEvent(i.Start,r.target);a.pageX=r.pageX,a.pageY=r.pageY,this.dispatchEvent(a)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)},e.prototype.onTouchEnd=function(t){for(var n=Date.now(),r=Object.keys(this.activeTouches).length,a=function(a,l){var c=t.changedTouches.item(a);if(!s.activeTouches.hasOwnProperty(String(c.identifier)))return console.warn("move of an UNKNOWN touch",c),"continue";var u=s.activeTouches[c.identifier],d=Date.now()-u.initialTimeStamp;if(d<e.HOLD_DELAY&&Math.abs(u.initialPageX-o.n(u.rollingPageX))<30&&Math.abs(u.initialPageY-o.n(u.rollingPageY))<30)(h=s.newGestureEvent(i.Tap,u.initialTarget)).pageX=o.n(u.rollingPageX),h.pageY=o.n(u.rollingPageY),s.dispatchEvent(h);else if(d>=e.HOLD_DELAY&&Math.abs(u.initialPageX-o.n(u.rollingPageX))<30&&Math.abs(u.initialPageY-o.n(u.rollingPageY))<30){var h;(h=s.newGestureEvent(i.Contextmenu,u.initialTarget)).pageX=o.n(u.rollingPageX),h.pageY=o.n(u.rollingPageY),s.dispatchEvent(h)}else if(1===r){var f=o.n(u.rollingPageX),p=o.n(u.rollingPageY),m=o.n(u.rollingTimestamps)-u.rollingTimestamps[0],g=f-u.rollingPageX[0],b=p-u.rollingPageY[0],y=s.targets.filter(function(e){return u.initialTarget instanceof Node&&e.contains(u.initialTarget)});s.inertia(y,n,Math.abs(g)/m,g>0?1:-1,f,Math.abs(b)/m,b>0?1:-1,p)}s.dispatchEvent(s.newGestureEvent(i.End,u.initialTarget)),delete s.activeTouches[c.identifier]},s=this,l=0,c=t.changedTouches.length;l<c;l++)a(l);this.dispatched&&(t.preventDefault(),t.stopPropagation(),this.dispatched=!1)},e.prototype.newGestureEvent=function(e,t){var n=document.createEvent("CustomEvent");return n.initEvent(e,!1,!0),n.initialTarget=t,n},e.prototype.dispatchEvent=function(e){var t=this;this.targets.forEach(function(n){e.initialTarget instanceof Node&&n.contains(e.initialTarget)&&(n.dispatchEvent(e),t.dispatched=!0)})},e.prototype.inertia=function(t,n,o,r,s,l,c,u){var d=this;this.handle=a.L(function(){var a=Date.now(),h=a-n,f=0,p=0,m=!0;o+=e.SCROLL_FRICTION*h,l+=e.SCROLL_FRICTION*h,o>0&&(m=!1,f=r*o*h),l>0&&(m=!1,p=c*l*h);var g=d.newGestureEvent(i.Change);g.translationX=f,g.translationY=p,t.forEach(function(e){return e.dispatchEvent(g)}),m||d.inertia(t,a,o,r,s+f,l,c,u+p)})},e.prototype.onTouchMove=function(e){for(var t=Date.now(),n=0,r=e.changedTouches.length;n<r;n++){var a=e.changedTouches.item(n);if(this.activeTouches.hasOwnProperty(String(a.identifier))){var s=this.activeTouches[a.identifier],l=this.newGestureEvent(i.Change,s.initialTarget);l.translationX=a.pageX-o.n(s.rollingPageX),l.translationY=a.pageY-o.n(s.rollingPageY),l.pageX=a.pageX,l.pageY=a.pageY,this.dispatchEvent(l),s.rollingPageX.length>3&&(s.rollingPageX.shift(),s.rollingPageY.shift(),s.rollingTimestamps.shift()),s.rollingPageX.push(a.pageX),s.rollingPageY.push(a.pageY),s.rollingTimestamps.push(t)}else console.warn("end of an UNKNOWN touch",a)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)},e.SCROLL_FRICTION=-.005,e.HOLD_DELAY=700,l([s.a],e,"isTouchDevice",null),e}()},function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"a",function(){return i});var i,o=n(23),r=n(10),a=n(2),s=n(67),l=n(107),c=n(24),u=function(){function e(){}return e.addCursorDown=function(e,t,n){for(var i=[],r=0,a=0,l=t.length;a<l;a++){var c=t[a];i[r++]=new o.d(c.modelState,c.viewState),i[r++]=n?o.d.fromModelState(s.a.translateDown(e.config,e.model,c.modelState)):o.d.fromViewState(s.a.translateDown(e.config,e.viewModel,c.viewState))}return i},e.addCursorUp=function(e,t,n){for(var i=[],r=0,a=0,l=t.length;a<l;a++){var c=t[a];i[r++]=new o.d(c.modelState,c.viewState),i[r++]=n?o.d.fromModelState(s.a.translateUp(e.config,e.model,c.modelState)):o.d.fromViewState(s.a.translateUp(e.config,e.viewModel,c.viewState))}return i},e.moveToBeginningOfLine=function(e,t,n){for(var i=[],o=0,r=t.length;o<r;o++){var a=t[o];i[o]=this._moveToLineStart(e,a,n)}return i},e._moveToLineStart=function(e,t,n){var i=t.viewState.position.column,o=i===t.modelState.position.column,r=t.viewState.position.lineNumber,a=e.viewModel.getLineFirstNonWhitespaceColumn(r);return o||i===a?this._moveToLineStartByModel(e,t,n):this._moveToLineStartByView(e,t,n)},e._moveToLineStartByView=function(e,t,n){return o.d.fromViewState(s.a.moveToBeginningOfLine(e.config,e.viewModel,t.viewState,n))},e._moveToLineStartByModel=function(e,t,n){return o.d.fromModelState(s.a.moveToBeginningOfLine(e.config,e.model,t.modelState,n))},e.moveToEndOfLine=function(e,t,n){for(var i=[],o=0,r=t.length;o<r;o++){var a=t[o];i[o]=this._moveToLineEnd(e,a,n)}return i},e._moveToLineEnd=function(e,t,n){var i=t.viewState.position,o=e.viewModel.getLineMaxColumn(i.lineNumber),r=i.column===o,a=t.modelState.position,s=e.model.getLineMaxColumn(a.lineNumber),l=o-i.column===s-a.column;return r||l?this._moveToLineEndByModel(e,t,n):this._moveToLineEndByView(e,t,n)},e._moveToLineEndByView=function(e,t,n){return o.d.fromViewState(s.a.moveToEndOfLine(e.config,e.viewModel,t.viewState,n))},e._moveToLineEndByModel=function(e,t,n){return o.d.fromModelState(s.a.moveToEndOfLine(e.config,e.model,t.modelState,n))},e.expandLineSelection=function(e,t){for(var n=[],i=0,s=t.length;i<s;i++){var l=t[i].viewState.selection,c=l.startLineNumber,u=e.viewModel.getLineCount(),d=l.endLineNumber,h=void 0;d===u?h=e.viewModel.getLineMaxColumn(u):(d++,h=1),n[i]=o.d.fromViewState(new o.f(new a.a(c,1,c,1),0,new r.a(d,h),0))}return n},e.moveToBeginningOfBuffer=function(e,t,n){for(var i=[],r=0,a=t.length;r<a;r++){var l=t[r];i[r]=o.d.fromModelState(s.a.moveToBeginningOfBuffer(e.config,e.model,l.modelState,n))}return i},e.moveToEndOfBuffer=function(e,t,n){for(var i=[],r=0,a=t.length;r<a;r++){var l=t[r];i[r]=o.d.fromModelState(s.a.moveToEndOfBuffer(e.config,e.model,l.modelState,n))}return i},e.selectAll=function(e,t){var n=e.model.getLineCount(),i=e.model.getLineMaxColumn(n);return o.d.fromModelState(new o.f(new a.a(1,1,1,1),0,new r.a(n,i),0))},e.line=function(e,t,n,i,s){var l=e.model.validatePosition(i),c=s?e.validateViewPosition(new r.a(s.lineNumber,s.column),l):e.convertModelPositionToViewPosition(l);if(!n||!t.modelState.hasSelection()){var u=e.model.getLineCount(),d=l.lineNumber+1,h=1;return d>u&&(d=u,h=e.model.getLineMaxColumn(d)),o.d.fromModelState(new o.f(new a.a(l.lineNumber,1,d,h),0,new r.a(d,h),0))}var f=t.modelState.selectionStart.getStartPosition().lineNumber;if(l.lineNumber<f)return o.d.fromViewState(t.viewState.move(t.modelState.hasSelection(),c.lineNumber,1,0));if(l.lineNumber>f){u=e.viewModel.getLineCount();var p=c.lineNumber+1,m=1;return p>u&&(p=u,m=e.viewModel.getLineMaxColumn(p)),o.d.fromViewState(t.viewState.move(t.modelState.hasSelection(),p,m,0))}var g=t.modelState.selectionStart.getEndPosition();return o.d.fromModelState(t.modelState.move(t.modelState.hasSelection(),g.lineNumber,g.column,0))},e.word=function(e,t,n,i){var r=e.model.validatePosition(i);return o.d.fromModelState(l.a.word(e.config,e.model,t.modelState,n,r))},e.cancelSelection=function(e,t){if(!t.modelState.hasSelection())return new o.d(t.modelState,t.viewState);var n=t.viewState.position.lineNumber,i=t.viewState.position.column;return o.d.fromViewState(new o.f(new a.a(n,i,n,i),0,new r.a(n,i),0))},e.moveTo=function(e,t,n,i,a){var s=e.model.validatePosition(i),l=a?e.validateViewPosition(new r.a(a.lineNumber,a.column),s):e.convertModelPositionToViewPosition(s);return o.d.fromViewState(t.viewState.move(n,l.lineNumber,l.column,0))},e.move=function(e,t,n){var i=n.select,o=n.value;switch(n.direction){case 0:return 4===n.unit?this._moveHalfLineLeft(e,t,i):this._moveLeft(e,t,i,o);case 1:return 4===n.unit?this._moveHalfLineRight(e,t,i):this._moveRight(e,t,i,o);case 2:return 2===n.unit?this._moveUpByViewLines(e,t,i,o):this._moveUpByModelLines(e,t,i,o);case 3:return 2===n.unit?this._moveDownByViewLines(e,t,i,o):this._moveDownByModelLines(e,t,i,o);case 4:return this._moveToViewMinColumn(e,t,i);case 5:return this._moveToViewFirstNonWhitespaceColumn(e,t,i);case 6:return this._moveToViewCenterColumn(e,t,i);case 7:return this._moveToViewMaxColumn(e,t,i);case 8:return this._moveToViewLastNonWhitespaceColumn(e,t,i);case 9:var r=t[0],a=e.getCompletelyVisibleModelRange(),s=this._firstLineNumberInRange(e.model,a,o),l=e.model.getLineFirstNonWhitespaceColumn(s);return[this._moveToModelPosition(e,r,i,s,l)];case 11:r=t[0],a=e.getCompletelyVisibleModelRange(),s=this._lastLineNumberInRange(e.model,a,o),l=e.model.getLineFirstNonWhitespaceColumn(s);return[this._moveToModelPosition(e,r,i,s,l)];case 10:r=t[0],a=e.getCompletelyVisibleModelRange(),s=Math.round((a.startLineNumber+a.endLineNumber)/2),l=e.model.getLineFirstNonWhitespaceColumn(s);return[this._moveToModelPosition(e,r,i,s,l)];case 12:for(var c=e.getCompletelyVisibleViewRange(),u=[],d=0,h=t.length;d<h;d++){r=t[d];u[d]=this.findPositionInViewportIfOutside(e,r,c,i)}return u}return null},e.findPositionInViewportIfOutside=function(e,t,n,i){var r=t.viewState.position.lineNumber;if(n.startLineNumber<=r&&r<=n.endLineNumber-1)return new o.d(t.modelState,t.viewState);r>n.endLineNumber-1&&(r=n.endLineNumber-1),r<n.startLineNumber&&(r=n.startLineNumber);var a=e.viewModel.getLineFirstNonWhitespaceColumn(r);return this._moveToViewPosition(e,t,i,r,a)},e._firstLineNumberInRange=function(e,t,n){var i=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(i)&&i++,Math.min(t.endLineNumber,i+n-1)},e._lastLineNumberInRange=function(e,t,n){var i=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(i)&&i++,Math.max(i,t.endLineNumber-n+1)},e._moveLeft=function(e,t,n,i){for(var r=[],a=0,l=t.length;a<l;a++){var c=t[a],u=s.a.moveLeft(e.config,e.viewModel,c.viewState,n,i);if(1===i&&u.position.lineNumber!==c.viewState.position.lineNumber)e.viewModel.coordinatesConverter.convertViewPositionToModelPosition(u.position).lineNumber===c.modelState.position.lineNumber&&(u=s.a.moveLeft(e.config,e.viewModel,u,n,1));r[a]=o.d.fromViewState(u)}return r},e._moveHalfLineLeft=function(e,t,n){for(var i=[],r=0,a=t.length;r<a;r++){var l=t[r],c=l.viewState.position.lineNumber,u=Math.round(e.viewModel.getLineContent(c).length/2);i[r]=o.d.fromViewState(s.a.moveLeft(e.config,e.viewModel,l.viewState,n,u))}return i},e._moveRight=function(e,t,n,i){for(var r=[],a=0,l=t.length;a<l;a++){var c=t[a],u=s.a.moveRight(e.config,e.viewModel,c.viewState,n,i);if(1===i&&u.position.lineNumber!==c.viewState.position.lineNumber)e.viewModel.coordinatesConverter.convertViewPositionToModelPosition(u.position).lineNumber===c.modelState.position.lineNumber&&(u=s.a.moveRight(e.config,e.viewModel,u,n,1));r[a]=o.d.fromViewState(u)}return r},e._moveHalfLineRight=function(e,t,n){for(var i=[],r=0,a=t.length;r<a;r++){var l=t[r],c=l.viewState.position.lineNumber,u=Math.round(e.viewModel.getLineContent(c).length/2);i[r]=o.d.fromViewState(s.a.moveRight(e.config,e.viewModel,l.viewState,n,u))}return i},e._moveDownByViewLines=function(e,t,n,i){for(var r=[],a=0,l=t.length;a<l;a++){var c=t[a];r[a]=o.d.fromViewState(s.a.moveDown(e.config,e.viewModel,c.viewState,n,i))}return r},e._moveDownByModelLines=function(e,t,n,i){for(var r=[],a=0,l=t.length;a<l;a++){var c=t[a];r[a]=o.d.fromModelState(s.a.moveDown(e.config,e.model,c.modelState,n,i))}return r},e._moveUpByViewLines=function(e,t,n,i){for(var r=[],a=0,l=t.length;a<l;a++){var c=t[a];r[a]=o.d.fromViewState(s.a.moveUp(e.config,e.viewModel,c.viewState,n,i))}return r},e._moveUpByModelLines=function(e,t,n,i){for(var r=[],a=0,l=t.length;a<l;a++){var c=t[a];r[a]=o.d.fromModelState(s.a.moveUp(e.config,e.model,c.modelState,n,i))}return r},e._moveToViewPosition=function(e,t,n,i,r){return o.d.fromViewState(t.viewState.move(n,i,r,0))},e._moveToModelPosition=function(e,t,n,i,r){return o.d.fromModelState(t.modelState.move(n,i,r,0))},e._moveToViewMinColumn=function(e,t,n){for(var i=[],o=0,r=t.length;o<r;o++){var a=t[o],s=a.viewState.position.lineNumber,l=e.viewModel.getLineMinColumn(s);i[o]=this._moveToViewPosition(e,a,n,s,l)}return i},e._moveToViewFirstNonWhitespaceColumn=function(e,t,n){for(var i=[],o=0,r=t.length;o<r;o++){var a=t[o],s=a.viewState.position.lineNumber,l=e.viewModel.getLineFirstNonWhitespaceColumn(s);i[o]=this._moveToViewPosition(e,a,n,s,l)}return i},e._moveToViewCenterColumn=function(e,t,n){for(var i=[],o=0,r=t.length;o<r;o++){var a=t[o],s=a.viewState.position.lineNumber,l=Math.round((e.viewModel.getLineMaxColumn(s)+e.viewModel.getLineMinColumn(s))/2);i[o]=this._moveToViewPosition(e,a,n,s,l)}return i},e._moveToViewMaxColumn=function(e,t,n){for(var i=[],o=0,r=t.length;o<r;o++){var a=t[o],s=a.viewState.position.lineNumber,l=e.viewModel.getLineMaxColumn(s);i[o]=this._moveToViewPosition(e,a,n,s,l)}return i},e._moveToViewLastNonWhitespaceColumn=function(e,t,n){for(var i=[],o=0,r=t.length;o<r;o++){var a=t[o],s=a.viewState.position.lineNumber,l=e.viewModel.getLineLastNonWhitespaceColumn(s);i[o]=this._moveToViewPosition(e,a,n,s,l)}return i},e}();!function(e){e.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory logical position value providing where to move the cursor.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'left', 'right', 'up', 'down'\n\t\t\t\t\t\t'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'\n\t\t\t\t\t\t'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'\n\t\t\t\t\t\t'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'character', 'halfLine'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'select': If 'true' makes the selection. Default is 'false'.\n\t\t\t\t",constraint:function(e){if(!c.g(e))return!1;var t=e;return!!c.h(t.to)&&!(!c.i(t.select)&&!c.c(t.select))&&!(!c.i(t.by)&&!c.h(t.by))&&!(!c.i(t.value)&&!c.f(t.value))}}]},e.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},e.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"},e.parse=function(t){if(!t.to)return null;var n;switch(t.to){case e.RawDirection.Left:n=0;break;case e.RawDirection.Right:n=1;break;case e.RawDirection.Up:n=2;break;case e.RawDirection.Down:n=3;break;case e.RawDirection.WrappedLineStart:n=4;break;case e.RawDirection.WrappedLineFirstNonWhitespaceCharacter:n=5;break;case e.RawDirection.WrappedLineColumnCenter:n=6;break;case e.RawDirection.WrappedLineEnd:n=7;break;case e.RawDirection.WrappedLineLastNonWhitespaceCharacter:n=8;break;case e.RawDirection.ViewPortTop:n=9;break;case e.RawDirection.ViewPortBottom:n=11;break;case e.RawDirection.ViewPortCenter:n=10;break;case e.RawDirection.ViewPortIfOutside:n=12;break;default:return null}var i=0;switch(t.by){case e.RawUnit.Line:i=1;break;case e.RawUnit.WrappedLine:i=2;break;case e.RawUnit.Character:i=3;break;case e.RawUnit.HalfLine:i=4}return{direction:n,unit:i,select:!!t.select,value:t.value||1}}}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return h});var i=n(118),o=n(9),r=n(165),a=function(){return function(e,t){this.endIndex=e,this.type=t}}(),s=function(){function e(e,t,n,i,o,r,a,s,l,c,u,d,h,f){this.useMonospaceOptimizations=e,this.lineContent=t,this.continuesWithWrappedLine=n,this.isBasicASCII=i,this.containsRTL=o,this.fauxIndentLength=r,this.lineTokens=a,this.lineDecorations=s,this.tabSize=l,this.spaceWidth=c,this.stopRenderingLineAfter=u,this.renderWhitespace="all"===d?2:"boundary"===d?1:0,this.renderControlCharacters=h,this.fontLigatures=f}return e.prototype.equals=function(e){return this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.lineContent===e.lineContent&&this.continuesWithWrappedLine===e.continuesWithWrappedLine&&this.isBasicASCII===e.isBasicASCII&&this.containsRTL===e.containsRTL&&this.fauxIndentLength===e.fauxIndentLength&&this.tabSize===e.tabSize&&this.spaceWidth===e.spaceWidth&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.fontLigatures===e.fontLigatures&&i.a.equalsArr(this.lineDecorations,e.lineDecorations)&&this.lineTokens.equals(e.lineTokens)},e}(),l=function(){function e(e,t){this.length=e,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}return e.getPartIndex=function(e){return(4294901760&e)>>>16},e.getCharIndex=function(e){return(65535&e)>>>0},e.prototype.setPartData=function(e,t,n,i){var o=(t<<16|n<<0)>>>0;this._data[e]=o,this._absoluteOffsets[e]=i+n},e.prototype.getAbsoluteOffsets=function(){return this._absoluteOffsets},e.prototype.charOffsetToPartData=function(e){return 0===this.length?0:e<0?this._data[0]:e>=this.length?this._data[this.length-1]:this._data[e]},e.prototype.partDataToCharOffset=function(t,n,i){if(0===this.length)return 0;for(var o=(t<<16|i<<0)>>>0,r=0,a=this.length-1;r+1<a;){var s=r+a>>>1,l=this._data[s];if(l===o)return s;l>o?a=s:r=s}if(r===a)return r;var c=this._data[r],u=this._data[a];if(c===o)return r;if(u===o)return a;var d=e.getPartIndex(c);return i-e.getCharIndex(c)<=(d!==e.getPartIndex(u)?n:e.getCharIndex(u))-i?r:a},e}(),c=function(){return function(e,t,n){this.characterMapping=e,this.containsRTL=t,this.containsForeignElements=n}}();function u(e,t){if(0===e.lineContent.length){var n=0,r="<span><span>\xa0</span></span>";if(e.lineDecorations.length>0){for(var s=[],u=0,d=e.lineDecorations.length;u<d;u++){var h=e.lineDecorations[u];1===h.type&&(s.push(e.lineDecorations[u].className),n|=1),2===h.type&&(s.push(e.lineDecorations[u].className),n|=2)}0!==n&&(r='<span><span class="'+s.join(" ")+'"></span></span>')}return t.appendASCIIString(r),new c(new l(0,0),!1,n)}return function(e,t){var n=e.fontIsMonospace,i=e.containsForeignElements,r=e.lineContent,a=e.len,s=e.isOverflowing,u=e.parts,d=e.tabSize,h=e.containsRTL,f=e.spaceWidth,p=e.renderWhitespace,m=e.renderControlCharacters,g=new l(a+1,u.length),b=0,y=0,v=0,w=0,_=0;t.appendASCIIString("<span>");for(var S=0,C=u.length;S<C;S++){_+=w;var x=u[S],k=x.endIndex,T=x.type,O=0!==p&&T.indexOf("vs-whitespace")>=0;if(v=0,t.appendASCIIString('<span class="'),t.appendASCIIString(T),t.appendASCII(34),O){for(var N=0,L=b,I=y;L<k;L++){var E=r.charCodeAt(L);if(9===E){var D=d-(L+I)%d;I+=D-1,N+=D}else N++}if(!n){var A="vs-whitespace"===T;!A&&i||(t.appendASCIIString(' style="width:'),t.appendASCIIString(String(f*N)),t.appendASCIIString('px"'))}for(t.appendASCII(62);b<k;b++){g.setPartData(b,S,v,_);var E=r.charCodeAt(b);if(9===E){var D=d-(b+y)%d;for(y+=D-1,v+=D-1,D>0&&(D>1?t.write1(8594):t.write1(65515),D--);D>0;)t.write1(160),D--}else t.write1(183);v++}w=N}else{var N=0;for(h&&t.appendASCIIString(' dir="ltr"'),t.appendASCII(62);b<k;b++){g.setPartData(b,S,v,_);var E=r.charCodeAt(b);switch(E){case 9:var D=d-(b+y)%d;for(y+=D-1,v+=D-1;D>0;)t.write1(160),N++,D--;break;case 32:t.write1(160),N++;break;case 60:t.appendASCIIString("&lt;"),N++;break;case 62:t.appendASCIIString("&gt;"),N++;break;case 38:t.appendASCIIString("&amp;"),N++;break;case 0:t.appendASCIIString("&#00;"),N++;break;case 65279:case 8232:t.write1(65533),N++;break;default:o.isFullWidthCharacter(E)&&y++,m&&E<32?(t.write1(9216+E),N++):(t.write1(E),N++)}v++}w=N}t.appendASCIIString("</span>")}g.setPartData(a,u.length-1,v,_),s&&t.appendASCIIString("<span>&hellip;</span>");return t.appendASCIIString("</span>"),new c(g,h,i)}(function(e){var t,n,r=e.useMonospaceOptimizations,s=e.lineContent;-1!==e.stopRenderingLineAfter&&e.stopRenderingLineAfter<s.length?(t=!0,n=e.stopRenderingLineAfter):(t=!1,n=s.length);var l=function(e,t,n){var i=[],o=0;t>0&&(i[o++]=new a(t,""));for(var r=0,s=e.getCount();r<s;r++){var l=e.getEndOffset(r);if(!(l<=t)){var c=e.getClassName(r);if(l>=n){i[o++]=new a(n,c);break}i[o++]=new a(l,c)}}return i}(e.lineTokens,e.fauxIndentLength,n);2!==e.renderWhitespace&&1!==e.renderWhitespace||(l=function(e,t,n,i,r,s,l,c){var u,d=[],h=0,f=0,p=i[f].type,m=i[f].endIndex,g=o.firstNonWhitespaceIndex(e);-1===g?(g=t,u=t):u=o.lastNonWhitespaceIndex(e);for(var b=0,y=0;y<r;y++){var v=e.charCodeAt(y);9===v?b=s:o.isFullWidthCharacter(v)?b+=2:b++}b%=s;for(var w=!1,y=r;y<t;y++){var v=e.charCodeAt(y),_=void 0;if(y<g||y>u)_=!0;else if(9===v)_=!0;else if(32===v)if(c)if(w)_=!0;else{var S=y+1<t?e.charCodeAt(y+1):0;_=32===S||9===S}else _=!0;else _=!1;w?(!_||!l&&b>=s)&&(d[h++]=new a(y,"vs-whitespace"),b%=s):(y===m||_&&y>r)&&(d[h++]=new a(y,p),b%=s),9===v?b=s:o.isFullWidthCharacter(v)?b+=2:b++,w=_,y===m&&(p=i[++f].type,m=i[f].endIndex)}var C=!1;if(w)if(n&&c){var x=t>0?e.charCodeAt(t-1):0,k=t>1?e.charCodeAt(t-2):0,T=32===x&&32!==k&&9!==k;T||(C=!0)}else C=!0;return d[h++]=new a(t,C?"vs-whitespace":p),d}(s,n,e.continuesWithWrappedLine,l,e.fauxIndentLength,e.tabSize,r,1===e.renderWhitespace));var c=0;if(e.lineDecorations.length>0){for(var u=0,d=e.lineDecorations.length;u<d;u++){var h=e.lineDecorations[u];3===h.type?c|=1:1===h.type?c|=1:2===h.type&&(c|=2)}l=function(e,t,n,o){o.sort(i.a.compare);for(var r=i.b.normalize(e,o),s=r.length,l=0,c=[],u=0,d=0,h=0,f=n.length;h<f;h++){for(var p=n[h],m=p.endIndex,g=p.type;l<s&&r[l].startOffset<m;){var b=r[l];if(b.startOffset>d&&(d=b.startOffset,c[u++]=new a(d,g)),!(b.endOffset+1<=m)){d=m,c[u++]=new a(d,g+" "+b.className);break}d=b.endOffset+1,c[u++]=new a(d,g+" "+b.className),l++}m>d&&(d=m,c[u++]=new a(d,g))}var y=n[n.length-1].endIndex;if(l<s&&r[l].startOffset===y){for(var v=[];l<s&&r[l].startOffset===y;)v.push(r[l].className),l++;c[u++]=new a(d,v.join(" "))}return c}(s,0,l,e.lineDecorations)}e.isBasicASCII&&!e.fontLigatures&&(l=function(e,t){for(var n=0,i=[],o=0,r=0,s=t.length;r<s;r++){var l=t[r],c=l.endIndex,u=c-n;if(u>50){for(var d=l.type,h=Math.ceil(u/50),f=1;f<h;f++){var p=n+50*f;i[o++]=new a(p,d)}i[o++]=new a(c,d)}else i[o++]=l;n=c}return i}(0,l));return new f(r,s,n,t,l,c,e.tabSize,e.containsRTL,e.spaceWidth,e.renderWhitespace,e.renderControlCharacters)}(e),t)}var d=function(){return function(e,t,n,i){this.characterMapping=e,this.html=t,this.containsRTL=n,this.containsForeignElements=i}}();function h(e){var t=Object(r.a)(1e4),n=u(e,t);return new d(n.characterMapping,t.build(),n.containsRTL,n.containsForeignElements)}var f=function(){return function(e,t,n,i,o,r,a,s,l,c,u){this.fontIsMonospace=e,this.lineContent=t,this.len=n,this.isOverflowing=i,this.parts=o,this.containsForeignElements=r,this.tabSize=a,this.containsRTL=s,this.spaceWidth=l,this.renderWhitespace=c,this.renderControlCharacters=u}}()},function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return s}),n.d(t,"d",function(){return l}),n.d(t,"e",function(){return c});var i=n(12),o=n(86),r=new(function(){function e(){}return e.prototype.clone=function(){return this},e.prototype.equals=function(e){return this===e},e}()),a="vs.editor.nullMode",s=new i.o(a,0);function l(e,t,n,i){return new o.b([new o.a(i,"",e)],n)}function c(e,t,n,i){var r=new Uint32Array(2);return r[0]=i,r[1]=(16384|e<<0|2<<23)>>>0,new o.c(r,n)}},function(e,t,n){"use strict";var i,o=n(5),r=n(7),a=n(18),s=n(28),l=n(127),c=n(128),u=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),d=function(e){function t(t,n){var i=e.call(this)||this;return i.referenceDomElement=t,i.changeCallback=n,i.measureReferenceDomElementToken=-1,i.width=-1,i.height=-1,i.measureReferenceDomElement(!1),i}return u(t,e),t.prototype.dispose=function(){this.stopObserving(),e.prototype.dispose.call(this)},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.startObserving=function(){var e=this;-1===this.measureReferenceDomElementToken&&(this.measureReferenceDomElementToken=setInterval(function(){return e.measureReferenceDomElement(!0)},100))},t.prototype.stopObserving=function(){-1!==this.measureReferenceDomElementToken&&(clearInterval(this.measureReferenceDomElementToken),this.measureReferenceDomElementToken=-1)},t.prototype.observe=function(e){this.measureReferenceDomElement(!0,e)},t.prototype.measureReferenceDomElement=function(e,t){var n=0,i=0;t?(n=t.width,i=t.height):this.referenceDomElement&&(n=this.referenceDomElement.clientWidth,i=this.referenceDomElement.clientHeight),n=Math.max(5,n),i=Math.max(5,i),this.width===n&&this.height===i||(this.width=n,this.height=i,e&&this.changeCallback())},t}(r.a),h=function(){function e(e,t){this.chr=e,this.type=t,this.width=0}return e.prototype.fulfill=function(e){this.width=e},e}(),f=function(){function e(e,t){this._bareFontInfo=e,this._requests=t,this._container=null,this._testElements=null}return e.prototype.read=function(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null},e.prototype._createDomElements=function(){var t=document.createElement("div");t.style.position="absolute",t.style.top="-50000px",t.style.width="50000px";var n=document.createElement("div");n.style.fontFamily=this._bareFontInfo.fontFamily,n.style.fontWeight=this._bareFontInfo.fontWeight,n.style.fontSize=this._bareFontInfo.fontSize+"px",n.style.lineHeight=this._bareFontInfo.lineHeight+"px",n.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",t.appendChild(n);var i=document.createElement("div");i.style.fontFamily=this._bareFontInfo.fontFamily,i.style.fontWeight="bold",i.style.fontSize=this._bareFontInfo.fontSize+"px",i.style.lineHeight=this._bareFontInfo.lineHeight+"px",i.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",t.appendChild(i);var o=document.createElement("div");o.style.fontFamily=this._bareFontInfo.fontFamily,o.style.fontWeight=this._bareFontInfo.fontWeight,o.style.fontSize=this._bareFontInfo.fontSize+"px",o.style.lineHeight=this._bareFontInfo.lineHeight+"px",o.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",o.style.fontStyle="italic",t.appendChild(o);for(var r=[],a=0,s=this._requests.length;a<s;a++){var l=this._requests[a],c=void 0;0===l.type&&(c=n),2===l.type&&(c=i),1===l.type&&(c=o),c.appendChild(document.createElement("br"));var u=document.createElement("span");e._render(u,l),c.appendChild(u),r[a]=u}this._container=t,this._testElements=r},e._render=function(e,t){if(" "===t.chr){for(var n="&nbsp;",i=0;i<8;i++)n+=n;e.innerHTML=n}else{var o=t.chr;for(i=0;i<8;i++)o+=o;e.textContent=o}},e.prototype._readFromDomElements=function(){for(var e=0,t=this._requests.length;e<t;e++){var n=this._requests[e],i=this._testElements[e];n.fulfill(i.offsetWidth/256)}},e}();n.d(t,"a",function(){return b});var p=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),m=function(){function e(){this._keys=Object.create(null),this._values=Object.create(null)}return e.prototype.has=function(e){var t=e.getId();return!!this._values[t]},e.prototype.get=function(e){var t=e.getId();return this._values[t]},e.prototype.put=function(e,t){var n=e.getId();this._keys[n]=e,this._values[n]=t},e.prototype.remove=function(e){var t=e.getId();delete this._keys[t],delete this._values[t]},e.prototype.getValues=function(){var e=this;return Object.keys(this._keys).map(function(t){return e._values[t]})},e}(),g=function(e){function t(){var t=e.call(this)||this;return t._onDidChange=t._register(new o.a),t.onDidChange=t._onDidChange.event,t._cache=new m,t._evictUntrustedReadingsTimeout=-1,t}return p(t,e),t.prototype.dispose=function(){-1!==this._evictUntrustedReadingsTimeout&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),e.prototype.dispose.call(this)},t.prototype._writeToCache=function(e,t){var n=this;this._cache.put(e,t),t.isTrusted||-1!==this._evictUntrustedReadingsTimeout||(this._evictUntrustedReadingsTimeout=setTimeout(function(){n._evictUntrustedReadingsTimeout=-1,n._evictUntrustedReadings()},5e3))},t.prototype._evictUntrustedReadings=function(){for(var e=this._cache.getValues(),t=!1,n=0,i=e.length;n<i;n++){var o=e[n];o.isTrusted||(t=!0,this._cache.remove(o))}t&&this._onDidChange.fire()},t.prototype.readConfiguration=function(e){if(!this._cache.has(e)){var n=t._actualReadConfiguration(e);(n.typicalHalfwidthCharacterWidth<=2||n.typicalFullwidthCharacterWidth<=2||n.spaceWidth<=2||n.maxDigitWidth<=2)&&(n=new c.b({zoomLevel:s.d(),fontFamily:n.fontFamily,fontWeight:n.fontWeight,fontSize:n.fontSize,lineHeight:n.lineHeight,letterSpacing:n.letterSpacing,isMonospace:n.isMonospace,typicalHalfwidthCharacterWidth:Math.max(n.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(n.typicalFullwidthCharacterWidth,5),spaceWidth:Math.max(n.spaceWidth,5),maxDigitWidth:Math.max(n.maxDigitWidth,5)},!1)),this._writeToCache(e,n)}return this._cache.get(e)},t.createRequest=function(e,t,n,i){var o=new h(e,t);return n.push(o),i&&i.push(o),o},t._actualReadConfiguration=function(e){var t=[],n=[],i=this.createRequest("n",0,t,n),o=this.createRequest("\uff4d",0,t,null),r=this.createRequest(" ",0,t,n),a=this.createRequest("0",0,t,n),l=this.createRequest("1",0,t,n),u=this.createRequest("2",0,t,n),d=this.createRequest("3",0,t,n),h=this.createRequest("4",0,t,n),p=this.createRequest("5",0,t,n),m=this.createRequest("6",0,t,n),g=this.createRequest("7",0,t,n),b=this.createRequest("8",0,t,n),y=this.createRequest("9",0,t,n);this.createRequest("\u2192",0,t,n),this.createRequest("\xb7",0,t,n),this.createRequest("|",0,t,n),this.createRequest("/",0,t,n),this.createRequest("-",0,t,n),this.createRequest("_",0,t,n),this.createRequest("i",0,t,n),this.createRequest("l",0,t,n),this.createRequest("m",0,t,n),this.createRequest("|",1,t,n),this.createRequest("_",1,t,n),this.createRequest("i",1,t,n),this.createRequest("l",1,t,n),this.createRequest("m",1,t,n),this.createRequest("n",1,t,n),this.createRequest("|",2,t,n),this.createRequest("_",2,t,n),this.createRequest("i",2,t,n),this.createRequest("l",2,t,n),this.createRequest("m",2,t,n),this.createRequest("n",2,t,n),function(e,t){new f(e,t).read()}(e,t);for(var v=Math.max(a.width,l.width,u.width,d.width,h.width,p.width,m.width,g.width,b.width,y.width),w=!0,_=n[0].width,S=1,C=n.length;S<C;S++){var x=_-n[S].width;if(x<-.001||x>.001){w=!1;break}}var k=s.c()>2e3;return new c.b({zoomLevel:s.d(),fontFamily:e.fontFamily,fontWeight:e.fontWeight,fontSize:e.fontSize,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,isMonospace:w,typicalHalfwidthCharacterWidth:i.width,typicalFullwidthCharacterWidth:o.width,spaceWidth:r.width,maxDigitWidth:v},k)},t.INSTANCE=new t,t}(r.a),b=function(e){function t(t,n){void 0===n&&(n=null);var i=e.call(this,t)||this;return i._elementSizeObserver=i._register(new d(n,function(){return i._onReferenceDomElementSizeChanged()})),i._register(g.INSTANCE.onDidChange(function(){return i._onCSSBasedConfigurationChanged()})),i._validatedOptions.automaticLayout&&i._elementSizeObserver.startObserving(),i._register(s.p(function(e){return i._recomputeOptions()})),i._register(s.o(function(){return i._recomputeOptions()})),i._recomputeOptions(),i}return p(t,e),t._massageFontFamily=function(e){return/[,"']/.test(e)?e:/[+ ]/.test(e)?'"'+e+'"':e},t.applyFontInfoSlow=function(e,n){e.style.fontFamily=t._massageFontFamily(n.fontFamily),e.style.fontWeight=n.fontWeight,e.style.fontSize=n.fontSize+"px",e.style.lineHeight=n.lineHeight+"px",e.style.letterSpacing=n.letterSpacing+"px"},t.applyFontInfo=function(e,n){e.setFontFamily(t._massageFontFamily(n.fontFamily)),e.setFontWeight(n.fontWeight),e.setFontSize(n.fontSize),e.setLineHeight(n.lineHeight),e.setLetterSpacing(n.letterSpacing)},t.prototype._onReferenceDomElementSizeChanged=function(){this._recomputeOptions()},t.prototype._onCSSBasedConfigurationChanged=function(){this._recomputeOptions()},t.prototype.observeReferenceElement=function(e){this._elementSizeObserver.observe(e)},t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype._getExtraEditorClassName=function(){var e="";return s.k?e+="ie ":s.j?e+="ff ":s.g?e+="edge ":s.m&&(e+="safari "),a.d&&(e+="mac "),e},t.prototype._getEnvConfiguration=function(){return{extraEditorClassName:this._getExtraEditorClassName(),outerWidth:this._elementSizeObserver.getWidth(),outerHeight:this._elementSizeObserver.getHeight(),emptySelectionClipboard:s.n||s.j,pixelRatio:s.b(),zoomLevel:s.d(),accessibilitySupport:s.a()}},t.prototype.readConfiguration=function(e){return g.INSTANCE.readConfiguration(e)},t}(l.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return c});var i=n(29),o=function(){function e(e){void 0===e&&(e=""),this.value=e}return e.prototype.appendText=function(e){return this.value+=e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&"),this},e.prototype.appendMarkdown=function(e){return this.value+=e,this},e.prototype.appendCodeblock=function(e,t){return this.value+="\n```",this.value+=e,this.value+="\n",this.value+=t,this.value+="\n```\n",this},e}();function r(e){return a(e)?!e.value:!Array.isArray(e)||e.every(r)}function a(e){return e instanceof o||!(!e||"object"!==typeof e)&&("string"===typeof e.value&&("boolean"===typeof e.isTrusted||void 0===e.isTrusted))}function s(e,t){return!e&&!t||!(!e||!t)&&(Array.isArray(e)&&Array.isArray(t)?Object(i.e)(e,t,l):!(!a(e)||!a(t))&&l(e,t))}function l(e,t){return e===t||!(!e||!t)&&(e.value===t.value&&e.isTrusted===t.isTrusted)}function c(e){return e?e.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1"):e}},function(e,t,n){"use strict";n.r(t);var i=n(0),o=n(10),r=n(2),a=n(55),s=n(23),l=n(38),c=n(69),u=n(3),d=function(){function e(){}return e._columnSelect=function(e,t,n,i,a,l){for(var c=Math.abs(a-n)+1,u=n>a,d=i>l,h=i<l,f=[],p=0;p<c;p++){var m=n+(u?-p:p),g=s.a.columnFromVisibleColumn2(e,t,m,i),b=s.a.columnFromVisibleColumn2(e,t,m,l),y=s.a.visibleColumnFromColumn2(e,t,new o.a(m,g)),v=s.a.visibleColumnFromColumn2(e,t,new o.a(m,b));if(h){if(y>l)continue;if(v<i)continue}if(d){if(v>i)continue;if(y<l)continue}f.push(new s.f(new r.a(m,g,m,g),0,new o.a(m,b),0))}return{viewStates:f,reversed:u,toLineNumber:a,toVisualColumn:l}},e.columnSelect=function(t,n,i,r,a){var l=new o.a(i.selectionStartLineNumber,i.selectionStartColumn),c=s.a.visibleColumnFromColumn2(t,n,l);return e._columnSelect(t,n,l.lineNumber,c,r,a)},e.columnSelectLeft=function(e,t,n,i,o){return o>1&&o--,this.columnSelect(e,t,n.selection,i,o)},e.columnSelectRight=function(e,t,n,i,r){for(var a=0,l=Math.min(n.position.lineNumber,i),c=Math.max(n.position.lineNumber,i),u=l;u<=c;u++){var d=t.getLineMaxColumn(u),h=s.a.visibleColumnFromColumn2(e,t,new o.a(u,d));a=Math.max(a,h)}return r<a&&r++,this.columnSelect(e,t,n.selection,i,r)},e.columnSelectUp=function(e,t,n,i,o,r){return(o-=i?e.pageSize:1)<1&&(o=1),this.columnSelect(e,t,n.selection,o,r)},e.columnSelectDown=function(e,t,n,i,o,r){return(o+=i?e.pageSize:1)>t.getLineCount()&&(o=t.getLineCount()),this.columnSelect(e,t,n.selection,o,r)},e}(),h=n(6),f=n(39),p=n(13),m=n(24),g=n(96),b=n(187),y=n(41);n.d(t,"CoreEditorCommand",function(){return L}),n.d(t,"EditorScroll_",function(){return w}),n.d(t,"RevealLine_",function(){return _}),n.d(t,"CoreNavigationCommands",function(){return C}),n.d(t,"CoreEditingCommands",function(){return x});var v,w,_,S,C,x,k,T=(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}v(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),O=a.b,N=0,L=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return T(t,e),t.prototype.runEditorCommand=function(e,t,n){var i=t._getCursors();i&&this.runCoreEditorCommand(i,n||{})},t}(u.c);function I(e){return e.get(f.a).getFocusedCodeEditor()}function E(e){e.register()}!function(e){e.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory direction value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'up', 'down'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'page', 'halfPage'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n\t\t\t\t",constraint:function(e){if(!m.g(e))return!1;var t=e;return!!m.h(t.to)&&!(!m.i(t.by)&&!m.h(t.by))&&!(!m.i(t.value)&&!m.f(t.value))&&!(!m.i(t.revealCursor)&&!m.c(t.revealCursor))}}]},e.RawDirection={Up:"up",Down:"down"},e.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"},e.parse=function(t){var n,i;switch(t.to){case e.RawDirection.Up:n=1;break;case e.RawDirection.Down:n=2;break;default:return null}switch(t.by){case e.RawUnit.Line:i=1;break;case e.RawUnit.WrappedLine:i=2;break;case e.RawUnit.Page:i=3;break;case e.RawUnit.HalfPage:i=4;break;default:i=2}return{direction:n,unit:i,value:Math.floor(t.value||1),revealCursor:!!t.revealCursor,select:!!t.select}}}(w||(w={})),(S=_||(_={})).description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'lineNumber': A mandatory line number value.\n\t\t\t\t\t* 'at': Logical position at which line has to be revealed .\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'top', 'center', 'bottom'\n\t\t\t\t\t\t```\n\t\t\t\t",constraint:function(e){if(!m.g(e))return!1;var t=e;return!!m.f(t.lineNumber)&&!(!m.i(t.at)&&!m.h(t.at))}}]},S.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"},function(e){var t=function(e){function t(t){var n=e.call(this,t)||this;return n._inSelectionMode=t.inSelectionMode,n}return T(t,e),t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,l.a.Explicit,[c.b.moveTo(e.context,e.getPrimaryCursor(),this._inSelectionMode,t.position,t.viewPosition)]),e.reveal(!0,0,0)},t}(L);e.MoveTo=Object(u.g)(new t({id:"_moveTo",inSelectionMode:!1,precondition:null})),e.MoveToSelect=Object(u.g)(new t({id:"_moveToSelect",inSelectionMode:!0,precondition:null}));var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return T(t,e),t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement();var n=this._getColumnSelectResult(e.context,e.getPrimaryCursor(),e.getColumnSelectData(),t);e.setStates(t.source,l.a.Explicit,n.viewStates.map(function(e){return s.d.fromViewState(e)})),e.setColumnSelectData({toViewLineNumber:n.toLineNumber,toViewVisualColumn:n.toVisualColumn}),e.reveal(!0,n.reversed?1:2,0)},t}(L);e.ColumnSelect=Object(u.g)(new(function(e){function t(){return e.call(this,{id:"columnSelect",precondition:null})||this}return T(t,e),t.prototype._getColumnSelectResult=function(e,t,n,i){var r,a=e.model.validatePosition(i.position);return r=i.viewPosition?e.validateViewPosition(new o.a(i.viewPosition.lineNumber,i.viewPosition.column),a):e.convertModelPositionToViewPosition(a),d.columnSelect(e.config,e.viewModel,t.viewState.selection,r.lineNumber,i.mouseColumn-1)},t}(n))),e.CursorColumnSelectLeft=Object(u.g)(new(function(e){function t(){return e.call(this,{id:"cursorColumnSelectLeft",precondition:null,kbOpts:{weight:N,kbExpr:h.a.textInputFocus,primary:3599,linux:{primary:0}}})||this}return T(t,e),t.prototype._getColumnSelectResult=function(e,t,n,i){return d.columnSelectLeft(e.config,e.viewModel,t.viewState,n.toViewLineNumber,n.toViewVisualColumn)},t}(n))),e.CursorColumnSelectRight=Object(u.g)(new(function(e){function t(){return e.call(this,{id:"cursorColumnSelectRight",precondition:null,kbOpts:{weight:N,kbExpr:h.a.textInputFocus,primary:3601,linux:{primary:0}}})||this}return T(t,e),t.prototype._getColumnSelectResult=function(e,t,n,i){return d.columnSelectRight(e.config,e.viewModel,t.viewState,n.toViewLineNumber,n.toViewVisualColumn)},t}(n)));var i=function(e){function t(t){var n=e.call(this,t)||this;return n._isPaged=t.isPaged,n}return T(t,e),t.prototype._getColumnSelectResult=function(e,t,n,i){return d.columnSelectUp(e.config,e.viewModel,t.viewState,this._isPaged,n.toViewLineNumber,n.toViewVisualColumn)},t}(n);e.CursorColumnSelectUp=Object(u.g)(new i({isPaged:!1,id:"cursorColumnSelectUp",precondition:null,kbOpts:{weight:N,kbExpr:h.a.textInputFocus,primary:3600,linux:{primary:0}}})),e.CursorColumnSelectPageUp=Object(u.g)(new i({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:null,kbOpts:{weight:N,kbExpr:h.a.textInputFocus,primary:3595,linux:{primary:0}}}));var a=function(e){function t(t){var n=e.call(this,t)||this;return n._isPaged=t.isPaged,n}return T(t,e),t.prototype._getColumnSelectResult=function(e,t,n,i){return d.columnSelectDown(e.config,e.viewModel,t.viewState,this._isPaged,n.toViewLineNumber,n.toViewVisualColumn)},t}(n);e.CursorColumnSelectDown=Object(u.g)(new a({isPaged:!1,id:"cursorColumnSelectDown",precondition:null,kbOpts:{weight:N,kbExpr:h.a.textInputFocus,primary:3602,linux:{primary:0}}})),e.CursorColumnSelectPageDown=Object(u.g)(new a({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:null,kbOpts:{weight:N,kbExpr:h.a.textInputFocus,primary:3596,linux:{primary:0}}}));var f=function(e){function t(){return e.call(this,{id:"cursorMove",precondition:null,description:c.a.description})||this}return T(t,e),t.prototype.runCoreEditorCommand=function(e,t){var n=c.a.parse(t);n&&this._runCursorMove(e,t.source,n)},t.prototype._runCursorMove=function(e,t,n){e.context.model.pushStackElement(),e.setStates(t,l.a.Explicit,c.b.move(e.context,e.getAll(),n)),e.reveal(!0,0,0)},t}(L);e.CursorMoveImpl=f,e.CursorMove=Object(u.g)(new f);var p=function(t){function n(e){var n=t.call(this,e)||this;return n._staticArgs=e.args,n}return T(n,t),n.prototype.runCoreEditorCommand=function(t,n){var i=this._staticArgs;-1===this._staticArgs.value&&(i={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:t.context.config.pageSize}),e.CursorMove._runCursorMove(t,n.source,i)},n}(L);e.CursorLeft=Object(u.g)(new p({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:null,kbOpts:{weight:N,kbExpr:h.a.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),e.CursorLeftSelect=Object(u.g)(new p({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:null,kbOpts:{weight:N,kbExpr:h.a.textInputFocus,primary:1039}})),e.CursorRight=Object(u.g)(new p({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:null,kbOpts:{weight:N,kbExpr:h.a.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),e.CursorRightSelect=Object(u.g)(new p({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:null,kbOpts:{weight:N,kbExpr:h.a.textInputFocus,primary:1041}})),e.CursorUp=Object(u.g)(new p({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:null,kbOpts:{weight:N,kbExpr:h.a.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),e.CursorUpSelect=Object(u.g)(new p({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:null,kbOpts:{weight:N,kbExpr:h.a.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),e.CursorPageUp=Object(u.g)(new p({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:null,kbOpts:{weight:N,kbExpr:h.a.textInputFocus,primary:11}})),e.CursorPageUpSelect=Object(u.g)(new p({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:null,kbOpts:{weight:N,kbExpr:h.a.textInputFocus,primary:1035}})),e.CursorDown=Object(u.g)(new p({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:null,kbOpts:{weight:N,kbExpr:h.a.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),e.CursorDownSelect=Object(u.g)(new p({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:null,kbOpts:{weight:N,kbExpr:h.a.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),e.CursorPageDown=Object(u.g)(new p({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:null,kbOpts:{weight:N,kbExpr:h.a.textInputFocus,primary:12}})),e.CursorPageDownSelect=Object(u.g)(new p({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:null,kbOpts:{weight:N,kbExpr:h.a.textInputFocus,primary:1036}})),e.CreateCursor=Object(u.g)(new(function(e){function t(){return e.call(this,{id:"createCursor",precondition:null})||this}return T(t,e),t.prototype.runCoreEditorCommand=function(e,t){var n,i=e.context;n=t.wholeLine?c.b.line(i,e.getPrimaryCursor(),!1,t.position,t.viewPosition):c.b.moveTo(i,e.getPrimaryCursor(),!1,t.position,t.viewPosition);var o=e.getAll();if(o.length>1)for(var r=n.modelState?n.modelState.position:null,a=n.viewState?n.viewState.position:null,s=0,u=o.length;s<u;s++){var d=o[s];if((!r||d.modelState.selection.containsPosition(r))&&(!a||d.viewState.selection.containsPosition(a)))return o.splice(s,1),e.context.model.pushStackElement(),void e.setStates(t.source,l.a.Explicit,o)}o.push(n),e.context.model.pushStackElement(),e.setStates(t.source,l.a.Explicit,o)},t}(L))),e.LastCursorMoveToSelect=Object(u.g)(new(function(e){function t(){return e.call(this,{id:"_lastCursorMoveToSelect",precondition:null})||this}return T(t,e),t.prototype.runCoreEditorCommand=function(e,t){var n=e.context,i=e.getLastAddedCursorIndex(),o=e.getAll().slice(0);o[i]=c.b.moveTo(n,o[i],!0,t.position,t.viewPosition),e.context.model.pushStackElement(),e.setStates(t.source,l.a.Explicit,o)},t}(L)));var m=function(e){function t(t){var n=e.call(this,t)||this;return n._inSelectionMode=t.inSelectionMode,n}return T(t,e),t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,l.a.Explicit,c.b.moveToBeginningOfLine(e.context,e.getAll(),this._inSelectionMode)),e.reveal(!0,0,0)},t}(L);e.CursorHome=Object(u.g)(new m({inSelectionMode:!1,id:"cursorHome",precondition:null,kbOpts:{weight:N,kbExpr:h.a.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),e.CursorHomeSelect=Object(u.g)(new m({inSelectionMode:!0,id:"cursorHomeSelect",precondition:null,kbOpts:{weight:N,kbExpr:h.a.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}})),e.CursorLineStart=Object(u.g)(new(function(e){function t(){return e.call(this,{id:"cursorLineStart",precondition:null,kbOpts:{weight:N,kbExpr:h.a.textInputFocus,primary:0,mac:{primary:287}}})||this}return T(t,e),t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,l.a.Explicit,this._exec(e.context,e.getAll())),e.reveal(!0,0,0)},t.prototype._exec=function(e,t){for(var n=[],i=0,o=t.length;i<o;i++){var r=t[i],a=r.modelState.position.lineNumber;n[i]=s.d.fromModelState(r.modelState.move(!1,a,1,0))}return n},t}(L)));var g=function(e){function t(t){var n=e.call(this,t)||this;return n._inSelectionMode=t.inSelectionMode,n}return T(t,e),t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,l.a.Explicit,c.b.moveToEndOfLine(e.context,e.getAll(),this._inSelectionMode)),e.reveal(!0,0,0)},t}(L);e.CursorEnd=Object(u.g)(new g({inSelectionMode:!1,id:"cursorEnd",precondition:null,kbOpts:{weight:N,kbExpr:h.a.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}}})),e.CursorEndSelect=Object(u.g)(new g({inSelectionMode:!0,id:"cursorEndSelect",precondition:null,kbOpts:{weight:N,kbExpr:h.a.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}}})),e.CursorLineEnd=Object(u.g)(new(function(e){function t(){return e.call(this,{id:"cursorLineEnd",precondition:null,kbOpts:{weight:N,kbExpr:h.a.textInputFocus,primary:0,mac:{primary:291}}})||this}return T(t,e),t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,l.a.Explicit,this._exec(e.context,e.getAll())),e.reveal(!0,0,0)},t.prototype._exec=function(e,t){for(var n=[],i=0,o=t.length;i<o;i++){var r=t[i],a=r.modelState.position.lineNumber,l=e.model.getLineMaxColumn(a);n[i]=s.d.fromModelState(r.modelState.move(!1,a,l,0))}return n},t}(L)));var b=function(e){function t(t){var n=e.call(this,t)||this;return n._inSelectionMode=t.inSelectionMode,n}return T(t,e),t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,l.a.Explicit,c.b.moveToBeginningOfBuffer(e.context,e.getAll(),this._inSelectionMode)),e.reveal(!0,0,0)},t}(L);e.CursorTop=Object(u.g)(new b({inSelectionMode:!1,id:"cursorTop",precondition:null,kbOpts:{weight:N,kbExpr:h.a.textInputFocus,primary:2062,mac:{primary:2064}}})),e.CursorTopSelect=Object(u.g)(new b({inSelectionMode:!0,id:"cursorTopSelect",precondition:null,kbOpts:{weight:N,kbExpr:h.a.textInputFocus,primary:3086,mac:{primary:3088}}}));var y=function(e){function t(t){var n=e.call(this,t)||this;return n._inSelectionMode=t.inSelectionMode,n}return T(t,e),t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,l.a.Explicit,c.b.moveToEndOfBuffer(e.context,e.getAll(),this._inSelectionMode)),e.reveal(!0,0,0)},t}(L);e.CursorBottom=Object(u.g)(new y({inSelectionMode:!1,id:"cursorBottom",precondition:null,kbOpts:{weight:N,kbExpr:h.a.textInputFocus,primary:2061,mac:{primary:2066}}})),e.CursorBottomSelect=Object(u.g)(new y({inSelectionMode:!0,id:"cursorBottomSelect",precondition:null,kbOpts:{weight:N,kbExpr:h.a.textInputFocus,primary:3085,mac:{primary:3090}}}));var v=function(e){function t(){return e.call(this,{id:"editorScroll",precondition:null,description:w.description})||this}return T(t,e),t.prototype.runCoreEditorCommand=function(e,t){var n=w.parse(t);n&&this._runEditorScroll(e,t.source,n)},t.prototype._runEditorScroll=function(e,t,n){var i=this._computeDesiredScrollTop(e.context,n);if(n.revealCursor){var o=e.context.getCompletelyVisibleViewRangeAtScrollTop(i);e.setStates(t,l.a.Explicit,[c.b.findPositionInViewportIfOutside(e.context,e.getPrimaryCursor(),o,n.select)])}e.scrollTo(i)},t.prototype._computeDesiredScrollTop=function(e,t){if(1===t.unit){var n=e.getCompletelyVisibleModelRange(),i=void 0;i=1===t.direction?Math.max(1,n.startLineNumber-t.value):Math.min(e.model.getLineCount(),n.startLineNumber+t.value);var r=e.convertModelPositionToViewPosition(new o.a(i,1));return e.getVerticalOffsetForViewLine(r.lineNumber)}var a;a=3===t.unit?e.config.pageSize*t.value:4===t.unit?Math.round(e.config.pageSize/2)*t.value:t.value;var s=(1===t.direction?-1:1)*a;return e.getCurrentScrollTop()+s*e.config.lineHeight},t}(L);e.EditorScrollImpl=v,e.EditorScroll=Object(u.g)(new v),e.ScrollLineUp=Object(u.g)(new(function(t){function n(){return t.call(this,{id:"scrollLineUp",precondition:null,kbOpts:{weight:N,kbExpr:h.a.textInputFocus,primary:2064,mac:{primary:267}}})||this}return T(n,t),n.prototype.runCoreEditorCommand=function(t,n){e.EditorScroll._runEditorScroll(t,n.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})},n}(L))),e.ScrollPageUp=Object(u.g)(new(function(t){function n(){return t.call(this,{id:"scrollPageUp",precondition:null,kbOpts:{weight:N,kbExpr:h.a.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})||this}return T(n,t),n.prototype.runCoreEditorCommand=function(t,n){e.EditorScroll._runEditorScroll(t,n.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})},n}(L))),e.ScrollLineDown=Object(u.g)(new(function(t){function n(){return t.call(this,{id:"scrollLineDown",precondition:null,kbOpts:{weight:N,kbExpr:h.a.textInputFocus,primary:2066,mac:{primary:268}}})||this}return T(n,t),n.prototype.runCoreEditorCommand=function(t,n){e.EditorScroll._runEditorScroll(t,n.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})},n}(L))),e.ScrollPageDown=Object(u.g)(new(function(t){function n(){return t.call(this,{id:"scrollPageDown",precondition:null,kbOpts:{weight:N,kbExpr:h.a.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})||this}return T(n,t),n.prototype.runCoreEditorCommand=function(t,n){e.EditorScroll._runEditorScroll(t,n.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})},n}(L)));var S=function(e){function t(t){var n=e.call(this,t)||this;return n._inSelectionMode=t.inSelectionMode,n}return T(t,e),t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,l.a.Explicit,[c.b.word(e.context,e.getPrimaryCursor(),this._inSelectionMode,t.position)]),e.reveal(!0,0,0)},t}(L);e.WordSelect=Object(u.g)(new S({inSelectionMode:!1,id:"_wordSelect",precondition:null})),e.WordSelectDrag=Object(u.g)(new S({inSelectionMode:!0,id:"_wordSelectDrag",precondition:null})),e.LastCursorWordSelect=Object(u.g)(new(function(e){function t(){return e.call(this,{id:"lastCursorWordSelect",precondition:null})||this}return T(t,e),t.prototype.runCoreEditorCommand=function(e,t){var n=e.context,i=e.getLastAddedCursorIndex(),o=e.getAll().slice(0),r=o[i];o[i]=c.b.word(n,r,r.modelState.hasSelection(),t.position),n.model.pushStackElement(),e.setStates(t.source,l.a.Explicit,o)},t}(L)));var C=function(e){function t(t){var n=e.call(this,t)||this;return n._inSelectionMode=t.inSelectionMode,n}return T(t,e),t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,l.a.Explicit,[c.b.line(e.context,e.getPrimaryCursor(),this._inSelectionMode,t.position,t.viewPosition)]),e.reveal(!1,0,0)},t}(L);e.LineSelect=Object(u.g)(new C({inSelectionMode:!1,id:"_lineSelect",precondition:null})),e.LineSelectDrag=Object(u.g)(new C({inSelectionMode:!0,id:"_lineSelectDrag",precondition:null}));var x=function(e){function t(t){var n=e.call(this,t)||this;return n._inSelectionMode=t.inSelectionMode,n}return T(t,e),t.prototype.runCoreEditorCommand=function(e,t){var n=e.getLastAddedCursorIndex(),i=e.getAll().slice(0);i[n]=c.b.line(e.context,i[n],this._inSelectionMode,t.position,t.viewPosition),e.context.model.pushStackElement(),e.setStates(t.source,l.a.Explicit,i)},t}(L);e.LastCursorLineSelect=Object(u.g)(new x({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:null})),e.LastCursorLineSelectDrag=Object(u.g)(new x({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:null})),e.ExpandLineSelection=Object(u.g)(new(function(e){function t(){return e.call(this,{id:"expandLineSelection",precondition:null,kbOpts:{weight:N,kbExpr:h.a.textInputFocus,primary:2087}})||this}return T(t,e),t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,l.a.Explicit,c.b.expandLineSelection(e.context,e.getAll())),e.reveal(!0,0,0)},t}(L))),e.CancelSelection=Object(u.g)(new(function(e){function t(){return e.call(this,{id:"cancelSelection",precondition:h.a.hasNonEmptySelection,kbOpts:{weight:N,kbExpr:h.a.textInputFocus,primary:9,secondary:[1033]}})||this}return T(t,e),t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,l.a.Explicit,[c.b.cancelSelection(e.context,e.getPrimaryCursor())]),e.reveal(!0,0,0)},t}(L))),e.RemoveSecondaryCursors=Object(u.g)(new(function(e){function t(){return e.call(this,{id:"removeSecondaryCursors",precondition:h.a.hasMultipleSelections,kbOpts:{weight:N+1,kbExpr:h.a.textInputFocus,primary:9,secondary:[1033]}})||this}return T(t,e),t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,l.a.Explicit,[e.getPrimaryCursor()]),e.reveal(!0,0,0)},t}(L))),e.RevealLine=Object(u.g)(new(function(e){function t(){return e.call(this,{id:"revealLine",precondition:null,description:_.description})||this}return T(t,e),t.prototype.runCoreEditorCommand=function(e,t){var n=t,i=n.lineNumber+1;i<1&&(i=1);var o=e.context.model.getLineCount();i>o&&(i=o);var a=new r.a(i,1,i,e.context.model.getLineMaxColumn(i)),s=0;if(n.at)switch(n.at){case _.RawAtArgument.Top:s=3;break;case _.RawAtArgument.Center:s=1;break;case _.RawAtArgument.Bottom:s=4}var l=e.context.convertModelRangeToViewRange(a);e.revealRange(!1,l,s,0)},t}(L))),e.SelectAll=Object(u.g)(new(function(e){function t(){return e.call(this,{id:"selectAll",precondition:null})||this}return T(t,e),t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,l.a.Explicit,[c.b.selectAll(e.context,e.getPrimaryCursor())])},t}(L))),e.SetSelection=Object(u.g)(new(function(e){function t(){return e.call(this,{id:"setSelection",precondition:null})||this}return T(t,e),t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,l.a.Explicit,[s.d.fromModelSelection(t.selection)])},t}(L)))}(C||(C={})),(k=x||(x={})).LineBreakInsert=Object(u.g)(new(function(e){function t(){return e.call(this,{id:"lineBreakInsert",precondition:h.a.writable,kbOpts:{weight:N,kbExpr:h.a.textInputFocus,primary:null,mac:{primary:301}}})||this}return T(t,e),t.prototype.runEditorCommand=function(e,t,n){t.pushUndoStop(),t.executeCommands(this.id,g.a.lineBreakInsert(t._getCursorConfiguration(),t.getModel(),t.getSelections()))},t}(u.c))),k.Outdent=Object(u.g)(new(function(e){function t(){return e.call(this,{id:"outdent",precondition:h.a.writable,kbOpts:{weight:N,kbExpr:p.d.and(h.a.editorTextFocus,h.a.tabDoesNotMoveFocus),primary:1026}})||this}return T(t,e),t.prototype.runEditorCommand=function(e,t,n){t.pushUndoStop(),t.executeCommands(this.id,g.a.outdent(t._getCursorConfiguration(),t.getModel(),t.getSelections())),t.pushUndoStop()},t}(u.c))),k.Tab=Object(u.g)(new(function(e){function t(){return e.call(this,{id:"tab",precondition:h.a.writable,kbOpts:{weight:N,kbExpr:p.d.and(h.a.editorTextFocus,h.a.tabDoesNotMoveFocus),primary:2}})||this}return T(t,e),t.prototype.runEditorCommand=function(e,t,n){t.pushUndoStop(),t.executeCommands(this.id,g.a.tab(t._getCursorConfiguration(),t.getModel(),t.getSelections())),t.pushUndoStop()},t}(u.c))),k.DeleteLeft=Object(u.g)(new(function(e){function t(){return e.call(this,{id:"deleteLeft",precondition:h.a.writable,kbOpts:{weight:N,kbExpr:h.a.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})||this}return T(t,e),t.prototype.runEditorCommand=function(e,t,n){var i=t._getCursors(),o=b.a.deleteLeft(i.getPrevEditOperationType(),t._getCursorConfiguration(),t.getModel(),t.getSelections()),r=o[0],a=o[1];r&&t.pushUndoStop(),t.executeCommands(this.id,a),i.setPrevEditOperationType(2)},t}(u.c))),k.DeleteRight=Object(u.g)(new(function(e){function t(){return e.call(this,{id:"deleteRight",precondition:h.a.writable,kbOpts:{weight:N,kbExpr:h.a.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})||this}return T(t,e),t.prototype.runEditorCommand=function(e,t,n){var i=t._getCursors(),o=b.a.deleteRight(i.getPrevEditOperationType(),t._getCursorConfiguration(),t.getModel(),t.getSelections()),r=o[0],a=o[1];r&&t.pushUndoStop(),t.executeCommands(this.id,a),i.setPrevEditOperationType(3)},t}(u.c)));var D=function(e){function t(t){var n=e.call(this,t)||this;return n._editorHandler=t.editorHandler,n._inputHandler=t.inputHandler,n}return T(t,e),t.prototype.runCommand=function(e,t){var n=I(e);if(n&&n.hasTextFocus())return this._runEditorHandler(n,t);var i=document.activeElement;if(!(i&&["input","textarea"].indexOf(i.tagName.toLowerCase())>=0)){var o=e.get(f.a).getActiveCodeEditor();return o?(o.focus(),this._runEditorHandler(o,t)):void 0}document.execCommand(this._inputHandler)},t.prototype._runEditorHandler=function(e,t){var n=this._editorHandler;"string"===typeof n?e.trigger("keyboard",n,t):((t=t||{}).source="keyboard",n.runEditorCommand(null,e,t))},t}(u.a),A=function(e){function t(t,n){var i=e.call(this,{id:t,precondition:null})||this;return i._handlerId=n,i}return T(t,e),t.prototype.runCommand=function(e,t){var n=I(e);n&&n.trigger("keyboard",this._handlerId,t)},t}(u.a);function M(e){E(new A("default:"+e,e)),E(new A(e,e))}E(new D({editorHandler:C.SelectAll,inputHandler:"selectAll",id:"editor.action.selectAll",precondition:h.a.textInputFocus,kbOpts:{weight:N,kbExpr:null,primary:2079},menubarOpts:{menuId:y.b.MenubarSelectionMenu,group:"1_basic",title:i.a({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1}})),E(new D({editorHandler:O.Undo,inputHandler:"undo",id:O.Undo,precondition:h.a.writable,kbOpts:{weight:N,kbExpr:h.a.textInputFocus,primary:2104},menubarOpts:{menuId:y.b.MenubarEditMenu,group:"1_do",title:i.a({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1}})),E(new A("default:"+O.Undo,O.Undo)),E(new D({editorHandler:O.Redo,inputHandler:"redo",id:O.Redo,precondition:h.a.writable,kbOpts:{weight:N,kbExpr:h.a.textInputFocus,primary:2103,secondary:[3128],mac:{primary:3128}},menubarOpts:{menuId:y.b.MenubarEditMenu,group:"1_do",title:i.a({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2}})),E(new A("default:"+O.Redo,O.Redo)),M(O.Type),M(O.ReplacePreviousChar),M(O.CompositionStart),M(O.CompositionEnd),M(O.Paste),M(O.Cut)},function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return u});var i,o=n(7),r=n(1),a=n(184),s=n(44),l=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function c(e,t){var n=new s.b(t);return n.preventDefault(),{leftButton:n.leftButton,posx:n.posx,posy:n.posy}}var u=function(e){function t(){var t=e.call(this)||this;return t.hooks=[],t.mouseMoveEventMerger=null,t.mouseMoveCallback=null,t.onStopCallback=null,t}return l(t,e),t.prototype.dispose=function(){this.stopMonitoring(!1),e.prototype.dispose.call(this)},t.prototype.stopMonitoring=function(e){if(this.isMonitoring()){this.hooks=Object(o.d)(this.hooks),this.mouseMoveEventMerger=null,this.mouseMoveCallback=null;var t=this.onStopCallback;this.onStopCallback=null,e&&t()}},t.prototype.isMonitoring=function(){return this.hooks.length>0},t.prototype.startMonitoring=function(e,t,n){var i=this;if(!this.isMonitoring()){this.mouseMoveEventMerger=e,this.mouseMoveCallback=t,this.onStopCallback=n;for(var o=a.a.getSameOriginWindowChain(),l=0;l<o.length;l++)this.hooks.push(r.i(o[l].window.document,"mousemove",function(e){return i.mouseMoveCallback(e)},function(e,t){return i.mouseMoveEventMerger(e,t)})),this.hooks.push(r.g(o[l].window.document,"mouseup",function(e){return i.stopMonitoring(!0)}));if(a.a.hasDifferentOriginAncestor()){var c=o[o.length-1];this.hooks.push(r.g(c.window.document,"mouseout",function(e){"html"===new s.b(e).target.tagName.toLowerCase()&&i.stopMonitoring(!0)})),this.hooks.push(r.g(c.window.document,"mouseover",function(e){"html"===new s.b(e).target.tagName.toLowerCase()&&i.stopMonitoring(!0)})),this.hooks.push(r.g(c.window.document.body,"mouseleave",function(e){i.stopMonitoring(!0)}))}}},t}(o.a)},function(e,t,n){"use strict";n.d(t,"d",function(){return g}),n.d(t,"e",function(){return b}),n.d(t,"b",function(){return y}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return w});n(331);var i,o,r=n(18),a=n(0),s=n(7),l=n(37),c=n(80),u=n(1),d=n(24),h=n(68),f=n(54),p=n(5),m=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),g=function(){function e(e,t,n){var i=this;this.options=n,this._callOnDispose=[],this._context=e||this,this._action=t,t instanceof c.a&&this._callOnDispose.push(t.onDidChange(function(e){i.builder&&i._handleActionChangeEvent(e)}))}return e.prototype._handleActionChangeEvent=function(e){void 0!==e.enabled&&this._updateEnabled(),void 0!==e.checked&&this._updateChecked(),void 0!==e.class&&this._updateClass(),void 0!==e.label&&(this._updateLabel(),this._updateTooltip()),void 0!==e.tooltip&&this._updateTooltip()},Object.defineProperty(e.prototype,"actionRunner",{get:function(){return this._actionRunner},set:function(e){this._actionRunner=e},enumerable:!0,configurable:!0}),e.prototype.getAction=function(){return this._action},e.prototype.isEnabled=function(){return this._action.enabled},e.prototype.setActionContext=function(e){this._context=e},e.prototype.render=function(e){var t=this;this.builder=Object(l.a)(e),h.b.addTarget(e);var n=this.options&&this.options.draggable;n&&(e.draggable=!0),this.builder.on(h.a.Tap,function(e){return t.onClick(e)}),this.builder.on(u.d.MOUSE_DOWN,function(e){n||u.c.stop(e,!0);var i=e;t._action.enabled&&0===i.button&&t.builder.addClass("active")}),this.builder.on(u.d.CLICK,function(e){u.c.stop(e,!0),t.options&&t.options.isMenu?t.onClick(e):r.h(function(){return t.onClick(e)})}),this.builder.on([u.d.MOUSE_UP,u.d.MOUSE_OUT],function(e){u.c.stop(e),t.builder.removeClass("active")})},e.prototype.onClick=function(e){var t;u.c.stop(e,!0),d.j(this._context)||!d.g(this._context)?t=e:(t=this._context).event=e,this._actionRunner.run(this._action,t)},e.prototype._updateEnabled=function(){},e.prototype._updateLabel=function(){},e.prototype._updateTooltip=function(){},e.prototype._updateClass=function(){},e.prototype._updateChecked=function(){},e.prototype.dispose=function(){this.builder&&(this.builder.destroy(),this.builder=null),this._callOnDispose=s.d(this._callOnDispose)},e}(),b=function(e){function t(n,i){var o=e.call(this,t.ID,n,n?"separator text":"separator")||this;return o.checked=!1,o.radio=!1,o.enabled=!1,o.order=i,o}return m(t,e),t.ID="vs.actions.separator",t}(c.a),y=function(e){function t(t,n,i){void 0===i&&(i={});var o=e.call(this,t,n,i)||this;return o.options=i,o.options.icon=void 0!==i.icon&&i.icon,o.options.label=void 0===i.label||i.label,o.cssClass="",o}return m(t,e),t.prototype.render=function(t){e.prototype.render.call(this,t),this.$e=Object(l.a)("a.action-label").appendTo(this.builder),this._action.id===b.ID?this.$e.attr({role:"presentation"}):this.options.isMenu?this.$e.attr({role:"menuitem"}):this.$e.attr({role:"button"}),this.options.label&&this.options.keybinding&&Object(l.a)("span.keybinding").text(this.options.keybinding).appendTo(this.builder),this._updateClass(),this._updateLabel(),this._updateTooltip(),this._updateEnabled(),this._updateChecked()},t.prototype._updateLabel=function(){this.options.label&&this.$e.text(this.getAction().label)},t.prototype._updateTooltip=function(){var e=null;this.getAction().tooltip?e=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(e=this.getAction().label,this.options.keybinding&&(e=a.a({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",e,this.options.keybinding))),e&&this.$e.attr({title:e})},t.prototype._updateClass=function(){this.cssClass&&this.$e.removeClass(this.cssClass),this.options.icon?(this.cssClass=this.getAction().class,this.$e.addClass("icon"),this.cssClass&&this.$e.addClass(this.cssClass),this._updateEnabled()):this.$e.removeClass("icon")},t.prototype._updateEnabled=function(){this.getAction().enabled?(this.builder.removeClass("disabled"),this.$e.removeClass("disabled"),this.$e.attr({tabindex:0})):(this.builder.addClass("disabled"),this.$e.addClass("disabled"),u.H(this.$e.getHTMLElement()))},t.prototype._updateChecked=function(){this.getAction().checked?this.$e.addClass("checked"):this.$e.removeClass("checked")},t}(g);!function(e){e[e.HORIZONTAL=0]="HORIZONTAL",e[e.HORIZONTAL_REVERSE=1]="HORIZONTAL_REVERSE",e[e.VERTICAL=2]="VERTICAL",e[e.VERTICAL_REVERSE=3]="VERTICAL_REVERSE"}(o||(o={}));var v={orientation:o.HORIZONTAL,context:null},w=function(){function e(e,t){void 0===t&&(t=v);var n,i,r=this;switch(this._onDidBlur=new p.a,this._onDidCancel=new p.a,this._onDidRun=new p.a,this._onDidBeforeRun=new p.a,this.options=t,this._context=t.context,this.toDispose=[],this._actionRunner=this.options.actionRunner,this._actionRunner||(this._actionRunner=new c.b,this.toDispose.push(this._actionRunner)),this.toDispose.push(this._actionRunner.onDidRun(function(e){return r._onDidRun.fire(e)})),this.toDispose.push(this._actionRunner.onDidBeforeRun(function(e){return r._onDidBeforeRun.fire(e)})),this.items=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",!1!==t.animated&&u.f(this.domNode,"animated"),this.options.orientation){case o.HORIZONTAL:n=15,i=17;break;case o.HORIZONTAL_REVERSE:n=17,i=15,this.domNode.className+=" reverse";break;case o.VERTICAL:n=16,i=18,this.domNode.className+=" vertical";break;case o.VERTICAL_REVERSE:n=18,i=16,this.domNode.className+=" vertical reverse"}Object(l.a)(this.domNode).on(u.d.KEY_DOWN,function(e){var t=new f.a(e),o=!0;t.equals(n)?r.focusPrevious():t.equals(i)?r.focusNext():t.equals(9)?r.cancel():t.equals(3)||t.equals(10)||(o=!1),o&&(t.preventDefault(),t.stopPropagation())}),Object(l.a)(this.domNode).on(u.d.KEY_UP,function(e){var t=new f.a(e);t.equals(3)||t.equals(10)?(r.doTrigger(t),t.preventDefault(),t.stopPropagation()):(t.equals(2)||t.equals(1026))&&r.updateFocusedItem()}),this.focusTracker=u.O(this.domNode),this.toDispose.push(this.focusTracker.onDidBlur(function(){document.activeElement!==r.domNode&&u.B(document.activeElement,r.domNode)||(r._onDidBlur.fire(),r.focusedItem=void 0)})),this.toDispose.push(this.focusTracker.onDidFocus(function(){return r.updateFocusedItem()})),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.options.isMenu?this.actionsList.setAttribute("role","menu"):this.actionsList.setAttribute("role","toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.options.isMenu&&(this.domNode.tabIndex=0,Object(l.a)(this.domNode).on(u.d.MOUSE_OUT,function(e){var t=e.relatedTarget;u.B(t,r.domNode)||(r.focusedItem=void 0,r.updateFocus(),e.stopPropagation())}),Object(l.a)(this.actionsList).on(u.d.MOUSE_OVER,function(e){var t=e.target;if(t&&u.B(t,r.actionsList)&&t!==r.actionsList){for(;t.parentElement!==r.actionsList;)t=t.parentElement;if(u.z(t,"action-item")){var n=r.focusedItem;r.setFocusedItem(t),n!==r.focusedItem&&r.updateFocus()}}})),this.domNode.appendChild(this.actionsList),e.appendChild(this.domNode)}return Object.defineProperty(e.prototype,"onDidBlur",{get:function(){return this._onDidBlur.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidCancel",{get:function(){return this._onDidCancel.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidRun",{get:function(){return this._onDidRun.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidBeforeRun",{get:function(){return this._onDidBeforeRun.event},enumerable:!0,configurable:!0}),e.prototype.setFocusedItem=function(e){for(var t=0;t<this.actionsList.children.length;t++){if(e===this.actionsList.children[t]){this.focusedItem=t;break}}},e.prototype.updateFocusedItem=function(){for(var e=0;e<this.actionsList.children.length;e++){var t=this.actionsList.children[e];if(u.B(document.activeElement,t)){this.focusedItem=e;break}}},Object.defineProperty(e.prototype,"context",{get:function(){return this._context},set:function(e){this._context=e,this.items.forEach(function(t){return t.setActionContext(e)})},enumerable:!0,configurable:!0}),e.prototype.getContainer=function(){return this.domNode},e.prototype.push=function(e,t){var n=this;void 0===t&&(t={});var i=Array.isArray(e)?e:[e],o=d.f(t.index)?t.index:null;i.forEach(function(e){var i=document.createElement("li");i.className="action-item",i.setAttribute("role","presentation"),Object(l.a)(i).on(u.d.CONTEXT_MENU,function(e){e.preventDefault(),e.stopPropagation()});var r=null;n.options.actionItemProvider&&(r=n.options.actionItemProvider(e)),r||(r=new y(n.context,e,t)),r.actionRunner=n._actionRunner,r.setActionContext(n.context),r.render(i),null===o||o<0||o>=n.actionsList.children.length?(n.actionsList.appendChild(i),n.items.push(r)):(n.actionsList.insertBefore(i,n.actionsList.children[o]),n.items.splice(o,0,r),o++)})},e.prototype.clear=function(){this.items=s.d(this.items),Object(l.a)(this.actionsList).empty()},e.prototype.isEmpty=function(){return 0===this.items.length},e.prototype.focus=function(e){e&&"undefined"===typeof this.focusedItem?(this.focusedItem=this.items.length-1,this.focusNext()):this.updateFocus()},e.prototype.focusNext=function(){"undefined"===typeof this.focusedItem&&(this.focusedItem=this.items.length-1);var e,t=this.focusedItem;do{this.focusedItem=(this.focusedItem+1)%this.items.length,e=this.items[this.focusedItem]}while(this.focusedItem!==t&&!e.isEnabled());this.focusedItem!==t||e.isEnabled()||(this.focusedItem=void 0),this.updateFocus()},e.prototype.focusPrevious=function(){"undefined"===typeof this.focusedItem&&(this.focusedItem=0);var e,t=this.focusedItem;do{this.focusedItem=this.focusedItem-1,this.focusedItem<0&&(this.focusedItem=this.items.length-1),e=this.items[this.focusedItem]}while(this.focusedItem!==t&&!e.isEnabled());this.focusedItem!==t||e.isEnabled()||(this.focusedItem=void 0),this.updateFocus(!0)},e.prototype.updateFocus=function(e){"undefined"===typeof this.focusedItem&&this.domNode.focus();for(var t=0;t<this.items.length;t++){var n=this.items[t];t===this.focusedItem?d.e(n.isEnabled)&&(n.isEnabled()&&d.e(n.focus)?n.focus(e):this.domNode.focus()):d.e(n.blur)&&n.blur()}},e.prototype.doTrigger=function(e){if("undefined"!==typeof this.focusedItem){var t=this.items[this.focusedItem];if(t instanceof g){var n=null===t._context||void 0===t._context?e:t._context;this.run(t._action,n).done()}}},e.prototype.cancel=function(){document.activeElement instanceof HTMLElement&&document.activeElement.blur(),this._onDidCancel.fire()},e.prototype.run=function(e,t){return this._actionRunner.run(e,t)},e.prototype.dispose=function(){null!==this.items&&s.d(this.items),this.items=null,this.focusTracker&&(this.focusTracker.dispose(),this.focusTracker=null),this.toDispose=s.d(this.toDispose),Object(l.a)(this.getContainer()).destroy()},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"g",function(){return o}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return d}),n.d(t,"e",function(){return h}),n.d(t,"b",function(){return f}),n.d(t,"f",function(){return p});var i,o,r=n(18),a=n(15),s=n(1),l=n(42);!function(e){e[e.ON_MOUSE_DOWN=0]="ON_MOUSE_DOWN",e[e.ON_MOUSE_UP=1]="ON_MOUSE_UP"}(i||(i={})),function(e){e[e.SINGLE_CLICK=0]="SINGLE_CLICK",e[e.DOUBLE_CLICK=1]="DOUBLE_CLICK"}(o||(o={}));var c=function(){function e(){this._arr=[]}return e.prototype.set=function(e,t){this._arr.push({keybinding:Object(l.f)(e,r.a),callback:t})},e.prototype.dispatch=function(e){for(var t=this._arr.length-1;t>=0;t--){var n=this._arr[t];if(e.equals(n.keybinding))return n.callback}return null},e}(),u=function(){function e(e){void 0===e&&(e={clickBehavior:i.ON_MOUSE_DOWN,keyboardSupport:!0,openMode:o.SINGLE_CLICK});var t=this;this.options=e,this.downKeyBindingDispatcher=new c,this.upKeyBindingDispatcher=new c,("boolean"!==typeof e.keyboardSupport||e.keyboardSupport)&&(this.downKeyBindingDispatcher.set(16,function(e,n){return t.onUp(e,n)}),this.downKeyBindingDispatcher.set(18,function(e,n){return t.onDown(e,n)}),this.downKeyBindingDispatcher.set(15,function(e,n){return t.onLeft(e,n)}),this.downKeyBindingDispatcher.set(17,function(e,n){return t.onRight(e,n)}),r.d&&(this.downKeyBindingDispatcher.set(2064,function(e,n){return t.onLeft(e,n)}),this.downKeyBindingDispatcher.set(300,function(e,n){return t.onDown(e,n)}),this.downKeyBindingDispatcher.set(302,function(e,n){return t.onUp(e,n)})),this.downKeyBindingDispatcher.set(11,function(e,n){return t.onPageUp(e,n)}),this.downKeyBindingDispatcher.set(12,function(e,n){return t.onPageDown(e,n)}),this.downKeyBindingDispatcher.set(14,function(e,n){return t.onHome(e,n)}),this.downKeyBindingDispatcher.set(13,function(e,n){return t.onEnd(e,n)}),this.downKeyBindingDispatcher.set(10,function(e,n){return t.onSpace(e,n)}),this.downKeyBindingDispatcher.set(9,function(e,n){return t.onEscape(e,n)}),this.upKeyBindingDispatcher.set(3,this.onEnter.bind(this)),this.upKeyBindingDispatcher.set(2051,this.onEnter.bind(this)))}return e.prototype.onMouseDown=function(e,t,n,o){if(void 0===o&&(o="mouse"),this.options.clickBehavior===i.ON_MOUSE_DOWN&&(n.leftButton||n.middleButton)){if(n.target){if(n.target.tagName&&"input"===n.target.tagName.toLowerCase())return!1;if(s.p(n.target,"scrollbar","monaco-tree"))return!1;if(s.p(n.target,"monaco-action-bar","row"))return!1}return this.onLeftClick(e,t,n,o)}return!1},e.prototype.onClick=function(e,t,n){return r.d&&n.ctrlKey?(n.preventDefault(),n.stopPropagation(),!1):(!n.target||!n.target.tagName||"input"!==n.target.tagName.toLowerCase())&&((this.options.clickBehavior!==i.ON_MOUSE_DOWN||!n.leftButton&&!n.middleButton)&&this.onLeftClick(e,t,n))},e.prototype.onLeftClick=function(e,t,n,i){void 0===i&&(i="mouse");var o=n,r={origin:i,originalEvent:n,didClickOnTwistie:this.isClickOnTwistie(o)};e.getInput()===t?(e.clearFocus(r),e.clearSelection(r)):(n&&o.browserEvent&&"mousedown"===o.browserEvent.type&&1===o.browserEvent.detail||n.preventDefault(),n.stopPropagation(),e.domFocus(),e.setSelection([t],r),e.setFocus(t,r),this.shouldToggleExpansion(t,o,i)&&(e.isExpanded(t)?e.collapse(t).done(null,a.e):e.expand(t).done(null,a.e)));return!0},e.prototype.shouldToggleExpansion=function(e,t,n){var i="mouse"===n&&2===t.detail;return this.openOnSingleClick||i||this.isClickOnTwistie(t)},e.prototype.setOpenMode=function(e){this.options.openMode=e},Object.defineProperty(e.prototype,"openOnSingleClick",{get:function(){return this.options.openMode===o.SINGLE_CLICK},enumerable:!0,configurable:!0}),e.prototype.isClickOnTwistie=function(e){var t=e.target;if(!s.z(t,"content"))return!1;var n=window.getComputedStyle(t,":before");if("none"===n.backgroundImage||"none"===n.display)return!1;var i=parseInt(n.width)+parseInt(n.paddingRight);return e.browserEvent.offsetX<=i},e.prototype.onContextMenu=function(e,t,n){return(!n.target||!n.target.tagName||"input"!==n.target.tagName.toLowerCase())&&(n&&(n.preventDefault(),n.stopPropagation()),!1)},e.prototype.onTap=function(e,t,n){var i=n.initialTarget;return(!i||!i.tagName||"input"!==i.tagName.toLowerCase())&&this.onLeftClick(e,t,n,"touch")},e.prototype.onKeyDown=function(e,t){return this.onKey(this.downKeyBindingDispatcher,e,t)},e.prototype.onKeyUp=function(e,t){return this.onKey(this.upKeyBindingDispatcher,e,t)},e.prototype.onKey=function(e,t,n){var i=e.dispatch(n.toKeybinding());return!(!i||!i(t,n))&&(n.preventDefault(),n.stopPropagation(),!0)},e.prototype.onUp=function(e,t){var n={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(n):(e.focusPrevious(1,n),e.reveal(e.getFocus()).done(null,a.e)),!0},e.prototype.onPageUp=function(e,t){var n={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(n):(e.focusPreviousPage(n),e.reveal(e.getFocus()).done(null,a.e)),!0},e.prototype.onDown=function(e,t){var n={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(n):(e.focusNext(1,n),e.reveal(e.getFocus()).done(null,a.e)),!0},e.prototype.onPageDown=function(e,t){var n={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(n):(e.focusNextPage(n),e.reveal(e.getFocus()).done(null,a.e)),!0},e.prototype.onHome=function(e,t){var n={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(n):(e.focusFirst(n),e.reveal(e.getFocus()).done(null,a.e)),!0},e.prototype.onEnd=function(e,t){var n={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(n):(e.focusLast(n),e.reveal(e.getFocus()).done(null,a.e)),!0},e.prototype.onLeft=function(e,t){var n={origin:"keyboard",originalEvent:t};if(e.getHighlight())e.clearHighlight(n);else{var i=e.getFocus();e.collapse(i).then(function(t){if(i&&!t)return e.focusParent(n),e.reveal(e.getFocus())}).done(null,a.e)}return!0},e.prototype.onRight=function(e,t){var n={origin:"keyboard",originalEvent:t};if(e.getHighlight())e.clearHighlight(n);else{var i=e.getFocus();e.expand(i).then(function(t){if(i&&!t)return e.focusFirstChild(n),e.reveal(e.getFocus())}).done(null,a.e)}return!0},e.prototype.onEnter=function(e,t){var n={origin:"keyboard",originalEvent:t};if(e.getHighlight())return!1;var i=e.getFocus();return i&&e.setSelection([i],n),!0},e.prototype.onSpace=function(e,t){if(e.getHighlight())return!1;var n=e.getFocus();return n&&e.toggleExpansion(n),!0},e.prototype.onEscape=function(e,t){var n={origin:"keyboard",originalEvent:t};return e.getHighlight()?(e.clearHighlight(n),!0):e.getSelection().length?(e.clearSelection(n),!0):!!e.getFocus()&&(e.clearFocus(n),!0)},e}(),d=function(){function e(){}return e.prototype.getDragURI=function(e,t){return null},e.prototype.onDragStart=function(e,t,n){},e.prototype.onDragOver=function(e,t,n,i){return null},e.prototype.drop=function(e,t,n,i){},e}(),h=function(){function e(){}return e.prototype.isVisible=function(e,t){return!0},e}(),f=function(){function e(){}return e.prototype.getAriaLabel=function(e,t){return null},e}(),p=function(){function e(e,t){this.styleElement=e,this.selectorSuffix=t}return e.prototype.style=function(e){var t=this.selectorSuffix?"."+this.selectorSuffix:"",n=[];e.listFocusBackground&&n.push(".monaco-tree"+t+".focused .monaco-tree-rows > .monaco-tree-row.focused:not(.highlighted) { background-color: "+e.listFocusBackground+"; }"),e.listFocusForeground&&n.push(".monaco-tree"+t+".focused .monaco-tree-rows > .monaco-tree-row.focused:not(.highlighted) { color: "+e.listFocusForeground+"; }"),e.listActiveSelectionBackground&&n.push(".monaco-tree"+t+".focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { background-color: "+e.listActiveSelectionBackground+"; }"),e.listActiveSelectionForeground&&n.push(".monaco-tree"+t+".focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { color: "+e.listActiveSelectionForeground+"; }"),e.listFocusAndSelectionBackground&&n.push("\n\t\t\t\t.monaco-tree-drag-image,\n\t\t\t\t.monaco-tree"+t+".focused .monaco-tree-rows > .monaco-tree-row.focused.selected:not(.highlighted) { background-color: "+e.listFocusAndSelectionBackground+"; }\n\t\t\t"),e.listFocusAndSelectionForeground&&n.push("\n\t\t\t\t.monaco-tree-drag-image,\n\t\t\t\t.monaco-tree"+t+".focused .monaco-tree-rows > .monaco-tree-row.focused.selected:not(.highlighted) { color: "+e.listFocusAndSelectionForeground+"; }\n\t\t\t"),e.listInactiveSelectionBackground&&n.push(".monaco-tree"+t+" .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { background-color: "+e.listInactiveSelectionBackground+"; }"),e.listInactiveSelectionForeground&&n.push(".monaco-tree"+t+" .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { color: "+e.listInactiveSelectionForeground+"; }"),e.listHoverBackground&&n.push(".monaco-tree"+t+" .monaco-tree-rows > .monaco-tree-row:hover:not(.highlighted):not(.selected):not(.focused) { background-color: "+e.listHoverBackground+"; }"),e.listHoverForeground&&n.push(".monaco-tree"+t+" .monaco-tree-rows > .monaco-tree-row:hover:not(.highlighted):not(.selected):not(.focused) { color: "+e.listHoverForeground+"; }"),e.listDropBackground&&n.push("\n\t\t\t\t.monaco-tree"+t+" .monaco-tree-wrapper.drop-target,\n\t\t\t\t.monaco-tree"+t+" .monaco-tree-rows > .monaco-tree-row.drop-target { background-color: "+e.listDropBackground+" !important; color: inherit !important; }\n\t\t\t"),e.listFocusOutline&&n.push("\n\t\t\t\t.monaco-tree-drag-image\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ border: 1px solid "+e.listFocusOutline+"; background: #000; }\n\t\t\t\t.monaco-tree"+t+" .monaco-tree-rows > .monaco-tree-row \t\t\t\t\t\t\t\t\t\t\t\t\t\t{ border: 1px solid transparent; }\n\t\t\t\t.monaco-tree"+t+".focused .monaco-tree-rows > .monaco-tree-row.focused:not(.highlighted) \t\t\t\t\t\t{ border: 1px dotted "+e.listFocusOutline+"; }\n\t\t\t\t.monaco-tree"+t+".focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) \t\t\t\t\t\t{ border: 1px solid "+e.listFocusOutline+"; }\n\t\t\t\t.monaco-tree"+t+" .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted)  \t\t\t\t\t\t\t{ border: 1px solid "+e.listFocusOutline+"; }\n\t\t\t\t.monaco-tree"+t+" .monaco-tree-rows > .monaco-tree-row:hover:not(.highlighted):not(.selected):not(.focused)  \t{ border: 1px dashed "+e.listFocusOutline+"; }\n\t\t\t\t.monaco-tree"+t+" .monaco-tree-wrapper.drop-target,\n\t\t\t\t.monaco-tree"+t+" .monaco-tree-rows > .monaco-tree-row.drop-target\t\t\t\t\t\t\t\t\t\t\t\t{ border: 1px dashed "+e.listFocusOutline+"; }\n\t\t\t");var i=n.join("\n");i!==this.styleElement.innerHTML&&(this.styleElement.innerHTML=i)},e}()},function(e,t,n){"use strict";function i(e,t){if(!e||null===e)throw new Error(t?"Assertion failed ("+t+")":"Assertion Failed")}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"d",function(){return u}),n.d(t,"c",function(){return h}),n.d(t,"e",function(){return f}),n.d(t,"b",function(){return p});var i=n(9),o=n(10),r=n(2),a=n(21),s=n(102),l=function(){function e(e,t,n,i){this.searchString=e,this.isRegex=t,this.matchCase=n,this.wordSeparators=i}return e._isMultilineRegexSource=function(e){if(!e||0===e.length)return!1;for(var t=0,n=e.length;t<n;t++){if(92===e.charCodeAt(t)){if(++t>=n)break;var i=e.charCodeAt(t);if(110===i||114===i)return!0}}return!1},e.prototype.parseSearchRequest=function(){if(""===this.searchString)return null;var t;t=this.isRegex?e._isMultilineRegexSource(this.searchString):this.searchString.indexOf("\n")>=0;var n=null;try{n=i.createRegExp(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:t,global:!0})}catch(e){return null}if(!n)return null;var o=!this.isRegex&&!t;return o&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(o=this.matchCase),new c(n,this.wordSeparators?Object(s.a)(this.wordSeparators):null,o?this.searchString:null)},e}(),c=function(){return function(e,t,n){this.regex=e,this.wordSeparators=t,this.simpleSearch=n}}();function u(e,t,n){if(!n)return new a.e(e,null);for(var i=[],o=0,r=t.length;o<r;o++)i[o]=t[o];return new a.e(e,i)}var d=function(){function e(e){for(var t=[],n=0,i=0,o=e.length;i<o;i++)10===e.charCodeAt(i)&&(t[n++]=i);this._lineFeedsOffsets=t}return e.prototype.findLineFeedCountBeforeOffset=function(e){var t=this._lineFeedsOffsets,n=0,i=t.length-1;if(-1===i)return 0;if(e<=t[0])return 0;for(;n<i;){var o=n+((i-n)/2>>0);t[o]>=e?i=o-1:t[o+1]>=e?(n=o,i=o):n=o+1}return n+1},e}(),h=function(){function e(){}return e.findMatches=function(e,t,n,i,o){var r=t.parseSearchRequest();return r?r.regex.multiline?this._doFindMatchesMultiline(e,n,new p(r.wordSeparators,r.regex),i,o):this._doFindMatchesLineByLine(e,n,r,i,o):[]},e._getMultilineMatchRange=function(e,t,n,i,o,a){var s,l,c=0;if(s="\r\n"===e.getEOL()?t+o+(c=i.findLineFeedCountBeforeOffset(o)):t+o,"\r\n"===e.getEOL()){var u=i.findLineFeedCountBeforeOffset(o+a.length)-c;l=s+a.length+u}else l=s+a.length;var d=e.getPositionAt(s),h=e.getPositionAt(l);return new r.a(d.lineNumber,d.column,h.lineNumber,h.column)},e._doFindMatchesMultiline=function(e,t,n,i,o){var r,s=e.getOffsetAt(t.getStartPosition()),l=e.getValueInRange(t,a.c.LF),c="\r\n"===e.getEOL()?new d(l):null,h=[],f=0;for(n.reset(0);r=n.next(l);)if(h[f++]=u(this._getMultilineMatchRange(e,s,l,c,r.index,r[0]),r,i),f>=o)return h;return h},e._doFindMatchesLineByLine=function(e,t,n,i,o){var r=[],a=0;if(t.startLineNumber===t.endLineNumber){var s=e.getLineContent(t.startLineNumber).substring(t.startColumn-1,t.endColumn-1);return a=this._findMatchesInLine(n,s,t.startLineNumber,t.startColumn-1,a,r,i,o),r}var l=e.getLineContent(t.startLineNumber).substring(t.startColumn-1);a=this._findMatchesInLine(n,l,t.startLineNumber,t.startColumn-1,a,r,i,o);for(var c=t.startLineNumber+1;c<t.endLineNumber&&a<o;c++)a=this._findMatchesInLine(n,e.getLineContent(c),c,0,a,r,i,o);if(a<o){var u=e.getLineContent(t.endLineNumber).substring(0,t.endColumn-1);a=this._findMatchesInLine(n,u,t.endLineNumber,0,a,r,i,o)}return r},e._findMatchesInLine=function(e,t,n,i,o,s,l,c){var d=e.wordSeparators;if(!l&&e.simpleSearch){for(var h=e.simpleSearch,m=h.length,g=t.length,b=-m;-1!==(b=t.indexOf(h,b+m));)if((!d||f(d,t,g,b,m))&&(s[o++]=new a.e(new r.a(n,b+1+i,n,b+1+m+i),null),o>=c))return o;return o}var y,v=new p(e.wordSeparators,e.regex);v.reset(0);do{if((y=v.next(t))&&(s[o++]=u(new r.a(n,y.index+1+i,n,y.index+1+y[0].length+i),y,l),o>=c))return o}while(y);return o},e.findNextMatch=function(e,t,n,i){var o=t.parseSearchRequest();if(!o)return null;var r=new p(o.wordSeparators,o.regex);return o.regex.multiline?this._doFindNextMatchMultiline(e,n,r,i):this._doFindNextMatchLineByLine(e,n,r,i)},e._doFindNextMatchMultiline=function(e,t,n,i){var s=new o.a(t.lineNumber,1),l=e.getOffsetAt(s),c=e.getLineCount(),h=e.getValueInRange(new r.a(s.lineNumber,s.column,c,e.getLineMaxColumn(c)),a.c.LF),f="\r\n"===e.getEOL()?new d(h):null;n.reset(t.column-1);var p=n.next(h);return p?u(this._getMultilineMatchRange(e,l,h,f,p.index,p[0]),p,i):1!==t.lineNumber||1!==t.column?this._doFindNextMatchMultiline(e,new o.a(1,1),n,i):null},e._doFindNextMatchLineByLine=function(e,t,n,i){var o=e.getLineCount(),r=t.lineNumber,a=e.getLineContent(r),s=this._findFirstMatchInLine(n,a,r,t.column,i);if(s)return s;for(var l=1;l<=o;l++){var c=(r+l-1)%o,u=e.getLineContent(c+1),d=this._findFirstMatchInLine(n,u,c+1,1,i);if(d)return d}return null},e._findFirstMatchInLine=function(e,t,n,i,o){e.reset(i-1);var a=e.next(t);return a?u(new r.a(n,a.index+1,n,a.index+1+a[0].length),a,o):null},e.findPreviousMatch=function(e,t,n,i){var o=t.parseSearchRequest();if(!o)return null;var r=new p(o.wordSeparators,o.regex);return o.regex.multiline?this._doFindPreviousMatchMultiline(e,n,r,i):this._doFindPreviousMatchLineByLine(e,n,r,i)},e._doFindPreviousMatchMultiline=function(e,t,n,i){var a=this._doFindMatchesMultiline(e,new r.a(1,1,t.lineNumber,t.column),n,i,9990);if(a.length>0)return a[a.length-1];var s=e.getLineCount();return t.lineNumber!==s||t.column!==e.getLineMaxColumn(s)?this._doFindPreviousMatchMultiline(e,new o.a(s,e.getLineMaxColumn(s)),n,i):null},e._doFindPreviousMatchLineByLine=function(e,t,n,i){var o=e.getLineCount(),r=t.lineNumber,a=e.getLineContent(r).substring(0,t.column-1),s=this._findLastMatchInLine(n,a,r,i);if(s)return s;for(var l=1;l<=o;l++){var c=(o+r-l-1)%o,u=e.getLineContent(c+1),d=this._findLastMatchInLine(n,u,c+1,i);if(d)return d}return null},e._findLastMatchInLine=function(e,t,n,i){var o,a=null;for(e.reset(0);o=e.next(t);)a=u(new r.a(n,o.index+1,n,o.index+1+o[0].length),o,i);return a},e}();function f(e,t,n,i,o){return function(e,t,n,i,o){if(0===i)return!0;var r=t.charCodeAt(i-1);if(0!==e.get(r))return!0;if(13===r||10===r)return!0;if(o>0){var a=t.charCodeAt(i);if(0!==e.get(a))return!0}return!1}(e,t,0,i,o)&&function(e,t,n,i,o){if(i+o===n)return!0;var r=t.charCodeAt(i+o);if(0!==e.get(r))return!0;if(13===r||10===r)return!0;if(o>0){var a=t.charCodeAt(i+o-1);if(0!==e.get(a))return!0}return!1}(e,t,n,i,o)}var p=function(){function e(e,t){this._wordSeparators=e,this._searchRegex=t,this._prevMatchStartIndex=-1,this._prevMatchLength=0}return e.prototype.reset=function(e){this._searchRegex.lastIndex=e,this._prevMatchStartIndex=-1,this._prevMatchLength=0},e.prototype.next=function(e){var t,n=e.length;do{if(this._prevMatchStartIndex+this._prevMatchLength===n)return null;if(!(t=this._searchRegex.exec(e)))return null;var i=t.index,o=t[0].length;if(i===this._prevMatchStartIndex&&o===this._prevMatchLength)return null;if(this._prevMatchStartIndex=i,this._prevMatchLength=o,!this._wordSeparators||f(this._wordSeparators,e,n,i,o))return t}while(t);return null},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a});var i=n(11),o=n(5),r=function(){function e(e,t,n,i,r){void 0===t&&(t=""),void 0===n&&(n=""),void 0===i&&(i=!0),this._onDidChange=new o.a,this._id=e,this._label=t,this._cssClass=n,this._enabled=i,this._actionCallback=r}return e.prototype.dispose=function(){this._onDidChange.dispose()},Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){return this._label},set:function(e){this._setLabel(e)},enumerable:!0,configurable:!0}),e.prototype._setLabel=function(e){this._label!==e&&(this._label=e,this._onDidChange.fire({label:e}))},Object.defineProperty(e.prototype,"tooltip",{get:function(){return this._tooltip},set:function(e){this._setTooltip(e)},enumerable:!0,configurable:!0}),e.prototype._setTooltip=function(e){this._tooltip!==e&&(this._tooltip=e,this._onDidChange.fire({tooltip:e}))},Object.defineProperty(e.prototype,"class",{get:function(){return this._cssClass},set:function(e){this._setClass(e)},enumerable:!0,configurable:!0}),e.prototype._setClass=function(e){this._cssClass!==e&&(this._cssClass=e,this._onDidChange.fire({class:e}))},Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._setEnabled(e)},enumerable:!0,configurable:!0}),e.prototype._setEnabled=function(e){this._enabled!==e&&(this._enabled=e,this._onDidChange.fire({enabled:e}))},Object.defineProperty(e.prototype,"checked",{get:function(){return this._checked},set:function(e){this._setChecked(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radio",{get:function(){return this._radio},set:function(e){this._setRadio(e)},enumerable:!0,configurable:!0}),e.prototype._setChecked=function(e){this._checked!==e&&(this._checked=e,this._onDidChange.fire({checked:e}))},e.prototype._setRadio=function(e){this._radio!==e&&(this._radio=e,this._onDidChange.fire({radio:e}))},Object.defineProperty(e.prototype,"order",{get:function(){return this._order},set:function(e){this._order=e},enumerable:!0,configurable:!0}),e.prototype.run=function(e,t){return void 0!==this._actionCallback?this._actionCallback(e):i.b.as(!0)},e}(),a=function(){function e(){this._onDidBeforeRun=new o.a,this._onDidRun=new o.a}return Object.defineProperty(e.prototype,"onDidRun",{get:function(){return this._onDidRun.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidBeforeRun",{get:function(){return this._onDidBeforeRun.event},enumerable:!0,configurable:!0}),e.prototype.run=function(e,t){var n=this;return e.enabled?(this._onDidBeforeRun.fire({action:e}),this.runAction(e,t).then(function(t){n._onDidRun.fire({action:e,result:t})},function(t){n._onDidRun.fire({action:e,error:t})})):i.b.as(null)},e.prototype.runAction=function(e,t){var n=t?e.run(t):e.run();return i.b.is(n)?n:i.b.wrap(n)},e.prototype.dispose=function(){this._onDidBeforeRun.dispose(),this._onDidRun.dispose()},e}()},function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"c",function(){return u}),n.d(t,"b",function(){return d}),n.d(t,"a",function(){return h});var i,o=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function r(e){var t=[];return e.forEach(function(e){return t.push(e)}),t}var a,s=function(){function e(){this._value="",this._pos=0}return e.prototype.reset=function(e){return this._value=e,this._pos=0,this},e.prototype.next=function(){return this._pos+=1,this},e.prototype.hasNext=function(){return this._pos<this._value.length-1},e.prototype.cmp=function(e){return e.charCodeAt(0)-this._value.charCodeAt(this._pos)},e.prototype.value=function(){return this._value[this._pos]},e}(),l=function(){function e(){}return e.prototype.reset=function(e){return this._value=e.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()},e.prototype.hasNext=function(){return this._to<this._value.length},e.prototype.next=function(){this._from=this._to;for(var e=!0;this._to<this._value.length;this._to++){var t=this._value.charCodeAt(this._to);if(47===t||92===t){if(!e)break;this._from++}else e=!1}return this},e.prototype.cmp=function(e){for(var t=0,n=e.length,i=this._from;t<n&&i<this._to;){var o=e.charCodeAt(t)-this._value.charCodeAt(i);if(0!==o)return o;t+=1,i+=1}return n===this._to-this._from?0:t<n?-1:1},e.prototype.value=function(){return this._value.substring(this._from,this._to)},e}(),c=function(){return function(){}}(),u=function(){function e(e){this._iter=e}return e.forPaths=function(){return new e(new l)},e.forStrings=function(){return new e(new s)},e.prototype.clear=function(){this._root=void 0},e.prototype.set=function(e,t){var n,i=this._iter.reset(e);for(this._root||(this._root=new c,this._root.segment=i.value()),n=this._root;;){var o=i.cmp(n.segment);if(o>0)n.left||(n.left=new c,n.left.segment=i.value()),n=n.left;else if(o<0)n.right||(n.right=new c,n.right.segment=i.value()),n=n.right;else{if(!i.hasNext())break;i.next(),n.mid||(n.mid=new c,n.mid.segment=i.value()),n=n.mid}}var r=n.value;return n.value=t,n.key=e,r},e.prototype.get=function(e){for(var t=this._iter.reset(e),n=this._root;n;){var i=t.cmp(n.segment);if(i>0)n=n.left;else if(i<0)n=n.right;else{if(!t.hasNext())break;t.next(),n=n.mid}}return n?n.value:void 0},e.prototype.findSubstr=function(e){for(var t,n=this._iter.reset(e),i=this._root;i;){var o=n.cmp(i.segment);if(o>0)i=i.left;else if(o<0)i=i.right;else{if(!n.hasNext())break;n.next(),t=i.value||t,i=i.mid}}return i&&i.value||t},e.prototype.forEach=function(e){this._forEach(this._root,e)},e.prototype._forEach=function(e,t){e&&(this._forEach(e.left,t),e.value&&t(e.value,e.key),this._forEach(e.mid,t),this._forEach(e.right,t))},e}(),d=function(){function e(){this.map=new Map,this.ignoreCase=!1}return e.prototype.set=function(e,t){this.map.set(this.toKey(e),t)},e.prototype.get=function(e){return this.map.get(this.toKey(e))},e.prototype.toKey=function(e){var t=e.toString();return this.ignoreCase&&(t=t.toLowerCase()),t},e}();!function(e){e[e.None=0]="None",e[e.AsOld=1]="AsOld",e[e.AsNew=2]="AsNew"}(a||(a={}));var h=function(e){function t(t,n){void 0===n&&(n=1);var i=e.call(this)||this;return i._limit=t,i._ratio=Math.min(Math.max(0,n),1),i}return o(t,e),t.prototype.get=function(t){return e.prototype.get.call(this,t,a.AsNew)},t.prototype.set=function(t,n){e.prototype.set.call(this,t,n,a.AsNew),this.checkTrim()},t.prototype.checkTrim=function(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))},t}(function(){function e(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0}return e.prototype.clear=function(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),e.prototype.get=function(e,t){void 0===t&&(t=a.None);var n=this._map.get(e);if(n)return t!==a.None&&this.touch(n,t),n.value},e.prototype.set=function(e,t,n){void 0===n&&(n=a.None);var i=this._map.get(e);if(i)i.value=t,n!==a.None&&this.touch(i,n);else{switch(i={key:e,value:t,next:void 0,previous:void 0},n){case a.None:this.addItemLast(i);break;case a.AsOld:this.addItemFirst(i);break;case a.AsNew:default:this.addItemLast(i)}this._map.set(e,i),this._size++}},e.prototype.forEach=function(e,t){for(var n=this._head;n;)t?e.bind(t)(n.value,n.key,this):e(n.value,n.key,this),n=n.next},e.prototype.trimOld=function(e){if(!(e>=this.size))if(0!==e){for(var t=this._head,n=this.size;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t.previous=void 0}else this.clear()},e.prototype.addItemFirst=function(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e},e.prototype.addItemLast=function(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e},e.prototype.touch=function(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(t===a.AsOld||t===a.AsNew)if(t===a.AsOld){if(e===this._head)return;var n=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e}else if(t===a.AsNew){if(e===this._tail)return;n=e.next,i=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e}},e.prototype.toJSON=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),e},e}())},function(e,t,n){"use strict";n(393);var i,o=n(1),r=n(18),a=n(44),s=n(75),l=n(62),c=n(32),u=n(20),d=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),h=11,f=function(e){function t(t){var n=e.call(this)||this;return n._onActivate=t.onActivate,n.bgDomNode=document.createElement("div"),n.bgDomNode.className="arrow-background",n.bgDomNode.style.position="absolute",n.bgDomNode.style.width=t.bgWidth+"px",n.bgDomNode.style.height=t.bgHeight+"px","undefined"!==typeof t.top&&(n.bgDomNode.style.top="0px"),"undefined"!==typeof t.left&&(n.bgDomNode.style.left="0px"),"undefined"!==typeof t.bottom&&(n.bgDomNode.style.bottom="0px"),"undefined"!==typeof t.right&&(n.bgDomNode.style.right="0px"),n.domNode=document.createElement("div"),n.domNode.className=t.className,n.domNode.style.position="absolute",n.domNode.style.width=h+"px",n.domNode.style.height=h+"px","undefined"!==typeof t.top&&(n.domNode.style.top=t.top+"px"),"undefined"!==typeof t.left&&(n.domNode.style.left=t.left+"px"),"undefined"!==typeof t.bottom&&(n.domNode.style.bottom=t.bottom+"px"),"undefined"!==typeof t.right&&(n.domNode.style.right=t.right+"px"),n._mouseMoveMonitor=n._register(new s.a),n.onmousedown(n.bgDomNode,function(e){return n._arrowMouseDown(e)}),n.onmousedown(n.domNode,function(e){return n._arrowMouseDown(e)}),n._mousedownRepeatTimer=n._register(new u.b),n._mousedownScheduleRepeatTimer=n._register(new u.f),n}return d(t,e),t.prototype._arrowMouseDown=function(e){var t=this;this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet(function(){t._mousedownRepeatTimer.cancelAndSet(function(){return t._onActivate()},1e3/24)},200),this._mouseMoveMonitor.startMonitoring(s.b,function(e){},function(){t._mousedownRepeatTimer.cancel(),t._mousedownScheduleRepeatTimer.cancel()}),e.preventDefault()},t}(l.a),p=n(7),m=n(45),g=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),b=function(e){function t(t,n,i){var o=e.call(this)||this;return o._visibility=t,o._visibleClassName=n,o._invisibleClassName=i,o._domNode=null,o._isVisible=!1,o._isNeeded=!1,o._shouldBeVisible=!1,o._revealTimer=o._register(new u.f),o}return g(t,e),t.prototype.applyVisibilitySetting=function(e){return this._visibility!==m.b.Hidden&&(this._visibility===m.b.Visible||e)},t.prototype.setShouldBeVisible=function(e){var t=this.applyVisibilitySetting(e);this._shouldBeVisible!==t&&(this._shouldBeVisible=t,this.ensureVisibility())},t.prototype.setIsNeeded=function(e){this._isNeeded!==e&&(this._isNeeded=e,this.ensureVisibility())},t.prototype.setDomNode=function(e){this._domNode=e,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)},t.prototype.ensureVisibility=function(){this._isNeeded?this._shouldBeVisible?this._reveal():this._hide(!0):this._hide(!1)},t.prototype._reveal=function(){var e=this;this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(function(){e._domNode.setClassName(e._visibleClassName)},0))},t.prototype._hide=function(e){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode.setClassName(this._invisibleClassName+(e?" fade":"")))},t}(p.a),y=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),v=function(e){function t(t){var n=e.call(this)||this;return n._lazyRender=t.lazyRender,n._host=t.host,n._scrollable=t.scrollable,n._scrollbarState=t.scrollbarState,n._visibilityController=n._register(new b(t.visibility,"visible scrollbar "+t.extraScrollbarClassName,"invisible scrollbar "+t.extraScrollbarClassName)),n._mouseMoveMonitor=n._register(new s.a),n._shouldRender=!0,n.domNode=Object(c.b)(document.createElement("div")),n.domNode.setAttribute("role","presentation"),n.domNode.setAttribute("aria-hidden","true"),n._visibilityController.setDomNode(n.domNode),n.domNode.setPosition("absolute"),n.onmousedown(n.domNode.domNode,function(e){return n._domNodeMouseDown(e)}),n}return y(t,e),t.prototype._createArrow=function(e){var t=this._register(new f(e));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)},t.prototype._createSlider=function(e,t,n,i){var o=this;this.slider=Object(c.b)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(e),this.slider.setLeft(t),this.slider.setWidth(n),this.slider.setHeight(i),this.slider.setLayerHinting(!0),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,function(e){e.leftButton&&(e.preventDefault(),o._sliderMouseDown(e,function(){}))})},t.prototype._onElementSize=function(e){return this._scrollbarState.setVisibleSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender},t.prototype._onElementScrollSize=function(e){return this._scrollbarState.setScrollSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender},t.prototype._onElementScrollPosition=function(e){return this._scrollbarState.setScrollPosition(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender},t.prototype.beginReveal=function(){this._visibilityController.setShouldBeVisible(!0)},t.prototype.beginHide=function(){this._visibilityController.setShouldBeVisible(!1)},t.prototype.render=function(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))},t.prototype._domNodeMouseDown=function(e){e.target===this.domNode.domNode&&this._onMouseDown(e)},t.prototype.delegateMouseDown=function(e){var t=this.domNode.domNode.getClientRects()[0].top,n=t+this._scrollbarState.getSliderPosition(),i=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),o=this._sliderMousePosition(e);n<=o&&o<=i?e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,function(){})):this._onMouseDown(e)},t.prototype._onMouseDown=function(e){var t,n;if(e.target===this.domNode.domNode&&"number"===typeof e.browserEvent.offsetX&&"number"===typeof e.browserEvent.offsetY)t=e.browserEvent.offsetX,n=e.browserEvent.offsetY;else{var i=o.u(this.domNode.domNode);t=e.posx-i.left,n=e.posy-i.top}this._setDesiredScrollPositionNow(this._scrollbarState.getDesiredScrollPositionFromOffset(this._mouseDownRelativePosition(t,n))),e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,function(){}))},t.prototype._sliderMouseDown=function(e,t){var n=this,i=this._sliderMousePosition(e),o=this._sliderOrthogonalMousePosition(e),a=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(s.b,function(e){var t=n._sliderOrthogonalMousePosition(e),s=Math.abs(t-o);if(r.g&&s>140)n._setDesiredScrollPositionNow(a.getScrollPosition());else{var l=n._sliderMousePosition(e)-i;n._setDesiredScrollPositionNow(a.getDesiredScrollPositionFromDelta(l))}},function(){n.slider.toggleClassName("active",!1),n._host.onDragEnd(),t()}),this._host.onDragStart()},t.prototype._setDesiredScrollPositionNow=function(e){var t={};this.writeScrollPosition(t,e),this._scrollable.setScrollPositionNow(t)},t}(l.a),w=function(){function e(e,t,n){this._scrollbarSize=Math.round(t),this._oppositeScrollbarSize=Math.round(n),this._arrowSize=Math.round(e),this._visibleSize=0,this._scrollSize=0,this._scrollPosition=0,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}return e.prototype.clone=function(){var t=new e(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize);return t.setVisibleSize(this._visibleSize),t.setScrollSize(this._scrollSize),t.setScrollPosition(this._scrollPosition),t},e.prototype.setVisibleSize=function(e){var t=Math.round(e);return this._visibleSize!==t&&(this._visibleSize=t,this._refreshComputedValues(),!0)},e.prototype.setScrollSize=function(e){var t=Math.round(e);return this._scrollSize!==t&&(this._scrollSize=t,this._refreshComputedValues(),!0)},e.prototype.setScrollPosition=function(e){var t=Math.round(e);return this._scrollPosition!==t&&(this._scrollPosition=t,this._refreshComputedValues(),!0)},e._computeValues=function(e,t,n,i,o){var r=Math.max(0,n-e),a=Math.max(0,r-2*t),s=i>0&&i>n;if(!s)return{computedAvailableSize:Math.round(r),computedIsNeeded:s,computedSliderSize:Math.round(a),computedSliderRatio:0,computedSliderPosition:0};var l=Math.round(Math.max(20,Math.floor(n*a/i))),c=(a-l)/(i-n),u=o*c;return{computedAvailableSize:Math.round(r),computedIsNeeded:s,computedSliderSize:Math.round(l),computedSliderRatio:c,computedSliderPosition:Math.round(u)}},e.prototype._refreshComputedValues=function(){var t=e._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=t.computedAvailableSize,this._computedIsNeeded=t.computedIsNeeded,this._computedSliderSize=t.computedSliderSize,this._computedSliderRatio=t.computedSliderRatio,this._computedSliderPosition=t.computedSliderPosition},e.prototype.getArrowSize=function(){return this._arrowSize},e.prototype.getScrollPosition=function(){return this._scrollPosition},e.prototype.getRectangleLargeSize=function(){return this._computedAvailableSize},e.prototype.getRectangleSmallSize=function(){return this._scrollbarSize},e.prototype.isNeeded=function(){return this._computedIsNeeded},e.prototype.getSliderSize=function(){return this._computedSliderSize},e.prototype.getSliderPosition=function(){return this._computedSliderPosition},e.prototype.getDesiredScrollPositionFromOffset=function(e){if(!this._computedIsNeeded)return 0;var t=e-this._arrowSize-this._computedSliderSize/2;return Math.round(t/this._computedSliderRatio)},e.prototype.getDesiredScrollPositionFromDelta=function(e){if(!this._computedIsNeeded)return 0;var t=this._computedSliderPosition+e;return Math.round(t/this._computedSliderRatio)},e}(),_=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),S=function(e){function t(t,n,i){var o=e.call(this,{lazyRender:n.lazyRender,host:i,scrollbarState:new w(n.horizontalHasArrows?n.arrowSize:0,n.horizontal===m.b.Hidden?0:n.horizontalScrollbarSize,n.vertical===m.b.Hidden?0:n.verticalScrollbarSize),visibility:n.horizontal,extraScrollbarClassName:"horizontal",scrollable:t})||this;if(n.horizontalHasArrows){var r=(n.arrowSize-h)/2,s=(n.horizontalScrollbarSize-h)/2;o._createArrow({className:"left-arrow",top:s,left:r,bottom:void 0,right:void 0,bgWidth:n.arrowSize,bgHeight:n.horizontalScrollbarSize,onActivate:function(){return o._host.onMouseWheel(new a.c(null,1,0))}}),o._createArrow({className:"right-arrow",top:s,left:void 0,bottom:void 0,right:r,bgWidth:n.arrowSize,bgHeight:n.horizontalScrollbarSize,onActivate:function(){return o._host.onMouseWheel(new a.c(null,-1,0))}})}return o._createSlider(Math.floor((n.horizontalScrollbarSize-n.horizontalSliderSize)/2),0,null,n.horizontalSliderSize),o}return _(t,e),t.prototype._updateSlider=function(e,t){this.slider.setWidth(e),this.slider.setLeft(t)},t.prototype._renderDomNode=function(e,t){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setLeft(0),this.domNode.setBottom(0)},t.prototype.onDidScroll=function(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender},t.prototype._mouseDownRelativePosition=function(e,t){return e},t.prototype._sliderMousePosition=function(e){return e.posx},t.prototype._sliderOrthogonalMousePosition=function(e){return e.posy},t.prototype.writeScrollPosition=function(e,t){e.scrollLeft=t},t}(v),C=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),x=function(e){function t(t,n,i){var o=e.call(this,{lazyRender:n.lazyRender,host:i,scrollbarState:new w(n.verticalHasArrows?n.arrowSize:0,n.vertical===m.b.Hidden?0:n.verticalScrollbarSize,0),visibility:n.vertical,extraScrollbarClassName:"vertical",scrollable:t})||this;if(n.verticalHasArrows){var r=(n.arrowSize-h)/2,s=(n.verticalScrollbarSize-h)/2;o._createArrow({className:"up-arrow",top:r,left:s,bottom:void 0,right:void 0,bgWidth:n.verticalScrollbarSize,bgHeight:n.arrowSize,onActivate:function(){return o._host.onMouseWheel(new a.c(null,0,1))}}),o._createArrow({className:"down-arrow",top:void 0,left:s,bottom:r,right:void 0,bgWidth:n.verticalScrollbarSize,bgHeight:n.arrowSize,onActivate:function(){return o._host.onMouseWheel(new a.c(null,0,-1))}})}return o._createSlider(0,Math.floor((n.verticalScrollbarSize-n.verticalSliderSize)/2),n.verticalSliderSize,null),o}return C(t,e),t.prototype._updateSlider=function(e,t){this.slider.setHeight(e),this.slider.setTop(t)},t.prototype._renderDomNode=function(e,t){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setRight(0),this.domNode.setTop(0)},t.prototype.onDidScroll=function(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender},t.prototype._mouseDownRelativePosition=function(e,t){return t},t.prototype._sliderMousePosition=function(e){return e.posy},t.prototype._sliderOrthogonalMousePosition=function(e){return e.posx},t.prototype.writeScrollPosition=function(e,t){e.scrollTop=t},t}(v),k=n(5);n.d(t,"b",function(){return I}),n.d(t,"c",function(){return E}),n.d(t,"a",function(){return D});var T=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),O=function(){return function(e,t,n){this.timestamp=e,this.deltaX=t,this.deltaY=n,this.score=0}}(),N=function(){function e(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}return e.prototype.isPhysicalMouseWheel=function(){if(-1===this._front&&-1===this._rear)return!1;for(var e=1,t=0,n=1,i=this._rear;;){var o=i===this._front?e:Math.pow(2,-n);if(e-=o,t+=this._memory[i].score*o,i===this._front)break;i=(this._capacity+i-1)%this._capacity,n++}return t<=.5},e.prototype.accept=function(e,t,n){var i=new O(e,t,n);i.score=this._computeScore(i),-1===this._front&&-1===this._rear?(this._memory[0]=i,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=i)},e.prototype._computeScore=function(e){if(Math.abs(e.deltaX)>0&&Math.abs(e.deltaY)>0)return 1;var t=.5;-1===this._front&&-1===this._rear||this._memory[this._rear];return(Math.abs(e.deltaX-Math.round(e.deltaX))>0||Math.abs(e.deltaY-Math.round(e.deltaY))>0)&&(t+=.25),Math.min(Math.max(t,0),1)},e.INSTANCE=new e,e}(),L=function(e){function t(t,n,i){var o=e.call(this)||this;o._onScroll=o._register(new k.a),o.onScroll=o._onScroll.event,t.style.overflow="hidden",o._options=A(n),o._scrollable=i,o._register(o._scrollable.onScroll(function(e){o._onDidScroll(e),o._onScroll.fire(e)}));var r={onMouseWheel:function(e){return o._onMouseWheel(e)},onDragStart:function(){return o._onDragStart()},onDragEnd:function(){return o._onDragEnd()}};return o._verticalScrollbar=o._register(new x(o._scrollable,o._options,r)),o._horizontalScrollbar=o._register(new S(o._scrollable,o._options,r)),o._domNode=document.createElement("div"),o._domNode.className="monaco-scrollable-element "+o._options.className,o._domNode.setAttribute("role","presentation"),o._domNode.style.position="relative",o._domNode.style.overflow="hidden",o._domNode.appendChild(t),o._domNode.appendChild(o._horizontalScrollbar.domNode.domNode),o._domNode.appendChild(o._verticalScrollbar.domNode.domNode),o._options.useShadows&&(o._leftShadowDomNode=Object(c.b)(document.createElement("div")),o._leftShadowDomNode.setClassName("shadow"),o._domNode.appendChild(o._leftShadowDomNode.domNode),o._topShadowDomNode=Object(c.b)(document.createElement("div")),o._topShadowDomNode.setClassName("shadow"),o._domNode.appendChild(o._topShadowDomNode.domNode),o._topLeftShadowDomNode=Object(c.b)(document.createElement("div")),o._topLeftShadowDomNode.setClassName("shadow top-left-corner"),o._domNode.appendChild(o._topLeftShadowDomNode.domNode)),o._listenOnDomNode=o._options.listenOnDomNode||o._domNode,o._mouseWheelToDispose=[],o._setListeningToMouseWheel(o._options.handleMouseWheel),o.onmouseover(o._listenOnDomNode,function(e){return o._onMouseOver(e)}),o.onnonbubblingmouseout(o._listenOnDomNode,function(e){return o._onMouseOut(e)}),o._hideTimeout=o._register(new u.f),o._isDragging=!1,o._mouseIsOver=!1,o._shouldRender=!0,o._revealOnScroll=!0,o}return T(t,e),t.prototype.dispose=function(){this._mouseWheelToDispose=Object(p.d)(this._mouseWheelToDispose),e.prototype.dispose.call(this)},t.prototype.getDomNode=function(){return this._domNode},t.prototype.getOverviewRulerLayoutInfo=function(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}},t.prototype.delegateVerticalScrollbarMouseDown=function(e){this._verticalScrollbar.delegateMouseDown(e)},t.prototype.getScrollDimensions=function(){return this._scrollable.getScrollDimensions()},t.prototype.setScrollDimensions=function(e){this._scrollable.setScrollDimensions(e)},t.prototype.updateClassName=function(e){this._options.className=e,r.d&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className},t.prototype.updateOptions=function(e){var t=A(e);this._options.handleMouseWheel=t.handleMouseWheel,this._options.mouseWheelScrollSensitivity=t.mouseWheelScrollSensitivity,this._setListeningToMouseWheel(this._options.handleMouseWheel),this._options.lazyRender||this._render()},t.prototype._setListeningToMouseWheel=function(e){var t=this;if(this._mouseWheelToDispose.length>0!==e&&(this._mouseWheelToDispose=Object(p.d)(this._mouseWheelToDispose),e)){var n=function(e){var n=new a.c(e);t._onMouseWheel(n)};this._mouseWheelToDispose.push(o.g(this._listenOnDomNode,"mousewheel",n)),this._mouseWheelToDispose.push(o.g(this._listenOnDomNode,"DOMMouseScroll",n))}},t.prototype._onMouseWheel=function(e){var t,n=N.INSTANCE;if(n.accept(Date.now(),e.deltaX,e.deltaY),e.deltaY||e.deltaX){var i=e.deltaY*this._options.mouseWheelScrollSensitivity,o=e.deltaX*this._options.mouseWheelScrollSensitivity;this._options.flipAxes&&(i=(t=[o,i])[0],o=t[1]);var a=!r.d&&e.browserEvent&&e.browserEvent.shiftKey;!this._options.scrollYToX&&!a||o||(o=i,i=0);var s=this._scrollable.getFutureScrollPosition(),l={};if(i){var c=s.scrollTop-50*i;this._verticalScrollbar.writeScrollPosition(l,c)}if(o){var u=s.scrollLeft-50*o;this._horizontalScrollbar.writeScrollPosition(l,u)}if(l=this._scrollable.validateScrollPosition(l),s.scrollLeft!==l.scrollLeft||s.scrollTop!==l.scrollTop)this._options.mouseWheelSmoothScroll&&n.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(l):this._scrollable.setScrollPositionNow(l),this._shouldRender=!0}(this._options.alwaysConsumeMouseWheel||this._shouldRender)&&(e.preventDefault(),e.stopPropagation())},t.prototype._onDidScroll=function(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()},t.prototype.renderNow=function(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()},t.prototype._render=function(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){var e=this._scrollable.getCurrentScrollPosition(),t=e.scrollTop>0,n=e.scrollLeft>0;this._leftShadowDomNode.setClassName("shadow"+(n?" left":"")),this._topShadowDomNode.setClassName("shadow"+(t?" top":"")),this._topLeftShadowDomNode.setClassName("shadow top-left-corner"+(t?" top":"")+(n?" left":""))}},t.prototype._onDragStart=function(){this._isDragging=!0,this._reveal()},t.prototype._onDragEnd=function(){this._isDragging=!1,this._hide()},t.prototype._onMouseOut=function(e){this._mouseIsOver=!1,this._hide()},t.prototype._onMouseOver=function(e){this._mouseIsOver=!0,this._reveal()},t.prototype._reveal=function(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()},t.prototype._hide=function(){this._mouseIsOver||this._isDragging||(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())},t.prototype._scheduleHide=function(){var e=this;this._mouseIsOver||this._isDragging||this._hideTimeout.cancelAndSet(function(){return e._hide()},500)},t}(l.a),I=function(e){function t(t,n){var i=this;(n=n||{}).mouseWheelSmoothScroll=!1;var r=new m.a(0,function(e){return o.L(e)});return(i=e.call(this,t,n,r)||this)._register(r),i}return T(t,e),t.prototype.setScrollPosition=function(e){this._scrollable.setScrollPositionNow(e)},t.prototype.getScrollPosition=function(){return this._scrollable.getCurrentScrollPosition()},t}(L),E=function(e){function t(t,n,i){return e.call(this,t,n,i)||this}return T(t,e),t}(L),D=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i._element=t,i.onScroll(function(e){e.scrollTopChanged&&(i._element.scrollTop=e.scrollTop),e.scrollLeftChanged&&(i._element.scrollLeft=e.scrollLeft)}),i.scanDomNode(),i}return T(t,e),t.prototype.scanDomNode=function(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})},t}(I);function A(e){var t={lazyRender:"undefined"!==typeof e.lazyRender&&e.lazyRender,className:"undefined"!==typeof e.className?e.className:"",useShadows:"undefined"===typeof e.useShadows||e.useShadows,handleMouseWheel:"undefined"===typeof e.handleMouseWheel||e.handleMouseWheel,flipAxes:"undefined"!==typeof e.flipAxes&&e.flipAxes,alwaysConsumeMouseWheel:"undefined"!==typeof e.alwaysConsumeMouseWheel&&e.alwaysConsumeMouseWheel,scrollYToX:"undefined"!==typeof e.scrollYToX&&e.scrollYToX,mouseWheelScrollSensitivity:"undefined"!==typeof e.mouseWheelScrollSensitivity?e.mouseWheelScrollSensitivity:1,mouseWheelSmoothScroll:"undefined"===typeof e.mouseWheelSmoothScroll||e.mouseWheelSmoothScroll,arrowSize:"undefined"!==typeof e.arrowSize?e.arrowSize:11,listenOnDomNode:"undefined"!==typeof e.listenOnDomNode?e.listenOnDomNode:null,horizontal:"undefined"!==typeof e.horizontal?e.horizontal:m.b.Auto,horizontalScrollbarSize:"undefined"!==typeof e.horizontalScrollbarSize?e.horizontalScrollbarSize:10,horizontalSliderSize:"undefined"!==typeof e.horizontalSliderSize?e.horizontalSliderSize:0,horizontalHasArrows:"undefined"!==typeof e.horizontalHasArrows&&e.horizontalHasArrows,vertical:"undefined"!==typeof e.vertical?e.vertical:m.b.Auto,verticalScrollbarSize:"undefined"!==typeof e.verticalScrollbarSize?e.verticalScrollbarSize:10,verticalHasArrows:"undefined"!==typeof e.verticalHasArrows&&e.verticalHasArrows,verticalSliderSize:"undefined"!==typeof e.verticalSliderSize?e.verticalSliderSize:0};return t.horizontalSliderSize="undefined"!==typeof e.horizontalSliderSize?e.horizontalSliderSize:t.horizontalScrollbarSize,t.verticalSliderSize="undefined"!==typeof e.verticalSliderSize?e.verticalSliderSize:t.verticalScrollbarSize,r.d&&(t.className+=" mac"),t}},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a});var i=n(11),o=n(25),r=Object(o.c)("openerService"),a=Object.freeze({_serviceBrand:void 0,open:function(){return i.b.as(void 0)}})},function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return r});var i=n(25),o=Object(i.c)("contextViewService"),r=Object(i.c)("contextMenuService")},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n(42),o=n(18),r=n(40),a=n(60),s=new(function(){function e(){this._keybindings=[],this._keybindingsSorted=!0}return e.bindToCurrentPlatform=function(e){if(1===o.a){if(e&&e.win)return e.win}else if(2===o.a){if(e&&e.mac)return e.mac}else if(e&&e.linux)return e.linux;return e},e.prototype.registerKeybindingRule=function(t,n){void 0===n&&(n=0);var r=e.bindToCurrentPlatform(t);if(r&&r.primary&&this._registerDefaultKeybinding(Object(i.f)(r.primary,o.a),t.id,t.weight,0,t.when,n),r&&Array.isArray(r.secondary))for(var a=0,s=r.secondary.length;a<s;a++){var l=r.secondary[a];this._registerDefaultKeybinding(Object(i.f)(l,o.a),t.id,t.weight,-a-1,t.when,n)}},e.prototype.registerCommandAndKeybindingRule=function(e,t){void 0===t&&(t=0),this.registerKeybindingRule(e,t),r.a.registerCommand(e)},e._mightProduceChar=function(e){return e>=21&&e<=30||(e>=31&&e<=56||(80===e||81===e||82===e||83===e||84===e||85===e||86===e||110===e||111===e||87===e||88===e||89===e||90===e||91===e||92===e))},e.prototype._assertNoCtrlAlt=function(t,n){t.ctrlKey&&t.altKey&&!t.metaKey&&e._mightProduceChar(t.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",t," for ",n)},e.prototype._registerDefaultKeybinding=function(e,t,n,i,r,a){0===a&&1===o.a&&(2===e.type?this._assertNoCtrlAlt(e.firstPart,t):this._assertNoCtrlAlt(e,t)),this._keybindings.push({keybinding:e,command:t,commandArgs:void 0,when:r,weight1:n,weight2:i}),this._keybindingsSorted=!1},e.prototype.getDefaultKeybindings=function(){return this._keybindingsSorted||(this._keybindings.sort(l),this._keybindingsSorted=!0),this._keybindings.slice(0)},e}());function l(e,t){return e.weight1!==t.weight1?e.weight1-t.weight1:e.command<t.command?-1:e.command>t.command?1:e.weight2-t.weight2}a.a.add("platform.keybindingsRegistry",s)},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return r});var i=function(){function e(e,t,n){this.offset=0|e,this.type=t,this.language=n}return e.prototype.toString=function(){return"("+this.offset+", "+this.type+")"},e}(),o=function(){return function(e,t){this.tokens=e,this.endState=t}}(),r=function(){return function(e,t){this.tokens=e,this.endState=t}}()},function(e,t,n){"use strict";function i(e,t){for(var n=e.getCount(),i=e.findTokenIndexAtOffset(t),r=e.getLanguageId(i),a=i;a+1<n&&e.getLanguageId(a+1)===r;)a++;for(var s=i;s>0&&e.getLanguageId(s-1)===r;)s--;return new o(e,r,s,a+1,e.getStartOffset(s),e.getEndOffset(a))}n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r});var o=function(){function e(e,t,n,i,o,r){this._actual=e,this.languageId=t,this._firstTokenIndex=n,this._lastTokenIndex=i,this.firstCharOffset=o,this._lastCharOffset=r}return e.prototype.getLineContent=function(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)},e.prototype.getTokenCount=function(){return this._lastTokenIndex-this._firstTokenIndex},e.prototype.findTokenIndexAtOffset=function(e){return this._actual.findTokenIndexAtOffset(e+this.firstCharOffset)-this._firstTokenIndex},e.prototype.getStandardTokenType=function(e){return this._actual.getStandardTokenType(e+this._firstTokenIndex)},e}();function r(e){return 0!==(7&e)}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n(12),o=function(){function e(e,t){this._tokens=e,this._tokensCount=this._tokens.length>>>1,this._text=t}return e.prototype.equals=function(t){return t instanceof e&&this.slicedEquals(t,0,this._tokensCount)},e.prototype.slicedEquals=function(e,t,n){if(this._text!==e._text)return!1;if(this._tokensCount!==e._tokensCount)return!1;for(var i=t<<1,o=i+(n<<1),r=i;r<o;r++)if(this._tokens[r]!==e._tokens[r])return!1;return!0},e.prototype.getLineContent=function(){return this._text},e.prototype.getCount=function(){return this._tokensCount},e.prototype.getStartOffset=function(e){return e>0?this._tokens[e-1<<1]:0},e.prototype.getLanguageId=function(e){var t=this._tokens[1+(e<<1)];return i.x.getLanguageId(t)},e.prototype.getStandardTokenType=function(e){var t=this._tokens[1+(e<<1)];return i.x.getTokenType(t)},e.prototype.getForeground=function(e){var t=this._tokens[1+(e<<1)];return i.x.getForeground(t)},e.prototype.getClassName=function(e){var t=this._tokens[1+(e<<1)];return i.x.getClassNameFromMetadata(t)},e.prototype.getInlineStyle=function(e,t){var n=this._tokens[1+(e<<1)];return i.x.getInlineStyleFromMetadata(n,t)},e.prototype.getEndOffset=function(e){return this._tokens[e<<1]},e.prototype.findTokenIndexAtOffset=function(t){return e.findIndexInTokensArray(this._tokens,t)},e.prototype.inflate=function(){return this},e.prototype.sliceAndInflate=function(e,t,n){return new r(this,e,t,n)},e.convertToEndOffset=function(e,t){for(var n=(e.length>>>1)-1,i=0;i<n;i++)e[i<<1]=e[i+1<<1];e[n<<1]=t},e.findIndexInTokensArray=function(e,t){if(e.length<=2)return 0;for(var n=0,i=(e.length>>>1)-1;n<i;){var o=n+Math.floor((i-n)/2),r=e[o<<1];if(r===t)return o+1;r<t?n=o+1:r>t&&(i=o)}return n},e}(),r=function(){function e(e,t,n,i){this._source=e,this._startOffset=t,this._endOffset=n,this._deltaOffset=i,this._firstTokenIndex=e.findTokenIndexAtOffset(t),this._tokensCount=0;for(var o=this._firstTokenIndex,r=e.getCount();o<r;o++){if(e.getStartOffset(o)>=n)break;this._tokensCount++}}return e.prototype.equals=function(t){return t instanceof e&&(this._startOffset===t._startOffset&&this._endOffset===t._endOffset&&this._deltaOffset===t._deltaOffset&&this._source.slicedEquals(t._source,this._firstTokenIndex,this._tokensCount))},e.prototype.getCount=function(){return this._tokensCount},e.prototype.getForeground=function(e){return this._source.getForeground(this._firstTokenIndex+e)},e.prototype.getEndOffset=function(e){var t=this._source.getEndOffset(this._firstTokenIndex+e);return Math.min(this._endOffset,t)-this._startOffset+this._deltaOffset},e.prototype.getClassName=function(e){return this._source.getClassName(this._firstTokenIndex+e)},e.prototype.getInlineStyle=function(e,t){return this._source.getInlineStyle(this._firstTokenIndex+e,t)},e.prototype.findTokenIndexAtOffset=function(e){return this._source.findTokenIndexAtOffset(e+this._startOffset-this._deltaOffset)-this._firstTokenIndex},e}()},function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return l});var i=n(2),o=n(10),r=n(21),a=n(9),s=function(){function e(e,t,n,i,o){this.value=e,this.selectionStart=t,this.selectionEnd=n,this.selectionStartPosition=i,this.selectionEndPosition=o}return e.prototype.toString=function(){return"[ <"+this.value+">, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+"]"},e.readFromTextArea=function(t){return new e(t.getValue(),t.getSelectionStart(),t.getSelectionEnd(),null,null)},e.prototype.collapseSelection=function(){return new e(this.value,this.value.length,this.value.length,null,null)},e.prototype.writeToTextArea=function(e,t,n){t.setValue(e,this.value),n&&t.setSelectionRange(e,this.selectionStart,this.selectionEnd)},e.prototype.deduceEditorPosition=function(e){if(e<=this.selectionStart){var t=this.value.substring(e,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,t,-1)}if(e>=this.selectionEnd){t=this.value.substring(this.selectionEnd,e);return this._finishDeduceEditorPosition(this.selectionEndPosition,t,1)}var n=this.value.substring(this.selectionStart,e);if(-1===n.indexOf(String.fromCharCode(8230)))return this._finishDeduceEditorPosition(this.selectionStartPosition,n,1);var i=this.value.substring(e,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,i,-1)},e.prototype._finishDeduceEditorPosition=function(e,t,n){for(var i=0,o=-1;-1!==(o=t.indexOf("\n",o+1));)i++;return[e,n*t.length,i]},e.selectedText=function(t){return new e(t,0,t.length,null,null)},e.deduceInput=function(e,t,n,i){if(!e)return{text:"",replaceCharCnt:0};var o=e.value,r=e.selectionStart,s=e.selectionEnd,l=t.value,c=t.selectionStart,u=t.selectionEnd;i&&o.length>0&&r===s&&c===u&&!a.startsWith(l,o)&&a.endsWith(l,o)&&(r=0,s=0);var d=o.substring(s),h=l.substring(u),f=a.commonSuffixLength(d,h);l=l.substring(0,l.length-f);var p=(o=o.substring(0,o.length-f)).substring(0,r),m=l.substring(0,c),g=a.commonPrefixLength(p,m);if(l=l.substring(g),o=o.substring(g),c-=g,r-=g,u-=g,s-=g,n&&c===u&&o.length>0){var b=null;if(c===l.length?a.startsWith(l,o)&&(b=l.substring(o.length)):a.endsWith(l,o)&&(b=l.substring(0,l.length-o.length)),null!==b&&b.length>0&&(/\uFE0F/.test(b)||a.containsEmoji(b)))return{text:b,replaceCharCnt:0}}return c===u?o===l&&0===r&&s===o.length&&c===l.length&&-1===l.indexOf("\n")&&a.containsFullWidthCharacter(l)?{text:"",replaceCharCnt:0}:{text:l,replaceCharCnt:p.length-g}:{text:l,replaceCharCnt:s-r}},e.EMPTY=new e("",0,0,null,null),e}(),l=function(){function e(){}return e._getPageOfLine=function(t){return Math.floor((t-1)/e._LINES_PER_PAGE)},e._getRangeForPage=function(t){var n=t*e._LINES_PER_PAGE,o=n+1,r=n+e._LINES_PER_PAGE;return new i.a(o,1,r+1,1)},e.fromEditorSelection=function(t,n,a,l){var c=e._getPageOfLine(a.startLineNumber),u=e._getRangeForPage(c),d=e._getPageOfLine(a.endLineNumber),h=e._getRangeForPage(d),f=u.intersectRanges(new i.a(1,1,a.startLineNumber,a.startColumn)),p=n.getValueInRange(f,r.c.LF),m=n.getLineCount(),g=n.getLineMaxColumn(m),b=h.intersectRanges(new i.a(a.endLineNumber,a.endColumn,m,g)),y=n.getValueInRange(b,r.c.LF),v=null;if(c===d||c+1===d)v=n.getValueInRange(a,r.c.LF);else{var w=u.intersectRanges(a),_=h.intersectRanges(a);v=n.getValueInRange(w,r.c.LF)+String.fromCharCode(8230)+n.getValueInRange(_,r.c.LF)}if(l){p.length>500&&(p=p.substring(p.length-500,p.length)),y.length>500&&(y=y.substring(0,500)),v.length>1e3&&(v=v.substring(0,500)+String.fromCharCode(8230)+v.substring(v.length-500,v.length))}return new s(p+v+y,p.length,p.length+v.length,new o.a(a.startLineNumber,a.startColumn),new o.a(a.endLineNumber,a.endColumn))},e._LINES_PER_PAGE=10,e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n(25),o=Object(i.c)("modeService")},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r});var i=n(9),o=function(){function e(e,t){if(this.flags=t,0!==(1&this.flags)){var n=e.getModel();this.modelVersionId=n?i.format("{0}#{1}",n.uri.toString(),n.getVersionId()):null}0!==(4&this.flags)&&(this.position=e.getPosition()),0!==(2&this.flags)&&(this.selection=e.getSelection()),0!==(8&this.flags)&&(this.scrollLeft=e.getScrollLeft(),this.scrollTop=e.getScrollTop())}return e.prototype._equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.modelVersionId===n.modelVersionId&&(this.scrollLeft===n.scrollLeft&&this.scrollTop===n.scrollTop&&(!(!this.position&&n.position||this.position&&!n.position||this.position&&n.position&&!this.position.equals(n.position))&&!(!this.selection&&n.selection||this.selection&&!n.selection||this.selection&&n.selection&&!this.selection.equalsRange(n.selection))))},e.prototype.validate=function(t){return this._equals(new e(t,this.flags))},e}(),r=function(){function e(e,t){this._visiblePosition=e,this._visiblePositionScrollDelta=t}return e.capture=function(t){var n=null,i=0;if(0!==t.getScrollTop()){var o=t.getVisibleRanges();if(o.length>0){n=o[0].getStartPosition();var r=t.getTopForPosition(n.lineNumber,n.column);i=t.getScrollTop()-r}}return new e(n,i)},e.prototype.restore=function(e){if(this._visiblePosition){var t=e.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);e.setScrollTop(t+this._visiblePositionScrollDelta)}},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n(25),o=Object(i.c)("editorWorkerService")},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"d",function(){return o}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return a});var i=function(){function e(e,t,n){for(var i=new Uint8Array(e*t),o=0,r=e*t;o<r;o++)i[o]=n;this._data=i,this.rows=e,this.cols=t}return e.prototype.get=function(e,t){return this._data[e*this.cols+t]},e.prototype.set=function(e,t,n){this._data[e*this.cols+t]=n},e}();function o(e){return e<0?0:e>255?255:0|e}function r(e){return e<0?0:e>4294967295?4294967295:0|e}function a(e){for(var t=e.length,n=new Uint32Array(t),i=0;i<t;i++)n[i]=r(e[i]);return n}},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return m});n(339);var i,o,r=n(7),a=n(28),s=n(18),l=n(24),c=n(68),u=n(44),d=n(5),h=n(1),f=n(53),p=!1;!function(e){e[e.VERTICAL=0]="VERTICAL",e[e.HORIZONTAL=1]="HORIZONTAL"}(i||(i={})),function(e){e[e.Disabled=0]="Disabled",e[e.Minimum=1]="Minimum",e[e.Maximum=2]="Maximum",e[e.Enabled=3]="Enabled"}(o||(o={}));var m=function(){function e(e,t,n){void 0===n&&(n={}),this.disposables=[],this._state=o.Enabled,this._onDidEnablementChange=new d.a,this.onDidEnablementChange=this._onDidEnablementChange.event,this._onDidStart=new d.a,this.onDidStart=this._onDidStart.event,this._onDidChange=new d.a,this.onDidChange=this._onDidChange.event,this._onDidReset=new d.a,this.onDidReset=this._onDidReset.event,this._onDidEnd=new d.a,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.orthogonalStartSashDisposables=[],this.orthogonalEndSashDisposables=[],this.el=Object(h.k)(e,Object(h.a)(".monaco-sash")),s.d&&Object(h.f)(this.el,"mac"),Object(f.a)(this.el,"mousedown")(this.onMouseDown,this,this.disposables),Object(f.a)(this.el,"dblclick")(this.onMouseDoubleClick,this,this.disposables),c.b.addTarget(this.el),Object(f.a)(this.el,c.a.Start)(this.onTouchStart,this,this.disposables),a.l&&Object(h.f)(this.el,"touch"),this.setOrientation(n.orientation||i.VERTICAL),this.hidden=!1,this.layoutProvider=t,this.orthogonalStartSash=n.orthogonalStartSash,this.orthogonalEndSash=n.orthogonalEndSash,Object(h.N)(this.el,"debug",p)}return Object.defineProperty(e.prototype,"state",{get:function(){return this._state},set:function(e){this._state!==e&&(Object(h.N)(this.el,"disabled",e===o.Disabled),Object(h.N)(this.el,"minimum",e===o.Minimum),Object(h.N)(this.el,"maximum",e===o.Maximum),this._state=e,this._onDidEnablementChange.fire(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orthogonalStartSash",{get:function(){return this._orthogonalStartSash},set:function(e){this.orthogonalStartSashDisposables=Object(r.d)(this.orthogonalStartSashDisposables),e?(e.onDidEnablementChange(this.onOrthogonalStartSashEnablementChange,this,this.orthogonalStartSashDisposables),this.onOrthogonalStartSashEnablementChange(e.state)):this.onOrthogonalStartSashEnablementChange(o.Disabled),this._orthogonalStartSash=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orthogonalEndSash",{get:function(){return this._orthogonalEndSash},set:function(e){this.orthogonalEndSashDisposables=Object(r.d)(this.orthogonalEndSashDisposables),e?(e.onDidEnablementChange(this.onOrthogonalEndSashEnablementChange,this,this.orthogonalEndSashDisposables),this.onOrthogonalEndSashEnablementChange(e.state)):this.onOrthogonalEndSashEnablementChange(o.Disabled),this._orthogonalEndSash=e},enumerable:!0,configurable:!0}),e.prototype.setOrientation=function(e){this.orientation=e,this.orientation===i.HORIZONTAL?(Object(h.f)(this.el,"horizontal"),Object(h.G)(this.el,"vertical")):(Object(h.G)(this.el,"horizontal"),Object(h.f)(this.el,"vertical")),this.layoutProvider&&this.layout()},e.prototype.onMouseDown=function(e){var t=this;h.c.stop(e,!1);var n=!1;if(this.linkedSash&&!e.__linkedSashEvent&&(e.__linkedSashEvent=!0,this.linkedSash.onMouseDown(e)),!e.__orthogonalSashEvent){var a=void 0;this.orientation===i.VERTICAL?e.offsetY<=4?a=this.orthogonalStartSash:e.offsetY>=this.el.clientHeight-4&&(a=this.orthogonalEndSash):e.offsetX<=4?a=this.orthogonalStartSash:e.offsetX>=this.el.clientWidth-4&&(a=this.orthogonalEndSash),a&&(n=!0,e.__orthogonalSashEvent=!0,a.onMouseDown(e))}if(this.state){for(var l=0,c=Object(h.v)("iframe");l<c.length;l++){c[l].style.pointerEvents="none"}var d=new u.b(e),p=d.posx,m=d.posy,g=d.altKey,b={startX:p,currentX:p,startY:m,currentY:m,altKey:g};Object(h.f)(this.el,"active"),this._onDidStart.fire(b);var y=Object(h.o)(this.el),v=function(){var e="";e=n?"all-scroll":t.orientation===i.HORIZONTAL?t.state===o.Minimum?"s-resize":t.state===o.Maximum?"n-resize":s.d?"row-resize":"ns-resize":t.state===o.Minimum?"e-resize":t.state===o.Maximum?"w-resize":s.d?"col-resize":"ew-resize",y.innerHTML="* { cursor: "+e+" !important; }"},w=[];v(),n||this.onDidEnablementChange(v,null,w);Object(f.a)(window,"mousemove")(function(e){h.c.stop(e,!1);var n=new u.b(e),i={startX:p,currentX:n.posx,startY:m,currentY:n.posy,altKey:g};t._onDidChange.fire(i)},null,w),Object(f.a)(window,"mouseup")(function(e){h.c.stop(e,!1),t.el.removeChild(y),Object(h.G)(t.el,"active"),t._onDidEnd.fire(),Object(r.d)(w);for(var n=0,i=Object(h.v)("iframe");n<i.length;n++)i[n].style.pointerEvents="auto"},null,w)}},e.prototype.onMouseDoubleClick=function(e){this._onDidReset.fire()},e.prototype.onTouchStart=function(e){var t=this;h.c.stop(e);var n=[],i=e.pageX,o=e.pageY,a=e.altKey;this._onDidStart.fire({startX:i,currentX:i,startY:o,currentY:o,altKey:a}),n.push(Object(h.g)(this.el,c.a.Change,function(e){l.f(e.pageX)&&l.f(e.pageY)&&t._onDidChange.fire({startX:i,currentX:e.pageX,startY:o,currentY:e.pageY,altKey:a})})),n.push(Object(h.g)(this.el,c.a.End,function(e){t._onDidEnd.fire(),Object(r.d)(n)}))},e.prototype.layout=function(){var e=a.l?20:4;if(this.orientation===i.VERTICAL){var t=this.layoutProvider;this.el.style.left=t.getVerticalSashLeft(this)-e/2+"px",t.getVerticalSashTop&&(this.el.style.top=t.getVerticalSashTop(this)+"px"),t.getVerticalSashHeight&&(this.el.style.height=t.getVerticalSashHeight(this)+"px")}else{var n=this.layoutProvider;this.el.style.top=n.getHorizontalSashTop(this)-e/2+"px",n.getHorizontalSashLeft&&(this.el.style.left=n.getHorizontalSashLeft(this)+"px"),n.getHorizontalSashWidth&&(this.el.style.width=n.getHorizontalSashWidth(this)+"px")}},e.prototype.hide=function(){this.hidden=!0,this.el.style.display="none",this.el.setAttribute("aria-hidden","true")},e.prototype.onOrthogonalStartSashEnablementChange=function(e){Object(h.N)(this.el,"orthogonal-start",e!==o.Disabled)},e.prototype.onOrthogonalEndSashEnablementChange=function(e){Object(h.N)(this.el,"orthogonal-end",e!==o.Disabled)},e.prototype.dispose=function(){this.orthogonalStartSashDisposables=Object(r.d)(this.orthogonalStartSashDisposables),this.orthogonalEndSashDisposables=Object(r.d)(this.orthogonalEndSashDisposables),this.el&&this.el.parentElement&&this.el.parentElement.removeChild(this.el),this.el=null,this.disposables=Object(r.d)(this.disposables)},e}()},function(e,t,n){"use strict";function i(e,t,n){var i=null,o=null;if("function"===typeof n.value?(i="value",0!==(o=n.value).length&&console.warn("Memoize should only be used in functions with zero parameters")):"function"===typeof n.get&&(i="get",o=n.get),!o)throw new Error("not supported");var r="$memoize$"+t;n[i]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.hasOwnProperty(r)||Object.defineProperty(this,r,{configurable:!1,enumerable:!1,writable:!1,value:o.apply(this,e)}),this[r]}}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";var i=n(15),o=n(46),r=n(23),a=n(2),s=n(9),l=n(121),c=n(35),u=n(47),d=n(26),h=function(){function e(e,t,n){this._range=e,this._charBeforeSelection=t,this._charAfterSelection=n}return e.prototype.getEditOperations=function(e,t){t.addTrackedEditOperation(new a.a(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),t.addTrackedEditOperation(new a.a(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)},e.prototype.computeCursorState=function(e,t){var n=t.getInverseEditOperations(),i=n[0].range,o=n[1].range;return new d.a(i.endLineNumber,i.endColumn,o.endLineNumber,o.endColumn-this._charAfterSelection.length)},e}(),f=n(102);n.d(t,"a",function(){return p});var p=function(){function e(){}return e.indent=function(e,t,n){for(var i=[],o=0,r=n.length;o<r;o++)i[o]=new l.a(n[o],{isUnshift:!1,tabSize:e.tabSize,oneIndent:e.oneIndent,useTabStops:e.useTabStops});return i},e.outdent=function(e,t,n){for(var i=[],o=0,r=n.length;o<r;o++)i[o]=new l.a(n[o],{isUnshift:!0,tabSize:e.tabSize,oneIndent:e.oneIndent,useTabStops:e.useTabStops});return i},e.shiftIndent=function(e,t,n){n=n||1;for(var i=l.a.shiftIndentCount(t,t.length+n,e.tabSize),o="",r=0;r<i;r++)o+="\t";return o},e.unshiftIndent=function(e,t,n){n=n||1;for(var i=l.a.unshiftIndentCount(t,t.length+n,e.tabSize),o="",r=0;r<i;r++)o+="\t";return o},e._distributedPaste=function(e,t,n,i){for(var a=[],s=0,l=n.length;s<l;s++)a[s]=new o.a(n[s],i[s]);return new r.e(0,a,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})},e._simplePaste=function(e,t,n,i,s){for(var l=[],c=0,u=n.length;c<u;c++){var d=n[c],h=d.getPosition();if(s&&i.indexOf("\n")!==i.length-1&&(s=!1),s&&d.startLineNumber!==d.endLineNumber&&(s=!1),s&&d.startColumn===t.getLineMinColumn(d.startLineNumber)&&d.endColumn===t.getLineMaxColumn(d.startLineNumber)&&(s=!1),s){var f=new a.a(h.lineNumber,1,h.lineNumber,1);l[c]=new o.a(f,i)}else l[c]=new o.a(d,i)}return new r.e(0,l,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})},e._distributePasteToCursors=function(e,t,n,i){if(n)return null;if(1===e.length)return null;if(i&&i.length===e.length)return i;10===t.charCodeAt(t.length-1)&&(t=t.substr(0,t.length-1));var o=t.split(/\r\n|\r|\n/);return o.length===e.length?o:null},e.paste=function(e,t,n,i,o,r){var s=this._distributePasteToCursors(n,i,o,r);return s?(n=n.sort(a.a.compareRangesUsingStarts),this._distributedPaste(e,t,n,s)):this._simplePaste(e,t,n,i,o)},e._goodIndentForLine=function(t,n,i){var o,r,l=t.autoIndent?c.a.getInheritIndentForLine(n,i,!1):null;if(l)o=l.action,r=l.indentation;else if(i>1){var d=i-1;for(d=i-1;d>=1;d--){var h=n.getLineContent(d);if(s.lastNonWhitespaceIndex(h)>=0)break}if(d<1)return null;var f=n.getLineMaxColumn(d),p=c.a.getEnterAction(n,new a.a(d,f,d,f));p&&(r=p.indentation,(o=p.enterAction)&&(r+=o.appendText))}return o&&(o===u.a.Indent&&(r=e.shiftIndent(t,r)),o===u.a.Outdent&&(r=e.unshiftIndent(t,r)),r=t.normalizeIndentation(r)),r||null},e._replaceJumpToNextIndent=function(e,t,n,i){var a="",s=n.getStartPosition();if(e.insertSpaces)for(var l=r.a.visibleColumnFromColumn2(e,t,s),c=e.tabSize,u=c-l%c,d=0;d<u;d++)a+=" ";else a="\t";return new o.a(n,a,i)},e.tab=function(e,t,n){for(var i=[],r=0,c=n.length;r<c;r++){var u=n[r];if(u.isEmpty()){var d=t.getLineContent(u.startLineNumber);if(/^\s*$/.test(d)&&t.isCheapToTokenize(u.startLineNumber)){var h=this._goodIndentForLine(e,t,u.startLineNumber);h=h||"\t";var f=e.normalizeIndentation(h);if(!s.startsWith(d,f)){i[r]=new o.a(new a.a(u.startLineNumber,1,u.startLineNumber,d.length+1),f,!0);continue}}i[r]=this._replaceJumpToNextIndent(e,t,u,!0)}else{if(u.startLineNumber===u.endLineNumber){var p=t.getLineMaxColumn(u.startLineNumber);if(1!==u.startColumn||u.endColumn!==p){i[r]=this._replaceJumpToNextIndent(e,t,u,!1);continue}}i[r]=new l.a(u,{isUnshift:!1,tabSize:e.tabSize,oneIndent:e.oneIndent,useTabStops:e.useTabStops})}}return i},e.replacePreviousChar=function(e,t,n,i,s,l){for(var c=[],u=0,d=i.length;u<d;u++){var h=i[u];if(h.isEmpty()){var f=h.getPosition(),p=Math.max(1,f.column-l),m=new a.a(f.lineNumber,p,f.lineNumber,f.column);c[u]=new o.a(m,s)}else c[u]=null}return new r.e(1,c,{shouldPushStackElementBefore:1!==e,shouldPushStackElementAfter:!1})},e._typeCommand=function(e,t,n){return n?new o.d(e,t,!0):new o.a(e,t,!0)},e._enter=function(t,n,i,l){if(!n.isCheapToTokenize(l.getStartPosition().lineNumber)){var d=n.getLineContent(l.startLineNumber),h=s.getLeadingWhitespace(d).substring(0,l.startColumn-1);return e._typeCommand(l,"\n"+t.normalizeIndentation(h),i)}var f=c.a.getEnterAction(n,l);if(f){var p=f.enterAction,m=f.indentation;if(p.indentAction===u.a.None)return e._typeCommand(l,"\n"+t.normalizeIndentation(m+p.appendText),i);if(p.indentAction===u.a.Indent)return e._typeCommand(l,"\n"+t.normalizeIndentation(m+p.appendText),i);if(p.indentAction===u.a.IndentOutdent){var g=t.normalizeIndentation(m),b=t.normalizeIndentation(m+p.appendText),y="\n"+b+"\n"+g;return i?new o.d(l,y,!0):new o.c(l,y,-1,b.length-g.length,!0)}if(p.indentAction===u.a.Outdent){var v=e.unshiftIndent(t,m);return e._typeCommand(l,"\n"+t.normalizeIndentation(v+p.appendText),i)}}if(!t.autoIndent){var w=n.getLineContent(l.startLineNumber),_=s.getLeadingWhitespace(w).substring(0,l.startColumn-1);return e._typeCommand(l,"\n"+t.normalizeIndentation(_),i)}var S=c.a.getIndentForEnter(n,l,{unshiftIndent:function(n){return e.unshiftIndent(t,n)},shiftIndent:function(n){return e.shiftIndent(t,n)},normalizeIndentation:function(e){return t.normalizeIndentation(e)}},t.autoIndent),C=n.getLineContent(l.startLineNumber),x=s.getLeadingWhitespace(C).substring(0,l.startColumn-1);if(S){var k=r.a.visibleColumnFromColumn2(t,n,l.getEndPosition()),T=l.endColumn,O="\n";x!==t.normalizeIndentation(S.beforeEnter)&&(O=t.normalizeIndentation(S.beforeEnter)+C.substring(x.length,l.startColumn-1)+"\n",l=new a.a(l.startLineNumber,1,l.endLineNumber,l.endColumn));var N=n.getLineContent(l.endLineNumber),L=s.firstNonWhitespaceIndex(N);if(l=L>=0?l.setEndPosition(l.endLineNumber,Math.max(l.endColumn,L+1)):l.setEndPosition(l.endLineNumber,n.getLineMaxColumn(l.endLineNumber)),i)return new o.d(l,O+t.normalizeIndentation(S.afterEnter),!0);var I=0;return T<=L+1&&(t.insertSpaces||(k=Math.ceil(k/t.tabSize)),I=Math.min(k+1-t.normalizeIndentation(S.afterEnter).length-1,0)),new o.c(l,O+t.normalizeIndentation(S.afterEnter),0,I,!0)}return e._typeCommand(l,"\n"+t.normalizeIndentation(x),i)},e._isAutoIndentType=function(e,t,n){if(!e.autoIndent)return!1;for(var i=0,o=n.length;i<o;i++)if(!t.isCheapToTokenize(n[i].getEndPosition().lineNumber))return!1;return!0},e._runAutoIndentType=function(t,n,i,o){var r=c.a.getIndentationAtPosition(n,i.startLineNumber,i.startColumn),s=c.a.getIndentActionForType(n,i,o,{shiftIndent:function(n){return e.shiftIndent(t,n)},unshiftIndent:function(n){return e.unshiftIndent(t,n)}});if(null===s)return null;if(s!==t.normalizeIndentation(r)){var l=n.getLineFirstNonWhitespaceColumn(i.startLineNumber);return 0===l?e._typeCommand(new a.a(i.startLineNumber,0,i.endLineNumber,i.endColumn),t.normalizeIndentation(s)+o,!1):e._typeCommand(new a.a(i.startLineNumber,0,i.endLineNumber,i.endColumn),t.normalizeIndentation(s)+n.getLineContent(i.startLineNumber).substring(l-1,i.startColumn-1)+o,!1)}return null},e._isAutoClosingCloseCharType=function(e,t,n,i){if(!e.autoClosingBrackets||!e.autoClosingPairsClose.hasOwnProperty(i))return!1;for(var o=i===e.autoClosingPairsClose[i],r=0,a=n.length;r<a;r++){var s=n[r];if(!s.isEmpty())return!1;var l=s.getPosition(),c=t.getLineContent(l.lineNumber);if(c.charAt(l.column-1)!==i)return!1;if(o){var u=c.substr(0,l.column-1);if(this._countNeedlesInHaystack(u,i)%2===0)return!1}}return!0},e._countNeedlesInHaystack=function(e,t){for(var n=0,i=-1;-1!==(i=e.indexOf(t,i+1));)n++;return n},e._runAutoClosingCloseCharType=function(e,t,n,i,s){for(var l=[],c=0,u=i.length;c<u;c++){var d=i[c].getPosition(),h=new a.a(d.lineNumber,d.column,d.lineNumber,d.column+1);l[c]=new o.a(h,s)}return new r.e(1,l,{shouldPushStackElementBefore:1!==e,shouldPushStackElementAfter:!1})},e._isBeforeClosingBrace=function(e,t,n){var i=e.autoClosingPairsOpen[t]===t,o=!1;for(var r in e.autoClosingPairsClose){var a=e.autoClosingPairsOpen[r]===r;if((i||!a)&&n===r){o=!0;break}}return o},e._isAutoClosingOpenCharType=function(t,n,o,r){if(!t.autoClosingBrackets||!t.autoClosingPairsOpen.hasOwnProperty(r))return!1;for(var a=0,s=o.length;a<s;a++){var l=o[a];if(!l.isEmpty())return!1;var u=l.getPosition(),d=n.getLineContent(u.lineNumber);if(("'"===r||'"'===r)&&u.column>1){var h=Object(f.a)(t.wordSeparators),p=d.charCodeAt(u.column-2);if(0===h.get(p))return!1}var m=d.charAt(u.column-1);if(m)if(!e._isBeforeClosingBrace(t,r,m)&&!/\s/.test(m))return!1;if(!n.isCheapToTokenize(u.lineNumber))return!1;n.forceTokenization(u.lineNumber);var g=n.getLineTokens(u.lineNumber),b=!1;try{b=c.a.shouldAutoClosePair(r,g,u.column)}catch(e){Object(i.e)(e)}if(!b)return!1}return!0},e._runAutoClosingOpenCharType=function(e,t,n,i,a){for(var s=[],l=0,c=i.length;l<c;l++){var u=i[l],d=t.autoClosingPairsOpen[a];s[l]=new o.c(u,a+d,0,-d.length)}return new r.e(1,s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})},e._isSurroundSelectionType=function(e,t,n,i){if(!e.autoClosingBrackets||!e.surroundingPairs.hasOwnProperty(i))return!1;for(var o="'"===i||'"'===i,r=0,a=n.length;r<a;r++){var s=n[r];if(s.isEmpty())return!1;for(var l=!0,c=s.startLineNumber;c<=s.endLineNumber;c++){var u=t.getLineContent(c),d=c===s.startLineNumber?s.startColumn-1:0,h=c===s.endLineNumber?s.endColumn-1:u.length,f=u.substring(d,h);if(/[^ \t]/.test(f)){l=!1;break}}if(l)return!1;if(o&&s.startLineNumber===s.endLineNumber&&s.startColumn+1===s.endColumn){var p=t.getValueInRange(s);if("'"===p||'"'===p)return!1}}return!0},e._runSurroundSelectionType=function(e,t,n,i,o){for(var a=[],s=0,l=i.length;s<l;s++){var c=i[s],u=t.surroundingPairs[o];a[s]=new h(c,o,u)}return new r.e(0,a,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})},e._isTypeInterceptorElectricChar=function(e,t,n){return!(1!==n.length||!t.isCheapToTokenize(n[0].getEndPosition().lineNumber))},e._typeInterceptorElectricChar=function(e,t,n,l,u){if(!t.electricChars.hasOwnProperty(u)||!l.isEmpty())return null;var d=l.getPosition();n.forceTokenization(d.lineNumber);var h,f=n.getLineTokens(d.lineNumber);try{h=c.a.onElectricCharacter(u,f,d.column)}catch(e){Object(i.e)(e)}if(!h)return null;if(h.appendText){var p=new o.c(l,u+h.appendText,0,-h.appendText.length);return new r.e(1,[p],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}if(h.matchOpenBracket){var m=(f.getLineContent()+u).lastIndexOf(h.matchOpenBracket)+1,g=n.findMatchingBracketUp(h.matchOpenBracket,{lineNumber:d.lineNumber,column:m});if(g){if(g.startLineNumber===d.lineNumber)return null;var b=n.getLineContent(g.startLineNumber),y=s.getLeadingWhitespace(b),v=t.normalizeIndentation(y),w=n.getLineContent(d.lineNumber),_=n.getLineFirstNonWhitespaceColumn(d.lineNumber)||d.column,S=v+w.substring(_-1,d.column-1)+u,C=new a.a(d.lineNumber,1,d.lineNumber,d.column);p=new o.a(C,S);return new r.e(1,[p],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null},e.compositionEndWithInterceptors=function(t,n,a,s){if(!n.autoClosingBrackets)return null;for(var l=[],u=0;u<s.length;u++)if(s[u].isEmpty()){var d=s[u].getPosition(),h=a.getLineContent(d.lineNumber),p=h.charAt(d.column-2);if(n.autoClosingPairsClose.hasOwnProperty(p)&&p===n.autoClosingPairsClose[p]){var m=h.substr(0,d.column-2);if(this._countNeedlesInHaystack(m,p)%2===1)continue}if(n.autoClosingPairsOpen.hasOwnProperty(p)){if(("'"===p||'"'===p)&&d.column>2){var g=Object(f.a)(n.wordSeparators),b=h.charCodeAt(d.column-3);if(0===g.get(b))continue}var y=h.charAt(d.column-1);if(y)if(!e._isBeforeClosingBrace(n,p,y)&&!/\s/.test(y))continue;if(!a.isCheapToTokenize(d.lineNumber))continue;a.forceTokenization(d.lineNumber);var v=a.getLineTokens(d.lineNumber),w=!1;try{w=c.a.shouldAutoClosePair(p,v,d.column-1)}catch(e){Object(i.e)(e)}if(w){var _=n.autoClosingPairsOpen[p];l[u]=new o.c(s[u],_,0,-_.length)}}}return new r.e(1,l,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})},e.typeWithInterceptors=function(t,n,i,a,s){if("\n"===s){for(var l=[],c=0,u=a.length;c<u;c++)l[c]=e._enter(n,i,!1,a[c]);return new r.e(1,l,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoIndentType(n,i,a)){var d=[],h=!1;for(c=0,u=a.length;c<u;c++)if(d[c]=this._runAutoIndentType(n,i,a[c],s),!d[c]){h=!0;break}if(!h)return new r.e(1,d,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingCloseCharType(n,i,a,s))return this._runAutoClosingCloseCharType(t,n,i,a,s);if(this._isAutoClosingOpenCharType(n,i,a,s))return this._runAutoClosingOpenCharType(t,n,i,a,s);if(this._isSurroundSelectionType(n,i,a,s))return this._runSurroundSelectionType(t,n,i,a,s);if(this._isTypeInterceptorElectricChar(n,i,a)){var f=this._typeInterceptorElectricChar(t,n,i,a[0],s);if(f)return f}var p=[];for(c=0,u=a.length;c<u;c++)p[c]=new o.a(a[c],s);var m=1!==t;return" "===s&&(m=!0),new r.e(1,p,{shouldPushStackElementBefore:m,shouldPushStackElementAfter:!1})},e.typeWithoutInterceptors=function(e,t,n,i,a){for(var s=[],l=0,c=i.length;l<c;l++)s[l]=new o.a(i[l],a);return new r.e(1,s,{shouldPushStackElementBefore:1!==e,shouldPushStackElementAfter:!1})},e.lineInsertBefore=function(e,t,n){for(var i=[],r=0,s=n.length;r<s;r++){var l=n[r].positionLineNumber;if(1===l)i[r]=new o.d(new a.a(1,1,1,1),"\n");else{l--;var c=t.getLineMaxColumn(l);i[r]=this._enter(e,t,!1,new a.a(l,c,l,c))}}return i},e.lineInsertAfter=function(e,t,n){for(var i=[],o=0,r=n.length;o<r;o++){var s=n[o].positionLineNumber,l=t.getLineMaxColumn(s);i[o]=this._enter(e,t,!1,new a.a(s,l,s,l))}return i},e.lineBreakInsert=function(e,t,n){for(var i=[],o=0,r=n.length;o<r;o++)i[o]=this._enter(e,t,!0,n[o]);return i},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"===typeof e&&i.test(e)};var i=/-webkit-|-moz-|-ms-/;e.exports=t.default},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n(5),o=new(function(){function e(){this._zoomLevel=0,this._onDidChangeZoomLevel=new i.a,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}return e.prototype.getZoomLevel=function(){return this._zoomLevel},e.prototype.setZoomLevel=function(e){e=Math.min(Math.max(-5,e),20),this._zoomLevel!==e&&(this._zoomLevel=e,this._onDidChangeZoomLevel.fire(this._zoomLevel))},e}())},function(e,t,n){"use strict";var i;n.d(t,"a",function(){return i}),function(e){e[e.PREVIEW=0]="PREVIEW",e[e.OPEN=1]="OPEN",e[e.OPEN_IN_BACKGROUND=2]="OPEN_IN_BACKGROUND"}(i||(i={}))},function(e,t,n){"use strict";var i,o=n(0),r=n(9);!function(e){e[e.Ignore=0]="Ignore",e[e.Info=1]="Info",e[e.Warning=2]="Warning",e[e.Error=3]="Error"}(i||(i={})),function(e){var t="error",n="warning",i="warn",a="info",s=Object.create(null);s[e.Error]=o.a("sev.error","Error"),s[e.Warning]=o.a("sev.warning","Warning"),s[e.Info]=o.a("sev.info","Info"),e.fromValue=function(o){return o?r.equalsIgnoreCase(t,o)?e.Error:r.equalsIgnoreCase(n,o)||r.equalsIgnoreCase(i,o)?e.Warning:r.equalsIgnoreCase(a,o)?e.Info:e.Ignore:e.Ignore}}(i||(i={})),t.a=i},function(e,t,n){"use strict";n.d(t,"b",function(){return v}),n.d(t,"a",function(){return w});var i=n(0),o=n(15),r=n(7),a=n(39),s=n(25),l=n(13),c=n(52),u=n(58),d=n(201),h=n(2),f=n(10),p=n(48),m=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},g=function(e,t){return function(n,i){t(n,i,e)}},b=function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function s(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((i=i.apply(e,t||[])).next())})},y=function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},v=new l.f("referenceSearchVisible",!1),w=function(){function e(e,t,n,i,o,r,a,s){this._defaultTreeKeyboardSupport=e,this._editorService=i,this._notificationService=o,this._instantiationService=r,this._storageService=a,this._configurationService=s,this._requestIdPool=0,this._disposables=[],this._ignoreModelChangeEvent=!1,this._editor=t,this._referenceSearchVisible=v.bindTo(n)}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this._referenceSearchVisible.reset(),Object(r.d)(this._disposables),Object(r.d)(this._widget),Object(r.d)(this._model),this._widget=null,this._model=null,this._editor=null},e.prototype.toggleWidget=function(e,t,n){var o,r=this;if(this._widget&&(o=this._widget.position),this.closeWidget(),o&&e.containsPosition(o))return null;this._referenceSearchVisible.set(!0),this._disposables.push(this._editor.onDidChangeModelLanguage(function(){r.closeWidget()})),this._disposables.push(this._editor.onDidChangeModel(function(){r._ignoreModelChangeEvent||r.closeWidget()}));var a=JSON.parse(this._storageService.get("peekViewLayout",void 0,"{}"));this._widget=this._instantiationService.createInstance(d.a,this._editor,this._defaultTreeKeyboardSupport,a),this._widget.setTitle(i.a("labelLoading","Loading...")),this._widget.show(e),this._disposables.push(this._widget.onDidClose(function(){t.cancel(),r._storageService.store("peekViewLayout",JSON.stringify(r._widget.layoutData)),r._widget=null,r.closeWidget()})),this._disposables.push(this._widget.onDidSelectReference(function(e){var t=e.element,i=e.kind;switch(i){case"open":if("editor"===e.source&&r._configurationService.getValue("editor.stablePeek"))break;case"side":r.openReference(t,"side"===i);break;case"goto":n.onGoto?n.onGoto(t):r._gotoReference(t)}}));var s=++this._requestIdPool;t.then(function(t){if(s===r._requestIdPool&&r._widget)return r._model&&r._model.dispose(),r._model=t,r._widget.setModel(r._model).then(function(){if(r._widget){r._widget.setMetaTitle(n.getMetaTitle(r._model));var t=r._editor.getModel().uri,i=new f.a(e.startLineNumber,e.startColumn),o=r._model.nearestReference(t,i);if(o)return r._widget.setSelection(o)}})},function(e){r._notificationService.error(e)})},e.prototype.goToNextOrPreviousReference=function(e){return b(this,void 0,void 0,function(){var t,n,i;return y(this,function(o){switch(o.label){case 0:return this._model?(t=this._model.nearestReference(this._editor.getModel().uri,this._widget.position),n=this._model.nextOrPreviousReference(t,e),i=this._editor.hasTextFocus(),[4,this._widget.setSelection(n)]):[3,3];case 1:return o.sent(),[4,this._gotoReference(n)];case 2:o.sent(),i&&this._editor.focus(),o.label=3;case 3:return[2]}})})},e.prototype.closeWidget=function(){Object(r.d)(this._widget),this._widget=null,this._referenceSearchVisible.reset(),this._disposables=Object(r.d)(this._disposables),Object(r.d)(this._model),this._model=null,this._editor.focus(),this._requestIdPool+=1},e.prototype._gotoReference=function(e){var t=this;this._widget.hide(),this._ignoreModelChangeEvent=!0;var n=h.a.lift(e.range).collapseToStart();return this._editorService.openCodeEditor({resource:e.uri,options:{selection:n}},this._editor).then(function(e){t._ignoreModelChangeEvent=!1,e&&e===t._editor?(t._widget.show(n),t._widget.focus()):t.closeWidget()},function(e){t._ignoreModelChangeEvent=!1,Object(o.e)(e)})},e.prototype.openReference=function(e,t){var n=e.uri,i=e.range;this._editorService.openCodeEditor({resource:n,options:{selection:i}},this._editor,t),t||this.closeWidget()},e.ID="editor.contrib.referencesController",e=m([g(2,l.e),g(3,a.a),g(4,p.a),g(5,s.a),g(6,u.a),g(7,c.b)],e)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i,o=n(115),r=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=function(e){function t(t){for(var n=e.call(this,0)||this,i=0,o=t.length;i<o;i++)n.set(t.charCodeAt(i),2);return n.set(32,1),n.set(9,1),n}return r(t,e),t}(o.a);var s,l,c=(s=function(e){return new a(e)},l={},function(e){return l.hasOwnProperty(e)||(l[e]=s(e)),l[e]})},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n(25),o=Object(i.c)("themeService")},function(e,t,n){"use strict";var i=n(0),o=n(5),r=n(60),a=n(24),s=n(9),l="base.contributions.json";var c=new(function(){function e(){this._onDidChangeSchema=new o.a,this.schemasById={}}return e.prototype.registerSchema=function(e,t){var n;this.schemasById[(n=e,n.length>0&&"#"===n.charAt(n.length-1)?n.substring(0,n.length-1):n)]=t,this._onDidChangeSchema.fire(e)},e}());r.a.add(l,c),n.d(t,"b",function(){return d}),n.d(t,"a",function(){return u}),n.d(t,"c",function(){return S});var u,d={Configuration:"base.contributions.configuration"};!function(e){e[e.APPLICATION=1]="APPLICATION",e[e.WINDOW=2]="WINDOW",e[e.RESOURCE=3]="RESOURCE"}(u||(u={}));var h={properties:{},patternProperties:{}},f={properties:{},patternProperties:{}},p={properties:{},patternProperties:{}},m={properties:{},patternProperties:{}},g="vscode://schemas/settings/editor",b=r.a.as(l),y=function(){function e(){this.overrideIdentifiers=[],this._onDidSchemaChange=new o.a,this._onDidRegisterConfiguration=new o.a,this.configurationContributors=[],this.editorConfigurationSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting"},this.configurationProperties={},this.excludedConfigurationProperties={},this.computeOverridePropertyPattern(),b.registerSchema(g,this.editorConfigurationSchema)}return e.prototype.registerConfiguration=function(e,t){void 0===t&&(t=!0),this.registerConfigurations([e],[],t)},e.prototype.registerConfigurations=function(e,t,n){var i=this;void 0===n&&(n=!0);var o=this.toConfiguration(t);o&&e.push(o);var r=[];e.forEach(function(e){r.push.apply(r,i.validateAndRegisterProperties(e,n)),i.configurationContributors.push(e),i.registerJSONConfiguration(e),i.updateSchemaForOverrideSettingsConfiguration(e)}),this._onDidRegisterConfiguration.fire(r)},e.prototype.registerOverrideIdentifiers=function(e){var t;(t=this.overrideIdentifiers).push.apply(t,e),this.updateOverridePropertyPatternKey()},e.prototype.toConfiguration=function(e){for(var t={id:"defaultOverrides",title:i.a("defaultConfigurations.title","Default Configuration Overrides"),properties:{}},n=0,o=e;n<o.length;n++){var r=o[n];for(var a in r.defaults){var s=r.defaults[a];S.test(a)&&"object"===typeof s&&(t.properties[a]={type:"object",default:s,description:i.a("overrideSettings.description","Configure editor settings to be overridden for {0} language.",a),$ref:g})}}return Object.keys(t.properties).length?t:null},e.prototype.validateAndRegisterProperties=function(e,t,n,i){void 0===t&&(t=!0),void 0===n&&(n=u.WINDOW),void 0===i&&(i=!1),n=a.j(e.scope)?n:e.scope,i=e.overridable||i;var o=[],r=e.properties;if(r)for(var s in r){var l=void 0;if(t&&(l=k(s)))console.warn(l),delete r[s];else{var c=r[s],d=c.default;a.i(d)&&(c.default=C(c.type)),i&&(c.overridable=!0),S.test(s)?c.scope=void 0:c.scope=a.j(c.scope)?n:c.scope,!r[s].hasOwnProperty("included")||r[s].included?(this.configurationProperties[s]=r[s],o.push(s)):(this.excludedConfigurationProperties[s]=r[s],delete r[s])}}var h=e.allOf;if(h)for(var f=0,p=h;f<p.length;f++){var m=p[f];o.push.apply(o,this.validateAndRegisterProperties(m,t,n,i))}return o},e.prototype.getConfigurationProperties=function(){return this.configurationProperties},e.prototype.registerJSONConfiguration=function(e){!function e(t){var n=t.properties;if(n)for(var i in n)switch(h.properties[i]=n[i],n[i].scope){case u.APPLICATION:f.properties[i]=n[i];break;case u.WINDOW:p.properties[i]=n[i];break;case u.RESOURCE:m.properties[i]=n[i]}var o=t.allOf;o&&o.forEach(e)}(e),this._onDidSchemaChange.fire()},e.prototype.updateSchemaForOverrideSettingsConfiguration=function(e){e.id!==v&&(this.update(e),b.registerSchema(g,this.editorConfigurationSchema))},e.prototype.updateOverridePropertyPatternKey=function(){var e=h.patternProperties[this.overridePropertyPattern];e||(e={type:"object",description:i.a("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:"Unknown Identifier. Use language identifiers",$ref:g}),delete h.patternProperties[this.overridePropertyPattern],delete f.patternProperties[this.overridePropertyPattern],delete p.patternProperties[this.overridePropertyPattern],delete m.patternProperties[this.overridePropertyPattern],this.computeOverridePropertyPattern(),h.patternProperties[this.overridePropertyPattern]=e,f.patternProperties[this.overridePropertyPattern]=e,p.patternProperties[this.overridePropertyPattern]=e,m.patternProperties[this.overridePropertyPattern]=e,this._onDidSchemaChange.fire()},e.prototype.update=function(e){var t=this,n=e.properties;if(n)for(var i in n)n[i].overridable&&(this.editorConfigurationSchema.properties[i]=this.getConfigurationProperties()[i]);var o=e.allOf;o&&o.forEach(function(e){return t.update(e)})},e.prototype.computeOverridePropertyPattern=function(){this.overridePropertyPattern=this.overrideIdentifiers.length?_.replace("${0}",this.overrideIdentifiers.map(function(e){return s.createRegExp(e,!1).source}).join("|")):w},e}(),v="override",w="\\[.*\\]$",_="\\[(${0})\\]$",S=new RegExp(w);function C(e){switch(Array.isArray(e)?e[0]:e){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}var x=new y;function k(e){return S.test(e)?i.a("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",e):void 0!==x.getConfigurationProperties()[e]?i.a("config.property.duplicate","Cannot register '{0}'. This property is already registered.",e):null}r.a.add(d.Configuration,x)},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return r}),n.d(t,"d",function(){return a});var i="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";var o=function(e){void 0===e&&(e="");for(var t="(-?\\d*\\.\\d\\w*)|([^",n=0;n<i.length;n++)e.indexOf(i[n])>=0||(t+="\\"+i[n]);return t+="\\s]+)",new RegExp(t,"g")}();function r(e){var t=o;if(e&&e instanceof RegExp)if(e.global)t=e;else{var n="g";e.ignoreCase&&(n+="i"),e.multiline&&(n+="m"),t=new RegExp(e.source,n)}return t.lastIndex=0,t}function a(e,t,n,i){t.lastIndex=0;var o=t.exec(n);if(!o)return null;var r=o[0].indexOf(" ")>=0?function(e,t,n,i){var o,r=e-1-i;for(t.lastIndex=0;o=t.exec(n);){if(o.index>r)return null;if(t.lastIndex>=r)return{word:o[0],startColumn:i+1+o.index,endColumn:i+1+t.lastIndex}}return null}(e,t,n,i):function(e,t,n,i){var o,r=e-1-i,a=n.lastIndexOf(" ",r-1)+1,s=n.indexOf(" ",r);for(-1===s&&(s=n.length),t.lastIndex=a;o=t.exec(n);)if(o.index<=r&&t.lastIndex>=r)return{word:o[0],startColumn:i+1+o.index,endColumn:i+1+t.lastIndex};return null}(e,t,n,i);return t.lastIndex=0,r}},function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return m});var i=n(9),o=n(2),r=function(){return function(e,t,n,i,o){this.languageIdentifier=e,this.open=t,this.close=n,this.forwardRegex=i,this.reversedRegex=o}}(),a=function(){return function(e,t){var n=this;this.brackets=t.map(function(t){return new r(e,t[0],t[1],l({open:t[0],close:t[1]}),c({open:t[0],close:t[1]}))}),this.forwardRegex=u(this.brackets),this.reversedRegex=d(this.brackets),this.textIsBracket={},this.textIsOpenBracket={};var i=0;this.brackets.forEach(function(e){n.textIsBracket[e.open.toLowerCase()]=e,n.textIsBracket[e.close.toLowerCase()]=e,n.textIsOpenBracket[e.open.toLowerCase()]=!0,n.textIsOpenBracket[e.close.toLowerCase()]=!1,i=Math.max(i,e.open.length),i=Math.max(i,e.close.length)}),this.maxBracketLength=i}}();function s(e,t){var n={};return function(i){var o=e(i);return n.hasOwnProperty(o)||(n[o]=t(i)),n[o]}}var l=s(function(e){return e.open+";"+e.close},function(e){return f([e.open,e.close])}),c=s(function(e){return e.open+";"+e.close},function(e){return f([p(e.open),p(e.close)])}),u=s(function(e){return e.map(function(e){return e.open+";"+e.close}).join(";")},function(e){var t=[];return e.forEach(function(e){t.push(e.open),t.push(e.close)}),f(t)}),d=s(function(e){return e.map(function(e){return e.open+";"+e.close}).join(";")},function(e){var t=[];return e.forEach(function(e){t.push(p(e.open)),t.push(p(e.close))}),f(t)});function h(e){var t=/^[\w]+$/.test(e);return e=i.escapeRegExpCharacters(e),t?"\\b"+e+"\\b":e}function f(e){var t="("+e.map(h).join(")|(")+")";return i.createRegExp(t,!0)}var p=function(){var e=null,t=null;return function(n){return e!==n&&(t=function(e){for(var t="",n=e.length-1;n>=0;n--)t+=e.charAt(n);return t}(e=n)),t}}(),m=function(){function e(){}return e._findPrevBracketInText=function(e,t,n,i){var r=n.match(e);if(!r)return null;var a=n.length-r.index,s=r[0].length,l=i+a;return new o.a(t,l-s+1,t,l+1)},e.findPrevBracketInToken=function(e,t,n,i,o){var r=p(n).substring(n.length-o,n.length-i);return this._findPrevBracketInText(e,t,r,i)},e.findNextBracketInText=function(e,t,n,i){var r=n.match(e);if(!r)return null;var a=r.index,s=r[0].length;if(0===s)return null;var l=i+a;return new o.a(t,l+1,t,l+1+s)},e.findNextBracketInToken=function(e,t,n,i,o){var r=n.substring(i,o);return this.findNextBracketInText(e,t,r,i)},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"b",function(){return f});var i,o=n(23),r=n(10),a=n(102),s=n(9),l=n(2),c=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u=function(){function e(){}return e._createWord=function(e,t,n,i,o){return{start:i,end:o,wordType:t,nextCharClass:n}},e._findPreviousWordOnLine=function(e,t,n){var i=t.getLineContent(n.lineNumber);return this._doFindPreviousWordOnLine(i,e,n)},e._doFindPreviousWordOnLine=function(e,t,n){for(var i=0,o=n.column-2;o>=0;o--){var r=e.charCodeAt(o),a=t.get(r);if(0===a){if(2===i)return this._createWord(e,i,a,o+1,this._findEndOfWord(e,t,i,o+1));i=1}else if(2===a){if(1===i)return this._createWord(e,i,a,o+1,this._findEndOfWord(e,t,i,o+1));i=2}else if(1===a&&0!==i)return this._createWord(e,i,a,o+1,this._findEndOfWord(e,t,i,o+1))}return 0!==i?this._createWord(e,i,1,0,this._findEndOfWord(e,t,i,0)):null},e._findEndOfWord=function(e,t,n,i){for(var o=e.length,r=i;r<o;r++){var a=e.charCodeAt(r),s=t.get(a);if(1===s)return r;if(1===n&&2===s)return r;if(2===n&&0===s)return r}return o},e._findNextWordOnLine=function(e,t,n){var i=t.getLineContent(n.lineNumber);return this._doFindNextWordOnLine(i,e,n)},e._doFindNextWordOnLine=function(e,t,n){for(var i=0,o=e.length,r=n.column-1;r<o;r++){var a=e.charCodeAt(r),s=t.get(a);if(0===s){if(2===i)return this._createWord(e,i,s,this._findStartOfWord(e,t,i,r-1),r);i=1}else if(2===s){if(1===i)return this._createWord(e,i,s,this._findStartOfWord(e,t,i,r-1),r);i=2}else if(1===s&&0!==i)return this._createWord(e,i,s,this._findStartOfWord(e,t,i,r-1),r)}return 0!==i?this._createWord(e,i,1,this._findStartOfWord(e,t,i,o-1),o):null},e._findStartOfWord=function(e,t,n,i){for(var o=i;o>=0;o--){var r=e.charCodeAt(o),a=t.get(r);if(1===a)return o+1;if(1===n&&2===a)return o+1;if(2===n&&0===a)return o+1}return 0},e.moveWordLeft=function(t,n,i,o){var a=i.lineNumber,s=i.column;1===s&&a>1&&(a-=1,s=n.getLineMaxColumn(a));var l=e._findPreviousWordOnLine(t,n,new r.a(a,s));return 0===o?(l&&2===l.wordType&&l.end-l.start===1&&0===l.nextCharClass&&(l=e._findPreviousWordOnLine(t,n,new r.a(a,l.start+1))),s=l?l.start+1:1):(l&&s<=l.end+1&&(l=e._findPreviousWordOnLine(t,n,new r.a(a,l.start+1))),s=l?l.end+1:1),new r.a(a,s)},e.moveWordRight=function(t,n,i,o){var a=i.lineNumber,s=i.column;s===n.getLineMaxColumn(a)&&a<n.getLineCount()&&(a+=1,s=1);var l=e._findNextWordOnLine(t,n,new r.a(a,s));return 1===o?(l&&2===l.wordType&&l.end-l.start===1&&0===l.nextCharClass&&(l=e._findNextWordOnLine(t,n,new r.a(a,l.end+1))),s=l?l.end+1:n.getLineMaxColumn(a)):(l&&s>=l.start+1&&(l=e._findNextWordOnLine(t,n,new r.a(a,l.end+1))),s=l?l.start+1:n.getLineMaxColumn(a)),new r.a(a,s)},e._deleteWordLeftWhitespace=function(e,t){var n=e.getLineContent(t.lineNumber),i=t.column-2,o=s.lastNonWhitespaceIndex(n,i);return o+1<i?new l.a(t.lineNumber,o+2,t.lineNumber,t.column):null},e.deleteWordLeft=function(t,n,i,o,a){if(!i.isEmpty())return i;var s=new r.a(i.positionLineNumber,i.positionColumn),c=s.lineNumber,u=s.column;if(1===c&&1===u)return null;if(o){var d=this._deleteWordLeftWhitespace(n,s);if(d)return d}var h=e._findPreviousWordOnLine(t,n,s);return 0===a?h?u=h.start+1:u>1?u=1:(c--,u=n.getLineMaxColumn(c)):(h&&u<=h.end+1&&(h=e._findPreviousWordOnLine(t,n,new r.a(c,h.start+1))),h?u=h.end+1:u>1?u=1:(c--,u=n.getLineMaxColumn(c))),new l.a(c,u,s.lineNumber,s.column)},e._findFirstNonWhitespaceChar=function(e,t){for(var n=e.length,i=t;i<n;i++){var o=e.charAt(i);if(" "!==o&&"\t"!==o)return i}return n},e._deleteWordRightWhitespace=function(e,t){var n=e.getLineContent(t.lineNumber),i=t.column-1,o=this._findFirstNonWhitespaceChar(n,i);return i+1<o?new l.a(t.lineNumber,t.column,t.lineNumber,o+1):null},e.deleteWordRight=function(t,n,i,o,a){if(!i.isEmpty())return i;var s=new r.a(i.positionLineNumber,i.positionColumn),c=s.lineNumber,u=s.column,d=n.getLineCount(),h=n.getLineMaxColumn(c);if(c===d&&u===h)return null;if(o){var f=this._deleteWordRightWhitespace(n,s);if(f)return f}var p=e._findNextWordOnLine(t,n,s);return 1===a?p?u=p.end+1:u<h||c===d?u=h:(c++,u=(p=e._findNextWordOnLine(t,n,new r.a(c,1)))?p.start+1:n.getLineMaxColumn(c)):(p&&u>=p.start+1&&(p=e._findNextWordOnLine(t,n,new r.a(c,p.end+1))),p?u=p.start+1:u<h||c===d?u=h:(c++,u=(p=e._findNextWordOnLine(t,n,new r.a(c,1)))?p.start+1:n.getLineMaxColumn(c))),new l.a(c,u,s.lineNumber,s.column)},e.word=function(t,n,i,s,c){var u=Object(a.a)(t.wordSeparators),d=e._findPreviousWordOnLine(u,n,c),h=e._findNextWordOnLine(u,n,c);if(!s){var f,p,m=d&&1===d.wordType&&d.start<=c.column-1&&c.column-1<=d.end,g=h&&1===h.wordType&&h.start<=c.column-1&&c.column-1<=h.end;return m?(f=d.start+1,p=d.end+1):g?(f=h.start+1,p=h.end+1):(f=d?d.end+1:1,p=h?h.start+1:n.getLineMaxColumn(c.lineNumber)),new o.f(new l.a(c.lineNumber,f,c.lineNumber,p),0,new r.a(c.lineNumber,p),0)}var b,y,v=d&&1===d.wordType&&d.start<c.column-1&&c.column-1<d.end,w=h&&1===h.wordType&&h.start<c.column-1&&c.column-1<h.end;v?(b=d.start+1,y=d.end+1):w?(b=h.start+1,y=h.end+1):(b=c.column,y=c.column);var _,S=c.lineNumber;if(i.selectionStart.containsPosition(c))_=i.selectionStart.endColumn;else if(c.isBeforeOrEqual(i.selectionStart.getStartPosition())){_=b;var C=new r.a(S,_);i.selectionStart.containsPosition(C)&&(_=i.selectionStart.endColumn)}else{_=y;C=new r.a(S,_);i.selectionStart.containsPosition(C)&&(_=i.selectionStart.startColumn)}return i.move(!0,S,_,0)},e}();function d(e,t){void 0===t&&(t=e.length-1);for(var n=!s.isLowerAsciiLetter(e.charCodeAt(t+1)),i=t;i>=0;i--){var o=e.charCodeAt(i);if(32===o||9===o||!n&&s.isUpperAsciiLetter(o)||95===o)return i-1;if(n&&i<t&&s.isLowerAsciiLetter(o))return i;n=n&&s.isUpperAsciiLetter(o)}return-1}function h(e,t){void 0===t&&(t=0);var n=e.charCodeAt(t-1),i=e.charCodeAt(t);if((32===n||9===n)&&(s.isLowerAsciiLetter(i)||s.isUpperAsciiLetter(i)))return t+1;for(var o=s.isUpperAsciiLetter(i),r=t;r<e.length;++r){if(32===(i=e.charCodeAt(r))||9===i||!o&&s.isUpperAsciiLetter(i))return r+1;if(o&&s.isLowerAsciiLetter(i))return r;if(o=o&&s.isUpperAsciiLetter(i),95===i)return r+2}return e.length+1}var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.deleteWordPartLeft=function(e,t,n,i,o){if(!n.isEmpty())return n;var a=new r.a(n.positionLineNumber,n.positionColumn),s=a.lineNumber,c=a.column;if(1===s&&1===c)return null;if(i){var h=u._deleteWordLeftWhitespace(t,a);if(h)return h}var f=u.deleteWordLeft(e,t,n,i,o),p=d(t.getLineContent(a.lineNumber),a.column-2),m=new l.a(s,c,s,p+2);return m.getStartPosition().isBeforeOrEqual(f.getStartPosition())?f:m},t.deleteWordPartRight=function(e,t,n,i,o){if(!n.isEmpty())return n;var a=new r.a(n.positionLineNumber,n.positionColumn),s=a.lineNumber,c=a.column,d=t.getLineCount(),f=t.getLineMaxColumn(s);if(s===d&&c===f)return null;if(i){var p=u._deleteWordRightWhitespace(t,a);if(p)return p}var m=u.deleteWordRight(e,t,n,i,o),g=h(t.getLineContent(a.lineNumber),a.column),b=new l.a(s,c,s,g);return m.getEndPosition().isBeforeOrEqual(b.getEndPosition())?m:b},t.moveWordPartLeft=function(e,t,n,i){var o=n.lineNumber,a=n.column;if(1===a)return o>1?new r.a(o-1,t.getLineMaxColumn(o-1)):n;var s=u.moveWordLeft(e,t,n,i),l=d(t.getLineContent(o),a-2),c=new r.a(o,l+2);return c.isBeforeOrEqual(s)?s:c},t.moveWordPartRight=function(e,t,n,i){var o=n.lineNumber,a=n.column;if(a===t.getLineMaxColumn(o))return o<t.getLineCount()?new r.a(o+1,1):n;var s=u.moveWordRight(e,t,n,i),l=h(t.getLineContent(o),a),c=new r.a(o,l);return s.isBeforeOrEqual(c)?s:c},t}(u)},function(e,t,n){"use strict";var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))o.call(n,c)&&(s[c]=n[c]);if(i){a=i(n);for(var u=0;u<a.length;u++)r.call(n,a[u])&&(s[a[u]]=n[a[u]])}}return s}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n(25),o=Object(i.c)("telemetryService")},function(e,t,n){"use strict";n.d(t,"e",function(){return v}),n.d(t,"a",function(){return w}),n.d(t,"b",function(){return _}),n.d(t,"c",function(){return I}),n.d(t,"d",function(){return F});var i=n(9),o=n(81);function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t,n){for(var i=0,o=e.length;i<o;i++){var r=e[i](t,n);if(r)return r}return null}}var a=function(e,t,n){if(!n||n.length<t.length)return null;var o;o=e?i.startsWithIgnoreCase(n,t):0===n.indexOf(t);if(!o)return null;return t.length>0?[{start:0,end:t.length}]:[]}.bind(void 0,!0);function s(e){return 97<=e&&e<=122}function l(e){return 65<=e&&e<=90}function c(e){return 48<=e&&e<=57}function u(e){return 32===e||9===e||10===e||13===e}function d(e){return s(e)||l(e)||c(e)}function h(e,t){return 0===t.length?t=[e]:e.end===t[0].start?t[0].start=e.start:t.unshift(e),t}function f(e,t){for(var n=t;n<e.length;n++){var i=e.charCodeAt(n);if(l(i)||c(i)||n>0&&!d(e.charCodeAt(n-1)))return n}return e.length}function p(e,t,n,i){if(n===e.length)return[];if(i===t.length)return null;if(e[n]!==t[i].toLowerCase())return null;var o=null,r=i+1;for(o=p(e,t,n+1,i+1);!o&&(r=f(t,r))<t.length;)o=p(e,t,n+1,r),r++;return null===o?null:h({start:i,end:i+1},o)}function m(e,t){if(!t)return null;if(0===(t=t.trim()).length)return null;if(!function(e){for(var t=0,n=0,i=0,o=0,r=0;r<e.length;r++)l(i=e.charCodeAt(r))&&t++,s(i)&&n++,u(i)&&o++;return 0!==t&&0!==n||0!==o?t<=5:e.length<=30}(e))return null;if(t.length>60)return null;var n=function(e){for(var t=0,n=0,i=0,o=0,r=0,a=0;a<e.length;a++)l(r=e.charCodeAt(a))&&t++,s(r)&&n++,d(r)&&i++,c(r)&&o++;return{upperPercent:t/e.length,lowerPercent:n/e.length,alphaPercent:i/e.length,numericPercent:o/e.length}}(t);if(!function(e){var t=e.upperPercent,n=e.lowerPercent,i=e.alphaPercent,o=e.numericPercent;return n>.2&&t<.8&&i>.6&&o<.2}(n)){if(!function(e){var t=e.upperPercent;return 0===e.lowerPercent&&t>.6}(n))return null;t=t.toLowerCase()}var i=null,o=0;for(e=e.toLowerCase();o<t.length&&null===(i=p(e,t,0,o));)o=f(t,o+1);return i}var g=r(a,m,function(e,t){var n=t.toLowerCase().indexOf(e.toLowerCase());return-1===n?null:[{start:n,end:n+e.length}]}),b=r(a,m,function(e,t){return function e(t,n,i,o){if(i===t.length)return[];if(o===n.length)return null;if(t[i]===n[o]){var r=null;return(r=e(t,n,i+1,o+1))?h({start:o,end:o+1},r):null}return e(t,n,i,o+1)}(e.toLowerCase(),t.toLowerCase(),0,0)}),y=new o.a(1e4);function v(e,t,n){if(void 0===n&&(n=!1),"string"!==typeof e||"string"!==typeof t)return null;var o=y.get(e);o||(o=new RegExp(i.convertSimple2RegExpPattern(e),"i"),y.set(e,o));var r=o.exec(t);return r?[{start:r.index,end:r.index+r[0].length}]:n?b(e,t):g(e,t)}function w(e,t,n){e=e.toLowerCase(),t=t.toLowerCase();for(var i=[],o=0,r=0;r<e.length;++r){var a=t.indexOf(e.charAt(r),o);a>=0&&(i.push(a),o=a+1)}return[i.length,i]}function _(e){var t,n=[];if(!e)return n;for(var i=0,o=e;i<o.length;i++){var r=o[i];t&&t.end===r?t.end+=1:(t={start:r,end:r+1},n.push(t))}return n}function S(){for(var e=[],t=[0],n=1;n<=100;n++)t.push(-n);for(n=0;n<=100;n++){var i=t.slice(0);i[0]=-n,e.push(i)}return e}var C=S(),x=S(),k=S(),T=!1;function O(e,t,n,i,o){function r(e,t,n){for(void 0===n&&(n=" ");e.length<t;)e=n+e;return e}for(var a=" |   |"+i.split("").map(function(e){return r(e,3)}).join("|")+"\n",s=0;s<=n;s++)a+=0===s?" |":t[s-1]+"|",a+=e[s].slice(0,o+1).map(function(e){return r(e.toString(),3)}).join("|")+"\n";return a}function N(e,t){if(t<0||t>=e.length)return!1;switch(e.charCodeAt(t)){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:return!0;default:return!1}}function L(e,t){if(t<0||t>=e.length)return!1;switch(e.charCodeAt(t)){case 32:case 9:return!0;default:return!1}}function I(e,t,n,i){var o=e.length>100?100:e.length,r=t.length>100?100:t.length,a=0;for(void 0===n&&(n=o);a<n&&L(e,a);)a+=1;if(a===o)return[-100,[]];if(!(o>r)){for(var s=e.toLowerCase(),l=t.toLowerCase(),c=a,u=0;c<o&&u<r;)s[c]===l[u]&&(c+=1),u+=1;if(c===o){for(c=a+1;c<=o;c++)for(u=1;u<=r;u++){var d=-1,h=l[u-1];s[c-1]===h&&(d=u===c-a?e[c-1]===t[u-1]?7:5:h===t[u-1]||1!==u&&l[u-2]!==t[u-2]?N(l,u-2)||L(l,u-2)?5:1:e[c-1]===t[u-1]?7:5),x[c][u]=d;var f=C[c-1][u-1]+(d>1?1:d),p=C[c-1][u]+-1,m=C[c][u-1]+-1;m>=p?m>f?(C[c][u]=m,k[c][u]=4):m===f?(C[c][u]=m,k[c][u]=6):(C[c][u]=f,k[c][u]=2):p>f?(C[c][u]=p,k[c][u]=1):p===f?(C[c][u]=p,k[c][u]=3):(C[c][u]=f,k[c][u]=2)}if(T&&(console.log(O(C,e,o,t,r)),console.log(O(k,e,o,t,r)),console.log(O(x,e,o,t,r))),D=0,A=-100,M=a,P=i,function e(t,n,i,o,r){if(D>=10||i<-25)return;var a=0;for(;t>M&&n>0;){var s=x[t][n],l=k[t][n];if(4===l)n-=1,r?i-=5:o.isEmpty()||(i-=1),r=!1,a=0;else{if(!(2&l))return;if(4&l&&e(t,n-1,o.isEmpty()?i:i-1,o.slice(),r),i+=s,t-=1,n-=1,o.unshift(n),r=!0,1===s){if(a+=1,t===M&&!P)return}else i+=1+a*(s-1),a=0}}i-=n>=3?9:3*n;D+=1;i>A&&(A=i,E=o)}(o,r,o===r?1:0,new R,!1),0!==D)return[A,E.toArray()]}}}var E,D=0,A=0,M=0,P=!1;var R=function(){function e(){}return e.prototype.isEmpty=function(){return!this._data&&(!this._parent||this._parent.isEmpty())},e.prototype.unshift=function(e){this._data?this._data.unshift(e):this._data=[e]},e.prototype.slice=function(){var t=new e;return t._parent=this,t._parentLen=this._data?this._data.length:0,t},e.prototype.toArray=function(){if(!this._data)return this._parent.toArray();for(var e=[],t=this;t;)t._parent&&t._parent._data&&e.push(t._parent._data.slice(t._parent._data.length-t._parentLen)),t=t._parent;return Array.prototype.concat.apply(this._data,e)},e}();function F(e,t,n){return function(e,t,n,i){var o=I(e,t,i);if(o&&!n)return o;if(e.length>=3)for(var r=Math.min(7,e.length-1),a=1;a<r;a++){var s=j(e,a);if(s){var l=I(s,t,i);l&&(l[0]-=3,(!o||l[0]>o[0])&&(o=l))}}return o}(e,t,!0,n)}function j(e,t){if(!(t+1>=e.length)){var n=e[t],i=e[t+1];if(n!==i)return e.slice(0,t)+i+n+e.slice(t+2)}}},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return l});var i,o,r=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});!function(e){var t={next:function(){return{done:!0,value:void 0}}};function n(e,t){for(var n=e.next();!n.done;n=e.next())t(n.value)}e.empty=function(){return t},e.iterate=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=e.length),{next:function(){return t>=n?{done:!0,value:void 0}:{done:!1,value:e[t++]}}}},e.map=function(e,t){return{next:function(){var n=e.next(),i=n.done,o=n.value;return{done:i,value:i?void 0:t(o)}}}},e.filter=function(e,t){return{next:function(){for(;;){var n=e.next(),i=n.done,o=n.value;if(i)return{done:i,value:void 0};if(t(o))return{done:i,value:o}}}}},e.forEach=n,e.collect=function(e){var t=[];return n(e,function(e){return t.push(e)}),t}}(o||(o={}));var a=function(){function e(e,t,n,i){void 0===t&&(t=0),void 0===n&&(n=e.length),void 0===i&&(i=t-1),this.items=e,this.start=t,this.end=n,this.index=i}return e.prototype.next=function(){return this.index=Math.min(this.index+1,this.end),this.current()},e.prototype.current=function(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]},e}(),s=function(e){function t(t,n,i,o){return void 0===n&&(n=0),void 0===i&&(i=t.length),void 0===o&&(o=n-1),e.call(this,t,n,i,o)||this}return r(t,e),t.prototype.current=function(){return e.prototype.current.call(this)},t.prototype.previous=function(){return this.index=Math.max(this.index-1,this.start-1),this.current()},t.prototype.first=function(){return this.index=this.start,this.current()},t.prototype.last=function(){return this.index=this.end-1,this.current()},t.prototype.parent=function(){return null},t}(a),l=function(){function e(e,t){this.iterator=e,this.fn=t}return e.prototype.next=function(){return this.fn(this.iterator.next())},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"c",function(){return v}),n.d(t,"b",function(){return _});n(397);var i,o,r=n(0),a=n(80),s=n(9),l=n(34),c=n(37),u=n(5),d=n(1),h=n(76),f=n(39),p=n(197),m=n(163),g=n(13),b=n(17),y=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function v(e){var t=e.get(f.a).getFocusedCodeEditor();return t instanceof m.a?t.getParentEditor():t}!function(e){e.inPeekEditor=new g.f("inReferenceSearchEditor",!0),e.notInPeekEditor=e.inPeekEditor.toNegated()}(o||(o={}));var w={headerBackgroundColor:b.a.white,primaryHeadingColor:b.a.fromHex("#333333"),secondaryHeadingColor:b.a.fromHex("#6c6c6cb3")},_=function(e){function t(t,n){void 0===n&&(n={});var i=e.call(this,t,n)||this;return i._onDidClose=new u.a,l.g(i.options,w,!1),i}return y(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._onDidClose.fire(this)},Object.defineProperty(t.prototype,"onDidClose",{get:function(){return this._onDidClose.event},enumerable:!0,configurable:!0}),t.prototype.style=function(t){var n=this.options;t.headerBackgroundColor&&(n.headerBackgroundColor=t.headerBackgroundColor),t.primaryHeadingColor&&(n.primaryHeadingColor=t.primaryHeadingColor),t.secondaryHeadingColor&&(n.secondaryHeadingColor=t.secondaryHeadingColor),e.prototype.style.call(this,t)},t.prototype._applyStyles=function(){e.prototype._applyStyles.call(this);var t=this.options;this._headElement&&(this._headElement.style.backgroundColor=t.headerBackgroundColor.toString()),this._primaryHeading&&(this._primaryHeading.style.color=t.primaryHeadingColor.toString()),this._secondaryHeading&&(this._secondaryHeading.style.color=t.secondaryHeadingColor.toString()),this._bodyElement&&(this._bodyElement.style.borderColor=t.frameColor.toString())},t.prototype._fillContainer=function(e){this.setCssClass("peekview-widget"),this._headElement=Object(c.a)(".head").getHTMLElement(),this._bodyElement=Object(c.a)(".body").getHTMLElement(),this._fillHead(this._headElement),this._fillBody(this._bodyElement),e.appendChild(this._headElement),e.appendChild(this._bodyElement)},t.prototype._fillHead=function(e){var t=this,n=Object(c.a)(".peekview-title").on(d.d.CLICK,function(e){return t._onTitleClick(e)}).appendTo(this._headElement).getHTMLElement();this._primaryHeading=Object(c.a)("span.filename").appendTo(n).getHTMLElement(),this._secondaryHeading=Object(c.a)("span.dirname").appendTo(n).getHTMLElement(),this._metaHeading=Object(c.a)("span.meta").appendTo(n).getHTMLElement();var i=Object(c.a)(".peekview-actions").appendTo(this._headElement),o=this._getActionBarOptions();this._actionbarWidget=new h.a(i.getHTMLElement(),o),this._disposables.push(this._actionbarWidget),this._actionbarWidget.push(new a.a("peekview.close",r.a("label.close","Close"),"close-peekview-action",!0,function(){return t.dispose(),null}),{label:!1,icon:!0})},t.prototype._getActionBarOptions=function(){return{}},t.prototype._onTitleClick=function(e){},t.prototype.setTitle=function(e,t){Object(c.a)(this._primaryHeading).safeInnerHtml(e),this._primaryHeading.setAttribute("aria-label",e),t?Object(c.a)(this._secondaryHeading).safeInnerHtml(t):d.l(this._secondaryHeading)},t.prototype.setMetaTitle=function(e){e?Object(c.a)(this._metaHeading).safeInnerHtml(e):d.l(this._metaHeading)},t.prototype._doLayout=function(e,t){if(!this._isShowing&&e<0)this.dispose();else{var n=Math.ceil(1.2*this.editor.getConfiguration().lineHeight),i=e-(n+2);this._doLayoutHead(n,t),this._doLayoutBody(i,t)}},t.prototype._doLayoutHead=function(e,t){this._headElement.style.height=s.format("{0}px",e),this._headElement.style.lineHeight=this._headElement.style.height},t.prototype._doLayoutBody=function(e,t){this._bodyElement.style.height=s.format("{0}px",e)},t}(p.a)},function(e,t,n){"use strict";n.d(t,"d",function(){return l}),n.d(t,"b",function(){return u}),n.d(t,"a",function(){return d}),n.d(t,"c",function(){return b});var i,o,r=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=function(){function e(){this.text("")}return e.isDigitCharacter=function(e){return e>=48&&e<=57},e.isVariableCharacter=function(e){return 95===e||e>=97&&e<=122||e>=65&&e<=90},e.prototype.text=function(e){this.value=e,this.pos=0},e.prototype.tokenText=function(e){return this.value.substr(e.pos,e.len)},e.prototype.next=function(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};var t,n=this.pos,i=0,o=this.value.charCodeAt(n);if("number"===typeof(t=e._table[o]))return this.pos+=1,{type:t,pos:n,len:1};if(e.isDigitCharacter(o)){t=8;do{i+=1,o=this.value.charCodeAt(n+i)}while(e.isDigitCharacter(o));return this.pos+=i,{type:t,pos:n,len:i}}if(e.isVariableCharacter(o)){t=9;do{o=this.value.charCodeAt(n+ ++i)}while(e.isVariableCharacter(o)||e.isDigitCharacter(o));return this.pos+=i,{type:t,pos:n,len:i}}t=10;do{i+=1,o=this.value.charCodeAt(n+i)}while(!isNaN(o)&&"undefined"===typeof e._table[o]&&!e.isDigitCharacter(o)&&!e.isVariableCharacter(o));return this.pos+=i,{type:t,pos:n,len:i}},e._table=((o={})[36]=0,o[58]=1,o[44]=2,o[123]=3,o[125]=4,o[92]=5,o[47]=6,o[124]=7,o[43]=11,o[45]=12,o[63]=13,o),e}(),s=function(){function e(){this._children=[]}return e.prototype.appendChild=function(e){return e instanceof l&&this._children[this._children.length-1]instanceof l?this._children[this._children.length-1].value+=e.value:(e.parent=this,this._children.push(e)),this},e.prototype.replace=function(e,t){var n=e.parent,i=n.children.indexOf(e),o=n.children.slice(0);o.splice.apply(o,[i,1].concat(t)),n._children=o,t.forEach(function(e){return e.parent=n})},Object.defineProperty(e.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"snippet",{get:function(){for(var e=this;;){if(!e)return;if(e instanceof g)return e;e=e.parent}},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return this.children.reduce(function(e,t){return e+t.toString()},"")},e.prototype.len=function(){return 0},e}(),l=function(e){function t(t){var n=e.call(this)||this;return n.value=t,n}return r(t,e),t.prototype.toString=function(){return this.value},t.prototype.len=function(){return this.value.length},t.prototype.clone=function(){return new t(this.value)},t}(s),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(s),u=function(e){function t(t){var n=e.call(this)||this;return n.index=t,n}return r(t,e),t.compareByIndex=function(e,t){return e.index===t.index?0:e.isFinalTabstop?1:t.isFinalTabstop?-1:e.index<t.index?-1:e.index>t.index?1:0},Object.defineProperty(t.prototype,"isFinalTabstop",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"choice",{get:function(){return 1===this._children.length&&this._children[0]instanceof d?this._children[0]:void 0},enumerable:!0,configurable:!0}),t.prototype.clone=function(){var e=new t(this.index);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map(function(e){return e.clone()}),e},t}(c),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.options=[],t}return r(t,e),t.prototype.appendChild=function(e){return e instanceof l&&(e.parent=this,this.options.push(e)),this},t.prototype.toString=function(){return this.options[0].value},t.prototype.len=function(){return this.options[0].len()},t.prototype.clone=function(){var e=new t;return this.options.forEach(e.appendChild,e),e},t}(s),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.resolve=function(e){var t=this;return e.replace(this.regexp,function(){for(var e="",n=0,i=t._children;n<i.length;n++){var o=i[n];if(o instanceof f){var r=arguments.length-2>o.index?arguments[o.index]:"";e+=r=o.resolve(r)}else e+=o.toString()}return e})},t.prototype.toString=function(){return""},t.prototype.clone=function(){var e=new t;return e.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),e._children=this.children.map(function(e){return e.clone()}),e},t}(s),f=function(e){function t(t,n,i,o){var r=e.call(this)||this;return r.index=t,r.shorthandName=n,r.ifValue=i,r.elseValue=o,r}return r(t,e),t.prototype.resolve=function(e){return"upcase"===this.shorthandName?e?e.toLocaleUpperCase():"":"downcase"===this.shorthandName?e?e.toLocaleLowerCase():"":"capitalize"===this.shorthandName?e?e[0].toLocaleUpperCase()+e.substr(1):"":Boolean(e)&&"string"===typeof this.ifValue?this.ifValue:Boolean(e)||"string"!==typeof this.elseValue?e||"":this.elseValue},t.prototype.clone=function(){return new t(this.index,this.shorthandName,this.ifValue,this.elseValue)},t}(s),p=function(e){function t(t){var n=e.call(this)||this;return n.name=t,n}return r(t,e),t.prototype.resolve=function(e){var t=e.resolve(this);return this.transform&&(t=this.transform.resolve(t||"")),void 0!==t&&(this._children=[new l(t)],!0)},t.prototype.clone=function(){var e=new t(this.name);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map(function(e){return e.clone()}),e},t}(c);function m(e,t){for(var n=e.slice();n.length>0;){var i=n.shift();if(!t(i))break;n.unshift.apply(n,i.children)}}var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"placeholderInfo",{get:function(){if(!this._placeholders){var e,t=[];this.walk(function(n){return n instanceof u&&(t.push(n),e=!e||e.index<n.index?n:e),!0}),this._placeholders={all:t,last:e}}return this._placeholders},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholders",{get:function(){return this.placeholderInfo.all},enumerable:!0,configurable:!0}),t.prototype.offset=function(e){var t=0,n=!1;return this.walk(function(i){return i===e?(n=!0,!1):(t+=i.len(),!0)}),n?t:-1},t.prototype.fullLen=function(e){var t=0;return m([e],function(e){return t+=e.len(),!0}),t},t.prototype.enclosingPlaceholders=function(e){for(var t=[],n=e.parent;n;)n instanceof u&&t.push(n),n=n.parent;return t},t.prototype.resolveVariables=function(e){var t=this;return this.walk(function(n){return n instanceof p&&n.resolve(e)&&(t._placeholders=void 0),!0}),this},t.prototype.appendChild=function(t){return this._placeholders=void 0,e.prototype.appendChild.call(this,t)},t.prototype.replace=function(t,n){return this._placeholders=void 0,e.prototype.replace.call(this,t,n)},t.prototype.clone=function(){var e=new t;return this._children=this.children.map(function(e){return e.clone()}),e},t.prototype.walk=function(e){m(this.children,e)},t}(s),b=function(){function e(){this._scanner=new a}return e.escape=function(e){return e.replace(/\$|}|\\/g,"\\$&")},e.prototype.parse=function(e,t,n){this._scanner.text(e),this._token=this._scanner.next();for(var i=new g;this._parse(i););var o=new Map,r=[],a=0;i.walk(function(e){return e instanceof u&&(a+=1,e.isFinalTabstop?o.set(0,void 0):!o.has(e.index)&&e.children.length>0?o.set(e.index,e.children):r.push(e)),!0});for(var s=0,l=r;s<l.length;s++){var c=l[s];if(o.has(c.index)){var d=new u(c.index);d.transform=c.transform;for(var h=0,f=o.get(c.index);h<f.length;h++){var p=f[h];d.appendChild(p.clone())}i.replace(c,[d])}}return n||(n=a>0&&t),!o.has(0)&&n&&i.appendChild(new u(0)),i},e.prototype._accept=function(e,t){if(void 0===e||this._token.type===e){var n=!t||this._scanner.tokenText(this._token);return this._token=this._scanner.next(),n}return!1},e.prototype._backTo=function(e){return this._scanner.pos=e.pos+e.len,this._token=e,!1},e.prototype._until=function(e){if(14===this._token.type)return!1;for(var t=this._token;this._token.type!==e;)if(this._token=this._scanner.next(),14===this._token.type)return!1;var n=this._scanner.value.substring(t.pos,this._token.pos);return this._token=this._scanner.next(),n},e.prototype._parse=function(e){return this._parseEscaped(e)||this._parseTabstopOrVariableName(e)||this._parseComplexPlaceholder(e)||this._parseComplexVariable(e)||this._parseAnything(e)},e.prototype._parseEscaped=function(e){var t;return!!(t=this._accept(5,!0))&&(t=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||t,e.appendChild(new l(t)),!0)},e.prototype._parseTabstopOrVariableName=function(e){var t,n=this._token;return this._accept(0)&&(t=this._accept(9,!0)||this._accept(8,!0))?(e.appendChild(/^\d+$/.test(t)?new u(Number(t)):new p(t)),!0):this._backTo(n)},e.prototype._parseComplexPlaceholder=function(e){var t,n=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(8,!0))))return this._backTo(n);var i=new u(Number(t));if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(i),!0;if(!this._parse(i))return e.appendChild(new l("${"+t+":")),i.children.forEach(e.appendChild,e),!0}else{if(!(i.index>0&&this._accept(7)))return this._accept(6)?this._parseTransform(i)?(e.appendChild(i),!0):(this._backTo(n),!1):this._accept(4)?(e.appendChild(i),!0):this._backTo(n);for(var o=new d;;){if(this._parseChoiceElement(o)){if(this._accept(2))continue;if(this._accept(7)&&(i.appendChild(o),this._accept(4)))return e.appendChild(i),!0}return this._backTo(n),!1}}},e.prototype._parseChoiceElement=function(e){for(var t=this._token,n=[];2!==this._token.type&&7!==this._token.type;){var i=void 0;if(!(i=(i=this._accept(5,!0))?this._accept(2,!0)||this._accept(7,!0)||i:this._accept(void 0,!0)))return this._backTo(t),!1;n.push(i)}return 0===n.length?(this._backTo(t),!1):(e.appendChild(new l(n.join(""))),!0)},e.prototype._parseComplexVariable=function(e){var t,n=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(9,!0))))return this._backTo(n);var i=new p(t);if(!this._accept(1))return this._accept(6)?this._parseTransform(i)?(e.appendChild(i),!0):(this._backTo(n),!1):this._accept(4)?(e.appendChild(i),!0):this._backTo(n);for(;;){if(this._accept(4))return e.appendChild(i),!0;if(!this._parse(i))return e.appendChild(new l("${"+t+":")),i.children.forEach(e.appendChild,e),!0}},e.prototype._parseTransform=function(e){for(var t=new h,n="",i="";!this._accept(6);){var o=void 0;if(o=this._accept(5,!0))n+=o=this._accept(6,!0)||o;else{if(14===this._token.type)return!1;n+=this._accept(void 0,!0)}}for(;!this._accept(6);){o=void 0;if(o=this._accept(5,!0))o=this._accept(6,!0)||o,t.appendChild(new l(o));else if(!this._parseFormatString(t)&&!this._parseAnything(t))return!1}for(;!this._accept(4);){if(14===this._token.type)return!1;i+=this._accept(void 0,!0)}try{t.regexp=new RegExp(n,i)}catch(e){return!1}return e.transform=t,!0},e.prototype._parseFormatString=function(e){var t=this._token;if(!this._accept(0))return!1;var n=!1;this._accept(3)&&(n=!0);var i=this._accept(8,!0);if(!i)return this._backTo(t),!1;if(!n)return e.appendChild(new f(Number(i))),!0;if(this._accept(4))return e.appendChild(new f(Number(i))),!0;if(!this._accept(1))return this._backTo(t),!1;if(this._accept(6)){var o=this._accept(9,!0);return o&&this._accept(4)?(e.appendChild(new f(Number(i),o)),!0):(this._backTo(t),!1)}if(this._accept(11)){if(r=this._until(4))return e.appendChild(new f(Number(i),void 0,r,void 0)),!0}else if(this._accept(12)){if(a=this._until(4))return e.appendChild(new f(Number(i),void 0,void 0,a)),!0}else if(this._accept(13)){var r;if(r=this._until(1))if(a=this._until(4))return e.appendChild(new f(Number(i),void 0,r,a)),!0}else{var a;if(a=this._until(4))return e.appendChild(new f(Number(i),void 0,void 0,a)),!0}return this._backTo(t),!1},e.prototype._parseAnything=function(e){return 14!==this._token.type&&(e.appendChild(new l(this._scanner.tokenText(this._token))),this._accept(void 0),!0)},e}()},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(177)},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r});var i=n(93),o=function(){function e(t){var n=Object(i.d)(t);this._defaultValue=n,this._asciiMap=e._createAsciiMap(n),this._map=new Map}return e._createAsciiMap=function(e){for(var t=new Uint8Array(256),n=0;n<256;n++)t[n]=e;return t},e.prototype.set=function(e,t){var n=Object(i.d)(t);e>=0&&e<256?this._asciiMap[e]=n:this._map.set(e,n)},e.prototype.get=function(e){return e>=0&&e<256?this._asciiMap[e]:this._map.get(e)||this._defaultValue},e}(),r=function(){function e(){this._actual=new o(0)}return e.prototype.add=function(e){this._actual.set(e,1)},e.prototype.has=function(e){return 1===this._actual.get(e)},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._entries=new Map;for(var n=0,i=e;n<i.length;n++){var o=i[n],r=o[0],a=o[1];this.set(r,a)}}return e.prototype.set=function(e,t){var n=this._entries.get(e);return this._entries.set(e,t),n},e.prototype.forEach=function(e){this._entries.forEach(function(t,n){return e(n,t)})},e.prototype.has=function(e){return this._entries.has(e)},e.prototype.get=function(e){return this._entries.get(e)},e}()},function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"a",function(){return s}),n.d(t,"c",function(){return l}),n.d(t,"b",function(){return c}),n.d(t,"e",function(){return u});var i=n(8),o=n(34);function r(e,t){var n=Object.create(null);for(var i in t){var o=t[i];"string"===typeof o?n[i]=e.getColor(o):"function"===typeof o&&(n[i]=o(e))}return n}function a(e,t,n){function i(i){var o=r(e.getTheme(),t);"function"===typeof n?n(o):n.style(o)}return i(e.getTheme()),e.onThemeChange(i)}function s(e,t,n){return a(t,{badgeBackground:n&&n.badgeBackground||i.c,badgeForeground:n&&n.badgeForeground||i.d,badgeBorder:i.e},e)}function l(e,t,n){return a(t,{foreground:n&&n.foreground||i.I,background:n&&n.background||i.n,borderColor:n&&n.borderColor||i.e,widgetShadow:n&&n.widgetShadow||i.rb,progressBarBackground:n&&n.progressBarBackground||i.jb,pickerGroupForeground:n&&n.pickerGroupForeground||i.ib,pickerGroupBorder:n&&n.pickerGroupBorder||i.hb,inputBackground:n&&n.inputBackground||i.K,inputForeground:n&&n.inputForeground||i.M,inputBorder:n&&n.inputBorder||i.L,inputValidationInfoBorder:n&&n.inputValidationInfoBorder||i.Q,inputValidationInfoBackground:n&&n.inputValidationInfoBackground||i.P,inputValidationWarningBorder:n&&n.inputValidationWarningBorder||i.S,inputValidationWarningBackground:n&&n.inputValidationWarningBackground||i.R,inputValidationErrorBorder:n&&n.inputValidationErrorBorder||i.O,inputValidationErrorBackground:n&&n.inputValidationErrorBackground||i.N,listFocusBackground:n&&n.listFocusBackground||i.W,listFocusForeground:n&&n.listFocusForeground||i.X,listActiveSelectionBackground:n&&n.listActiveSelectionBackground||i.T,listActiveSelectionForeground:n&&n.listActiveSelectionForeground||i.U,listFocusAndSelectionBackground:n&&n.listFocusAndSelectionBackground||i.T,listFocusAndSelectionForeground:n&&n.listFocusAndSelectionForeground||i.U,listInactiveSelectionBackground:n&&n.listInactiveSelectionBackground||i.cb,listInactiveSelectionForeground:n&&n.listInactiveSelectionForeground||i.db,listInactiveFocusBackground:n&&n.listInactiveFocusBackground||i.bb,listHoverBackground:n&&n.listHoverBackground||i.Z,listHoverForeground:n&&n.listHoverForeground||i.ab,listDropBackground:n&&n.listDropBackground||i.V,listFocusOutline:n&&n.listFocusOutline||i.b,listSelectionOutline:n&&n.listSelectionOutline||i.b,listHoverOutline:n&&n.listHoverOutline||i.b},e)}function c(e,t,n){return a(t,Object(o.g)(n||Object.create(null),u,!1),e)}var u={listFocusBackground:i.W,listFocusForeground:i.X,listActiveSelectionBackground:i.T,listActiveSelectionForeground:i.U,listFocusAndSelectionBackground:i.T,listFocusAndSelectionForeground:i.U,listInactiveSelectionBackground:i.cb,listInactiveSelectionForeground:i.db,listInactiveFocusBackground:i.bb,listHoverBackground:i.Z,listHoverForeground:i.ab,listDropBackground:i.V,listFocusOutline:i.b,listSelectionOutline:i.b,listHoverOutline:i.b}},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s});var i=n(9),o=function(){function e(e,t,n,i){this.startColumn=e,this.endColumn=t,this.className=n,this.type=i}return e._equals=function(e,t){return e.startColumn===t.startColumn&&e.endColumn===t.endColumn&&e.className===t.className&&e.type===t.type},e.equalsArr=function(t,n){var i=t.length;if(i!==n.length)return!1;for(var o=0;o<i;o++)if(!e._equals(t[o],n[o]))return!1;return!0},e.filter=function(t,n,i,o){if(0===t.length)return[];for(var r=[],a=0,s=0,l=t.length;s<l;s++){var c=t[s],u=c.range;if(!(u.endLineNumber<n||u.startLineNumber>n)&&(!u.isEmpty()||0!==c.type&&3!==c.type)){var d=u.startLineNumber===n?u.startColumn:i,h=u.endLineNumber===n?u.endColumn:o;r[a++]=new e(d,h,c.inlineClassName,c.type)}}return r},e.compare=function(e,t){return e.startColumn===t.startColumn?e.endColumn===t.endColumn?e.className<t.className?-1:e.className>t.className?1:0:e.endColumn-t.endColumn:e.startColumn-t.startColumn},e}(),r=function(){return function(e,t,n){this.startOffset=e,this.endOffset=t,this.className=n}}(),a=function(){function e(){this.stopOffsets=[],this.classNames=[],this.count=0}return e.prototype.consumeLowerThan=function(e,t,n){for(;this.count>0&&this.stopOffsets[0]<e;){for(var i=0;i+1<this.count&&this.stopOffsets[i]===this.stopOffsets[i+1];)i++;n.push(new r(t,this.stopOffsets[i],this.classNames.join(" "))),t=this.stopOffsets[i]+1,this.stopOffsets.splice(0,i+1),this.classNames.splice(0,i+1),this.count-=i+1}return this.count>0&&t<e&&(n.push(new r(t,e-1,this.classNames.join(" "))),t=e),t},e.prototype.insert=function(e,t){if(0===this.count||this.stopOffsets[this.count-1]<=e)this.stopOffsets.push(e),this.classNames.push(t);else for(var n=0;n<this.count;n++)if(this.stopOffsets[n]>=e){this.stopOffsets.splice(n,0,e),this.classNames.splice(n,0,t);break}this.count++},e}(),s=function(){function e(){}return e.normalize=function(e,t){if(0===t.length)return[];for(var n=[],o=new a,r=0,s=0,l=t.length;s<l;s++){var c=t[s],u=c.startColumn,d=c.endColumn,h=c.className;if(u>1){var f=e.charCodeAt(u-2);i.isHighSurrogate(f)&&u--}if(d>1){f=e.charCodeAt(d-2);i.isHighSurrogate(f)&&d--}var p=u-1,m=d-2;r=o.consumeLowerThan(p,r,n),0===o.count&&(r=p),o.insert(m,h)}return o.consumeLowerThan(1073741824,r,n),n},e}()},function(e,t,n){"use strict";var i=n(0),o=n(11),r=n(194),a=n(76),s=n(120),l=n(1),c=(n(408),n(34)),u=n(190),d=l.a,h=function(){function e(e,t){this.os=t,this.domNode=l.k(e,d(".monaco-keybinding")),this.didEverRender=!1,e.appendChild(this.domNode)}return e.prototype.set=function(t,n){this.didEverRender&&this.keybinding===t&&e.areSame(this.matches,n)||(this.keybinding=t,this.matches=n,this.render())},e.prototype.render=function(){if(l.l(this.domNode),this.keybinding){var e=this.keybinding.getParts(),t=e[0],n=e[1];t&&this.renderPart(this.domNode,t,this.matches?this.matches.firstPart:null),n&&(l.k(this.domNode,d("span.monaco-keybinding-key-chord-separator",null," ")),this.renderPart(this.domNode,n,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()}this.didEverRender=!0},e.prototype.renderPart=function(e,t,n){var i=u.b.modifierLabels[this.os];t.ctrlKey&&this.renderKey(e,i.ctrlKey,n&&n.ctrlKey,i.separator),t.shiftKey&&this.renderKey(e,i.shiftKey,n&&n.shiftKey,i.separator),t.altKey&&this.renderKey(e,i.altKey,n&&n.altKey,i.separator),t.metaKey&&this.renderKey(e,i.metaKey,n&&n.metaKey,i.separator);var o=t.keyLabel;o&&this.renderKey(e,o,n&&n.keyCode,"")},e.prototype.renderKey=function(e,t,n,i){l.k(e,d("span.monaco-keybinding-key"+(n?".highlight":""),null,t)),i&&l.k(e,d("span.monaco-keybinding-key-separator",null,i))},e.prototype.dispose=function(){this.keybinding=null},e.areSame=function(e,t){return e===t||!e&&!t||!!e&&!!t&&Object(c.e)(e.firstPart,t.firstPart)&&Object(c.e)(e.chordPart,t.chordPart)},e}(),f=n(18);n.d(t,"a",function(){return b}),n.d(t,"b",function(){return y}),n.d(t,"c",function(){return _});var p,m=(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),g=0,b=function(){function e(e){void 0===e&&(e=[]),this.id=(g++).toString(),this.labelHighlights=e,this.descriptionHighlights=[]}return e.prototype.getId=function(){return this.id},e.prototype.getLabel=function(){return null},e.prototype.getLabelOptions=function(){return null},e.prototype.getAriaLabel=function(){return[this.getLabel(),this.getDescription(),this.getDetail()].filter(function(e){return!!e}).join(", ")},e.prototype.getDetail=function(){return null},e.prototype.getIcon=function(){return null},e.prototype.getDescription=function(){return null},e.prototype.getTooltip=function(){return null},e.prototype.getDescriptionTooltip=function(){return null},e.prototype.getKeybinding=function(){return null},e.prototype.isHidden=function(){return this.hidden},e.prototype.setHighlights=function(e,t,n){this.labelHighlights=e,this.descriptionHighlights=t,this.detailHighlights=n},e.prototype.getHighlights=function(){return[this.labelHighlights,this.descriptionHighlights,this.detailHighlights]},e.prototype.run=function(e,t){return!1},e}(),y=function(e){function t(t,n,i){var o=e.call(this)||this;return o.entry=t,o.groupLabel=n,o.withBorder=i,o}return m(t,e),t.prototype.getGroupLabel=function(){return this.groupLabel},t.prototype.setGroupLabel=function(e){this.groupLabel=e},t.prototype.showBorder=function(){return this.withBorder},t.prototype.setShowBorder=function(e){this.withBorder=e},t.prototype.getLabel=function(){return this.entry?this.entry.getLabel():e.prototype.getLabel.call(this)},t.prototype.getLabelOptions=function(){return this.entry?this.entry.getLabelOptions():e.prototype.getLabelOptions.call(this)},t.prototype.getAriaLabel=function(){return this.entry?this.entry.getAriaLabel():e.prototype.getAriaLabel.call(this)},t.prototype.getDetail=function(){return this.entry?this.entry.getDetail():e.prototype.getDetail.call(this)},t.prototype.getIcon=function(){return this.entry?this.entry.getIcon():e.prototype.getIcon.call(this)},t.prototype.getDescription=function(){return this.entry?this.entry.getDescription():e.prototype.getDescription.call(this)},t.prototype.getHighlights=function(){return this.entry?this.entry.getHighlights():e.prototype.getHighlights.call(this)},t.prototype.isHidden=function(){return this.entry?this.entry.isHidden():e.prototype.isHidden.call(this)},t.prototype.setHighlights=function(t,n,i){this.entry?this.entry.setHighlights(t,n,i):e.prototype.setHighlights.call(this,t,n,i)},t.prototype.run=function(t,n){return this.entry?this.entry.run(t,n):e.prototype.run.call(this,t,n)},t}(b),v=function(){function e(){}return e.prototype.hasActions=function(e,t){return!1},e.prototype.getActions=function(e,t){return o.b.as(null)},e}(),w=function(){function e(e,t){void 0===e&&(e=new v),void 0===t&&(t=null),this.actionProvider=e,this.actionRunner=t}return e.prototype.getHeight=function(e){return e.getDetail()?44:22},e.prototype.getTemplateId=function(e){return e instanceof y?"quickOpenEntryGroup":"quickOpenEntry"},e.prototype.renderTemplate=function(e,t,n){var i=document.createElement("div");l.f(i,"sub-content"),t.appendChild(i);var o=l.a(".quick-open-row"),c=l.a(".quick-open-row"),u=l.a(".quick-open-entry",null,o,c);i.appendChild(u);var d=document.createElement("span");o.appendChild(d);var p=new r.b(o,{supportHighlights:!0,supportDescriptionHighlights:!0}),m=document.createElement("span");o.appendChild(m),l.f(m,"quick-open-entry-keybinding");var g=new h(m,f.a),b=document.createElement("div");c.appendChild(b),l.f(b,"quick-open-entry-meta");var y,v=new s.a(b);"quickOpenEntryGroup"===e&&(y=document.createElement("div"),l.f(y,"results-group"),t.appendChild(y)),l.f(t,"actions");var w=document.createElement("div");return l.f(w,"primary-action-bar"),t.appendChild(w),{container:t,entry:u,icon:d,label:p,detail:v,keybinding:g,group:y,actionBar:new a.a(w,{actionRunner:this.actionRunner})}},e.prototype.renderElement=function(e,t,n,i){if(this.actionProvider.hasActions(null,e)?l.f(n.container,"has-actions"):l.G(n.container,"has-actions"),n.actionBar.context=e,this.actionProvider.getActions(null,e).then(function(e){n.actionBar.isEmpty()&&e&&e.length>0?n.actionBar.push(e,{icon:!0,label:!1}):n.actionBar.isEmpty()||e&&0!==e.length||n.actionBar.clear()}),e instanceof y&&e.getGroupLabel()?l.f(n.container,"has-group-label"):l.G(n.container,"has-group-label"),e instanceof y){var o=e,r=n;o.showBorder()?(l.f(r.container,"results-group-separator"),r.container.style.borderTopColor=i.pickerGroupBorder.toString()):(l.G(r.container,"results-group-separator"),r.container.style.borderTopColor=null);var a=o.getGroupLabel()||"";r.group.textContent=a,r.group.style.color=i.pickerGroupForeground.toString()}if(e instanceof b){var s=e.getHighlights(),c=s[0],u=s[1],d=s[2],h=e.getIcon()?"quick-open-entry-icon "+e.getIcon():"";n.icon.className=h;var f=e.getLabelOptions()||Object.create(null);f.matches=c||[],f.title=e.getTooltip(),f.descriptionTitle=e.getDescriptionTooltip()||e.getDescription(),f.descriptionMatches=u||[],n.label.setValue(e.getLabel(),e.getDescription(),f),n.detail.set(e.getDetail(),d),n.keybinding.set(e.getKeybinding(),null)}},e.prototype.disposeTemplate=function(e,t){var n=t;n.actionBar.dispose(),n.actionBar=null,n.container=null,n.entry=null,n.keybinding.dispose(),n.keybinding=null,n.detail.dispose(),n.detail=null,n.group=null,n.icon=null,n.label.dispose(),n.label=null},e}(),_=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t=new v),this._entries=e,this._dataSource=this,this._renderer=new w(t),this._filter=this,this._runner=this,this._accessibilityProvider=this}return Object.defineProperty(e.prototype,"entries",{get:function(){return this._entries},set:function(e){this._entries=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataSource",{get:function(){return this._dataSource},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderer",{get:function(){return this._renderer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"runner",{get:function(){return this._runner},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"accessibilityProvider",{get:function(){return this._accessibilityProvider},enumerable:!0,configurable:!0}),e.prototype.getId=function(e){return e.getId()},e.prototype.getLabel=function(e){return e.getLabel()},e.prototype.getAriaLabel=function(e){return e.getAriaLabel()?i.a("quickOpenAriaLabelEntry","{0}, picker",e.getAriaLabel()):i.a("quickOpenAriaLabel","picker")},e.prototype.isVisible=function(e){return!e.isHidden()},e.prototype.run=function(e,t,n){return e.run(t,n)},e}()},function(e,t,n){"use strict";var i=n(1),o=n(34),r=n(9);function a(e){return Object(r.escape)(e)}n.d(t,"a",function(){return s});var s=function(){function e(e){this.domNode=document.createElement("span"),this.domNode.className="monaco-highlighted-label",this.didEverRender=!1,e.appendChild(this.domNode)}return Object.defineProperty(e.prototype,"element",{get:function(){return this.domNode},enumerable:!0,configurable:!0}),e.prototype.set=function(t,n,i,r){void 0===n&&(n=[]),void 0===i&&(i=""),t||(t=""),r&&(t=e.escapeNewLines(t,n)),this.didEverRender&&this.text===t&&this.title===i&&o.e(this.highlights,n)||(Array.isArray(n)||(n=[]),this.text=t,this.title=i,this.highlights=n,this.render())},e.prototype.render=function(){i.l(this.domNode);for(var e,t=[],n=0,o=0;o<this.highlights.length;o++)(e=this.highlights[o]).end!==e.start&&(n<e.start&&(t.push("<span>"),t.push(a(this.text.substring(n,e.start))),t.push("</span>"),n=e.end),t.push('<span class="highlight">'),t.push(a(this.text.substring(e.start,e.end))),t.push("</span>"),n=e.end);n<this.text.length&&(t.push("<span>"),t.push(a(this.text.substring(n))),t.push("</span>")),this.domNode.innerHTML=t.join(""),this.domNode.title=this.title,this.didEverRender=!0},e.prototype.dispose=function(){this.text=null,this.highlights=null},e.escapeNewLines=function(e,t){var n=0,i=0;return e.replace(/\r\n|\r|\n/,function(e,o){i="\r\n"===e?-1:0,o+=n;for(var r=0,a=t;r<a.length;r++){var s=a[r];s.end<=o||(s.start>=o&&(s.start+=i),s.end>=o&&(s.end+=i))}return n+=i,"\u23ce"})},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var i=n(9),o=n(23),r=n(2),a=n(26),s=n(35),l=function(){function e(e,t){this._opts=t,this._selection=e,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}return e.unshiftIndentCount=function(e,t,n){var i=o.a.visibleColumnFromColumn(e,t,n);return o.a.prevTabStop(i,n)/n},e.shiftIndentCount=function(e,t,n){var i=o.a.visibleColumnFromColumn(e,t,n);return o.a.nextTabStop(i,n)/n},e.prototype._addEditOperation=function(e,t,n){this._useLastEditRangeForCursorEndPosition?e.addTrackedEditOperation(t,n):e.addEditOperation(t,n)},e.prototype.getEditOperations=function(t,n){var a=this._selection.startLineNumber,l=this._selection.endLineNumber;1===this._selection.endColumn&&a!==l&&(l-=1);var c=this._opts.tabSize,u=this._opts.oneIndent,d=a===l;if(this._selection.isEmpty()&&/^\s*$/.test(t.getLineContent(a))&&(this._useLastEditRangeForCursorEndPosition=!0),this._opts.useTabStops)for(var h=["",u],f=0,p=0,m=a;m<=l;m++,f=p){p=0;var g=t.getLineContent(m),b=i.firstNonWhitespaceIndex(g);if((!this._opts.isUnshift||0!==g.length&&0!==b)&&(d||this._opts.isUnshift||0!==g.length)){if(-1===b&&(b=g.length),m>1)if(o.a.visibleColumnFromColumn(g,b+1,c)%c!==0&&t.isCheapToTokenize(m-1)){var y=s.a.getRawEnterActionAtPosition(t,m-1,t.getLineMaxColumn(m-1));if(y){if(p=f,y.appendText)for(var v=0,w=y.appendText.length;v<w&&p<c&&32===y.appendText.charCodeAt(v);v++)p++;y.removeText&&(p=Math.max(0,p-y.removeText));for(v=0;v<p&&(0!==b&&32===g.charCodeAt(b-1));v++)b--}}if(!this._opts.isUnshift||0!==b){var _=void 0;_=this._opts.isUnshift?e.unshiftIndentCount(g,b+1,c):e.shiftIndentCount(g,b+1,c);for(v=h.length;v<=_;v++)h[v]=h[v-1]+u;this._addEditOperation(n,new r.a(m,1,m,b+1),h[_]),m===a&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=b+1)}}}else for(m=a;m<=l;m++){g=t.getLineContent(m),b=i.firstNonWhitespaceIndex(g);if((!this._opts.isUnshift||0!==g.length&&0!==b)&&((d||this._opts.isUnshift||0!==g.length)&&(-1===b&&(b=g.length),!this._opts.isUnshift||0!==b)))if(this._opts.isUnshift){b=Math.min(b,c);for(var S=0;S<b;S++){if(9===g.charCodeAt(S)){b=S+1;break}}this._addEditOperation(n,new r.a(m,1,m,b+1),"")}else this._addEditOperation(n,new r.a(m,1,m,1),u),m===a&&(this._selectionStartColumnStaysPut=1===this._selection.startColumn)}this._selectionId=n.trackSelection(this._selection)},e.prototype.computeCursorState=function(e,t){if(this._useLastEditRangeForCursorEndPosition){var n=t.getInverseEditOperations()[0];return new a.a(n.range.endLineNumber,n.range.endColumn,n.range.endLineNumber,n.range.endColumn)}var i=t.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){var o=this._selection.startColumn;return i.startColumn<=o?i:i.getDirection()===a.b.LTR?new a.a(i.startLineNumber,o,i.endLineNumber,i.endColumn):new a.a(i.endLineNumber,i.endColumn,i.startLineNumber,o)}return i},e}()},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var i=n(133);function o(){}var r=null,a={};function s(e){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("Promise constructor's argument is not a function");this._75=0,this._83=0,this._18=null,this._38=null,e!==o&&f(e,this)}function l(e,t){for(;3===e._83;)e=e._18;if(s._47&&s._47(e),0===e._83)return 0===e._75?(e._75=1,void(e._38=t)):1===e._75?(e._75=2,void(e._38=[e._38,t])):void e._38.push(t);!function(e,t){i(function(){var n=1===e._83?t.onFulfilled:t.onRejected;if(null!==n){var i=function(e,t){try{return e(t)}catch(e){return r=e,a}}(n,e._18);i===a?u(t.promise,r):c(t.promise,i)}else 1===e._83?c(t.promise,e._18):u(t.promise,e._18)})}(e,t)}function c(e,t){if(t===e)return u(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"===typeof t||"function"===typeof t)){var n=function(e){try{return e.then}catch(e){return r=e,a}}(t);if(n===a)return u(e,r);if(n===e.then&&t instanceof s)return e._83=3,e._18=t,void d(e);if("function"===typeof n)return void f(n.bind(t),e)}e._83=1,e._18=t,d(e)}function u(e,t){e._83=2,e._18=t,s._71&&s._71(e,t),d(e)}function d(e){if(1===e._75&&(l(e,e._38),e._38=null),2===e._75){for(var t=0;t<e._38.length;t++)l(e,e._38[t]);e._38=null}}function h(e,t,n){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.promise=n}function f(e,t){var n=!1,i=function(e,t,n){try{e(t,n)}catch(e){return r=e,a}}(e,function(e){n||(n=!0,c(t,e))},function(e){n||(n=!0,u(t,e))});n||i!==a||(n=!0,u(t,r))}e.exports=s,s._47=null,s._71=null,s._44=o,s.prototype.then=function(e,t){if(this.constructor!==s)return function(e,t,n){return new e.constructor(function(i,r){var a=new s(o);a.then(i,r),l(e,new h(t,n,a))})}(this,e,t);var n=new s(o);return l(this,new h(e,t,n)),n}},function(e,t,n){"use strict";var i=function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function s(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((i=i.apply(e,t||[])).next())})},o=function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},r=2500,a=function(){function e(e){var t=this;this.rejectors={},this.resolvers={},this.handleWSMessage=function(e){var n=JSON.parse(e.data.toString());if(!n.id)throw new Error("Got reply with no id: "+e.data);if(n.id in t.resolvers)try{n.error?t.rejectors[n.id](n):t.resolvers[n.id](n)}finally{delete t.rejectors[n.id],delete t.resolvers[n.id]}},this.ping=function(){return i(t,void 0,Promise,function(){return o(this,function(e){switch(e.label){case 0:return[4,this.call("ping",{})];case 1:return e.sent(),[2]}})})},this.socket=e,this.socket.addEventListener("message",this.handleWSMessage),this.pingInterval=window.setInterval(this.ping,r)}return e.prototype.call=function(e,t){var n=this,i=this.genID();if("string"!==typeof e)throw new Error("method must be a string, got "+typeof e+", "+e);var o={id:i,jsonrpc:"2.0",method:e,params:t};if(this.socket.readyState!==WebSocket.OPEN){var r={error:{code:-32e3,message:"Network error"},id:i,jsonrpc:"2.0"};return Promise.reject(r)}var a=new Promise(function(e,t){n.resolvers[i]=e,n.rejectors[i]=t});return this.socket.send(JSON.stringify(o)),a},e.prototype.destroy=function(){clearInterval(this.pingInterval);for(var e=0,t=Object.keys(this.resolvers);e<t.length;e++){var n=t[e],i={error:{code:-32e3,message:"Network error"},id:n,jsonrpc:"2.0"};this.rejectors[n](i),delete this.resolvers[n],delete this.rejectors[n]}delete this.resolvers,delete this.rejectors,delete this.socket},e.prototype.genID=function(){var e=new Uint32Array(1);return crypto.getRandomValues(e),e[0].toString()},e}();t.a=a},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n(25),o=Object(i.c)("progressService")},function(e,t,n){"use strict";n.r(t),n.d(t,"MoveWordCommand",function(){return m}),n.d(t,"WordLeftCommand",function(){return g}),n.d(t,"WordRightCommand",function(){return b}),n.d(t,"CursorWordStartLeft",function(){return y}),n.d(t,"CursorWordEndLeft",function(){return v}),n.d(t,"CursorWordLeft",function(){return w}),n.d(t,"CursorWordStartLeftSelect",function(){return _}),n.d(t,"CursorWordEndLeftSelect",function(){return S}),n.d(t,"CursorWordLeftSelect",function(){return C}),n.d(t,"CursorWordStartRight",function(){return x}),n.d(t,"CursorWordEndRight",function(){return k}),n.d(t,"CursorWordRight",function(){return T}),n.d(t,"CursorWordStartRightSelect",function(){return O}),n.d(t,"CursorWordEndRightSelect",function(){return N}),n.d(t,"CursorWordRightSelect",function(){return L}),n.d(t,"DeleteWordCommand",function(){return I}),n.d(t,"DeleteWordLeftCommand",function(){return E}),n.d(t,"DeleteWordRightCommand",function(){return D}),n.d(t,"DeleteWordStartLeft",function(){return A}),n.d(t,"DeleteWordEndLeft",function(){return M}),n.d(t,"DeleteWordLeft",function(){return P}),n.d(t,"DeleteWordStartRight",function(){return R}),n.d(t,"DeleteWordEndRight",function(){return F}),n.d(t,"DeleteWordRight",function(){return j});var i,o=n(6),r=n(26),a=n(3),s=n(10),l=n(2),c=n(107),u=n(46),d=n(102),h=n(23),f=n(38),p=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),m=function(e){function t(t){var n=e.call(this,t)||this;return n._inSelectionMode=t.inSelectionMode,n._wordNavigationType=t.wordNavigationType,n}return p(t,e),t.prototype.runEditorCommand=function(e,t,n){var i=this,o=t.getConfiguration(),r=Object(d.a)(o.wordSeparators),a=t.getModel(),l=t.getSelections().map(function(e){var t=new s.a(e.positionLineNumber,e.positionColumn),n=i._move(r,a,t,i._wordNavigationType);return i._moveTo(e,n,i._inSelectionMode)});if(t._getCursors().setStates("moveWordCommand",f.a.NotSet,l.map(function(e){return h.d.fromModelSelection(e)})),1===l.length){var c=new s.a(l[0].positionLineNumber,l[0].positionColumn);t.revealPosition(c,0)}},t.prototype._moveTo=function(e,t,n){return n?new r.a(e.selectionStartLineNumber,e.selectionStartColumn,t.lineNumber,t.column):new r.a(t.lineNumber,t.column,t.lineNumber,t.column)},t}(a.c),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),t.prototype._move=function(e,t,n,i){return c.a.moveWordLeft(e,t,n,i)},t}(m),b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),t.prototype._move=function(e,t,n,i){return c.a.moveWordRight(e,t,n,i)},t}(m),y=function(e){function t(){return e.call(this,{inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:null,kbOpts:{kbExpr:o.a.textInputFocus,primary:2063,mac:{primary:527},weight:100}})||this}return p(t,e),t}(g),v=function(e){function t(){return e.call(this,{inSelectionMode:!1,wordNavigationType:1,id:"cursorWordEndLeft",precondition:null})||this}return p(t,e),t}(g),w=function(e){function t(){return e.call(this,{inSelectionMode:!1,wordNavigationType:0,id:"cursorWordLeft",precondition:null})||this}return p(t,e),t}(g),_=function(e){function t(){return e.call(this,{inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:null,kbOpts:{kbExpr:o.a.textInputFocus,primary:3087,mac:{primary:1551},weight:100}})||this}return p(t,e),t}(g),S=function(e){function t(){return e.call(this,{inSelectionMode:!0,wordNavigationType:1,id:"cursorWordEndLeftSelect",precondition:null})||this}return p(t,e),t}(g),C=function(e){function t(){return e.call(this,{inSelectionMode:!0,wordNavigationType:0,id:"cursorWordLeftSelect",precondition:null})||this}return p(t,e),t}(g),x=function(e){function t(){return e.call(this,{inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:null})||this}return p(t,e),t}(b),k=function(e){function t(){return e.call(this,{inSelectionMode:!1,wordNavigationType:1,id:"cursorWordEndRight",precondition:null,kbOpts:{kbExpr:o.a.textInputFocus,primary:2065,mac:{primary:529},weight:100}})||this}return p(t,e),t}(b),T=function(e){function t(){return e.call(this,{inSelectionMode:!1,wordNavigationType:1,id:"cursorWordRight",precondition:null})||this}return p(t,e),t}(b),O=function(e){function t(){return e.call(this,{inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:null})||this}return p(t,e),t}(b),N=function(e){function t(){return e.call(this,{inSelectionMode:!0,wordNavigationType:1,id:"cursorWordEndRightSelect",precondition:null,kbOpts:{kbExpr:o.a.textInputFocus,primary:3089,mac:{primary:1553},weight:100}})||this}return p(t,e),t}(b),L=function(e){function t(){return e.call(this,{inSelectionMode:!0,wordNavigationType:1,id:"cursorWordRightSelect",precondition:null})||this}return p(t,e),t}(b),I=function(e){function t(t){var n=e.call(this,t)||this;return n._whitespaceHeuristics=t.whitespaceHeuristics,n._wordNavigationType=t.wordNavigationType,n}return p(t,e),t.prototype.runEditorCommand=function(e,t,n){var i=this,o=t.getConfiguration(),r=Object(d.a)(o.wordSeparators),a=t.getModel(),s=t.getSelections().map(function(e){var t=i._delete(r,a,e,i._whitespaceHeuristics,i._wordNavigationType);return new u.a(t,"")});t.pushUndoStop(),t.executeCommands(this.id,s),t.pushUndoStop()},t}(a.c),E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),t.prototype._delete=function(e,t,n,i,o){var r=c.a.deleteWordLeft(e,t,n,i,o);return r||new l.a(1,1,1,1)},t}(I),D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),t.prototype._delete=function(e,t,n,i,o){var r=c.a.deleteWordRight(e,t,n,i,o);if(r)return r;var a=t.getLineCount(),s=t.getLineMaxColumn(a);return new l.a(a,s,a,s)},t}(I),A=function(e){function t(){return e.call(this,{whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:o.a.writable})||this}return p(t,e),t}(E),M=function(e){function t(){return e.call(this,{whitespaceHeuristics:!1,wordNavigationType:1,id:"deleteWordEndLeft",precondition:o.a.writable})||this}return p(t,e),t}(E),P=function(e){function t(){return e.call(this,{whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:o.a.writable,kbOpts:{kbExpr:o.a.textInputFocus,primary:2049,mac:{primary:513},weight:100}})||this}return p(t,e),t}(E),R=function(e){function t(){return e.call(this,{whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:o.a.writable})||this}return p(t,e),t}(D),F=function(e){function t(){return e.call(this,{whitespaceHeuristics:!1,wordNavigationType:1,id:"deleteWordEndRight",precondition:o.a.writable})||this}return p(t,e),t}(D),j=function(e){function t(){return e.call(this,{whitespaceHeuristics:!0,wordNavigationType:1,id:"deleteWordRight",precondition:o.a.writable,kbOpts:{kbExpr:o.a.textInputFocus,primary:2068,mac:{primary:532},weight:100}})||this}return p(t,e),t}(D);Object(a.g)(new y),Object(a.g)(new v),Object(a.g)(new w),Object(a.g)(new _),Object(a.g)(new S),Object(a.g)(new C),Object(a.g)(new x),Object(a.g)(new k),Object(a.g)(new T),Object(a.g)(new O),Object(a.g)(new N),Object(a.g)(new L),Object(a.g)(new A),Object(a.g)(new M),Object(a.g)(new P),Object(a.g)(new R),Object(a.g)(new F),Object(a.g)(new j)},function(e,t,n){"use strict";n.d(t,"b",function(){return y}),n.d(t,"a",function(){return w}),n.d(t,"d",function(){return k}),n.d(t,"c",function(){return T});var i,o=n(0),r=n(5),a=n(7),s=n(34),l=n(18),c=n(104),u=n(60),d=n(128),h=n(98),f=n(31),p=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),m=f.a,g=f.b,b=f.c,y=new(function(){function e(){this._tabFocus=!1,this._onDidChangeTabFocus=new r.a,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}return e.prototype.getTabFocusMode=function(){return this._tabFocus},e.prototype.setTabFocusMode=function(e){this._tabFocus!==e&&(this._tabFocus=e,this._onDidChangeTabFocus.fire(this._tabFocus))},e}()),v=Object.hasOwnProperty,w=function(e){function t(t){var n=e.call(this)||this;return n._onDidChange=n._register(new r.a),n.onDidChange=n._onDidChange.event,n._rawOptions=s.g({},t||{}),n._rawOptions.scrollbar=s.g({},n._rawOptions.scrollbar||{}),n._rawOptions.minimap=s.g({},n._rawOptions.minimap||{}),n._rawOptions.find=s.g({},n._rawOptions.find||{}),n._rawOptions.hover=s.g({},n._rawOptions.hover||{}),n._validatedOptions=f.d.validate(n._rawOptions,m),n.editor=null,n._isDominatedByLongLines=!1,n._lineNumbersDigitCount=1,n._register(h.a.onDidChangeZoomLevel(function(e){return n._recomputeOptions()})),n._register(y.onDidChangeTabFocus(function(e){return n._recomputeOptions()})),n}return p(t,e),t.prototype.observeReferenceElement=function(e){},t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype._recomputeOptions=function(){var e=this.editor,t=this._computeInternalOptions();e&&e.equals(t)||(this.editor=t,e&&this._onDidChange.fire(e.createChangeEvent(t)))},t.prototype.getRawOptions=function(){return this._rawOptions},t.prototype._computeInternalOptions=function(){var e=this._validatedOptions,t=this._getEnvConfiguration(),n=d.a.createFromRawSettings(this._rawOptions,t.zoomLevel),i={outerWidth:t.outerWidth,outerHeight:t.outerHeight,fontInfo:this.readConfiguration(n),extraEditorClassName:t.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:t.emptySelectionClipboard,pixelRatio:t.pixelRatio,tabFocusMode:y.getTabFocusMode(),accessibilitySupport:t.accessibilitySupport};return f.f.createInternalEditorOptions(i,e)},t._primitiveArrayEquals=function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},t._subsetEquals=function(e,t){for(var n in t)if(v.call(t,n)){var i=t[n],o=e[n];if(o===i)continue;if(Array.isArray(o)&&Array.isArray(i)){if(!this._primitiveArrayEquals(o,i))return!1;continue}if("object"===typeof o&&"object"===typeof i){if(!this._subsetEquals(o,i))return!1;continue}return!1}return!0},t.prototype.updateOptions=function(e){"undefined"!==typeof e&&(t._subsetEquals(this._rawOptions,e)||(this._rawOptions=s.g(this._rawOptions,e||{}),this._validatedOptions=f.d.validate(this._rawOptions,m),this._recomputeOptions()))},t.prototype.setIsDominatedByLongLines=function(e){this._isDominatedByLongLines=e,this._recomputeOptions()},t.prototype.setMaxLineNumber=function(e){var n=t._digitCount(e);this._lineNumbersDigitCount!==n&&(this._lineNumbersDigitCount=n,this._recomputeOptions())},t._digitCount=function(e){for(var t=0;e;)e=Math.floor(e/10),t++;return t||1},t}(a.a),_=u.a.as(c.b.Configuration),S={id:"editor",order:5,type:"object",title:o.a("editorConfigurationTitle","Editor"),overridable:!0,scope:c.a.RESOURCE,properties:{"editor.fontFamily":{type:"string",default:g.fontFamily,description:o.a("fontFamily","Controls the font family.")},"editor.fontWeight":{type:"string",enum:["normal","bold","100","200","300","400","500","600","700","800","900"],default:g.fontWeight,description:o.a("fontWeight","Controls the font weight.")},"editor.fontSize":{type:"number",default:g.fontSize,description:o.a("fontSize","Controls the font size in pixels.")},"editor.lineHeight":{type:"number",default:g.lineHeight,description:o.a("lineHeight","Controls the line height. Use 0 to compute the line height from the font size.")},"editor.letterSpacing":{type:"number",default:g.letterSpacing,description:o.a("letterSpacing","Controls the letter spacing in pixels.")},"editor.lineNumbers":{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[o.a("lineNumbers.off","Line numbers are not rendered."),o.a("lineNumbers.on","Line numbers are rendered as absolute number."),o.a("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),o.a("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:o.a("lineNumbers","Controls the display of line numbers.")},"editor.rulers":{type:"array",items:{type:"number"},default:m.viewInfo.rulers,description:o.a("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")},"editor.wordSeparators":{type:"string",default:m.wordSeparators,description:o.a("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")},"editor.tabSize":{type:"number",default:b.tabSize,minimum:1,description:o.a("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on."),errorMessage:o.a("tabSize.errorMessage","Expected 'number'. Note that the value \"auto\" has been replaced by the `editor.detectIndentation` setting.")},"editor.insertSpaces":{type:"boolean",default:b.insertSpaces,description:o.a("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on."),errorMessage:o.a("insertSpaces.errorMessage","Expected 'boolean'. Note that the value \"auto\" has been replaced by the `editor.detectIndentation` setting.")},"editor.detectIndentation":{type:"boolean",default:b.detectIndentation,description:o.a("detectIndentation","Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.")},"editor.roundedSelection":{type:"boolean",default:m.viewInfo.roundedSelection,description:o.a("roundedSelection","Controls whether selections should have rounded corners.")},"editor.scrollBeyondLastLine":{type:"boolean",default:m.viewInfo.scrollBeyondLastLine,description:o.a("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")},"editor.scrollBeyondLastColumn":{type:"number",default:m.viewInfo.scrollBeyondLastColumn,description:o.a("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")},"editor.smoothScrolling":{type:"boolean",default:m.viewInfo.smoothScrolling,description:o.a("smoothScrolling","Controls whether the editor will scroll using an animation.")},"editor.minimap.enabled":{type:"boolean",default:m.viewInfo.minimap.enabled,description:o.a("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:m.viewInfo.minimap.side,description:o.a("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:m.viewInfo.minimap.showSlider,description:o.a("minimap.showSlider","Controls whether the minimap slider is automatically hidden.")},"editor.minimap.renderCharacters":{type:"boolean",default:m.viewInfo.minimap.renderCharacters,description:o.a("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:m.viewInfo.minimap.maxColumn,description:o.a("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")},"editor.hover.enabled":{type:"boolean",default:m.contribInfo.hover.enabled,description:o.a("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:m.contribInfo.hover.delay,description:o.a("hover.delay","Time delay in milliseconds after which to the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:m.contribInfo.hover.sticky,description:o.a("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.find.seedSearchStringFromSelection":{type:"boolean",default:m.contribInfo.find.seedSearchStringFromSelection,description:o.a("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"boolean",default:m.contribInfo.find.autoFindInSelection,description:o.a("find.autoFindInSelection","Controls whether the find operation is carried on selected text or the entire file in the editor.")},"editor.find.globalFindClipboard":{type:"boolean",default:m.contribInfo.find.globalFindClipboard,description:o.a("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:l.d},"editor.wordWrap":{type:"string",enum:["off","on","wordWrapColumn","bounded"],enumDescriptions:[o.a("wordWrap.off","Lines will never wrap."),o.a("wordWrap.on","Lines will wrap at the viewport width."),o.a({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),o.a({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],default:m.wordWrap,description:o.a({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")},"editor.wordWrapColumn":{type:"integer",default:m.wordWrapColumn,minimum:1,description:o.a({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")},"editor.wrappingIndent":{type:"string",enum:["none","same","indent","deepIndent"],enumDescriptions:[o.a("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),o.a("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),o.a("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),o.a("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],default:"same",description:o.a("wrappingIndent","Controls the indentation of wrapped lines.")},"editor.mouseWheelScrollSensitivity":{type:"number",default:m.viewInfo.scrollbar.mouseWheelScrollSensitivity,description:o.a("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},"editor.multiCursorModifier":{type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[o.a("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),o.a("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"alt",description:o.a({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go To Definition and Open Link mouse gestures will adapt such that they do not conflict with the multicursor modifier. [Read more](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")},"editor.multiCursorMergeOverlapping":{type:"boolean",default:m.multiCursorMergeOverlapping,description:o.a("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")},"editor.quickSuggestions":{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:!1,description:o.a("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{type:"boolean",default:!1,description:o.a("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{type:"boolean",default:!0,description:o.a("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}}}],default:m.contribInfo.quickSuggestions,description:o.a("quickSuggestions","Controls whether suggestions should automatically show up while typing.")},"editor.quickSuggestionsDelay":{type:"integer",default:m.contribInfo.quickSuggestionsDelay,minimum:0,description:o.a("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")},"editor.parameterHints":{type:"boolean",default:m.contribInfo.parameterHints,description:o.a("parameterHints","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.autoClosingBrackets":{type:"boolean",default:m.autoClosingBrackets,description:o.a("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")},"editor.formatOnType":{type:"boolean",default:m.contribInfo.formatOnType,description:o.a("formatOnType","Controls whether the editor should automatically format the line after typing.")},"editor.formatOnPaste":{type:"boolean",default:m.contribInfo.formatOnPaste,description:o.a("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")},"editor.autoIndent":{type:"boolean",default:m.autoIndent,description:o.a("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste or move lines. Extensions with indentation rules of the language must be available.")},"editor.suggestOnTriggerCharacters":{type:"boolean",default:m.contribInfo.suggestOnTriggerCharacters,description:o.a("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")},"editor.acceptSuggestionOnEnter":{type:"string",enum:["on","smart","off"],default:m.contribInfo.acceptSuggestionOnEnter,enumDescriptions:["",o.a("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],description:o.a("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")},"editor.acceptSuggestionOnCommitCharacter":{type:"boolean",default:m.contribInfo.acceptSuggestionOnCommitCharacter,description:o.a("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")},"editor.snippetSuggestions":{type:"string",enum:["top","bottom","inline","none"],enumDescriptions:[o.a("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),o.a("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),o.a("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),o.a("snippetSuggestions.none","Do not show snippet suggestions.")],default:m.contribInfo.suggest.snippets,description:o.a("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")},"editor.emptySelectionClipboard":{type:"boolean",default:m.emptySelectionClipboard,description:o.a("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")},"editor.wordBasedSuggestions":{type:"boolean",default:m.contribInfo.wordBasedSuggestions,description:o.a("wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.suggestSelection":{type:"string",enum:["first","recentlyUsed","recentlyUsedByPrefix"],enumDescriptions:[o.a("suggestSelection.first","Always select the first suggestion."),o.a("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),o.a("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],default:"recentlyUsed",description:o.a("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")},"editor.suggestFontSize":{type:"integer",default:0,minimum:0,description:o.a("suggestFontSize","Font size for the suggest widget.")},"editor.suggestLineHeight":{type:"integer",default:0,minimum:0,description:o.a("suggestLineHeight","Line height for the suggest widget.")},"editor.suggest.filterGraceful":{type:"boolean",default:!0,description:o.a("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:!0,description:o.a("suggest.snippetsPreventQuickSuggestions","Control whether an active snippet prevents quick suggestions.")},"editor.selectionHighlight":{type:"boolean",default:m.contribInfo.selectionHighlight,description:o.a("selectionHighlight","Controls whether the editor should highlight matches similar to the selection")},"editor.occurrencesHighlight":{type:"boolean",default:m.contribInfo.occurrencesHighlight,description:o.a("occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")},"editor.overviewRulerLanes":{type:"integer",default:3,description:o.a("overviewRulerLanes","Controls the number of decorations that can show up at the same position in the overview ruler.")},"editor.overviewRulerBorder":{type:"boolean",default:m.viewInfo.overviewRulerBorder,description:o.a("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")},"editor.cursorBlinking":{type:"string",enum:["blink","smooth","phase","expand","solid"],default:f.k(m.viewInfo.cursorBlinking),description:o.a("cursorBlinking","Control the cursor animation style.")},"editor.mouseWheelZoom":{type:"boolean",default:m.viewInfo.mouseWheelZoom,description:o.a("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")},"editor.cursorStyle":{type:"string",enum:["block","block-outline","line","line-thin","underline","underline-thin"],default:f.l(m.viewInfo.cursorStyle),description:o.a("cursorStyle","Controls the cursor style.")},"editor.cursorWidth":{type:"integer",default:m.viewInfo.cursorWidth,description:o.a("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")},"editor.fontLigatures":{type:"boolean",default:m.viewInfo.fontLigatures,description:o.a("fontLigatures","Enables/Disables font ligatures.")},"editor.hideCursorInOverviewRuler":{type:"boolean",default:m.viewInfo.hideCursorInOverviewRuler,description:o.a("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")},"editor.renderWhitespace":{type:"string",enum:["none","boundary","all"],enumDescriptions:["",o.a("renderWhiteSpace.boundary","Render whitespace characters except for single spaces between words."),""],default:m.viewInfo.renderWhitespace,description:o.a("renderWhitespace","Controls how the editor should render whitespace characters.")},"editor.renderControlCharacters":{type:"boolean",default:m.viewInfo.renderControlCharacters,description:o.a("renderControlCharacters","Controls whether the editor should render control characters.")},"editor.renderIndentGuides":{type:"boolean",default:m.viewInfo.renderIndentGuides,description:o.a("renderIndentGuides","Controls whether the editor should render indent guides.")},"editor.highlightActiveIndentGuide":{type:"boolean",default:m.viewInfo.highlightActiveIndentGuide,description:o.a("highlightActiveIndentGuide","Controls whether the editor should highlight the active indent guide.")},"editor.renderLineHighlight":{type:"string",enum:["none","gutter","line","all"],enumDescriptions:["","","",o.a("renderLineHighlight.all","Highlights both the gutter and the current line.")],default:m.viewInfo.renderLineHighlight,description:o.a("renderLineHighlight","Controls how the editor should render the current line highlight.")},"editor.codeLens":{type:"boolean",default:m.contribInfo.codeLens,description:o.a("codeLens","Controls whether the editor shows CodeLens")},"editor.folding":{type:"boolean",default:m.contribInfo.folding,description:o.a("folding","Controls whether the editor has code folding enabled")},"editor.foldingStrategy":{type:"string",enum:["auto","indentation"],default:m.contribInfo.foldingStrategy,description:o.a("foldingStrategy","Controls the strategy for computing folding ranges. `auto` uses a language specific folding strategy, if available. `indentation` uses the indentation based folding strategy.")},"editor.showFoldingControls":{type:"string",enum:["always","mouseover"],default:m.contribInfo.showFoldingControls,description:o.a("showFoldingControls","Controls whether the fold controls on the gutter are automatically hidden.")},"editor.matchBrackets":{type:"boolean",default:m.contribInfo.matchBrackets,description:o.a("matchBrackets","Highlight matching brackets when one of them is selected.")},"editor.glyphMargin":{type:"boolean",default:m.viewInfo.glyphMargin,description:o.a("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")},"editor.useTabStops":{type:"boolean",default:m.useTabStops,description:o.a("useTabStops","Inserting and deleting whitespace follows tab stops.")},"editor.trimAutoWhitespace":{type:"boolean",default:b.trimAutoWhitespace,description:o.a("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.stablePeek":{type:"boolean",default:!1,description:o.a("stablePeek","Keep peek editors open even when double clicking their content or when hitting `Escape`.")},"editor.dragAndDrop":{type:"boolean",default:m.dragAndDrop,description:o.a("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")},"editor.accessibilitySupport":{type:"string",enum:["auto","on","off"],enumDescriptions:[o.a("accessibilitySupport.auto","The editor will use platform APIs to detect when a Screen Reader is attached."),o.a("accessibilitySupport.on","The editor will be permanently optimized for usage with a Screen Reader."),o.a("accessibilitySupport.off","The editor will never be optimized for usage with a Screen Reader.")],default:m.accessibilitySupport,description:o.a("accessibilitySupport","Controls whether the editor should run in a mode where it is optimized for screen readers.")},"editor.showUnused":{type:"boolean",default:m.showUnused,description:o.a("showUnused","Controls fading out of unused code.")},"editor.links":{type:"boolean",default:m.contribInfo.links,description:o.a("links","Controls whether the editor should detect links and make them clickable.")},"editor.colorDecorators":{type:"boolean",default:m.contribInfo.colorDecorators,description:o.a("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")},"editor.lightbulb.enabled":{type:"boolean",default:m.contribInfo.lightbulbEnabled,description:o.a("codeActions","Enables the code action lightbulb in the editor.")},"editor.codeActionsOnSave":{type:"object",properties:{"source.organizeImports":{type:"boolean",description:o.a("codeActionsOnSave.organizeImports","Controls whether organize imports action should be run on file save.")}},additionalProperties:{type:"boolean"},default:m.contribInfo.codeActionsOnSave,description:o.a("codeActionsOnSave","Code action kinds to be run on save.")},"editor.codeActionsOnSaveTimeout":{type:"number",default:m.contribInfo.codeActionsOnSaveTimeout,description:o.a("codeActionsOnSaveTimeout","Timeout in milliseconds after which the code actions that are run on save are cancelled.")},"editor.selectionClipboard":{type:"boolean",default:m.contribInfo.selectionClipboard,description:o.a("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:l.c},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:o.a("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:o.a("ignoreTrimWhitespace","Controls whether the diff editor shows changes in leading or trailing whitespace as diffs.")},"editor.largeFileOptimizations":{type:"boolean",default:b.largeFileOptimizations,description:o.a("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:o.a("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")}}},C=null;function x(){return null===C&&(C=Object.create(null),Object.keys(S.properties).forEach(function(e){C[e]=!0})),C}function k(e){return x()["editor."+e]||!1}function T(e){return x()["diffEditor."+e]||!1}_.registerConfiguration(S)},function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"b",function(){return f});var i,o=n(18),r=n(98),a=n(31),s=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=o.d?1.5:1.35;function c(e,t){if("number"===typeof e)return e;var n=parseFloat(e);return isNaN(n)?t:n}function u(e,t,n){return e<t?t:e>n?n:e}function d(e,t){return"string"!==typeof e?t:e}var h=function(){function e(e){this.zoomLevel=e.zoomLevel,this.fontFamily=String(e.fontFamily),this.fontWeight=String(e.fontWeight),this.fontSize=e.fontSize,this.lineHeight=0|e.lineHeight,this.letterSpacing=e.letterSpacing}return e.createFromRawSettings=function(t,n){var i=d(t.fontFamily,a.b.fontFamily),o=d(t.fontWeight,a.b.fontWeight),s=c(t.fontSize,a.b.fontSize);0===(s=u(s,0,100))?s=a.b.fontSize:s<8&&(s=8);var h=function(e,t){if("number"===typeof e)return Math.round(e);var n=parseInt(e);return isNaN(n)?t:n}(t.lineHeight,0);0===(h=u(h,0,150))?h=Math.round(l*s):h<8&&(h=8);var f=c(t.letterSpacing,0);f=u(f,-5,20);var p=1+.1*r.a.getZoomLevel();return new e({zoomLevel:n,fontFamily:i,fontWeight:o,fontSize:s*=p,lineHeight:h*=p,letterSpacing:f})},e.prototype.getId=function(){return this.zoomLevel+"-"+this.fontFamily+"-"+this.fontWeight+"-"+this.fontSize+"-"+this.lineHeight+"-"+this.letterSpacing},e}(),f=function(e){function t(t,n){var i=e.call(this,t)||this;return i.isTrusted=n,i.isMonospace=t.isMonospace,i.typicalHalfwidthCharacterWidth=t.typicalHalfwidthCharacterWidth,i.typicalFullwidthCharacterWidth=t.typicalFullwidthCharacterWidth,i.spaceWidth=t.spaceWidth,i.maxDigitWidth=t.maxDigitWidth,i}return s(t,e),t.prototype.equals=function(e){return this.fontFamily===e.fontFamily&&this.fontWeight===e.fontWeight&&this.fontSize===e.fontSize&&this.lineHeight===e.lineHeight&&this.letterSpacing===e.letterSpacing&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===e.typicalFullwidthCharacterWidth&&this.spaceWidth===e.spaceWidth&&this.maxDigitWidth===e.maxDigitWidth},t}(h)},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n(25),o=Object(i.c)("textModelService")},function(e,t,n){"use strict";n.d(t,"a",function(){return C}),n.d(t,"b",function(){return x}),n.d(t,"c",function(){return F}),n.d(t,"d",function(){return j});var i,o,r=n(25),a=n(7),s=n(13),l=n(200),c=n(117),u=n(22),d=n(52),h=n(0),f=n(60),p=n(104),m=n(77),g=n(24),b=n(1),y=n(45),v=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),w=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},_=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},S=function(e,t){return function(n,i){t(n,i,e)}},C=Object(r.c)("listService"),x=function(){function e(e){this.lists=[],this._lastFocusedWidget=void 0}return Object.defineProperty(e.prototype,"lastFocusedList",{get:function(){return this._lastFocusedWidget},enumerable:!0,configurable:!0}),e.prototype.register=function(e,t){var n=this;if(this.lists.some(function(t){return t.widget===e}))throw new Error("Cannot register the same widget multiple times");var i={widget:e,extraContextKeys:t};return this.lists.push(i),e.isDOMFocused()&&(this._lastFocusedWidget=e),Object(a.c)([e.onDidFocus(function(){return n._lastFocusedWidget=e}),Object(a.f)(function(){return n.lists.splice(n.lists.indexOf(i),1)}),e.onDidDispose(function(){n.lists=n.lists.filter(function(e){return e!==i}),n._lastFocusedWidget===e&&(n._lastFocusedWidget=void 0)})])},e=_([S(0,s.e)],e)}(),k=new s.f("listFocus",!0),T=new s.f("listSupportsMultiselect",!0),O=new s.f("listHasSelectionOrFocus",!1),N=new s.f("listDoubleSelection",!1),L=new s.f("listMultiSelection",!1);var I,E="workbench.list.multiSelectModifier",D="workbench.list.openMode",A="workbench.tree.horizontalScrolling";function M(e){return"alt"===e.getValue(E)}function P(e){return"doubleClick"!==e.getValue(D)}function R(e,t){return e.controller||(e.controller=t.createInstance(j,{})),e.styler||(e.styler=new m.f((I||(I=Object(b.o)()),I))),e}var F=function(e){function t(t,n,i,o,r,a,s,l){var u=this,d=R(n,s),h=l.getValue(A)?y.b.Auto:y.b.Hidden,f=w({horizontalScrollMode:h,keyboardSupport:!1},Object(c.d)(a.getTheme(),c.e),i);return(u=e.call(this,t,d,f)||this).disposables=[],u.contextKeyService=function(e,t){var n=e.createScoped(t.getHTMLElement());return k.bindTo(n),n}(o,u),T.bindTo(u.contextKeyService),u.listHasSelectionOrFocus=O.bindTo(u.contextKeyService),u.listDoubleSelection=N.bindTo(u.contextKeyService),u.listMultiSelection=L.bindTo(u.contextKeyService),u._openOnSingleClick=P(l),u._useAltAsMultipleSelectionModifier=M(l),u.disposables.push(u.contextKeyService,r.register(u),Object(c.b)(u,a)),u.disposables.push(u.onDidChangeSelection(function(){var e=u.getSelection(),t=u.getFocus();u.listHasSelectionOrFocus.set(e&&e.length>0||!!t),u.listDoubleSelection.set(e&&2===e.length),u.listMultiSelection.set(e&&e.length>1)})),u.disposables.push(u.onDidChangeFocus(function(){var e=u.getSelection(),t=u.getFocus();u.listHasSelectionOrFocus.set(e&&e.length>0||!!t)})),u.disposables.push(l.onDidChangeConfiguration(function(e){e.affectsConfiguration(D)&&(u._openOnSingleClick=P(l)),e.affectsConfiguration(E)&&(u._useAltAsMultipleSelectionModifier=M(l))})),u}return v(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposables=Object(a.d)(this.disposables)},t=_([S(3,s.e),S(4,C),S(5,u.c),S(6,r.a),S(7,d.b)],t)}(l.a);var j=function(e){function t(t,n){var i=e.call(this,function(e){return"boolean"!==typeof e.keyboardSupport&&(e.keyboardSupport=!1),"number"!==typeof e.clickBehavior&&(e.clickBehavior=m.a.ON_MOUSE_DOWN),e}(t))||this;return i.configurationService=n,i.disposables=[],Object(g.j)(t.openMode)&&(i.setOpenMode(i.getOpenModeSetting()),i.registerListeners()),i}return v(t,e),t.prototype.registerListeners=function(){var e=this;this.disposables.push(this.configurationService.onDidChangeConfiguration(function(t){t.affectsConfiguration(D)&&e.setOpenMode(e.getOpenModeSetting())}))},t.prototype.getOpenModeSetting=function(){return P(this.configurationService)?m.g.SINGLE_CLICK:m.g.DOUBLE_CLICK},t.prototype.dispose=function(){this.disposables=Object(a.d)(this.disposables)},t=_([S(1,d.b)],t)}(m.c);f.a.as(p.b.Configuration).registerConfiguration({id:"workbench",order:7,title:Object(h.a)("workbenchConfigurationTitle","Workbench"),type:"object",properties:(o={},o[E]={type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[Object(h.a)("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),Object(h.a)("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:Object(h.a)({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},o[D]={type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:Object(h.a)({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). For parents with children in trees, this setting will control if a single click expands the parent or a double click. Note that some trees and lists might choose to ignore this setting if it is not applicable. ")},o[A]={type:"boolean",default:!1,description:Object(h.a)("horizontalScrolling setting","Controls whether trees support horizontal scrolling in the workbench.")},o)})},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r});var i=n(25),o=Object(i.c)("logService"),r=function(){function e(){}return e.prototype.trace=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n]},e.prototype.error=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n]},e.prototype.dispose=function(){},e}()},function(e,t,n){e.exports=n(209)()},function(e,t,n){"use strict";(function(t){function n(e){o.length||(i(),!0),o[o.length]=e}e.exports=n;var i,o=[],r=0,a=1024;function s(){for(;r<o.length;){var e=r;if(r+=1,o[e].call(),r>a){for(var t=0,n=o.length-r;t<n;t++)o[t]=o[t+r];o.length-=r,r=0}}o.length=0,r=0,!1}var l,c,u,d="undefined"!==typeof t?t:self,h=d.MutationObserver||d.WebKitMutationObserver;function f(e){return function(){var t=setTimeout(i,0),n=setInterval(i,50);function i(){clearTimeout(t),clearInterval(n),e()}}}"function"===typeof h?(l=1,c=new h(s),u=document.createTextNode(""),c.observe(u,{characterData:!0}),i=function(){l=-l,u.data=l}):i=f(s),n.requestFlush=i,n.makeRequestCallFromTimer=f}).call(this,n(122))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=void 0;var i,o=n(215);var r=((i=o)&&i.__esModule?i:{default:i}).default,a=r.canUseDOM?window.HTMLElement:{};t.canUseDOM=r.canUseDOM;t.default=a},function(e,t,n){self.MonacoEnvironment=function(e){return{getWorkerUrl:function(t,n){const i="string"===typeof window.__webpack_public_path__?window.__webpack_public_path__:"/";return(i?i.replace(/\/$/,"")+"/":"")+e[n]}}}({editorWorkerService:"editor.worker.js",css:"css.worker.js",html:"html.worker.js",json:"json.worker.js",typescript:"typescript.worker.js",javascript:"typescript.worker.js",less:"css.worker.js",scss:"css.worker.js"}),n(218),n(219),n(300),n(220),n(292),n(296),n(183),n(297),n(221),n(74),n(222),n(299),n(153),n(291),n(223),n(298),n(160),n(224),n(304),n(225),n(290),n(305),n(226),n(227),n(293),n(303),n(228),n(295),n(229),n(302),n(230),n(231),n(301),n(294),n(151),n(289),n(232),n(159),n(233),n(234),n(126),n(235),e.exports=n(453),n(237),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(285),n(236),n(286),n(287),n(288)},function(e,t,n){"use strict";e.exports=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return t>>>0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,r.default)(t)&&t.indexOf("calc(")>-1)return a.map(function(e){return t.replace(/calc\(/g,e+"calc(")})};var i,o=n(97),r=(i=o)&&i.__esModule?i:{default:i};var a=["-webkit-","-moz-",""];e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,r.default)(t)&&t.indexOf("cross-fade(")>-1)return a.map(function(e){return t.replace(/cross-fade\(/g,e+"cross-fade(")})};var i,o=n(97),r=(i=o)&&i.__esModule?i:{default:i};var a=["-webkit-",""];e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("cursor"===e&&o.hasOwnProperty(t))return i.map(function(e){return e+t})};var i=["-webkit-","-moz-",""],o={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,r.default)(t)&&t.indexOf("filter(")>-1)return a.map(function(e){return t.replace(/filter\(/g,e+"filter(")})};var i,o=n(97),r=(i=o)&&i.__esModule?i:{default:i};var a=["-webkit-",""];e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("display"===e&&i.hasOwnProperty(t))return i[t]};var i={flex:["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex","flex"],"inline-flex":["-webkit-inline-box","-moz-inline-box","-ms-inline-flexbox","-webkit-inline-flex","inline-flex"]};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){o.hasOwnProperty(e)&&(n[o[e]]=i[t]||t)};var i={"space-around":"distribute","space-between":"justify","flex-start":"start","flex-end":"end"},o={alignContent:"msFlexLinePack",alignSelf:"msFlexItemAlign",alignItems:"msFlexAlign",justifyContent:"msFlexPack",order:"msFlexOrder",flexGrow:"msFlexPositive",flexShrink:"msFlexNegative",flexBasis:"msFlexPreferredSize"};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){"flexDirection"===e&&"string"===typeof t&&(t.indexOf("column")>-1?n.WebkitBoxOrient="vertical":n.WebkitBoxOrient="horizontal",t.indexOf("reverse")>-1?n.WebkitBoxDirection="reverse":n.WebkitBoxDirection="normal");o.hasOwnProperty(e)&&(n[o[e]]=i[t]||t)};var i={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple",flex:"box","inline-flex":"inline-box"},o={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines",flexGrow:"WebkitBoxFlex"};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,r.default)(t)&&s.test(t))return a.map(function(e){return t.replace(s,function(t){return e+t})})};var i,o=n(97),r=(i=o)&&i.__esModule?i:{default:i};var a=["-webkit-","-moz-",""],s=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/gi;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,r.default)(t)&&t.indexOf("image-set(")>-1)return a.map(function(e){return t.replace(/image-set\(/g,e+"image-set(")})};var i,o=n(97),r=(i=o)&&i.__esModule?i:{default:i};var a=["-webkit-",""];e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("position"===e&&"sticky"===t)return["-webkit-sticky","sticky"]},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(o.hasOwnProperty(e)&&r.hasOwnProperty(t))return i.map(function(e){return e+t})};var i=["-webkit-","-moz-",""],o={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},r={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,a){if("string"===typeof t&&s.hasOwnProperty(e)){var c=function(e,t){if((0,o.default)(e))return e;for(var n=e.split(/,(?![^()]*(?:\([^()]*\))?\))/g),r=0,a=n.length;r<a;++r){var s=n[r],c=[s];for(var u in t){var d=(0,i.default)(u);if(s.indexOf(d)>-1&&"order"!==d)for(var h=t[u],f=0,p=h.length;f<p;++f)c.unshift(s.replace(d,l[h[f]]+d))}n[r]=c.join(",")}return n.join(",")}(t,a),u=c.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(e){return!/-moz-|-ms-/.test(e)}).join(",");if(e.indexOf("Webkit")>-1)return u;var d=c.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(e){return!/-webkit-|-ms-/.test(e)}).join(",");return e.indexOf("Moz")>-1?d:(n["Webkit"+(0,r.default)(e)]=u,n["Moz"+(0,r.default)(e)]=d,c)}};var i=a(n(202)),o=a(n(97)),r=a(n(180));function a(e){return e&&e.__esModule?e:{default:e}}var s={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},l={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.prefixMap,n=e.plugins;return function e(s){for(var l in s){var c=s[l];if((0,a.default)(c))s[l]=e(c);else if(Array.isArray(c)){for(var u=[],d=0,h=c.length;d<h;++d){var f=(0,o.default)(n,l,c[d],s,t);(0,r.default)(u,f||c[d])}u.length>0&&(s[l]=u)}else{var p=(0,o.default)(n,l,c,s,t);p&&(s[l]=p),s=(0,i.default)(t,l,s)}}return s}};var i=s(n(204)),o=s(n(205)),r=s(n(206)),a=s(n(207));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";var i=n(133),o=[],r=[],a=i.makeRequestCallFromTimer(function(){if(r.length)throw r.shift()});function s(e){var t;(t=o.length?o.pop():new l).task=e,i(t)}function l(){this.task=null}e.exports=s,l.prototype.call=function(){try{this.task.call()}catch(e){s.onerror?s.onerror(e):(r.push(e),a())}finally{this.task=null,o[o.length]=this}}},function(e,t,n){"use strict";n.r(t);var i=n(13),o=n(3),r=n(7),a=(n(430),n(9)),s=n(21),l=n(56),c=n(113),u=n(26),d=n(2),h=n(29),f=n(0),p=n(43),m=function(){function e(e){this._delegates=e}return e.prototype.resolve=function(e){for(var t=0,n=this._delegates;t<n.length;t++){var i=n[t].resolve(e);if(void 0!==i)return i}},e}(),g=function(){function e(e,t){this._model=e,this._selection=t}return e.prototype.resolve=function(e){var t=e.name;if("SELECTION"===t||"TM_SELECTED_TEXT"===t){var n=this._model.getValueInRange(this._selection)||void 0;if(n&&this._selection.startLineNumber!==this._selection.endLineNumber){var i=this._model.getLineContent(this._selection.startLineNumber),o=Object(a.getLeadingWhitespace)(i,0,this._selection.startColumn-1),r=o;e.snippet.walk(function(t){return t!==e&&(t instanceof c.d&&(r=Object(a.getLeadingWhitespace)(t.value.split(/\r\n|\r|\n/).pop())),!0)});var s=Object(a.commonPrefixLength)(r,o);n=n.replace(/(\r\n|\r|\n)(.*)/g,function(e,t,n){return""+t+r.substr(s)+n})}return n}if("TM_CURRENT_LINE"===t)return this._model.getLineContent(this._selection.positionLineNumber);if("TM_CURRENT_WORD"===t){var l=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return l&&l.word||void 0}return"TM_LINE_INDEX"===t?String(this._selection.positionLineNumber-1):"TM_LINE_NUMBER"===t?String(this._selection.positionLineNumber):void 0},e}(),b=function(){function e(e){this._model=e}return e.prototype.resolve=function(e){var t=e.name;if("TM_FILENAME"===t)return Object(p.a)(this._model.uri.fsPath);if("TM_FILENAME_BASE"===t){var n=Object(p.a)(this._model.uri.fsPath),i=n.lastIndexOf(".");return i<=0?n:n.slice(0,i)}if("TM_DIRECTORY"===t){var o=Object(p.b)(this._model.uri.fsPath);return"."!==o?o:""}return"TM_FILEPATH"===t?this._model.uri.fsPath:void 0},e}(),y=function(){function e(e,t,n){this._clipboardService=e,this._selectionIdx=t,this._selectionCount=n}return e.prototype.resolve=function(e){if("CLIPBOARD"===e.name&&this._clipboardService){var t=this._clipboardService.readText();if(t){var n=t.split(/\r\n|\n|\r/).filter(function(e){return!Object(a.isFalsyOrWhitespace)(e)});return n.length===this._selectionCount?n[this._selectionIdx]:t}}},e}(),v=function(){function e(){}return e.prototype.resolve=function(t){var n=t.name;return"CURRENT_YEAR"===n?String((new Date).getFullYear()):"CURRENT_YEAR_SHORT"===n?String((new Date).getFullYear()).slice(-2):"CURRENT_MONTH"===n?Object(a.pad)((new Date).getMonth().valueOf()+1,2):"CURRENT_DATE"===n?Object(a.pad)((new Date).getDate().valueOf(),2):"CURRENT_HOUR"===n?Object(a.pad)((new Date).getHours().valueOf(),2):"CURRENT_MINUTE"===n?Object(a.pad)((new Date).getMinutes().valueOf(),2):"CURRENT_SECOND"===n?Object(a.pad)((new Date).getSeconds().valueOf(),2):"CURRENT_DAY_NAME"===n?e.dayNames[(new Date).getDay()]:"CURRENT_DAY_NAME_SHORT"===n?e.dayNamesShort[(new Date).getDay()]:"CURRENT_MONTH_NAME"===n?e.monthNames[(new Date).getMonth()]:"CURRENT_MONTH_NAME_SHORT"===n?e.monthNamesShort[(new Date).getMonth()]:void 0},e.dayNames=[f.a("Sunday","Sunday"),f.a("Monday","Monday"),f.a("Tuesday","Tuesday"),f.a("Wednesday","Wednesday"),f.a("Thursday","Thursday"),f.a("Friday","Friday"),f.a("Saturday","Saturday")],e.dayNamesShort=[f.a("SundayShort","Sun"),f.a("MondayShort","Mon"),f.a("TuesdayShort","Tue"),f.a("WednesdayShort","Wed"),f.a("ThursdayShort","Thu"),f.a("FridayShort","Fri"),f.a("SaturdayShort","Sat")],e.monthNames=[f.a("January","January"),f.a("February","February"),f.a("March","March"),f.a("April","April"),f.a("May","May"),f.a("June","June"),f.a("July","July"),f.a("August","August"),f.a("September","September"),f.a("October","October"),f.a("November","November"),f.a("December","December")],e.monthNamesShort=[f.a("JanuaryShort","Jan"),f.a("FebruaryShort","Feb"),f.a("MarchShort","Mar"),f.a("AprilShort","Apr"),f.a("MayShort","May"),f.a("JuneShort","Jun"),f.a("JulyShort","Jul"),f.a("AugustShort","Aug"),f.a("SeptemberShort","Sep"),f.a("OctoberShort","Oct"),f.a("NovemberShort","Nov"),f.a("DecemberShort","Dec")],e}(),w=n(30),_=n(188),S=n(25),C=function(){function e(e,t,n){this._nestingLevel=1,this._editor=e,this._snippet=t,this._offset=n,this._placeholderGroups=Object(h.j)(t.placeholders,c.b.compareByIndex),this._placeholderGroupsIdx=-1}return e.prototype.dispose=function(){if(this._placeholderDecorations){var e=[];this._placeholderDecorations.forEach(function(t){return e.push(t)}),this._editor.deltaDecorations(e,[])}this._placeholderGroups.length=0},e.prototype._initDecorations=function(){var t=this;if(!this._placeholderDecorations){this._placeholderDecorations=new Map;var n=this._editor.getModel();this._editor.changeDecorations(function(i){for(var o=0,r=t._snippet.placeholders;o<r.length;o++){var a=r[o],s=t._snippet.offset(a),l=t._snippet.fullLen(a),c=d.a.fromPositions(n.getPositionAt(t._offset+s),n.getPositionAt(t._offset+s+l)),u=a.isFinalTabstop?e._decor.inactiveFinal:e._decor.inactive,h=i.addDecoration(c,u);t._placeholderDecorations.set(a,h)}})}},e.prototype.move=function(t){var n=this;if(this._initDecorations(),this._placeholderGroupsIdx>=0){for(var i=[],o=0,r=this._placeholderGroups[this._placeholderGroupsIdx];o<r.length;o++){var a=r[o];if(a.transform){var s=this._placeholderDecorations.get(a),c=this._editor.getModel().getDecorationRange(s),d=this._editor.getModel().getValueInRange(c);i.push(l.a.replaceMove(c,a.transform.resolve(d)))}}i.length>0&&this._editor.executeEdits("snippet.placeholderTransform",i)}return!0===t&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?this._placeholderGroupsIdx+=1:!1===t&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1),this._editor.getModel().changeDecorations(function(t){for(var i=new Set,o=[],r=0,a=n._placeholderGroups[n._placeholderGroupsIdx];r<a.length;r++){var s=a[r],l=n._placeholderDecorations.get(s),c=n._editor.getModel().getDecorationRange(l);o.push(new u.a(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn)),t.changeDecorationOptions(l,s.isFinalTabstop?e._decor.activeFinal:e._decor.active),i.add(s);for(var d=0,h=n._snippet.enclosingPlaceholders(s);d<h.length;d++){var f=h[d],p=n._placeholderDecorations.get(f);t.changeDecorationOptions(p,f.isFinalTabstop?e._decor.activeFinal:e._decor.active),i.add(f)}}return n._placeholderDecorations.forEach(function(n,o){i.has(o)||t.changeDecorationOptions(n,o.isFinalTabstop?e._decor.inactiveFinal:e._decor.inactive)}),o})},Object.defineProperty(e.prototype,"isAtFirstPlaceholder",{get:function(){return this._placeholderGroupsIdx<=0||0===this._placeholderGroups.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAtLastPlaceholder",{get:function(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasPlaceholder",{get:function(){return this._snippet.placeholders.length>0},enumerable:!0,configurable:!0}),e.prototype.computePossibleSelections=function(){for(var e=new Map,t=0,n=this._placeholderGroups;t<n.length;t++)for(var i=void 0,o=0,r=n[t];o<r.length;o++){var a=r[o];if(a.isFinalTabstop)break;i||(i=[],e.set(a.index,i));var s=this._placeholderDecorations.get(a),l=this._editor.getModel().getDecorationRange(s);if(!l){e.delete(a.index);break}i.push(l)}return e},Object.defineProperty(e.prototype,"choice",{get:function(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice},enumerable:!0,configurable:!0}),e.prototype.merge=function(t){var n=this,i=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(function(o){for(var r=0,a=n._placeholderGroups[n._placeholderGroupsIdx];r<a.length;r++){var s=a[r],l=t.shift();console.assert(!l._placeholderDecorations);for(var u=0,f=l._snippet.placeholderInfo.all;u<f.length;u++){var p=f[u];p.isFinalTabstop?p.index=s.index+(l._snippet.placeholderInfo.last.index+1)/n._nestingLevel:p.index=s.index+p.index/n._nestingLevel}n._snippet.replace(s,l._snippet.children);var m=n._placeholderDecorations.get(s);o.removeDecoration(m),n._placeholderDecorations.delete(s);for(var g=0,b=l._snippet.placeholders;g<b.length;g++){var y=b[g],v=l._snippet.offset(y),w=l._snippet.fullLen(y),_=d.a.fromPositions(i.getPositionAt(l._offset+v),i.getPositionAt(l._offset+v+w)),S=o.addDecoration(_,e._decor.inactive);n._placeholderDecorations.set(y,S)}}n._placeholderGroups=Object(h.j)(n._snippet.placeholders,c.b.compareByIndex)})},e._decor={active:w.a.register({stickiness:s.h.AlwaysGrowsWhenTypingAtEdges,className:"snippet-placeholder"}),inactive:w.a.register({stickiness:s.h.NeverGrowsWhenTypingAtEdges,className:"snippet-placeholder"}),activeFinal:w.a.register({stickiness:s.h.NeverGrowsWhenTypingAtEdges,className:"finish-snippet-placeholder"}),inactiveFinal:w.a.register({stickiness:s.h.NeverGrowsWhenTypingAtEdges,className:"finish-snippet-placeholder"})},e}(),x=function(){function e(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=0),this._templateMerges=[],this._snippets=[],this._editor=e,this._template=t,this._overwriteBefore=n,this._overwriteAfter=i}return e.adjustWhitespace2=function(e,t,n){var i=e.getLineContent(t.lineNumber),o=Object(a.getLeadingWhitespace)(i,0,t.column-1);n.walk(function(t){if(t instanceof c.d&&!(t.parent instanceof c.a)){for(var n=t.value.split(/\r\n|\r|\n/),i=1;i<n.length;i++){var r=Object(a.getLeadingWhitespace)(n[i]);n[i]=e.normalizeIndentation(o+r)+n[i].substr(r.length)}var s=n.join(e.getEOL());s!==t.value&&t.parent.replace(t,[new c.d(s)])}return!0})},e.adjustSelection=function(e,t,n,i){if(0!==n||0!==i){var o=t.positionLineNumber,r=t.positionColumn,a=r-n,s=r+i,l=e.validateRange({startLineNumber:o,startColumn:a,endLineNumber:o,endColumn:s});t=u.a.createWithDirection(l.startLineNumber,l.startColumn,l.endLineNumber,l.endColumn,t.getDirection())}return t},e.createEditsAndSnippets=function(t,n,i,o,r){for(var a=t.getModel(),s=[],u=[],h=new b(a),f=t.invokeWithinContext(function(e){return e.get(_.a,S.d)}),p=0,w=a.getValueInRange(e.adjustSelection(a,t.getSelection(),i,0)),x=a.getValueInRange(e.adjustSelection(a,t.getSelection(),0,o)),k=t.getSelections().map(function(e,t){return{selection:e,idx:t}}).sort(function(e,t){return d.a.compareRangesUsingStarts(e.selection,t.selection)}),T=0,O=k;T<O.length;T++){var N=O[T],L=N.selection,I=N.idx,E=e.adjustSelection(a,L,i,0),D=e.adjustSelection(a,L,0,o);w!==a.getValueInRange(E)&&(E=L),x!==a.getValueInRange(D)&&(D=L);var A=L.setStartPosition(E.startLineNumber,E.startColumn).setEndPosition(D.endLineNumber,D.endColumn),M=(new c.c).parse(n,!0,r),P=A.getStartPosition();e.adjustWhitespace2(a,P,M),M.resolveVariables(new m([h,new y(f,I,k.length),new g(a,L),new v]));var R=a.getOffsetAt(P)+p;p+=M.toString().length-a.getValueLengthInRange(A),s[I]=l.a.replace(A,M.toString()),u[I]=new C(t,M,R)}return{edits:s,snippets:u}},e.prototype.dispose=function(){Object(r.d)(this._snippets)},e.prototype._logInfo=function(){return'template="'+this._template+'", merged_templates="'+this._templateMerges.join(" -> ")+'"'},e.prototype.insert=function(){var t=this,n=this._editor.getModel(),i=e.createEditsAndSnippets(this._editor,this._template,this._overwriteBefore,this._overwriteAfter,!1),o=i.edits,r=i.snippets;this._snippets=r;var a=n.pushEditOperations(this._editor.getSelections(),o,function(e){return t._snippets[0].hasPlaceholder?t._move(!0):e.map(function(e){return u.a.fromPositions(e.range.getEndPosition())})});this._editor.setSelections(a),this._editor.revealRange(a[0])},e.prototype.merge=function(t,n,i){var o=this;void 0===n&&(n=0),void 0===i&&(i=0),this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,t]);var r=e.createEditsAndSnippets(this._editor,t,n,i,!0),a=r.edits,s=r.snippets;this._editor.setSelections(this._editor.getModel().pushEditOperations(this._editor.getSelections(),a,function(e){for(var t=0,n=o._snippets;t<n.length;t++){n[t].merge(s)}return console.assert(0===s.length),o._snippets[0].hasPlaceholder?o._move(void 0):e.map(function(e){return u.a.fromPositions(e.range.getEndPosition())})}))},e.prototype.next=function(){var e=this._move(!0);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())},e.prototype.prev=function(){var e=this._move(!1);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())},e.prototype._move=function(e){for(var t=[],n=0,i=this._snippets;n<i.length;n++){var o=i[n].move(e);t.push.apply(t,o)}return t},Object.defineProperty(e.prototype,"isAtFirstPlaceholder",{get:function(){return this._snippets[0].isAtFirstPlaceholder},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAtLastPlaceholder",{get:function(){return this._snippets[0].isAtLastPlaceholder},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasPlaceholder",{get:function(){return this._snippets[0].hasPlaceholder},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"choice",{get:function(){return this._snippets[0].choice},enumerable:!0,configurable:!0}),e.prototype.isSelectionWithinPlaceholders=function(){if(!this.hasPlaceholder)return!1;var e,t=this._editor.getSelections();if(t.length<this._snippets.length)return!1;for(var n=function(n){var i=n.computePossibleSelections();if(e||(e=new Map,i.forEach(function(n,i){n.sort(d.a.compareRangesUsingStarts);for(var o=0,r=t;o<r.length;o++){var a=r[o];if(n[0].containsRange(a)){e.set(i,[]);break}}})),0===e.size)return{value:!1};e.forEach(function(e,t){e.push.apply(e,i.get(t))})},i=0,o=this._snippets;i<o.length;i++){var r=n(o[i]);if("object"===typeof r)return r.value}return t.sort(d.a.compareRangesUsingStarts),e.forEach(function(n,i){if(n.length===t.length){n.sort(d.a.compareRangesUsingStarts);for(var o=0;o<n.length;o++)if(!n[o].containsRange(t[o]))return void e.delete(i)}else e.delete(i)}),e.size>0},e}(),k=n(6),T=n(50),O=n(131);n.d(t,"SnippetController2",function(){return I});var N=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},L=function(e,t){return function(n,i){t(n,i,e)}},I=function(){function e(t,n,i){this._editor=t,this._logService=n,this._snippetListener=[],this._inSnippet=e.InSnippetMode.bindTo(i),this._hasNextTabstop=e.HasNextTabstop.bindTo(i),this._hasPrevTabstop=e.HasPrevTabstop.bindTo(i)}return e.get=function(e){return e.getContribution("snippetController2")},e.prototype.dispose=function(){this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),Object(r.d)(this._session)},e.prototype.getId=function(){return"snippetController2"},e.prototype.insert=function(e,t,n,i,o){void 0===t&&(t=0),void 0===n&&(n=0),void 0===i&&(i=!0),void 0===o&&(o=!0);try{this._doInsert(e,t,n,i,o)}catch(t){this.cancel(),this._logService.error(t),this._logService.error("snippet_error"),this._logService.error("insert_template=",e),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}},e.prototype._doInsert=function(e,t,n,i,o){var a=this;void 0===t&&(t=0),void 0===n&&(n=0),void 0===i&&(i=!0),void 0===o&&(o=!0),this._snippetListener=Object(r.d)(this._snippetListener),i&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(e,t,n):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new x(this._editor,e,t,n),this._session.insert()),o&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener=[this._editor.onDidChangeModelContent(function(e){return e.isFlush&&a.cancel()}),this._editor.onDidChangeModel(function(){return a.cancel()}),this._editor.onDidChangeCursorSelection(function(){return a._updateState()})]},e.prototype._updateState=function(){if(this._session){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}},e.prototype._handleChoice=function(){var e=this._session.choice;if(e){if(this._currentChoice!==e){this._currentChoice=e,this._editor.setSelections(this._editor.getSelections().map(function(e){return u.a.fromPositions(e.getStartPosition())}));var t=e.options[0];Object(T.e)(this._editor,e.options.map(function(e,n){return{type:"value",label:e.value,insertText:e.value,sortText:Object(a.repeat)("a",n),overwriteAfter:t.value.length}}))}}else this._currentChoice=void 0},e.prototype.finish=function(){for(;this._inSnippet.get();)this.next()},e.prototype.cancel=function(){this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),Object(r.d)(this._snippetListener),Object(r.d)(this._session),this._session=void 0,this._modelVersionId=-1},e.prototype.prev=function(){this._session.prev(),this._updateState()},e.prototype.next=function(){this._session.next(),this._updateState()},e.prototype.isInSnippet=function(){return this._inSnippet.get()},e.InSnippetMode=new i.f("inSnippetMode",!1),e.HasNextTabstop=new i.f("hasNextTabstop",!1),e.HasPrevTabstop=new i.f("hasPrevTabstop",!1),e=N([L(1,O.a),L(2,i.e)],e)}();Object(o.h)(I);var E=o.c.bindToContribution(I.get);Object(o.g)(new E({id:"jumpToNextSnippetPlaceholder",precondition:i.d.and(I.InSnippetMode,I.HasNextTabstop),handler:function(e){return e.next()},kbOpts:{weight:130,kbExpr:k.a.editorTextFocus,primary:2}})),Object(o.g)(new E({id:"jumpToPrevSnippetPlaceholder",precondition:i.d.and(I.InSnippetMode,I.HasPrevTabstop),handler:function(e){return e.prev()},kbOpts:{weight:130,kbExpr:k.a.editorTextFocus,primary:1026}})),Object(o.g)(new E({id:"leaveSnippet",precondition:I.InSnippetMode,handler:function(e){return e.cancel()},kbOpts:{weight:130,kbExpr:k.a.editorTextFocus,primary:9,secondary:[1033]}})),Object(o.g)(new E({id:"acceptSnippet",precondition:I.InSnippetMode,handler:function(e){return e.finish()}}))},function(e,t,n){"use strict";n(359),n(361);var i,o=n(0),r=n(1),a=n(15),s=n(5),l=n(7),c=n(11),u=n(25),d=n(116),h=n(13),f=n(72),p=n(9),m=n(23),g=n(10),b=n(2),y=n(26),v=n(21),w=function(){function e(e){this.modelState=null,this.viewState=null,this._selTrackedRange=null,this._trackSelection=!0,this._setState(e,new m.f(new b.a(1,1,1,1),0,new g.a(1,1),0),new m.f(new b.a(1,1,1,1),0,new g.a(1,1),0))}return e.prototype.dispose=function(e){this._removeTrackedRange(e)},e.prototype.startTrackingSelection=function(e){this._trackSelection=!0,this._updateTrackedRange(e)},e.prototype.stopTrackingSelection=function(e){this._trackSelection=!1,this._removeTrackedRange(e)},e.prototype._updateTrackedRange=function(e){this._trackSelection&&(this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,v.h.AlwaysGrowsWhenTypingAtEdges))},e.prototype._removeTrackedRange=function(e){this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,null,v.h.AlwaysGrowsWhenTypingAtEdges)},e.prototype.asCursorState=function(){return new m.d(this.modelState,this.viewState)},e.prototype.readSelectionFromMarkers=function(e){var t=e.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.getDirection()===y.b.LTR?new y.a(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn):new y.a(t.endLineNumber,t.endColumn,t.startLineNumber,t.startColumn)},e.prototype.ensureValidState=function(e){this._setState(e,this.modelState,this.viewState)},e.prototype.setState=function(e,t,n){this._setState(e,t,n)},e.prototype._setState=function(e,t,n){if(t){r=e.model.validateRange(t.selectionStart);var i=t.selectionStart.equalsRange(r)?t.selectionStartLeftoverVisibleColumns:0,o=(a=e.model.validatePosition(t.position),t.position.equals(a)?t.leftoverVisibleColumns:0);t=new m.f(r,i,a,o)}else{var r=e.model.validateRange(e.convertViewRangeToModelRange(n.selectionStart)),a=e.model.validatePosition(e.convertViewPositionToModelPosition(n.position.lineNumber,n.position.column));t=new m.f(r,n.selectionStartLeftoverVisibleColumns,a,n.leftoverVisibleColumns)}if(n){c=e.validateViewRange(n.selectionStart,t.selectionStart),u=e.validateViewPosition(n.position,t.position);n=new m.f(c,t.selectionStartLeftoverVisibleColumns,u,t.leftoverVisibleColumns)}else{var s=e.convertModelPositionToViewPosition(new g.a(t.selectionStart.startLineNumber,t.selectionStart.startColumn)),l=e.convertModelPositionToViewPosition(new g.a(t.selectionStart.endLineNumber,t.selectionStart.endColumn)),c=new b.a(s.lineNumber,s.column,l.lineNumber,l.column),u=e.convertModelPositionToViewPosition(t.position);n=new m.f(c,t.selectionStartLeftoverVisibleColumns,u,t.leftoverVisibleColumns)}this.modelState=t,this.viewState=n,this._updateTrackedRange(e)},e}(),_=function(){function e(e){this.context=e,this.primaryCursor=new w(e),this.secondaryCursors=[],this.lastAddedCursorIndex=0}return e.prototype.dispose=function(){this.primaryCursor.dispose(this.context),this.killSecondaryCursors()},e.prototype.startTrackingSelections=function(){this.primaryCursor.startTrackingSelection(this.context);for(var e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].startTrackingSelection(this.context)},e.prototype.stopTrackingSelections=function(){this.primaryCursor.stopTrackingSelection(this.context);for(var e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].stopTrackingSelection(this.context)},e.prototype.updateContext=function(e){this.context=e},e.prototype.ensureValidState=function(){this.primaryCursor.ensureValidState(this.context);for(var e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].ensureValidState(this.context)},e.prototype.readSelectionFromMarkers=function(){var e=[];e[0]=this.primaryCursor.readSelectionFromMarkers(this.context);for(var t=0,n=this.secondaryCursors.length;t<n;t++)e[t+1]=this.secondaryCursors[t].readSelectionFromMarkers(this.context);return e},e.prototype.getAll=function(){var e=[];e[0]=this.primaryCursor.asCursorState();for(var t=0,n=this.secondaryCursors.length;t<n;t++)e[t+1]=this.secondaryCursors[t].asCursorState();return e},e.prototype.getViewPositions=function(){var e=[];e[0]=this.primaryCursor.viewState.position;for(var t=0,n=this.secondaryCursors.length;t<n;t++)e[t+1]=this.secondaryCursors[t].viewState.position;return e},e.prototype.getSelections=function(){var e=[];e[0]=this.primaryCursor.modelState.selection;for(var t=0,n=this.secondaryCursors.length;t<n;t++)e[t+1]=this.secondaryCursors[t].modelState.selection;return e},e.prototype.getViewSelections=function(){var e=[];e[0]=this.primaryCursor.viewState.selection;for(var t=0,n=this.secondaryCursors.length;t<n;t++)e[t+1]=this.secondaryCursors[t].viewState.selection;return e},e.prototype.setSelections=function(e){this.setStates(m.d.fromModelSelections(e))},e.prototype.getPrimaryCursor=function(){return this.primaryCursor.asCursorState()},e.prototype.setStates=function(e){null!==e&&(this.primaryCursor.setState(this.context,e[0].modelState,e[0].viewState),this._setSecondaryStates(e.slice(1)))},e.prototype._setSecondaryStates=function(e){var t=this.secondaryCursors.length,n=e.length;if(t<n)for(var i=n-t,o=0;o<i;o++)this._addSecondaryCursor();else if(t>n){var r=t-n;for(o=0;o<r;o++)this._removeSecondaryCursor(this.secondaryCursors.length-1)}for(o=0;o<n;o++)this.secondaryCursors[o].setState(this.context,e[o].modelState,e[o].viewState)},e.prototype.killSecondaryCursors=function(){this._setSecondaryStates([])},e.prototype._addSecondaryCursor=function(){this.secondaryCursors.push(new w(this.context)),this.lastAddedCursorIndex=this.secondaryCursors.length},e.prototype.getLastAddedCursorIndex=function(){return 0===this.secondaryCursors.length||0===this.lastAddedCursorIndex?0:this.lastAddedCursorIndex},e.prototype._removeSecondaryCursor=function(e){this.lastAddedCursorIndex>=e+1&&this.lastAddedCursorIndex--,this.secondaryCursors[e].dispose(this.context),this.secondaryCursors.splice(e,1)},e.prototype._getAll=function(){var e=[];e[0]=this.primaryCursor;for(var t=0,n=this.secondaryCursors.length;t<n;t++)e[t+1]=this.secondaryCursors[t];return e},e.prototype.normalize=function(){if(0!==this.secondaryCursors.length){for(var e=this._getAll(),t=[],n=0,i=e.length;n<i;n++)t.push({index:n,selection:e[n].modelState.selection});t.sort(function(e,t){return e.selection.startLineNumber===t.selection.startLineNumber?e.selection.startColumn-t.selection.startColumn:e.selection.startLineNumber-t.selection.startLineNumber});for(var o=0;o<t.length-1;o++){var r=t[o],a=t[o+1],s=r.selection,l=a.selection;if(this.context.config.multiCursorMergeOverlapping){if(l.isEmpty()||s.isEmpty()?l.getStartPosition().isBeforeOrEqual(s.getEndPosition()):l.getStartPosition().isBefore(s.getEndPosition())){var c=r.index<a.index?o:o+1,u=r.index<a.index?o+1:o,d=t[u].index,h=t[c].index,f=t[u].selection,p=t[c].selection;if(!f.equalsSelection(p)){var g=f.plusRange(p),b=f.selectionStartLineNumber===f.startLineNumber&&f.selectionStartColumn===f.startColumn,v=p.selectionStartLineNumber===p.startLineNumber&&p.selectionStartColumn===p.startColumn,w=void 0;d===this.lastAddedCursorIndex?(w=b,this.lastAddedCursorIndex=h):w=v;var _=void 0;_=w?new y.a(g.startLineNumber,g.startColumn,g.endLineNumber,g.endColumn):new y.a(g.endLineNumber,g.endColumn,g.startLineNumber,g.startColumn),t[c].selection=_;var S=m.d.fromModelSelection(_);e[h].setState(this.context,S.modelState,S.viewState)}for(var C=0;C<t.length;C++)t[C].index>d&&t[C].index--;e.splice(d,1),t.splice(u,1),this._removeSecondaryCursor(d-1),o--}}}}},e}(),S=n(55),C=n(187),x=n(96),k=n(38),T=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),O=function(){return function(e){this.type=1,this.canUseLayerHinting=e.canUseLayerHinting,this.pixelRatio=e.pixelRatio,this.editorClassName=e.editorClassName,this.lineHeight=e.lineHeight,this.readOnly=e.readOnly,this.accessibilitySupport=e.accessibilitySupport,this.emptySelectionClipboard=e.emptySelectionClipboard,this.layoutInfo=e.layoutInfo,this.fontInfo=e.fontInfo,this.viewInfo=e.viewInfo,this.wrappingInfo=e.wrappingInfo}}(),N=function(){return function(e){this.type=2,this.selections=e}}(),L=function(){return function(){this.type=3}}(),I=function(){return function(){this.type=4}}(),E=function(){return function(e){this.type=5,this.isFocused=e}}(),D=function(){return function(){this.type=6}}(),A=function(){return function(e,t){this.type=7,this.fromLineNumber=e,this.toLineNumber=t}}(),M=function(){return function(e,t){this.type=8,this.fromLineNumber=e,this.toLineNumber=t}}(),P=function(){return function(e,t){this.type=9,this.fromLineNumber=e,this.toLineNumber=t}}(),R=function(){return function(e,t,n,i){this.type=10,this.range=e,this.verticalType=t,this.revealHorizontal=n,this.scrollType=i}}(),F=function(){return function(e){this.type=11,this.scrollWidth=e.scrollWidth,this.scrollLeft=e.scrollLeft,this.scrollHeight=e.scrollHeight,this.scrollTop=e.scrollTop,this.scrollWidthChanged=e.scrollWidthChanged,this.scrollLeftChanged=e.scrollLeftChanged,this.scrollHeightChanged=e.scrollHeightChanged,this.scrollTopChanged=e.scrollTopChanged}}(),j=function(){return function(e){this.type=12,this.ranges=e}}(),W=function(){return function(){this.type=15}}(),V=function(){return function(){this.type=13}}(),B=function(){return function(){this.type=14}}(),H=function(){return function(){this.type=16}}(),z=function(e){function t(){var t=e.call(this)||this;return t._listeners=[],t._collector=null,t._collectorCnt=0,t}return T(t,e),t.prototype.dispose=function(){this._listeners=[],e.prototype.dispose.call(this)},t.prototype._beginEmit=function(){return this._collectorCnt++,1===this._collectorCnt&&(this._collector=new U),this._collector},t.prototype._endEmit=function(){if(this._collectorCnt--,0===this._collectorCnt){var e=this._collector.finalize();this._collector=null,e.length>0&&this._emit(e)}},t.prototype._emit=function(e){for(var t=this._listeners.slice(0),n=0,i=t.length;n<i;n++)q(t[n],e)},t.prototype.addEventListener=function(e){var t=this;return this._listeners.push(e),Object(l.f)(function(){for(var n=t._listeners,i=0,o=n.length;i<o;i++)if(n[i]===e){n.splice(i,1);break}})},t}(l.a),U=function(){function e(){this._eventsLen=0,this._events=[],this._eventsLen=0}return e.prototype.emit=function(e){this._events[this._eventsLen++]=e},e.prototype.finalize=function(){var e=this._events;return this._events=null,e},e}();function q(e,t){try{e(t)}catch(e){a.e(e)}}var G=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();var K=function(){return function(e,t,n){this.selections=e,this.source=t,this.reason=n}}(),Y=function(){function e(e,t){this.modelVersionId=e.getVersionId(),this.cursorState=t.getAll()}return e.prototype.equals=function(e){if(!e)return!1;if(this.modelVersionId!==e.modelVersionId)return!1;if(this.cursorState.length!==e.cursorState.length)return!1;for(var t=0,n=this.cursorState.length;t<n;t++)if(!this.cursorState[t].equals(e.cursorState[t]))return!1;return!0},e}(),Z=function(e){function t(t,n,i){var o=e.call(this)||this;o._onDidReachMaxCursorCount=o._register(new s.a),o.onDidReachMaxCursorCount=o._onDidReachMaxCursorCount.event,o._onDidAttemptReadOnlyEdit=o._register(new s.a),o.onDidAttemptReadOnlyEdit=o._onDidAttemptReadOnlyEdit.event,o._onDidChange=o._register(new s.a),o.onDidChange=o._onDidChange.event,o._configuration=t,o._model=n,o._knownModelVersionId=o._model.getVersionId(),o._viewModel=i,o.context=new m.c(o._configuration,o._model,o._viewModel),o._cursors=new _(o.context),o._isHandling=!1,o._isDoingComposition=!1,o._columnSelectData=null,o._prevEditOperationType=0,o._register(o._model.onDidChangeRawContent(function(e){if(o._knownModelVersionId=e.versionId,!o._isHandling){var t=e.containsEvent(1);o._onModelContentChanged(t)}})),o._register(i.addEventListener(function(e){(function(e){for(var t=0,n=e.length;t<n;t++)if(6===e[t].type)return!0;return!1})(e)&&o._knownModelVersionId===o._model.getVersionId()&&o.setStates("viewModel",k.a.NotSet,o.getAll())}));var r=function(){o.context=new m.c(o._configuration,o._model,o._viewModel),o._cursors.updateContext(o.context)};return o._register(o._model.onDidChangeLanguage(function(e){r()})),o._register(o._model.onDidChangeLanguageConfiguration(function(){r()})),o._register(o._model.onDidChangeOptions(function(){r()})),o._register(o._configuration.onDidChange(function(e){m.b.shouldRecreate(e)&&r()})),o}return G(t,e),t.prototype.dispose=function(){this._cursors.dispose(),e.prototype.dispose.call(this)},t.prototype.getPrimaryCursor=function(){return this._cursors.getPrimaryCursor()},t.prototype.getLastAddedCursorIndex=function(){return this._cursors.getLastAddedCursorIndex()},t.prototype.getAll=function(){return this._cursors.getAll()},t.prototype.setStates=function(e,n,i){i.length>t.MAX_CURSOR_COUNT&&(i=i.slice(0,t.MAX_CURSOR_COUNT),this._onDidReachMaxCursorCount.fire(void 0));var o=new Y(this._model,this);this._cursors.setStates(i),this._cursors.normalize(),this._columnSelectData=null,this._emitStateChangedIfNecessary(e,n,o)},t.prototype.setColumnSelectData=function(e){this._columnSelectData=e},t.prototype.reveal=function(e,t,n){this._revealRange(t,0,e,n)},t.prototype.revealRange=function(e,t,n,i){this.emitCursorRevealRange(t,n,e,i)},t.prototype.scrollTo=function(e){this._viewModel.viewLayout.setScrollPositionSmooth({scrollTop:e})},t.prototype.saveState=function(){for(var e=[],t=this._cursors.getSelections(),n=0,i=t.length;n<i;n++){var o=t[n];e.push({inSelectionMode:!o.isEmpty(),selectionStart:{lineNumber:o.selectionStartLineNumber,column:o.selectionStartColumn},position:{lineNumber:o.positionLineNumber,column:o.positionColumn}})}return e},t.prototype.restoreState=function(e){for(var t=[],n=0,i=e.length;n<i;n++){var o=e[n],r=1,a=1;o.position&&o.position.lineNumber&&(r=o.position.lineNumber),o.position&&o.position.column&&(a=o.position.column);var s=r,l=a;o.selectionStart&&o.selectionStart.lineNumber&&(s=o.selectionStart.lineNumber),o.selectionStart&&o.selectionStart.column&&(l=o.selectionStart.column),t.push({selectionStartLineNumber:s,selectionStartColumn:l,positionLineNumber:r,positionColumn:a})}this.setStates("restoreState",k.a.NotSet,m.d.fromModelSelections(t)),this.reveal(!0,0,1)},t.prototype._onModelContentChanged=function(e){if(this._prevEditOperationType=0,e)this._cursors.dispose(),this._cursors=new _(this.context),this._emitStateChangedIfNecessary("model",k.a.ContentFlush,null);else{var t=this._cursors.readSelectionFromMarkers();this.setStates("modelChange",k.a.RecoverFromMarkers,m.d.fromModelSelections(t))}},t.prototype.getSelection=function(){return this._cursors.getPrimaryCursor().modelState.selection},t.prototype.getColumnSelectData=function(){if(this._columnSelectData)return this._columnSelectData;var e=this._cursors.getPrimaryCursor().viewState.position;return{toViewLineNumber:e.lineNumber,toViewVisualColumn:m.a.visibleColumnFromColumn2(this.context.config,this.context.viewModel,e)}},t.prototype.getSelections=function(){return this._cursors.getSelections()},t.prototype.getViewSelections=function(){return this._cursors.getViewSelections()},t.prototype.getPosition=function(){return this._cursors.getPrimaryCursor().modelState.position},t.prototype.setSelections=function(e,t){this.setStates(e,k.a.NotSet,m.d.fromModelSelections(t))},t.prototype.getPrevEditOperationType=function(){return this._prevEditOperationType},t.prototype.setPrevEditOperationType=function(e){this._prevEditOperationType=e},t.prototype._executeEditOperation=function(e){if(e){e.shouldPushStackElementBefore&&this._model.pushStackElement();var t=$.executeCommands(this._model,this._cursors.getSelections(),e.commands);t&&(this._interpretCommandResult(t),this._prevEditOperationType=e.type),e.shouldPushStackElementAfter&&this._model.pushStackElement()}},t.prototype._interpretCommandResult=function(e){e&&0!==e.length||(e=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(e),this._cursors.normalize()},t.prototype._emitStateChangedIfNecessary=function(e,t,n){var i=new Y(this._model,this);if(i.equals(n))return!1;var o=this._cursors.getSelections(),r=this._cursors.getViewSelections();try{this._beginEmit().emit(new N(r))}finally{this._endEmit()}return n&&n.cursorState.length===i.cursorState.length&&!i.cursorState.some(function(e,t){return!e.modelState.equals(n.cursorState[t].modelState)})||this._onDidChange.fire(new K(o,e||"keyboard",t)),!0},t.prototype._revealRange=function(e,t,n,i){var o=this._cursors.getViewPositions(),r=o[0];if(1===e)for(var a=1;a<o.length;a++)o[a].isBefore(r)&&(r=o[a]);else if(2===e)for(a=1;a<o.length;a++)r.isBeforeOrEqual(o[a])&&(r=o[a]);else if(o.length>1)return;var s=new b.a(r.lineNumber,r.column,r.lineNumber,r.column);this.emitCursorRevealRange(s,t,n,i)},t.prototype.emitCursorRevealRange=function(e,t,n,i){try{this._beginEmit().emit(new R(e,t,n,i))}finally{this._endEmit()}},t.prototype.trigger=function(e,t,n){var i=S.b;if(t!==i.CompositionStart)if(t===i.CompositionEnd&&(this._isDoingComposition=!1),this._configuration.editor.readOnly)this._onDidAttemptReadOnlyEdit.fire(void 0);else{var o=new Y(this._model,this),r=k.a.NotSet;t!==i.Undo&&t!==i.Redo&&this._cursors.stopTrackingSelections(),this._cursors.ensureValidState(),this._isHandling=!0;try{switch(t){case i.Type:this._type(e,n.text);break;case i.ReplacePreviousChar:this._replacePreviousChar(n.text,n.replaceCharCnt);break;case i.Paste:r=k.a.Paste,this._paste(n.text,n.pasteOnNewLine,n.multicursorText);break;case i.Cut:this._cut();break;case i.Undo:r=k.a.Undo,this._interpretCommandResult(this._model.undo());break;case i.Redo:r=k.a.Redo,this._interpretCommandResult(this._model.redo());break;case i.ExecuteCommand:this._externalExecuteCommand(n);break;case i.ExecuteCommands:this._externalExecuteCommands(n);break;case i.CompositionEnd:this._interpretCompositionEnd(e)}}catch(e){Object(a.e)(e)}this._isHandling=!1,t!==i.Undo&&t!==i.Redo&&this._cursors.startTrackingSelections(),this._emitStateChangedIfNecessary(e,r,o)&&this._revealRange(0,0,!0,0)}else this._isDoingComposition=!0},t.prototype._interpretCompositionEnd=function(e){this._isDoingComposition||"keyboard"!==e||this._executeEditOperation(x.a.compositionEndWithInterceptors(this._prevEditOperationType,this.context.config,this.context.model,this.getSelections()))},t.prototype._type=function(e,t){if(this._isDoingComposition||"keyboard"!==e)this._executeEditOperation(x.a.typeWithoutInterceptors(this._prevEditOperationType,this.context.config,this.context.model,this.getSelections(),t));else for(var n=0,i=t.length;n<i;n++){var o=t.charCodeAt(n),r=void 0;p.isHighSurrogate(o)&&n+1<i?(r=t.charAt(n)+t.charAt(n+1),n++):r=t.charAt(n),this._executeEditOperation(x.a.typeWithInterceptors(this._prevEditOperationType,this.context.config,this.context.model,this.getSelections(),r))}},t.prototype._replacePreviousChar=function(e,t){this._executeEditOperation(x.a.replacePreviousChar(this._prevEditOperationType,this.context.config,this.context.model,this.getSelections(),e,t))},t.prototype._paste=function(e,t,n){this._executeEditOperation(x.a.paste(this.context.config,this.context.model,this.getSelections(),e,t,n))},t.prototype._cut=function(){this._executeEditOperation(C.a.cut(this.context.config,this.context.model,this.getSelections()))},t.prototype._externalExecuteCommand=function(e){this._cursors.killSecondaryCursors(),this._executeEditOperation(new m.e(0,[e],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},t.prototype._externalExecuteCommands=function(e){this._executeEditOperation(new m.e(0,e,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},t.MAX_CURSOR_COUNT=1e4,t}(z),$=function(){function e(){}return e.executeCommands=function(e,t,n){for(var i={model:e,selectionsBefore:t,trackedRanges:[],trackedRangesDirection:[]},o=this._innerExecuteCommands(i,n),r=0,a=i.trackedRanges.length;r<a;r++)i.model._setTrackedRange(i.trackedRanges[r],null,v.h.AlwaysGrowsWhenTypingAtEdges);return o},e._innerExecuteCommands=function(e,t){if(this._arrayIsEmpty(t))return null;var n=this._getEditOperations(e,t);if(0===n.operations.length)return null;var i=n.operations,o=this._getLoserCursorMap(i);if(o.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;for(var r=[],a=0,s=i.length;a<s;a++)o.hasOwnProperty(i[a].identifier.major.toString())||r.push(i[a]);n.hadTrackedEditOperation&&r.length>0&&(r[0]._isTracked=!0);var l=e.model.pushEditOperations(e.selectionsBefore,r,function(n){for(var i=[],o=0;o<e.selectionsBefore.length;o++)i[o]=[];for(o=0;o<n.length;o++){var r=n[o];r.identifier&&i[r.identifier.major].push(r)}var a=function(e,t){return e.identifier.minor-t.identifier.minor},s=[],l=function(n){i[n].length>0?(i[n].sort(a),s[n]=t[n].computeCursorState(e.model,{getInverseEditOperations:function(){return i[n]},getTrackedSelection:function(t){var n=parseInt(t,10),i=e.model._getTrackedRange(e.trackedRanges[n]);return e.trackedRangesDirection[n]===y.b.LTR?new y.a(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn):new y.a(i.endLineNumber,i.endColumn,i.startLineNumber,i.startColumn)}})):s[n]=e.selectionsBefore[n]};for(o=0;o<e.selectionsBefore.length;o++)l(o);return s}),c=[];for(var u in o)o.hasOwnProperty(u)&&c.push(parseInt(u,10));c.sort(function(e,t){return t-e});for(a=0;a<c.length;a++)l.splice(c[a],1);return l},e._arrayIsEmpty=function(e){for(var t=0,n=e.length;t<n;t++)if(e[t])return!1;return!0},e._getEditOperations=function(e,t){for(var n=[],i=!1,o=0,r=t.length;o<r;o++)if(t[o]){var a=this._getEditOperationsFromCommand(e,o,t[o]);n=n.concat(a.operations),i=i||a.hadTrackedEditOperation}return{operations:n,hadTrackedEditOperation:i}},e._getEditOperationsFromCommand=function(e,t,n){var i=[],r=0,s=function(e,o){e.isEmpty()&&""===o||i.push({identifier:{major:t,minor:r++},range:e,text:o,forceMoveMarkers:!1,isAutoWhitespaceEdit:n.insertsAutoWhitespace})},l=!1,c={addEditOperation:s,addTrackedEditOperation:function(e,t){l=!0,s(e,t)},trackSelection:function(t,n){var i;if(t.isEmpty())if("boolean"===typeof n)i=n?v.h.GrowsOnlyWhenTypingBefore:v.h.GrowsOnlyWhenTypingAfter;else{var o=e.model.getLineMaxColumn(t.startLineNumber);i=t.startColumn===o?v.h.GrowsOnlyWhenTypingBefore:v.h.GrowsOnlyWhenTypingAfter}else i=v.h.NeverGrowsWhenTypingAtEdges;var r=e.trackedRanges.length,a=e.model._setTrackedRange(null,t,i);return e.trackedRanges[r]=a,e.trackedRangesDirection[r]=t.getDirection(),r.toString()}};try{n.getEditOperations(e.model,c)}catch(e){return e.friendlyMessage=o.a("corrupt.commands","Unexpected exception while executing command."),Object(a.e)(e),{operations:[],hadTrackedEditOperation:!1}}return{operations:i,hadTrackedEditOperation:l}},e._getLoserCursorMap=function(e){(e=e.slice(0)).sort(function(e,t){return-b.a.compareRangesUsingEnds(e.range,t.range)});for(var t={},n=1;n<e.length;n++){var i=e[n-1],o=e[n];if(i.range.getStartPosition().isBefore(o.range.getEndPosition())){var r=void 0;t[(r=i.identifier.major>o.identifier.major?i.identifier.major:o.identifier.major).toString()]=!0;for(var a=0;a<e.length;a++)e[a].identifier.major===r&&(e.splice(a,1),a<n&&n--,a--);n>0&&n--}}return t},e}(),X=n(12),Q=n(195),J=n(57),ee=function(){function e(e,t,n,i,o){this.editorId=e,this.model=t,this.configuration=n,this._linesCollection=i,this._coordinatesConverter=o,this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}return e.prototype._clearCachedModelDecorationsResolver=function(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null},e.prototype.dispose=function(){this._decorationsCache=null,this._clearCachedModelDecorationsResolver()},e.prototype.reset=function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()},e.prototype.onModelDecorationsChanged=function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()},e.prototype.onLineMappingChanged=function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()},e.prototype._getOrCreateViewModelDecoration=function(e){var t=e.id,n=this._decorationsCache[t];if(!n){var i=e.range,o=e.options,r=void 0;if(o.isWholeLine){var a=this._coordinatesConverter.convertModelPositionToViewPosition(new g.a(i.startLineNumber,1)),s=this._coordinatesConverter.convertModelPositionToViewPosition(new g.a(i.endLineNumber,this.model.getLineMaxColumn(i.endLineNumber)));r=new b.a(a.lineNumber,a.column,s.lineNumber,s.column)}else r=this._coordinatesConverter.convertModelRangeToViewRange(i);n=new J.e(r,o),this._decorationsCache[t]=n}return n},e.prototype.getDecorationsViewportData=function(e){var t=!0;return(t=(t=t&&null!==this._cachedModelDecorationsResolver)&&e.equalsRange(this._cachedModelDecorationsResolverViewRange))||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(e),this._cachedModelDecorationsResolverViewRange=e),this._cachedModelDecorationsResolver},e.prototype._getDecorationsViewportData=function(e){for(var t=this._linesCollection.getDecorationsInRange(e,this.editorId,this.configuration.editor.readOnly),n=e.startLineNumber,i=e.endLineNumber,o=[],r=0,a=[],s=n;s<=i;s++)a[s-n]=[];for(var l=0,c=t.length;l<c;l++){var u=t[l],d=u.options,h=this._getOrCreateViewModelDecoration(u),f=h.range;if(o[r++]=h,d.inlineClassName){var p=new J.a(f,d.inlineClassName,d.inlineClassNameAffectsLetterSpacing?3:0),m=Math.max(n,f.startLineNumber),g=Math.min(i,f.endLineNumber);for(s=m;s<=g;s++)a[s-n].push(p)}if(d.beforeContentClassName&&n<=f.startLineNumber&&f.startLineNumber<=i){p=new J.a(new b.a(f.startLineNumber,f.startColumn,f.startLineNumber,f.startColumn),d.beforeContentClassName,1);a[f.startLineNumber-n].push(p)}if(d.afterContentClassName&&n<=f.endLineNumber&&f.endLineNumber<=i){p=new J.a(new b.a(f.endLineNumber,f.endColumn,f.endLineNumber,f.endColumn),d.afterContentClassName,2);a[f.endLineNumber-n].push(p)}}return{decorations:o,inlineDecorations:a}},e}(),te=n(164),ne=n(30),ie=n(17),oe=function(){return function(e,t){this.outputLineIndex=e,this.outputOffset=t}}(),re=function(){function e(e){this._lines=e}return e.prototype.convertViewPositionToModelPosition=function(e){return this._lines.convertViewPositionToModelPosition(e.lineNumber,e.column)},e.prototype.convertViewRangeToModelRange=function(e){var t=this._lines.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),n=this._lines.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new b.a(t.lineNumber,t.column,n.lineNumber,n.column)},e.prototype.validateViewPosition=function(e,t){return this._lines.validateViewPosition(e.lineNumber,e.column,t)},e.prototype.validateViewRange=function(e,t){var n=this._lines.validateViewPosition(e.startLineNumber,e.startColumn,t.getStartPosition()),i=this._lines.validateViewPosition(e.endLineNumber,e.endColumn,t.getEndPosition());return new b.a(n.lineNumber,n.column,i.lineNumber,i.column)},e.prototype.convertModelPositionToViewPosition=function(e){return this._lines.convertModelPositionToViewPosition(e.lineNumber,e.column)},e.prototype.convertModelRangeToViewRange=function(e){var t=this._lines.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn),n=this._lines.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn);return new b.a(t.lineNumber,t.column,n.lineNumber,n.column)},e.prototype.modelPositionIsVisible=function(e){return this._lines.modelPositionIsVisible(e.lineNumber,e.column)},e}(),ae=function(){function e(e,t,n,i,o,r){this.model=e,this._validModelVersionId=-1,this.tabSize=n,this.wrappingColumn=i,this.columnsForFullWidthChar=o,this.wrappingIndent=r,this.linePositionMapperFactory=t,this._constructLines(!0)}return e.prototype.dispose=function(){this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,[])},e.prototype.createCoordinatesConverter=function(){return new re(this)},e.prototype._ensureValidState=function(){if(this.model.getVersionId()!==this._validModelVersionId)throw new Error("ViewModel is out of sync with Model!")},e.prototype._constructLines=function(e){var t=this;this.lines=[],e&&(this.hiddenAreasIds=[]);for(var n=this.model.getLinesContent(),i=n.length,o=new Uint32Array(i),r=this.hiddenAreasIds.map(function(e){return t.model.getDecorationRange(e)}).sort(b.a.compareRangesUsingStarts),a=1,s=0,l=-1,c=l+1<r.length?s+1:i+2,u=0;u<i;u++){var d=u+1;d===c&&(a=r[++l].startLineNumber,s=r[l].endLineNumber,c=l+1<r.length?s+1:i+2);var h=d>=a&&d<=s,f=ue(this.linePositionMapperFactory,n[u],this.tabSize,this.wrappingColumn,this.columnsForFullWidthChar,this.wrappingIndent,!h);o[u]=f.getViewLineCount(),this.lines[u]=f}this._validModelVersionId=this.model.getVersionId(),this.prefixSumComputer=new te.b(o)},e.prototype.getHiddenAreas=function(){var e=this;return this.hiddenAreasIds.map(function(t){return e.model.getDecorationRange(t)})},e.prototype._reduceRanges=function(e){var t=this;if(0===e.length)return[];for(var n=e.map(function(e){return t.model.validateRange(e)}).sort(b.a.compareRangesUsingStarts),i=[],o=n[0].startLineNumber,r=n[0].endLineNumber,a=1,s=n.length;a<s;a++){var l=n[a];l.startLineNumber>r+1?(i.push(new b.a(o,1,r,1)),o=l.startLineNumber,r=l.endLineNumber):l.endLineNumber>r&&(r=l.endLineNumber)}return i.push(new b.a(o,1,r,1)),i},e.prototype.setHiddenAreas=function(e){var t=this,n=this._reduceRanges(e),i=this.hiddenAreasIds.map(function(e){return t.model.getDecorationRange(e)}).sort(b.a.compareRangesUsingStarts);if(n.length===i.length){for(var o=!1,r=0;r<n.length;r++)if(!n[r].equalsRange(i[r])){o=!0;break}if(!o)return!1}var a=[];for(r=0;r<n.length;r++)a.push({range:n[r],options:ne.a.EMPTY});this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,a);var s=n,l=1,c=0,u=-1,d=u+1<s.length?c+1:this.lines.length+2,h=!1;for(r=0;r<this.lines.length;r++){var f=r+1;f===d&&(l=s[++u].startLineNumber,c=s[u].endLineNumber,d=u+1<s.length?c+1:this.lines.length+2);var p=!1;if(f>=l&&f<=c?this.lines[r].isVisible()&&(this.lines[r]=this.lines[r].setVisible(!1),p=!0):(h=!0,this.lines[r].isVisible()||(this.lines[r]=this.lines[r].setVisible(!0),p=!0)),p){var m=this.lines[r].getViewLineCount();this.prefixSumComputer.changeValue(r,m)}}return h||this.setHiddenAreas([]),!0},e.prototype.modelPositionIsVisible=function(e,t){return!(e<1||e>this.lines.length)&&this.lines[e-1].isVisible()},e.prototype.setTabSize=function(e){return this.tabSize!==e&&(this.tabSize=e,this._constructLines(!1),!0)},e.prototype.setWrappingSettings=function(e,t,n){return(this.wrappingIndent!==e||this.wrappingColumn!==t||this.columnsForFullWidthChar!==n)&&(this.wrappingIndent=e,this.wrappingColumn=t,this.columnsForFullWidthChar=n,this._constructLines(!1),!0)},e.prototype.onModelFlushed=function(){this._constructLines(!0)},e.prototype.onModelLinesDeleted=function(e,t,n){if(e<=this._validModelVersionId)return null;var i=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,o=this.prefixSumComputer.getAccumulatedValue(n-1);return this.lines.splice(t-1,n-t+1),this.prefixSumComputer.removeValues(t-1,n-t+1),new M(i,o)},e.prototype.onModelLinesInserted=function(e,t,n,i){if(e<=this._validModelVersionId)return null;for(var o=this.getHiddenAreas(),r=!1,a=new g.a(t,1),s=0;s<o.length;s++)if(o[s].containsPosition(a)){r=!0;break}for(var l=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,c=0,u=[],d=new Uint32Array(i.length),h=(s=0,i.length);s<h;s++){var f=ue(this.linePositionMapperFactory,i[s],this.tabSize,this.wrappingColumn,this.columnsForFullWidthChar,this.wrappingIndent,!r);u.push(f);var p=f.getViewLineCount();c+=p,d[s]=p}return this.lines=this.lines.slice(0,t-1).concat(u).concat(this.lines.slice(t-1)),this.prefixSumComputer.insertValues(t-1,d),new P(l,l+c-1)},e.prototype.onModelLineChanged=function(e,t,n){if(e<=this._validModelVersionId)return[!1,null,null,null];var i=t-1,o=this.lines[i].getViewLineCount(),r=this.lines[i].isVisible(),a=ue(this.linePositionMapperFactory,n,this.tabSize,this.wrappingColumn,this.columnsForFullWidthChar,this.wrappingIndent,r);this.lines[i]=a;var s=this.lines[i].getViewLineCount(),l=!1,c=0,u=-1,d=0,h=-1,f=0,p=-1;return o>s?(p=(f=(u=(c=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1)+s-1)+1)+(o-s)-1,l=!0):o<s?(h=(d=(u=(c=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1)+o-1)+1)+(s-o)-1,l=!0):u=(c=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1)+s-1,this.prefixSumComputer.changeValue(i,s),[l,c<=u?new A(c,u):null,d<=h?new P(d,h):null,f<=p?new M(f,p):null]},e.prototype.acceptVersionId=function(e){this._validModelVersionId=e,1!==this.lines.length||this.lines[0].isVisible()||this.setHiddenAreas([])},e.prototype.getViewLineCount=function(){return this._ensureValidState(),this.prefixSumComputer.getTotalValue()},e.prototype._toValidViewLineNumber=function(e){if(e<1)return 1;var t=this.getViewLineCount();return e>t?t:e},e.prototype.warmUpLookupCache=function(e,t){this.prefixSumComputer.warmUpCache(e-1,t-1)},e.prototype.getActiveIndentGuide=function(e,t,n){this._ensureValidState(),e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t),n=this._toValidViewLineNumber(n);var i=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),o=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),r=this.convertViewPositionToModelPosition(n,this.getViewLineMinColumn(n)),a=this.model.getActiveIndentGuide(i.lineNumber,o.lineNumber,r.lineNumber),s=this.convertModelPositionToViewPosition(a.startLineNumber,1),l=this.convertModelPositionToViewPosition(a.endLineNumber,1);return{startLineNumber:s.lineNumber,endLineNumber:l.lineNumber,indent:a.indent}},e.prototype.getViewLinesIndentGuides=function(e,t){this._ensureValidState(),e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);for(var n=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),i=this.convertViewPositionToModelPosition(t,this.getViewLineMaxColumn(t)),o=[],r=[],a=[],s=n.lineNumber-1,l=i.lineNumber-1,c=null,u=s;u<=l;u++){var d=this.lines[u];if(d.isVisible()){var h=d.getViewLineNumberOfModelPosition(0,u===s?n.column:1),f=d.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(u+1)),p=0;(S=f-h+1)>1&&1===d.getViewLineMinColumn(this.model,u+1,f)&&(p=0===h?1:2),r.push(S),a.push(p),null===c&&(c=new g.a(u+1,0))}else null!==c&&(o=o.concat(this.model.getLinesIndentGuides(c.lineNumber,u)),c=null)}null!==c&&(o=o.concat(this.model.getLinesIndentGuides(c.lineNumber,i.lineNumber)),c=null);for(var m=t-e+1,b=new Array(m),y=0,v=0,w=o.length;v<w;v++){var _=o[v],S=Math.min(m-y,r[v]),C=void 0;C=2===(p=a[v])?0:1===p?1:S;for(var x=0;x<S;x++)x===C&&(_=0),b[y++]=_}return b},e.prototype.getViewLineContent=function(e){this._ensureValidState(),e=this._toValidViewLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1),n=t.index,i=t.remainder;return this.lines[n].getViewLineContent(this.model,n+1,i)},e.prototype.getViewLineLength=function(e){this._ensureValidState(),e=this._toValidViewLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1),n=t.index,i=t.remainder;return this.lines[n].getViewLineLength(this.model,n+1,i)},e.prototype.getViewLineMinColumn=function(e){this._ensureValidState(),e=this._toValidViewLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1),n=t.index,i=t.remainder;return this.lines[n].getViewLineMinColumn(this.model,n+1,i)},e.prototype.getViewLineMaxColumn=function(e){this._ensureValidState(),e=this._toValidViewLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1),n=t.index,i=t.remainder;return this.lines[n].getViewLineMaxColumn(this.model,n+1,i)},e.prototype.getViewLineData=function(e){this._ensureValidState(),e=this._toValidViewLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1),n=t.index,i=t.remainder;return this.lines[n].getViewLineData(this.model,n+1,i)},e.prototype.getViewLinesData=function(e,t,n){this._ensureValidState(),e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);for(var i=this.prefixSumComputer.getIndexOf(e-1),o=e,r=i.index,a=i.remainder,s=[],l=r,c=this.model.getLineCount();l<c;l++){var u=this.lines[l];if(u.isVisible()){var d=l===r?a:0,h=u.getViewLineCount()-d,f=!1;o+h>t&&(f=!0,h=t-o+1);var p=d+h;if(u.getViewLinesData(this.model,l+1,d,p,o-e,n,s),o+=h,f)break}}return s},e.prototype.validateViewPosition=function(e,t,n){this._ensureValidState(),e=this._toValidViewLineNumber(e);var i=this.prefixSumComputer.getIndexOf(e-1),o=i.index,r=i.remainder,a=this.lines[o],s=a.getViewLineMinColumn(this.model,o+1,r),l=a.getViewLineMaxColumn(this.model,o+1,r);t<s&&(t=s),t>l&&(t=l);var c=a.getModelColumnOfViewPosition(r,t);return this.model.validatePosition(new g.a(o+1,c)).equals(n)?new g.a(e,t):this.convertModelPositionToViewPosition(n.lineNumber,n.column)},e.prototype.convertViewPositionToModelPosition=function(e,t){this._ensureValidState(),e=this._toValidViewLineNumber(e);var n=this.prefixSumComputer.getIndexOf(e-1),i=n.index,o=n.remainder,r=this.lines[i].getModelColumnOfViewPosition(o,t);return this.model.validatePosition(new g.a(i+1,r))},e.prototype.convertModelPositionToViewPosition=function(e,t){this._ensureValidState();for(var n=this.model.validatePosition(new g.a(e,t)),i=n.lineNumber,o=n.column,r=i-1,a=!1;r>0&&!this.lines[r].isVisible();)r--,a=!0;if(0===r&&!this.lines[r].isVisible())return new g.a(1,1);var s=1+(0===r?0:this.prefixSumComputer.getAccumulatedValue(r-1));return a?this.lines[r].getViewPositionOfModelPosition(s,this.model.getLineMaxColumn(r+1)):this.lines[i-1].getViewPositionOfModelPosition(s,o)},e.prototype._getViewLineNumberForModelPosition=function(e,t){var n=e-1;if(this.lines[n].isVisible()){var i=1+(0===n?0:this.prefixSumComputer.getAccumulatedValue(n-1));return this.lines[n].getViewLineNumberOfModelPosition(i,t)}for(;n>0&&!this.lines[n].isVisible();)n--;if(0===n&&!this.lines[n].isVisible())return 1;var o=1+(0===n?0:this.prefixSumComputer.getAccumulatedValue(n-1));return this.lines[n].getViewLineNumberOfModelPosition(o,this.model.getLineMaxColumn(n+1))},e.prototype.getAllOverviewRulerDecorations=function(e,t,n){for(var i=this.model.getOverviewRulerDecorations(e,t),o=new fe,r=0,a=i.length;r<a;r++){var s=i[r],l=s.options.overviewRuler,c=l.position;if(0!==c){var u=pe(l,n),d=this._getViewLineNumberForModelPosition(s.range.startLineNumber,s.range.startColumn),h=this._getViewLineNumberForModelPosition(s.range.endLineNumber,s.range.endColumn);o.accept(u,d,h,c)}}return o.result},e.prototype.getDecorationsInRange=function(e,t,n){var i=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),o=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);if(o.lineNumber-i.lineNumber<=e.endLineNumber-e.startLineNumber)return this.model.getDecorationsInRange(new b.a(i.lineNumber,i.column,o.lineNumber,o.column),t,n);for(var r=[],a=i.lineNumber-1,s=o.lineNumber-1,l=null,c=a;c<=s;c++){if(this.lines[c].isVisible())null===l&&(l=new g.a(c+1,c===a?i.column:1));else if(null!==l){var u=this.model.getLineMaxColumn(c);r=r.concat(this.model.getDecorationsInRange(new b.a(l.lineNumber,l.column,c,u),t,n)),l=null}}return null!==l&&(r=r.concat(this.model.getDecorationsInRange(new b.a(l.lineNumber,l.column,o.lineNumber,o.column),t,n)),l=null),r},e}(),se=function(){function e(){}return e.prototype.isVisible=function(){return!0},e.prototype.setVisible=function(e){return e?this:le.INSTANCE},e.prototype.getViewLineCount=function(){return 1},e.prototype.getViewLineContent=function(e,t,n){return e.getLineContent(t)},e.prototype.getViewLineLength=function(e,t,n){return e.getLineLength(t)},e.prototype.getViewLineMinColumn=function(e,t,n){return e.getLineMinColumn(t)},e.prototype.getViewLineMaxColumn=function(e,t,n){return e.getLineMaxColumn(t)},e.prototype.getViewLineData=function(e,t,n){var i=e.getLineTokens(t),o=i.getLineContent();return new J.c(o,!1,1,o.length+1,i.inflate())},e.prototype.getViewLinesData=function(e,t,n,i,o,r,a){r[o]?a[o]=this.getViewLineData(e,t,0):a[o]=null},e.prototype.getModelColumnOfViewPosition=function(e,t){return t},e.prototype.getViewPositionOfModelPosition=function(e,t){return new g.a(e,t)},e.prototype.getViewLineNumberOfModelPosition=function(e,t){return e},e.INSTANCE=new e,e}(),le=function(){function e(){}return e.prototype.isVisible=function(){return!1},e.prototype.setVisible=function(e){return e?se.INSTANCE:this},e.prototype.getViewLineCount=function(){return 0},e.prototype.getViewLineContent=function(e,t,n){throw new Error("Not supported")},e.prototype.getViewLineLength=function(e,t,n){throw new Error("Not supported")},e.prototype.getViewLineMinColumn=function(e,t,n){throw new Error("Not supported")},e.prototype.getViewLineMaxColumn=function(e,t,n){throw new Error("Not supported")},e.prototype.getViewLineData=function(e,t,n){throw new Error("Not supported")},e.prototype.getViewLinesData=function(e,t,n,i,o,r,a){throw new Error("Not supported")},e.prototype.getModelColumnOfViewPosition=function(e,t){throw new Error("Not supported")},e.prototype.getViewPositionOfModelPosition=function(e,t){throw new Error("Not supported")},e.prototype.getViewLineNumberOfModelPosition=function(e,t){throw new Error("Not supported")},e.INSTANCE=new e,e}(),ce=function(){function e(e,t){this.positionMapper=e,this.wrappedIndent=this.positionMapper.getWrappedLinesIndent(),this.wrappedIndentLength=this.wrappedIndent.length,this.outputLineCount=this.positionMapper.getOutputLineCount(),this._isVisible=t}return e.prototype.isVisible=function(){return this._isVisible},e.prototype.setVisible=function(e){return this._isVisible=e,this},e.prototype.getViewLineCount=function(){return this._isVisible?this.outputLineCount:0},e.prototype.getInputStartOffsetOfOutputLineIndex=function(e){return this.positionMapper.getInputOffsetOfOutputPosition(e,0)},e.prototype.getInputEndOffsetOfOutputLineIndex=function(e,t,n){return n+1===this.outputLineCount?e.getLineMaxColumn(t)-1:this.positionMapper.getInputOffsetOfOutputPosition(n+1,0)},e.prototype.getViewLineContent=function(e,t,n){if(!this._isVisible)throw new Error("Not supported");var i=this.getInputStartOffsetOfOutputLineIndex(n),o=this.getInputEndOffsetOfOutputLineIndex(e,t,n),r=e.getValueInRange({startLineNumber:t,startColumn:i+1,endLineNumber:t,endColumn:o+1});return n>0&&(r=this.wrappedIndent+r),r},e.prototype.getViewLineLength=function(e,t,n){if(!this._isVisible)throw new Error("Not supported");var i=this.getInputStartOffsetOfOutputLineIndex(n),o=this.getInputEndOffsetOfOutputLineIndex(e,t,n)-i;return n>0&&(o=this.wrappedIndent.length+o),o},e.prototype.getViewLineMinColumn=function(e,t,n){if(!this._isVisible)throw new Error("Not supported");return n>0?this.wrappedIndentLength+1:1},e.prototype.getViewLineMaxColumn=function(e,t,n){if(!this._isVisible)throw new Error("Not supported");return this.getViewLineContent(e,t,n).length+1},e.prototype.getViewLineData=function(e,t,n){if(!this._isVisible)throw new Error("Not supported");var i=this.getInputStartOffsetOfOutputLineIndex(n),o=this.getInputEndOffsetOfOutputLineIndex(e,t,n),r=e.getValueInRange({startLineNumber:t,startColumn:i+1,endLineNumber:t,endColumn:o+1});n>0&&(r=this.wrappedIndent+r);var a=n>0?this.wrappedIndentLength+1:1,s=r.length+1,l=n+1<this.getViewLineCount(),c=0;n>0&&(c=this.wrappedIndentLength);var u=e.getLineTokens(t);return new J.c(r,l,a,s,u.sliceAndInflate(i,o,c))},e.prototype.getViewLinesData=function(e,t,n,i,o,r,a){if(!this._isVisible)throw new Error("Not supported");for(var s=n;s<i;s++){var l=o+s-n;r[l]?a[l]=this.getViewLineData(e,t,s):a[l]=null}},e.prototype.getModelColumnOfViewPosition=function(e,t){if(!this._isVisible)throw new Error("Not supported");var n=t-1;return e>0&&(n<this.wrappedIndentLength?n=0:n-=this.wrappedIndentLength),this.positionMapper.getInputOffsetOfOutputPosition(e,n)+1},e.prototype.getViewPositionOfModelPosition=function(e,t){if(!this._isVisible)throw new Error("Not supported");var n=this.positionMapper.getOutputPositionOfInputOffset(t-1),i=n.outputLineIndex,o=n.outputOffset+1;return i>0&&(o+=this.wrappedIndentLength),new g.a(e+i,o)},e.prototype.getViewLineNumberOfModelPosition=function(e,t){if(!this._isVisible)throw new Error("Not supported");return e+this.positionMapper.getOutputPositionOfInputOffset(t-1).outputLineIndex},e}();function ue(e,t,n,i,o,r,a){var s=e.createLineMapping(t,n,i,o,r);return null===s?a?se.INSTANCE:le.INSTANCE:new ce(s,a)}var de=function(){function e(e){this._lines=e}return e.prototype._validPosition=function(e){return this._lines.model.validatePosition(e)},e.prototype._validRange=function(e){return this._lines.model.validateRange(e)},e.prototype.convertViewPositionToModelPosition=function(e){return this._validPosition(e)},e.prototype.convertViewRangeToModelRange=function(e){return this._validRange(e)},e.prototype.validateViewPosition=function(e,t){return this._validPosition(t)},e.prototype.validateViewRange=function(e,t){return this._validRange(t)},e.prototype.convertModelPositionToViewPosition=function(e){return this._validPosition(e)},e.prototype.convertModelRangeToViewRange=function(e){return this._validRange(e)},e.prototype.modelPositionIsVisible=function(e){var t=this._lines.model.getLineCount();return!(e.lineNumber<1||e.lineNumber>t)},e}(),he=function(){function e(e){this.model=e}return e.prototype.dispose=function(){},e.prototype.createCoordinatesConverter=function(){return new de(this)},e.prototype.getHiddenAreas=function(){return[]},e.prototype.setHiddenAreas=function(e){return!1},e.prototype.setTabSize=function(e){return!1},e.prototype.setWrappingSettings=function(e,t,n){return!1},e.prototype.onModelFlushed=function(){},e.prototype.onModelLinesDeleted=function(e,t,n){return new M(t,n)},e.prototype.onModelLinesInserted=function(e,t,n,i){return new P(t,n)},e.prototype.onModelLineChanged=function(e,t,n){return[!1,new A(t,t),null,null]},e.prototype.acceptVersionId=function(e){},e.prototype.getViewLineCount=function(){return this.model.getLineCount()},e.prototype.warmUpLookupCache=function(e,t){},e.prototype.getActiveIndentGuide=function(e,t,n){return{startLineNumber:e,endLineNumber:e,indent:0}},e.prototype.getViewLinesIndentGuides=function(e,t){for(var n=t-e+1,i=new Array(n),o=0;o<n;o++)i[o]=0;return i},e.prototype.getViewLineContent=function(e){return this.model.getLineContent(e)},e.prototype.getViewLineLength=function(e){return this.model.getLineLength(e)},e.prototype.getViewLineMinColumn=function(e){return this.model.getLineMinColumn(e)},e.prototype.getViewLineMaxColumn=function(e){return this.model.getLineMaxColumn(e)},e.prototype.getViewLineData=function(e){var t=this.model.getLineTokens(e),n=t.getLineContent();return new J.c(n,!1,1,n.length+1,t.inflate())},e.prototype.getViewLinesData=function(e,t,n){var i=this.model.getLineCount();e=Math.min(Math.max(1,e),i),t=Math.min(Math.max(1,t),i);for(var o=[],r=e;r<=t;r++){var a=r-e;n[a]||(o[a]=null),o[a]=this.getViewLineData(r)}return o},e.prototype.getAllOverviewRulerDecorations=function(e,t,n){for(var i=this.model.getOverviewRulerDecorations(e,t),o=new fe,r=0,a=i.length;r<a;r++){var s=i[r],l=s.options.overviewRuler,c=l.position;if(0!==c){var u=pe(l,n),d=s.range.startLineNumber,h=s.range.endLineNumber;o.accept(u,d,h,c)}}return o.result},e.prototype.getDecorationsInRange=function(e,t,n){return this.model.getDecorationsInRange(e,t,n)},e}(),fe=function(){function e(){this.result=Object.create(null)}return e.prototype.accept=function(e,t,n,i){var o=this.result[e];if(o){var r=o[o.length-3],a=o[o.length-1];if(r===i&&a+1>=t)return void(n>a&&(o[o.length-1]=n));o.push(i,t,n)}else this.result[e]=[i,t,n]},e}();function pe(e,t){if(!e._resolvedColor){var n=t.type,i="dark"===n?e.darkColor:"light"===n?e.color:e.hcColor;e._resolvedColor=function(e,t){if("string"===typeof e)return e;var n=e?t.getColor(e.id):null;n||(n=ie.a.transparent);return n.toString()}(i,t)}return e._resolvedColor}var me=function(){function e(t,n,i,o){this.r=e._clamp(t),this.g=e._clamp(n),this.b=e._clamp(i),this.a=e._clamp(o)}return e._clamp=function(e){return e<0?0:e>255?255:0|e},e}(),ge=function(){function e(){var e=this;this._onDidChange=new s.a,this.onDidChange=this._onDidChange.event,this._updateColorMap(),X.y.onDidChange(function(t){t.changedColorMap&&e._updateColorMap()})}return e.getInstance=function(){return this._INSTANCE||(this._INSTANCE=new e),this._INSTANCE},e.prototype._updateColorMap=function(){var e=X.y.getColorMap();if(!e)return this._colors=[null],void(this._backgroundIsLight=!0);this._colors=[null];for(var t=1;t<e.length;t++){var n=e[t].rgba;this._colors[t]=new me(n.r,n.g,n.b,Math.round(255*n.a))}var i=e[2].getRelativeLuminance();this._backgroundIsLight=i>=.5,this._onDidChange.fire(void 0)},e.prototype.getColor=function(e){return(e<1||e>=this._colors.length)&&(e=2),this._colors[e]},e.prototype.backgroundIsLight=function(){return this._backgroundIsLight},e._INSTANCE=null,e}(),be=function(){function e(t,n){if(760!==t.length)throw new Error("Invalid x2CharData");if(190!==n.length)throw new Error("Invalid x1CharData");this.x2charData=t,this.x1charData=n,this.x2charDataLight=e.soften(t,.8),this.x1charDataLight=e.soften(n,50/60)}return e.soften=function(e,t){for(var n=new Uint8ClampedArray(e.length),i=0,o=e.length;i<o;i++)n[i]=e[i]*t;return n},e._getChIndex=function(e){return(e-=32)<0&&(e+=95),e%95},e.prototype.x2RenderChar=function(t,n,i,o,r,a,s){if(n+2>t.width||i+4>t.height)console.warn("bad render request outside image data");else{var l=s?this.x2charDataLight:this.x2charData,c=e._getChIndex(o),u=4*t.width,d=a.r,h=a.g,f=a.b,p=r.r-d,m=r.g-h,g=r.b-f,b=t.data,y=4*c*2,v=i*u+4*n,w=l[y]/255;b[v+0]=d+p*w,b[v+1]=h+m*w,b[v+2]=f+g*w;w=l[y+1]/255;b[v+4]=d+p*w,b[v+5]=h+m*w,b[v+6]=f+g*w,v+=u;w=l[y+2]/255;b[v+0]=d+p*w,b[v+1]=h+m*w,b[v+2]=f+g*w;w=l[y+3]/255;b[v+4]=d+p*w,b[v+5]=h+m*w,b[v+6]=f+g*w,v+=u;w=l[y+4]/255;b[v+0]=d+p*w,b[v+1]=h+m*w,b[v+2]=f+g*w;w=l[y+5]/255;b[v+4]=d+p*w,b[v+5]=h+m*w,b[v+6]=f+g*w,v+=u;w=l[y+6]/255;b[v+0]=d+p*w,b[v+1]=h+m*w,b[v+2]=f+g*w;w=l[y+7]/255;b[v+4]=d+p*w,b[v+5]=h+m*w,b[v+6]=f+g*w}},e.prototype.x1RenderChar=function(t,n,i,o,r,a,s){if(n+1>t.width||i+2>t.height)console.warn("bad render request outside image data");else{var l=s?this.x1charDataLight:this.x1charData,c=e._getChIndex(o),u=4*t.width,d=a.r,h=a.g,f=a.b,p=r.r-d,m=r.g-h,g=r.b-f,b=t.data,y=2*c*1,v=i*u+4*n,w=l[y]/255;b[v+0]=d+p*w,b[v+1]=h+m*w,b[v+2]=f+g*w,v+=u;w=l[y+1]/255;b[v+0]=d+p*w,b[v+1]=h+m*w,b[v+2]=f+g*w}},e.prototype.x2BlockRenderChar=function(e,t,n,i,o,r){if(t+2>e.width||n+4>e.height)console.warn("bad render request outside image data");else{var a=4*e.width,s=o.r,l=o.g,c=o.b,u=s+.5*(i.r-s),d=l+.5*(i.g-l),h=c+.5*(i.b-c),f=e.data,p=n*a+4*t;f[p+0]=u,f[p+1]=d,f[p+2]=h,f[p+4]=u,f[p+5]=d,f[p+6]=h,f[(p+=a)+0]=u,f[p+1]=d,f[p+2]=h,f[p+4]=u,f[p+5]=d,f[p+6]=h,f[(p+=a)+0]=u,f[p+1]=d,f[p+2]=h,f[p+4]=u,f[p+5]=d,f[p+6]=h,f[(p+=a)+0]=u,f[p+1]=d,f[p+2]=h,f[p+4]=u,f[p+5]=d,f[p+6]=h}},e.prototype.x1BlockRenderChar=function(e,t,n,i,o,r){if(t+1>e.width||n+2>e.height)console.warn("bad render request outside image data");else{var a=4*e.width,s=o.r,l=o.g,c=o.b,u=s+.5*(i.r-s),d=l+.5*(i.g-l),h=c+.5*(i.b-c),f=e.data,p=n*a+4*t;f[p+0]=u,f[p+1]=d,f[p+2]=h,f[(p+=a)+0]=u,f[p+1]=d,f[p+2]=h}},e}(),ye=n(115),ve=n(93),we=n(31),_e=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Se=function(e){function t(t,n,i){for(var o=e.call(this,0)||this,r=0;r<t.length;r++)o.set(t.charCodeAt(r),1);for(r=0;r<n.length;r++)o.set(n.charCodeAt(r),2);for(r=0;r<i.length;r++)o.set(i.charCodeAt(r),3);return o}return _e(t,e),t.prototype.get=function(t){return t>=12352&&t<=12543||t>=13312&&t<=19903||t>=19968&&t<=40959?4:e.prototype.get.call(this,t)},t}(ye.a),Ce=function(){function e(e,t,n){this.classifier=new Se(e,t,n)}return e.nextVisibleColumn=function(e,t,n,i){return e=+e,t=+t,i=+i,n?e+(t-e%t):e+i},e.prototype.createLineMapping=function(t,n,i,o,r){if(-1===i)return null;n=+n,i=+i,o=+o;var a=0,s="",l=-1;if((r=+r)!==we.j.None&&-1!==(l=p.firstNonWhitespaceIndex(t))){s=t.substring(0,l);for(var c=0;c<l;c++)a=e.nextVisibleColumn(a,n,9===t.charCodeAt(c),1);var u=0;r===we.j.Indent?u=1:r===we.j.DeepIndent&&(u=2);for(c=0;c<u;c++)s+="\t",a=e.nextVisibleColumn(a,n,!0,1);a+o>i&&(s="",a=0)}var d=this.classifier,h=0,f=[],m=0,g=0,b=-1,y=0,v=-1,w=0,_=t.length;for(c=0;c<_;c++){var S=t.charCodeAt(c),C=9===S,x=d.get(S);if(1===x&&(b=c,y=a),4===x&&c>0){var k=t.charCodeAt(c-1);1!==d.get(k)&&(b=c,y=a)}var T=1;if(p.isFullWidthCharacter(S)&&(T=o),(g=e.nextVisibleColumn(g,n,C,T))>i&&0!==c){var O=void 0,N=void 0;-1!==b&&y<=i?(O=b,N=y):-1!==v&&w<=i?(O=v,N=w):(O=c,N=a),f[m++]=O-h,h=O,g=e.nextVisibleColumn(N,n,C,T),b=-1,y=0,v=-1,w=0}if(-1!==b&&(y=e.nextVisibleColumn(y,n,C,T)),-1!==v&&(w=e.nextVisibleColumn(w,n,C,T)),2===x&&(r===we.j.None||c>=l)&&(b=c+1,y=a),4===x&&c<_-1){var L=t.charCodeAt(c+1);2!==d.get(L)&&(b=c+1,y=a)}3===x&&(v=c+1,w=a)}return 0===m?null:(f[m++]=_-h,new xe(new te.a(Object(ve.c)(f)),s))},e}(),xe=function(){function e(e,t){this._prefixSums=e,this._wrappedLinesIndent=t}return e.prototype.getOutputLineCount=function(){return this._prefixSums.getCount()},e.prototype.getWrappedLinesIndent=function(){return this._wrappedLinesIndent},e.prototype.getInputOffsetOfOutputPosition=function(e,t){return 0===e?t:this._prefixSums.getAccumulatedValue(e-1)+t},e.prototype.getOutputPositionOfInputOffset=function(e){var t=this._prefixSums.getIndexOf(e);return new oe(t.index,t.remainder)},e}(),ke=n(45),Te=function(){function e(){this._heights=[],this._minWidths=[],this._ids=[],this._afterLineNumbers=[],this._ordinals=[],this._prefixSum=[],this._prefixSumValidIndex=-1,this._whitespaceId2Index={},this._lastWhitespaceId=0,this._minWidth=-1}return e.findInsertionIndex=function(e,t,n,i){for(var o=0,r=e.length;o<r;){var a=o+r>>>1;t===e[a]?i<n[a]?r=a:o=a+1:t<e[a]?r=a:o=a+1}return o},e.prototype.insertWhitespace=function(t,n,i,o){t|=0,n|=0,i|=0,o|=0;var r=++this._lastWhitespaceId,a=e.findInsertionIndex(this._afterLineNumbers,t,this._ordinals,n);return this._insertWhitespaceAtIndex(r,a,t,n,i,o),this._minWidth=-1,r},e.prototype._insertWhitespaceAtIndex=function(e,t,n,i,o,r){e|=0,t|=0,n|=0,i|=0,o|=0,r|=0,this._heights.splice(t,0,o),this._minWidths.splice(t,0,r),this._ids.splice(t,0,e),this._afterLineNumbers.splice(t,0,n),this._ordinals.splice(t,0,i),this._prefixSum.splice(t,0,0);for(var a=Object.keys(this._whitespaceId2Index),s=0,l=a.length;s<l;s++){var c=a[s],u=this._whitespaceId2Index[c];u>=t&&(this._whitespaceId2Index[c]=u+1)}this._whitespaceId2Index[e.toString()]=t,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,t-1)},e.prototype.changeWhitespace=function(e,t,n){e|=0,t|=0,n|=0;var i=!1;return i=this.changeWhitespaceHeight(e,n)||i,i=this.changeWhitespaceAfterLineNumber(e,t)||i},e.prototype.changeWhitespaceHeight=function(e,t){t|=0;var n=(e|=0).toString();if(this._whitespaceId2Index.hasOwnProperty(n)){var i=this._whitespaceId2Index[n];if(this._heights[i]!==t)return this._heights[i]=t,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,i-1),!0}return!1},e.prototype.changeWhitespaceAfterLineNumber=function(t,n){n|=0;var i=(t|=0).toString();if(this._whitespaceId2Index.hasOwnProperty(i)){var o=this._whitespaceId2Index[i];if(this._afterLineNumbers[o]!==n){var r=this._ordinals[o],a=this._heights[o],s=this._minWidths[o];this.removeWhitespace(t);var l=e.findInsertionIndex(this._afterLineNumbers,n,this._ordinals,r);return this._insertWhitespaceAtIndex(t,l,n,r,a,s),!0}}return!1},e.prototype.removeWhitespace=function(e){var t=(e|=0).toString();if(this._whitespaceId2Index.hasOwnProperty(t)){var n=this._whitespaceId2Index[t];return delete this._whitespaceId2Index[t],this._removeWhitespaceAtIndex(n),this._minWidth=-1,!0}return!1},e.prototype._removeWhitespaceAtIndex=function(e){e|=0,this._heights.splice(e,1),this._minWidths.splice(e,1),this._ids.splice(e,1),this._afterLineNumbers.splice(e,1),this._ordinals.splice(e,1),this._prefixSum.splice(e,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1);for(var t=Object.keys(this._whitespaceId2Index),n=0,i=t.length;n<i;n++){var o=t[n],r=this._whitespaceId2Index[o];r>=e&&(this._whitespaceId2Index[o]=r-1)}},e.prototype.onLinesDeleted=function(e,t){e|=0,t|=0;for(var n=0,i=this._afterLineNumbers.length;n<i;n++){var o=this._afterLineNumbers[n];e<=o&&o<=t?this._afterLineNumbers[n]=e-1:o>t&&(this._afterLineNumbers[n]-=t-e+1)}},e.prototype.onLinesInserted=function(e,t){e|=0,t|=0;for(var n=0,i=this._afterLineNumbers.length;n<i;n++){e<=this._afterLineNumbers[n]&&(this._afterLineNumbers[n]+=t-e+1)}},e.prototype.getTotalHeight=function(){return 0===this._heights.length?0:this.getAccumulatedHeight(this._heights.length-1)},e.prototype.getAccumulatedHeight=function(e){e|=0;var t=Math.max(0,this._prefixSumValidIndex+1);0===t&&(this._prefixSum[0]=this._heights[0],t++);for(var n=t;n<=e;n++)this._prefixSum[n]=this._prefixSum[n-1]+this._heights[n];return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,e),this._prefixSum[e]},e.prototype.getAccumulatedHeightBeforeLineNumber=function(e){e|=0;var t=this._findLastWhitespaceBeforeLineNumber(e);return-1===t?0:this.getAccumulatedHeight(t)},e.prototype._findLastWhitespaceBeforeLineNumber=function(e){e|=0;for(var t=this._afterLineNumbers,n=0,i=t.length-1;n<=i;){var o=n+((i-n|0)/2|0)|0;if(t[o]<e){if(o+1>=t.length||t[o+1]>=e)return o;n=o+1|0}else i=o-1|0}return-1},e.prototype._findFirstWhitespaceAfterLineNumber=function(e){e|=0;var t=this._findLastWhitespaceBeforeLineNumber(e)+1;return t<this._heights.length?t:-1},e.prototype.getFirstWhitespaceIndexAfterLineNumber=function(e){return e|=0,this._findFirstWhitespaceAfterLineNumber(e)},e.prototype.getCount=function(){return this._heights.length},e.prototype.getMinWidth=function(){if(-1===this._minWidth){for(var e=0,t=0,n=this._minWidths.length;t<n;t++)e=Math.max(e,this._minWidths[t]);this._minWidth=e}return this._minWidth},e.prototype.getAfterLineNumberForWhitespaceIndex=function(e){return e|=0,this._afterLineNumbers[e]},e.prototype.getIdForWhitespaceIndex=function(e){return e|=0,this._ids[e]},e.prototype.getHeightForWhitespaceIndex=function(e){return e|=0,this._heights[e]},e.prototype.getWhitespaces=function(e){e|=0;for(var t=[],n=0;n<this._heights.length;n++)t.push({id:this._ids[n],afterLineNumber:this._afterLineNumbers[n],heightInLines:this._heights[n]/e});return t},e}(),Oe=function(){function e(e,t){this._lineCount=e,this._lineHeight=t,this._whitespaces=new Te}return e.prototype.setLineHeight=function(e){this._lineHeight=e},e.prototype.onFlushed=function(e){this._lineCount=e},e.prototype.insertWhitespace=function(e,t,n,i){return this._whitespaces.insertWhitespace(e,t,n,i)},e.prototype.changeWhitespace=function(e,t,n){return this._whitespaces.changeWhitespace(e,t,n)},e.prototype.removeWhitespace=function(e){return this._whitespaces.removeWhitespace(e)},e.prototype.onLinesDeleted=function(e,t){this._lineCount-=t-e+1,this._whitespaces.onLinesDeleted(e,t)},e.prototype.onLinesInserted=function(e,t){this._lineCount+=t-e+1,this._whitespaces.onLinesInserted(e,t)},e.prototype.getLinesTotalHeight=function(){return this._lineHeight*this._lineCount+this._whitespaces.getTotalHeight()},e.prototype.getVerticalOffsetForLineNumber=function(e){return((e|=0)>1?this._lineHeight*(e-1):0)+this._whitespaces.getAccumulatedHeightBeforeLineNumber(e)},e.prototype.getWhitespaceAccumulatedHeightBeforeLineNumber=function(e){return this._whitespaces.getAccumulatedHeightBeforeLineNumber(e)},e.prototype.getWhitespaceMinWidth=function(){return this._whitespaces.getMinWidth()},e.prototype.isAfterLines=function(e){return e>this.getLinesTotalHeight()},e.prototype.getLineNumberAtOrAfterVerticalOffset=function(e){if((e|=0)<0)return 1;for(var t=0|this._lineCount,n=this._lineHeight,i=1,o=t;i<o;){var r=(i+o)/2|0,a=0|this.getVerticalOffsetForLineNumber(r);if(e>=a+n)i=r+1;else{if(e>=a)return r;o=r}}return i>t?t:i},e.prototype.getLinesViewportData=function(e,t){e|=0,t|=0;var n,i,o=this._lineHeight,r=0|this.getLineNumberAtOrAfterVerticalOffset(e),a=0|this.getVerticalOffsetForLineNumber(r),s=0|this._lineCount,l=0|this._whitespaces.getFirstWhitespaceIndexAfterLineNumber(r),c=0|this._whitespaces.getCount();-1===l?(l=c,i=s+1,n=0):(i=0|this._whitespaces.getAfterLineNumberForWhitespaceIndex(l),n=0|this._whitespaces.getHeightForWhitespaceIndex(l));var u=a,d=u,h=0;a>=5e5&&(h=5e5*Math.floor(a/5e5),d-=h=Math.floor(h/o)*o);for(var f=[],p=e+(t-e)/2,m=-1,g=r;g<=s;g++){if(-1===m){(u<=p&&p<u+o||u>p)&&(m=g)}for(u+=o,f[g-r]=d,d+=o;i===g;)d+=n,u+=n,++l>=c?i=s+1:(i=0|this._whitespaces.getAfterLineNumberForWhitespaceIndex(l),n=0|this._whitespaces.getHeightForWhitespaceIndex(l));if(u>=t){s=g;break}}-1===m&&(m=s);var b=0|this.getVerticalOffsetForLineNumber(s),y=r,v=s;return y<v&&a<e&&y++,y<v&&b+o>t&&v--,{bigNumbersDelta:h,startLineNumber:r,endLineNumber:s,relativeVerticalOffset:f,centeredLineNumber:m,completelyVisibleStartLineNumber:y,completelyVisibleEndLineNumber:v}},e.prototype.getVerticalOffsetForWhitespaceIndex=function(e){e|=0;var t=this._whitespaces.getAfterLineNumberForWhitespaceIndex(e);return(t>=1?this._lineHeight*t:0)+(e>0?this._whitespaces.getAccumulatedHeight(e-1):0)},e.prototype.getWhitespaceIndexAtOrAfterVerticallOffset=function(e){e|=0;var t,n,i=0,o=this._whitespaces.getCount()-1;if(o<0)return-1;if(e>=this.getVerticalOffsetForWhitespaceIndex(o)+this._whitespaces.getHeightForWhitespaceIndex(o))return-1;for(;i<o;)if(t=Math.floor((i+o)/2),e>=(n=this.getVerticalOffsetForWhitespaceIndex(t))+this._whitespaces.getHeightForWhitespaceIndex(t))i=t+1;else{if(e>=n)return t;o=t}return i},e.prototype.getWhitespaceAtVerticalOffset=function(e){e|=0;var t=this.getWhitespaceIndexAtOrAfterVerticallOffset(e);if(t<0)return null;if(t>=this._whitespaces.getCount())return null;var n=this.getVerticalOffsetForWhitespaceIndex(t);if(n>e)return null;var i=this._whitespaces.getHeightForWhitespaceIndex(t);return{id:this._whitespaces.getIdForWhitespaceIndex(t),afterLineNumber:this._whitespaces.getAfterLineNumberForWhitespaceIndex(t),verticalOffset:n,height:i}},e.prototype.getWhitespaceViewportData=function(e,t){e|=0,t|=0;var n=this.getWhitespaceIndexAtOrAfterVerticallOffset(e),i=this._whitespaces.getCount()-1;if(n<0)return[];for(var o=[],r=n;r<=i;r++){var a=this.getVerticalOffsetForWhitespaceIndex(r),s=this._whitespaces.getHeightForWhitespaceIndex(r);if(a>=t)break;o.push({id:this._whitespaces.getIdForWhitespaceIndex(r),afterLineNumber:this._whitespaces.getAfterLineNumberForWhitespaceIndex(r),verticalOffset:a,height:s})}return o},e.prototype.getWhitespaces=function(){return this._whitespaces.getWhitespaces(this._lineHeight)},e}(),Ne=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Le=function(e){function t(t,n,i){var o=e.call(this)||this;return o._configuration=t,o._linesLayout=new Oe(n,o._configuration.editor.lineHeight),o.scrollable=o._register(new ke.a(0,i)),o._configureSmoothScrollDuration(),o.scrollable.setScrollDimensions({width:t.editor.layoutInfo.contentWidth,height:t.editor.layoutInfo.contentHeight}),o.onDidScroll=o.scrollable.onScroll,o._updateHeight(),o}return Ne(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.onHeightMaybeChanged=function(){this._updateHeight()},t.prototype._configureSmoothScrollDuration=function(){this.scrollable.setSmoothScrollDuration(this._configuration.editor.viewInfo.smoothScrolling?125:0)},t.prototype.onConfigurationChanged=function(e){e.lineHeight&&this._linesLayout.setLineHeight(this._configuration.editor.lineHeight),e.layoutInfo&&this.scrollable.setScrollDimensions({width:this._configuration.editor.layoutInfo.contentWidth,height:this._configuration.editor.layoutInfo.contentHeight}),e.viewInfo&&this._configureSmoothScrollDuration(),this._updateHeight()},t.prototype.onFlushed=function(e){this._linesLayout.onFlushed(e)},t.prototype.onLinesDeleted=function(e,t){this._linesLayout.onLinesDeleted(e,t)},t.prototype.onLinesInserted=function(e,t){this._linesLayout.onLinesInserted(e,t)},t.prototype._getHorizontalScrollbarHeight=function(e){return this._configuration.editor.viewInfo.scrollbar.horizontal===ke.b.Hidden?0:e.width>=e.scrollWidth?0:this._configuration.editor.viewInfo.scrollbar.horizontalScrollbarSize},t.prototype._getTotalHeight=function(){var e=this.scrollable.getScrollDimensions(),t=this._linesLayout.getLinesTotalHeight();return this._configuration.editor.viewInfo.scrollBeyondLastLine?t+=e.height-this._configuration.editor.lineHeight:t+=this._getHorizontalScrollbarHeight(e),Math.max(e.height,t)},t.prototype._updateHeight=function(){this.scrollable.setScrollDimensions({scrollHeight:this._getTotalHeight()})},t.prototype.getCurrentViewport=function(){var e=this.scrollable.getScrollDimensions(),t=this.scrollable.getCurrentScrollPosition();return new J.f(t.scrollTop,t.scrollLeft,e.width,e.height)},t.prototype.getFutureViewport=function(){var e=this.scrollable.getScrollDimensions(),t=this.scrollable.getFutureScrollPosition();return new J.f(t.scrollTop,t.scrollLeft,e.width,e.height)},t.prototype._computeScrollWidth=function(e,t){if(!this._configuration.editor.wrappingInfo.isViewportWrapping){var n=this._configuration.editor.viewInfo.scrollBeyondLastColumn*this._configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,i=this._linesLayout.getWhitespaceMinWidth();return Math.max(e+n,t,i)}return Math.max(e,t)},t.prototype.onMaxLineWidthChanged=function(e){var t=this._computeScrollWidth(e,this.getCurrentViewport().width);this.scrollable.setScrollDimensions({scrollWidth:t}),this._updateHeight()},t.prototype.saveState=function(){var e=this.scrollable.getFutureScrollPosition(),t=e.scrollTop,n=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t);return{scrollTop:t,scrollTopWithoutViewZones:t-this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(n),scrollLeft:e.scrollLeft}},t.prototype.addWhitespace=function(e,t,n,i){return this._linesLayout.insertWhitespace(e,t,n,i)},t.prototype.changeWhitespace=function(e,t,n){return this._linesLayout.changeWhitespace(e,t,n)},t.prototype.removeWhitespace=function(e){return this._linesLayout.removeWhitespace(e)},t.prototype.getVerticalOffsetForLineNumber=function(e){return this._linesLayout.getVerticalOffsetForLineNumber(e)},t.prototype.isAfterLines=function(e){return this._linesLayout.isAfterLines(e)},t.prototype.getLineNumberAtVerticalOffset=function(e){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(e)},t.prototype.getWhitespaceAtVerticalOffset=function(e){return this._linesLayout.getWhitespaceAtVerticalOffset(e)},t.prototype.getLinesViewportData=function(){var e=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(e.top,e.top+e.height)},t.prototype.getLinesViewportDataAtScrollTop=function(e){var t=this.scrollable.getScrollDimensions();return e+t.height>t.scrollHeight&&(e=t.scrollHeight-t.height),e<0&&(e=0),this._linesLayout.getLinesViewportData(e,e+t.height)},t.prototype.getWhitespaceViewportData=function(){var e=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(e.top,e.top+e.height)},t.prototype.getWhitespaces=function(){return this._linesLayout.getWhitespaces()},t.prototype.getScrollWidth=function(){return this.scrollable.getScrollDimensions().scrollWidth},t.prototype.getScrollHeight=function(){return this.scrollable.getScrollDimensions().scrollHeight},t.prototype.getCurrentScrollLeft=function(){return this.scrollable.getCurrentScrollPosition().scrollLeft},t.prototype.getCurrentScrollTop=function(){return this.scrollable.getCurrentScrollPosition().scrollTop},t.prototype.validateScrollPosition=function(e){return this.scrollable.validateScrollPosition(e)},t.prototype.setScrollPositionNow=function(e){this.scrollable.setScrollPositionNow(e)},t.prototype.setScrollPositionSmooth=function(e){this.scrollable.setScrollPositionSmooth(e)},t.prototype.deltaScrollNow=function(e,t){var n=this.scrollable.getCurrentScrollPosition();this.scrollable.setScrollPositionNow({scrollLeft:n.scrollLeft+e,scrollTop:n.scrollTop+t})},t}(l.a),Ie=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ee=!0,De=function(e){function t(t,n,i,o){var r=e.call(this)||this;if(r.editorId=t,r.configuration=n,r.model=i,r.hasFocus=!1,r.viewportStartLine=-1,r.viewportStartLineTrackedRange=null,r.viewportStartLineTop=0,Ee&&r.model.isTooLargeForTokenization())r.lines=new he(r.model);else{var a=r.configuration.editor,s=new Ce(a.wrappingInfo.wordWrapBreakBeforeCharacters,a.wrappingInfo.wordWrapBreakAfterCharacters,a.wrappingInfo.wordWrapBreakObtrusiveCharacters);r.lines=new ae(r.model,s,r.model.getOptions().tabSize,a.wrappingInfo.wrappingColumn,a.fontInfo.typicalFullwidthCharacterWidth/a.fontInfo.typicalHalfwidthCharacterWidth,a.wrappingInfo.wrappingIndent)}return r.coordinatesConverter=r.lines.createCoordinatesConverter(),r.viewLayout=r._register(new Le(r.configuration,r.getLineCount(),o)),r._register(r.viewLayout.onDidScroll(function(e){try{r._beginEmit().emit(new F(e))}finally{r._endEmit()}})),r.decorations=new ee(r.editorId,r.model,r.configuration,r.lines,r.coordinatesConverter),r._registerModelEvents(),r._register(r.configuration.onDidChange(function(e){try{var t=r._beginEmit();r._onConfigurationChanged(t,e)}finally{r._endEmit()}})),r._register(ge.getInstance().onDidChange(function(){try{r._beginEmit().emit(new V)}finally{r._endEmit()}})),r}return Ie(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this.decorations.dispose(),this.lines.dispose(),this.viewportStartLineTrackedRange=this.model._setTrackedRange(this.viewportStartLineTrackedRange,null,v.h.NeverGrowsWhenTypingAtEdges)},t.prototype.setHasFocus=function(e){this.hasFocus=e},t.prototype._onConfigurationChanged=function(e,t){var n=null;if(-1!==this.viewportStartLine){var i=new g.a(this.viewportStartLine,this.getLineMinColumn(this.viewportStartLine));n=this.coordinatesConverter.convertViewPositionToModelPosition(i)}var o=!1,r=this.configuration.editor;if(this.lines.setWrappingSettings(r.wrappingInfo.wrappingIndent,r.wrappingInfo.wrappingColumn,r.fontInfo.typicalFullwidthCharacterWidth/r.fontInfo.typicalHalfwidthCharacterWidth)&&(e.emit(new I),e.emit(new D),e.emit(new L),this.decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),0!==this.viewLayout.getCurrentScrollTop()&&(o=!0)),t.readOnly&&(this.decorations.reset(),e.emit(new L)),e.emit(new O(t)),this.viewLayout.onConfigurationChanged(t),o&&n){var a=this.coordinatesConverter.convertModelPositionToViewPosition(n),s=this.viewLayout.getVerticalOffsetForLineNumber(a.lineNumber);this.viewLayout.deltaScrollNow(0,s-this.viewportStartLineTop)}},t.prototype._registerModelEvents=function(){var e=this;this._register(this.model.onDidChangeRawContentFast(function(t){try{for(var n=e._beginEmit(),i=!1,o=!1,r=t.changes,a=t.versionId,s=0,l=r.length;s<l;s++){var c=r[s];switch(c.changeType){case 1:e.lines.onModelFlushed(),n.emit(new I),e.decorations.reset(),e.viewLayout.onFlushed(e.getLineCount()),i=!0;break;case 3:null!==(p=e.lines.onModelLinesDeleted(a,c.fromLineNumber,c.toLineNumber))&&(n.emit(p),e.viewLayout.onLinesDeleted(p.fromLineNumber,p.toLineNumber)),i=!0;break;case 4:null!==(f=e.lines.onModelLinesInserted(a,c.fromLineNumber,c.toLineNumber,c.detail))&&(n.emit(f),e.viewLayout.onLinesInserted(f.fromLineNumber,f.toLineNumber)),i=!0;break;case 2:var u=e.lines.onModelLineChanged(a,c.lineNumber,c.detail),d=u[0],h=u[1],f=u[2],p=u[3];o=d,h&&n.emit(h),f&&(n.emit(f),e.viewLayout.onLinesInserted(f.fromLineNumber,f.toLineNumber)),p&&(n.emit(p),e.viewLayout.onLinesDeleted(p.fromLineNumber,p.toLineNumber))}}e.lines.acceptVersionId(a),e.viewLayout.onHeightMaybeChanged(),!i&&o&&(n.emit(new D),n.emit(new L),e.decorations.onLineMappingChanged())}finally{e._endEmit()}if(e.viewportStartLine=-1,e.configuration.setMaxLineNumber(e.model.getLineCount()),!e.hasFocus&&e.model.getAttachedEditorCount()>=2&&e.viewportStartLineTrackedRange){var m=e.model._getTrackedRange(e.viewportStartLineTrackedRange);if(m){var g=e.coordinatesConverter.convertModelPositionToViewPosition(m.getStartPosition()),b=e.viewLayout.getVerticalOffsetForLineNumber(g.lineNumber);e.viewLayout.deltaScrollNow(0,b-e.viewportStartLineTop)}}})),this._register(this.model.onDidChangeTokens(function(t){for(var n=[],i=0,o=t.ranges.length;i<o;i++){var r=t.ranges[i],a=e.coordinatesConverter.convertModelPositionToViewPosition(new g.a(r.fromLineNumber,1)).lineNumber,s=e.coordinatesConverter.convertModelPositionToViewPosition(new g.a(r.toLineNumber,e.model.getLineMaxColumn(r.toLineNumber))).lineNumber;n[i]={fromLineNumber:a,toLineNumber:s}}try{e._beginEmit().emit(new j(n))}finally{e._endEmit()}})),this._register(this.model.onDidChangeLanguageConfiguration(function(t){try{e._beginEmit().emit(new H)}finally{e._endEmit()}})),this._register(this.model.onDidChangeOptions(function(t){if(e.lines.setTabSize(e.model.getOptions().tabSize)){e.decorations.onLineMappingChanged(),e.viewLayout.onFlushed(e.getLineCount());try{var n=e._beginEmit();n.emit(new I),n.emit(new D),n.emit(new L)}finally{e._endEmit()}}})),this._register(this.model.onDidChangeDecorations(function(t){e.decorations.onModelDecorationsChanged();try{e._beginEmit().emit(new L)}finally{e._endEmit()}}))},t.prototype.setHiddenAreas=function(e){try{var t=this._beginEmit();this.lines.setHiddenAreas(e)&&(t.emit(new I),t.emit(new D),t.emit(new L),this.decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._endEmit()}},t.prototype.getVisibleRanges=function(){var e=this.getCompletelyVisibleViewRange(),t=this.coordinatesConverter.convertViewRangeToModelRange(e),n=this.lines.getHiddenAreas();if(0===n.length)return[t];for(var i=[],o=0,r=t.startLineNumber,a=t.startColumn,s=t.endLineNumber,l=t.endColumn,c=0,u=n.length;c<u;c++){var d=n[c].startLineNumber,h=n[c].endLineNumber;h<r||(d>s||(r<d&&(i[o++]=new b.a(r,a,d-1,this.model.getLineMaxColumn(d-1))),r=h+1,a=1))}return(r<s||r===s&&a<l)&&(i[o++]=new b.a(r,a,s,l)),i},t.prototype.getCompletelyVisibleViewRange=function(){var e=this.viewLayout.getLinesViewportData(),t=e.completelyVisibleStartLineNumber,n=e.completelyVisibleEndLineNumber;return new b.a(t,this.getLineMinColumn(t),n,this.getLineMaxColumn(n))},t.prototype.getCompletelyVisibleViewRangeAtScrollTop=function(e){var t=this.viewLayout.getLinesViewportDataAtScrollTop(e),n=t.completelyVisibleStartLineNumber,i=t.completelyVisibleEndLineNumber;return new b.a(n,this.getLineMinColumn(n),i,this.getLineMaxColumn(i))},t.prototype.saveState=function(){var e=this.viewLayout.saveState(),t=e.scrollTop,n=this.viewLayout.getLineNumberAtVerticalOffset(t),i=this.coordinatesConverter.convertViewPositionToModelPosition(new g.a(n,this.getLineMinColumn(n))),o=this.viewLayout.getVerticalOffsetForLineNumber(n)-t;return{scrollLeft:e.scrollLeft,firstPosition:i,firstPositionDeltaTop:o}},t.prototype.reduceRestoreState=function(e){if("undefined"===typeof e.firstPosition)return this._reduceRestoreStateCompatibility(e);var t=this.model.validatePosition(e.firstPosition),n=this.coordinatesConverter.convertModelPositionToViewPosition(t),i=this.viewLayout.getVerticalOffsetForLineNumber(n.lineNumber)-e.firstPositionDeltaTop;return{scrollLeft:e.scrollLeft,scrollTop:i}},t.prototype._reduceRestoreStateCompatibility=function(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTopWithoutViewZones}},t.prototype.getTabSize=function(){return this.model.getOptions().tabSize},t.prototype.getLineCount=function(){return this.lines.getViewLineCount()},t.prototype.setViewport=function(e,t,n){this.lines.warmUpLookupCache(e,t),this.viewportStartLine=e;var i=this.coordinatesConverter.convertViewPositionToModelPosition(new g.a(e,this.getLineMinColumn(e)));this.viewportStartLineTrackedRange=this.model._setTrackedRange(this.viewportStartLineTrackedRange,new b.a(i.lineNumber,i.column,i.lineNumber,i.column),v.h.NeverGrowsWhenTypingAtEdges),this.viewportStartLineTop=this.viewLayout.getVerticalOffsetForLineNumber(e)},t.prototype.getActiveIndentGuide=function(e,t,n){return this.lines.getActiveIndentGuide(e,t,n)},t.prototype.getLinesIndentGuides=function(e,t){return this.lines.getViewLinesIndentGuides(e,t)},t.prototype.getLineContent=function(e){return this.lines.getViewLineContent(e)},t.prototype.getLineLength=function(e){return this.lines.getViewLineLength(e)},t.prototype.getLineMinColumn=function(e){return this.lines.getViewLineMinColumn(e)},t.prototype.getLineMaxColumn=function(e){return this.lines.getViewLineMaxColumn(e)},t.prototype.getLineFirstNonWhitespaceColumn=function(e){var t=p.firstNonWhitespaceIndex(this.getLineContent(e));return-1===t?0:t+1},t.prototype.getLineLastNonWhitespaceColumn=function(e){var t=p.lastNonWhitespaceIndex(this.getLineContent(e));return-1===t?0:t+2},t.prototype.getDecorationsInViewport=function(e){return this.decorations.getDecorationsViewportData(e).decorations},t.prototype.getViewLineRenderingData=function(e,t){var n=this.model.mightContainRTL(),i=this.model.mightContainNonBasicASCII(),o=this.getTabSize(),r=this.lines.getViewLineData(t),a=this.decorations.getDecorationsViewportData(e).inlineDecorations[t-e.startLineNumber];return new J.d(r.minColumn,r.maxColumn,r.content,r.continuesWithWrappedLine,n,i,r.tokens,a,o)},t.prototype.getViewLineData=function(e){return this.lines.getViewLineData(e)},t.prototype.getMinimapLinesRenderingData=function(e,t,n){var i=this.lines.getViewLinesData(e,t,n);return new J.b(this.getTabSize(),i)},t.prototype.getAllOverviewRulerDecorations=function(e){return this.lines.getAllOverviewRulerDecorations(this.editorId,this.configuration.editor.readOnly,e)},t.prototype.invalidateOverviewRulerColorCache=function(){for(var e=this.model.getOverviewRulerDecorations(),t=0,n=e.length;t<n;t++){e[t].options.overviewRuler._resolvedColor=null}},t.prototype.getValueInRange=function(e,t){var n=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueInRange(n,t)},t.prototype.getModelLineMaxColumn=function(e){return this.model.getLineMaxColumn(e)},t.prototype.validateModelPosition=function(e){return this.model.validatePosition(e)},t.prototype.deduceModelPositionRelativeToViewPosition=function(e,t,n){var i=this.coordinatesConverter.convertViewPositionToModelPosition(e);2===this.model.getEOL().length&&(t<0?t-=n:t+=n);var o=this.model.getOffsetAt(i)+t;return this.model.getPositionAt(o)},t.prototype.getEOL=function(){return this.model.getEOL()},t.prototype.getPlainTextToCopy=function(e,t,n){var i=this,o=n?"\r\n":this.model.getEOL();(e=e.slice(0)).sort(b.a.compareRangesUsingStarts);var r=e.filter(function(e){return!e.isEmpty()});if(0===r.length){if(!t)return"";for(var a=e.map(function(e){var t=new g.a(e.startLineNumber,1);return i.coordinatesConverter.convertViewPositionToModelPosition(t).lineNumber}),s="",l=0;l<a.length;l++)l>0&&a[l-1]===a[l]||(s+=this.model.getLineContent(a[l])+o);return s}var c=[];for(l=0;l<r.length;l++)c.push(this.getValueInRange(r[l],n?v.c.CRLF:v.c.TextDefined));return 1===c.length?c[0]:c},t.prototype.getHTMLToCopy=function(e,t){if(1===this.model.getLanguageIdentifier().id)return null;if(1!==e.length)return null;var n=this.coordinatesConverter.convertViewRangeToModelRange(e[0]);if(n.isEmpty()){if(!t)return null;var i=n.startLineNumber;n=new b.a(i,this.model.getLineMinColumn(i),i,this.model.getLineMaxColumn(i))}var o=this.configuration.editor.fontInfo,r=this._getColorMap();return'<div style="color: '+r[1]+";background-color: "+r[2]+";font-family: "+o.fontFamily+";font-weight: "+o.fontWeight+";font-size: "+o.fontSize+"px;line-height: "+o.lineHeight+'px;white-space: pre;">'+this._getHTMLToCopy(n,r)+"</div>"},t.prototype._getHTMLToCopy=function(e,t){for(var n=e.startLineNumber,i=e.startColumn,o=e.endLineNumber,r=e.endColumn,a=this.getTabSize(),s="",l=n;l<=o;l++){var c=this.model.getLineTokens(l),u=c.getLineContent(),d=l===n?i-1:0,h=l===o?r-1:u.length;s+=""===u?"<br>":Object(Q.a)(u,c.inflate(),t,d,h,a)}return s},t.prototype._getColorMap=function(){for(var e=X.y.getColorMap(),t=[null],n=1,i=e.length;n<i;n++)t[n]=ie.a.Format.CSS.formatHex(e[n]);return t},t}(z),Ae=n(6),Me=n(66),Pe=n(48),Re=n(39),Fe=n(40),je=n(22),We=n(32),Ve=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Be=function(e){function t(){var t=e.call(this)||this;return t._shouldRender=!0,t}return Ve(t,e),t.prototype.shouldRender=function(){return this._shouldRender},t.prototype.forceShouldRender=function(){this._shouldRender=!0},t.prototype.setShouldRender=function(){this._shouldRender=!0},t.prototype.onDidRender=function(){this._shouldRender=!1},t.prototype.onConfigurationChanged=function(e){return!1},t.prototype.onCursorStateChanged=function(e){return!1},t.prototype.onDecorationsChanged=function(e){return!1},t.prototype.onFlushed=function(e){return!1},t.prototype.onFocusChanged=function(e){return!1},t.prototype.onLanguageConfigurationChanged=function(e){return!1},t.prototype.onLineMappingChanged=function(e){return!1},t.prototype.onLinesChanged=function(e){return!1},t.prototype.onLinesDeleted=function(e){return!1},t.prototype.onLinesInserted=function(e){return!1},t.prototype.onRevealRangeRequest=function(e){return!1},t.prototype.onScrollChanged=function(e){return!1},t.prototype.onTokensChanged=function(e){return!1},t.prototype.onTokensColorsChanged=function(e){return!1},t.prototype.onZonesChanged=function(e){return!1},t.prototype.onThemeChanged=function(e){return!1},t.prototype.handleEvents=function(e){for(var t=!1,n=0,i=e.length;n<i;n++){var o=e[n];switch(o.type){case 1:this.onConfigurationChanged(o)&&(t=!0);break;case 2:this.onCursorStateChanged(o)&&(t=!0);break;case 3:this.onDecorationsChanged(o)&&(t=!0);break;case 4:this.onFlushed(o)&&(t=!0);break;case 5:this.onFocusChanged(o)&&(t=!0);break;case 16:this.onLanguageConfigurationChanged(o)&&(t=!0);break;case 6:this.onLineMappingChanged(o)&&(t=!0);break;case 7:this.onLinesChanged(o)&&(t=!0);break;case 8:this.onLinesDeleted(o)&&(t=!0);break;case 9:this.onLinesInserted(o)&&(t=!0);break;case 10:this.onRevealRangeRequest(o)&&(t=!0);break;case 11:this.onScrollChanged(o)&&(t=!0);break;case 12:this.onTokensChanged(o)&&(t=!0);break;case 13:this.onTokensColorsChanged(o)&&(t=!0);break;case 14:this.onZonesChanged(o)&&(t=!0);break;case 15:this.onThemeChanged(o)&&(t=!0);break;default:console.info("View received unknown event: "),console.info(o)}}t&&(this._shouldRender=!0)},t}(l.a),He=(n(363),n(18)),ze=n(28),Ue=n(185),qe=n(89),Ge=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ke=function(e){function t(t){var n=e.call(this)||this;return n._context=t,n._context.addEventHandler(n),n}return Ge(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,e.prototype.dispose.call(this)},t}(Be),Ye=function(){function e(){}return e.write=function(e,t){We.a,e.setAttribute("data-mprt",String(t))},e.read=function(e){var t=e.getAttribute("data-mprt");return null===t?0:parseInt(t,10)},e.collect=function(e,t){for(var n=[],i=0;e&&e!==document.body&&e!==t;)e.nodeType===e.ELEMENT_NODE&&(n[i++]=this.read(e)),e=e.parentElement;for(var o=new Uint8Array(i),r=0;r<i;r++)o[r]=n[i-r-1];return o},e}(),Ze=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),$e=function(e){function t(t){var n=e.call(this,t)||this;return n._canUseLayerHinting=n._context.configuration.editor.canUseLayerHinting,n._contentLeft=n._context.configuration.editor.layoutInfo.contentLeft,n._glyphMarginLeft=n._context.configuration.editor.layoutInfo.glyphMarginLeft,n._glyphMarginWidth=n._context.configuration.editor.layoutInfo.glyphMarginWidth,n._domNode=n._createDomNode(),n}return Ze(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.getDomNode=function(){return this._domNode},t.prototype._createDomNode=function(){var e=Object(We.b)(document.createElement("div"));return e.setClassName(t.OUTER_CLASS_NAME),e.setPosition("absolute"),e.setAttribute("role","presentation"),e.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=Object(We.b)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(t.CLASS_NAME),e.appendChild(this._glyphMarginBackgroundDomNode),e},t.prototype.onConfigurationChanged=function(e){return e.canUseLayerHinting&&(this._canUseLayerHinting=this._context.configuration.editor.canUseLayerHinting),e.layoutInfo&&(this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft,this._glyphMarginLeft=this._context.configuration.editor.layoutInfo.glyphMarginLeft,this._glyphMarginWidth=this._context.configuration.editor.layoutInfo.glyphMarginWidth),!0},t.prototype.onScrollChanged=function(t){return e.prototype.onScrollChanged.call(this,t)||t.scrollTopChanged},t.prototype.prepareRender=function(e){},t.prototype.render=function(e){this._domNode.setLayerHinting(this._canUseLayerHinting);var t=e.scrollTop-e.bigNumbersDelta;this._domNode.setTop(-t);var n=Math.min(e.scrollHeight,1e6);this._domNode.setHeight(n),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(n)},t.CLASS_NAME="glyph-margin",t.OUTER_CLASS_NAME="margin",t}(Ke),Xe=(n(365),n(33)),Qe=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Je=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Qe(t,e),t}(Be),et=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),tt=function(e){function t(t){var n=e.call(this)||this;return n._context=t,n._readConfig(),n._lastCursorModelPosition=new g.a(1,1),n._renderResult=null,n._context.addEventHandler(n),n}return et(t,e),t.prototype._readConfig=function(){var e=this._context.configuration.editor;this._lineHeight=e.lineHeight,this._renderLineNumbers=e.viewInfo.renderLineNumbers,this._renderCustomLineNumbers=e.viewInfo.renderCustomLineNumbers,this._lineNumbersLeft=e.layoutInfo.lineNumbersLeft,this._lineNumbersWidth=e.layoutInfo.lineNumbersWidth},t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._renderResult=null,e.prototype.dispose.call(this)},t.prototype.onConfigurationChanged=function(e){return this._readConfig(),!0},t.prototype.onCursorStateChanged=function(e){var t=e.selections[0].getPosition();return this._lastCursorModelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(t),2===this._renderLineNumbers||3===this._renderLineNumbers},t.prototype.onFlushed=function(e){return!0},t.prototype.onLinesChanged=function(e){return!0},t.prototype.onLinesDeleted=function(e){return!0},t.prototype.onLinesInserted=function(e){return!0},t.prototype.onScrollChanged=function(e){return e.scrollTopChanged},t.prototype.onZonesChanged=function(e){return!0},t.prototype._getLineRenderLineNumber=function(e){var t=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new g.a(e,1));if(1!==t.column)return"";var n=t.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(n);if(2===this._renderLineNumbers){var i=Math.abs(this._lastCursorModelPosition.lineNumber-n);return 0===i?'<span class="relative-current-line-number">'+n+"</span>":String(i)}return 3===this._renderLineNumbers?this._lastCursorModelPosition.lineNumber===n?String(n):n%10===0?String(n):"":String(n)},t.prototype.prepareRender=function(e){if(0!==this._renderLineNumbers){for(var n=He.c?this._lineHeight%2===0?" lh-even":" lh-odd":"",i=e.visibleRange.startLineNumber,o=e.visibleRange.endLineNumber,r='<div class="'+t.CLASS_NAME+n+'" style="left:'+this._lineNumbersLeft.toString()+"px;width:"+this._lineNumbersWidth.toString()+'px;">',a=[],s=i;s<=o;s++){var l=s-i,c=this._getLineRenderLineNumber(s);a[l]=c?r+c+"</div>":""}this._renderResult=a}else this._renderResult=null},t.prototype.render=function(e,t){if(!this._renderResult)return"";var n=t-e;return n<0||n>=this._renderResult.length?"":this._renderResult[n]},t.CLASS_NAME="line-numbers",t}(Je);Object(je.e)(function(e,t){var n=e.getColor(Xe.q);n&&t.addRule(".monaco-editor .line-numbers { color: "+n+"; }");var i=e.getColor(Xe.b);i&&t.addRule(".monaco-editor .current-line ~ .line-numbers { color: "+i+"; }")});var nt=n(102),it=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ot=function(){function e(e,t,n){this.top=e,this.left=t,this.width=n}return e.prototype.setWidth=function(t){return new e(this.top,this.left,t)},e}(),rt=ze.h||ze.j,at=function(){function e(){this._lastState=null}return e.prototype.set=function(e){this._lastState=e},e.prototype.get=function(e){return this._lastState&&this._lastState.lastCopiedValue===e?this._lastState:(this._lastState=null,null)},e.INSTANCE=new e,e}(),st=function(e){function t(t,n,i){var o=e.call(this,t)||this;o._primaryCursorVisibleRange=null,o._viewController=n,o._viewHelper=i;var r=o._context.configuration.editor;o._accessibilitySupport=r.accessibilitySupport,o._contentLeft=r.layoutInfo.contentLeft,o._contentWidth=r.layoutInfo.contentWidth,o._contentHeight=r.layoutInfo.contentHeight,o._scrollLeft=0,o._scrollTop=0,o._fontInfo=r.fontInfo,o._lineHeight=r.lineHeight,o._emptySelectionClipboard=r.emptySelectionClipboard,o._visibleTextArea=null,o._selections=[new y.a(1,1,1,1)],o.textArea=Object(We.b)(document.createElement("textarea")),Ye.write(o.textArea,6),o.textArea.setClassName("inputarea"),o.textArea.setAttribute("wrap","off"),o.textArea.setAttribute("autocorrect","off"),o.textArea.setAttribute("autocapitalize","off"),o.textArea.setAttribute("autocomplete","off"),o.textArea.setAttribute("spellcheck","false"),o.textArea.setAttribute("aria-label",r.viewInfo.ariaLabel),o.textArea.setAttribute("role","textbox"),o.textArea.setAttribute("aria-multiline","true"),o.textArea.setAttribute("aria-haspopup","false"),o.textArea.setAttribute("aria-autocomplete","both"),o.textAreaCover=Object(We.b)(document.createElement("div")),o.textAreaCover.setPosition("absolute");var a={getLineCount:function(){return o._context.model.getLineCount()},getLineMaxColumn:function(e){return o._context.model.getLineMaxColumn(e)},getValueInRange:function(e,t){return o._context.model.getValueInRange(e,t)}},s={getPlainTextToCopy:function(){var e=o._context.model.getPlainTextToCopy(o._selections,o._emptySelectionClipboard,He.g),t=o._context.model.getEOL(),n=o._emptySelectionClipboard&&1===o._selections.length&&o._selections[0].isEmpty(),i=Array.isArray(e)?e:null,r=Array.isArray(e)?e.join(t):e,a=null;(n||i)&&(a={lastCopiedValue:ze.j?r.replace(/\r\n/g,"\n"):r,isFromEmptySelection:o._emptySelectionClipboard&&1===o._selections.length&&o._selections[0].isEmpty(),multicursorText:i});return at.INSTANCE.set(a),r},getHTMLToCopy:function(){return o._context.model.getHTMLToCopy(o._selections,o._emptySelectionClipboard)},getScreenReaderContent:function(e){if(ze.l)return qe.b.EMPTY;if(1===o._accessibilitySupport){if(He.d){var t=o._selections[0];if(t.isEmpty()){var n=t.getStartPosition(),i=o._getWordBeforePosition(n);if(0===i.length&&(i=o._getCharacterBeforePosition(n)),i.length>0)return new qe.b(i,i.length,i.length,n,n)}}return qe.b.EMPTY}return qe.a.fromEditorSelection(e,a,o._selections[0],0===o._accessibilitySupport)},deduceModelPosition:function(e,t,n){return o._context.model.deduceModelPositionRelativeToViewPosition(e,t,n)}};return o._textAreaInput=o._register(new Ue.b(s,o.textArea)),o._register(o._textAreaInput.onKeyDown(function(e){o._viewController.emitKeyDown(e)})),o._register(o._textAreaInput.onKeyUp(function(e){o._viewController.emitKeyUp(e)})),o._register(o._textAreaInput.onPaste(function(e){var t=at.INSTANCE.get(e.text),n=!1,i=null;t&&(n=o._emptySelectionClipboard&&t.isFromEmptySelection,i=t.multicursorText),o._viewController.paste("keyboard",e.text,n,i)})),o._register(o._textAreaInput.onCut(function(){o._viewController.cut("keyboard")})),o._register(o._textAreaInput.onType(function(e){e.replaceCharCnt?o._viewController.replacePreviousChar("keyboard",e.text,e.replaceCharCnt):o._viewController.type("keyboard",e.text)})),o._register(o._textAreaInput.onSelectionChangeRequest(function(e){o._viewController.setSelection("keyboard",e)})),o._register(o._textAreaInput.onCompositionStart(function(){var e=o._selections[0].startLineNumber,t=o._selections[0].startColumn;o._context.privateViewEventBus.emit(new R(new b.a(e,t,e,t),0,!0,1));var n=o._viewHelper.visibleRangeForPositionRelativeToEditor(e,t);n&&(o._visibleTextArea=new ot(o._context.viewLayout.getVerticalOffsetForLineNumber(e),n.left,rt?0:1),o._render()),o.textArea.setClassName("inputarea ime-input"),o._viewController.compositionStart("keyboard")})),o._register(o._textAreaInput.onCompositionUpdate(function(e){ze.h?o._visibleTextArea=o._visibleTextArea.setWidth(0):o._visibleTextArea=o._visibleTextArea.setWidth(function(e,t){var n=document.createElement("canvas").getContext("2d");n.font=(i=t,o="normal",r=i.fontWeight,a=i.fontSize,s=i.lineHeight,l=i.fontFamily,o+" normal "+r+" "+a+"px / "+s+"px "+l);var i,o,r,a,s,l;var c=n.measureText(e);return ze.j?c.width+2:c.width}(e.data,o._fontInfo)),o._render()})),o._register(o._textAreaInput.onCompositionEnd(function(){o._visibleTextArea=null,o._render(),o.textArea.setClassName("inputarea"),o._viewController.compositionEnd("keyboard")})),o._register(o._textAreaInput.onFocus(function(){o._context.privateViewEventBus.emit(new E(!0))})),o._register(o._textAreaInput.onBlur(function(){o._context.privateViewEventBus.emit(new E(!1))})),o}return it(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype._getWordBeforePosition=function(e){for(var t=this._context.model.getLineContent(e.lineNumber),n=Object(nt.a)(this._context.configuration.editor.wordSeparators),i=e.column,o=0;i>1;){var r=t.charCodeAt(i-2);if(0!==n.get(r)||o>50)return t.substring(i-1,e.column-1);o++,i--}return t.substring(0,e.column-1)},t.prototype._getCharacterBeforePosition=function(e){if(e.column>1){var t=this._context.model.getLineContent(e.lineNumber).charAt(e.column-2);if(!p.isHighSurrogate(t.charCodeAt(0)))return t}return""},t.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.editor;return e.fontInfo&&(this._fontInfo=t.fontInfo),e.viewInfo&&this.textArea.setAttribute("aria-label",t.viewInfo.ariaLabel),e.layoutInfo&&(this._contentLeft=t.layoutInfo.contentLeft,this._contentWidth=t.layoutInfo.contentWidth,this._contentHeight=t.layoutInfo.contentHeight),e.lineHeight&&(this._lineHeight=t.lineHeight),e.accessibilitySupport&&(this._accessibilitySupport=t.accessibilitySupport,this._textAreaInput.writeScreenReaderContent("strategy changed")),e.emptySelectionClipboard&&(this._emptySelectionClipboard=t.emptySelectionClipboard),!0},t.prototype.onCursorStateChanged=function(e){return this._selections=e.selections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0},t.prototype.onDecorationsChanged=function(e){return!0},t.prototype.onFlushed=function(e){return!0},t.prototype.onLinesChanged=function(e){return!0},t.prototype.onLinesDeleted=function(e){return!0},t.prototype.onLinesInserted=function(e){return!0},t.prototype.onScrollChanged=function(e){return this._scrollLeft=e.scrollLeft,this._scrollTop=e.scrollTop,!0},t.prototype.onZonesChanged=function(e){return!0},t.prototype.isFocused=function(){return this._textAreaInput.isFocused()},t.prototype.focusTextArea=function(){this._textAreaInput.focusTextArea()},t.prototype.prepareRender=function(e){if(2===this._accessibilitySupport)this._primaryCursorVisibleRange=null;else{var t=new g.a(this._selections[0].positionLineNumber,this._selections[0].positionColumn);this._primaryCursorVisibleRange=e.visibleRangeForPosition(t)}},t.prototype.render=function(e){this._textAreaInput.writeScreenReaderContent("render"),this._render()},t.prototype._render=function(){if(this._visibleTextArea)this._renderInsideEditor(this._visibleTextArea.top-this._scrollTop,this._contentLeft+this._visibleTextArea.left-this._scrollLeft,this._visibleTextArea.width,this._lineHeight,!0);else if(this._primaryCursorVisibleRange){var e=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(e<this._contentLeft||e>this._contentLeft+this._contentWidth)this._renderAtTopLeft();else{var t=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;t<0||t>this._contentHeight?this._renderAtTopLeft():this._renderInsideEditor(t,e,rt?0:1,rt?0:1,!1)}}else this._renderAtTopLeft()},t.prototype._renderInsideEditor=function(e,t,n,i,o){var r=this.textArea,a=this.textAreaCover;o?f.a.applyFontInfo(r,this._fontInfo):(r.setFontSize(1),r.setLineHeight(this._fontInfo.lineHeight)),r.setTop(e),r.setLeft(t),r.setWidth(n),r.setHeight(i),a.setTop(0),a.setLeft(0),a.setWidth(0),a.setHeight(0)},t.prototype._renderAtTopLeft=function(){var e=this.textArea,t=this.textAreaCover;if(f.a.applyFontInfo(e,this._fontInfo),e.setTop(0),e.setLeft(0),t.setTop(0),t.setLeft(0),rt)return e.setWidth(0),e.setHeight(0),t.setWidth(0),void t.setHeight(0);e.setWidth(1),e.setHeight(1),t.setWidth(1),t.setHeight(1),this._context.configuration.editor.viewInfo.glyphMargin?t.setClassName("monaco-editor-background textAreaCover "+$e.OUTER_CLASS_NAME):0!==this._context.configuration.editor.viewInfo.renderLineNumbers?t.setClassName("monaco-editor-background textAreaCover "+tt.CLASS_NAME):t.setClassName("monaco-editor-background textAreaCover")},t}(Ke);var lt=n(68),ct=n(19),ut=n(44),dt=n(75),ht=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ft=function(){function e(e,t){this.x=e,this.y=t}return e.prototype.toClientCoordinates=function(){return new pt(this.x-r.e.scrollX,this.y-r.e.scrollY)},e}(),pt=function(){function e(e,t){this.clientX=e,this.clientY=t}return e.prototype.toPageCoordinates=function(){return new ft(this.clientX+r.e.scrollX,this.clientY+r.e.scrollY)},e}(),mt=function(){return function(e,t,n,i){this.x=e,this.y=t,this.width=n,this.height=i}}();function gt(e){var t=r.u(e);return new mt(t.left,t.top,t.width,t.height)}var bt=function(e){function t(t,n){var i=e.call(this,t)||this;return i.pos=new ft(i.posx,i.posy),i.editorPos=gt(n),i}return ht(t,e),t}(ut.b),yt=function(){function e(e){this._editorViewDomNode=e}return e.prototype._create=function(e){return new bt(e,this._editorViewDomNode)},e.prototype.onContextMenu=function(e,t){var n=this;return r.g(e,"contextmenu",function(e){t(n._create(e))})},e.prototype.onMouseUp=function(e,t){var n=this;return r.g(e,"mouseup",function(e){t(n._create(e))})},e.prototype.onMouseDown=function(e,t){var n=this;return r.g(e,"mousedown",function(e){t(n._create(e))})},e.prototype.onMouseLeave=function(e,t){var n=this;return r.h(e,function(e){t(n._create(e))})},e.prototype.onMouseMoveThrottled=function(e,t,n,i){var o=this;return r.i(e,"mousemove",t,function(e,t){return n(e,o._create(t))},i)},e}(),vt=function(e){function t(t){var n=e.call(this)||this;return n._editorViewDomNode=t,n._globalMouseMoveMonitor=n._register(new dt.a),n._keydownListener=null,n}return ht(t,e),t.prototype.startMonitoring=function(e,t,n){var i=this;this._keydownListener=r.j(document,"keydown",function(e){e.toKeybinding().isModifierKey()||i._globalMouseMoveMonitor.stopMonitoring(!0)},!0);this._globalMouseMoveMonitor.startMonitoring(function(t,n){return e(t,new bt(n,i._editorViewDomNode))},t,function(){i._keydownListener.dispose(),n()})},t}(l.a),wt=n(118),_t=n(70),St=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ct=function(e){function t(t,n,i){var o=e.call(this,t,n)||this;return o._viewLines=i,o}return St(t,e),t.prototype.linesVisibleRangesForRange=function(e,t){return this._viewLines.linesVisibleRangesForRange(e,t)},t.prototype.visibleRangeForPosition=function(e){var t=this._viewLines.visibleRangesForRange2(new b.a(e.lineNumber,e.column,e.lineNumber,e.column));return t?t[0]:null},t}(function(){function e(e,t){this._viewLayout=e,this.viewportData=t,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;var n=this._viewLayout.getCurrentViewport();this.scrollTop=n.top,this.scrollLeft=n.left,this.viewportWidth=n.width,this.viewportHeight=n.height}return e.prototype.getScrolledTopFromAbsoluteTop=function(e){return e-this.scrollTop},e.prototype.getVerticalOffsetForLineNumber=function(e){return this._viewLayout.getVerticalOffsetForLineNumber(e)},e.prototype.getDecorationsInViewport=function(){return this.viewportData.getDecorationsInViewport()},e}()),xt=function(){return function(e,t){this.lineNumber=e,this.ranges=t}}(),kt=function(){function e(e,t){this.left=Math.round(e),this.width=Math.round(t)}return e.prototype.toString=function(){return"["+this.left+","+this.width+"]"},e}(),Tt=function(){function e(e,t){this.left=e,this.width=t}return e.prototype.toString=function(){return"["+this.left+","+this.width+"]"},e.compare=function(e,t){return e.left-t.left},e}(),Ot=function(){function e(){}return e._createRange=function(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange},e._detachRange=function(e,t){e.selectNodeContents(t)},e._readClientRects=function(e,t,n,i,o){var r=this._createRange();try{return r.setStart(e,t),r.setEnd(n,i),r.getClientRects()}catch(e){return null}finally{this._detachRange(r,o)}},e._mergeAdjacentRanges=function(e){if(1===e.length)return[new kt(e[0].left,e[0].width)];e.sort(Tt.compare);for(var t=[],n=0,i=e[0].left,o=e[0].width,r=1,a=e.length;r<a;r++){var s=e[r],l=s.left,c=s.width;i+o+.9>=l?o=Math.max(o,l+c-i):(t[n++]=new kt(i,o),i=l,o=c)}return t[n++]=new kt(i,o),t},e._createHorizontalRangesFromClientRects=function(e,t){if(!e||0===e.length)return null;for(var n=[],i=0,o=e.length;i<o;i++){var r=e[i];n[i]=new Tt(Math.max(0,r.left-t),r.width)}return this._mergeAdjacentRanges(n)},e.readHorizontalRanges=function(e,t,n,i,o,r,a){var s=e.children.length-1;if(0>s)return null;(t=Math.min(s,Math.max(0,t)))!==(i=Math.min(s,Math.max(0,i)))&&i>0&&0===o&&(i--,o=Number.MAX_VALUE);var l=e.children[t].firstChild,c=e.children[i].firstChild;if(l&&c||(!l&&0===n&&t>0&&(l=e.children[t-1].firstChild,n=1073741824),!c&&0===o&&i>0&&(c=e.children[i-1].firstChild,o=1073741824)),!l||!c)return null;n=Math.min(l.textContent.length,Math.max(0,n)),o=Math.min(c.textContent.length,Math.max(0,o));var u=this._readClientRects(l,n,c,o,a);return this._createHorizontalRangesFromClientRects(u,r)},e}(),Nt=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Lt=!!He.e||!(He.c||ze.j||ze.m),It=ze.h,Et=function(){function e(e,t){this._domNode=e,this._clientRectDeltaLeft=0,this._clientRectDeltaLeftRead=!1,this.endNode=t}return Object.defineProperty(e.prototype,"clientRectDeltaLeft",{get:function(){return this._clientRectDeltaLeftRead||(this._clientRectDeltaLeftRead=!0,this._clientRectDeltaLeft=this._domNode.getBoundingClientRect().left),this._clientRectDeltaLeft},enumerable:!0,configurable:!0}),e}(),Dt=function(){function e(e,t){this.themeType=t,this.renderWhitespace=e.editor.viewInfo.renderWhitespace,this.renderControlCharacters=e.editor.viewInfo.renderControlCharacters,this.spaceWidth=e.editor.fontInfo.spaceWidth,this.useMonospaceOptimizations=e.editor.fontInfo.isMonospace&&!e.editor.viewInfo.disableMonospaceOptimizations,this.lineHeight=e.editor.lineHeight,this.stopRenderingLineAfter=e.editor.viewInfo.stopRenderingLineAfter,this.fontLigatures=e.editor.viewInfo.fontLigatures}return e.prototype.equals=function(e){return this.themeType===e.themeType&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.spaceWidth===e.spaceWidth&&this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.fontLigatures===e.fontLigatures},e}(),At=function(){function e(e){this._options=e,this._isMaybeInvalid=!0,this._renderedViewLine=null}return e.prototype.getDomNode=function(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null},e.prototype.setDomNode=function(e){if(!this._renderedViewLine)throw new Error("I have no rendered view line to set the dom node to...");this._renderedViewLine.domNode=Object(We.b)(e)},e.prototype.onContentChanged=function(){this._isMaybeInvalid=!0},e.prototype.onTokensChanged=function(){this._isMaybeInvalid=!0},e.prototype.onDecorationsChanged=function(){this._isMaybeInvalid=!0},e.prototype.onOptionsChanged=function(e){this._isMaybeInvalid=!0,this._options=e},e.prototype.onSelectionChanged=function(){return!(!It&&this._options.themeType!==je.b)&&(this._isMaybeInvalid=!0,!0)},e.prototype.renderLine=function(t,n,i,o){if(!1===this._isMaybeInvalid)return!1;this._isMaybeInvalid=!1;var r=i.getViewLineRenderingData(t),a=this._options,s=wt.a.filter(r.inlineDecorations,t,r.minColumn,r.maxColumn);if(It||a.themeType===je.b)for(var l=i.selections,c=0,u=l.length;c<u;c++){var d=l[c];if(!(d.endLineNumber<t||d.startLineNumber>t)){var h=d.startLineNumber===t?d.startColumn:r.minColumn,f=d.endLineNumber===t?d.endColumn:r.maxColumn;h<f&&s.push(new wt.a(h,f,"inline-selected-text",0))}}var p=new _t.b(a.useMonospaceOptimizations,r.content,r.continuesWithWrappedLine,r.isBasicASCII,r.containsRTL,r.minColumn-1,r.tokens,s,r.tabSize,a.spaceWidth,a.stopRenderingLineAfter,a.renderWhitespace,a.renderControlCharacters,a.fontLigatures);if(this._renderedViewLine&&this._renderedViewLine.input.equals(p))return!1;o.appendASCIIString('<div style="top:'),o.appendASCIIString(String(n)),o.appendASCIIString("px;height:"),o.appendASCIIString(String(this._options.lineHeight)),o.appendASCIIString('px;" class="'),o.appendASCIIString(e.CLASS_NAME),o.appendASCIIString('">');var m=Object(_t.c)(p,o);o.appendASCIIString("</div>");var g=null;return Lt&&r.isBasicASCII&&a.useMonospaceOptimizations&&0===m.containsForeignElements&&r.content.length<300&&p.lineTokens.getCount()<100&&(g=new Mt(this._renderedViewLine?this._renderedViewLine.domNode:null,p,m.characterMapping)),g||(g=Ft(this._renderedViewLine?this._renderedViewLine.domNode:null,p,m.characterMapping,m.containsRTL,m.containsForeignElements)),this._renderedViewLine=g,!0},e.prototype.layoutLine=function(e,t){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(t),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))},e.prototype.getWidth=function(){return this._renderedViewLine?this._renderedViewLine.getWidth():0},e.prototype.getWidthIsFast=function(){return!this._renderedViewLine||this._renderedViewLine.getWidthIsFast()},e.prototype.getVisibleRangesForRange=function(e,t,n){e|=0,t|=0,e=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,e)),t=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,t));var i=0|this._renderedViewLine.input.stopRenderingLineAfter;return-1!==i&&e>i&&t>i?null:(-1!==i&&e>i&&(e=i),-1!==i&&t>i&&(t=i),this._renderedViewLine.getVisibleRangesForRange(e,t,n))},e.prototype.getColumnOfNodeOffset=function(e,t,n){return this._renderedViewLine.getColumnOfNodeOffset(e,t,n)},e.CLASS_NAME="view-line",e}(),Mt=function(){function e(e,t,n){this.domNode=e,this.input=t,this._characterMapping=n,this._charWidth=t.spaceWidth}return e.prototype.getWidth=function(){return this._getCharPosition(this._characterMapping.length)},e.prototype.getWidthIsFast=function(){return!0},e.prototype.getVisibleRangesForRange=function(e,t,n){var i=this._getCharPosition(e),o=this._getCharPosition(t);return[new kt(i,o-i)]},e.prototype._getCharPosition=function(e){var t=this._characterMapping.getAbsoluteOffsets();return 0===t.length?0:Math.round(this._charWidth*t[e-1])},e.prototype.getColumnOfNodeOffset=function(e,t,n){for(var i=t.textContent.length,o=-1;t;)t=t.previousSibling,o++;return this._characterMapping.partDataToCharOffset(o,i,n)+1},e}(),Pt=function(){function e(e,t,n,i,o){if(this.domNode=e,this.input=t,this._characterMapping=n,this._isWhitespaceOnly=/^\s*$/.test(t.lineContent),this._containsForeignElements=o,this._cachedWidth=-1,this._pixelOffsetCache=null,!i||0===this._characterMapping.length){this._pixelOffsetCache=new Int32Array(Math.max(2,this._characterMapping.length+1));for(var r=0,a=this._characterMapping.length;r<=a;r++)this._pixelOffsetCache[r]=-1}}return e.prototype._getReadingTarget=function(){return this.domNode.domNode.firstChild},e.prototype.getWidth=function(){return-1===this._cachedWidth&&(this._cachedWidth=this._getReadingTarget().offsetWidth),this._cachedWidth},e.prototype.getWidthIsFast=function(){return-1!==this._cachedWidth},e.prototype.getVisibleRangesForRange=function(e,t,n){if(null!==this._pixelOffsetCache){var i=this._readPixelOffset(e,n);if(-1===i)return null;var o=this._readPixelOffset(t,n);return-1===o?null:[new kt(i,o-i)]}return this._readVisibleRangesForRange(e,t,n)},e.prototype._readVisibleRangesForRange=function(e,t,n){if(e===t){var i=this._readPixelOffset(e,n);return-1===i?null:[new kt(i,0)]}return this._readRawVisibleRangesForRange(e,t,n)},e.prototype._readPixelOffset=function(e,t){if(0===this._characterMapping.length){if(0===this._containsForeignElements)return 0;if(2===this._containsForeignElements)return 0;if(1===this._containsForeignElements)return this.getWidth()}if(null!==this._pixelOffsetCache){var n=this._pixelOffsetCache[e];if(-1!==n)return n;var i=this._actualReadPixelOffset(e,t);return this._pixelOffsetCache[e]=i,i}return this._actualReadPixelOffset(e,t)},e.prototype._actualReadPixelOffset=function(e,t){if(0===this._characterMapping.length){var n=Ot.readHorizontalRanges(this._getReadingTarget(),0,0,0,0,t.clientRectDeltaLeft,t.endNode);return n&&0!==n.length?n[0].left:-1}if(e===this._characterMapping.length&&this._isWhitespaceOnly&&0===this._containsForeignElements)return this.getWidth();var i=this._characterMapping.charOffsetToPartData(e-1),o=_t.a.getPartIndex(i),r=_t.a.getCharIndex(i),a=Ot.readHorizontalRanges(this._getReadingTarget(),o,r,o,r,t.clientRectDeltaLeft,t.endNode);return a&&0!==a.length?a[0].left:-1},e.prototype._readRawVisibleRangesForRange=function(e,t,n){if(1===e&&t===this._characterMapping.length)return[new kt(0,this.getWidth())];var i=this._characterMapping.charOffsetToPartData(e-1),o=_t.a.getPartIndex(i),r=_t.a.getCharIndex(i),a=this._characterMapping.charOffsetToPartData(t-1),s=_t.a.getPartIndex(a),l=_t.a.getCharIndex(a);return Ot.readHorizontalRanges(this._getReadingTarget(),o,r,s,l,n.clientRectDeltaLeft,n.endNode)},e.prototype.getColumnOfNodeOffset=function(e,t,n){for(var i=t.textContent.length,o=-1;t;)t=t.previousSibling,o++;return this._characterMapping.partDataToCharOffset(o,i,n)+1},e}(),Rt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nt(t,e),t.prototype._readVisibleRangesForRange=function(t,n,i){var o=e.prototype._readVisibleRangesForRange.call(this,t,n,i);if(!o||0===o.length||t===n||1===t&&n===this._characterMapping.length)return o;var r=this._readPixelOffset(n-1,i),a=this._readPixelOffset(n,i);if(-1!==r&&-1!==a){var s=r<=a,l=o[o.length-1];s&&l.left<a&&(l.width=a-l.left)}return o},t}(Pt),Ft=ze.n?jt:Wt;function jt(e,t,n,i,o){return new Rt(e,t,n,i,o)}function Wt(e,t,n,i,o){return new Pt(e,t,n,i,o)}var Vt=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Bt=function(){function e(e,t,n,i,o,r){void 0===n&&(n=0),void 0===i&&(i=null),void 0===o&&(o=null),void 0===r&&(r=null),this.element=e,this.type=t,this.mouseColumn=n,this.position=i,!o&&i&&(o=new b.a(i.lineNumber,i.column,i.lineNumber,i.column)),this.range=o,this.detail=r}return e._typeToString=function(e){return e===ct.b.TEXTAREA?"TEXTAREA":e===ct.b.GUTTER_GLYPH_MARGIN?"GUTTER_GLYPH_MARGIN":e===ct.b.GUTTER_LINE_NUMBERS?"GUTTER_LINE_NUMBERS":e===ct.b.GUTTER_LINE_DECORATIONS?"GUTTER_LINE_DECORATIONS":e===ct.b.GUTTER_VIEW_ZONE?"GUTTER_VIEW_ZONE":e===ct.b.CONTENT_TEXT?"CONTENT_TEXT":e===ct.b.CONTENT_EMPTY?"CONTENT_EMPTY":e===ct.b.CONTENT_VIEW_ZONE?"CONTENT_VIEW_ZONE":e===ct.b.CONTENT_WIDGET?"CONTENT_WIDGET":e===ct.b.OVERVIEW_RULER?"OVERVIEW_RULER":e===ct.b.SCROLLBAR?"SCROLLBAR":e===ct.b.OVERLAY_WIDGET?"OVERLAY_WIDGET":"UNKNOWN"},e.toString=function(e){return this._typeToString(e.type)+": "+e.position+" - "+e.range+" - "+e.detail},e.prototype.toString=function(){return e.toString(this)},e}(),Ht=function(){function e(){}return e.isTextArea=function(e){return 2===e.length&&3===e[0]&&6===e[1]},e.isChildOfViewLines=function(e){return e.length>=4&&3===e[0]&&7===e[3]},e.isStrictChildOfViewLines=function(e){return e.length>4&&3===e[0]&&7===e[3]},e.isChildOfScrollableElement=function(e){return e.length>=2&&3===e[0]&&5===e[1]},e.isChildOfMinimap=function(e){return e.length>=2&&3===e[0]&&8===e[1]},e.isChildOfContentWidgets=function(e){return e.length>=4&&3===e[0]&&1===e[3]},e.isChildOfOverflowingContentWidgets=function(e){return e.length>=1&&2===e[0]},e.isChildOfOverlayWidgets=function(e){return e.length>=2&&3===e[0]&&4===e[1]},e}(),zt=function(){function e(e,t,n){this.model=e.model,this.layoutInfo=e.configuration.editor.layoutInfo,this.viewDomNode=t.viewDomNode,this.lineHeight=e.configuration.editor.lineHeight,this.typicalHalfwidthCharacterWidth=e.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,this.lastViewCursorsRenderData=n,this._context=e,this._viewHelper=t}return e.prototype.getZoneAtCoord=function(t){return e.getZoneAtCoord(this._context,t)},e.getZoneAtCoord=function(e,t){var n=e.viewLayout.getWhitespaceAtVerticalOffset(t);if(n){var i=n.verticalOffset+n.height/2,o=e.model.getLineCount(),r=null,a=void 0,s=null;return n.afterLineNumber!==o&&(s=new g.a(n.afterLineNumber+1,1)),n.afterLineNumber>0&&(r=new g.a(n.afterLineNumber,e.model.getLineMaxColumn(n.afterLineNumber))),a=null===s?r:null===r?s:t<i?r:s,{viewZoneId:n.id,afterLineNumber:n.afterLineNumber,positionBefore:r,positionAfter:s,position:a}}return null},e.prototype.getFullLineRangeAtCoord=function(e){if(this._context.viewLayout.isAfterLines(e)){var t=this._context.model.getLineCount(),n=this._context.model.getLineMaxColumn(t);return{range:new b.a(t,n,t,n),isAfterLines:!0}}var i=this._context.viewLayout.getLineNumberAtVerticalOffset(e),o=this._context.model.getLineMaxColumn(i);return{range:new b.a(i,1,i,o),isAfterLines:!1}},e.prototype.getLineNumberAtVerticalOffset=function(e){return this._context.viewLayout.getLineNumberAtVerticalOffset(e)},e.prototype.isAfterLines=function(e){return this._context.viewLayout.isAfterLines(e)},e.prototype.getVerticalOffsetForLineNumber=function(e){return this._context.viewLayout.getVerticalOffsetForLineNumber(e)},e.prototype.findAttribute=function(t,n){return e._findAttribute(t,n,this._viewHelper.viewDomNode)},e._findAttribute=function(e,t,n){for(;e&&e!==document.body;){if(e.hasAttribute&&e.hasAttribute(t))return e.getAttribute(t);if(e===n)return null;e=e.parentNode}return null},e.prototype.getLineWidth=function(e){return this._viewHelper.getLineWidth(e)},e.prototype.visibleRangeForPosition2=function(e,t){return this._viewHelper.visibleRangeForPosition2(e,t)},e.prototype.getPositionFromDOMInfo=function(e,t){return this._viewHelper.getPositionFromDOMInfo(e,t)},e.prototype.getCurrentScrollTop=function(){return this._context.viewLayout.getCurrentScrollTop()},e.prototype.getCurrentScrollLeft=function(){return this._context.viewLayout.getCurrentScrollLeft()},e}(),Ut=function(e){function t(t,n,i,o){var r=e.call(this,t,n,i)||this;return r._ctx=t,o?(r.target=o,r.targetPath=Ye.collect(o,t.viewDomNode)):(r.target=null,r.targetPath=new Uint8Array(0)),r}return Vt(t,e),t.prototype.toString=function(){return"pos("+this.pos.x+","+this.pos.y+"), editorPos("+this.editorPos.x+","+this.editorPos.y+"), mouseVerticalOffset: "+this.mouseVerticalOffset+", mouseContentHorizontalOffset: "+this.mouseContentHorizontalOffset+"\n\ttarget: "+(this.target?this.target.outerHTML:null)},t.prototype.fulfill=function(e,t,n,i){return void 0===t&&(t=null),void 0===n&&(n=null),void 0===i&&(i=null),new Bt(this.target,e,this.mouseColumn,t,n,i)},t.prototype.withTarget=function(e){return new t(this._ctx,this.editorPos,this.pos,e)},t}(function(){return function(e,t,n){this.editorPos=t,this.pos=n,this.mouseVerticalOffset=Math.max(0,e.getCurrentScrollTop()+n.y-t.y),this.mouseContentHorizontalOffset=e.getCurrentScrollLeft()+n.x-t.x-e.layoutInfo.contentLeft,this.isInMarginArea=n.x-t.x<e.layoutInfo.contentLeft&&n.x-t.x>=e.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,Kt._getMouseColumn(this.mouseContentHorizontalOffset,e.typicalHalfwidthCharacterWidth))}}()),qt={isAfterLines:!0};function Gt(e){return{isAfterLines:!1,horizontalDistanceToText:e}}var Kt=function(){function e(e,t){this._context=e,this._viewHelper=t}return e.prototype.mouseTargetIsWidget=function(e){var t=e.target,n=Ye.collect(t,this._viewHelper.viewDomNode);return!(!Ht.isChildOfContentWidgets(n)&&!Ht.isChildOfOverflowingContentWidgets(n))||!!Ht.isChildOfOverlayWidgets(n)},e.prototype.createMouseTarget=function(t,n,i,o){var r=new zt(this._context,this._viewHelper,t),a=new Ut(r,n,i,o);try{return e._createMouseTarget(r,a,!1)}catch(e){return a.fulfill(ct.b.UNKNOWN)}},e._createMouseTarget=function(t,n,i){if(null===n.target){if(i)return n.fulfill(ct.b.UNKNOWN);var o=e._doHitTest(t,n);return o.position?e.createMouseTargetFromHitTestPosition(t,n,o.position.lineNumber,o.position.column):this._createMouseTarget(t,n.withTarget(o.hitTarget),!0)}var r=null;return(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=r||e._hitTestContentWidget(t,n))||e._hitTestOverlayWidget(t,n))||e._hitTestMinimap(t,n))||e._hitTestScrollbarSlider(t,n))||e._hitTestViewZone(t,n))||e._hitTestMargin(t,n))||e._hitTestViewCursor(t,n))||e._hitTestTextArea(t,n))||e._hitTestViewLines(t,n,i))||e._hitTestScrollbar(t,n))||n.fulfill(ct.b.UNKNOWN)},e._hitTestContentWidget=function(e,t){if(Ht.isChildOfContentWidgets(t.targetPath)||Ht.isChildOfOverflowingContentWidgets(t.targetPath)){var n=e.findAttribute(t.target,"widgetId");return n?t.fulfill(ct.b.CONTENT_WIDGET,null,null,n):t.fulfill(ct.b.UNKNOWN)}return null},e._hitTestOverlayWidget=function(e,t){if(Ht.isChildOfOverlayWidgets(t.targetPath)){var n=e.findAttribute(t.target,"widgetId");return n?t.fulfill(ct.b.OVERLAY_WIDGET,null,null,n):t.fulfill(ct.b.UNKNOWN)}return null},e._hitTestViewCursor=function(e,t){if(t.target)for(var n=0,i=(r=e.lastViewCursorsRenderData).length;n<i;n++){var o=r[n];if(t.target===o.domNode)return t.fulfill(ct.b.CONTENT_TEXT,o.position)}if(t.isInContentArea){var r=e.lastViewCursorsRenderData,a=t.mouseContentHorizontalOffset,s=t.mouseVerticalOffset;for(n=0,i=r.length;n<i;n++){if(!(a<(o=r[n]).contentLeft)&&!(a>o.contentLeft+o.width)){var l=e.getVerticalOffsetForLineNumber(o.position.lineNumber);if(l<=s&&s<=l+o.height)return t.fulfill(ct.b.CONTENT_TEXT,o.position)}}}return null},e._hitTestViewZone=function(e,t){var n=e.getZoneAtCoord(t.mouseVerticalOffset);if(n){var i=t.isInContentArea?ct.b.CONTENT_VIEW_ZONE:ct.b.GUTTER_VIEW_ZONE;return t.fulfill(i,n.position,null,n)}return null},e._hitTestTextArea=function(e,t){return Ht.isTextArea(t.targetPath)?t.fulfill(ct.b.TEXTAREA):null},e._hitTestMargin=function(e,t){if(t.isInMarginArea){var n=e.getFullLineRangeAtCoord(t.mouseVerticalOffset),i=n.range.getStartPosition(),o=Math.abs(t.pos.x-t.editorPos.x),r={isAfterLines:n.isAfterLines,glyphMarginLeft:e.layoutInfo.glyphMarginLeft,glyphMarginWidth:e.layoutInfo.glyphMarginWidth,lineNumbersWidth:e.layoutInfo.lineNumbersWidth,offsetX:o};return(o-=e.layoutInfo.glyphMarginLeft)<=e.layoutInfo.glyphMarginWidth?t.fulfill(ct.b.GUTTER_GLYPH_MARGIN,i,n.range,r):(o-=e.layoutInfo.glyphMarginWidth)<=e.layoutInfo.lineNumbersWidth?t.fulfill(ct.b.GUTTER_LINE_NUMBERS,i,n.range,r):(o-=e.layoutInfo.lineNumbersWidth,t.fulfill(ct.b.GUTTER_LINE_DECORATIONS,i,n.range,r))}return null},e._hitTestViewLines=function(t,n,i){if(!Ht.isChildOfViewLines(n.targetPath))return null;if(t.isAfterLines(n.mouseVerticalOffset)){var o=t.model.getLineCount(),r=t.model.getLineMaxColumn(o);return n.fulfill(ct.b.CONTENT_EMPTY,new g.a(o,r),void 0,qt)}if(i){if(Ht.isStrictChildOfViewLines(n.targetPath)){var a=t.getLineNumberAtVerticalOffset(n.mouseVerticalOffset);if(0===t.model.getLineLength(a)){var s=t.getLineWidth(a),l=Gt(n.mouseContentHorizontalOffset-s);return n.fulfill(ct.b.CONTENT_EMPTY,new g.a(a,1),void 0,l)}}return n.fulfill(ct.b.UNKNOWN)}var c=e._doHitTest(t,n);return c.position?e.createMouseTargetFromHitTestPosition(t,n,c.position.lineNumber,c.position.column):this._createMouseTarget(t,n.withTarget(c.hitTarget),!0)},e._hitTestMinimap=function(e,t){if(Ht.isChildOfMinimap(t.targetPath)){var n=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),i=e.model.getLineMaxColumn(n);return t.fulfill(ct.b.SCROLLBAR,new g.a(n,i))}return null},e._hitTestScrollbarSlider=function(e,t){if(Ht.isChildOfScrollableElement(t.targetPath)&&t.target&&1===t.target.nodeType){var n=t.target.className;if(n&&/\b(slider|scrollbar)\b/.test(n)){var i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),o=e.model.getLineMaxColumn(i);return t.fulfill(ct.b.SCROLLBAR,new g.a(i,o))}}return null},e._hitTestScrollbar=function(e,t){if(Ht.isChildOfScrollableElement(t.targetPath)){var n=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),i=e.model.getLineMaxColumn(n);return t.fulfill(ct.b.SCROLLBAR,new g.a(n,i))}return null},e.prototype.getMouseColumn=function(t,n){var i=this._context.configuration.editor.layoutInfo,o=this._context.viewLayout.getCurrentScrollLeft()+n.x-t.x-i.contentLeft;return e._getMouseColumn(o,this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth)},e._getMouseColumn=function(e,t){return e<0?1:Math.round(e/t)+1},e.createMouseTargetFromHitTestPosition=function(e,t,n,i){var o=new g.a(n,i),r=e.getLineWidth(n);if(t.mouseContentHorizontalOffset>r){if(ze.g&&1===o.column){var a=Gt(t.mouseContentHorizontalOffset-r);return t.fulfill(ct.b.CONTENT_EMPTY,new g.a(n,e.model.getLineMaxColumn(n)),void 0,a)}var s=Gt(t.mouseContentHorizontalOffset-r);return t.fulfill(ct.b.CONTENT_EMPTY,o,void 0,s)}var l=e.visibleRangeForPosition2(n,i);if(!l)return t.fulfill(ct.b.UNKNOWN,o);var c=l.left;if(t.mouseContentHorizontalOffset===c)return t.fulfill(ct.b.CONTENT_TEXT,o);var u=[];if(u.push({offset:l.left,column:i}),i>1){var d=e.visibleRangeForPosition2(n,i-1);d&&u.push({offset:d.left,column:i-1})}if(i<e.model.getLineMaxColumn(n)){var h=e.visibleRangeForPosition2(n,i+1);h&&u.push({offset:h.left,column:i+1})}u.sort(function(e,t){return e.offset-t.offset});for(var f=1;f<u.length;f++){var p=u[f-1],m=u[f];if(p.offset<=t.mouseContentHorizontalOffset&&t.mouseContentHorizontalOffset<=m.offset){var y=new b.a(n,p.column,n,m.column);return t.fulfill(ct.b.CONTENT_TEXT,o,y)}}return t.fulfill(ct.b.CONTENT_TEXT,o)},e._doHitTestWithCaretRangeFromPoint=function(e,t){var n=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),i=e.getVerticalOffsetForLineNumber(n)+Math.floor(e.lineHeight/2),o=t.pos.y+(i-t.mouseVerticalOffset);o<=t.editorPos.y&&(o=t.editorPos.y+1),o>=t.editorPos.y+e.layoutInfo.height&&(o=t.editorPos.y+e.layoutInfo.height-1);var r=new ft(t.pos.x,o),a=this._actualDoHitTestWithCaretRangeFromPoint(e,r.toClientCoordinates());return a.position?a:this._actualDoHitTestWithCaretRangeFromPoint(e,t.pos.toClientCoordinates())},e._actualDoHitTestWithCaretRangeFromPoint=function(e,t){var n=document.caretRangeFromPoint(t.clientX,t.clientY);if(!n||!n.startContainer)return{position:null,hitTarget:null};var i,o=n.startContainer;if(o.nodeType===o.TEXT_NODE){var r=(s=(a=o.parentNode)?a.parentNode:null)?s.parentNode:null;if((r&&r.nodeType===r.ELEMENT_NODE?r.className:null)===At.CLASS_NAME)return{position:e.getPositionFromDOMInfo(a,n.startOffset),hitTarget:null};i=o.parentNode}else if(o.nodeType===o.ELEMENT_NODE){var a,s;if(((s=(a=o.parentNode)?a.parentNode:null)&&s.nodeType===s.ELEMENT_NODE?s.className:null)===At.CLASS_NAME)return{position:e.getPositionFromDOMInfo(o,o.textContent.length),hitTarget:null};i=o}return{position:null,hitTarget:i}},e._doHitTestWithCaretPositionFromPoint=function(e,t){var n=document.caretPositionFromPoint(t.clientX,t.clientY);if(n.offsetNode.nodeType===n.offsetNode.TEXT_NODE){var i=n.offsetNode.parentNode,o=i?i.parentNode:null,r=o?o.parentNode:null;return(r&&r.nodeType===r.ELEMENT_NODE?r.className:null)===At.CLASS_NAME?{position:e.getPositionFromDOMInfo(n.offsetNode.parentNode,n.offset),hitTarget:null}:{position:null,hitTarget:n.offsetNode.parentNode}}return{position:null,hitTarget:n.offsetNode}},e._doHitTestWithMoveToPoint=function(e,t){var n=null,i=null,o=document.body.createTextRange();try{o.moveToPoint(t.clientX,t.clientY)}catch(e){return{position:null,hitTarget:null}}o.collapse(!0);var r=o?o.parentElement():null,a=r?r.parentNode:null,s=a?a.parentNode:null;if((s&&s.nodeType===s.ELEMENT_NODE?s.className:"")===At.CLASS_NAME){var l=o.duplicate();l.moveToElementText(r),l.setEndPoint("EndToStart",o),n=e.getPositionFromDOMInfo(r,l.text.length),l.moveToElementText(e.viewDomNode)}else i=r;return o.moveToElementText(e.viewDomNode),{position:n,hitTarget:i}},e._doHitTest=function(e,t){return document.caretRangeFromPoint?this._doHitTestWithCaretRangeFromPoint(e,t):document.caretPositionFromPoint?this._doHitTestWithCaretPositionFromPoint(e,t.pos.toClientCoordinates()):document.body.createTextRange?this._doHitTestWithMoveToPoint(e,t.pos.toClientCoordinates()):{position:null,hitTarget:null}},e}(),Yt=n(20),Zt=n(98),$t=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Xt(e){return function(t,n){var i=!1;return e&&(i=e.mouseTargetIsWidget(n)),i||n.preventDefault(),n}}var Qt=function(e){function t(n,i,o){var a=e.call(this)||this;a._isFocused=!1,a._context=n,a.viewController=i,a.viewHelper=o,a.mouseTargetFactory=new Kt(a._context,o),a._mouseDownOperation=a._register(new Jt(a._context,a.viewController,a.viewHelper,function(e,t){return a._createMouseTarget(e,t)},function(e){return a._getMouseColumn(e)})),a._asyncFocus=a._register(new Yt.c(function(){return a.viewHelper.focusTextArea()},0)),a.lastMouseLeaveTime=-1;var s=new yt(a.viewHelper.viewDomNode);a._register(s.onContextMenu(a.viewHelper.viewDomNode,function(e){return a._onContextMenu(e,!0)})),a._register(s.onMouseMoveThrottled(a.viewHelper.viewDomNode,function(e){return a._onMouseMove(e)},Xt(a.mouseTargetFactory),t.MOUSE_MOVE_MINIMUM_TIME)),a._register(s.onMouseUp(a.viewHelper.viewDomNode,function(e){return a._onMouseUp(e)})),a._register(s.onMouseLeave(a.viewHelper.viewDomNode,function(e){return a._onMouseLeave(e)})),a._register(s.onMouseDown(a.viewHelper.viewDomNode,function(e){return a._onMouseDown(e)}));var l=function(e){if(a._context.configuration.editor.viewInfo.mouseWheelZoom){var t=new ut.c(e);if(t.browserEvent.ctrlKey||t.browserEvent.metaKey){var n=Zt.a.getZoomLevel(),i=t.deltaY>0?1:-1;Zt.a.setZoomLevel(n+i),t.preventDefault(),t.stopPropagation()}}};return a._register(r.g(a.viewHelper.viewDomNode,"mousewheel",l,!0)),a._register(r.g(a.viewHelper.viewDomNode,"DOMMouseScroll",l,!0)),a._context.addEventHandler(a),a}return $t(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),e.prototype.dispose.call(this)},t.prototype.onCursorStateChanged=function(e){return this._mouseDownOperation.onCursorStateChanged(e),!1},t.prototype.onFocusChanged=function(e){return this._isFocused=e.isFocused,!1},t.prototype.onScrollChanged=function(e){return this._mouseDownOperation.onScrollChanged(),!1},t.prototype.getTargetAtClientPoint=function(e,t){var n=new pt(e,t).toPageCoordinates(),i=gt(this.viewHelper.viewDomNode);if(n.y<i.y||n.y>i.y+i.height||n.x<i.x||n.x>i.x+i.width)return null;var o=this.viewHelper.getLastViewCursorsRenderData();return this.mouseTargetFactory.createMouseTarget(o,i,n,null)},t.prototype._createMouseTarget=function(e,t){var n=this.viewHelper.getLastViewCursorsRenderData();return this.mouseTargetFactory.createMouseTarget(n,e.editorPos,e.pos,t?e.target:null)},t.prototype._getMouseColumn=function(e){return this.mouseTargetFactory.getMouseColumn(e.editorPos,e.pos)},t.prototype._onContextMenu=function(e,t){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,t)})},t.prototype._onMouseMove=function(e){this._mouseDownOperation.isActive()||(e.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,!0)}))},t.prototype._onMouseLeave=function(e){this.lastMouseLeaveTime=(new Date).getTime(),this.viewController.emitMouseLeave({event:e,target:null})},t.prototype._onMouseUp=function(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,!0)})},t.prototype._onMouseDown=function(e){var t=this,n=this._createMouseTarget(e,!0),i=n.type===ct.b.CONTENT_TEXT||n.type===ct.b.CONTENT_EMPTY,o=n.type===ct.b.GUTTER_GLYPH_MARGIN||n.type===ct.b.GUTTER_LINE_NUMBERS||n.type===ct.b.GUTTER_LINE_DECORATIONS,r=n.type===ct.b.GUTTER_LINE_NUMBERS,a=this._context.configuration.editor.viewInfo.selectOnLineNumbers,s=n.type===ct.b.CONTENT_VIEW_ZONE||n.type===ct.b.GUTTER_VIEW_ZONE,l=n.type===ct.b.CONTENT_WIDGET,c=e.leftButton||e.middleButton;He.d&&e.leftButton&&e.ctrlKey&&(c=!1);var u=function(){ze.k&&!t._isFocused?t._asyncFocus.schedule():(e.preventDefault(),t.viewHelper.focusTextArea())};if(c&&(i||r&&a))u(),this._mouseDownOperation.start(n.type,e);else if(o)e.preventDefault();else if(s){var d=n.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(d.viewZoneId)&&(u(),this._mouseDownOperation.start(n.type,e),e.preventDefault())}else l&&this.viewHelper.shouldSuppressMouseDownOnWidget(n.detail)&&(u(),e.preventDefault());this.viewController.emitMouseDown({event:e,target:n})},t.MOUSE_MOVE_MINIMUM_TIME=100,t}(Be),Jt=function(e){function t(t,n,i,o,r){var a=e.call(this)||this;return a._context=t,a._viewController=n,a._viewHelper=i,a._createMouseTarget=o,a._getMouseColumn=r,a._mouseMoveMonitor=a._register(new vt(a._viewHelper.viewDomNode)),a._onScrollTimeout=a._register(new Yt.f),a._mouseState=new en,a._currentSelection=new y.a(1,1,1,1),a._isActive=!1,a._lastMouseEvent=null,a}return $t(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.isActive=function(){return this._isActive},t.prototype._onMouseDownThenMove=function(e){this._lastMouseEvent=e,this._mouseState.setModifiers(e);var t=this._findMousePosition(e,!0);t&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:e,target:t}):this._dispatchMouse(t,!0))},t.prototype.start=function(e,t){var n=this;this._lastMouseEvent=t,this._mouseState.setStartedOnLineNumbers(e===ct.b.GUTTER_LINE_NUMBERS),this._mouseState.setStartButtons(t),this._mouseState.setModifiers(t);var i=this._findMousePosition(t,!0);if(i){if(this._mouseState.trySetCount(t.detail,i.position),t.detail=this._mouseState.count,!this._context.configuration.editor.readOnly&&this._context.configuration.editor.dragAndDrop&&!this._mouseState.altKey&&t.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&this._currentSelection.containsPosition(i.position))return this._mouseState.isDragAndDrop=!0,this._isActive=!0,void this._mouseMoveMonitor.startMonitoring(Xt(null),function(e){return n._onMouseDownThenMove(e)},function(){var e=n._findMousePosition(n._lastMouseEvent,!0);n._viewController.emitMouseDrop({event:n._lastMouseEvent,target:e?n._createMouseTarget(n._lastMouseEvent,!0):null}),n._stop()});this._mouseState.isDragAndDrop=!1,this._dispatchMouse(i,t.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(Xt(null),function(e){return n._onMouseDownThenMove(e)},function(){return n._stop()}))}},t.prototype._stop=function(){this._isActive=!1,this._onScrollTimeout.cancel()},t.prototype.onScrollChanged=function(){var e=this;this._isActive&&this._onScrollTimeout.setIfNotSet(function(){var t=e._findMousePosition(e._lastMouseEvent,!1);t&&(e._mouseState.isDragAndDrop||e._dispatchMouse(t,!0))},10)},t.prototype.onCursorStateChanged=function(e){this._currentSelection=e.selections[0]},t.prototype._getPositionOutsideEditor=function(e){var t=e.editorPos,n=this._context.model,i=this._context.viewLayout,o=this._getMouseColumn(e);if(e.posy<t.y){var r=Math.max(i.getCurrentScrollTop()-(t.y-e.posy),0);if(s=zt.getZoneAtCoord(this._context,r))if(l=this._helpPositionJumpOverViewZone(s))return new Bt(null,ct.b.OUTSIDE_EDITOR,o,l);var a=i.getLineNumberAtVerticalOffset(r);return new Bt(null,ct.b.OUTSIDE_EDITOR,o,new g.a(a,1))}if(e.posy>t.y+t.height){var s,l;r=i.getCurrentScrollTop()+(e.posy-t.y);if(s=zt.getZoneAtCoord(this._context,r))if(l=this._helpPositionJumpOverViewZone(s))return new Bt(null,ct.b.OUTSIDE_EDITOR,o,l);var c=i.getLineNumberAtVerticalOffset(r);return new Bt(null,ct.b.OUTSIDE_EDITOR,o,new g.a(c,n.getLineMaxColumn(c)))}var u=i.getLineNumberAtVerticalOffset(i.getCurrentScrollTop()+(e.posy-t.y));return e.posx<t.x?new Bt(null,ct.b.OUTSIDE_EDITOR,o,new g.a(u,1)):e.posx>t.x+t.width?new Bt(null,ct.b.OUTSIDE_EDITOR,o,new g.a(u,n.getLineMaxColumn(u))):null},t.prototype._findMousePosition=function(e,t){var n=this._getPositionOutsideEditor(e);if(n)return n;var i=this._createMouseTarget(e,t);if(!i.position)return null;if(i.type===ct.b.CONTENT_VIEW_ZONE||i.type===ct.b.GUTTER_VIEW_ZONE){var o=this._helpPositionJumpOverViewZone(i.detail);if(o)return new Bt(i.element,i.type,i.mouseColumn,o,null,i.detail)}return i},t.prototype._helpPositionJumpOverViewZone=function(e){var t=new g.a(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),n=e.positionBefore,i=e.positionAfter;return n&&i?n.isBefore(t)?n:i:null},t.prototype._dispatchMouse=function(e,t){this._viewController.dispatchMouse({position:e.position,mouseColumn:e.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:t,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton})},t}(l.a),en=function(){function e(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}return Object.defineProperty(e.prototype,"altKey",{get:function(){return this._altKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ctrlKey",{get:function(){return this._ctrlKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"metaKey",{get:function(){return this._metaKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shiftKey",{get:function(){return this._shiftKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftButton",{get:function(){return this._leftButton},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"middleButton",{get:function(){return this._middleButton},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startedOnLineNumbers",{get:function(){return this._startedOnLineNumbers},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this._lastMouseDownCount},enumerable:!0,configurable:!0}),e.prototype.setModifiers=function(e){this._altKey=e.altKey,this._ctrlKey=e.ctrlKey,this._metaKey=e.metaKey,this._shiftKey=e.shiftKey},e.prototype.setStartButtons=function(e){this._leftButton=e.leftButton,this._middleButton=e.middleButton},e.prototype.setStartedOnLineNumbers=function(e){this._startedOnLineNumbers=e},e.prototype.trySetCount=function(t,n){var i=(new Date).getTime();i-this._lastSetMouseDownCountTime>e.CLEAR_MOUSE_DOWN_COUNT_TIME&&(t=1),this._lastSetMouseDownCountTime=i,t>this._lastMouseDownCount+1&&(t=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(n)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=n,this._lastMouseDownCount=Math.min(t,this._lastMouseDownPositionEqualCount)},e.CLEAR_MOUSE_DOWN_COUNT_TIME=400,e}(),tn=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function nn(e,t){var n={translationY:t.translationY,translationX:t.translationX};return e&&(n.translationY+=e.translationY,n.translationX+=e.translationX),n}var on=function(e){function t(t,n,i){var o=e.call(this,t,n,i)||this;return o.viewHelper.linesContentDomNode.style.msTouchAction="none",o.viewHelper.linesContentDomNode.style.msContentZooming="none",o._installGestureHandlerTimeout=window.setTimeout(function(){if(o._installGestureHandlerTimeout=-1,window.MSGesture){var e=new MSGesture,t=new MSGesture;e.target=o.viewHelper.linesContentDomNode,t.target=o.viewHelper.linesContentDomNode,o.viewHelper.linesContentDomNode.addEventListener("MSPointerDown",function(n){var i=n.pointerType;i!==(n.MSPOINTER_TYPE_MOUSE||"mouse")?i===(n.MSPOINTER_TYPE_TOUCH||"touch")?(o._lastPointerType="touch",e.addPointer(n.pointerId)):(o._lastPointerType="pen",t.addPointer(n.pointerId)):o._lastPointerType="mouse"}),o._register(r.i(o.viewHelper.linesContentDomNode,"MSGestureChange",function(e){return o._onGestureChange(e)},nn)),o._register(r.g(o.viewHelper.linesContentDomNode,"MSGestureTap",function(e){return o._onCaptureGestureTap(e)},!0))}},100),o._lastPointerType="mouse",o}return tn(t,e),t.prototype._onMouseDown=function(t){"mouse"===this._lastPointerType&&e.prototype._onMouseDown.call(this,t)},t.prototype._onCaptureGestureTap=function(e){var t=this,n=new bt(e,this.viewHelper.viewDomNode),i=this._createMouseTarget(n,!1);i.position&&this.viewController.moveTo(i.position),n.browserEvent.fromElement?(n.preventDefault(),this.viewHelper.focusTextArea()):setTimeout(function(){t.viewHelper.focusTextArea()})},t.prototype._onGestureChange=function(e){this._context.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)},t.prototype.dispose=function(){window.clearTimeout(this._installGestureHandlerTimeout),e.prototype.dispose.call(this)},t}(Qt),rn=function(e){function t(t,n,i){var o=e.call(this,t,n,i)||this;return o.viewHelper.linesContentDomNode.style.touchAction="none",o._installGestureHandlerTimeout=window.setTimeout(function(){if(o._installGestureHandlerTimeout=-1,window.MSGesture){var e=new MSGesture,t=new MSGesture;e.target=o.viewHelper.linesContentDomNode,t.target=o.viewHelper.linesContentDomNode,o.viewHelper.linesContentDomNode.addEventListener("pointerdown",function(n){var i=n.pointerType;"mouse"!==i?"touch"===i?(o._lastPointerType="touch",e.addPointer(n.pointerId)):(o._lastPointerType="pen",t.addPointer(n.pointerId)):o._lastPointerType="mouse"}),o._register(r.i(o.viewHelper.linesContentDomNode,"MSGestureChange",function(e){return o._onGestureChange(e)},nn)),o._register(r.g(o.viewHelper.linesContentDomNode,"MSGestureTap",function(e){return o._onCaptureGestureTap(e)},!0))}},100),o._lastPointerType="mouse",o}return tn(t,e),t.prototype._onMouseDown=function(t){"mouse"===this._lastPointerType&&e.prototype._onMouseDown.call(this,t)},t.prototype._onCaptureGestureTap=function(e){var t=this,n=new bt(e,this.viewHelper.viewDomNode),i=this._createMouseTarget(n,!1);i.position&&this.viewController.moveTo(i.position),n.browserEvent.fromElement?(n.preventDefault(),this.viewHelper.focusTextArea()):setTimeout(function(){t.viewHelper.focusTextArea()})},t.prototype._onGestureChange=function(e){this._context.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)},t.prototype.dispose=function(){window.clearTimeout(this._installGestureHandlerTimeout),e.prototype.dispose.call(this)},t}(Qt),an=function(e){function t(t,n,i){var o=e.call(this,t,n,i)||this;return lt.b.addTarget(o.viewHelper.linesContentDomNode),o._register(r.g(o.viewHelper.linesContentDomNode,lt.a.Tap,function(e){return o.onTap(e)})),o._register(r.g(o.viewHelper.linesContentDomNode,lt.a.Change,function(e){return o.onChange(e)})),o._register(r.g(o.viewHelper.linesContentDomNode,lt.a.Contextmenu,function(e){return o._onContextMenu(new bt(e,o.viewHelper.viewDomNode),!1)})),o}return tn(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.onTap=function(e){e.preventDefault(),this.viewHelper.focusTextArea();var t=this._createMouseTarget(new bt(e,this.viewHelper.viewDomNode),!1);t.position&&this.viewController.moveTo(t.position)},t.prototype.onChange=function(e){this._context.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)},t}(Qt),sn=function(){function e(e,t,n){window.navigator.msPointerEnabled?this.handler=new on(e,t,n):window.TouchEvent?this.handler=new an(e,t,n):window.navigator.pointerEnabled||window.PointerEvent?this.handler=new rn(e,t,n):this.handler=new Qt(e,t,n)}return e.prototype.getTargetAtClientPoint=function(e,t){return this.handler.getTargetAtClientPoint(e,t)},e.prototype.dispose=function(){this.handler.dispose()},e}(),ln=n(74),cn=function(){function e(e,t,n,i,o){this.configuration=e,this.viewModel=t,this._execCoreEditorCommandFunc=n,this.outgoingEvents=i,this.commandDelegate=o}return e.prototype._execMouseCommand=function(e,t){t.source="mouse",this._execCoreEditorCommandFunc(e,t)},e.prototype.paste=function(e,t,n,i){this.commandDelegate.paste(e,t,n,i)},e.prototype.type=function(e,t){this.commandDelegate.type(e,t)},e.prototype.replacePreviousChar=function(e,t,n){this.commandDelegate.replacePreviousChar(e,t,n)},e.prototype.compositionStart=function(e){this.commandDelegate.compositionStart(e)},e.prototype.compositionEnd=function(e){this.commandDelegate.compositionEnd(e)},e.prototype.cut=function(e){this.commandDelegate.cut(e)},e.prototype.setSelection=function(e,t){this._execCoreEditorCommandFunc(ln.CoreNavigationCommands.SetSelection,{source:e,selection:t})},e.prototype._validateViewColumn=function(e){var t=this.viewModel.getLineMinColumn(e.lineNumber);return e.column<t?new g.a(e.lineNumber,t):e},e.prototype._hasMulticursorModifier=function(e){switch(this.configuration.editor.multiCursorModifier){case"altKey":return e.altKey;case"ctrlKey":return e.ctrlKey;case"metaKey":return e.metaKey}return!1},e.prototype._hasNonMulticursorModifier=function(e){switch(this.configuration.editor.multiCursorModifier){case"altKey":return e.ctrlKey||e.metaKey;case"ctrlKey":return e.altKey||e.metaKey;case"metaKey":return e.ctrlKey||e.altKey}return!1},e.prototype.dispatchMouse=function(e){e.middleButton?e.inSelectionMode?this.columnSelect(e.position,e.mouseColumn):this.moveTo(e.position):e.startedOnLineNumbers?this._hasMulticursorModifier(e)?e.inSelectionMode?this.lastCursorLineSelect(e.position):this.createCursor(e.position,!0):e.inSelectionMode?this.lineSelectDrag(e.position):this.lineSelect(e.position):e.mouseDownCount>=4?this.selectAll():3===e.mouseDownCount?this._hasMulticursorModifier(e)?e.inSelectionMode?this.lastCursorLineSelectDrag(e.position):this.lastCursorLineSelect(e.position):e.inSelectionMode?this.lineSelectDrag(e.position):this.lineSelect(e.position):2===e.mouseDownCount?this._hasMulticursorModifier(e)?this.lastCursorWordSelect(e.position):e.inSelectionMode?this.wordSelectDrag(e.position):this.wordSelect(e.position):this._hasMulticursorModifier(e)?this._hasNonMulticursorModifier(e)||(e.shiftKey?this.columnSelect(e.position,e.mouseColumn):e.inSelectionMode?this.lastCursorMoveToSelect(e.position):this.createCursor(e.position,!1)):e.inSelectionMode?this.moveToSelect(e.position):this.moveTo(e.position)},e.prototype._usualArgs=function(e){return e=this._validateViewColumn(e),{position:this.convertViewToModelPosition(e),viewPosition:e}},e.prototype.moveTo=function(e){this._execMouseCommand(ln.CoreNavigationCommands.MoveTo,this._usualArgs(e))},e.prototype.moveToSelect=function(e){this._execMouseCommand(ln.CoreNavigationCommands.MoveToSelect,this._usualArgs(e))},e.prototype.columnSelect=function(e,t){e=this._validateViewColumn(e),this._execMouseCommand(ln.CoreNavigationCommands.ColumnSelect,{position:this.convertViewToModelPosition(e),viewPosition:e,mouseColumn:t})},e.prototype.createCursor=function(e,t){e=this._validateViewColumn(e),this._execMouseCommand(ln.CoreNavigationCommands.CreateCursor,{position:this.convertViewToModelPosition(e),viewPosition:e,wholeLine:t})},e.prototype.lastCursorMoveToSelect=function(e){this._execMouseCommand(ln.CoreNavigationCommands.LastCursorMoveToSelect,this._usualArgs(e))},e.prototype.wordSelect=function(e){this._execMouseCommand(ln.CoreNavigationCommands.WordSelect,this._usualArgs(e))},e.prototype.wordSelectDrag=function(e){this._execMouseCommand(ln.CoreNavigationCommands.WordSelectDrag,this._usualArgs(e))},e.prototype.lastCursorWordSelect=function(e){this._execMouseCommand(ln.CoreNavigationCommands.LastCursorWordSelect,this._usualArgs(e))},e.prototype.lineSelect=function(e){this._execMouseCommand(ln.CoreNavigationCommands.LineSelect,this._usualArgs(e))},e.prototype.lineSelectDrag=function(e){this._execMouseCommand(ln.CoreNavigationCommands.LineSelectDrag,this._usualArgs(e))},e.prototype.lastCursorLineSelect=function(e){this._execMouseCommand(ln.CoreNavigationCommands.LastCursorLineSelect,this._usualArgs(e))},e.prototype.lastCursorLineSelectDrag=function(e){this._execMouseCommand(ln.CoreNavigationCommands.LastCursorLineSelectDrag,this._usualArgs(e))},e.prototype.selectAll=function(){this._execMouseCommand(ln.CoreNavigationCommands.SelectAll,{})},e.prototype.convertViewToModelPosition=function(e){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(e)},e.prototype.emitKeyDown=function(e){this.outgoingEvents.emitKeyDown(e)},e.prototype.emitKeyUp=function(e){this.outgoingEvents.emitKeyUp(e)},e.prototype.emitContextMenu=function(e){this.outgoingEvents.emitContextMenu(e)},e.prototype.emitMouseMove=function(e){this.outgoingEvents.emitMouseMove(e)},e.prototype.emitMouseLeave=function(e){this.outgoingEvents.emitMouseLeave(e)},e.prototype.emitMouseUp=function(e){this.outgoingEvents.emitMouseUp(e)},e.prototype.emitMouseDown=function(e){this.outgoingEvents.emitMouseDown(e)},e.prototype.emitMouseDrag=function(e){this.outgoingEvents.emitMouseDrag(e)},e.prototype.emitMouseDrop=function(e){this.outgoingEvents.emitMouseDrop(e)},e}(),un=function(){function e(e){this._eventHandlerGateKeeper=e,this._eventHandlers=[],this._eventQueue=null,this._isConsumingQueue=!1}return e.prototype.addEventHandler=function(e){for(var t=0,n=this._eventHandlers.length;t<n;t++)this._eventHandlers[t]===e&&console.warn("Detected duplicate listener in ViewEventDispatcher",e);this._eventHandlers.push(e)},e.prototype.removeEventHandler=function(e){for(var t=0;t<this._eventHandlers.length;t++)if(this._eventHandlers[t]===e){this._eventHandlers.splice(t,1);break}},e.prototype.emit=function(e){this._eventQueue?this._eventQueue.push(e):this._eventQueue=[e],this._isConsumingQueue||this.consumeQueue()},e.prototype.emitMany=function(e){this._eventQueue?this._eventQueue=this._eventQueue.concat(e):this._eventQueue=e,this._isConsumingQueue||this.consumeQueue()},e.prototype.consumeQueue=function(){var e=this;this._eventHandlerGateKeeper(function(){try{e._isConsumingQueue=!0,e._doConsumeQueue()}finally{e._isConsumingQueue=!1}})},e.prototype._doConsumeQueue=function(){for(;this._eventQueue;){var e=this._eventQueue;this._eventQueue=null;for(var t=this._eventHandlers.slice(0),n=0,i=t.length;n<i;n++)t[n].handleEvents(e)}},e}(),dn=n(165),hn=function(){function e(e){this._createLine=e,this._set(1,[])}return e.prototype.flush=function(){this._set(1,[])},e.prototype._set=function(e,t){this._lines=t,this._rendLineNumberStart=e},e.prototype._get=function(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}},e.prototype.getStartLineNumber=function(){return this._rendLineNumberStart},e.prototype.getEndLineNumber=function(){return this._rendLineNumberStart+this._lines.length-1},e.prototype.getCount=function(){return this._lines.length},e.prototype.getLine=function(e){var t=e-this._rendLineNumberStart;if(t<0||t>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[t]},e.prototype.onLinesDeleted=function(e,t){if(0===this.getCount())return null;var n=this.getStartLineNumber(),i=this.getEndLineNumber();if(t<n){var o=t-e+1;return this._rendLineNumberStart-=o,null}if(e>i)return null;for(var r=0,a=0,s=n;s<=i;s++){var l=s-this._rendLineNumberStart;e<=s&&s<=t&&(0===a?(r=l,a=1):a++)}if(e<n){var c=0;c=t<n?t-e+1:n-e,this._rendLineNumberStart-=c}return this._lines.splice(r,a)},e.prototype.onLinesChanged=function(e,t){if(0===this.getCount())return!1;for(var n=this.getStartLineNumber(),i=this.getEndLineNumber(),o=!1,r=e;r<=t;r++)r>=n&&r<=i&&(this._lines[r-this._rendLineNumberStart].onContentChanged(),o=!0);return o},e.prototype.onLinesInserted=function(e,t){if(0===this.getCount())return null;var n=t-e+1,i=this.getStartLineNumber(),o=this.getEndLineNumber();if(e<=i)return this._rendLineNumberStart+=n,null;if(e>o)return null;if(n+e>o)return this._lines.splice(e-this._rendLineNumberStart,o-e+1);for(var r=[],a=0;a<n;a++)r[a]=this._createLine();var s=e-this._rendLineNumberStart,l=this._lines.slice(0,s),c=this._lines.slice(s,this._lines.length-n),u=this._lines.slice(this._lines.length-n,this._lines.length);return this._lines=l.concat(r).concat(c),u},e.prototype.onTokensChanged=function(e){if(0===this.getCount())return!1;for(var t=this.getStartLineNumber(),n=this.getEndLineNumber(),i=!1,o=0,r=e.length;o<r;o++){var a=e[o];if(!(a.toLineNumber<t||a.fromLineNumber>n))for(var s=Math.max(t,a.fromLineNumber),l=Math.min(n,a.toLineNumber),c=s;c<=l;c++){var u=c-this._rendLineNumberStart;this._lines[u].onTokensChanged(),i=!0}}return i},e}(),fn=function(){function e(e){var t=this;this._host=e,this.domNode=this._createDomNode(),this._linesCollection=new hn(function(){return t._host.createVisibleLine()})}return e.prototype._createDomNode=function(){var e=Object(We.b)(document.createElement("div"));return e.setClassName("view-layer"),e.setPosition("absolute"),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e},e.prototype.onConfigurationChanged=function(e){return e.layoutInfo},e.prototype.onFlushed=function(e){return this._linesCollection.flush(),!0},e.prototype.onLinesChanged=function(e){return this._linesCollection.onLinesChanged(e.fromLineNumber,e.toLineNumber)},e.prototype.onLinesDeleted=function(e){var t=this._linesCollection.onLinesDeleted(e.fromLineNumber,e.toLineNumber);if(t)for(var n=0,i=t.length;n<i;n++){var o=t[n].getDomNode();o&&this.domNode.domNode.removeChild(o)}return!0},e.prototype.onLinesInserted=function(e){var t=this._linesCollection.onLinesInserted(e.fromLineNumber,e.toLineNumber);if(t)for(var n=0,i=t.length;n<i;n++){var o=t[n].getDomNode();o&&this.domNode.domNode.removeChild(o)}return!0},e.prototype.onScrollChanged=function(e){return e.scrollTopChanged},e.prototype.onTokensChanged=function(e){return this._linesCollection.onTokensChanged(e.ranges)},e.prototype.onZonesChanged=function(e){return!0},e.prototype.getStartLineNumber=function(){return this._linesCollection.getStartLineNumber()},e.prototype.getEndLineNumber=function(){return this._linesCollection.getEndLineNumber()},e.prototype.getVisibleLine=function(e){return this._linesCollection.getLine(e)},e.prototype.renderLines=function(e){var t=this._linesCollection._get(),n=new pn(this.domNode.domNode,this._host,e),i={rendLineNumberStart:t.rendLineNumberStart,lines:t.lines,linesLength:t.lines.length},o=n.render(i,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._linesCollection._set(o.rendLineNumberStart,o.lines)},e}(),pn=function(){function e(e,t,n){this.domNode=e,this.host=t,this.viewportData=n}return e.prototype.render=function(e,t,n,i){var o={rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength};if(o.rendLineNumberStart+o.linesLength-1<t||n<o.rendLineNumberStart){o.rendLineNumberStart=t,o.linesLength=n-t+1,o.lines=[];for(var r=t;r<=n;r++)o.lines[r-t]=this.host.createVisibleLine();return this._finishRendering(o,!0,i),o}if(this._renderUntouchedLines(o,Math.max(t-o.rendLineNumberStart,0),Math.min(n-o.rendLineNumberStart,o.linesLength-1),i,t),o.rendLineNumberStart>t)(l=t)<=(a=Math.min(n,o.rendLineNumberStart-1))&&(this._insertLinesBefore(o,l,a,i,t),o.linesLength+=a-l+1);else if(o.rendLineNumberStart<t){(s=Math.min(o.linesLength,t-o.rendLineNumberStart))>0&&(this._removeLinesBefore(o,s),o.linesLength-=s)}if(o.rendLineNumberStart=t,o.rendLineNumberStart+o.linesLength-1<n)(l=o.rendLineNumberStart+o.linesLength)<=(a=n)&&(this._insertLinesAfter(o,l,a,i,t),o.linesLength+=a-l+1);else if(o.rendLineNumberStart+o.linesLength-1>n){var a,s,l=Math.max(0,n-o.rendLineNumberStart+1);(s=(a=o.linesLength-1)-l+1)>0&&(this._removeLinesAfter(o,s),o.linesLength-=s)}return this._finishRendering(o,!1,i),o},e.prototype._renderUntouchedLines=function(e,t,n,i,o){for(var r=e.rendLineNumberStart,a=e.lines,s=t;s<=n;s++){var l=r+s;a[s].layoutLine(l,i[l-o])}},e.prototype._insertLinesBefore=function(e,t,n,i,o){for(var r=[],a=0,s=t;s<=n;s++)r[a++]=this.host.createVisibleLine();e.lines=r.concat(e.lines)},e.prototype._removeLinesBefore=function(e,t){for(var n=0;n<t;n++){var i=e.lines[n].getDomNode();i&&this.domNode.removeChild(i)}e.lines.splice(0,t)},e.prototype._insertLinesAfter=function(e,t,n,i,o){for(var r=[],a=0,s=t;s<=n;s++)r[a++]=this.host.createVisibleLine();e.lines=e.lines.concat(r)},e.prototype._removeLinesAfter=function(e,t){for(var n=e.linesLength-t,i=0;i<t;i++){var o=e.lines[n+i].getDomNode();o&&this.domNode.removeChild(o)}e.lines.splice(n,t)},e.prototype._finishRenderingNewLines=function(e,t,n,i){var o=this.domNode.lastChild;t||!o?this.domNode.innerHTML=n:o.insertAdjacentHTML("afterend",n);for(var r=this.domNode.lastChild,a=e.linesLength-1;a>=0;a--){var s=e.lines[a];i[a]&&(s.setDomNode(r),r=r.previousSibling)}},e.prototype._finishRenderingInvalidLines=function(e,t,n){var i=document.createElement("div");i.innerHTML=t;for(var o=0;o<e.linesLength;o++){var r=e.lines[o];if(n[o]){var a=i.firstChild,s=r.getDomNode();s.parentNode.replaceChild(a,s),r.setDomNode(a)}}},e.prototype._finishRendering=function(t,n,i){var o=e._sb,r=t.linesLength,a=t.lines,s=t.rendLineNumberStart,l=[];o.reset();for(var c=!1,u=0;u<r;u++){var d=a[u];if(l[u]=!1,!d.getDomNode())d.renderLine(u+s,i[u],this.viewportData,o)&&(l[u]=!0,c=!0)}c&&this._finishRenderingNewLines(t,n,o.build(),l),o.reset();var h=!1,f=[];for(u=0;u<r;u++){d=a[u];if(f[u]=!1,!l[u])d.renderLine(u+s,i[u],this.viewportData,o)&&(f[u]=!0,h=!0)}h&&this._finishRenderingInvalidLines(t,o.build(),f)},e._sb=Object(dn.a)(1e5),e}(),mn=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),gn=function(e){function t(t){var n=e.call(this,t)||this;return n._visibleLines=new fn(n),n.domNode=n._visibleLines.domNode,n._dynamicOverlays=[],n._isFocused=!1,n.domNode.setClassName("view-overlays"),n}return mn(t,e),t.prototype.shouldRender=function(){if(e.prototype.shouldRender.call(this))return!0;for(var t=0,n=this._dynamicOverlays.length;t<n;t++){if(this._dynamicOverlays[t].shouldRender())return!0}return!1},t.prototype.dispose=function(){e.prototype.dispose.call(this);for(var t=0,n=this._dynamicOverlays.length;t<n;t++){this._dynamicOverlays[t].dispose()}this._dynamicOverlays=null},t.prototype.getDomNode=function(){return this.domNode},t.prototype.createVisibleLine=function(){return new bn(this._context.configuration,this._dynamicOverlays)},t.prototype.addDynamicOverlay=function(e){this._dynamicOverlays.push(e)},t.prototype.onConfigurationChanged=function(e){this._visibleLines.onConfigurationChanged(e);for(var t=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber(),i=t;i<=n;i++){this._visibleLines.getVisibleLine(i).onConfigurationChanged(e)}return!0},t.prototype.onFlushed=function(e){return this._visibleLines.onFlushed(e)},t.prototype.onFocusChanged=function(e){return this._isFocused=e.isFocused,!0},t.prototype.onLinesChanged=function(e){return this._visibleLines.onLinesChanged(e)},t.prototype.onLinesDeleted=function(e){return this._visibleLines.onLinesDeleted(e)},t.prototype.onLinesInserted=function(e){return this._visibleLines.onLinesInserted(e)},t.prototype.onScrollChanged=function(e){return this._visibleLines.onScrollChanged(e)||!0},t.prototype.onTokensChanged=function(e){return this._visibleLines.onTokensChanged(e)},t.prototype.onZonesChanged=function(e){return this._visibleLines.onZonesChanged(e)},t.prototype.prepareRender=function(e){for(var t=this._dynamicOverlays.filter(function(e){return e.shouldRender()}),n=0,i=t.length;n<i;n++){var o=t[n];o.prepareRender(e),o.onDidRender()}return null},t.prototype.render=function(e){this._viewOverlaysRender(e),this.domNode.toggleClassName("focused",this._isFocused)},t.prototype._viewOverlaysRender=function(e){this._visibleLines.renderLines(e.viewportData)},t}(Ke),bn=function(){function e(e,t){this._configuration=e,this._lineHeight=this._configuration.editor.lineHeight,this._dynamicOverlays=t,this._domNode=null,this._renderedContent=null}return e.prototype.getDomNode=function(){return this._domNode?this._domNode.domNode:null},e.prototype.setDomNode=function(e){this._domNode=Object(We.b)(e)},e.prototype.onContentChanged=function(){},e.prototype.onTokensChanged=function(){},e.prototype.onConfigurationChanged=function(e){e.lineHeight&&(this._lineHeight=this._configuration.editor.lineHeight)},e.prototype.renderLine=function(e,t,n,i){for(var o="",r=0,a=this._dynamicOverlays.length;r<a;r++){o+=this._dynamicOverlays[r].render(n.startLineNumber,e)}return this._renderedContent!==o&&(this._renderedContent=o,i.appendASCIIString('<div style="position:absolute;top:'),i.appendASCIIString(String(t)),i.appendASCIIString("px;width:100%;height:"),i.appendASCIIString(String(this._lineHeight)),i.appendASCIIString('px;">'),i.appendASCIIString(o),i.appendASCIIString("</div>"),!0)},e.prototype.layoutLine=function(e,t){this._domNode&&(this._domNode.setTop(t),this._domNode.setHeight(this._lineHeight))},e}(),yn=function(e){function t(t){var n=e.call(this,t)||this;return n._contentWidth=n._context.configuration.editor.layoutInfo.contentWidth,n.domNode.setHeight(0),n}return mn(t,e),t.prototype.onConfigurationChanged=function(t){return t.layoutInfo&&(this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth),e.prototype.onConfigurationChanged.call(this,t)},t.prototype.onScrollChanged=function(t){return e.prototype.onScrollChanged.call(this,t)||t.scrollWidthChanged},t.prototype._viewOverlaysRender=function(t){e.prototype._viewOverlaysRender.call(this,t),this.domNode.setWidth(Math.max(t.scrollWidth,this._contentWidth))},t}(gn),vn=function(e){function t(t){var n=e.call(this,t)||this;return n._contentLeft=n._context.configuration.editor.layoutInfo.contentLeft,n.domNode.setClassName("margin-view-overlays"),n.domNode.setWidth(1),f.a.applyFontInfo(n.domNode,n._context.configuration.editor.fontInfo),n}return mn(t,e),t.prototype.onConfigurationChanged=function(t){var n=!1;return t.fontInfo&&(f.a.applyFontInfo(this.domNode,this._context.configuration.editor.fontInfo),n=!0),t.layoutInfo&&(this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft,n=!0),e.prototype.onConfigurationChanged.call(this,t)||n},t.prototype.onScrollChanged=function(t){return e.prototype.onScrollChanged.call(this,t)||t.scrollHeightChanged},t.prototype._viewOverlaysRender=function(t){e.prototype._viewOverlaysRender.call(this,t);var n=Math.min(t.scrollHeight,1e6);this.domNode.setHeight(n),this.domNode.setWidth(this._contentLeft)},t}(gn),wn=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_n=function(){return function(e,t){this.top=e,this.left=t}}(),Sn=function(e){function t(t,n){var i=e.call(this,t)||this;return i._viewDomNode=n,i._widgets={},i.domNode=Object(We.b)(document.createElement("div")),Ye.write(i.domNode,1),i.domNode.setClassName("contentWidgets"),i.domNode.setPosition("absolute"),i.domNode.setTop(0),i.overflowingContentWidgetsDomNode=Object(We.b)(document.createElement("div")),Ye.write(i.overflowingContentWidgetsDomNode,2),i.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets"),i}return wn(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._widgets=null,this.domNode=null},t.prototype.onConfigurationChanged=function(e){for(var t=Object.keys(this._widgets),n=0,i=t.length;n<i;n++){var o=t[n];this._widgets[o].onConfigurationChanged(e)}return!0},t.prototype.onDecorationsChanged=function(e){return!0},t.prototype.onFlushed=function(e){return!0},t.prototype.onLineMappingChanged=function(e){for(var t=Object.keys(this._widgets),n=0,i=t.length;n<i;n++){var o=t[n];this._widgets[o].onLineMappingChanged(e)}return!0},t.prototype.onLinesChanged=function(e){return!0},t.prototype.onLinesDeleted=function(e){return!0},t.prototype.onLinesInserted=function(e){return!0},t.prototype.onScrollChanged=function(e){return!0},t.prototype.onZonesChanged=function(e){return!0},t.prototype.addWidget=function(e){var t=new Cn(this._context,this._viewDomNode,e);this._widgets[t.id]=t,t.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(t.domNode):this.domNode.appendChild(t.domNode),this.setShouldRender()},t.prototype.setWidgetPosition=function(e,t,n){this._widgets[e.getId()].setPosition(t,n),this.setShouldRender()},t.prototype.removeWidget=function(e){var t=e.getId();if(this._widgets.hasOwnProperty(t)){var n=this._widgets[t];delete this._widgets[t];var i=n.domNode.domNode;i.parentNode.removeChild(i),i.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}},t.prototype.shouldSuppressMouseDownOnWidget=function(e){return!!this._widgets.hasOwnProperty(e)&&this._widgets[e].suppressMouseDown},t.prototype.onBeforeRender=function(e){for(var t=Object.keys(this._widgets),n=0,i=t.length;n<i;n++){var o=t[n];this._widgets[o].onBeforeRender(e)}},t.prototype.prepareRender=function(e){for(var t=Object.keys(this._widgets),n=0,i=t.length;n<i;n++){var o=t[n];this._widgets[o].prepareRender(e)}},t.prototype.render=function(e){for(var t=Object.keys(this._widgets),n=0,i=t.length;n<i;n++){var o=t[n];this._widgets[o].render(e)}},t}(Ke),Cn=function(){function e(e,t,n){this._context=e,this._viewDomNode=t,this._actual=n,this.domNode=Object(We.b)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1,this._fixedOverflowWidgets=this._context.configuration.editor.viewInfo.fixedOverflowWidgets,this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth,this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft,this._lineHeight=this._context.configuration.editor.lineHeight,this._setPosition(null),this._preference=null,this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}return e.prototype.onConfigurationChanged=function(e){e.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),e.layoutInfo&&(this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft,this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth,this._maxWidth=this._getMaxWidth())},e.prototype.onLineMappingChanged=function(e){this._setPosition(this._position)},e.prototype._setPosition=function(e){if(this._position=e,this._viewPosition=null,this._position){var t=this._context.model.validateModelPosition(this._position);this._context.model.coordinatesConverter.modelPositionIsVisible(t)&&(this._viewPosition=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(t))}},e.prototype._getMaxWidth=function(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:this._contentWidth},e.prototype.setPosition=function(e,t){this._setPosition(e),this._preference=t,this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1},e.prototype._layoutBoxInViewport=function(e,t,n,i){var o=e.top,r=o,a=e.top+this._lineHeight,s=o-n,l=r>=n,c=a,u=i.viewportHeight-a>=n,d=e.left;return d+t>i.scrollLeft+i.viewportWidth&&(d=i.scrollLeft+i.viewportWidth-t),d<i.scrollLeft&&(d=i.scrollLeft),{aboveTop:s,fitsAbove:l,belowTop:c,fitsBelow:u,left:d}},e.prototype._layoutBoxInPage=function(e,t,n,i){var o=e.left-i.scrollLeft;if(o<0||o>this._contentWidth)return null;var a,s=e.top-n,l=e.top+this._lineHeight,c=o+this._contentLeft,u=r.u(this._viewDomNode.domNode),d=u.top+s-r.e.scrollY,h=u.top+l-r.e.scrollY,f=u.left+c-r.e.scrollX,p=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,m=d>=22,g=h+n<=(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)-22;f+t+20>p&&(f-=a=f-(p-t-20),c-=a);f<0&&(f-=a=f,c-=a);return this._fixedOverflowWidgets&&(s=d,l=h,c=f),{aboveTop:s,fitsAbove:m,belowTop:l,fitsBelow:g,left:c}},e.prototype._prepareRenderWidgetAtExactPositionOverflowing=function(e){return new _n(e.top,e.left+this._contentLeft)},e.prototype._getTopLeft=function(e){if(!this._viewPosition)return null;var t=e.visibleRangeForPosition(this._viewPosition);if(!t)return null;var n=e.getVerticalOffsetForLineNumber(this._viewPosition.lineNumber)-e.scrollTop;return new _n(n,t.left)},e.prototype._prepareRenderWidget=function(e,t){var n=this;if(!e)return null;for(var i=null,o=function(){if(!i){if(-1===n._cachedDomNodeClientWidth||-1===n._cachedDomNodeClientHeight){var o=n.domNode.domNode;n._cachedDomNodeClientWidth=o.clientWidth,n._cachedDomNodeClientHeight=o.clientHeight}i=n.allowEditorOverflow?n._layoutBoxInPage(e,n._cachedDomNodeClientWidth,n._cachedDomNodeClientHeight,t):n._layoutBoxInViewport(e,n._cachedDomNodeClientWidth,n._cachedDomNodeClientHeight,t)}},r=1;r<=2;r++)for(var a=0;a<this._preference.length;a++){var s=this._preference[a];if(s===ct.a.ABOVE){if(o(),!i)return null;if(2===r||i.fitsAbove)return new _n(i.aboveTop,i.left)}else{if(s!==ct.a.BELOW)return this.allowEditorOverflow?this._prepareRenderWidgetAtExactPositionOverflowing(e):e;if(o(),!i)return null;if(2===r||i.fitsBelow)return new _n(i.belowTop,i.left)}}return null},e.prototype.onBeforeRender=function(e){this._viewPosition&&this._preference&&(this._viewPosition.lineNumber<e.startLineNumber||this._viewPosition.lineNumber>e.endLineNumber||this.domNode.setMaxWidth(this._maxWidth))},e.prototype.prepareRender=function(e){var t=this._getTopLeft(e);this._renderData=this._prepareRenderWidget(t,e)},e.prototype.render=function(e){this._renderData?(this.allowEditorOverflow?(this.domNode.setTop(this._renderData.top),this.domNode.setLeft(this._renderData.left)):(this.domNode.setTop(this._renderData.top+e.scrollTop-e.bigNumbersDelta),this.domNode.setLeft(this._renderData.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0)):this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden"))},e}(),xn=(n(367),function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),kn=function(e){function t(t){var n=e.call(this)||this;return n._context=t,n._lineHeight=n._context.configuration.editor.lineHeight,n._renderLineHighlight=n._context.configuration.editor.viewInfo.renderLineHighlight,n._selectionIsEmpty=!0,n._primaryCursorLineNumber=1,n._scrollWidth=0,n._contentWidth=n._context.configuration.editor.layoutInfo.contentWidth,n._context.addEventHandler(n),n}return xn(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,e.prototype.dispose.call(this)},t.prototype.onConfigurationChanged=function(e){return e.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),e.viewInfo&&(this._renderLineHighlight=this._context.configuration.editor.viewInfo.renderLineHighlight),e.layoutInfo&&(this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth),!0},t.prototype.onCursorStateChanged=function(e){var t=!1,n=e.selections[0].positionLineNumber;this._primaryCursorLineNumber!==n&&(this._primaryCursorLineNumber=n,t=!0);var i=e.selections[0].isEmpty();return this._selectionIsEmpty!==i?(this._selectionIsEmpty=i,t=!0,!0):t},t.prototype.onFlushed=function(e){return!0},t.prototype.onLinesDeleted=function(e){return!0},t.prototype.onLinesInserted=function(e){return!0},t.prototype.onScrollChanged=function(e){return e.scrollWidthChanged},t.prototype.onZonesChanged=function(e){return!0},t.prototype.prepareRender=function(e){this._scrollWidth=e.scrollWidth},t.prototype.render=function(e,t){return t===this._primaryCursorLineNumber&&this._shouldShowCurrentLine()?'<div class="'+("current-line"+(this._willRenderMarginCurrentLine()?" current-line-both":""))+'" style="width:'+String(Math.max(this._scrollWidth,this._contentWidth))+"px; height:"+String(this._lineHeight)+'px;"></div>':""},t.prototype._shouldShowCurrentLine=function(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty},t.prototype._willRenderMarginCurrentLine=function(){return"gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight},t}(Je);Object(je.e)(function(e,t){var n=e.getColor(Xe.o);if(n&&t.addRule(".monaco-editor .view-overlays .current-line { background-color: "+n+"; }"),!n||n.isTransparent()||e.defines(Xe.p)){var i=e.getColor(Xe.p);i&&(t.addRule(".monaco-editor .view-overlays .current-line { border: 2px solid "+i+"; }"),"hc"===e.type&&t.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"))}});n(369);var Tn=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),On=function(e){function t(t){var n=e.call(this)||this;return n._context=t,n._lineHeight=n._context.configuration.editor.lineHeight,n._renderLineHighlight=n._context.configuration.editor.viewInfo.renderLineHighlight,n._selectionIsEmpty=!0,n._primaryCursorLineNumber=1,n._contentLeft=n._context.configuration.editor.layoutInfo.contentLeft,n._context.addEventHandler(n),n}return Tn(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,e.prototype.dispose.call(this)},t.prototype.onConfigurationChanged=function(e){return e.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),e.viewInfo&&(this._renderLineHighlight=this._context.configuration.editor.viewInfo.renderLineHighlight),e.layoutInfo&&(this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft),!0},t.prototype.onCursorStateChanged=function(e){var t=!1,n=e.selections[0].positionLineNumber;this._primaryCursorLineNumber!==n&&(this._primaryCursorLineNumber=n,t=!0);var i=e.selections[0].isEmpty();return this._selectionIsEmpty!==i?(this._selectionIsEmpty=i,t=!0,!0):t},t.prototype.onFlushed=function(e){return!0},t.prototype.onLinesDeleted=function(e){return!0},t.prototype.onLinesInserted=function(e){return!0},t.prototype.onZonesChanged=function(e){return!0},t.prototype.prepareRender=function(e){},t.prototype.render=function(e,t){if(t===this._primaryCursorLineNumber){var n="current-line";if(this._shouldShowCurrentLine())n="current-line current-line-margin"+(this._willRenderContentCurrentLine()?" current-line-margin-both":"");return'<div class="'+n+'" style="width:'+String(this._contentLeft)+"px; height:"+String(this._lineHeight)+'px;"></div>'}return""},t.prototype._shouldShowCurrentLine=function(){return"gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight},t.prototype._willRenderContentCurrentLine=function(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty},t}(Je);Object(je.e)(function(e,t){var n=e.getColor(Xe.o);if(n)t.addRule(".monaco-editor .margin-view-overlays .current-line-margin { background-color: "+n+"; border: none; }");else{var i=e.getColor(Xe.p);i&&t.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid "+i+"; }"),"hc"===e.type&&t.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")}});n(371);var Nn=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ln=function(e){function t(t){var n=e.call(this)||this;return n._context=t,n._lineHeight=n._context.configuration.editor.lineHeight,n._typicalHalfwidthCharacterWidth=n._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,n._renderResult=null,n._context.addEventHandler(n),n}return Nn(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._renderResult=null,e.prototype.dispose.call(this)},t.prototype.onConfigurationChanged=function(e){return e.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),e.fontInfo&&(this._typicalHalfwidthCharacterWidth=this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth),!0},t.prototype.onDecorationsChanged=function(e){return!0},t.prototype.onFlushed=function(e){return!0},t.prototype.onLinesChanged=function(e){return!0},t.prototype.onLinesDeleted=function(e){return!0},t.prototype.onLinesInserted=function(e){return!0},t.prototype.onScrollChanged=function(e){return e.scrollTopChanged||e.scrollWidthChanged},t.prototype.onZonesChanged=function(e){return!0},t.prototype.prepareRender=function(e){for(var t=e.getDecorationsInViewport(),n=[],i=0,o=0,r=t.length;o<r;o++){var a=t[o];a.options.className&&(n[i++]=a)}n=n.sort(function(e,t){if(e.options.zIndex<t.options.zIndex)return-1;if(e.options.zIndex>t.options.zIndex)return 1;var n=e.options.className,i=t.options.className;return n<i?-1:n>i?1:b.a.compareRangesUsingStarts(e.range,t.range)});for(var s=e.visibleRange.startLineNumber,l=e.visibleRange.endLineNumber,c=[],u=s;u<=l;u++){c[u-s]=""}this._renderWholeLineDecorations(e,n,c),this._renderNormalDecorations(e,n,c),this._renderResult=c},t.prototype._renderWholeLineDecorations=function(e,t,n){for(var i=String(this._lineHeight),o=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber,a=0,s=t.length;a<s;a++){var l=t[a];if(l.options.isWholeLine)for(var c='<div class="cdr '+l.options.className+'" style="left:0;width:100%;height:'+i+'px;"></div>',u=Math.max(l.range.startLineNumber,o),d=Math.min(l.range.endLineNumber,r),h=u;h<=d;h++){n[h-o]+=c}}},t.prototype._renderNormalDecorations=function(e,t,n){for(var i=String(this._lineHeight),o=e.visibleRange.startLineNumber,r=null,a=!1,s=null,l=0,c=t.length;l<c;l++){var u=t[l];if(!u.options.isWholeLine){var d=u.options.className,h=u.options.showIfCollapsed,f=u.range;h&&1===f.endColumn&&f.endLineNumber!==f.startLineNumber&&(f=new b.a(f.startLineNumber,f.startColumn,f.endLineNumber-1,this._context.model.getLineMaxColumn(f.endLineNumber-1))),r===d&&a===h&&b.a.areIntersectingOrTouching(s,f)?s=b.a.plusRange(s,f):(null!==r&&this._renderNormalDecoration(e,s,r,a,i,o,n),r=d,a=h,s=f)}}null!==r&&this._renderNormalDecoration(e,s,r,a,i,o,n)},t.prototype._renderNormalDecoration=function(e,t,n,i,o,r,a){var s=e.linesVisibleRangesForRange(t,"findMatch"===n);if(s)for(var l=0,c=s.length;l<c;l++){var u=s[l],d=u.lineNumber-r;if(i&&1===u.ranges.length){var h=u.ranges[0];0===h.width&&(u.ranges[0]=new kt(h.left,this._typicalHalfwidthCharacterWidth))}for(var f=0,p=u.ranges.length;f<p;f++){var m=u.ranges[f],g='<div class="cdr '+n+'" style="left:'+String(m.left)+"px;width:"+String(m.width)+"px;height:"+o+'px;"></div>';a[d]+=g}}},t.prototype.render=function(e,t){if(!this._renderResult)return"";var n=t-e;return n<0||n>=this._renderResult.length?"":this._renderResult[n]},t}(Je),In=(n(373),function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),En=function(){return function(e,t,n){this.startLineNumber=+e,this.endLineNumber=+t,this.className=String(n)}}(),Dn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return In(t,e),t.prototype._render=function(e,t,n){for(var i=[],o=e;o<=t;o++){i[o-e]=[]}if(0===n.length)return i;n.sort(function(e,t){return e.className===t.className?e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber:e.className<t.className?-1:1});for(var r=null,a=0,s=0,l=n.length;s<l;s++){var c=n[s],u=c.className,d=Math.max(c.startLineNumber,e)-e,h=Math.min(c.endLineNumber,t)-e;r===u?(d=Math.max(a+1,d),a=Math.max(a,h)):(r=u,a=h);for(var f=d;f<=a;f++)i[f].push(r)}return i},t}(Je),An=function(e){function t(t){var n=e.call(this)||this;return n._context=t,n._lineHeight=n._context.configuration.editor.lineHeight,n._glyphMargin=n._context.configuration.editor.viewInfo.glyphMargin,n._glyphMarginLeft=n._context.configuration.editor.layoutInfo.glyphMarginLeft,n._glyphMarginWidth=n._context.configuration.editor.layoutInfo.glyphMarginWidth,n._renderResult=null,n._context.addEventHandler(n),n}return In(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._renderResult=null,e.prototype.dispose.call(this)},t.prototype.onConfigurationChanged=function(e){return e.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),e.viewInfo&&(this._glyphMargin=this._context.configuration.editor.viewInfo.glyphMargin),e.layoutInfo&&(this._glyphMarginLeft=this._context.configuration.editor.layoutInfo.glyphMarginLeft,this._glyphMarginWidth=this._context.configuration.editor.layoutInfo.glyphMarginWidth),!0},t.prototype.onDecorationsChanged=function(e){return!0},t.prototype.onFlushed=function(e){return!0},t.prototype.onLinesChanged=function(e){return!0},t.prototype.onLinesDeleted=function(e){return!0},t.prototype.onLinesInserted=function(e){return!0},t.prototype.onScrollChanged=function(e){return e.scrollTopChanged},t.prototype.onZonesChanged=function(e){return!0},t.prototype._getDecorations=function(e){for(var t=e.getDecorationsInViewport(),n=[],i=0,o=0,r=t.length;o<r;o++){var a=t[o],s=a.options.glyphMarginClassName;s&&(n[i++]=new En(a.range.startLineNumber,a.range.endLineNumber,s))}return n},t.prototype.prepareRender=function(e){if(this._glyphMargin){for(var t=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,i=this._render(t,n,this._getDecorations(e)),o=this._lineHeight.toString(),r='" style="left:'+this._glyphMarginLeft.toString()+"px;width:"+this._glyphMarginWidth.toString()+"px;height:"+o+'px;"></div>',a=[],s=t;s<=n;s++){var l=s-t,c=i[l];0===c.length?a[l]="":a[l]='<div class="cgmr '+c.join(" ")+r}this._renderResult=a}else this._renderResult=null},t.prototype.render=function(e,t){if(!this._renderResult)return"";var n=t-e;return n<0||n>=this._renderResult.length?"":this._renderResult[n]},t}(Dn),Mn=(n(375),function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),Pn=function(e){function t(t){var n=e.call(this)||this;return n._context=t,n._primaryLineNumber=0,n._lineHeight=n._context.configuration.editor.lineHeight,n._spaceWidth=n._context.configuration.editor.fontInfo.spaceWidth,n._enabled=n._context.configuration.editor.viewInfo.renderIndentGuides,n._activeIndentEnabled=n._context.configuration.editor.viewInfo.highlightActiveIndentGuide,n._renderResult=null,n._context.addEventHandler(n),n}return Mn(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._renderResult=null,e.prototype.dispose.call(this)},t.prototype.onConfigurationChanged=function(e){return e.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),e.fontInfo&&(this._spaceWidth=this._context.configuration.editor.fontInfo.spaceWidth),e.viewInfo&&(this._enabled=this._context.configuration.editor.viewInfo.renderIndentGuides,this._activeIndentEnabled=this._context.configuration.editor.viewInfo.highlightActiveIndentGuide),!0},t.prototype.onCursorStateChanged=function(e){var t=e.selections[0],n=t.isEmpty()?t.positionLineNumber:0;return this._primaryLineNumber!==n&&(this._primaryLineNumber=n,!0)},t.prototype.onDecorationsChanged=function(e){return!0},t.prototype.onFlushed=function(e){return!0},t.prototype.onLinesChanged=function(e){return!0},t.prototype.onLinesDeleted=function(e){return!0},t.prototype.onLinesInserted=function(e){return!0},t.prototype.onScrollChanged=function(e){return e.scrollTopChanged},t.prototype.onZonesChanged=function(e){return!0},t.prototype.onLanguageConfigurationChanged=function(e){return!0},t.prototype.prepareRender=function(e){if(this._enabled){var t=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,i=this._context.model.getTabSize()*this._spaceWidth,o=e.scrollWidth,r=this._lineHeight,a=i,s=this._context.model.getLinesIndentGuides(t,n),l=0,c=0,u=0;if(this._activeIndentEnabled&&this._primaryLineNumber){var d=this._context.model.getActiveIndentGuide(this._primaryLineNumber,t,n);l=d.startLineNumber,c=d.endLineNumber,u=d.indent}for(var h=[],f=t;f<=n;f++){for(var p=l<=f&&f<=c,m=f-t,b=s[m],y="",v=e.visibleRangeForPosition(new g.a(f,1)),w=v?v.left:0,_=1;_<=b;_++){if(y+='<div class="'+(p&&_===u?"cigra":"cigr")+'" style="left:'+w+"px;height:"+r+"px;width:"+a+'px"></div>',(w+=i)>o)break}h[m]=y}this._renderResult=h}else this._renderResult=null},t.prototype.render=function(e,t){if(!this._renderResult)return"";var n=t-e;return n<0||n>=this._renderResult.length?"":this._renderResult[n]},t}(Je);Object(je.e)(function(e,t){var n=e.getColor(Xe.l);n&&t.addRule(".monaco-editor .lines-content .cigr { box-shadow: 1px 0 0 0 "+n+" inset; }");var i=e.getColor(Xe.a)||n;i&&t.addRule(".monaco-editor .lines-content .cigra { box-shadow: 1px 0 0 0 "+i+" inset; }")});n(377);var Rn=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Fn=function(){function e(){this._currentVisibleRange=new b.a(1,1,1,1)}return e.prototype.getCurrentVisibleRange=function(){return this._currentVisibleRange},e.prototype.setCurrentVisibleRange=function(e){this._currentVisibleRange=e},e}(),jn=function(){return function(e,t,n,i,o,r){this.lineNumber=e,this.startColumn=t,this.endColumn=n,this.startScrollTop=i,this.stopScrollTop=o,this.scrollType=r}}(),Wn=function(e){function t(t,n){var i=e.call(this,t)||this;i._linesContent=n,i._textRangeRestingSpot=document.createElement("div"),i._visibleLines=new fn(i),i.domNode=i._visibleLines.domNode;var o=i._context.configuration;return i._lineHeight=o.editor.lineHeight,i._typicalHalfwidthCharacterWidth=o.editor.fontInfo.typicalHalfwidthCharacterWidth,i._isViewportWrapping=o.editor.wrappingInfo.isViewportWrapping,i._revealHorizontalRightPadding=o.editor.viewInfo.revealHorizontalRightPadding,i._canUseLayerHinting=o.editor.canUseLayerHinting,i._viewLineOptions=new Dt(o,i._context.theme.type),Ye.write(i.domNode,7),i.domNode.setClassName("view-lines"),f.a.applyFontInfo(i.domNode,o.editor.fontInfo),i._maxLineWidth=0,i._asyncUpdateLineWidths=new Yt.c(function(){i._updateLineWidthsSlow()},200),i._lastRenderedData=new Fn,i._horizontalRevealRequest=null,i}return Rn(t,e),t.prototype.dispose=function(){this._asyncUpdateLineWidths.dispose(),e.prototype.dispose.call(this)},t.prototype.getDomNode=function(){return this.domNode},t.prototype.createVisibleLine=function(){return new At(this._viewLineOptions)},t.prototype.onConfigurationChanged=function(e){this._visibleLines.onConfigurationChanged(e),e.wrappingInfo&&(this._maxLineWidth=0);var t=this._context.configuration;return e.lineHeight&&(this._lineHeight=t.editor.lineHeight),e.fontInfo&&(this._typicalHalfwidthCharacterWidth=t.editor.fontInfo.typicalHalfwidthCharacterWidth),e.wrappingInfo&&(this._isViewportWrapping=t.editor.wrappingInfo.isViewportWrapping),e.viewInfo&&(this._revealHorizontalRightPadding=t.editor.viewInfo.revealHorizontalRightPadding),e.canUseLayerHinting&&(this._canUseLayerHinting=t.editor.canUseLayerHinting),e.fontInfo&&f.a.applyFontInfo(this.domNode,t.editor.fontInfo),this._onOptionsMaybeChanged(),e.layoutInfo&&(this._maxLineWidth=0),!0},t.prototype._onOptionsMaybeChanged=function(){var e=this._context.configuration,t=new Dt(e,this._context.theme.type);if(!this._viewLineOptions.equals(t)){this._viewLineOptions=t;for(var n=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber(),o=n;o<=i;o++){this._visibleLines.getVisibleLine(o).onOptionsChanged(this._viewLineOptions)}return!0}return!1},t.prototype.onCursorStateChanged=function(e){for(var t=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber(),i=!1,o=t;o<=n;o++)i=this._visibleLines.getVisibleLine(o).onSelectionChanged()||i;return i},t.prototype.onDecorationsChanged=function(e){for(var t=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber(),i=t;i<=n;i++)this._visibleLines.getVisibleLine(i).onDecorationsChanged();return!0},t.prototype.onFlushed=function(e){var t=this._visibleLines.onFlushed(e);return this._maxLineWidth=0,t},t.prototype.onLinesChanged=function(e){return this._visibleLines.onLinesChanged(e)},t.prototype.onLinesDeleted=function(e){return this._visibleLines.onLinesDeleted(e)},t.prototype.onLinesInserted=function(e){return this._visibleLines.onLinesInserted(e)},t.prototype.onRevealRangeRequest=function(e){var t=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),e.range,e.verticalType),n=this._context.viewLayout.validateScrollPosition({scrollTop:t});e.revealHorizontal?e.range.startLineNumber!==e.range.endLineNumber?n={scrollTop:n.scrollTop,scrollLeft:0}:this._horizontalRevealRequest=new jn(e.range.startLineNumber,e.range.startColumn,e.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),n.scrollTop,e.scrollType):this._horizontalRevealRequest=null;var i=Math.abs(this._context.viewLayout.getCurrentScrollTop()-n.scrollTop);return 0===e.scrollType&&i>this._lineHeight?this._context.viewLayout.setScrollPositionSmooth(n):this._context.viewLayout.setScrollPositionNow(n),!0},t.prototype.onScrollChanged=function(e){if(this._horizontalRevealRequest&&e.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&e.scrollTopChanged){var t=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),n=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(e.scrollTop<t||e.scrollTop>n)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(e.scrollWidth),this._visibleLines.onScrollChanged(e)||!0},t.prototype.onTokensChanged=function(e){return this._visibleLines.onTokensChanged(e)},t.prototype.onZonesChanged=function(e){return this._context.viewLayout.onMaxLineWidthChanged(this._maxLineWidth),this._visibleLines.onZonesChanged(e)},t.prototype.onThemeChanged=function(e){return this._onOptionsMaybeChanged()},t.prototype.getPositionFromDOMInfo=function(e,t){var n=this._getViewLineDomNode(e);if(null===n)return null;var i=this._getLineNumberFor(n);if(-1===i)return null;if(i<1||i>this._context.model.getLineCount())return null;if(1===this._context.model.getLineMaxColumn(i))return new g.a(i,1);var o=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();if(i<o||i>r)return null;var a=this._visibleLines.getVisibleLine(i).getColumnOfNodeOffset(i,e,t),s=this._context.model.getLineMinColumn(i);return a<s&&(a=s),new g.a(i,a)},t.prototype._getViewLineDomNode=function(e){for(;e&&1===e.nodeType;){if(e.className===At.CLASS_NAME)return e;e=e.parentElement}return null},t.prototype._getLineNumberFor=function(e){for(var t=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber(),i=t;i<=n;i++){if(e===this._visibleLines.getVisibleLine(i).getDomNode())return i}return-1},t.prototype.getLineWidth=function(e){var t=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();return e<t||e>n?-1:this._visibleLines.getVisibleLine(e).getWidth()},t.prototype.linesVisibleRangesForRange=function(e,t){if(this.shouldRender())return null;var n=e.endLineNumber;if(!(e=b.a.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange())))return null;var i,o=[],r=0,a=new Et(this.domNode.domNode,this._textRangeRestingSpot);t&&(i=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new g.a(e.startLineNumber,1)).lineNumber);for(var s=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber(),c=e.startLineNumber;c<=e.endLineNumber;c++)if(!(c<s||c>l)){var u=c===e.startLineNumber?e.startColumn:1,d=c===e.endLineNumber?e.endColumn:this._context.model.getLineMaxColumn(c),h=this._visibleLines.getVisibleLine(c).getVisibleRangesForRange(u,d,a);if(h&&0!==h.length){if(t&&c<n)i!==(i=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new g.a(c+1,1)).lineNumber)&&(h[h.length-1].width+=this._typicalHalfwidthCharacterWidth);o[r++]=new xt(c,h)}}return 0===r?null:o},t.prototype.visibleRangesForRange2=function(e){if(this.shouldRender())return null;if(!(e=b.a.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange())))return null;for(var t=[],n=new Et(this.domNode.domNode,this._textRangeRestingSpot),i=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber(),r=e.startLineNumber;r<=e.endLineNumber;r++)if(!(r<i||r>o)){var a=r===e.startLineNumber?e.startColumn:1,s=r===e.endLineNumber?e.endColumn:this._context.model.getLineMaxColumn(r),l=this._visibleLines.getVisibleLine(r).getVisibleRangesForRange(a,s,n);l&&0!==l.length&&(t=t.concat(l))}return 0===t.length?null:t},t.prototype.updateLineWidths=function(){this._updateLineWidths(!1)},t.prototype._updateLineWidthsFast=function(){return this._updateLineWidths(!0)},t.prototype._updateLineWidthsSlow=function(){this._updateLineWidths(!1)},t.prototype._updateLineWidths=function(e){for(var t=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber(),i=1,o=!0,r=t;r<=n;r++){var a=this._visibleLines.getVisibleLine(r);!e||a.getWidthIsFast()?i=Math.max(i,a.getWidth()):o=!1}return o&&1===t&&n===this._context.model.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(i),o},t.prototype.prepareRender=function(){throw new Error("Not supported")},t.prototype.render=function(){throw new Error("Not supported")},t.prototype.renderText=function(e){if(this._visibleLines.renderLines(e),this._lastRenderedData.setCurrentVisibleRange(e.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){var t=this._horizontalRevealRequest.lineNumber,n=this._horizontalRevealRequest.startColumn,i=this._horizontalRevealRequest.endColumn,o=this._horizontalRevealRequest.scrollType;if(e.startLineNumber<=t&&t<=e.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();var r=this._computeScrollLeftToRevealRange(t,n,i);this._isViewportWrapping||this._ensureMaxLineWidth(r.maxHorizontalOffset),0===o?this._context.viewLayout.setScrollPositionSmooth({scrollLeft:r.scrollLeft}):this._context.viewLayout.setScrollPositionNow({scrollLeft:r.scrollLeft})}}this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),this._linesContent.setLayerHinting(this._canUseLayerHinting);var a=this._context.viewLayout.getCurrentScrollTop()-e.bigNumbersDelta;this._linesContent.setTop(-a),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())},t.prototype._ensureMaxLineWidth=function(e){var t=Math.ceil(e);this._maxLineWidth<t&&(this._maxLineWidth=t,this._context.viewLayout.onMaxLineWidthChanged(this._maxLineWidth))},t.prototype._computeScrollTopToRevealRange=function(e,t,n){var i,o,r,a=e.top,s=e.height,l=a+s;if(i=this._context.viewLayout.getVerticalOffsetForLineNumber(t.startLineNumber),o=this._context.viewLayout.getVerticalOffsetForLineNumber(t.endLineNumber)+this._lineHeight,0!==n&&4!==n||(o+=this._lineHeight),1===n||2===n)if(2===n&&a<=i&&o<=l)r=a;else{var c=(i+o)/2;r=Math.max(0,c-s/2)}else r=this._computeMinimumScrolling(a,l,i,o,3===n,4===n);return r},t.prototype._computeScrollLeftToRevealRange=function(e,n,i){var o=0,r=this._context.viewLayout.getCurrentViewport(),a=r.left,s=a+r.width,l=this.visibleRangesForRange2(new b.a(e,n,e,i)),c=Number.MAX_VALUE,u=0;if(!l)return{scrollLeft:a,maxHorizontalOffset:o};for(var d=0;d<l.length;d++){var h=l[d];h.left<c&&(c=h.left),h.left+h.width>u&&(u=h.left+h.width)}return o=u,c=Math.max(0,c-t.HORIZONTAL_EXTRA_PX),u+=this._revealHorizontalRightPadding,{scrollLeft:this._computeMinimumScrolling(a,s,c,u),maxHorizontalOffset:o}},t.prototype._computeMinimumScrolling=function(e,t,n,i,o,r){o=!!o,r=!!r;var a=(t|=0)-(e|=0);return(i|=0)-(n|=0)<a?o?n:r?Math.max(0,i-a):n<e?n:i>t?Math.max(0,i-a):e:n},t.HORIZONTAL_EXTRA_PX=30,t}(Ke),Vn=(n(379),function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),Bn=function(e){function t(t){var n=e.call(this)||this;return n._context=t,n._decorationsLeft=n._context.configuration.editor.layoutInfo.decorationsLeft,n._decorationsWidth=n._context.configuration.editor.layoutInfo.decorationsWidth,n._renderResult=null,n._context.addEventHandler(n),n}return Vn(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._renderResult=null,e.prototype.dispose.call(this)},t.prototype.onConfigurationChanged=function(e){return e.layoutInfo&&(this._decorationsLeft=this._context.configuration.editor.layoutInfo.decorationsLeft,this._decorationsWidth=this._context.configuration.editor.layoutInfo.decorationsWidth),!0},t.prototype.onDecorationsChanged=function(e){return!0},t.prototype.onFlushed=function(e){return!0},t.prototype.onLinesChanged=function(e){return!0},t.prototype.onLinesDeleted=function(e){return!0},t.prototype.onLinesInserted=function(e){return!0},t.prototype.onScrollChanged=function(e){return e.scrollTopChanged},t.prototype.onZonesChanged=function(e){return!0},t.prototype._getDecorations=function(e){for(var t=e.getDecorationsInViewport(),n=[],i=0,o=0,r=t.length;o<r;o++){var a=t[o],s=a.options.linesDecorationsClassName;s&&(n[i++]=new En(a.range.startLineNumber,a.range.endLineNumber,s))}return n},t.prototype.prepareRender=function(e){for(var t=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,i=this._render(t,n,this._getDecorations(e)),o='" style="left:'+this._decorationsLeft.toString()+"px;width:"+this._decorationsWidth.toString()+'px;"></div>',r=[],a=t;a<=n;a++){for(var s=a-t,l=i[s],c="",u=0,d=l.length;u<d;u++)c+='<div class="cldr '+l[u]+o;r[s]=c}this._renderResult=r},t.prototype.render=function(e,t){return this._renderResult?this._renderResult[t-e]:""},t}(Dn),Hn=(n(381),function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),zn=function(e){function t(t){var n=e.call(this)||this;return n._context=t,n._renderResult=null,n._context.addEventHandler(n),n}return Hn(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._renderResult=null,e.prototype.dispose.call(this)},t.prototype.onConfigurationChanged=function(e){return!0},t.prototype.onDecorationsChanged=function(e){return!0},t.prototype.onFlushed=function(e){return!0},t.prototype.onLinesChanged=function(e){return!0},t.prototype.onLinesDeleted=function(e){return!0},t.prototype.onLinesInserted=function(e){return!0},t.prototype.onScrollChanged=function(e){return e.scrollTopChanged},t.prototype.onZonesChanged=function(e){return!0},t.prototype._getDecorations=function(e){for(var t=e.getDecorationsInViewport(),n=[],i=0,o=0,r=t.length;o<r;o++){var a=t[o],s=a.options.marginClassName;s&&(n[i++]=new En(a.range.startLineNumber,a.range.endLineNumber,s))}return n},t.prototype.prepareRender=function(e){for(var t=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,i=this._render(t,n,this._getDecorations(e)),o=[],r=t;r<=n;r++){for(var a=r-t,s=i[a],l="",c=0,u=s.length;c<u;c++)l+='<div class="cmdr '+s[c]+'" style=""></div>';o[a]=l}this._renderResult=o},t.prototype.render=function(e,t){return this._renderResult?this._renderResult[t-e]:""},t}(Dn),Un=(n(383),function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),qn=function(e){function t(t){var n=e.call(this,t)||this;return n._widgets={},n._verticalScrollbarWidth=n._context.configuration.editor.layoutInfo.verticalScrollbarWidth,n._minimapWidth=n._context.configuration.editor.layoutInfo.minimapWidth,n._horizontalScrollbarHeight=n._context.configuration.editor.layoutInfo.horizontalScrollbarHeight,n._editorHeight=n._context.configuration.editor.layoutInfo.height,n._editorWidth=n._context.configuration.editor.layoutInfo.width,n._domNode=Object(We.b)(document.createElement("div")),Ye.write(n._domNode,4),n._domNode.setClassName("overlayWidgets"),n}return Un(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._widgets=null},t.prototype.getDomNode=function(){return this._domNode},t.prototype.onConfigurationChanged=function(e){return!!e.layoutInfo&&(this._verticalScrollbarWidth=this._context.configuration.editor.layoutInfo.verticalScrollbarWidth,this._minimapWidth=this._context.configuration.editor.layoutInfo.minimapWidth,this._horizontalScrollbarHeight=this._context.configuration.editor.layoutInfo.horizontalScrollbarHeight,this._editorHeight=this._context.configuration.editor.layoutInfo.height,this._editorWidth=this._context.configuration.editor.layoutInfo.width,!0)},t.prototype.addWidget=function(e){var t=Object(We.b)(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:null,domNode:t},t.setPosition("absolute"),t.setAttribute("widgetId",e.getId()),this._domNode.appendChild(t),this.setShouldRender()},t.prototype.setWidgetPosition=function(e,t){var n=this._widgets[e.getId()];return n.preference!==t&&(n.preference=t,this.setShouldRender(),!0)},t.prototype.removeWidget=function(e){var t=e.getId();if(this._widgets.hasOwnProperty(t)){var n=this._widgets[t].domNode.domNode;delete this._widgets[t],n.parentNode.removeChild(n),this.setShouldRender()}},t.prototype._renderWidget=function(e){var t=e.domNode;if(null!==e.preference)if(e.preference===ct.c.TOP_RIGHT_CORNER)t.setTop(0),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(e.preference===ct.c.BOTTOM_RIGHT_CORNER){var n=t.domNode.clientHeight;t.setTop(this._editorHeight-n-2*this._horizontalScrollbarHeight),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else e.preference===ct.c.TOP_CENTER&&(t.setTop(0),t.domNode.style.right="50%");else t.unsetTop()},t.prototype.prepareRender=function(e){},t.prototype.render=function(e){this._domNode.setWidth(this._editorWidth);for(var t=Object.keys(this._widgets),n=0,i=t.length;n<i;n++){var o=t[n];this._renderWidget(this._widgets[o])}},t}(Ke),Gn=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Kn=function(){function e(e,t){this.lineHeight=e.editor.lineHeight,this.pixelRatio=e.editor.pixelRatio,this.overviewRulerLanes=e.editor.viewInfo.overviewRulerLanes,this.renderBorder=e.editor.viewInfo.overviewRulerBorder;var n=t.getColor(Xe.r);this.borderColor=n?n.toString():null,this.hideCursor=e.editor.viewInfo.hideCursorInOverviewRuler;var i=t.getColor(Xe.g);this.cursorColor=i?i.transparent(.7).toString():null,this.themeType=t.type;var o=e.editor.viewInfo.minimap.enabled,r=e.editor.viewInfo.minimap.side,a=o?X.y.getDefaultBackground():null;this.backgroundColor=null===a||"left"===r?null:ie.a.Format.CSS.formatHex(a);var s=e.editor.layoutInfo.overviewRuler;this.top=s.top,this.right=s.right,this.domWidth=s.width,this.domHeight=s.height,this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0;var l=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes),c=l[0],u=l[1];this.x=c,this.w=u}return e.prototype._initLanes=function(e,t,n){var i=t-e;if(n>=3){var o,r,a,s=i-(o=Math.floor(i/3))-(r=Math.floor(i/3)),l=(a=e)+o;return[[0,a,l,a,a+o+s,a,l,a],[0,o,s,o+s,r,o+s+r,s+r,o+s+r]]}if(2===n)return[[0,a=e,a,a,a+(o=Math.floor(i/2)),a,a,a],[0,o,o,o,r=i-o,o+r,o+r,o+r]];return[[0,e,e,e,e,e,e,e],[0,i,i,i,i,i,i,i]]},e.prototype.equals=function(e){return this.lineHeight===e.lineHeight&&this.pixelRatio===e.pixelRatio&&this.overviewRulerLanes===e.overviewRulerLanes&&this.renderBorder===e.renderBorder&&this.borderColor===e.borderColor&&this.hideCursor===e.hideCursor&&this.cursorColor===e.cursorColor&&this.themeType===e.themeType&&this.backgroundColor===e.backgroundColor&&this.top===e.top&&this.right===e.right&&this.domWidth===e.domWidth&&this.domHeight===e.domHeight&&this.canvasWidth===e.canvasWidth&&this.canvasHeight===e.canvasHeight},e}(),Yn=function(e){function t(t){var n=e.call(this,t)||this;return n._domNode=Object(We.b)(document.createElement("canvas")),n._domNode.setClassName("decorationsOverviewRuler"),n._domNode.setPosition("absolute"),n._domNode.setLayerHinting(!0),n._domNode.setAttribute("aria-hidden","true"),n._settings=null,n._updateSettings(!1),n._tokensColorTrackerListener=X.y.onDidChange(function(e){e.changedColorMap&&n._updateSettings(!0)}),n._cursorPositions=[],n}return Gn(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._tokensColorTrackerListener.dispose()},t.prototype._updateSettings=function(e){var t=new Kn(this._context.configuration,this._context.theme);return(null===this._settings||!this._settings.equals(t))&&(this._settings=t,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,e&&this._render(),!0)},t.prototype.onConfigurationChanged=function(e){return this._updateSettings(!1)},t.prototype.onCursorStateChanged=function(e){this._cursorPositions=[];for(var t=0,n=e.selections.length;t<n;t++)this._cursorPositions[t]=e.selections[t].getPosition();return this._cursorPositions.sort(g.a.compare),!0},t.prototype.onDecorationsChanged=function(e){return!0},t.prototype.onFlushed=function(e){return!0},t.prototype.onScrollChanged=function(e){return e.scrollHeightChanged},t.prototype.onZonesChanged=function(e){return!0},t.prototype.onThemeChanged=function(e){return this._context.model.invalidateOverviewRulerColorCache(),this._updateSettings(!1)},t.prototype.getDomNode=function(){return this._domNode.domNode},t.prototype.prepareRender=function(e){},t.prototype.render=function(e){this._render()},t.prototype._render=function(){var e=this._settings.canvasWidth,t=this._settings.canvasHeight,n=this._settings.lineHeight,i=this._context.viewLayout,o=t/this._context.viewLayout.getScrollHeight(),r=this._context.model.getAllOverviewRulerDecorations(this._context.theme),a=6*this._settings.pixelRatio|0,s=a/2|0,l=this._domNode.domNode.getContext("2d");null===this._settings.backgroundColor?l.clearRect(0,0,e,t):(l.fillStyle=this._settings.backgroundColor,l.fillRect(0,0,e,t));var c=this._settings.x,u=this._settings.w,d=Object.keys(r);d.sort();for(var h=0,f=d.length;h<f;h++){var p=d[h],m=r[p];l.fillStyle=p;for(var g=0,b=0,y=0,v=0,w=m.length;v<w;v++){var _=m[3*v],S=m[3*v+1],C=m[3*v+2],x=i.getVerticalOffsetForLineNumber(S)*o|0;if((E=(i.getVerticalOffsetForLineNumber(C)+n)*o|0)-x<a)(L=(x+E)/2|0)<s?L=s:L+s>t&&(L=t-s),x=L-s,E=L+s;x>y+1||_!==g?(0!==v&&l.fillRect(c[g],b,u[g],y-b),g=_,b=x,y=E):E>y&&(y=E)}l.fillRect(c[g],b,u[g],y-b)}if(!this._settings.hideCursor){var k=2*this._settings.pixelRatio|0,T=k/2|0,O=this._settings.x[7],N=this._settings.w[7];l.fillStyle=this._settings.cursorColor;for(b=-100,y=-100,v=0,w=this._cursorPositions.length;v<w;v++){var L,I=this._cursorPositions[v];(L=i.getVerticalOffsetForLineNumber(I.lineNumber)*o|0)<T?L=T:L+T>t&&(L=t-T);var E=(x=L-T)+k;x>y+1?(0!==v&&l.fillRect(O,b,N,y-b),b=x,y=E):E>y&&(y=E)}l.fillRect(O,b,N,y-b)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(l.beginPath(),l.lineWidth=1,l.strokeStyle=this._settings.borderColor,l.moveTo(0,0),l.lineTo(0,t),l.stroke(),l.moveTo(0,0),l.lineTo(e,0),l.stroke())},t}(Ke),Zn=n(157),$n=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Xn=function(e){function t(t,n){var i=e.call(this)||this;return i._context=t,i._domNode=Object(We.b)(document.createElement("canvas")),i._domNode.setClassName(n),i._domNode.setPosition("absolute"),i._domNode.setLayerHinting(!0),i._zoneManager=new Zn.b(function(e){return i._context.viewLayout.getVerticalOffsetForLineNumber(e)}),i._zoneManager.setDOMWidth(0),i._zoneManager.setDOMHeight(0),i._zoneManager.setOuterHeight(i._context.viewLayout.getScrollHeight()),i._zoneManager.setLineHeight(i._context.configuration.editor.lineHeight),i._zoneManager.setPixelRatio(i._context.configuration.editor.pixelRatio),i._context.addEventHandler(i),i}return $n(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._zoneManager=null,e.prototype.dispose.call(this)},t.prototype.onConfigurationChanged=function(e){return e.lineHeight&&(this._zoneManager.setLineHeight(this._context.configuration.editor.lineHeight),this._render()),e.pixelRatio&&(this._zoneManager.setPixelRatio(this._context.configuration.editor.pixelRatio),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0},t.prototype.onFlushed=function(e){return this._render(),!0},t.prototype.onScrollChanged=function(e){return e.scrollHeightChanged&&(this._zoneManager.setOuterHeight(e.scrollHeight),this._render()),!0},t.prototype.onZonesChanged=function(e){return this._render(),!0},t.prototype.getDomNode=function(){return this._domNode.domNode},t.prototype.setLayout=function(e){this._domNode.setTop(e.top),this._domNode.setRight(e.right);var t=!1;t=this._zoneManager.setDOMWidth(e.width)||t,(t=this._zoneManager.setDOMHeight(e.height)||t)&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())},t.prototype.setZones=function(e){this._zoneManager.setZones(e),this._render()},t.prototype._render=function(){if(0===this._zoneManager.getOuterHeight())return!1;var e=this._zoneManager.getCanvasWidth(),t=this._zoneManager.getCanvasHeight(),n=this._zoneManager.resolveColorZones(),i=this._zoneManager.getId2Color(),o=this._domNode.domNode.getContext("2d");return o.clearRect(0,0,e,t),n.length>0&&this._renderOneLane(o,n,i,e),!0},t.prototype._renderOneLane=function(e,t,n,i){for(var o=0,r=0,a=0,s=0,l=t.length;s<l;s++){var c=t[s],u=c.colorId,d=c.from,h=c.to;u!==o?(e.fillRect(0,r,i,a-r),o=u,e.fillStyle=n[o],r=d,a=h):a>=d?a=Math.max(a,h):(e.fillRect(0,r,i,a-r),r=d,a=h)}e.fillRect(0,r,i,a-r)},t}(Be),Qn=(n(385),function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),Jn=function(e){function t(t){var n=e.call(this,t)||this;return n.domNode=Object(We.b)(document.createElement("div")),n.domNode.setAttribute("role","presentation"),n.domNode.setAttribute("aria-hidden","true"),n.domNode.setClassName("view-rulers"),n._renderedRulers=[],n._rulers=n._context.configuration.editor.viewInfo.rulers,n._typicalHalfwidthCharacterWidth=n._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,n}return Qn(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.onConfigurationChanged=function(e){return!!(e.viewInfo||e.layoutInfo||e.fontInfo)&&(this._rulers=this._context.configuration.editor.viewInfo.rulers,this._typicalHalfwidthCharacterWidth=this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,!0)},t.prototype.onScrollChanged=function(e){return e.scrollHeightChanged},t.prototype.prepareRender=function(e){},t.prototype._ensureRulersCount=function(){var e=this._renderedRulers.length,t=this._rulers.length;if(e!==t)if(e<t)for(var n=this._context.model.getTabSize(),i=t-e;i>0;){(r=Object(We.b)(document.createElement("div"))).setClassName("view-ruler"),r.setWidth(n),this.domNode.appendChild(r),this._renderedRulers.push(r),i--}else for(var o=e-t;o>0;){var r=this._renderedRulers.pop();this.domNode.removeChild(r),o--}},t.prototype.render=function(e){this._ensureRulersCount();for(var t=0,n=this._rulers.length;t<n;t++){var i=this._renderedRulers[t];i.setHeight(Math.min(e.scrollHeight,1e6)),i.setLeft(this._rulers[t]*this._typicalHalfwidthCharacterWidth)}},t}(Ke);Object(je.e)(function(e,t){var n=e.getColor(Xe.s);n&&t.addRule(".monaco-editor .view-ruler { box-shadow: 1px 0 0 0 "+n+" inset; }")});n(387);var ei=n(8),ti=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ni=function(e){function t(t){var n=e.call(this,t)||this;return n._scrollTop=0,n._width=0,n._updateWidth(),n._shouldShow=!1,n._useShadows=n._context.configuration.editor.viewInfo.scrollbar.useShadows,n._domNode=Object(We.b)(document.createElement("div")),n._domNode.setAttribute("role","presentation"),n._domNode.setAttribute("aria-hidden","true"),n}return ti(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype._updateShouldShow=function(){var e=this._useShadows&&this._scrollTop>0;return this._shouldShow!==e&&(this._shouldShow=e,!0)},t.prototype.getDomNode=function(){return this._domNode},t.prototype._updateWidth=function(){var e=this._context.configuration.editor.layoutInfo,t=0;return t=0===e.renderMinimap||e.minimapWidth>0&&0===e.minimapLeft?e.width:e.width-e.minimapWidth-e.verticalScrollbarWidth,this._width!==t&&(this._width=t,!0)},t.prototype.onConfigurationChanged=function(e){var t=!1;return e.viewInfo&&(this._useShadows=this._context.configuration.editor.viewInfo.scrollbar.useShadows),e.layoutInfo&&(t=this._updateWidth()),this._updateShouldShow()||t},t.prototype.onScrollChanged=function(e){return this._scrollTop=e.scrollTop,this._updateShouldShow()},t.prototype.prepareRender=function(e){},t.prototype.render=function(e){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")},t}(Ke);Object(je.e)(function(e,t){var n=e.getColor(ei.lb);n&&t.addRule(".monaco-editor .scroll-decoration { box-shadow: "+n+" 0 6px 6px -6px inset; }")});n(389);var ii=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),oi=function(){return function(e){this.left=e.left,this.width=e.width,this.startStyle=null,this.endStyle=null}}(),ri=function(){return function(e,t){this.lineNumber=e,this.ranges=t}}();function ai(e){return new oi(e)}function si(e){return new ri(e.lineNumber,e.ranges.map(ai))}var li=ze.h,ci=function(e){function t(t){var n=e.call(this)||this;return n._previousFrameVisibleRangesWithStyle=[],n._context=t,n._lineHeight=n._context.configuration.editor.lineHeight,n._roundedSelection=n._context.configuration.editor.viewInfo.roundedSelection,n._typicalHalfwidthCharacterWidth=n._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,n._selections=[],n._renderResult=null,n._context.addEventHandler(n),n}return ii(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._selections=null,this._renderResult=null,e.prototype.dispose.call(this)},t.prototype.onConfigurationChanged=function(e){return e.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),e.viewInfo&&(this._roundedSelection=this._context.configuration.editor.viewInfo.roundedSelection),e.fontInfo&&(this._typicalHalfwidthCharacterWidth=this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth),!0},t.prototype.onCursorStateChanged=function(e){return this._selections=e.selections.slice(0),!0},t.prototype.onDecorationsChanged=function(e){return!0},t.prototype.onFlushed=function(e){return!0},t.prototype.onLinesChanged=function(e){return!0},t.prototype.onLinesDeleted=function(e){return!0},t.prototype.onLinesInserted=function(e){return!0},t.prototype.onScrollChanged=function(e){return e.scrollTopChanged},t.prototype.onZonesChanged=function(e){return!0},t.prototype._visibleRangesHaveGaps=function(e){for(var t=0,n=e.length;t<n;t++){if(e[t].ranges.length>1)return!0}return!1},t.prototype._enrichVisibleRangesWithStyle=function(e,t,n){var i=this._typicalHalfwidthCharacterWidth/4,o=null,r=null;if(n&&n.length>0&&t.length>0){var a=t[0].lineNumber;if(a===e.startLineNumber)for(var s=0;!o&&s<n.length;s++)n[s].lineNumber===a&&(o=n[s].ranges[0]);var l=t[t.length-1].lineNumber;if(l===e.endLineNumber)for(s=n.length-1;!r&&s>=0;s--)n[s].lineNumber===l&&(r=n[s].ranges[0]);o&&!o.startStyle&&(o=null),r&&!r.startStyle&&(r=null)}s=0;for(var c=t.length;s<c;s++){var u=t[s].ranges[0],d=u.left,h=u.left+u.width,f={top:0,bottom:0},p={top:0,bottom:0};if(s>0){var m=t[s-1].ranges[0].left,g=t[s-1].ranges[0].left+t[s-1].ranges[0].width;ui(d-m)<i?f.top=2:d>m&&(f.top=1),ui(h-g)<i?p.top=2:m<h&&h<g&&(p.top=1)}else o&&(f.top=o.startStyle.top,p.top=o.endStyle.top);if(s+1<c){var b=t[s+1].ranges[0].left,y=t[s+1].ranges[0].left+t[s+1].ranges[0].width;ui(d-b)<i?f.bottom=2:b<d&&d<y&&(f.bottom=1),ui(h-y)<i?p.bottom=2:h<y&&(p.bottom=1)}else r&&(f.bottom=r.startStyle.bottom,p.bottom=r.endStyle.bottom);u.startStyle=f,u.endStyle=p}},t.prototype._getVisibleRangesWithStyle=function(e,t,n){var i=(t.linesVisibleRangesForRange(e,!0)||[]).map(si),o=this._visibleRangesHaveGaps(i);return li||o||!this._roundedSelection||this._enrichVisibleRangesWithStyle(t.visibleRange,i,n),i},t.prototype._createSelectionPiece=function(e,t,n,i,o){return'<div class="cslr '+n+'" style="top:'+e.toString()+"px;left:"+i.toString()+"px;width:"+o.toString()+"px;height:"+t+'px;"></div>'},t.prototype._actualRenderOneSelection=function(e,n,i,o){for(var r=o.length>0&&o[0].ranges[0].startStyle,a=this._lineHeight.toString(),s=(this._lineHeight-1).toString(),l=o.length>0?o[0].lineNumber:0,c=o.length>0?o[o.length-1].lineNumber:0,u=0,d=o.length;u<d;u++){for(var h=o[u],f=h.lineNumber,p=f-n,m=i&&(f===c||f===l)?s:a,g=i&&f===l?1:0,b="",y=0,v=h.ranges.length;y<v;y++){var w=h.ranges[y];if(r){if(1===w.startStyle.top||1===w.startStyle.bottom){b+=this._createSelectionPiece(g,m,t.SELECTION_CLASS_NAME,w.left-t.ROUNDED_PIECE_WIDTH,t.ROUNDED_PIECE_WIDTH);var _=t.EDITOR_BACKGROUND_CLASS_NAME;1===w.startStyle.top&&(_+=" "+t.SELECTION_TOP_RIGHT),1===w.startStyle.bottom&&(_+=" "+t.SELECTION_BOTTOM_RIGHT),b+=this._createSelectionPiece(g,m,_,w.left-t.ROUNDED_PIECE_WIDTH,t.ROUNDED_PIECE_WIDTH)}if(1===w.endStyle.top||1===w.endStyle.bottom){b+=this._createSelectionPiece(g,m,t.SELECTION_CLASS_NAME,w.left+w.width,t.ROUNDED_PIECE_WIDTH);var S=t.EDITOR_BACKGROUND_CLASS_NAME;1===w.endStyle.top&&(S+=" "+t.SELECTION_TOP_LEFT),1===w.endStyle.bottom&&(S+=" "+t.SELECTION_BOTTOM_LEFT),b+=this._createSelectionPiece(g,m,S,w.left+w.width,t.ROUNDED_PIECE_WIDTH)}}var C=t.SELECTION_CLASS_NAME;r&&(0===w.startStyle.top&&(C+=" "+t.SELECTION_TOP_LEFT),0===w.startStyle.bottom&&(C+=" "+t.SELECTION_BOTTOM_LEFT),0===w.endStyle.top&&(C+=" "+t.SELECTION_TOP_RIGHT),0===w.endStyle.bottom&&(C+=" "+t.SELECTION_BOTTOM_RIGHT)),b+=this._createSelectionPiece(g,m,C,w.left,w.width)}e[p]+=b}},t.prototype.prepareRender=function(e){for(var t=[],n=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,o=n;o<=i;o++){t[o-n]=""}for(var r=[],a=0,s=this._selections.length;a<s;a++){var l=this._selections[a];if(l.isEmpty())r[a]=null;else{var c=this._getVisibleRangesWithStyle(l,e,this._previousFrameVisibleRangesWithStyle[a]);r[a]=c,this._actualRenderOneSelection(t,n,this._selections.length>1,c)}}this._previousFrameVisibleRangesWithStyle=r,this._renderResult=t},t.prototype.render=function(e,t){if(!this._renderResult)return"";var n=t-e;return n<0||n>=this._renderResult.length?"":this._renderResult[n]},t.SELECTION_CLASS_NAME="selected-text",t.SELECTION_TOP_LEFT="top-left-radius",t.SELECTION_BOTTOM_LEFT="bottom-left-radius",t.SELECTION_TOP_RIGHT="top-right-radius",t.SELECTION_BOTTOM_RIGHT="bottom-right-radius",t.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",t.ROUNDED_PIECE_WIDTH=10,t}(Je);function ui(e){return e<0?-e:e}Object(je.e)(function(e,t){var n=e.getColor(ei.z);n&&t.addRule(".monaco-editor .focused .selected-text { background-color: "+n+"; }");var i=e.getColor(ei.y);i&&t.addRule(".monaco-editor .selected-text { background-color: "+i+"; }");var o=e.getColor(ei.A);o&&t.addRule(".monaco-editor .view-line span.inline-selected-text { color: "+o+"; }")});n(391);var di=function(){return function(e,t,n,i,o,r){this.top=e,this.left=t,this.width=n,this.height=i,this.textContent=o,this.textContentClassName=r}}(),hi=function(){function e(e){this._context=e,this._cursorStyle=this._context.configuration.editor.viewInfo.cursorStyle,this._lineHeight=this._context.configuration.editor.lineHeight,this._typicalHalfwidthCharacterWidth=this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(this._context.configuration.editor.viewInfo.cursorWidth,this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=Object(We.b)(document.createElement("div")),this._domNode.setClassName("cursor"),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),f.a.applyFontInfo(this._domNode,this._context.configuration.editor.fontInfo),this._domNode.setDisplay("none"),this.updatePosition(new g.a(1,1)),this._lastRenderedContent="",this._renderData=null}return e.prototype.getDomNode=function(){return this._domNode},e.prototype.getPosition=function(){return this._position},e.prototype.show=function(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)},e.prototype.hide=function(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)},e.prototype.onConfigurationChanged=function(e){return e.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),e.fontInfo&&(f.a.applyFontInfo(this._domNode,this._context.configuration.editor.fontInfo),this._typicalHalfwidthCharacterWidth=this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth),e.viewInfo&&(this._cursorStyle=this._context.configuration.editor.viewInfo.cursorStyle,this._lineCursorWidth=Math.min(this._context.configuration.editor.viewInfo.cursorWidth,this._typicalHalfwidthCharacterWidth)),!0},e.prototype.onCursorPositionChanged=function(e){return this.updatePosition(e),!0},e.prototype._prepareRender=function(e){var t="",n="";if(this._cursorStyle===we.i.Line||this._cursorStyle===we.i.LineThin){var i,o=e.visibleRangeForPosition(this._position);if(!o)return null;if(this._cursorStyle===we.i.Line){if((i=r.m(this._lineCursorWidth>0?this._lineCursorWidth:2))>2)t=this._context.model.getLineContent(this._position.lineNumber).charAt(this._position.column-1)}else i=r.m(1);var a=e.getVerticalOffsetForLineNumber(this._position.lineNumber)-e.bigNumbersDelta;return new di(a,o.left,i,this._lineHeight,t,n)}var s=e.linesVisibleRangesForRange(new b.a(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column+1),!1);if(!s||0===s.length||0===s[0].ranges.length)return null;var l=s[0].ranges[0],c=l.width<1?this._typicalHalfwidthCharacterWidth:l.width;if(this._cursorStyle===we.i.Block){var u=this._context.model.getViewLineData(this._position.lineNumber);t=u.content.charAt(this._position.column-1),p.isHighSurrogate(u.content.charCodeAt(this._position.column-1))&&(t+=u.content.charAt(this._position.column));var d=u.tokens.findTokenIndexAtOffset(this._position.column-1);n=u.tokens.getClassName(d)}var h=e.getVerticalOffsetForLineNumber(this._position.lineNumber)-e.bigNumbersDelta,f=this._lineHeight;return this._cursorStyle!==we.i.Underline&&this._cursorStyle!==we.i.UnderlineThin||(h+=this._lineHeight-2,f=2),new di(h,l.left,c,f,t,n)},e.prototype.prepareRender=function(e){this._renderData=this._prepareRender(e)},e.prototype.render=function(e){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName("cursor "+this._renderData.textContentClassName),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)},e.prototype.updatePosition=function(e){this._position=e},e}(),fi=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),pi=function(e){function t(t){var n=e.call(this,t)||this;return n._readOnly=n._context.configuration.editor.readOnly,n._cursorBlinking=n._context.configuration.editor.viewInfo.cursorBlinking,n._cursorStyle=n._context.configuration.editor.viewInfo.cursorStyle,n._selectionIsEmpty=!0,n._primaryCursor=new hi(n._context),n._secondaryCursors=[],n._renderData=[],n._domNode=Object(We.b)(document.createElement("div")),n._domNode.setAttribute("role","presentation"),n._domNode.setAttribute("aria-hidden","true"),n._updateDomClassName(),n._domNode.appendChild(n._primaryCursor.getDomNode()),n._startCursorBlinkAnimation=new Yt.f,n._cursorFlatBlinkInterval=new Yt.b,n._blinkingEnabled=!1,n._editorHasFocus=!1,n._updateBlinking(),n}return fi(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()},t.prototype.getDomNode=function(){return this._domNode},t.prototype.onConfigurationChanged=function(e){e.readOnly&&(this._readOnly=this._context.configuration.editor.readOnly),e.viewInfo&&(this._cursorBlinking=this._context.configuration.editor.viewInfo.cursorBlinking,this._cursorStyle=this._context.configuration.editor.viewInfo.cursorStyle),this._primaryCursor.onConfigurationChanged(e),this._updateBlinking(),e.viewInfo&&this._updateDomClassName();for(var t=0,n=this._secondaryCursors.length;t<n;t++)this._secondaryCursors[t].onConfigurationChanged(e);return!0},t.prototype._onCursorPositionChanged=function(e,t){if(this._primaryCursor.onCursorPositionChanged(e),this._updateBlinking(),this._secondaryCursors.length<t.length)for(var n=t.length-this._secondaryCursors.length,i=0;i<n;i++){var o=new hi(this._context);this._domNode.domNode.insertBefore(o.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(o)}else if(this._secondaryCursors.length>t.length){var r=this._secondaryCursors.length-t.length;for(i=0;i<r;i++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(i=0;i<t.length;i++)this._secondaryCursors[i].onCursorPositionChanged(t[i])},t.prototype.onCursorStateChanged=function(e){for(var t=[],n=0,i=e.selections.length;n<i;n++)t[n]=e.selections[n].getPosition();this._onCursorPositionChanged(t[0],t.slice(1));var o=e.selections[0].isEmpty();return this._selectionIsEmpty!==o&&(this._selectionIsEmpty=o,this._updateDomClassName()),!0},t.prototype.onDecorationsChanged=function(e){return!0},t.prototype.onFlushed=function(e){return!0},t.prototype.onFocusChanged=function(e){return this._editorHasFocus=e.isFocused,this._updateBlinking(),!1},t.prototype.onLinesChanged=function(e){return!0},t.prototype.onLinesDeleted=function(e){return!0},t.prototype.onLinesInserted=function(e){return!0},t.prototype.onScrollChanged=function(e){return!0},t.prototype.onTokensChanged=function(e){var t=function(t){for(var n=0,i=e.ranges.length;n<i;n++)if(e.ranges[n].fromLineNumber<=t.lineNumber&&t.lineNumber<=e.ranges[n].toLineNumber)return!0;return!1};if(t(this._primaryCursor.getPosition()))return!0;for(var n=0;n<this._secondaryCursors.length;n++)if(t(this._secondaryCursors[n].getPosition()))return!0;return!1},t.prototype.onZonesChanged=function(e){return!0},t.prototype._getCursorBlinking=function(){return this._editorHasFocus?this._readOnly?we.h.Solid:this._cursorBlinking:we.h.Hidden},t.prototype._updateBlinking=function(){var e=this;this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();var n=this._getCursorBlinking(),i=n===we.h.Hidden,o=n===we.h.Solid;i?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),i||o||(n===we.h.Blink?this._cursorFlatBlinkInterval.cancelAndSet(function(){e._isVisible?e._hide():e._show()},t.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(function(){e._blinkingEnabled=!0,e._updateDomClassName()},t.BLINK_INTERVAL))},t.prototype._updateDomClassName=function(){this._domNode.setClassName(this._getClassName())},t.prototype._getClassName=function(){var e="cursors-layer";switch(this._selectionIsEmpty||(e+=" has-selection"),this._cursorStyle){case we.i.Line:e+=" cursor-line-style";break;case we.i.Block:e+=" cursor-block-style";break;case we.i.Underline:e+=" cursor-underline-style";break;case we.i.LineThin:e+=" cursor-line-thin-style";break;case we.i.BlockOutline:e+=" cursor-block-outline-style";break;case we.i.UnderlineThin:e+=" cursor-underline-thin-style";break;default:e+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case we.h.Blink:e+=" cursor-blink";break;case we.h.Smooth:e+=" cursor-smooth";break;case we.h.Phase:e+=" cursor-phase";break;case we.h.Expand:e+=" cursor-expand";break;case we.h.Solid:e+=" cursor-solid";break;default:e+=" cursor-solid"}else e+=" cursor-solid";return e},t.prototype._show=function(){this._primaryCursor.show();for(var e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].show();this._isVisible=!0},t.prototype._hide=function(){this._primaryCursor.hide();for(var e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].hide();this._isVisible=!1},t.prototype.prepareRender=function(e){this._primaryCursor.prepareRender(e);for(var t=0,n=this._secondaryCursors.length;t<n;t++)this._secondaryCursors[t].prepareRender(e)},t.prototype.render=function(e){var t=[],n=0,i=this._primaryCursor.render(e);i&&(t[n++]=i);for(var o=0,r=this._secondaryCursors.length;o<r;o++){var a=this._secondaryCursors[o].render(e);a&&(t[n++]=a)}this._renderData=t},t.prototype.getLastRenderData=function(){return this._renderData},t.BLINK_INTERVAL=500,t}(Ke);Object(je.e)(function(e,t){var n=e.getColor(Xe.g);if(n){var i=e.getColor(Xe.f);i||(i=n.opposite()),t.addRule(".monaco-editor .cursor { background-color: "+n+"; border-color: "+n+"; color: "+i+"; }"),"hc"===e.type&&t.addRule(".monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid "+i+"; border-right: 1px solid "+i+"; }")}});var mi=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),gi=function(e){function t(t){var n=e.call(this,t)||this;return n._lineHeight=n._context.configuration.editor.lineHeight,n._contentWidth=n._context.configuration.editor.layoutInfo.contentWidth,n._contentLeft=n._context.configuration.editor.layoutInfo.contentLeft,n.domNode=Object(We.b)(document.createElement("div")),n.domNode.setClassName("view-zones"),n.domNode.setPosition("absolute"),n.domNode.setAttribute("role","presentation"),n.domNode.setAttribute("aria-hidden","true"),n.marginDomNode=Object(We.b)(document.createElement("div")),n.marginDomNode.setClassName("margin-view-zones"),n.marginDomNode.setPosition("absolute"),n.marginDomNode.setAttribute("role","presentation"),n.marginDomNode.setAttribute("aria-hidden","true"),n._zones={},n}return mi(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._zones={}},t.prototype._recomputeWhitespacesProps=function(){for(var e=!1,t=Object.keys(this._zones),n=0,i=t.length;n<i;n++){var o=t[n],r=this._zones[o],a=this._computeWhitespaceProps(r.delegate);this._context.viewLayout.changeWhitespace(parseInt(o,10),a.afterViewLineNumber,a.heightInPx)&&(this._safeCallOnComputedHeight(r.delegate,a.heightInPx),e=!0)}return e},t.prototype.onConfigurationChanged=function(e){return e.lineHeight?(this._lineHeight=this._context.configuration.editor.lineHeight,this._recomputeWhitespacesProps()):(e.layoutInfo&&(this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth,this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft),!0)},t.prototype.onLineMappingChanged=function(e){var t=this._recomputeWhitespacesProps();return t&&this._context.viewLayout.onHeightMaybeChanged(),t},t.prototype.onLinesDeleted=function(e){return!0},t.prototype.onScrollChanged=function(e){return e.scrollTopChanged||e.scrollWidthChanged},t.prototype.onZonesChanged=function(e){return!0},t.prototype.onLinesInserted=function(e){return!0},t.prototype._getZoneOrdinal=function(e){return"undefined"!==typeof e.afterColumn?e.afterColumn:1e4},t.prototype._computeWhitespaceProps=function(e){if(0===e.afterLineNumber)return{afterViewLineNumber:0,heightInPx:this._heightInPixels(e),minWidthInPx:this._minWidthInPixels(e)};var t,n;if("undefined"!==typeof e.afterColumn)t=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:e.afterColumn});else{var i=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:1}).lineNumber;t=new g.a(i,this._context.model.getModelLineMaxColumn(i))}n=t.column===this._context.model.getModelLineMaxColumn(t.lineNumber)?this._context.model.validateModelPosition({lineNumber:t.lineNumber+1,column:1}):this._context.model.validateModelPosition({lineNumber:t.lineNumber,column:t.column+1});var o=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(t),r=this._context.model.coordinatesConverter.modelPositionIsVisible(n);return{afterViewLineNumber:o.lineNumber,heightInPx:r?this._heightInPixels(e):0,minWidthInPx:this._minWidthInPixels(e)}},t.prototype.addZone=function(e){var t=this._computeWhitespaceProps(e),n={whitespaceId:this._context.viewLayout.addWhitespace(t.afterViewLineNumber,this._getZoneOrdinal(e),t.heightInPx,t.minWidthInPx),delegate:e,isVisible:!1,domNode:Object(We.b)(e.domNode),marginDomNode:e.marginDomNode?Object(We.b)(e.marginDomNode):null};return this._safeCallOnComputedHeight(n.delegate,t.heightInPx),n.domNode.setPosition("absolute"),n.domNode.domNode.style.width="100%",n.domNode.setDisplay("none"),n.domNode.setAttribute("monaco-view-zone",n.whitespaceId.toString()),this.domNode.appendChild(n.domNode),n.marginDomNode&&(n.marginDomNode.setPosition("absolute"),n.marginDomNode.domNode.style.width="100%",n.marginDomNode.setDisplay("none"),n.marginDomNode.setAttribute("monaco-view-zone",n.whitespaceId.toString()),this.marginDomNode.appendChild(n.marginDomNode)),this._zones[n.whitespaceId.toString()]=n,this.setShouldRender(),n.whitespaceId},t.prototype.removeZone=function(e){if(this._zones.hasOwnProperty(e.toString())){var t=this._zones[e.toString()];return delete this._zones[e.toString()],this._context.viewLayout.removeWhitespace(t.whitespaceId),t.domNode.removeAttribute("monaco-visible-view-zone"),t.domNode.removeAttribute("monaco-view-zone"),t.domNode.domNode.parentNode.removeChild(t.domNode.domNode),t.marginDomNode&&(t.marginDomNode.removeAttribute("monaco-visible-view-zone"),t.marginDomNode.removeAttribute("monaco-view-zone"),t.marginDomNode.domNode.parentNode.removeChild(t.marginDomNode.domNode)),this.setShouldRender(),!0}return!1},t.prototype.layoutZone=function(e){var t=!1;if(this._zones.hasOwnProperty(e.toString())){var n=this._zones[e.toString()],i=this._computeWhitespaceProps(n.delegate);(t=this._context.viewLayout.changeWhitespace(n.whitespaceId,i.afterViewLineNumber,i.heightInPx)||t)&&(this._safeCallOnComputedHeight(n.delegate,i.heightInPx),this.setShouldRender())}return t},t.prototype.shouldSuppressMouseDownOnViewZone=function(e){return!!this._zones.hasOwnProperty(e.toString())&&this._zones[e.toString()].delegate.suppressMouseDown},t.prototype._heightInPixels=function(e){return"number"===typeof e.heightInPx?e.heightInPx:"number"===typeof e.heightInLines?this._lineHeight*e.heightInLines:this._lineHeight},t.prototype._minWidthInPixels=function(e){return"number"===typeof e.minWidthInPx?e.minWidthInPx:0},t.prototype._safeCallOnComputedHeight=function(e,t){if("function"===typeof e.onComputedHeight)try{e.onComputedHeight(t)}catch(e){Object(a.e)(e)}},t.prototype._safeCallOnDomNodeTop=function(e,t){if("function"===typeof e.onDomNodeTop)try{e.onDomNodeTop(t)}catch(e){Object(a.e)(e)}},t.prototype.prepareRender=function(e){},t.prototype.render=function(e){for(var t=e.viewportData.whitespaceViewportData,n={},i=!1,o=0,r=t.length;o<r;o++)n[t[o].id.toString()]=t[o],i=!0;var a=Object.keys(this._zones);for(o=0,r=a.length;o<r;o++){var s=a[o],l=this._zones[s],c=0,u=0,d="none";n.hasOwnProperty(s)?(c=n[s].verticalOffset-e.bigNumbersDelta,u=n[s].height,d="block",l.isVisible||(l.domNode.setAttribute("monaco-visible-view-zone","true"),l.isVisible=!0),this._safeCallOnDomNodeTop(l.delegate,e.getScrolledTopFromAbsoluteTop(n[s].verticalOffset))):(l.isVisible&&(l.domNode.removeAttribute("monaco-visible-view-zone"),l.isVisible=!1),this._safeCallOnDomNodeTop(l.delegate,e.getScrolledTopFromAbsoluteTop(-1e6))),l.domNode.setTop(c),l.domNode.setHeight(u),l.domNode.setDisplay(d),l.marginDomNode&&(l.marginDomNode.setTop(c),l.marginDomNode.setHeight(u),l.marginDomNode.setDisplay(d))}i&&(this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))},t}(Ke),bi=function(){function e(e,t,n,i){this.configuration=e,this.theme=t,this.model=n,this.viewLayout=n.viewLayout,this.privateViewEventBus=i}return e.prototype.addEventHandler=function(e){this.privateViewEventBus.addEventHandler(e)},e.prototype.removeEventHandler=function(e){this.privateViewEventBus.removeEventHandler(e)},e}(),yi=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),vi=function(e){function t(t){var n=e.call(this)||this;return n.onDidScroll=null,n.onDidGainFocus=null,n.onDidLoseFocus=null,n.onKeyDown=null,n.onKeyUp=null,n.onContextMenu=null,n.onMouseMove=null,n.onMouseLeave=null,n.onMouseUp=null,n.onMouseDown=null,n.onMouseDrag=null,n.onMouseDrop=null,n._viewModel=t,n}return yi(t,e),t.prototype.emitScrollChanged=function(e){this.onDidScroll&&this.onDidScroll(e)},t.prototype.emitViewFocusGained=function(){this.onDidGainFocus&&this.onDidGainFocus(void 0)},t.prototype.emitViewFocusLost=function(){this.onDidLoseFocus&&this.onDidLoseFocus(void 0)},t.prototype.emitKeyDown=function(e){this.onKeyDown&&this.onKeyDown(e)},t.prototype.emitKeyUp=function(e){this.onKeyUp&&this.onKeyUp(e)},t.prototype.emitContextMenu=function(e){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(e))},t.prototype.emitMouseMove=function(e){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(e))},t.prototype.emitMouseLeave=function(e){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(e))},t.prototype.emitMouseUp=function(e){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(e))},t.prototype.emitMouseDown=function(e){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(e))},t.prototype.emitMouseDrag=function(e){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(e))},t.prototype.emitMouseDrop=function(e){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(e))},t.prototype._convertViewToModelMouseEvent=function(e){return e.target?{event:e.event,target:this._convertViewToModelMouseTarget(e.target)}:e},t.prototype._convertViewToModelMouseTarget=function(e){return new wi(e.element,e.type,e.mouseColumn,e.position?this._convertViewToModelPosition(e.position):null,e.range?this._convertViewToModelRange(e.range):null,e.detail)},t.prototype._convertViewToModelPosition=function(e){return this._viewModel.coordinatesConverter.convertViewPositionToModelPosition(e)},t.prototype._convertViewToModelRange=function(e){return this._viewModel.coordinatesConverter.convertViewRangeToModelRange(e)},t}(l.a),wi=function(){function e(e,t,n,i,o,r){this.element=e,this.type=t,this.mouseColumn=n,this.position=i,this.range=o,this.detail=r}return e.prototype.toString=function(){return Bt.toString(this)},e}(),_i=function(){function e(e,t,n,i){this.selections=e,this.startLineNumber=0|t.startLineNumber,this.endLineNumber=0|t.endLineNumber,this.relativeVerticalOffset=t.relativeVerticalOffset,this.bigNumbersDelta=0|t.bigNumbersDelta,this.whitespaceViewportData=n,this._model=i,this.visibleRange=new b.a(t.startLineNumber,this._model.getLineMinColumn(t.startLineNumber),t.endLineNumber,this._model.getLineMaxColumn(t.endLineNumber))}return e.prototype.getViewLineRenderingData=function(e){return this._model.getViewLineRenderingData(this.visibleRange,e)},e.prototype.getDecorationsInViewport=function(){return this._model.getDecorationsInViewport(this.visibleRange)},e}(),Si=n(82),Ci=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),xi=function(e){function t(t,n,i,o){var a=e.call(this,t)||this,s=a._context.configuration.editor.viewInfo.scrollbar,l={listenOnDomNode:i.domNode,className:"editor-scrollable "+Object(je.d)(t.theme.type),useShadows:!1,lazyRender:!0,vertical:s.vertical,horizontal:s.horizontal,verticalHasArrows:s.verticalHasArrows,horizontalHasArrows:s.horizontalHasArrows,verticalScrollbarSize:s.verticalScrollbarSize,verticalSliderSize:s.verticalSliderSize,horizontalScrollbarSize:s.horizontalScrollbarSize,horizontalSliderSize:s.horizontalSliderSize,handleMouseWheel:s.handleMouseWheel,arrowSize:s.arrowSize,mouseWheelScrollSensitivity:s.mouseWheelScrollSensitivity};a.scrollbar=a._register(new Si.c(n.domNode,l,a._context.viewLayout.scrollable)),Ye.write(a.scrollbar.getDomNode(),5),a.scrollbarDomNode=Object(We.b)(a.scrollbar.getDomNode()),a.scrollbarDomNode.setPosition("absolute"),a._setLayout();var c=function(e,t,n){var i={};if(t){var o=e.scrollTop;o&&(i.scrollTop=a._context.viewLayout.getCurrentScrollTop()+o,e.scrollTop=0)}if(n){var r=e.scrollLeft;r&&(i.scrollLeft=a._context.viewLayout.getCurrentScrollLeft()+r,e.scrollLeft=0)}a._context.viewLayout.setScrollPositionNow(i)};return a._register(r.g(i.domNode,"scroll",function(e){return c(i.domNode,!0,!0)})),a._register(r.g(n.domNode,"scroll",function(e){return c(n.domNode,!0,!1)})),a._register(r.g(o.domNode,"scroll",function(e){return c(o.domNode,!0,!1)})),a._register(r.g(a.scrollbarDomNode.domNode,"scroll",function(e){return c(a.scrollbarDomNode.domNode,!0,!1)})),a}return Ci(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype._setLayout=function(){var e=this._context.configuration.editor.layoutInfo;this.scrollbarDomNode.setLeft(e.contentLeft),"right"===this._context.configuration.editor.viewInfo.minimap.side?this.scrollbarDomNode.setWidth(e.contentWidth+e.minimapWidth):this.scrollbarDomNode.setWidth(e.contentWidth),this.scrollbarDomNode.setHeight(e.contentHeight)},t.prototype.getOverviewRulerLayoutInfo=function(){return this.scrollbar.getOverviewRulerLayoutInfo()},t.prototype.getDomNode=function(){return this.scrollbarDomNode},t.prototype.delegateVerticalScrollbarMouseDown=function(e){this.scrollbar.delegateVerticalScrollbarMouseDown(e)},t.prototype.onConfigurationChanged=function(e){if(e.viewInfo){var t=this._context.configuration.editor,n={handleMouseWheel:t.viewInfo.scrollbar.handleMouseWheel,mouseWheelScrollSensitivity:t.viewInfo.scrollbar.mouseWheelScrollSensitivity};this.scrollbar.updateOptions(n)}return e.layoutInfo&&this._setLayout(),!0},t.prototype.onScrollChanged=function(e){return!0},t.prototype.onThemeChanged=function(e){return this.scrollbar.updateClassName("editor-scrollable "+Object(je.d)(this._context.theme.type)),!0},t.prototype.prepareRender=function(e){},t.prototype.render=function(e){this.scrollbar.renderNow()},t}(Ke);n(395);function ki(e){for(var t=new Uint8ClampedArray(e.length),n=0,i=e.length;n<i;n++)t[n]=e[n];return t}var Ti=null;function Oi(){if(!Ti){var e=ki(Li);Li=null;var t=ki(Ni);Ni=null,Ti=new be(t,e)}return Ti}var Ni=[0,0,0,0,0,0,0,0,39,14,39,14,14,5,29,10,96,96,29,29,0,0,0,0,49,113,195,214,227,166,135,42,40,29,194,38,75,148,197,187,145,0,160,61,75,143,2,183,138,58,163,6,177,223,197,227,38,13,11,4,0,0,0,0,10,54,52,8,62,4,71,122,73,2,19,40,10,50,155,36,79,70,145,121,7,5,0,0,2,1,36,12,204,166,16,5,0,0,0,0,1,0,154,34,0,0,0,0,96,83,0,0,0,0,0,0,0,0,46,34,0,82,2,56,53,3,146,0,146,119,152,132,152,131,145,119,170,42,15,42,15,42,172,194,131,132,0,139,80,28,227,143,159,135,15,118,11,126,171,144,20,124,88,106,217,196,0,106,189,92,168,43,5,130,164,133,130,115,183,65,134,120,141,141,170,196,2,106,31,32,105,2,145,130,116,114,132,135,138,140,138,113,147,137,81,183,129,94,0,0,21,16,4,3,46,34,0,0,45,34,1,0,160,49,0,0,43,143,203,23,1,76,0,0,38,28,131,96,38,28,0,0,168,31,29,191,98,0,118,139,5,113,45,13,37,6,97,115,161,179,204,105,223,224,83,52,111,100,184,186,120,132,212,145,180,139,174,161,212,182,104,162,131,0,131,0,104,161,219,120,110,116,110,116,219,120,207,154,163,40,147,22,207,154,202,159,161,47,145,23,111,0,139,154,144,30,144,135,139,187,110,110,168,161,150,145,110,110,185,162,43,16,43,16,185,162,73,129,0,110,0,110,191,87,149,149,236,48,195,91,146,149,146,0,146,0,146,0,187,173,200,201,222,215,172,147,95,95,193,97,224,129,159,206,97,192,155,139,153,115,153,115,156,140,189,158,123,136,190,64,111,0,155,139,153,115,153,114,156,241,197,148,150,152,170,116,110,157,156,128,169,14,13,159,158,149,212,189,43,16,43,16,43,16,148,110,148,110,147,109,182,151,133,121,106,118,114,103,89,66,94,94,211,188,205,207,139,168,151,152,87,76,101,79,151,152,130,156,125,116,47,29,43,16,169,228,11,103,120,6,230,176,55,49,55,6,55,6,193,102,92,0,71,0,13,30,0,147,63,43,12,43,12,43,142,152,71,53,61,61,0,0,0,0,0,0,0,0,0,0,158,146,25,2,0,0,0,0,0,0,0,0,107,130,170,194,176,188,109,0,203,159,113,111,202,158,0,0,135,135,114,0,136,135,0,109,187,190,148,126,177,187,0,0,149,130,218,105,169,135,37,113,146,113,49,13,49,13,0,0,178,195,147,114,255,255,109,0,193,149,110,109,109,109,12,15,125,41,33,41,144,188,1,6,75,53,10,53,210,161,110,0,152,148,210,60,110,156,213,5,63,5,63,5,45,111,0,0,232,172,190,168,190,169,0,0,190,144,109,109,109,109,0,0,168,140,148,111,168,140,0,0,200,151,113,110,255,158,0,0,184,188,147,139,186,255,0,0,122,130,111,0,109,0,0,0,132,69,109,93,110,136,51,5,205,103,61,6,47,106,0,0,110,109,110,122,155,179,0,0,132,120,113,114,84,63,0,0,124,108,202,189,160,174,0,0,144,142,79,57,159,146,0,0,138,138,119,117,255,69,0,0,97,198,47,38,208,84,23,112,41,14,157,7,121,192,35,11,35,11,35,11,160,61,129,9,40,19,20,139,236,44,0,0,15,3,97,93,0,0],Li=[0,0,23,12,53,0,130,127,58,149,67,77,72,198,13,0,25,51,25,49,94,2,8,64,0,24,0,21,0,9,19,27,126,126,51,80,72,105,87,98,73,93,106,85,111,123,87,30,116,126,123,110,4,16,9,28,21,53,8,62,23,52,73,21,132,183,78,142,168,175,70,70,128,128,123,110,125,43,100,139,125,119,78,78,54,77,139,139,33,87,201,117,162,149,130,130,138,60,130,172,149,127,95,98,95,25,118,135,110,85,147,175,105,110,121,30,101,113,34,68,20,26,34,68,56,0,0,44,3,0,27,175,80,133,31,66,85,147,32,150,90,25,45,230,77,101,36,83,22,84,71,118,44,44,52,172,38,101,35,130,40,197,43,197,29,26,23,103,67,44,25,129,29,85,27,177,33,97,32,145,33,77,38,96,20,55,36,95,2,22],Ii=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Ei(e){return 2===e?4:4===e?6:1===e?2:3}function Di(e){return 2===e?2:4===e?2:1}var Ai=140,Mi=function(){function e(e){var t=e.editor.pixelRatio,n=e.editor.layoutInfo,i=e.editor.viewInfo,o=e.editor.fontInfo;this.renderMinimap=0|n.renderMinimap,this.scrollBeyondLastLine=i.scrollBeyondLastLine,this.showSlider=i.minimap.showSlider,this.pixelRatio=t,this.typicalHalfwidthCharacterWidth=o.typicalHalfwidthCharacterWidth,this.lineHeight=e.editor.lineHeight,this.minimapLeft=n.minimapLeft,this.minimapWidth=n.minimapWidth,this.minimapHeight=n.height,this.canvasInnerWidth=Math.max(1,Math.floor(t*this.minimapWidth)),this.canvasInnerHeight=Math.max(1,Math.floor(t*this.minimapHeight)),this.canvasOuterWidth=this.canvasInnerWidth/t,this.canvasOuterHeight=this.canvasInnerHeight/t}return e.prototype.equals=function(e){return this.renderMinimap===e.renderMinimap&&this.scrollBeyondLastLine===e.scrollBeyondLastLine&&this.showSlider===e.showSlider&&this.pixelRatio===e.pixelRatio&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.lineHeight===e.lineHeight&&this.minimapLeft===e.minimapLeft&&this.minimapWidth===e.minimapWidth&&this.minimapHeight===e.minimapHeight&&this.canvasInnerWidth===e.canvasInnerWidth&&this.canvasInnerHeight===e.canvasInnerHeight&&this.canvasOuterWidth===e.canvasOuterWidth&&this.canvasOuterHeight===e.canvasOuterHeight},e}(),Pi=function(){function e(e,t,n,i,o,r,a){this.scrollTop=e,this.scrollHeight=t,this._computedSliderRatio=n,this.sliderTop=i,this.sliderHeight=o,this.startLineNumber=r,this.endLineNumber=a}return e.prototype.getDesiredScrollTopFromDelta=function(e){var t=this.sliderTop+e;return Math.round(t/this._computedSliderRatio)},e.create=function(t,n,i,o,r,a,s,l,c){var u,d,h=t.pixelRatio,f=Ei(t.renderMinimap),p=Math.floor(t.canvasInnerHeight/f),m=t.lineHeight;if(r&&i!==a){var g=i-n+1;u=Math.floor(g*f/h)}else{var b=o/m;u=Math.floor(b*f/h)}d=t.scrollBeyondLastLine?(a-1)*f/h:Math.max(0,a*f/h-u);var y=(d=Math.min(t.minimapHeight-u,d))/(l-o),v=s*y;if(p>=a)return new e(s,l,y,v,u,w=1,a);var w=Math.max(1,Math.floor(n-v*h/f));return c&&c.scrollHeight===l&&(c.scrollTop>s&&(w=Math.min(w,c.startLineNumber)),c.scrollTop<s&&(w=Math.max(w,c.startLineNumber))),new e(s,l,y,v,u,w,Math.min(a,w+p-1))},e}(),Ri=function(){function e(e){this.dy=e}return e.prototype.onContentChanged=function(){this.dy=-1},e.prototype.onTokensChanged=function(){this.dy=-1},e.INVALID=new e(-1),e}(),Fi=function(){function e(e,t,n){this.renderedLayout=e,this._imageData=t,this._renderedLines=new hn(function(){return Ri.INVALID}),this._renderedLines._set(e.startLineNumber,n)}return e.prototype.linesEquals=function(e){if(this.renderedLayout.startLineNumber!==e.startLineNumber)return!1;if(this.renderedLayout.endLineNumber!==e.endLineNumber)return!1;for(var t=this._renderedLines._get().lines,n=0,i=t.length;n<i;n++)if(-1===t[n].dy)return!1;return!0},e.prototype._get=function(){var e=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines}},e.prototype.onLinesChanged=function(e){return this._renderedLines.onLinesChanged(e.fromLineNumber,e.toLineNumber)},e.prototype.onLinesDeleted=function(e){this._renderedLines.onLinesDeleted(e.fromLineNumber,e.toLineNumber)},e.prototype.onLinesInserted=function(e){this._renderedLines.onLinesInserted(e.fromLineNumber,e.toLineNumber)},e.prototype.onTokensChanged=function(e){return this._renderedLines.onTokensChanged(e.ranges)},e}(),ji=function(){function e(t,n,i,o){this._backgroundFillData=e._createBackgroundFillData(n,i,o),this._buffers=[t.createImageData(n,i),t.createImageData(n,i)],this._lastUsedBuffer=0}return e.prototype.getBuffer=function(){this._lastUsedBuffer=1-this._lastUsedBuffer;var e=this._buffers[this._lastUsedBuffer];return e.data.set(this._backgroundFillData),e},e._createBackgroundFillData=function(e,t,n){for(var i=n.r,o=n.g,r=n.b,a=new Uint8ClampedArray(e*t*4),s=0,l=0;l<t;l++)for(var c=0;c<e;c++)a[s]=i,a[s+1]=o,a[s+2]=r,a[s+3]=255,s+=4;return a},e}(),Wi=function(e){function t(t){var n=e.call(this,t)||this;return n._options=new Mi(n._context.configuration),n._lastRenderData=null,n._buffers=null,n._domNode=Object(We.b)(document.createElement("div")),Ye.write(n._domNode,8),n._domNode.setClassName(n._getMinimapDomNodeClassName()),n._domNode.setPosition("absolute"),n._domNode.setAttribute("role","presentation"),n._domNode.setAttribute("aria-hidden","true"),n._shadow=Object(We.b)(document.createElement("div")),n._shadow.setClassName("minimap-shadow-hidden"),n._domNode.appendChild(n._shadow),n._canvas=Object(We.b)(document.createElement("canvas")),n._canvas.setPosition("absolute"),n._canvas.setLeft(0),n._domNode.appendChild(n._canvas),n._slider=Object(We.b)(document.createElement("div")),n._slider.setPosition("absolute"),n._slider.setClassName("minimap-slider"),n._slider.setLayerHinting(!0),n._domNode.appendChild(n._slider),n._sliderHorizontal=Object(We.b)(document.createElement("div")),n._sliderHorizontal.setPosition("absolute"),n._sliderHorizontal.setClassName("minimap-slider-horizontal"),n._slider.appendChild(n._sliderHorizontal),n._tokensColorTracker=ge.getInstance(),n._applyLayout(),n._mouseDownListener=r.j(n._canvas.domNode,"mousedown",function(e){e.preventDefault();var t=n._options.renderMinimap;if(0!==t&&n._lastRenderData){var i=Ei(t),o=n._options.pixelRatio*e.browserEvent.offsetY,r=Math.floor(o/i)+n._lastRenderData.renderedLayout.startLineNumber;r=Math.min(r,n._context.model.getLineCount()),n._context.privateViewEventBus.emit(new R(new b.a(r,1,r,1),1,!1,0))}}),n._sliderMouseMoveMonitor=new dt.a,n._sliderMouseDownListener=r.j(n._slider.domNode,"mousedown",function(e){if(e.preventDefault(),e.leftButton&&n._lastRenderData){var t=e.posy,i=e.posx,o=n._lastRenderData.renderedLayout;n._slider.toggleClassName("active",!0),n._sliderMouseMoveMonitor.startMonitoring(dt.b,function(e){var r=Math.abs(e.posx-i);if(He.g&&r>Ai)n._context.viewLayout.setScrollPositionNow({scrollTop:o.scrollTop});else{var a=e.posy-t;n._context.viewLayout.setScrollPositionNow({scrollTop:o.getDesiredScrollTopFromDelta(a)})}},function(){n._slider.toggleClassName("active",!1)})}}),n}return Ii(t,e),t.prototype.dispose=function(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),e.prototype.dispose.call(this)},t.prototype._getMinimapDomNodeClassName=function(){return"always"===this._options.showSlider?"minimap slider-always":"minimap slider-mouseover"},t.prototype.getDomNode=function(){return this._domNode},t.prototype._applyLayout=function(){this._domNode.setLeft(this._options.minimapLeft),this._domNode.setWidth(this._options.minimapWidth),this._domNode.setHeight(this._options.minimapHeight),this._shadow.setHeight(this._options.minimapHeight),this._canvas.setWidth(this._options.canvasOuterWidth),this._canvas.setHeight(this._options.canvasOuterHeight),this._canvas.domNode.width=this._options.canvasInnerWidth,this._canvas.domNode.height=this._options.canvasInnerHeight,this._slider.setWidth(this._options.minimapWidth)},t.prototype._getBuffer=function(){return this._buffers||(this._buffers=new ji(this._canvas.domNode.getContext("2d"),this._options.canvasInnerWidth,this._options.canvasInnerHeight,this._tokensColorTracker.getColor(2))),this._buffers.getBuffer()},t.prototype._onOptionsMaybeChanged=function(){var e=new Mi(this._context.configuration);return!this._options.equals(e)&&(this._options=e,this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName()),!0)},t.prototype.onConfigurationChanged=function(e){return this._onOptionsMaybeChanged()},t.prototype.onFlushed=function(e){return this._lastRenderData=null,!0},t.prototype.onLinesChanged=function(e){return!!this._lastRenderData&&this._lastRenderData.onLinesChanged(e)},t.prototype.onLinesDeleted=function(e){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(e),!0},t.prototype.onLinesInserted=function(e){return this._lastRenderData&&this._lastRenderData.onLinesInserted(e),!0},t.prototype.onScrollChanged=function(e){return!0},t.prototype.onTokensChanged=function(e){return!!this._lastRenderData&&this._lastRenderData.onTokensChanged(e)},t.prototype.onTokensColorsChanged=function(e){return this._lastRenderData=null,this._buffers=null,!0},t.prototype.onZonesChanged=function(e){return this._lastRenderData=null,!0},t.prototype.prepareRender=function(e){},t.prototype.render=function(e){if(0===this._options.renderMinimap)return this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),void this._sliderHorizontal.setHeight(0);e.scrollLeft+e.viewportWidth>=e.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");var t=Pi.create(this._options,e.visibleRange.startLineNumber,e.visibleRange.endLineNumber,e.viewportHeight,e.viewportData.whitespaceViewportData.length>0,this._context.model.getLineCount(),e.scrollTop,e.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setTop(t.sliderTop),this._slider.setHeight(t.sliderHeight);var n=e.scrollLeft/this._options.typicalHalfwidthCharacterWidth,i=Math.min(this._options.minimapWidth,Math.round(n*Di(this._options.renderMinimap)/this._options.pixelRatio));this._sliderHorizontal.setLeft(i),this._sliderHorizontal.setWidth(this._options.minimapWidth-i),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(t.sliderHeight),this._lastRenderData=this.renderLines(t)},t.prototype.renderLines=function(e){var n=this._options.renderMinimap,i=e.startLineNumber,o=e.endLineNumber,r=Ei(n);if(this._lastRenderData&&this._lastRenderData.linesEquals(e)){var a=this._lastRenderData._get();return new Fi(e,a.imageData,a.lines)}for(var s=this._getBuffer(),l=t._renderUntouchedLines(s,i,o,r,this._lastRenderData),c=l[0],u=l[1],d=l[2],h=this._context.model.getMinimapLinesRenderingData(i,o,d),f=h.tabSize,p=this._tokensColorTracker.getColor(2),m=this._tokensColorTracker.backgroundIsLight(),g=0,b=[],y=0,v=o-i+1;y<v;y++)d[y]&&t._renderLine(s,p,m,n,this._tokensColorTracker,Oi(),g,f,h.data[y]),b[y]=new Ri(g),g+=r;var w=-1===c?0:c,_=(-1===u?s.height:u)-w;return this._canvas.domNode.getContext("2d").putImageData(s,0,0,0,w,s.width,_),new Fi(e,s,b)},t._renderUntouchedLines=function(e,t,n,i,o){var r=[];if(!o){for(var a=0,s=n-t+1;a<s;a++)r[a]=!0;return[-1,-1,r]}for(var l=o._get(),c=l.imageData.data,u=l.rendLineNumberStart,d=l.lines,h=d.length,f=e.width,p=e.data,m=(n-t+1)*i*f*4,g=-1,b=-1,y=-1,v=-1,w=-1,_=-1,S=0,C=t;C<=n;C++){var x=C-t,k=C-u,T=k>=0&&k<h?d[k].dy:-1;if(-1!==T){var O=T*f*4,N=(T+i)*f*4,L=S*f*4,I=(S+i)*f*4;v===O&&_===L?(v=N,_=I):(-1!==y&&(p.set(c.subarray(y,v),w),-1===g&&0===y&&y===w&&(g=v),-1===b&&v===m&&y===w&&(b=y)),y=O,v=N,w=L,_=I),r[x]=!1,S+=i}else r[x]=!0,S+=i}return-1!==y&&(p.set(c.subarray(y,v),w),-1===g&&0===y&&y===w&&(g=v),-1===b&&v===m&&y===w&&(b=y)),[-1===g?-1:g/(4*f),-1===b?-1:b/(4*f),r]},t._renderLine=function(e,t,n,i,o,r,a,s,l){for(var c=l.content,u=l.tokens,d=Di(i),h=e.width-d,f=0,m=0,g=0,b=0,y=u.getCount();b<y;b++)for(var v=u.getEndOffset(b),w=u.getForeground(b),_=o.getColor(w);m<v;m++){if(f>h)return;var S=c.charCodeAt(m);if(9===S){var C=s-(m+g)%s;g+=C-1,f+=C*d}else if(32===S)f+=d;else for(var x=p.isFullWidthCharacter(S)?2:1,k=0;k<x;k++)if(2===i?r.x2RenderChar(e,f,a,S,_,t,n):1===i?r.x1RenderChar(e,f,a,S,_,t,n):4===i?r.x2BlockRenderChar(e,f,a,_,t,n):r.x1BlockRenderChar(e,f,a,_,t,n),(f+=d)>h)return}},t}(Ke);Object(je.e)(function(e,t){var n=e.getColor(ei.nb);if(n){var i=n.transparent(.5);t.addRule(".monaco-editor .minimap-slider, .monaco-editor .minimap-slider .minimap-slider-horizontal { background: "+i+"; }")}var o=e.getColor(ei.ob);if(o){var r=o.transparent(.5);t.addRule(".monaco-editor .minimap-slider:hover, .monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: "+r+"; }")}var a=e.getColor(ei.mb);if(a){var s=a.transparent(.5);t.addRule(".monaco-editor .minimap-slider.active, .monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: "+s+"; }")}var l=e.getColor(ei.lb);l&&t.addRule(".monaco-editor .minimap-shadow-visible { box-shadow: "+l+" -6px 0 6px -6px inset; }")});var Vi=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Bi=function(e){function t(t,n,i,o,r,a){var s=e.call(this)||this;s._cursor=r,s._renderAnimationFrame=null,s.outgoingEvents=new vi(o);var l=new cn(n,o,a,s.outgoingEvents,t);return s.eventDispatcher=new un(function(e){return s._renderOnce(e)}),s.eventDispatcher.addEventHandler(s),s._context=new bi(n,i.getTheme(),o,s.eventDispatcher),s._register(i.onThemeChange(function(e){s._context.theme=e,s.eventDispatcher.emit(new W),s.render(!0,!1)})),s.viewParts=[],s._textAreaHandler=new st(s._context,l,s.createTextAreaHandlerHelper()),s.viewParts.push(s._textAreaHandler),s.createViewParts(),s._setLayout(),s.pointerHandler=new sn(s._context,l,s.createPointerHandlerHelper()),s._register(o.addEventListener(function(e){s.eventDispatcher.emitMany(e)})),s._register(s._cursor.addEventListener(function(e){s.eventDispatcher.emitMany(e)})),s}return Vi(t,e),t.prototype.createViewParts=function(){this.linesContent=Object(We.b)(document.createElement("div")),this.linesContent.setClassName("lines-content monaco-editor-background"),this.linesContent.setPosition("absolute"),this.domNode=Object(We.b)(document.createElement("div")),this.domNode.setClassName(this.getEditorClassName()),this.overflowGuardContainer=Object(We.b)(document.createElement("div")),Ye.write(this.overflowGuardContainer,3),this.overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new xi(this._context,this.linesContent,this.domNode,this.overflowGuardContainer),this.viewParts.push(this._scrollbar),this.viewLines=new Wn(this._context,this.linesContent),this.viewZones=new gi(this._context),this.viewParts.push(this.viewZones);var e=new Yn(this._context);this.viewParts.push(e);var t=new ni(this._context);this.viewParts.push(t);var n=new yn(this._context);this.viewParts.push(n),n.addDynamicOverlay(new kn(this._context)),n.addDynamicOverlay(new ci(this._context)),n.addDynamicOverlay(new Pn(this._context)),n.addDynamicOverlay(new Ln(this._context));var i=new vn(this._context);this.viewParts.push(i),i.addDynamicOverlay(new On(this._context)),i.addDynamicOverlay(new An(this._context)),i.addDynamicOverlay(new zn(this._context)),i.addDynamicOverlay(new Bn(this._context)),i.addDynamicOverlay(new tt(this._context));var o=new $e(this._context);o.getDomNode().appendChild(this.viewZones.marginDomNode),o.getDomNode().appendChild(i.getDomNode()),this.viewParts.push(o),this.contentWidgets=new Sn(this._context,this.domNode),this.viewParts.push(this.contentWidgets),this.viewCursors=new pi(this._context),this.viewParts.push(this.viewCursors),this.overlayWidgets=new qn(this._context),this.viewParts.push(this.overlayWidgets);var r=new Jn(this._context);this.viewParts.push(r);var a=new Wi(this._context);if(this.viewParts.push(a),e){var s=this._scrollbar.getOverviewRulerLayoutInfo();s.parent.insertBefore(e.getDomNode(),s.insertBefore)}this.linesContent.appendChild(n.getDomNode()),this.linesContent.appendChild(r.domNode),this.linesContent.appendChild(this.viewZones.domNode),this.linesContent.appendChild(this.viewLines.getDomNode()),this.linesContent.appendChild(this.contentWidgets.domNode),this.linesContent.appendChild(this.viewCursors.getDomNode()),this.overflowGuardContainer.appendChild(o.getDomNode()),this.overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this.overflowGuardContainer.appendChild(t.getDomNode()),this.overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this.overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this.overflowGuardContainer.appendChild(this.overlayWidgets.getDomNode()),this.overflowGuardContainer.appendChild(a.getDomNode()),this.domNode.appendChild(this.overflowGuardContainer),this.domNode.appendChild(this.contentWidgets.overflowingContentWidgetsDomNode)},t.prototype._flushAccumulatedAndRenderNow=function(){this._renderNow()},t.prototype.createPointerHandlerHelper=function(){var e=this;return{viewDomNode:this.domNode.domNode,linesContentDomNode:this.linesContent.domNode,focusTextArea:function(){e.focus()},getLastViewCursorsRenderData:function(){return e.viewCursors.getLastRenderData()||[]},shouldSuppressMouseDownOnViewZone:function(t){return e.viewZones.shouldSuppressMouseDownOnViewZone(t)},shouldSuppressMouseDownOnWidget:function(t){return e.contentWidgets.shouldSuppressMouseDownOnWidget(t)},getPositionFromDOMInfo:function(t,n){return e._flushAccumulatedAndRenderNow(),e.viewLines.getPositionFromDOMInfo(t,n)},visibleRangeForPosition2:function(t,n){e._flushAccumulatedAndRenderNow();var i=e.viewLines.visibleRangesForRange2(new b.a(t,n,t,n));return i?i[0]:null},getLineWidth:function(t){return e._flushAccumulatedAndRenderNow(),e.viewLines.getLineWidth(t)}}},t.prototype.createTextAreaHandlerHelper=function(){var e=this;return{visibleRangeForPositionRelativeToEditor:function(t,n){e._flushAccumulatedAndRenderNow();var i=e.viewLines.visibleRangesForRange2(new b.a(t,n,t,n));return i?i[0]:null}}},t.prototype._setLayout=function(){var e=this._context.configuration.editor.layoutInfo;this.domNode.setWidth(e.width),this.domNode.setHeight(e.height),this.overflowGuardContainer.setWidth(e.width),this.overflowGuardContainer.setHeight(e.height),this.linesContent.setWidth(1e6),this.linesContent.setHeight(1e6)},t.prototype.getEditorClassName=function(){var e=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.editor.editorClassName+" "+Object(je.d)(this._context.theme.type)+e},t.prototype.onConfigurationChanged=function(e){return e.editorClassName&&this.domNode.setClassName(this.getEditorClassName()),e.layoutInfo&&this._setLayout(),!1},t.prototype.onFocusChanged=function(e){return this.domNode.setClassName(this.getEditorClassName()),this._context.model.setHasFocus(e.isFocused),e.isFocused?this.outgoingEvents.emitViewFocusGained():this.outgoingEvents.emitViewFocusLost(),!1},t.prototype.onScrollChanged=function(e){return this.outgoingEvents.emitScrollChanged(e),!1},t.prototype.onThemeChanged=function(e){return this.domNode.setClassName(this.getEditorClassName()),!1},t.prototype.dispose=function(){null!==this._renderAnimationFrame&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this.eventDispatcher.removeEventHandler(this),this.outgoingEvents.dispose(),this.pointerHandler.dispose(),this.viewLines.dispose();for(var t=0,n=this.viewParts.length;t<n;t++)this.viewParts[t].dispose();this.viewParts=[],e.prototype.dispose.call(this)},t.prototype._renderOnce=function(e){var t=Hi(e);return this._scheduleRender(),t},t.prototype._scheduleRender=function(){null===this._renderAnimationFrame&&(this._renderAnimationFrame=r.J(this._onRenderScheduled.bind(this),100))},t.prototype._onRenderScheduled=function(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()},t.prototype._renderNow=function(){var e=this;Hi(function(){return e._actualRender()})},t.prototype._getViewPartsToRender=function(){for(var e=[],t=0,n=0,i=this.viewParts.length;n<i;n++){var o=this.viewParts[n];o.shouldRender()&&(e[t++]=o)}return e},t.prototype._actualRender=function(){if(r.D(this.domNode.domNode)){var e=this._getViewPartsToRender();if(this.viewLines.shouldRender()||0!==e.length){var t=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(t.startLineNumber,t.endLineNumber,t.centeredLineNumber);var n=new _i(this._cursor.getViewSelections(),t,this._context.viewLayout.getWhitespaceViewportData(),this._context.model);this.contentWidgets.shouldRender()&&this.contentWidgets.onBeforeRender(n),this.viewLines.shouldRender()&&(this.viewLines.renderText(n),this.viewLines.onDidRender(),e=this._getViewPartsToRender());for(var i=new Ct(this._context.viewLayout,n,this.viewLines),o=0,a=e.length;o<a;o++){(s=e[o]).prepareRender(i)}for(o=0,a=e.length;o<a;o++){var s;(s=e[o]).render(i),s.onDidRender()}}}},t.prototype.delegateVerticalScrollbarMouseDown=function(e){this._scrollbar.delegateVerticalScrollbarMouseDown(e)},t.prototype.restoreState=function(e){this._context.viewLayout.setScrollPositionNow({scrollTop:e.scrollTop}),this._renderNow(),this.viewLines.updateLineWidths(),this._context.viewLayout.setScrollPositionNow({scrollLeft:e.scrollLeft})},t.prototype.getOffsetForColumn=function(e,t){var n=this._context.model.validateModelPosition({lineNumber:e,column:t}),i=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(n);this._flushAccumulatedAndRenderNow();var o=this.viewLines.visibleRangesForRange2(new b.a(i.lineNumber,i.column,i.lineNumber,i.column));return o?o[0].left:-1},t.prototype.getTargetAtClientPoint=function(e,t){return this.pointerHandler.getTargetAtClientPoint(e,t)},t.prototype.getInternalEventBus=function(){return this.outgoingEvents},t.prototype.createOverviewRuler=function(e){return new Xn(this._context,e)},t.prototype.change=function(e){var t=this,n=!1;return this._renderOnce(function(){var i={addZone:function(e){return n=!0,t.viewZones.addZone(e)},removeZone:function(e){e&&(n=t.viewZones.removeZone(e)||n)},layoutZone:function(e){e&&(n=t.viewZones.layoutZone(e)||n)}};!function(e,t){try{e(t)}catch(e){Object(a.e)(e)}}(e,i),i.addZone=null,i.removeZone=null,n&&(t._context.viewLayout.onHeightMaybeChanged(),t._context.privateViewEventBus.emit(new B))}),n},t.prototype.render=function(e,t){if(t){this.viewLines.forceShouldRender();for(var n=0,i=this.viewParts.length;n<i;n++){this.viewParts[n].forceShouldRender()}}e?this._flushAccumulatedAndRenderNow():this._scheduleRender()},t.prototype.focus=function(){this._textAreaHandler.focusTextArea()},t.prototype.isFocused=function(){return this._textAreaHandler.isFocused()},t.prototype.addContentWidget=function(e){this.contentWidgets.addWidget(e.widget),this.layoutContentWidget(e),this._scheduleRender()},t.prototype.layoutContentWidget=function(e){var t=e.position?e.position.position:null,n=e.position?e.position.preference:null;this.contentWidgets.setWidgetPosition(e.widget,t,n),this._scheduleRender()},t.prototype.removeContentWidget=function(e){this.contentWidgets.removeWidget(e.widget),this._scheduleRender()},t.prototype.addOverlayWidget=function(e){this.overlayWidgets.addWidget(e.widget),this.layoutOverlayWidget(e),this._scheduleRender()},t.prototype.layoutOverlayWidget=function(e){var t=e.position?e.position.preference:null;this.overlayWidgets.setWidgetPosition(e.widget,t)&&this._scheduleRender()},t.prototype.removeOverlayWidget=function(e){this.overlayWidgets.removeWidget(e.widget),this._scheduleRender()},t}(Be);function Hi(e){try{return e()}catch(e){Object(a.e)(e)}}var zi=n(3),Ui=n(196);n.d(t,"a",function(){return $i});var qi=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Gi=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},Ki=function(e,t){return function(n,i){t(n,i,e)}},Yi=0,Zi="showUnused",$i=function(e){function t(t,n,i,o,r,l,c,u,f){var p=e.call(this)||this;p._onDidDispose=p._register(new s.a),p.onDidDispose=p._onDidDispose.event,p._onDidChangeModelContent=p._register(new s.a),p.onDidChangeModelContent=p._onDidChangeModelContent.event,p._onDidChangeModelLanguage=p._register(new s.a),p.onDidChangeModelLanguage=p._onDidChangeModelLanguage.event,p._onDidChangeModelLanguageConfiguration=p._register(new s.a),p.onDidChangeModelLanguageConfiguration=p._onDidChangeModelLanguageConfiguration.event,p._onDidChangeModelOptions=p._register(new s.a),p.onDidChangeModelOptions=p._onDidChangeModelOptions.event,p._onDidChangeModelDecorations=p._register(new s.a),p.onDidChangeModelDecorations=p._onDidChangeModelDecorations.event,p._onDidChangeConfiguration=p._register(new s.a),p.onDidChangeConfiguration=p._onDidChangeConfiguration.event,p._onDidChangeModel=p._register(new s.a),p.onDidChangeModel=p._onDidChangeModel.event,p._onDidChangeCursorPosition=p._register(new s.a),p.onDidChangeCursorPosition=p._onDidChangeCursorPosition.event,p._onDidChangeCursorSelection=p._register(new s.a),p.onDidChangeCursorSelection=p._onDidChangeCursorSelection.event,p._onDidAttemptReadOnlyEdit=p._register(new s.a),p.onDidAttemptReadOnlyEdit=p._onDidAttemptReadOnlyEdit.event,p._onDidLayoutChange=p._register(new s.a),p.onDidLayoutChange=p._onDidLayoutChange.event,p._editorTextFocus=p._register(new Xi),p.onDidFocusEditorText=p._editorTextFocus.onDidChangeToTrue,p.onDidBlurEditorText=p._editorTextFocus.onDidChangeToFalse,p._editorWidgetFocus=p._register(new Xi),p.onDidFocusEditorWidget=p._editorWidgetFocus.onDidChangeToTrue,p.onDidBlurEditorWidget=p._editorWidgetFocus.onDidChangeToFalse,p._onWillType=p._register(new s.a),p.onWillType=p._onWillType.event,p._onDidType=p._register(new s.a),p.onDidType=p._onDidType.event,p._onDidPaste=p._register(new s.a),p.onDidPaste=p._onDidPaste.event,p._onMouseUp=p._register(new s.a),p.onMouseUp=p._onMouseUp.event,p._onMouseDown=p._register(new s.a),p.onMouseDown=p._onMouseDown.event,p._onMouseDrag=p._register(new s.a),p.onMouseDrag=p._onMouseDrag.event,p._onMouseDrop=p._register(new s.a),p.onMouseDrop=p._onMouseDrop.event,p._onContextMenu=p._register(new s.a),p.onContextMenu=p._onContextMenu.event,p._onMouseMove=p._register(new s.a),p.onMouseMove=p._onMouseMove.event,p._onMouseLeave=p._register(new s.a),p.onMouseLeave=p._onMouseLeave.event,p._onKeyUp=p._register(new s.a),p.onKeyUp=p._onKeyUp.event,p._onKeyDown=p._register(new s.a),p.onKeyDown=p._onKeyDown.event,p._onDidScrollChange=p._register(new s.a),p.onDidScrollChange=p._onDidScrollChange.event,p._onDidChangeViewZones=p._register(new s.a),p.onDidChangeViewZones=p._onDidChangeViewZones.event,p.domElement=t,p.id=++Yi,p._decorationTypeKeysToIds={},p._decorationTypeSubtypes={},p.isSimpleWidget=i.isSimpleWidget||!1,p._telemetryData=i.telemetryData||null,n=n||{},p._configuration=p._register(p._createConfiguration(n)),p._register(p._configuration.onDidChange(function(e){p._onDidChangeConfiguration.fire(e),e.layoutInfo&&p._onDidLayoutChange.fire(p._configuration.editor.layoutInfo),p._configuration.editor.showUnused?p.domElement.classList.add(Zi):p.domElement.classList.remove(Zi)})),p._contextKeyService=p._register(c.createScoped(p.domElement)),p._notificationService=f,p._codeEditorService=r,p._commandService=l,p._themeService=u,p._register(new Qi(p,p._contextKeyService)),p._register(new Ji(p,p._contextKeyService)),p._instantiationService=o.createChild(new d.a([h.e,p._contextKeyService])),p._attachModel(null),p._contributions={},p._actions={},p._focusTracker=new eo(t),p._focusTracker.onChange(function(){p._editorWidgetFocus.setValue(p._focusTracker.hasFocus())}),p.contentWidgets={},p.overlayWidgets={};var m=i.contributions;Array.isArray(m)||(m=zi.d.getEditorContributions());for(var g=0,b=m.length;g<b;g++){var y=m[g];try{var v=p._instantiationService.createInstance(y,p);p._contributions[v.getId()]=v}catch(e){Object(a.e)(e)}}return zi.d.getEditorActions().forEach(function(e){var t=new Ui.a(e.id,e.label,e.alias,e.precondition,function(){return p._instantiationService.invokeFunction(function(t){return e.runEditorCommand(t,p,null)})},p._contextKeyService);p._actions[t.id]=t}),p._codeEditorService.addCodeEditor(p),p}return qi(t,e),t.prototype._createConfiguration=function(e){return new f.a(e,this.domElement)},t.prototype.getId=function(){return this.getEditorType()+":"+this.id},t.prototype.getEditorType=function(){return S.a.ICodeEditor},t.prototype.dispose=function(){this._codeEditorService.removeCodeEditor(this),this.contentWidgets={},this.overlayWidgets={},this._focusTracker.dispose();for(var t=Object.keys(this._contributions),n=0,i=t.length;n<i;n++){var o=t[n];this._contributions[o].dispose()}this._contributions={},this._actions={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),e.prototype.dispose.call(this)},t.prototype.invokeWithinContext=function(e){return this._instantiationService.invokeFunction(e)},t.prototype.updateOptions=function(e){this._configuration.updateOptions(e)},t.prototype.getConfiguration=function(){return this._configuration.editor},t.prototype.getRawConfiguration=function(){return this._configuration.getRawOptions()},t.prototype.getValue=function(e){if(void 0===e&&(e=null),this.model){var t=!(!e||!e.preserveBOM),n=v.c.TextDefined;return e&&e.lineEnding&&"\n"===e.lineEnding?n=v.c.LF:e&&e.lineEnding&&"\r\n"===e.lineEnding&&(n=v.c.CRLF),this.model.getValue(n,t)}return""},t.prototype.setValue=function(e){this.model&&this.model.setValue(e)},t.prototype.getModel=function(){return this.model},t.prototype.setModel=function(e){if(void 0===e&&(e=null),this.model!==e){var t=this._detachModel();this._attachModel(e);var n={oldModelUrl:t?t.uri:null,newModelUrl:e?e.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(n),this._postDetachModelCleanup(t)}},t.prototype._removeDecorationTypes=function(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(var e in this._decorationTypeSubtypes){var t=this._decorationTypeSubtypes[e];for(var n in t)this._removeDecorationType(e+"-"+n)}this._decorationTypeSubtypes={}}},t.prototype.getVisibleRanges=function(){return this.hasView?this.viewModel.getVisibleRanges():[]},t.prototype.getWhitespaces=function(){return this.hasView?this.viewModel.viewLayout.getWhitespaces():[]},t.prototype._getVerticalOffsetForPosition=function(e,t){var n=this.model.validatePosition({lineNumber:e,column:t}),i=this.viewModel.coordinatesConverter.convertModelPositionToViewPosition(n);return this.viewModel.viewLayout.getVerticalOffsetForLineNumber(i.lineNumber)},t.prototype.getTopForLineNumber=function(e){return this.hasView?this._getVerticalOffsetForPosition(e,1):-1},t.prototype.getTopForPosition=function(e,t){return this.hasView?this._getVerticalOffsetForPosition(e,t):-1},t.prototype.setHiddenAreas=function(e){this.viewModel&&this.viewModel.setHiddenAreas(e.map(function(e){return b.a.lift(e)}))},t.prototype.getVisibleColumnFromPosition=function(e){if(!this.model)return e.column;var t=this.model.validatePosition(e),n=this.model.getOptions().tabSize;return m.a.visibleColumnFromColumn(this.model.getLineContent(t.lineNumber),t.column,n)+1},t.prototype.getPosition=function(){return this.cursor?this.cursor.getPosition().clone():null},t.prototype.setPosition=function(e){if(this.cursor){if(!g.a.isIPosition(e))throw new Error("Invalid arguments");this.cursor.setSelections("api",[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}])}},t.prototype._sendRevealRange=function(e,t,n,i){if(this.model&&this.cursor){if(!b.a.isIRange(e))throw new Error("Invalid arguments");var o=this.model.validateRange(e),r=this.viewModel.coordinatesConverter.convertModelRangeToViewRange(o);this.cursor.emitCursorRevealRange(r,t,n,i)}},t.prototype.revealLine=function(e,t){void 0===t&&(t=0),this._revealLine(e,0,t)},t.prototype.revealLineInCenter=function(e,t){void 0===t&&(t=0),this._revealLine(e,1,t)},t.prototype.revealLineInCenterIfOutsideViewport=function(e,t){void 0===t&&(t=0),this._revealLine(e,2,t)},t.prototype._revealLine=function(e,t,n){if("number"!==typeof e)throw new Error("Invalid arguments");this._sendRevealRange(new b.a(e,1,e,1),t,!1,n)},t.prototype.revealPosition=function(e,t){void 0===t&&(t=0),this._revealPosition(e,0,!0,t)},t.prototype.revealPositionInCenter=function(e,t){void 0===t&&(t=0),this._revealPosition(e,1,!0,t)},t.prototype.revealPositionInCenterIfOutsideViewport=function(e,t){void 0===t&&(t=0),this._revealPosition(e,2,!0,t)},t.prototype._revealPosition=function(e,t,n,i){if(!g.a.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange(new b.a(e.lineNumber,e.column,e.lineNumber,e.column),t,n,i)},t.prototype.getSelection=function(){return this.cursor?this.cursor.getSelection().clone():null},t.prototype.getSelections=function(){if(!this.cursor)return null;for(var e=this.cursor.getSelections(),t=[],n=0,i=e.length;n<i;n++)t[n]=e[n].clone();return t},t.prototype.setSelection=function(e){var t=y.a.isISelection(e),n=b.a.isIRange(e);if(!t&&!n)throw new Error("Invalid arguments");if(t)this._setSelectionImpl(e);else if(n){var i={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(i)}},t.prototype._setSelectionImpl=function(e){if(this.cursor){var t=new y.a(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this.cursor.setSelections("api",[t])}},t.prototype.revealLines=function(e,t,n){void 0===n&&(n=0),this._revealLines(e,t,0,n)},t.prototype.revealLinesInCenter=function(e,t,n){void 0===n&&(n=0),this._revealLines(e,t,1,n)},t.prototype.revealLinesInCenterIfOutsideViewport=function(e,t,n){void 0===n&&(n=0),this._revealLines(e,t,2,n)},t.prototype._revealLines=function(e,t,n,i){if("number"!==typeof e||"number"!==typeof t)throw new Error("Invalid arguments");this._sendRevealRange(new b.a(e,1,t,1),n,!1,i)},t.prototype.revealRange=function(e,t,n,i){void 0===t&&(t=0),void 0===n&&(n=!1),void 0===i&&(i=!0),this._revealRange(e,n?1:0,i,t)},t.prototype.revealRangeInCenter=function(e,t){void 0===t&&(t=0),this._revealRange(e,1,!0,t)},t.prototype.revealRangeInCenterIfOutsideViewport=function(e,t){void 0===t&&(t=0),this._revealRange(e,2,!0,t)},t.prototype.revealRangeAtTop=function(e,t){void 0===t&&(t=0),this._revealRange(e,3,!0,t)},t.prototype._revealRange=function(e,t,n,i){if(!b.a.isIRange(e))throw new Error("Invalid arguments");this._sendRevealRange(b.a.lift(e),t,n,i)},t.prototype.setSelections=function(e){if(this.cursor){if(!e||0===e.length)throw new Error("Invalid arguments");for(var t=0,n=e.length;t<n;t++)if(!y.a.isISelection(e[t]))throw new Error("Invalid arguments");this.cursor.setSelections("api",e)}},t.prototype.getScrollWidth=function(){return this.hasView?this.viewModel.viewLayout.getScrollWidth():-1},t.prototype.getScrollLeft=function(){return this.hasView?this.viewModel.viewLayout.getCurrentScrollLeft():-1},t.prototype.getScrollHeight=function(){return this.hasView?this.viewModel.viewLayout.getScrollHeight():-1},t.prototype.getScrollTop=function(){return this.hasView?this.viewModel.viewLayout.getCurrentScrollTop():-1},t.prototype.setScrollLeft=function(e){if(this.hasView){if("number"!==typeof e)throw new Error("Invalid arguments");this.viewModel.viewLayout.setScrollPositionNow({scrollLeft:e})}},t.prototype.setScrollTop=function(e){if(this.hasView){if("number"!==typeof e)throw new Error("Invalid arguments");this.viewModel.viewLayout.setScrollPositionNow({scrollTop:e})}},t.prototype.setScrollPosition=function(e){this.hasView&&this.viewModel.viewLayout.setScrollPositionNow(e)},t.prototype.saveViewState=function(){if(!this.cursor||!this.hasView)return null;for(var e={},t=Object.keys(this._contributions),n=0,i=t.length;n<i;n++){var o=t[n],r=this._contributions[o];"function"===typeof r.saveViewState&&(e[o]=r.saveViewState())}return{cursorState:this.cursor.saveState(),viewState:this.viewModel.saveState(),contributionsState:e}},t.prototype.restoreViewState=function(e){if(this.cursor&&this.hasView&&e&&e.cursorState&&e.viewState){var t=e.cursorState;Array.isArray(t)?this.cursor.restoreState(t):this.cursor.restoreState([t]);for(var n=e.contributionsState||{},i=Object.keys(this._contributions),o=0,r=i.length;o<r;o++){var a=i[o],s=this._contributions[a];"function"===typeof s.restoreViewState&&s.restoreViewState(n[a])}var l=this.viewModel.reduceRestoreState(e.viewState),c=this.viewModel.viewLayout.getLinesViewportDataAtScrollTop(l.scrollTop),u=this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new g.a(c.startLineNumber,1)),d=this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new g.a(c.endLineNumber,1));this.model.tokenizeViewport(u.lineNumber,d.lineNumber),this._view.restoreState(l)}},t.prototype.getContribution=function(e){return this._contributions[e]||null},t.prototype.getActions=function(){for(var e=[],t=Object.keys(this._actions),n=0,i=t.length;n<i;n++){var o=t[n];e.push(this._actions[o])}return e},t.prototype.getSupportedActions=function(){var e=this.getActions();return e=e.filter(function(e){return e.isSupported()})},t.prototype.getAction=function(e){return this._actions[e]||null},t.prototype.trigger=function(e,t,n){if(n=n||{},t===S.b.Type){if(!this.cursor||"string"!==typeof n.text||0===n.text.length)return;return"keyboard"===e&&this._onWillType.fire(n.text),this.cursor.trigger(e,t,n),void("keyboard"===e&&this._onDidType.fire(n.text))}if(t!==S.b.Paste){var i=this.getAction(t);i?c.b.as(i.run()).then(null,a.e):this.cursor&&(this._triggerEditorCommand(e,t,n)||this.cursor.trigger(e,t,n))}else{if(!this.cursor||"string"!==typeof n.text||0===n.text.length)return;var o=this.cursor.getSelection().getStartPosition();this.cursor.trigger(e,t,n);var r=this.cursor.getSelection().getStartPosition();"keyboard"===e&&this._onDidPaste.fire(new b.a(o.lineNumber,o.column,r.lineNumber,r.column))}},t.prototype._triggerEditorCommand=function(e,t,n){var i=zi.d.getEditorCommand(t);return!!i&&((n=n||{}).source=e,c.b.as(i.runEditorCommand(null,this,n)).done(null,a.e),!0)},t.prototype._getCursors=function(){return this.cursor},t.prototype._getCursorConfiguration=function(){return this.cursor.context.config},t.prototype.pushUndoStop=function(){return!!this.model&&(!this._configuration.editor.readOnly&&(this.model.pushStackElement(),!0))},t.prototype.executeEdits=function(e,t,n){return!!this.cursor&&(!this._configuration.editor.readOnly&&(this.model.pushEditOperations(this.cursor.getSelections(),t,function(){return n||null}),n&&this.cursor.setSelections(e,n),!0))},t.prototype.executeCommand=function(e,t){this.cursor&&this.cursor.trigger(e,S.b.ExecuteCommand,t)},t.prototype.executeCommands=function(e,t){this.cursor&&this.cursor.trigger(e,S.b.ExecuteCommands,t)},t.prototype.changeDecorations=function(e){return this.model?this.model.changeDecorations(e,this.id):null},t.prototype.getLineDecorations=function(e){return this.model?this.model.getLineDecorations(e,this.id,this._configuration.editor.readOnly):null},t.prototype.deltaDecorations=function(e,t){return this.model?0===e.length&&0===t.length?e:this.model.deltaDecorations(e,t,this.id):[]},t.prototype.removeDecorations=function(e){var t=this._decorationTypeKeysToIds[e];t&&this.deltaDecorations(t,[]),this._decorationTypeKeysToIds.hasOwnProperty(e)&&delete this._decorationTypeKeysToIds[e],this._decorationTypeSubtypes.hasOwnProperty(e)&&delete this._decorationTypeSubtypes[e]},t.prototype.getLayoutInfo=function(){return this._configuration.editor.layoutInfo},t.prototype.createOverviewRuler=function(e){return this._view.createOverviewRuler(e)},t.prototype.getDomNode=function(){return this.hasView?this._view.domNode.domNode:null},t.prototype.delegateVerticalScrollbarMouseDown=function(e){this.hasView&&this._view.delegateVerticalScrollbarMouseDown(e)},t.prototype.layout=function(e){this._configuration.observeReferenceElement(e),this.render()},t.prototype.focus=function(){this.hasView&&this._view.focus()},t.prototype.hasTextFocus=function(){return this.hasView&&this._view.isFocused()},t.prototype.hasWidgetFocus=function(){return this._focusTracker&&this._focusTracker.hasFocus()},t.prototype.addContentWidget=function(e){var t={widget:e,position:e.getPosition()};this.contentWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a content widget with the same id."),this.contentWidgets[e.getId()]=t,this.hasView&&this._view.addContentWidget(t)},t.prototype.layoutContentWidget=function(e){var t=e.getId();if(this.contentWidgets.hasOwnProperty(t)){var n=this.contentWidgets[t];n.position=e.getPosition(),this.hasView&&this._view.layoutContentWidget(n)}},t.prototype.removeContentWidget=function(e){var t=e.getId();if(this.contentWidgets.hasOwnProperty(t)){var n=this.contentWidgets[t];delete this.contentWidgets[t],this.hasView&&this._view.removeContentWidget(n)}},t.prototype.addOverlayWidget=function(e){var t={widget:e,position:e.getPosition()};this.overlayWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting an overlay widget with the same id."),this.overlayWidgets[e.getId()]=t,this.hasView&&this._view.addOverlayWidget(t)},t.prototype.layoutOverlayWidget=function(e){var t=e.getId();if(this.overlayWidgets.hasOwnProperty(t)){var n=this.overlayWidgets[t];n.position=e.getPosition(),this.hasView&&this._view.layoutOverlayWidget(n)}},t.prototype.removeOverlayWidget=function(e){var t=e.getId();if(this.overlayWidgets.hasOwnProperty(t)){var n=this.overlayWidgets[t];delete this.overlayWidgets[t],this.hasView&&this._view.removeOverlayWidget(n)}},t.prototype.changeViewZones=function(e){this.hasView&&(this._view.change(e)&&this._onDidChangeViewZones.fire())},t.prototype.getTargetAtClientPoint=function(e,t){return this.hasView?this._view.getTargetAtClientPoint(e,t):null},t.prototype.getScrolledVisiblePosition=function(e){if(!this.hasView)return null;var t=this.model.validatePosition(e),n=this._configuration.editor.layoutInfo;return{top:this._getVerticalOffsetForPosition(t.lineNumber,t.column)-this.getScrollTop(),left:this._view.getOffsetForColumn(t.lineNumber,t.column)+n.glyphMarginWidth+n.lineNumbersWidth+n.decorationsWidth-this.getScrollLeft(),height:this._configuration.editor.lineHeight}},t.prototype.getOffsetForColumn=function(e,t){return this.hasView?this._view.getOffsetForColumn(e,t):-1},t.prototype.render=function(){this.hasView&&this._view.render(!0,!1)},t.prototype.applyFontInfo=function(e){f.a.applyFontInfoSlow(e,this._configuration.editor.fontInfo)},t.prototype._attachModel=function(e){var t=this;if(this._view=null,this.model=e||null,this.listenersToRemove=[],this.viewModel=null,this.cursor=null,this.model?(this.domElement.setAttribute("data-mode-id",this.model.getLanguageIdentifier().language),this._configuration.setIsDominatedByLongLines(this.model.isDominatedByLongLines()),this._configuration.setMaxLineNumber(this.model.getLineCount()),this.model.onBeforeAttached(),this.viewModel=new De(this.id,this._configuration,this.model,function(e){return r.L(e)}),this.listenersToRemove.push(this.model.onDidChangeDecorations(function(e){return t._onDidChangeModelDecorations.fire(e)})),this.listenersToRemove.push(this.model.onDidChangeLanguage(function(e){t.model&&(t.domElement.setAttribute("data-mode-id",t.model.getLanguageIdentifier().language),t._onDidChangeModelLanguage.fire(e))})),this.listenersToRemove.push(this.model.onDidChangeLanguageConfiguration(function(e){return t._onDidChangeModelLanguageConfiguration.fire(e)})),this.listenersToRemove.push(this.model.onDidChangeContent(function(e){return t._onDidChangeModelContent.fire(e)})),this.listenersToRemove.push(this.model.onDidChangeOptions(function(e){return t._onDidChangeModelOptions.fire(e)})),this.listenersToRemove.push(this.model.onWillDispose(function(){return t.setModel(null)})),this.cursor=new Z(this._configuration,this.model,this.viewModel),this._createView(),this.listenersToRemove.push(this.cursor.onDidReachMaxCursorCount(function(){t._notificationService.warn(o.a("cursors.maximum","The number of cursors has been limited to {0}.",Z.MAX_CURSOR_COUNT))})),this.listenersToRemove.push(this.cursor.onDidAttemptReadOnlyEdit(function(){t._onDidAttemptReadOnlyEdit.fire(void 0)})),this.listenersToRemove.push(this.cursor.onDidChange(function(e){for(var n=[],i=0,o=e.selections.length;i<o;i++)n[i]=e.selections[i].getPosition();var r={position:n[0],secondaryPositions:n.slice(1),reason:e.reason,source:e.source};t._onDidChangeCursorPosition.fire(r);var a={selection:e.selections[0],secondarySelections:e.selections.slice(1),source:e.source,reason:e.reason};t._onDidChangeCursorSelection.fire(a)}))):this.hasView=!1,this._view){this.domElement.appendChild(this._view.domNode.domNode);for(var n=Object.keys(this.contentWidgets),i=0,a=n.length;i<a;i++){var s=n[i];this._view.addContentWidget(this.contentWidgets[s])}for(i=0,a=(n=Object.keys(this.overlayWidgets)).length;i<a;i++){s=n[i];this._view.addOverlayWidget(this.overlayWidgets[s])}this._view.render(!1,!0),this.hasView=!0,this._view.domNode.domNode.setAttribute("data-uri",e.uri.toString())}},t.prototype._createView=function(){var e,t=this;e=this.isSimpleWidget?{paste:function(e,n,i,o){t.trigger(e,S.b.Paste,{text:n,pasteOnNewLine:i,multicursorText:o})},type:function(e,n){t.trigger(e,S.b.Type,{text:n})},replacePreviousChar:function(e,n,i){t.trigger(e,S.b.ReplacePreviousChar,{text:n,replaceCharCnt:i})},compositionStart:function(e){t.trigger(e,S.b.CompositionStart,void 0)},compositionEnd:function(e){t.trigger(e,S.b.CompositionEnd,void 0)},cut:function(e){t.trigger(e,S.b.Cut,void 0)}}:{paste:function(e,n,i,o){t._commandService.executeCommand(S.b.Paste,{text:n,pasteOnNewLine:i,multicursorText:o})},type:function(e,n){t._commandService.executeCommand(S.b.Type,{text:n})},replacePreviousChar:function(e,n,i){t._commandService.executeCommand(S.b.ReplacePreviousChar,{text:n,replaceCharCnt:i})},compositionStart:function(e){t._commandService.executeCommand(S.b.CompositionStart,{})},compositionEnd:function(e){t._commandService.executeCommand(S.b.CompositionEnd,{})},cut:function(e){t._commandService.executeCommand(S.b.Cut,{})}},this._view=new Bi(e,this._configuration,this._themeService,this.viewModel,this.cursor,function(e,n){t.cursor&&e.runCoreEditorCommand(t.cursor,n)});var n=this._view.getInternalEventBus();n.onDidGainFocus=function(){t._editorTextFocus.setValue(!0),t._editorWidgetFocus.setValue(!0)},n.onDidScroll=function(e){return t._onDidScrollChange.fire(e)},n.onDidLoseFocus=function(){return t._editorTextFocus.setValue(!1)},n.onContextMenu=function(e){return t._onContextMenu.fire(e)},n.onMouseDown=function(e){return t._onMouseDown.fire(e)},n.onMouseUp=function(e){return t._onMouseUp.fire(e)},n.onMouseDrag=function(e){return t._onMouseDrag.fire(e)},n.onMouseDrop=function(e){return t._onMouseDrop.fire(e)},n.onKeyUp=function(e){return t._onKeyUp.fire(e)},n.onMouseMove=function(e){return t._onMouseMove.fire(e)},n.onMouseLeave=function(e){return t._onMouseLeave.fire(e)},n.onKeyDown=function(e){return t._onKeyDown.fire(e)}},t.prototype._postDetachModelCleanup=function(e){e&&e.removeAllDecorationsWithOwnerId(this.id)},t.prototype._detachModel=function(){var e=null;this._view&&(this._view.dispose(),e=this._view.domNode.domNode,this._view=null),this.model&&this.model.onBeforeDetached(),this.hasView=!1,this.listenersToRemove=Object(l.d)(this.listenersToRemove),this.cursor&&(this.cursor.dispose(),this.cursor=null),this.viewModel&&(this.viewModel.dispose(),this.viewModel=null);var t=this.model;return this.model=null,this.domElement.removeAttribute("data-mode-id"),e&&this.domElement.removeChild(e),t},t.prototype._removeDecorationType=function(e){this._codeEditorService.removeDecorationType(e)},t.prototype.getTelemetryData=function(){return this._telemetryData},t=Gi([Ki(3,u.a),Ki(4,Re.a),Ki(5,Fe.b),Ki(6,h.e),Ki(7,je.c),Ki(8,Pe.a)],t)}(l.a),Xi=function(e){function t(){var t=e.call(this)||this;return t._onDidChangeToTrue=t._register(new s.a),t.onDidChangeToTrue=t._onDidChangeToTrue.event,t._onDidChangeToFalse=t._register(new s.a),t.onDidChangeToFalse=t._onDidChangeToFalse.event,t._value=0,t}return qi(t,e),t.prototype.setValue=function(e){var t=e?2:1;this._value!==t&&(this._value=t,2===this._value?this._onDidChangeToTrue.fire():1===this._value&&this._onDidChangeToFalse.fire())},t}(l.a),Qi=function(e){function t(t,n){var i=e.call(this)||this;return i._editor=t,n.createKey("editorId",t.getId()),i._editorFocus=Ae.a.focus.bindTo(n),i._textInputFocus=Ae.a.textInputFocus.bindTo(n),i._editorTextFocus=Ae.a.editorTextFocus.bindTo(n),i._editorTabMovesFocus=Ae.a.tabMovesFocus.bindTo(n),i._editorReadonly=Ae.a.readOnly.bindTo(n),i._hasMultipleSelections=Ae.a.hasMultipleSelections.bindTo(n),i._hasNonEmptySelection=Ae.a.hasNonEmptySelection.bindTo(n),i._canUndo=Ae.a.canUndo.bindTo(n),i._canRedo=Ae.a.canRedo.bindTo(n),i._register(i._editor.onDidChangeConfiguration(function(){return i._updateFromConfig()})),i._register(i._editor.onDidChangeCursorSelection(function(){return i._updateFromSelection()})),i._register(i._editor.onDidFocusEditorWidget(function(){return i._updateFromFocus()})),i._register(i._editor.onDidBlurEditorWidget(function(){return i._updateFromFocus()})),i._register(i._editor.onDidFocusEditorText(function(){return i._updateFromFocus()})),i._register(i._editor.onDidBlurEditorText(function(){return i._updateFromFocus()})),i._register(i._editor.onDidChangeModel(function(){return i._updateFromModel()})),i._register(i._editor.onDidChangeConfiguration(function(){return i._updateFromModel()})),i._updateFromConfig(),i._updateFromSelection(),i._updateFromFocus(),i._updateFromModel(),i}return qi(t,e),t.prototype._updateFromConfig=function(){var e=this._editor.getConfiguration();this._editorTabMovesFocus.set(e.tabFocusMode),this._editorReadonly.set(e.readOnly)},t.prototype._updateFromSelection=function(){var e=this._editor.getSelections();e?(this._hasMultipleSelections.set(e.length>1),this._hasNonEmptySelection.set(e.some(function(e){return!e.isEmpty()}))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())},t.prototype._updateFromFocus=function(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())},t.prototype._updateFromModel=function(){var e=this._editor.getModel();this._canUndo.set(e&&e.canUndo()),this._canRedo.set(e&&e.canRedo())},t}(l.a),Ji=function(e){function t(t,n){var i=e.call(this)||this;i._editor=t,i._langId=Ae.a.languageId.bindTo(n),i._hasCompletionItemProvider=Ae.a.hasCompletionItemProvider.bindTo(n),i._hasCodeActionsProvider=Ae.a.hasCodeActionsProvider.bindTo(n),i._hasCodeLensProvider=Ae.a.hasCodeLensProvider.bindTo(n),i._hasDefinitionProvider=Ae.a.hasDefinitionProvider.bindTo(n),i._hasImplementationProvider=Ae.a.hasImplementationProvider.bindTo(n),i._hasTypeDefinitionProvider=Ae.a.hasTypeDefinitionProvider.bindTo(n),i._hasHoverProvider=Ae.a.hasHoverProvider.bindTo(n),i._hasDocumentHighlightProvider=Ae.a.hasDocumentHighlightProvider.bindTo(n),i._hasDocumentSymbolProvider=Ae.a.hasDocumentSymbolProvider.bindTo(n),i._hasReferenceProvider=Ae.a.hasReferenceProvider.bindTo(n),i._hasRenameProvider=Ae.a.hasRenameProvider.bindTo(n),i._hasDocumentFormattingProvider=Ae.a.hasDocumentFormattingProvider.bindTo(n),i._hasDocumentSelectionFormattingProvider=Ae.a.hasDocumentSelectionFormattingProvider.bindTo(n),i._hasSignatureHelpProvider=Ae.a.hasSignatureHelpProvider.bindTo(n),i._isInWalkThrough=Ae.a.isInEmbeddedEditor.bindTo(n);var o=function(){return i._update()};return i._register(t.onDidChangeModel(o)),i._register(t.onDidChangeModelLanguage(o)),i._register(X.u.onDidChange(o)),i._register(X.a.onDidChange(o)),i._register(X.c.onDidChange(o)),i._register(X.e.onDidChange(o)),i._register(X.n.onDidChange(o)),i._register(X.z.onDidChange(o)),i._register(X.m.onDidChange(o)),i._register(X.h.onDidChange(o)),i._register(X.j.onDidChange(o)),i._register(X.r.onDidChange(o)),i._register(X.s.onDidChange(o)),i._register(X.f.onDidChange(o)),i._register(X.i.onDidChange(o)),i._register(X.t.onDidChange(o)),o(),i}return qi(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.reset=function(){this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()},t.prototype._update=function(){var e=this._editor.getModel();e?(this._langId.set(e.getLanguageIdentifier().language),this._hasCompletionItemProvider.set(X.u.has(e)),this._hasCodeActionsProvider.set(X.a.has(e)),this._hasCodeLensProvider.set(X.c.has(e)),this._hasDefinitionProvider.set(X.e.has(e)),this._hasImplementationProvider.set(X.n.has(e)),this._hasTypeDefinitionProvider.set(X.z.has(e)),this._hasHoverProvider.set(X.m.has(e)),this._hasDocumentHighlightProvider.set(X.h.has(e)),this._hasDocumentSymbolProvider.set(X.j.has(e)),this._hasReferenceProvider.set(X.r.has(e)),this._hasRenameProvider.set(X.s.has(e)),this._hasSignatureHelpProvider.set(X.t.has(e)),this._hasDocumentFormattingProvider.set(X.f.has(e)||X.i.has(e)),this._hasDocumentSelectionFormattingProvider.set(X.i.has(e)),this._isInWalkThrough.set(e.uri.scheme===Me.a.walkThroughSnippet)):this.reset()},t}(l.a),eo=function(e){function t(t){var n=e.call(this)||this;return n._onChange=n._register(new s.a),n.onChange=n._onChange.event,n._hasFocus=!1,n._domFocusTracker=n._register(r.O(t)),n._register(n._domFocusTracker.onDidFocus(function(){n._hasFocus=!0,n._onChange.fire(void 0)})),n._register(n._domFocusTracker.onDidBlur(function(){n._hasFocus=!1,n._onChange.fire(void 0)})),n}return qi(t,e),t.prototype.hasFocus=function(){return this._hasFocus},t}(l.a),to=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),no=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function io(e){return to+encodeURIComponent(e.toString())+no}var oo=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),ro=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');Object(je.e)(function(e,t){var n=e.getColor(Xe.h);n&&t.addRule(".monaco-editor .squiggly-error { border-bottom: 4px double "+n+"; }");var i=e.getColor(Xe.i);i&&t.addRule('.monaco-editor .squiggly-error { background: url("data:image/svg+xml,'+io(i)+'") repeat-x bottom left; }');var o=e.getColor(Xe.v);o&&t.addRule(".monaco-editor .squiggly-warning { border-bottom: 4px double "+o+"; }");var r=e.getColor(Xe.w);r&&t.addRule('.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,'+io(r)+'") repeat-x bottom left; }');var a=e.getColor(Xe.m);a&&t.addRule(".monaco-editor .squiggly-info { border-bottom: 4px double "+a+"; }");var s=e.getColor(Xe.n);s&&t.addRule('.monaco-editor .squiggly-info { background: url("data:image/svg+xml,'+io(s)+'") repeat-x bottom left; }');var l=e.getColor(Xe.j);l&&t.addRule(".monaco-editor .squiggly-hint { border-bottom: 2px dotted "+l+"; }");var c=e.getColor(Xe.k);c&&t.addRule('.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,'+(oo+encodeURIComponent(c.toString())+ro)+'") no-repeat bottom left; }');var u=e.getColor(Xe.u);u&&t.addRule("."+Zi+" .monaco-editor .squiggly-inline-unnecessary { opacity: "+u.rgba.a+"; will-change: opacity; }");var d=e.getColor(Xe.t);d&&t.addRule("."+Zi+" .monaco-editor .squiggly-unnecessary { border-bottom: 2px dashed "+d+"; }")})},function(e,t,n){"use strict";n.r(t);var i=n(0),o=n(7),r=n(13),a=n(9),s=n(3),l=n(20),c=function(){function e(e){e&&0!==e.length?1===e.length&&null!==e[0].staticValue?(this._staticValue=e[0].staticValue,this._pieces=null):(this._staticValue=null,this._pieces=e):(this._staticValue="",this._pieces=null)}return e.fromStaticValue=function(t){return new e([u.staticValue(t)])},Object.defineProperty(e.prototype,"hasReplacementPatterns",{get:function(){return null===this._staticValue},enumerable:!0,configurable:!0}),e.prototype.buildReplaceString=function(t){if(null!==this._staticValue)return this._staticValue;for(var n="",i=0,o=this._pieces.length;i<o;i++){var r=this._pieces[i];null===r.staticValue?n+=e._substitute(r.matchIndex,t):n+=r.staticValue}return n},e._substitute=function(e,t){if(0===e)return t[0];for(var n="";e>0;){if(e<t.length)return(t[e]||"")+n;n=String(e%10)+n,e=Math.floor(e/10)}return"$"+n},e}(),u=function(){function e(e,t){this.staticValue=e,this.matchIndex=t}return e.staticValue=function(t){return new e(t,-1)},e.matchIndex=function(t){return new e(null,t)},e}(),d=function(){function e(e){this._source=e,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}return e.prototype.emitUnchanged=function(e){this._emitStatic(this._source.substring(this._lastCharIndex,e)),this._lastCharIndex=e},e.prototype.emitStatic=function(e,t){this._emitStatic(e),this._lastCharIndex=t},e.prototype._emitStatic=function(e){0!==e.length&&(this._currentStaticPiece+=e)},e.prototype.emitMatchIndex=function(e,t){0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=u.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=u.matchIndex(e),this._lastCharIndex=t},e.prototype.finalize=function(){return this.emitUnchanged(this._source.length),0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=u.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new c(this._result)},e}();var h=n(46),f=n(10),p=n(2),m=n(30),g=n(8),b=n(22),y=n(21),v=function(){function e(e){this._editor=e,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationId=null,this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}return e.prototype.dispose=function(){this._editor.deltaDecorations(this._allDecorations(),[]),this._editor=null,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationId=null,this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=null},e.prototype.reset=function(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationId=null,this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null},e.prototype.getCount=function(){return this._decorations.length},e.prototype.getFindScope=function(){return this._findScopeDecorationId?this._editor.getModel().getDecorationRange(this._findScopeDecorationId):null},e.prototype.getStartPosition=function(){return this._startPosition},e.prototype.setStartPosition=function(e){this._startPosition=e,this.setCurrentFindMatch(null)},e.prototype._getDecorationIndex=function(e){var t=this._decorations.indexOf(e);return t>=0?t+1:1},e.prototype.getCurrentMatchesPosition=function(t){for(var n=this._editor.getModel().getDecorationsInRange(t),i=0,o=n.length;i<o;i++){var r=n[i],a=r.options;if(a===e._FIND_MATCH_DECORATION||a===e._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(r.id)}return 1},e.prototype.setCurrentFindMatch=function(t){var n=this,i=null,o=0;if(t)for(var r=0,a=this._decorations.length;r<a;r++){var s=this._editor.getModel().getDecorationRange(this._decorations[r]);if(t.equalsRange(s)){i=this._decorations[r],o=r+1;break}}return null===this._highlightedDecorationId&&null===i||this._editor.changeDecorations(function(t){if(null!==n._highlightedDecorationId&&(t.changeDecorationOptions(n._highlightedDecorationId,e._FIND_MATCH_DECORATION),n._highlightedDecorationId=null),null!==i&&(n._highlightedDecorationId=i,t.changeDecorationOptions(n._highlightedDecorationId,e._CURRENT_FIND_MATCH_DECORATION)),null!==n._rangeHighlightDecorationId&&(t.removeDecoration(n._rangeHighlightDecorationId),n._rangeHighlightDecorationId=null),null!==i){var o=n._editor.getModel().getDecorationRange(i);if(o.startLineNumber!==o.endLineNumber&&1===o.endColumn){var r=o.endLineNumber-1,a=n._editor.getModel().getLineMaxColumn(r);o=new p.a(o.startLineNumber,o.startColumn,r,a)}n._rangeHighlightDecorationId=t.addDecoration(o,e._RANGE_HIGHLIGHT_DECORATION)}}),o},e.prototype.set=function(t,n){var i=this;this._editor.changeDecorations(function(o){var r=e._FIND_MATCH_DECORATION,a=[];if(t.length>1e3){r=e._FIND_MATCH_NO_OVERVIEW_DECORATION;for(var s=i._editor.getModel().getLineCount(),l=i._editor.getLayoutInfo().height/s,c=Math.max(2,Math.ceil(3/l)),u=t[0].range.startLineNumber,d=t[0].range.endLineNumber,h=1,f=t.length;h<f;h++){var m=t[h].range;d+c>=m.startLineNumber?m.endLineNumber>d&&(d=m.endLineNumber):(a.push({range:new p.a(u,1,d,1),options:e._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),u=m.startLineNumber,d=m.endLineNumber)}a.push({range:new p.a(u,1,d,1),options:e._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}var g=new Array(t.length);for(h=0,f=t.length;h<f;h++)g[h]={range:t[h].range,options:r};i._decorations=o.deltaDecorations(i._decorations,g),i._overviewRulerApproximateDecorations=o.deltaDecorations(i._overviewRulerApproximateDecorations,a),i._rangeHighlightDecorationId&&(o.removeDecoration(i._rangeHighlightDecorationId),i._rangeHighlightDecorationId=null),i._findScopeDecorationId&&(o.removeDecoration(i._findScopeDecorationId),i._findScopeDecorationId=null),n&&(i._findScopeDecorationId=o.addDecoration(n,e._FIND_SCOPE_DECORATION))})},e.prototype.matchBeforePosition=function(e){if(0===this._decorations.length)return null;for(var t=this._decorations.length-1;t>=0;t--){var n=this._decorations[t],i=this._editor.getModel().getDecorationRange(n);if(i&&!(i.endLineNumber>e.lineNumber)){if(i.endLineNumber<e.lineNumber)return i;if(!(i.endColumn>e.column))return i}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])},e.prototype.matchAfterPosition=function(e){if(0===this._decorations.length)return null;for(var t=0,n=this._decorations.length;t<n;t++){var i=this._decorations[t],o=this._editor.getModel().getDecorationRange(i);if(o&&!(o.startLineNumber<e.lineNumber)){if(o.startLineNumber>e.lineNumber)return o;if(!(o.startColumn<e.column))return o}}return this._editor.getModel().getDecorationRange(this._decorations[0])},e.prototype._allDecorations=function(){var e=[];return e=(e=e.concat(this._decorations)).concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationId&&e.push(this._findScopeDecorationId),this._rangeHighlightDecorationId&&e.push(this._rangeHighlightDecorationId),e},e._CURRENT_FIND_MATCH_DECORATION=m.a.register({stickiness:y.h.NeverGrowsWhenTypingAtEdges,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:Object(b.f)(g.fb),darkColor:Object(b.f)(g.fb),position:y.f.Center}}),e._FIND_MATCH_DECORATION=m.a.register({stickiness:y.h.NeverGrowsWhenTypingAtEdges,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:Object(b.f)(g.fb),darkColor:Object(b.f)(g.fb),position:y.f.Center}}),e._FIND_MATCH_NO_OVERVIEW_DECORATION=m.a.register({stickiness:y.h.NeverGrowsWhenTypingAtEdges,className:"findMatch",showIfCollapsed:!0}),e._FIND_MATCH_ONLY_OVERVIEW_DECORATION=m.a.register({stickiness:y.h.NeverGrowsWhenTypingAtEdges,overviewRuler:{color:Object(b.f)(g.fb),darkColor:Object(b.f)(g.fb),position:y.f.Center}}),e._RANGE_HIGHLIGHT_DECORATION=m.a.register({stickiness:y.h.NeverGrowsWhenTypingAtEdges,className:"rangeHighlight",isWholeLine:!0}),e._FIND_SCOPE_DECORATION=m.a.register({className:"findScope",isWholeLine:!0}),e}(),w=function(){function e(e,t,n){this._editorSelection=e,this._ranges=t,this._replaceStrings=n}return e.prototype.getEditOperations=function(e,t){if(this._ranges.length>0){for(var n=[],i=0;i<this._ranges.length;i++)n.push({range:this._ranges[i],text:this._replaceStrings[i]});n.sort(function(e,t){return p.a.compareRangesUsingStarts(e.range,t.range)});var o=[],r=n[0];for(i=1;i<n.length;i++)r.range.endLineNumber===n[i].range.startLineNumber&&r.range.endColumn===n[i].range.startColumn?(r.range=r.range.plusRange(n[i].range),r.text=r.text+n[i].text):(o.push(r),r=n[i]);o.push(r);for(i=0;i<o.length;i++)t.addEditOperation(o[i].range,o[i].text)}this._trackedEditorSelectionId=t.trackSelection(this._editorSelection)},e.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this._trackedEditorSelectionId)},e}(),_=n(26),S=n(79),C=n(38),x=new r.f("findWidgetVisible",!1),k=new r.f("findInputFocussed",!1),T=new r.f("replaceInputFocussed",!1),O={primary:545,mac:{primary:2593}},N={primary:565,mac:{primary:2613}},L={primary:560,mac:{primary:2608}},I={primary:554,mac:{primary:2602}},E={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},D=function(){function e(e,t){var n=this;this._editor=e,this._state=t,this._toDispose=[],this._isDisposed=!1,this._startSearchingTimer=new l.f,this._decorations=new v(e),this._toDispose.push(this._decorations),this._updateDecorationsScheduler=new l.c(function(){return n.research(!1)},100),this._toDispose.push(this._updateDecorationsScheduler),this._toDispose.push(this._editor.onDidChangeCursorPosition(function(e){e.reason!==C.a.Explicit&&e.reason!==C.a.Undo&&e.reason!==C.a.Redo||n._decorations.setStartPosition(n._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.push(this._editor.onDidChangeModelContent(function(e){n._ignoreModelContentChanged||(e.isFlush&&n._decorations.reset(),n._decorations.setStartPosition(n._editor.getPosition()),n._updateDecorationsScheduler.schedule())})),this._toDispose.push(this._state.onFindReplaceStateChange(function(e){return n._onStateChanged(e)})),this.research(!1,this._state.searchScope)}return e.prototype.dispose=function(){this._isDisposed=!0,Object(o.d)(this._startSearchingTimer),this._toDispose=Object(o.d)(this._toDispose)},e.prototype._onStateChanged=function(e){var t=this;this._isDisposed||this._editor.getModel()&&(e.searchString||e.isReplaceRevealed||e.isRegex||e.wholeWord||e.matchCase||e.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(function(){e.searchScope?t.research(e.moveCursor,t._state.searchScope):t.research(e.moveCursor)},240)):e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor))},e._getSearchRange=function(e,t){var n=e.getFullModelRange();return t&&(n=n.intersectRanges(t)),n},e.prototype.research=function(e,t){var n=null;null!==(n="undefined"!==typeof t?t:this._decorations.getFindScope())&&n.startLineNumber!==n.endLineNumber&&(n=new p.a(n.startLineNumber,1,n.endLineNumber,this._editor.getModel().getLineMaxColumn(n.endLineNumber)));var i=this._findMatches(n,!1,19999);this._decorations.set(i,n),this._state.changeMatchInfo(this._decorations.getCurrentMatchesPosition(this._editor.getSelection()),this._decorations.getCount(),void 0),e&&this._moveToNextMatch(this._decorations.getStartPosition())},e.prototype._hasMatches=function(){return this._state.matchesCount>0},e.prototype._cannotFind=function(){if(!this._hasMatches()){var e=this._decorations.getFindScope();return e&&this._editor.revealRangeInCenterIfOutsideViewport(e,0),!0}return!1},e.prototype._setCurrentFindMatch=function(e){var t=this._decorations.setCurrentFindMatch(e);this._state.changeMatchInfo(t,this._decorations.getCount(),e),this._editor.setSelection(e),this._editor.revealRangeInCenterIfOutsideViewport(e,0)},e.prototype._prevSearchPosition=function(e){var t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),n=e.lineNumber,i=e.column,o=this._editor.getModel();return t||1===i?(1===n?n=o.getLineCount():n--,i=o.getLineMaxColumn(n)):i--,new f.a(n,i)},e.prototype._moveToPrevMatch=function(t,n){if(void 0===n&&(n=!1),this._decorations.getCount()<19999){var i=this._decorations.matchBeforePosition(t);return i&&i.isEmpty()&&i.getStartPosition().equals(t)&&(t=this._prevSearchPosition(t),i=this._decorations.matchBeforePosition(t)),void(i&&this._setCurrentFindMatch(i))}if(!this._cannotFind()){var o=this._decorations.getFindScope(),r=e._getSearchRange(this._editor.getModel(),o);r.getEndPosition().isBefore(t)&&(t=r.getEndPosition()),t.isBefore(r.getStartPosition())&&(t=r.getEndPosition());var a=t.lineNumber,s=t.column,l=this._editor.getModel(),c=new f.a(a,s),u=l.findPreviousMatch(this._state.searchString,c,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getConfiguration().wordSeparators:null,!1);return u&&u.range.isEmpty()&&u.range.getStartPosition().equals(c)&&(c=this._prevSearchPosition(c),u=l.findPreviousMatch(this._state.searchString,c,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getConfiguration().wordSeparators:null,!1)),u?n||r.containsRange(u.range)?void this._setCurrentFindMatch(u.range):this._moveToPrevMatch(u.range.getStartPosition(),!0):null}},e.prototype.moveToPrevMatch=function(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())},e.prototype._nextSearchPosition=function(e){var t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),n=e.lineNumber,i=e.column,o=this._editor.getModel();return t||i===o.getLineMaxColumn(n)?(n===o.getLineCount()?n=1:n++,i=1):i++,new f.a(n,i)},e.prototype._moveToNextMatch=function(e){if(this._decorations.getCount()<19999){var t=this._decorations.matchAfterPosition(e);return t&&t.isEmpty()&&t.getStartPosition().equals(e)&&(e=this._nextSearchPosition(e),t=this._decorations.matchAfterPosition(e)),void(t&&this._setCurrentFindMatch(t))}var n=this._getNextMatch(e,!1,!0);n&&this._setCurrentFindMatch(n.range)},e.prototype._getNextMatch=function(t,n,i,o){if(void 0===o&&(o=!1),this._cannotFind())return null;var r=this._decorations.getFindScope(),a=e._getSearchRange(this._editor.getModel(),r);a.getEndPosition().isBefore(t)&&(t=a.getStartPosition()),t.isBefore(a.getStartPosition())&&(t=a.getStartPosition());var s=t.lineNumber,l=t.column,c=this._editor.getModel(),u=new f.a(s,l),d=c.findNextMatch(this._state.searchString,u,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getConfiguration().wordSeparators:null,n);return i&&d&&d.range.isEmpty()&&d.range.getStartPosition().equals(u)&&(u=this._nextSearchPosition(u),d=c.findNextMatch(this._state.searchString,u,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getConfiguration().wordSeparators:null,n)),d?o||a.containsRange(d.range)?d:this._getNextMatch(d.range.getEndPosition(),n,i,!0):null},e.prototype.moveToNextMatch=function(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())},e.prototype._getReplacePattern=function(){return this._state.isRegex?function(e){if(!e||0===e.length)return new c(null);for(var t=new d(e),n=0,i=e.length;n<i;n++){var o=e.charCodeAt(n);if(92!==o){if(36===o){if(++n>=i)break;if(36===(s=e.charCodeAt(n))){t.emitUnchanged(n-1),t.emitStatic("$",n+1);continue}if(48===s||38===s){t.emitUnchanged(n-1),t.emitMatchIndex(0,n+1);continue}if(49<=s&&s<=57){var r=s-48;if(n+1<i){var a=e.charCodeAt(n+1);if(48<=a&&a<=57){n++,r=10*r+(a-48),t.emitUnchanged(n-2),t.emitMatchIndex(r,n+1);continue}}t.emitUnchanged(n-1),t.emitMatchIndex(r,n+1);continue}}}else{if(++n>=i)break;var s;switch(s=e.charCodeAt(n)){case 92:t.emitUnchanged(n-1),t.emitStatic("\\",n+1);break;case 110:t.emitUnchanged(n-1),t.emitStatic("\n",n+1);break;case 116:t.emitUnchanged(n-1),t.emitStatic("\t",n+1)}}}return t.finalize()}(this._state.replaceString):c.fromStaticValue(this._state.replaceString)},e.prototype.replace=function(){if(this._hasMatches()){var e=this._getReplacePattern(),t=this._editor.getSelection(),n=this._getNextMatch(t.getStartPosition(),e.hasReplacementPatterns,!1);if(n)if(t.equalsRange(n.range)){var i=e.buildReplaceString(n.matches),o=new h.a(t,i);this._executeEditorCommand("replace",o),this._decorations.setStartPosition(new f.a(t.startLineNumber,t.startColumn+i.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(n.range)}},e.prototype._findMatches=function(t,n,i){var o=e._getSearchRange(this._editor.getModel(),t);return this._editor.getModel().findMatches(this._state.searchString,o,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getConfiguration().wordSeparators:null,n,i)},e.prototype.replaceAll=function(){if(this._hasMatches()){var e=this._decorations.getFindScope();null===e&&this._state.matchesCount>=19999?this._largeReplaceAll():this._regularReplaceAll(e),this.research(!1)}},e.prototype._largeReplaceAll=function(){var e=new S.a(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getConfiguration().wordSeparators:null).parseSearchRequest();if(e){var t=e.regex;if(!t.multiline){var n="m";t.ignoreCase&&(n+="i"),t.global&&(n+="g"),t=new RegExp(t.source,n)}var i,o=this._editor.getModel(),r=o.getValue(y.c.LF),a=o.getFullModelRange(),s=this._getReplacePattern();i=s.hasReplacementPatterns?r.replace(t,function(){return s.buildReplaceString(arguments)}):r.replace(t,s.buildReplaceString(null));var l=new h.b(a,i,this._editor.getSelection());this._executeEditorCommand("replaceAll",l)}},e.prototype._regularReplaceAll=function(e){for(var t=this._getReplacePattern(),n=this._findMatches(e,t.hasReplacementPatterns,1073741824),i=[],o=0,r=n.length;o<r;o++)i[o]=t.buildReplaceString(n[o].matches);var a=new w(this._editor.getSelection(),n.map(function(e){return e.range}),i);this._executeEditorCommand("replaceAll",a)},e.prototype.selectAllMatches=function(){if(this._hasMatches()){for(var e=this._decorations.getFindScope(),t=this._findMatches(e,!1,1073741824).map(function(e){return new _.a(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn)}),n=this._editor.getSelection(),i=0,o=t.length;i<o;i++){if(t[i].equalsRange(n)){t=[n].concat(t.slice(0,i)).concat(t.slice(i+1));break}}this._editor.setSelections(t)}},e.prototype._executeEditorCommand=function(e,t){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(e,t),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}},e}(),A=n(5);function M(e,t){return 1===e||2!==e&&t}var P,R=function(){function e(){this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._onFindReplaceStateChange=new A.a}return Object.defineProperty(e.prototype,"searchString",{get:function(){return this._searchString},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"replaceString",{get:function(){return this._replaceString},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRevealed",{get:function(){return this._isRevealed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isReplaceRevealed",{get:function(){return this._isReplaceRevealed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRegex",{get:function(){return M(this._isRegexOverride,this._isRegex)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wholeWord",{get:function(){return M(this._wholeWordOverride,this._wholeWord)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"matchCase",{get:function(){return M(this._matchCaseOverride,this._matchCase)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"actualIsRegex",{get:function(){return this._isRegex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"actualWholeWord",{get:function(){return this._wholeWord},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"actualMatchCase",{get:function(){return this._matchCase},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"searchScope",{get:function(){return this._searchScope},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"matchesPosition",{get:function(){return this._matchesPosition},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"matchesCount",{get:function(){return this._matchesCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentMatch",{get:function(){return this._currentMatch},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onFindReplaceStateChange",{get:function(){return this._onFindReplaceStateChange.event},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){},e.prototype.changeMatchInfo=function(e,t,n){var i={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1},o=!1;0===t&&(e=0),e>t&&(e=t),this._matchesPosition!==e&&(this._matchesPosition=e,i.matchesPosition=!0,o=!0),this._matchesCount!==t&&(this._matchesCount=t,i.matchesCount=!0,o=!0),"undefined"!==typeof n&&(p.a.equalsRange(this._currentMatch,n)||(this._currentMatch=n,i.currentMatch=!0,o=!0)),o&&this._onFindReplaceStateChange.fire(i)},e.prototype.change=function(e,t,n){void 0===n&&(n=!0);var i={moveCursor:t,updateHistory:n,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1},o=!1,r=this.isRegex,a=this.wholeWord,s=this.matchCase;"undefined"!==typeof e.searchString&&this._searchString!==e.searchString&&(this._searchString=e.searchString,i.searchString=!0,o=!0),"undefined"!==typeof e.replaceString&&this._replaceString!==e.replaceString&&(this._replaceString=e.replaceString,i.replaceString=!0,o=!0),"undefined"!==typeof e.isRevealed&&this._isRevealed!==e.isRevealed&&(this._isRevealed=e.isRevealed,i.isRevealed=!0,o=!0),"undefined"!==typeof e.isReplaceRevealed&&this._isReplaceRevealed!==e.isReplaceRevealed&&(this._isReplaceRevealed=e.isReplaceRevealed,i.isReplaceRevealed=!0,o=!0),"undefined"!==typeof e.isRegex&&(this._isRegex=e.isRegex),"undefined"!==typeof e.wholeWord&&(this._wholeWord=e.wholeWord),"undefined"!==typeof e.matchCase&&(this._matchCase=e.matchCase),"undefined"!==typeof e.searchScope&&(p.a.equalsRange(this._searchScope,e.searchScope)||(this._searchScope=e.searchScope,i.searchScope=!0,o=!0)),this._isRegexOverride="undefined"!==typeof e.isRegexOverride?e.isRegexOverride:0,this._wholeWordOverride="undefined"!==typeof e.wholeWordOverride?e.wholeWordOverride:0,this._matchCaseOverride="undefined"!==typeof e.matchCaseOverride?e.matchCaseOverride:0,r!==this.isRegex&&(o=!0,i.isRegex=!0),a!==this.wholeWord&&(o=!0,i.wholeWord=!0),s!==this.matchCase&&(o=!0,i.matchCase=!0),o&&this._onFindReplaceStateChange.fire(i)},e}(),F=n(6),j=n(58),W=n(188),V=n(84),B=n(65),H=(n(337),n(15)),z=n(18),U=n(1),q=n(62),G=n(94),K=n(19),Y=n(169),Z=(n(345),n(347),n(17)),$=n(34),X=(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}P(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Q={inputActiveOptionBorder:Z.a.fromHex("#007ACC")},J=function(e){function t(t){var n=e.call(this)||this;return n._onChange=n._register(new A.a),n._onKeyDown=n._register(new A.a),n._opts=$.c(t),$.g(n._opts,Q,!1),n._checked=n._opts.isChecked,n.domNode=document.createElement("div"),n.domNode.title=n._opts.title,n.domNode.className="monaco-custom-checkbox "+n._opts.actionClassName+" "+(n._checked?"checked":"unchecked"),n.domNode.tabIndex=0,n.domNode.setAttribute("role","checkbox"),n.domNode.setAttribute("aria-checked",String(n._checked)),n.domNode.setAttribute("aria-label",n._opts.title),n.applyStyles(),n.onclick(n.domNode,function(e){n.checked=!n._checked,n._onChange.fire(!1),e.preventDefault()}),n.onkeydown(n.domNode,function(e){if(10===e.keyCode||3===e.keyCode)return n.checked=!n._checked,n._onChange.fire(!0),void e.preventDefault();n._onKeyDown.fire(e)}),n}return X(t,e),Object.defineProperty(t.prototype,"onChange",{get:function(){return this._onChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onKeyDown",{get:function(){return this._onKeyDown.event},enumerable:!0,configurable:!0}),t.prototype.focus=function(){this.domNode.focus()},Object.defineProperty(t.prototype,"checked",{get:function(){return this._checked},set:function(e){this._checked=e,this.domNode.setAttribute("aria-checked",String(this._checked)),this._checked?this.domNode.classList.add("checked"):this.domNode.classList.remove("checked"),this.applyStyles()},enumerable:!0,configurable:!0}),t.prototype.width=function(){return 22},t.prototype.style=function(e){e.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=e.inputActiveOptionBorder),this.applyStyles()},t.prototype.applyStyles=function(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"transparent")},t.prototype.enable=function(){this.domNode.tabIndex=0,this.domNode.setAttribute("aria-disabled",String(!1))},t.prototype.disable=function(){U.H(this.domNode),this.domNode.setAttribute("aria-disabled",String(!0))},t}(q.a),ee=(n(349),function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),te=i.a("caseDescription","Match Case"),ne=i.a("wordsDescription","Match Whole Word"),ie=i.a("regexDescription","Use Regular Expression"),oe=function(e){function t(t){return e.call(this,{actionClassName:"monaco-case-sensitive",title:te+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder})||this}return ee(t,e),t}(J),re=function(e){function t(t){return e.call(this,{actionClassName:"monaco-whole-word",title:ne+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder})||this}return ee(t,e),t}(J),ae=function(e){function t(t){return e.call(this,{actionClassName:"monaco-regex",title:ie+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder})||this}return ee(t,e),t}(J),se=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),le=i.a("defaultLabel","input"),ce=function(e){function t(t,n,i){var o=e.call(this)||this;return o._onDidOptionChange=o._register(new A.a),o.onDidOptionChange=o._onDidOptionChange.event,o._onKeyDown=o._register(new A.a),o.onKeyDown=o._onKeyDown.event,o._onMouseDown=o._register(new A.a),o.onMouseDown=o._onMouseDown.event,o._onInput=o._register(new A.a),o._onKeyUp=o._register(new A.a),o._onCaseSensitiveKeyDown=o._register(new A.a),o.onCaseSensitiveKeyDown=o._onCaseSensitiveKeyDown.event,o._onRegexKeyDown=o._register(new A.a),o._lastHighlightFindOptions=0,o.contextViewProvider=n,o.width=i.width||100,o.placeholder=i.placeholder||"",o.validation=i.validation,o.label=i.label||le,o.inputActiveOptionBorder=i.inputActiveOptionBorder,o.inputBackground=i.inputBackground,o.inputForeground=i.inputForeground,o.inputBorder=i.inputBorder,o.inputValidationInfoBorder=i.inputValidationInfoBorder,o.inputValidationInfoBackground=i.inputValidationInfoBackground,o.inputValidationWarningBorder=i.inputValidationWarningBorder,o.inputValidationWarningBackground=i.inputValidationWarningBackground,o.inputValidationErrorBorder=i.inputValidationErrorBorder,o.inputValidationErrorBackground=i.inputValidationErrorBackground,o.regex=null,o.wholeWords=null,o.caseSensitive=null,o.domNode=null,o.inputBox=null,o.buildDomNode(i.appendCaseSensitiveLabel||"",i.appendWholeWordsLabel||"",i.appendRegexLabel||"",i.history),Boolean(t)&&t.appendChild(o.domNode),o.onkeydown(o.inputBox.inputElement,function(e){return o._onKeyDown.fire(e)}),o.onkeyup(o.inputBox.inputElement,function(e){return o._onKeyUp.fire(e)}),o.oninput(o.inputBox.inputElement,function(e){return o._onInput.fire()}),o.onmousedown(o.inputBox.inputElement,function(e){return o._onMouseDown.fire(e)}),o}return se(t,e),t.prototype.enable=function(){U.G(this.domNode,"disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()},t.prototype.disable=function(){U.f(this.domNode,"disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()},t.prototype.setEnabled=function(e){e?this.enable():this.disable()},t.prototype.getValue=function(){return this.inputBox.value},t.prototype.setValue=function(e){this.inputBox.value!==e&&(this.inputBox.value=e)},t.prototype.style=function(e){this.inputActiveOptionBorder=e.inputActiveOptionBorder,this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()},t.prototype.applyStyles=function(){if(this.domNode){var e={inputActiveOptionBorder:this.inputActiveOptionBorder};this.regex.style(e),this.wholeWords.style(e),this.caseSensitive.style(e);var t={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(t)}},t.prototype.select=function(){this.inputBox.select()},t.prototype.focus=function(){this.inputBox.focus()},t.prototype.getCaseSensitive=function(){return this.caseSensitive.checked},t.prototype.setCaseSensitive=function(e){this.caseSensitive.checked=e,this.setInputWidth()},t.prototype.getWholeWords=function(){return this.wholeWords.checked},t.prototype.setWholeWords=function(e){this.wholeWords.checked=e,this.setInputWidth()},t.prototype.getRegex=function(){return this.regex.checked},t.prototype.setRegex=function(e){this.regex.checked=e,this.setInputWidth(),this.validate()},t.prototype.focusOnCaseSensitive=function(){this.caseSensitive.focus()},t.prototype.highlightFindOptions=function(){U.G(this.domNode,"highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,U.f(this.domNode,"highlight-"+this._lastHighlightFindOptions)},t.prototype.setInputWidth=function(){var e=this.width-this.caseSensitive.width()-this.wholeWords.width()-this.regex.width();this.inputBox.width=e},t.prototype.buildDomNode=function(e,t,n,i){var o=this;this.domNode=document.createElement("div"),this.domNode.style.width=this.width+"px",U.f(this.domNode,"monaco-findInput"),this.inputBox=this._register(new Y.a(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation||null},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:i})),this.regex=this._register(new ae({appendTitle:n,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder})),this._register(this.regex.onChange(function(e){o._onDidOptionChange.fire(e),e||o.inputBox.focus(),o.setInputWidth(),o.validate()})),this._register(this.regex.onKeyDown(function(e){o._onRegexKeyDown.fire(e)})),this.wholeWords=this._register(new re({appendTitle:t,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder})),this._register(this.wholeWords.onChange(function(e){o._onDidOptionChange.fire(e),e||o.inputBox.focus(),o.setInputWidth(),o.validate()})),this.caseSensitive=this._register(new oe({appendTitle:e,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder})),this._register(this.caseSensitive.onChange(function(e){o._onDidOptionChange.fire(e),e||o.inputBox.focus(),o.setInputWidth(),o.validate()})),this._register(this.caseSensitive.onKeyDown(function(e){o._onCaseSensitiveKeyDown.fire(e)}));var r=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,function(e){if(e.equals(15)||e.equals(17)||e.equals(9)){var t=r.indexOf(document.activeElement);if(t>=0){var n=void 0;e.equals(17)?n=(t+1)%r.length:e.equals(15)&&(n=0===t?r.length-1:t-1),e.equals(9)?r[t].blur():n>=0&&r[n].focus(),U.c.stop(e,!0)}}}),this.setInputWidth();var a=document.createElement("div");a.className="controls",a.appendChild(this.caseSensitive.domNode),a.appendChild(this.wholeWords.domNode),a.appendChild(this.regex.domNode),this.domNode.appendChild(a)},t.prototype.validate=function(){this.inputBox.validate()},t.prototype.dispose=function(){e.prototype.dispose.call(this)},t}(q.a);function ue(e,t){return e.getContext(document.activeElement).getValue(t)}var de=n(85),he=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),fe=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},pe=function(e,t){return function(n,i){t(n,i,e)}},me="historyNavigationWidget",ge="historyNavigationEnabled";function be(e,t){var n=function(e,t){return e.createScoped(t.target)}(e,t);return function(e,t,n){new r.f(n,t).bindTo(e)}(n,t,me),{scopedContextKeyService:n,historyNavigationEnablement:new r.f(ge,!0).bindTo(n)}}var ye=function(e){function t(t,n,i,o){var r=e.call(this,t,n,i)||this;return r._register(be(o,{target:r.element,historyNavigator:r}).scopedContextKeyService),r}return he(t,e),t=fe([pe(3,r.e)],t)}(Y.a),ve=function(e){function t(t,n,i,o){var r=e.call(this,t,n,i)||this;return r._register(be(o,{target:r.inputBox.element,historyNavigator:r.inputBox}).scopedContextKeyService),r}return he(t,e),t=fe([pe(3,r.e)],t)}(ce);de.a.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:r.d.and(new r.b(me),new r.c(ge,!0)),primary:16,secondary:[528],handler:function(e,t){ue(e.get(r.e),me).historyNavigator.showPreviousValue()}}),de.a.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:new r.a([new r.b(me),new r.c(ge,!0)]),primary:18,secondary:[530],handler:function(e,t){ue(e.get(r.e),me).historyNavigator.showNextValue()}});var we=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_e=i.a("label.find","Find"),Se=i.a("placeholder.find","Find"),Ce=i.a("label.previousMatchButton","Previous match"),xe=i.a("label.nextMatchButton","Next match"),ke=i.a("label.toggleSelectionFind","Find in selection"),Te=i.a("label.closeButton","Close"),Oe=i.a("label.replace","Replace"),Ne=i.a("placeholder.replace","Replace"),Le=i.a("label.replaceButton","Replace"),Ie=i.a("label.replaceAllButton","Replace All"),Ee=i.a("label.toggleReplaceButton","Toggle Replace mode"),De=i.a("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",19999),Ae=i.a("label.matchesLocation","{0} of {1}"),Me=i.a("label.noResults","No Results"),Pe=69,Re=17+(Pe+3+1)+92+2,Fe=34,je=function(){return function(e){this.afterLineNumber=e,this.heightInPx=Fe,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}(),We=function(e){function t(t,n,i,o,r,a,s){var c=e.call(this)||this;return c._codeEditor=t,c._controller=n,c._state=i,c._contextViewProvider=o,c._keybindingService=r,c._contextKeyService=a,c._isVisible=!1,c._isReplaceVisible=!1,c._updateHistoryDelayer=new l.a(500),c._register(c._state.onFindReplaceStateChange(function(e){return c._onStateChanged(e)})),c._buildDomNode(),c._updateButtons(),c._tryUpdateWidgetWidth(),c._register(c._codeEditor.onDidChangeConfiguration(function(e){e.readOnly&&(c._codeEditor.getConfiguration().readOnly&&c._state.change({isReplaceRevealed:!1},!1),c._updateButtons()),e.layoutInfo&&c._tryUpdateWidgetWidth()})),c._register(c._codeEditor.onDidChangeCursorSelection(function(){c._isVisible&&c._updateToggleSelectionFindButton()})),c._register(c._codeEditor.onDidFocusEditorWidget(function(){if(c._isVisible){var e=c._controller.getGlobalBufferTerm();e&&e!==c._state.searchString&&(c._state.change({searchString:e},!0),c._findInput.select())}})),c._findInputFocused=k.bindTo(a),c._findFocusTracker=c._register(U.O(c._findInput.inputBox.inputElement)),c._register(c._findFocusTracker.onDidFocus(function(){c._findInputFocused.set(!0),c._updateSearchScope()})),c._register(c._findFocusTracker.onDidBlur(function(){c._findInputFocused.set(!1)})),c._replaceInputFocused=T.bindTo(a),c._replaceFocusTracker=c._register(U.O(c._replaceInputBox.inputElement)),c._register(c._replaceFocusTracker.onDidFocus(function(){c._replaceInputFocused.set(!0),c._updateSearchScope()})),c._register(c._replaceFocusTracker.onDidBlur(function(){c._replaceInputFocused.set(!1)})),c._codeEditor.addOverlayWidget(c),c._viewZone=new je(0),c._applyTheme(s.getTheme()),c._register(s.onThemeChange(c._applyTheme.bind(c))),c._register(c._codeEditor.onDidChangeModel(function(e){c._isVisible&&void 0!==c._viewZoneId&&c._codeEditor.changeViewZones(function(e){e.removeZone(c._viewZoneId),c._viewZoneId=void 0})})),c._register(c._codeEditor.onDidScrollChange(function(e){e.scrollTopChanged?c._layoutViewZone():setTimeout(function(){c._layoutViewZone()},0)})),c}return we(t,e),t.prototype.getId=function(){return t.ID},t.prototype.getDomNode=function(){return this._domNode},t.prototype.getPosition=function(){return this._isVisible?{preference:K.c.TOP_RIGHT_CORNER}:null},t.prototype._onStateChanged=function(e){if(e.searchString&&(this._findInput.setValue(this._state.searchString),this._updateButtons()),e.replaceString&&(this._replaceInputBox.value=this._state.replaceString),e.isRevealed&&(this._state.isRevealed?this._reveal(!0):this._hide(!0)),e.isReplaceRevealed&&(this._state.isReplaceRevealed?this._codeEditor.getConfiguration().readOnly||this._isReplaceVisible||(this._isReplaceVisible=!0,this._replaceInputBox.width=this._findInput.inputBox.width,this._updateButtons()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),e.isRegex&&this._findInput.setRegex(this._state.isRegex),e.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),e.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),e.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),e.searchString||e.matchesCount||e.matchesPosition){var t=this._state.searchString.length>0&&0===this._state.matchesCount;U.N(this._domNode,"no-results",t),this._updateMatchesCount()}(e.searchString||e.currentMatch)&&this._layoutViewZone(),e.updateHistory&&this._delayedUpdateHistory()},t.prototype._delayedUpdateHistory=function(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this))},t.prototype._updateHistory=function(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInputBox.addToHistory()},t.prototype._updateMatchesCount=function(){var e;if(this._matchesCount.style.minWidth=Pe+"px",this._state.matchesCount>=19999?this._matchesCount.title=De:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild),this._state.matchesCount>0){var t=String(this._state.matchesCount);this._state.matchesCount>=19999&&(t+="+");var n=String(this._state.matchesPosition);"0"===n&&(n="?"),e=a.format(Ae,n,t)}else e=Me;this._matchesCount.appendChild(document.createTextNode(e)),Pe=Math.max(Pe,this._matchesCount.clientWidth)},t.prototype._updateToggleSelectionFindButton=function(){var e=this._codeEditor.getSelection(),t=!!e&&(e.startLineNumber!==e.endLineNumber||e.startColumn!==e.endColumn),n=this._toggleSelectionFind.checked;this._toggleSelectionFind.setEnabled(this._isVisible&&(n||t))},t.prototype._updateButtons=function(){this._findInput.setEnabled(this._isVisible),this._replaceInputBox.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);var e=this._state.searchString.length>0;this._prevBtn.setEnabled(this._isVisible&&e),this._nextBtn.setEnabled(this._isVisible&&e),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),U.N(this._domNode,"replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.toggleClass("collapse",!this._isReplaceVisible),this._toggleReplaceBtn.toggleClass("expand",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);var t=!this._codeEditor.getConfiguration().readOnly;this._toggleReplaceBtn.setEnabled(this._isVisible&&t)},t.prototype._reveal=function(e){var t=this;if(!this._isVisible){this._isVisible=!0;var n=this._codeEditor.getSelection();!!n&&(n.startLineNumber!==n.endLineNumber||n.startColumn!==n.endColumn)&&this._codeEditor.getConfiguration().contribInfo.find.autoFindInSelection?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._tryUpdateWidgetWidth(),this._updateButtons(),setTimeout(function(){U.f(t._domNode,"visible"),t._domNode.setAttribute("aria-hidden","false")},0),this._codeEditor.layoutOverlayWidget(this);var i=!0;if(this._codeEditor.getConfiguration().contribInfo.find.seedSearchStringFromSelection&&n){var o=U.u(this._codeEditor.getDomNode()),r=this._codeEditor.getScrolledVisiblePosition(n.getStartPosition()),a=o.left+r.left;if(r.top<this._viewZone.heightInPx){n.endLineNumber>n.startLineNumber&&(i=!1);var s=U.w(this._domNode).left;a>s&&(i=!1);var l=this._codeEditor.getScrolledVisiblePosition(n.getEndPosition());o.left+l.left>s&&(i=!1)}}this._showViewZone(i)}},t.prototype._hide=function(e){var t=this;this._isVisible&&(this._isVisible=!1,this._updateButtons(),U.G(this._domNode,"visible"),this._domNode.setAttribute("aria-hidden","true"),e&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._codeEditor.changeViewZones(function(e){void 0!==t._viewZoneId&&(e.removeZone(t._viewZoneId),t._viewZoneId=void 0,t._codeEditor.setScrollTop(t._codeEditor.getScrollTop()-t._viewZone.heightInPx))}))},t.prototype._layoutViewZone=function(){var e=this;this._isVisible&&void 0===this._viewZoneId&&this._codeEditor.changeViewZones(function(t){e._state.isReplaceRevealed?e._viewZone.heightInPx=64:e._viewZone.heightInPx=Fe,e._viewZoneId=t.addZone(e._viewZone),e._codeEditor.setScrollTop(e._codeEditor.getScrollTop()+e._viewZone.heightInPx)})},t.prototype._showViewZone=function(e){var t=this;void 0===e&&(e=!0),this._isVisible&&this._codeEditor.changeViewZones(function(n){var i=Fe;void 0!==t._viewZoneId?(t._state.isReplaceRevealed?(t._viewZone.heightInPx=64,i=64-Fe):(t._viewZone.heightInPx=Fe,i=Fe-64),n.removeZone(t._viewZoneId)):t._viewZone.heightInPx=Fe,t._viewZoneId=n.addZone(t._viewZone),e&&t._codeEditor.setScrollTop(t._codeEditor.getScrollTop()+i)})},t.prototype._applyTheme=function(e){var t={inputActiveOptionBorder:e.getColor(g.J),inputBackground:e.getColor(g.K),inputForeground:e.getColor(g.M),inputBorder:e.getColor(g.L),inputValidationInfoBackground:e.getColor(g.P),inputValidationInfoBorder:e.getColor(g.Q),inputValidationWarningBackground:e.getColor(g.R),inputValidationWarningBorder:e.getColor(g.S),inputValidationErrorBackground:e.getColor(g.N),inputValidationErrorBorder:e.getColor(g.O)};this._findInput.style(t),this._replaceInputBox.style(t)},t.prototype._tryUpdateWidgetWidth=function(){if(this._isVisible){var e=this._codeEditor.getConfiguration().layoutInfo.width,t=this._codeEditor.getConfiguration().layoutInfo.minimapWidth,n=!1,i=!1,o=!1;if(this._resized)if(U.y(this._domNode)>411)return this._domNode.style.maxWidth=e-28-t-15+"px",void(this._replaceInputBox.inputElement.style.width=U.y(this._findInput.inputBox.inputElement)+"px");if(439+t>=e&&(i=!0),439+t-Pe>=e&&(o=!0),439+t-Pe>=e+50&&(n=!0),U.N(this._domNode,"collapsed-find-widget",n),U.N(this._domNode,"narrow-find-widget",o),U.N(this._domNode,"reduced-find-widget",i),o||n||(this._domNode.style.maxWidth=e-28-t-15+"px"),this._resized){var r=U.y(this._findInput.inputBox.inputElement);r>0&&(this._replaceInputBox.inputElement.style.width=r+"px")}}},t.prototype.focusFindInput=function(){this._findInput.select(),this._findInput.focus()},t.prototype.focusReplaceInput=function(){this._replaceInputBox.select(),this._replaceInputBox.focus()},t.prototype.highlightFindOptions=function(){this._findInput.highlightFindOptions()},t.prototype._updateSearchScope=function(){if(this._toggleSelectionFind.checked){var e=this._codeEditor.getSelection();1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,1));var t=this._state.currentMatch;e.startLineNumber!==e.endLineNumber&&(p.a.equalsRange(e,t)||this._state.change({searchScope:e},!0))}},t.prototype._onFindInputMouseDown=function(e){e.middleButton&&e.stopPropagation()},t.prototype._onFindInputKeyDown=function(e){return e.equals(3)?(this._codeEditor.getAction(E.NextMatchFindAction).run().done(null,H.e),void e.preventDefault()):e.equals(1027)?(this._codeEditor.getAction(E.PreviousMatchFindAction).run().done(null,H.e),void e.preventDefault()):e.equals(2)?(this._isReplaceVisible?this._replaceInputBox.focus():this._findInput.focusOnCaseSensitive(),void e.preventDefault()):e.equals(2066)?(this._codeEditor.focus(),void e.preventDefault()):void 0},t.prototype._onReplaceInputKeyDown=function(e){return e.equals(3)?(this._controller.replace(),void e.preventDefault()):e.equals(2051)?(this._controller.replaceAll(),void e.preventDefault()):e.equals(2)?(this._findInput.focusOnCaseSensitive(),void e.preventDefault()):e.equals(1026)?(this._findInput.focus(),void e.preventDefault()):e.equals(2066)?(this._codeEditor.focus(),void e.preventDefault()):void 0},t.prototype.getHorizontalSashTop=function(e){return 0},t.prototype.getHorizontalSashLeft=function(e){return 0},t.prototype.getHorizontalSashWidth=function(e){return 500},t.prototype._keybindingLabelFor=function(e){var t=this._keybindingService.lookupKeybinding(e);return t?" ("+t.getLabel()+")":""},t.prototype._buildFindPart=function(){var e=this;this._findInput=this._register(new ve(null,this._contextViewProvider,{width:221,label:_e,placeholder:Se,appendCaseSensitiveLabel:this._keybindingLabelFor(E.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(E.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(E.ToggleRegexCommand),validation:function(t){if(0===t.length)return null;if(!e._findInput.getRegex())return null;try{return new RegExp(t),null}catch(e){return{content:e.message}}}},this._contextKeyService)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(function(t){return e._onFindInputKeyDown(t)})),this._register(this._findInput.inputBox.onDidChange(function(){e._state.change({searchString:e._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(function(){e._state.change({isRegex:e._findInput.getRegex(),wholeWord:e._findInput.getWholeWords(),matchCase:e._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(function(t){t.equals(1026)&&e._isReplaceVisible&&(e._replaceInputBox.focus(),t.preventDefault())})),z.c&&this._register(this._findInput.onMouseDown(function(t){return e._onFindInputMouseDown(t)})),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new Be({label:Ce+this._keybindingLabelFor(E.PreviousMatchFindAction),className:"previous",onTrigger:function(){e._codeEditor.getAction(E.PreviousMatchFindAction).run().done(null,H.e)}})),this._nextBtn=this._register(new Be({label:xe+this._keybindingLabelFor(E.NextMatchFindAction),className:"next",onTrigger:function(){e._codeEditor.getAction(E.NextMatchFindAction).run().done(null,H.e)}}));var t=document.createElement("div");return t.className="find-part",t.appendChild(this._findInput.domNode),t.appendChild(this._matchesCount),t.appendChild(this._prevBtn.domNode),t.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new Ve({parent:t,title:ke+this._keybindingLabelFor(E.ToggleSearchScopeCommand),onChange:function(){if(e._toggleSelectionFind.checked){var t=e._codeEditor.getSelection();1===t.endColumn&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,1)),t.isEmpty()||e._state.change({searchScope:t},!0)}else e._state.change({searchScope:null},!0)}})),this._closeBtn=this._register(new Be({label:Te+this._keybindingLabelFor(E.CloseFindWidgetCommand),className:"close-fw",onTrigger:function(){e._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:function(t){t.equals(2)&&e._isReplaceVisible&&(e._replaceBtn.isEnabled()?e._replaceBtn.focus():e._codeEditor.focus(),t.preventDefault())}})),t.appendChild(this._closeBtn.domNode),t},t.prototype._buildReplacePart=function(){var e=this,t=document.createElement("div");t.className="replace-input",t.style.width="221px",this._replaceInputBox=this._register(new ye(t,null,{ariaLabel:Oe,placeholder:Ne,history:[]},this._contextKeyService)),this._register(U.j(this._replaceInputBox.inputElement,"keydown",function(t){return e._onReplaceInputKeyDown(t)})),this._register(U.j(this._replaceInputBox.inputElement,"input",function(t){e._state.change({replaceString:e._replaceInputBox.value},!1)})),this._replaceBtn=this._register(new Be({label:Le+this._keybindingLabelFor(E.ReplaceOneAction),className:"replace",onTrigger:function(){e._controller.replace()},onKeyDown:function(t){t.equals(1026)&&(e._closeBtn.focus(),t.preventDefault())}})),this._replaceAllBtn=this._register(new Be({label:Ie+this._keybindingLabelFor(E.ReplaceAllAction),className:"replace-all",onTrigger:function(){e._controller.replaceAll()}}));var n=document.createElement("div");return n.className="replace-part",n.appendChild(t),n.appendChild(this._replaceBtn.domNode),n.appendChild(this._replaceAllBtn.domNode),n},t.prototype._buildDomNode=function(){var e=this,t=this._buildFindPart(),n=this._buildReplacePart();this._toggleReplaceBtn=this._register(new Be({label:Ee,className:"toggle left",onTrigger:function(){e._state.change({isReplaceRevealed:!e._isReplaceVisible},!1),e._isReplaceVisible&&(e._replaceInputBox.width=e._findInput.inputBox.width),e._showViewZone()}})),this._toggleReplaceBtn.toggleClass("expand",this._isReplaceVisible),this._toggleReplaceBtn.toggleClass("collapse",!this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width="411px",this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(t),this._domNode.appendChild(n),this._buildSash()},t.prototype._buildSash=function(){var e=this;this._resizeSash=new G.b(this._domNode,this,{orientation:G.a.VERTICAL}),this._resized=!1;var t=411;this._register(this._resizeSash.onDidStart(function(n){t=U.y(e._domNode)})),this._register(this._resizeSash.onDidChange(function(n){e._resized=!0;var i=t+n.startX-n.currentX;if(!(i<411)){var o=i-Re;i>(parseFloat(U.r(e._domNode).maxWidth)||0)||(e._domNode.style.width=i+"px",e._isReplaceVisible&&(e._replaceInputBox.width=o))}}))},t.ID="editor.contrib.findWidget",t}(q.a),Ve=function(e){function t(n){var i=e.call(this)||this;return i._opts=n,i._domNode=document.createElement("div"),i._domNode.className="monaco-checkbox",i._domNode.title=i._opts.title,i._domNode.tabIndex=0,i._checkbox=document.createElement("input"),i._checkbox.type="checkbox",i._checkbox.className="checkbox",i._checkbox.id="checkbox-"+t._COUNTER++,i._checkbox.tabIndex=-1,i._label=document.createElement("label"),i._label.className="label",i._label.htmlFor=i._checkbox.id,i._label.tabIndex=-1,i._domNode.appendChild(i._checkbox),i._domNode.appendChild(i._label),i._opts.parent.appendChild(i._domNode),i.onchange(i._checkbox,function(e){i._opts.onChange()}),i}return we(t,e),Object.defineProperty(t.prototype,"domNode",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checked",{get:function(){return this._checkbox.checked},set:function(e){this._checkbox.checked=e},enumerable:!0,configurable:!0}),t.prototype.enable=function(){this._checkbox.removeAttribute("disabled")},t.prototype.disable=function(){this._checkbox.disabled=!0},t.prototype.setEnabled=function(e){e?(this.enable(),this.domNode.tabIndex=0):(this.disable(),this.domNode.tabIndex=-1)},t._COUNTER=0,t}(q.a),Be=function(e){function t(t){var n=e.call(this)||this;return n._opts=t,n._domNode=document.createElement("div"),n._domNode.title=n._opts.label,n._domNode.tabIndex=0,n._domNode.className="button "+n._opts.className,n._domNode.setAttribute("role","button"),n._domNode.setAttribute("aria-label",n._opts.label),n.onclick(n._domNode,function(e){n._opts.onTrigger(),e.preventDefault()}),n.onkeydown(n._domNode,function(e){if(e.equals(10)||e.equals(3))return n._opts.onTrigger(),void e.preventDefault();n._opts.onKeyDown&&n._opts.onKeyDown(e)}),n}return we(t,e),Object.defineProperty(t.prototype,"domNode",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),t.prototype.isEnabled=function(){return this._domNode.tabIndex>=0},t.prototype.focus=function(){this._domNode.focus()},t.prototype.setEnabled=function(e){U.N(this._domNode,"disabled",!e),this._domNode.setAttribute("aria-disabled",String(!e)),this._domNode.tabIndex=e?0:-1},t.prototype.setExpanded=function(e){this._domNode.setAttribute("aria-expanded",String(!!e))},t.prototype.toggleClass=function(e,t){U.N(this._domNode,e,t)},t}(q.a);Object(b.e)(function(e,t){var n=function(e,n){n&&t.addRule(".monaco-editor "+e+" { background-color: "+n+"; }")};n(".findMatch",e.getColor(g.q)),n(".currentFindMatch",e.getColor(g.o)),n(".findScope",e.getColor(g.s)),n(".find-widget",e.getColor(g.D));var i=e.getColor(g.rb);i&&t.addRule(".monaco-editor .find-widget { box-shadow: 0 2px 8px "+i+"; }");var o=e.getColor(g.r);o&&t.addRule(".monaco-editor .findMatch { border: 1px "+("hc"===e.type?"dotted":"solid")+" "+o+"; box-sizing: border-box; }");var r=e.getColor(g.p);r&&t.addRule(".monaco-editor .currentFindMatch { border: 2px solid "+r+"; padding: 1px; box-sizing: border-box; }");var a=e.getColor(g.t);a&&t.addRule(".monaco-editor .findScope { border: 1px "+("hc"===e.type?"dashed":"solid")+" "+a+"; }");var s=e.getColor(g.e);s&&t.addRule(".monaco-editor .find-widget { border: 2px solid "+s+"; }");var l=e.getColor(g.G);l&&t.addRule(".monaco-editor .find-widget.no-results .matchesCount { color: "+l+"; }");var c=e.getColor(g.F);if(c)t.addRule(".monaco-editor .find-widget .monaco-sash { background-color: "+c+"; width: 3px !important; margin-left: -4px;}");else{var u=e.getColor(g.E);u&&t.addRule(".monaco-editor .find-widget .monaco-sash { background-color: "+u+"; width: 3px !important; margin-left: -4px;}")}});var He=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ze=function(e){function t(t,n,i,o){var r=e.call(this)||this;r._hideSoon=r._register(new l.c(function(){return r._hide()},2e3)),r._isVisible=!1,r._editor=t,r._state=n,r._keybindingService=i,r._domNode=document.createElement("div"),r._domNode.className="findOptionsWidget",r._domNode.style.display="none",r._domNode.style.top="10px",r._domNode.setAttribute("role","presentation"),r._domNode.setAttribute("aria-hidden","true");var a=o.getTheme().getColor(g.J);return r.caseSensitive=r._register(new oe({appendTitle:r._keybindingLabelFor(E.ToggleCaseSensitiveCommand),isChecked:r._state.matchCase,inputActiveOptionBorder:a})),r._domNode.appendChild(r.caseSensitive.domNode),r._register(r.caseSensitive.onChange(function(){r._state.change({matchCase:r.caseSensitive.checked},!1)})),r.wholeWords=r._register(new re({appendTitle:r._keybindingLabelFor(E.ToggleWholeWordCommand),isChecked:r._state.wholeWord,inputActiveOptionBorder:a})),r._domNode.appendChild(r.wholeWords.domNode),r._register(r.wholeWords.onChange(function(){r._state.change({wholeWord:r.wholeWords.checked},!1)})),r.regex=r._register(new ae({appendTitle:r._keybindingLabelFor(E.ToggleRegexCommand),isChecked:r._state.isRegex,inputActiveOptionBorder:a})),r._domNode.appendChild(r.regex.domNode),r._register(r.regex.onChange(function(){r._state.change({isRegex:r.regex.checked},!1)})),r._editor.addOverlayWidget(r),r._register(r._state.onFindReplaceStateChange(function(e){var t=!1;e.isRegex&&(r.regex.checked=r._state.isRegex,t=!0),e.wholeWord&&(r.wholeWords.checked=r._state.wholeWord,t=!0),e.matchCase&&(r.caseSensitive.checked=r._state.matchCase,t=!0),!r._state.isRevealed&&t&&r._revealTemporarily()})),r._register(U.h(r._domNode,function(e){return r._onMouseOut()})),r._register(U.g(r._domNode,"mouseover",function(e){return r._onMouseOver()})),r._applyTheme(o.getTheme()),r._register(o.onThemeChange(r._applyTheme.bind(r))),r}return He(t,e),t.prototype._keybindingLabelFor=function(e){var t=this._keybindingService.lookupKeybinding(e);return t?" ("+t.getLabel()+")":""},t.prototype.dispose=function(){this._editor.removeOverlayWidget(this),e.prototype.dispose.call(this)},t.prototype.getId=function(){return t.ID},t.prototype.getDomNode=function(){return this._domNode},t.prototype.getPosition=function(){return{preference:K.c.TOP_RIGHT_CORNER}},t.prototype.highlightFindOptions=function(){this._revealTemporarily()},t.prototype._revealTemporarily=function(){this._show(),this._hideSoon.schedule()},t.prototype._onMouseOut=function(){this._hideSoon.schedule()},t.prototype._onMouseOver=function(){this._hideSoon.cancel()},t.prototype._show=function(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")},t.prototype._hide=function(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")},t.prototype._applyTheme=function(e){var t={inputActiveOptionBorder:e.getColor(g.J)};this.caseSensitive.style(t),this.wholeWords.style(t),this.regex.style(t)},t.ID="editor.contrib.findOptionsWidget",t}(q.a);Object(b.e)(function(e,t){var n=e.getColor(g.D);n&&t.addRule(".monaco-editor .findOptionsWidget { background-color: "+n+"; }");var i=e.getColor(g.rb);i&&t.addRule(".monaco-editor .findOptionsWidget { box-shadow: 0 2px 8px "+i+"; }");var o=e.getColor(g.e);o&&t.addRule(".monaco-editor .findOptionsWidget { border: 2px solid "+o+"; }")});var Ue=n(25),qe=n(41);n.d(t,"getSelectionSearchString",function(){return Ze}),n.d(t,"CommonFindController",function(){return $e}),n.d(t,"FindController",function(){return Xe}),n.d(t,"StartFindAction",function(){return Qe}),n.d(t,"StartFindWithSelectionAction",function(){return Je}),n.d(t,"MatchFindAction",function(){return et}),n.d(t,"NextMatchFindAction",function(){return tt}),n.d(t,"PreviousMatchFindAction",function(){return nt}),n.d(t,"SelectionMatchFindAction",function(){return it}),n.d(t,"NextSelectionMatchFindAction",function(){return ot}),n.d(t,"PreviousSelectionMatchFindAction",function(){return rt}),n.d(t,"StartFindReplaceAction",function(){return at});var Ge=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ke=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},Ye=function(e,t){return function(n,i){t(n,i,e)}};function Ze(e){var t=e.getSelection();if(t.startLineNumber===t.endLineNumber){if(!t.isEmpty())return e.getModel().getValueInRange(t);var n=e.getModel().getWordAtPosition(t.getStartPosition());if(n)return n.word}return null}var $e=function(e){function t(t,n,i,o){var r=e.call(this)||this;return r._editor=t,r._findWidgetVisible=x.bindTo(n),r._storageService=i,r._clipboardService=o,r._updateHistoryDelayer=new l.a(500),r._state=r._register(new R),r.loadQueryState(),r._register(r._state.onFindReplaceStateChange(function(e){return r._onStateChanged(e)})),r._model=null,r._register(r._editor.onDidChangeModel(function(){var e=r._editor.getModel()&&r._state.isRevealed;r.disposeModel(),r._state.change({searchScope:null,matchCase:r._storageService.getBoolean("editor.matchCase",j.c.WORKSPACE,!1),wholeWord:r._storageService.getBoolean("editor.wholeWord",j.c.WORKSPACE,!1),isRegex:r._storageService.getBoolean("editor.isRegex",j.c.WORKSPACE,!1)},!1),e&&r._start({forceRevealReplace:!1,seedSearchStringFromSelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1})})),r}return Ge(t,e),t.get=function(e){return e.getContribution(t.ID)},t.prototype.dispose=function(){this.disposeModel(),e.prototype.dispose.call(this)},t.prototype.disposeModel=function(){this._model&&(this._model.dispose(),this._model=null)},t.prototype.getId=function(){return t.ID},t.prototype._onStateChanged=function(e){this.saveQueryState(e),e.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),e.searchString&&this.setGlobalBufferTerm(this._state.searchString)},t.prototype.saveQueryState=function(e){e.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,j.c.WORKSPACE),e.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,j.c.WORKSPACE),e.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,j.c.WORKSPACE)},t.prototype.loadQueryState=function(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",j.c.WORKSPACE,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",j.c.WORKSPACE,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",j.c.WORKSPACE,this._state.isRegex)},!1)},t.prototype.getState=function(){return this._state},t.prototype.closeFindWidget=function(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()},t.prototype.toggleCaseSensitive=function(){this._state.change({matchCase:!this._state.matchCase},!1)},t.prototype.toggleWholeWords=function(){this._state.change({wholeWord:!this._state.wholeWord},!1)},t.prototype.toggleRegex=function(){this._state.change({isRegex:!this._state.isRegex},!1)},t.prototype.toggleSearchScope=function(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else{var e=this._editor.getSelection();1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,1)),e.isEmpty()||this._state.change({searchScope:e},!0)}},t.prototype.setSearchString=function(e){this._state.isRegex&&(e=a.escapeRegExpCharacters(e)),this._state.change({searchString:e},!1)},t.prototype.highlightFindOptions=function(){},t.prototype._start=function(e){if(this.disposeModel(),this._editor.getModel()){var t,n={isRevealed:!0};if(e.seedSearchStringFromSelection)(t=Ze(this._editor))&&(this._state.isRegex?n.searchString=a.escapeRegExpCharacters(t):n.searchString=t);if(!n.searchString&&e.seedSearchStringFromGlobalClipboard)(t=this.getGlobalBufferTerm())&&(n.searchString=t);e.forceRevealReplace?n.isReplaceRevealed=!0:this._findWidgetVisible.get()||(n.isReplaceRevealed=!1),this._state.change(n,!1),this._model||(this._model=new D(this._editor,this._state))}},t.prototype.start=function(e){this._start(e)},t.prototype.moveToNextMatch=function(){return!!this._model&&(this._model.moveToNextMatch(),!0)},t.prototype.moveToPrevMatch=function(){return!!this._model&&(this._model.moveToPrevMatch(),!0)},t.prototype.replace=function(){return!!this._model&&(this._model.replace(),!0)},t.prototype.replaceAll=function(){return!!this._model&&(this._model.replaceAll(),!0)},t.prototype.selectAllMatches=function(){return!!this._model&&(this._model.selectAllMatches(),this._editor.focus(),!0)},t.prototype.getGlobalBufferTerm=function(){return this._editor.getConfiguration().contribInfo.find.globalFindClipboard&&this._clipboardService&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""},t.prototype.setGlobalBufferTerm=function(e){this._editor.getConfiguration().contribInfo.find.globalFindClipboard&&this._clipboardService&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(e)},t.ID="editor.contrib.findController",t=Ke([Ye(1,r.e),Ye(2,j.a),Ye(3,W.a)],t)}(o.a),Xe=function(e){function t(t,n,i,o,r,a,s){var l=e.call(this,t,i,a,s)||this;return l._contextViewService=n,l._contextKeyService=i,l._keybindingService=o,l._themeService=r,l}return Ge(t,e),t.prototype._start=function(t){this._widget||this._createFindWidget(),e.prototype._start.call(this,t),2===t.shouldFocus?this._widget.focusReplaceInput():1===t.shouldFocus&&this._widget.focusFindInput()},t.prototype.highlightFindOptions=function(){this._widget||this._createFindWidget(),this._state.isRevealed?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()},t.prototype._createFindWidget=function(){this._widget=this._register(new We(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService)),this._findOptionsWidget=this._register(new ze(this._editor,this._state,this._keybindingService,this._themeService))},t=Ke([Ye(1,V.b),Ye(2,r.e),Ye(3,B.a),Ye(4,b.c),Ye(5,j.a),Ye(6,Object(Ue.d)(W.a))],t)}($e),Qe=function(e){function t(){return e.call(this,{id:E.StartFindAction,label:i.a("startFindAction","Find"),alias:"Find",precondition:null,kbOpts:{kbExpr:null,primary:2084,weight:100},menubarOpts:{menuId:qe.b.MenubarEditMenu,group:"3_find",title:i.a({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}})||this}return Ge(t,e),t.prototype.run=function(e,t){var n=$e.get(t);n&&n.start({forceRevealReplace:!1,seedSearchStringFromSelection:t.getConfiguration().contribInfo.find.seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:t.getConfiguration().contribInfo.find.globalFindClipboard,shouldFocus:1,shouldAnimate:!0})},t}(s.b),Je=function(e){function t(){return e.call(this,{id:E.StartFindWithSelection,label:i.a("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:null,kbOpts:{kbExpr:null,primary:null,mac:{primary:2083},weight:100}})||this}return Ge(t,e),t.prototype.run=function(e,t){var n=$e.get(t);n&&(n.start({forceRevealReplace:!1,seedSearchStringFromSelection:!0,seedSearchStringFromGlobalClipboard:!1,shouldFocus:1,shouldAnimate:!0}),n.setGlobalBufferTerm(n.getState().searchString))},t}(s.b),et=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ge(t,e),t.prototype.run=function(e,t){var n=$e.get(t);n&&!this._run(n)&&(n.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===n.getState().searchString.length&&t.getConfiguration().contribInfo.find.seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0}),this._run(n))},t}(s.b),tt=function(e){function t(){return e.call(this,{id:E.NextMatchFindAction,label:i.a("findNextMatchAction","Find Next"),alias:"Find Next",precondition:null,kbOpts:{kbExpr:F.a.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100}})||this}return Ge(t,e),t.prototype._run=function(e){return e.moveToNextMatch()},t}(et),nt=function(e){function t(){return e.call(this,{id:E.PreviousMatchFindAction,label:i.a("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:null,kbOpts:{kbExpr:F.a.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100}})||this}return Ge(t,e),t.prototype._run=function(e){return e.moveToPrevMatch()},t}(et),it=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ge(t,e),t.prototype.run=function(e,t){var n=$e.get(t);if(n){var i=Ze(t);i&&n.setSearchString(i),this._run(n)||(n.start({forceRevealReplace:!1,seedSearchStringFromSelection:t.getConfiguration().contribInfo.find.seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0}),this._run(n))}},t}(s.b),ot=function(e){function t(){return e.call(this,{id:E.NextSelectionMatchFindAction,label:i.a("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:null,kbOpts:{kbExpr:F.a.focus,primary:2109,weight:100}})||this}return Ge(t,e),t.prototype._run=function(e){return e.moveToNextMatch()},t}(it),rt=function(e){function t(){return e.call(this,{id:E.PreviousSelectionMatchFindAction,label:i.a("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:null,kbOpts:{kbExpr:F.a.focus,primary:3133,weight:100}})||this}return Ge(t,e),t.prototype._run=function(e){return e.moveToPrevMatch()},t}(it),at=function(e){function t(){return e.call(this,{id:E.StartFindReplaceAction,label:i.a("startReplace","Replace"),alias:"Replace",precondition:null,kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menubarOpts:{menuId:qe.b.MenubarEditMenu,group:"3_find",title:i.a({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}})||this}return Ge(t,e),t.prototype.run=function(e,t){if(!t.getConfiguration().readOnly){var n=$e.get(t),i=t.getSelection(),o=!i.isEmpty()&&i.startLineNumber===i.endLineNumber&&t.getConfiguration().contribInfo.find.seedSearchStringFromSelection,r=n.getState().searchString||o?2:1;n&&n.start({forceRevealReplace:!0,seedSearchStringFromSelection:o,seedSearchStringFromGlobalClipboard:t.getConfiguration().contribInfo.find.seedSearchStringFromSelection,shouldFocus:r,shouldAnimate:!0})}},t}(s.b);Object(s.h)(Xe),Object(s.f)(Qe),Object(s.f)(Je),Object(s.f)(tt),Object(s.f)(nt),Object(s.f)(ot),Object(s.f)(rt),Object(s.f)(at);var st=s.c.bindToContribution($e.get);Object(s.g)(new st({id:E.CloseFindWidgetCommand,precondition:x,handler:function(e){return e.closeFindWidget()},kbOpts:{weight:105,kbExpr:F.a.focus,primary:9,secondary:[1033]}})),Object(s.g)(new st({id:E.ToggleCaseSensitiveCommand,precondition:null,handler:function(e){return e.toggleCaseSensitive()},kbOpts:{weight:105,kbExpr:F.a.focus,primary:O.primary,mac:O.mac,win:O.win,linux:O.linux}})),Object(s.g)(new st({id:E.ToggleWholeWordCommand,precondition:null,handler:function(e){return e.toggleWholeWords()},kbOpts:{weight:105,kbExpr:F.a.focus,primary:N.primary,mac:N.mac,win:N.win,linux:N.linux}})),Object(s.g)(new st({id:E.ToggleRegexCommand,precondition:null,handler:function(e){return e.toggleRegex()},kbOpts:{weight:105,kbExpr:F.a.focus,primary:L.primary,mac:L.mac,win:L.win,linux:L.linux}})),Object(s.g)(new st({id:E.ToggleSearchScopeCommand,precondition:null,handler:function(e){return e.toggleSearchScope()},kbOpts:{weight:105,kbExpr:F.a.focus,primary:I.primary,mac:I.mac,win:I.win,linux:I.linux}})),Object(s.g)(new st({id:E.ReplaceOneAction,precondition:x,handler:function(e){return e.replace()},kbOpts:{weight:105,kbExpr:F.a.focus,primary:3094}})),Object(s.g)(new st({id:E.ReplaceAllAction,precondition:x,handler:function(e){return e.replaceAll()},kbOpts:{weight:105,kbExpr:F.a.focus,primary:2563}})),Object(s.g)(new st({id:E.SelectAllMatchesAction,precondition:x,handler:function(e){return e.selectAllMatches()},kbOpts:{weight:105,kbExpr:F.a.focus,primary:515}}))},function(e,t,n){"use strict";n.d(t,"a",function(){return b});n(325);var i,o=n(0),r=n(20),a=n(7),s=n(61),l=n(2),c=n(3),u=n(19),d=n(13),h=n(22),f=n(8),p=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),m=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},g=function(e,t){return function(n,i){t(n,i,e)}},b=function(e){function t(n,i){var o=e.call(this)||this;return o._messageListeners=[],o._editor=n,o._visible=t.MESSAGE_VISIBLE.bindTo(i),o._register(o._editor.onDidAttemptReadOnlyEdit(function(){return o._onDidAttemptReadOnlyEdit()})),o}return p(t,e),t.get=function(e){return e.getContribution(t._id)},t.prototype.getId=function(){return t._id},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._visible.reset()},t.prototype.showMessage=function(e,t){var n,i=this;Object(s.a)(e),this._visible.set(!0),Object(a.d)(this._messageWidget),this._messageListeners=Object(a.d)(this._messageListeners),this._messageWidget=new v(this._editor,t,e),this._messageListeners.push(this._editor.onDidBlurEditorText(function(){return i.closeMessage()})),this._messageListeners.push(this._editor.onDidChangeCursorPosition(function(){return i.closeMessage()})),this._messageListeners.push(this._editor.onDidDispose(function(){return i.closeMessage()})),this._messageListeners.push(this._editor.onDidChangeModel(function(){return i.closeMessage()})),this._messageListeners.push(Object(r.l)(function(){return i.closeMessage()},3e3)),this._messageListeners.push(this._editor.onMouseMove(function(e){e.target.position&&(n?n.containsPosition(e.target.position)||i.closeMessage():n=new l.a(t.lineNumber-3,1,e.target.position.lineNumber+3,1))}))},t.prototype.closeMessage=function(){this._visible.reset(),this._messageListeners=Object(a.d)(this._messageListeners),this._messageListeners.push(v.fadeOut(this._messageWidget))},t.prototype._onDidAttemptReadOnlyEdit=function(){this.showMessage(o.a("editor.readonly","Cannot edit in read-only editor"),this._editor.getPosition())},t._id="editor.contrib.messageController",t.MESSAGE_VISIBLE=new d.f("messageVisible",!1),t=m([g(1,d.e)],t)}(a.a),y=c.c.bindToContribution(b.get);Object(c.g)(new y({id:"leaveEditorMessage",precondition:b.MESSAGE_VISIBLE,handler:function(e){return e.closeMessage()},kbOpts:{weight:130,primary:9}}));var v=function(){function e(e,t,n){var i=t.lineNumber,o=t.column;this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=e,this._editor.revealLinesInCenterIfOutsideViewport(i,i,0),this._position={lineNumber:i,column:o-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");var r=document.createElement("div");r.classList.add("message"),r.textContent=n,this._domNode.appendChild(r);var a=document.createElement("div");a.classList.add("anchor"),this._domNode.appendChild(a),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}return e.fadeOut=function(e){var t,n=function(){e.dispose(),clearTimeout(t),e.getDomNode().removeEventListener("animationend",n)};return t=setTimeout(n,110),e.getDomNode().addEventListener("animationend",n),e.getDomNode().classList.add("fadeOut"),{dispose:n}},e.prototype.dispose=function(){this._editor.removeContentWidget(this)},e.prototype.getId=function(){return"messageoverlay"},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getPosition=function(){return{position:this._position,preference:[u.a.ABOVE]}},e}();Object(c.h)(b),Object(h.e)(function(e,t){var n=e.getColor(f.Q);if(n){var i=e.type===h.b?2:1;t.addRule(".monaco-editor .monaco-editor-overlaymessage .anchor { border-top-color: "+n+"; }"),t.addRule(".monaco-editor .monaco-editor-overlaymessage .message { border: "+i+"px solid "+n+"; }")}var o=e.getColor(f.P);o&&t.addRule(".monaco-editor .monaco-editor-overlaymessage .message { background-color: "+o+"; }")})},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return u});var i,o,r=n(36),a=n(43),s=n(25),l=n(81),c=Object(s.c)("contextService");!function(e){e.isIWorkspace=function(e){return e&&"object"===typeof e&&"string"===typeof e.id&&"string"===typeof e.name&&Array.isArray(e.folders)}}(i||(i={})),function(e){e.isIWorkspaceFolder=function(e){return e&&"object"===typeof e&&r.a.isUri(e.uri)&&"string"===typeof e.name&&"function"===typeof e.toResource}}(o||(o={}));!function(){function e(e,t,n,i,o){void 0===t&&(t=""),void 0===n&&(n=[]),void 0===i&&(i=null),this._id=e,this._name=t,this._configuration=i,this._ctime=o,this._foldersMap=l.c.forPaths(),this.folders=n}Object.defineProperty(e.prototype,"folders",{get:function(){return this._folders},set:function(e){this._folders=e,this.updateFoldersMap()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(e){this._name=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"configuration",{get:function(){return this._configuration},set:function(e){this._configuration=e},enumerable:!0,configurable:!0}),e.prototype.getFolder=function(e){return e?this._foldersMap.findSubstr(e.toString()):null},e.prototype.updateFoldersMap=function(){this._foldersMap=l.c.forPaths();for(var e=0,t=this.folders;e<t.length;e++){var n=t[e];this._foldersMap.set(n.uri.toString(),n)}},e.prototype.toJSON=function(){return{id:this.id,folders:this.folders,name:this.name,configuration:this.configuration}}}();var u=function(){function e(e,t){this.raw=t,this.uri=e.uri,this.index=e.index,this.name=e.name}return e.prototype.toResource=function(e){return this.uri.with({path:a.f(this.uri.path,e)})},e.prototype.toJSON=function(){return{uri:this.uri,name:this.name,index:this.index}},e}()},function(e,t,n){"use strict";var i,o=n(1),r=n(161),a=n(9),s=n(73);(function(e){var t={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:m,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,nptable:m,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=\\h*\\n)[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=\\h*\\n)[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:m,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading| {0,3}>|<\/?(?:tag)(?: +|\n|\/?>)|<(?:script|pre|style|!--))[^\n]+)*)/,text:/^[^\n]+/};function n(e){this.tokens=[],this.tokens.links={},this.options=e||v.defaults,this.rules=t.normal,this.options.pedantic?this.rules=t.pedantic:this.options.gfm&&(this.options.tables?this.rules=t.tables:this.rules=t.gfm)}t._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,t._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,t.def=d(t.def).replace("label",t._label).replace("title",t._title).getRegex(),t.bullet=/(?:[*+-]|\d+\.)/,t.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,t.item=d(t.item,"gm").replace(/bull/g,t.bullet).getRegex(),t.list=d(t.list).replace(/bull/g,t.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+t.def.source+")").getRegex(),t._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",t._comment=/<!--(?!-?>)[\s\S]*?-->/,t.html=d(t.html,"i").replace("comment",t._comment).replace("tag",t._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),t.paragraph=d(t.paragraph).replace("hr",t.hr).replace("heading",t.heading).replace("lheading",t.lheading).replace("tag",t._tag).getRegex(),t.blockquote=d(t.blockquote).replace("paragraph",t.paragraph).getRegex(),t.normal=g({},t),t.gfm=g({},t.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\n? *\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),t.gfm.paragraph=d(t.paragraph).replace("(?!","(?!"+t.gfm.fences.source.replace("\\1","\\2")+"|"+t.list.source.replace("\\1","\\3")+"|").getRegex(),t.tables=g({},t.gfm,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/}),t.pedantic=g({},t.normal,{html:d("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",t._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/}),n.rules=t,n.lex=function(e,t){return new n(t).lex(e)},n.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},n.prototype.token=function(e,n){var i,o,r,a,s,l,c,u,d,h,f,p,m;for(e=e.replace(/^ +$/gm,"");e;)if((r=this.rules.newline.exec(e))&&(e=e.substring(r[0].length),r[0].length>1&&this.tokens.push({type:"space"})),r=this.rules.code.exec(e))e=e.substring(r[0].length),r=r[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?r:y(r,"\n")});else if(r=this.rules.fences.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"code",lang:r[2],text:r[3]||""});else if(r=this.rules.heading.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"heading",depth:r[1].length,text:r[2]});else if(n&&(r=this.rules.nptable.exec(e))&&(l={type:"table",header:b(r[1].replace(/^ *| *\| *$/g,"")),align:r[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:r[3]?r[3].replace(/\n$/,"").split("\n"):[]}).header.length===l.align.length){for(e=e.substring(r[0].length),u=0;u<l.align.length;u++)/^ *-+: *$/.test(l.align[u])?l.align[u]="right":/^ *:-+: *$/.test(l.align[u])?l.align[u]="center":/^ *:-+ *$/.test(l.align[u])?l.align[u]="left":l.align[u]=null;for(u=0;u<l.cells.length;u++)l.cells[u]=b(l.cells[u],l.header.length);this.tokens.push(l)}else if(r=this.rules.hr.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"hr"});else if(r=this.rules.blockquote.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"blockquote_start"}),r=r[0].replace(/^ *> ?/gm,""),this.token(r,n),this.tokens.push({type:"blockquote_end"});else if(r=this.rules.list.exec(e)){for(e=e.substring(r[0].length),f=(a=r[2]).length>1,this.tokens.push({type:"list_start",ordered:f,start:f?+a:""}),i=!1,h=(r=r[0].match(this.rules.item)).length,u=0;u<h;u++)c=(l=r[u]).length,~(l=l.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(c-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+c+"}","gm"),"")),this.options.smartLists&&u!==h-1&&(a===(s=t.bullet.exec(r[u+1])[0])||a.length>1&&s.length>1||(e=r.slice(u+1).join("\n")+e,u=h-1)),o=i||/\n\n(?!\s*$)/.test(l),u!==h-1&&(i="\n"===l.charAt(l.length-1),o||(o=i)),m=void 0,(p=/^\[[ xX]\] /.test(l))&&(m=" "!==l[1],l=l.replace(/^\[[ xX]\] +/,"")),this.tokens.push({type:o?"loose_item_start":"list_item_start",task:p,checked:m}),this.token(l,!1),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(r=this.rules.html.exec(e))e=e.substring(r[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===r[1]||"script"===r[1]||"style"===r[1]),text:r[0]});else if(n&&(r=this.rules.def.exec(e)))e=e.substring(r[0].length),r[3]&&(r[3]=r[3].substring(1,r[3].length-1)),d=r[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[d]||(this.tokens.links[d]={href:r[2],title:r[3]});else if(n&&(r=this.rules.table.exec(e))&&(l={type:"table",header:b(r[1].replace(/^ *| *\| *$/g,"")),align:r[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:r[3]?r[3].replace(/(?: *\| *)?\n$/,"").split("\n"):[]}).header.length===l.align.length){for(e=e.substring(r[0].length),u=0;u<l.align.length;u++)/^ *-+: *$/.test(l.align[u])?l.align[u]="right":/^ *:-+: *$/.test(l.align[u])?l.align[u]="center":/^ *:-+ *$/.test(l.align[u])?l.align[u]="left":l.align[u]=null;for(u=0;u<l.cells.length;u++)l.cells[u]=b(l.cells[u].replace(/^ *\| *| *\| *$/g,""),l.header.length);this.tokens.push(l)}else if(r=this.rules.lheading.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"heading",depth:"="===r[2]?1:2,text:r[1]});else if(n&&(r=this.rules.paragraph.exec(e)))e=e.substring(r[0].length),this.tokens.push({type:"paragraph",text:"\n"===r[1].charAt(r[1].length-1)?r[1].slice(0,-1):r[1]});else if(r=this.rules.text.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"text",text:r[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var o={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:m,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(href(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)|^__([^\s])__(?!_)|^\*\*([^\s])\*\*(?!\*)/,em:/^_([^\s][\s\S]*?[^\s_])_(?!_)|^_([^\s_][\s\S]*?[^\s])_(?!_)|^\*([^\s][\s\S]*?[^\s*])\*(?!\*)|^\*([^\s*][\s\S]*?[^\s])\*(?!\*)|^_([^\s_])_(?!_)|^\*([^\s*])\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`]?)\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:m,text:/^[\s\S]+?(?=[\\<!\[`*]|\b_| {2,}\n|$)/};function r(e,t){if(this.options=t||v.defaults,this.links=e,this.rules=o.normal,this.renderer=this.options.renderer||new a,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=o.pedantic:this.options.gfm&&(this.options.breaks?this.rules=o.breaks:this.rules=o.gfm)}function a(e){this.options=e||v.defaults}function s(){}function l(e){this.tokens=[],this.token=null,this.options=e||v.defaults,this.options.renderer=this.options.renderer||new a,this.renderer=this.options.renderer,this.renderer.options=this.options}function c(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function u(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function d(e,t){return e=e.source||e,t=t||"",{replace:function(t,n){return n=(n=n.source||n).replace(/(^|[^\[])\^/g,"$1"),e=e.replace(t,n),this},getRegex:function(){return new RegExp(e,t)}}}function h(e,t){return f[" "+e]||(/^[^:]+:\/*[^/]*$/.test(e)?f[" "+e]=e+"/":f[" "+e]=y(e,"/",!0)),e=f[" "+e],"//"===t.slice(0,2)?e.replace(/:[\s\S]*/,":")+t:"/"===t.charAt(0)?e.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+t:e+t}o._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,o._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,o._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,o.autolink=d(o.autolink).replace("scheme",o._scheme).replace("email",o._email).getRegex(),o._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,o.tag=d(o.tag).replace("comment",t._comment).replace("attribute",o._attribute).getRegex(),o._label=/(?:\[[^\[\]]*\]|\\[\[\]]?|`[^`]*`|[^\[\]\\])*?/,o._href=/\s*(<(?:\\[<>]?|[^\s<>\\])*>|(?:\\[()]?|\([^\s\x00-\x1f()\\]*\)|[^\s\x00-\x1f()\\])*?)/,o._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,o.link=d(o.link).replace("label",o._label).replace("href",o._href).replace("title",o._title).getRegex(),o.reflink=d(o.reflink).replace("label",o._label).getRegex(),o.normal=g({},o),o.pedantic=g({},o.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:d(/^!?\[(label)\]\((.*?)\)/).replace("label",o._label).getRegex(),reflink:d(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",o._label).getRegex()}),o.gfm=g({},o.normal,{escape:d(o.escape).replace("])","~|])").getRegex(),url:d(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("email",o._email).getRegex(),_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:d(o.text).replace("]|","~]|").replace("|","|https?://|ftp://|www\\.|[a-zA-Z0-9.!#$%&'*+/=?^_`{\\|}~-]+@|").getRegex()}),o.breaks=g({},o.gfm,{br:d(o.br).replace("{2,}","*").getRegex(),text:d(o.gfm.text).replace("{2,}","*").getRegex()}),r.rules=o,r.output=function(e,t,n){return new r(t,n).output(e)},r.prototype.output=function(e){for(var t,n,i,o,a,s="";e;)if(a=this.rules.escape.exec(e))e=e.substring(a[0].length),s+=a[1];else if(a=this.rules.autolink.exec(e))e=e.substring(a[0].length),i="@"===a[2]?"mailto:"+(n=c(this.mangle(a[1]))):n=c(a[1]),s+=this.renderer.link(i,null,n);else if(this.inLink||!(a=this.rules.url.exec(e))){if(a=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(a[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(a[0])&&(this.inLink=!1),e=e.substring(a[0].length),s+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(a[0]):c(a[0]):a[0];else if(a=this.rules.link.exec(e))e=e.substring(a[0].length),this.inLink=!0,i=a[2],this.options.pedantic?(t=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i))?(i=t[1],o=t[3]):o="":o=a[3]?a[3].slice(1,-1):"",i=i.trim().replace(/^<([\s\S]*)>$/,"$1"),s+=this.outputLink(a,{href:r.escapes(i),title:r.escapes(o)}),this.inLink=!1;else if((a=this.rules.reflink.exec(e))||(a=this.rules.nolink.exec(e))){if(e=e.substring(a[0].length),t=(a[2]||a[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){s+=a[0].charAt(0),e=a[0].substring(1)+e;continue}this.inLink=!0,s+=this.outputLink(a,t),this.inLink=!1}else if(a=this.rules.strong.exec(e))e=e.substring(a[0].length),s+=this.renderer.strong(this.output(a[4]||a[3]||a[2]||a[1]));else if(a=this.rules.em.exec(e))e=e.substring(a[0].length),s+=this.renderer.em(this.output(a[6]||a[5]||a[4]||a[3]||a[2]||a[1]));else if(a=this.rules.code.exec(e))e=e.substring(a[0].length),s+=this.renderer.codespan(c(a[2].trim(),!0));else if(a=this.rules.br.exec(e))e=e.substring(a[0].length),s+=this.renderer.br();else if(a=this.rules.del.exec(e))e=e.substring(a[0].length),s+=this.renderer.del(this.output(a[1]));else if(a=this.rules.text.exec(e))e=e.substring(a[0].length),s+=this.renderer.text(c(this.smartypants(a[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else a[0]=this.rules._backpedal.exec(a[0])[0],e=e.substring(a[0].length),"@"===a[2]?i="mailto:"+(n=c(a[0])):(n=c(a[0]),i="www."===a[1]?"http://"+n:n),s+=this.renderer.link(i,null,n);return s},r.escapes=function(e){return e?e.replace(r.rules._escapes,"$1"):e},r.prototype.outputLink=function(e,t){var n=t.href,i=t.title?c(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,i,this.output(e[1])):this.renderer.image(n,i,c(e[1]))},r.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026"):e},r.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",i=e.length,o=0;o<i;o++)t=e.charCodeAt(o),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},a.prototype.code=function(e,t,n){if(this.options.highlight){var i=this.options.highlight(e,t);null!=i&&i!==e&&(n=!0,e=i)}return t?'<pre><code class="'+this.options.langPrefix+c(t,!0)+'">'+(n?e:c(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:c(e,!0))+"</code></pre>"},a.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},a.prototype.html=function(e){return e},a.prototype.heading=function(e,t,n){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},a.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},a.prototype.list=function(e,t,n){var i=t?"ol":"ul";return"<"+i+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+i+">\n"},a.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},a.prototype.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},a.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},a.prototype.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},a.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},a.prototype.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},a.prototype.strong=function(e){return"<strong>"+e+"</strong>"},a.prototype.em=function(e){return"<em>"+e+"</em>"},a.prototype.codespan=function(e){return"<code>"+e+"</code>"},a.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},a.prototype.del=function(e){return"<del>"+e+"</del>"},a.prototype.link=function(e,t,n){if(this.options.sanitize){try{var i=decodeURIComponent(u(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return n}if(0===i.indexOf("javascript:")||0===i.indexOf("vbscript:")||0===i.indexOf("data:"))return n}this.options.baseUrl&&!p.test(e)&&(e=h(this.options.baseUrl,e));try{e=encodeURI(e).replace(/%25/g,"%")}catch(e){return n}var o='<a href="'+c(e)+'"';return t&&(o+=' title="'+t+'"'),o+=">"+n+"</a>"},a.prototype.image=function(e,t,n){this.options.baseUrl&&!p.test(e)&&(e=h(this.options.baseUrl,e));var i='<img src="'+e+'" alt="'+n+'"';return t&&(i+=' title="'+t+'"'),i+=this.options.xhtml?"/>":">"},a.prototype.text=function(e){return e},s.prototype.strong=s.prototype.em=s.prototype.codespan=s.prototype.del=s.prototype.text=function(e){return e},s.prototype.link=s.prototype.image=function(e,t,n){return""+n},s.prototype.br=function(){return""},l.parse=function(e,t){return new l(t).parse(e)},l.prototype.parse=function(e){this.inline=new r(e.links,this.options),this.inlineText=new r(e.links,g({},this.options,{renderer:new s})),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},l.prototype.next=function(){return this.token=this.tokens.pop()},l.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},l.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},l.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,u(this.inlineText.output(this.token.text)));case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,i,o="",r="";for(n="",e=0;e<this.token.header.length;e++)n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(o+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",i=0;i<t.length;i++)n+=this.renderer.tablecell(this.inline.output(t[i]),{header:!1,align:this.token.align[i]});r+=this.renderer.tablerow(n)}return this.renderer.table(o,r);case"blockquote_start":for(r="";"blockquote_end"!==this.next().type;)r+=this.tok();return this.renderer.blockquote(r);case"list_start":r="";for(var a=this.token.ordered,s=this.token.start;"list_end"!==this.next().type;)r+=this.tok();return this.renderer.list(r,a,s);case"list_item_start":for(r="",this.token.task&&(r+=this.renderer.checkbox(this.token.checked));"list_item_end"!==this.next().type;)r+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(r);case"loose_item_start":for(r="";"list_item_end"!==this.next().type;)r+=this.tok();return this.renderer.listitem(r);case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}};var f={},p=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function m(){}function g(e){for(var t,n,i=1;i<arguments.length;i++)for(n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function b(e,t){var n=e.replace(/\|/g,function(e,t,n){for(var i=!1,o=t;--o>=0&&"\\"===n[o];)i=!i;return i?"|":" |"}).split(/ \|/),i=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n}function y(e,t,n){if(0===e.length)return"";for(var i=0;i<e.length;){var o=e.charAt(e.length-i-1);if(o!==t||n){if(o===t||!n)break;i++}else i++}return e.substr(0,e.length-i)}function v(e,t,i){if("undefined"===typeof e||null===e)throw new Error("marked(): input parameter is undefined or null");if("string"!==typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(i||"function"===typeof t){i||(i=t,t=null);var o,r,a=(t=g({},v.defaults,t||{})).highlight,s=0;try{o=n.lex(e,t)}catch(e){return i(e)}r=o.length;var u=function(e){if(e)return t.highlight=a,i(e);var n;try{n=l.parse(o,t)}catch(t){e=t}return t.highlight=a,e?i(e):i(null,n)};if(!a||a.length<3)return u();if(delete t.highlight,!r)return u();for(;s<o.length;s++)!function(e){"code"!==e.type?--r||u():a(e.text,e.lang,function(t,n){return t?u(t):null==n||n===e.text?--r||u():(e.text=n,e.escaped=!0,void(--r||u()))})}(o[s])}else try{return t&&(t=g({},v.defaults,t)),l.parse(n.lex(e,t),t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",(t||v.defaults).silent)return"<p>An error occurred:</p><pre>"+c(e.message+"",!0)+"</pre>";throw e}}m.exec=m,v.options=v.setOptions=function(e){return g(v.defaults,e),v},v.getDefaults=function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:new a,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tables:!0,xhtml:!1}},v.defaults=v.getDefaults(),v.Parser=l,v.parser=l.parse,v.Renderer=a,v.TextRenderer=s,v.Lexer=n,v.lexer=n.lex,v.InlineLexer=r,v.inlineLexer=r.output,v.parse=v,i=v}).call(void 0);var l=i;i.Parser,i.parser,i.Renderer,i.TextRenderer,i.Lexer,i.lexer,i.InlineLexer,i.inlineLexer,i.parse;function c(e){var t=e.inline?"span":"div",n=document.createElement(t);return e.className&&(n.className=e.className),n}function u(e,t){void 0===t&&(t={});var n=c(t);return n.textContent=e,n}function d(e,t){void 0===t&&(t={});var n=c(t);return function e(t,n,i){var r;if(2===n.type)r=document.createTextNode(n.content);else if(3===n.type)r=document.createElement("b");else if(4===n.type)r=document.createElement("i");else if(5===n.type&&i){var a=document.createElement("a");a.href="#",i.disposeables.push(o.j(a,"click",function(e){i.callback(String(n.index),e)})),r=a}else 7===n.type?r=document.createElement("br"):1===n.type&&(r=t);t!==r&&t.appendChild(r);Array.isArray(n.children)&&n.children.forEach(function(t){e(r,t,i)})}(n,function(e){var t={type:1,children:[]},n=0,i=t,o=[],r=new f(e);for(;!r.eos();){var a=r.next(),s="\\"===a&&0!==p(r.peek());if(s&&(a=r.next()),s||0===p(a)||a!==r.peek())if("\n"===a)2===i.type&&(i=o.pop()),i.children.push({type:7});else if(2!==i.type){var l={type:2,content:a};i.children.push(l),o.push(i),i=l}else i.content+=a;else{r.advance(),2===i.type&&(i=o.pop());var c=p(a);if(i.type===c||5===i.type&&6===c)i=o.pop();else{var u={type:c,children:[]};5===c&&(u.index=n,n++),i.children.push(u),o.push(i),i=u}}}2===i.type&&(i=o.pop());o.length;return t}(e),t.actionHandler),n}function h(e,t){void 0===t&&(t={});var n,i=c(t),u=new Promise(function(e){return n=e}),d=new l.Renderer;d.image=function(e,t,n){var i=[];if(e){var o=e.split("|").map(function(e){return e.trim()});e=o[0];var r=o[1];if(r){var a=/height=(\d+)/.exec(r),s=/width=(\d+)/.exec(r),l=a&&a[1],c=s&&s[1],u=isFinite(parseInt(c)),d=isFinite(parseInt(l));u&&i.push('width="'+c+'"'),d&&i.push('height="'+l+'"')}}var h=[];return e&&h.push('src="'+e+'"'),n&&h.push('alt="'+n+'"'),t&&h.push('title="'+t+'"'),i.length&&(h=h.concat(i)),"<img "+h.join(" ")+">"},d.link=function(t,n,i){return t===i&&(i=Object(s.d)(i)),n=Object(s.d)(n),!(t=Object(s.d)(t))||t.match(/^data:|javascript:/i)||t.match(/^command:/i)&&!e.isTrusted?i:'<a href="#" data-href="'+t+'" title="'+(n||t)+'">'+i+"</a>"},d.paragraph=function(e){return"<p>"+e+"</p>"},t.codeBlockRenderer&&(d.code=function(e,n){var o=t.codeBlockRenderer(n,e),s=r.b.nextId(),l=Promise.all([o,u]).then(function(e){var t=e[0],n=i.querySelector('div[data-code="'+s+'"]');n&&(n.innerHTML=t)}).catch(function(e){});return t.codeBlockRenderCallback&&l.then(t.codeBlockRenderCallback),'<div class="code" data-code="'+s+'">'+Object(a.escape)(e)+"</div>"}),t.actionHandler&&t.actionHandler.disposeables.push(o.j(i,"click",function(e){var n=e.target;if("A"===n.tagName||(n=n.parentElement)&&"A"===n.tagName){var i=n.dataset.href;i&&t.actionHandler.callback(i,e)}}));var h={sanitize:!0,renderer:d};return i.innerHTML=l(e.value,h),n(),i}n.d(t,"c",function(){return u}),n.d(t,"a",function(){return d}),n.d(t,"b",function(){return h});var f=function(){function e(e){this.source=e,this.index=0}return e.prototype.eos=function(){return this.index>=this.source.length},e.prototype.next=function(){var e=this.peek();return this.advance(),e},e.prototype.peek=function(){return this.source[this.index]},e.prototype.advance=function(){this.index++},e}();function p(e){switch(e){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;default:return 0}}},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r});var i=function(){function e(e,t,n){this.from=0|e,this.to=0|t,this.colorId=0|n}return e.compare=function(e,t){return e.colorId===t.colorId?e.from===t.from?e.to-t.to:e.from-t.from:e.colorId-t.colorId},e}(),o=function(){function e(e,t,n){this.startLineNumber=e,this.endLineNumber=t,this.color=n,this._colorZone=null}return e.compare=function(e,t){return e.color===t.color?e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber:e.color<t.color?-1:1},e.prototype.setColorZone=function(e){this._colorZone=e},e.prototype.getColorZones=function(){return this._colorZone},e}(),r=function(){function e(e){this._getVerticalOffsetForLine=e,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}return e.prototype.getId2Color=function(){return this._id2Color},e.prototype.setZones=function(e){this._zones=e,this._zones.sort(o.compare)},e.prototype.setLineHeight=function(e){return this._lineHeight!==e&&(this._lineHeight=e,this._colorZonesInvalid=!0,!0)},e.prototype.setPixelRatio=function(e){this._pixelRatio=e,this._colorZonesInvalid=!0},e.prototype.getDOMWidth=function(){return this._domWidth},e.prototype.getCanvasWidth=function(){return this._domWidth*this._pixelRatio},e.prototype.setDOMWidth=function(e){return this._domWidth!==e&&(this._domWidth=e,this._colorZonesInvalid=!0,!0)},e.prototype.getDOMHeight=function(){return this._domHeight},e.prototype.getCanvasHeight=function(){return this._domHeight*this._pixelRatio},e.prototype.setDOMHeight=function(e){return this._domHeight!==e&&(this._domHeight=e,this._colorZonesInvalid=!0,!0)},e.prototype.getOuterHeight=function(){return this._outerHeight},e.prototype.setOuterHeight=function(e){return this._outerHeight!==e&&(this._outerHeight=e,this._colorZonesInvalid=!0,!0)},e.prototype.resolveColorZones=function(){for(var e=this._colorZonesInvalid,t=Math.floor(this._lineHeight),n=Math.floor(this.getCanvasHeight()),o=n/Math.floor(this._outerHeight),r=Math.floor(4*this._pixelRatio/2),a=[],s=0,l=this._zones.length;s<l;s++){var c=this._zones[s];if(!e){var u=c.getColorZones();if(u){a.push(u);continue}}var d=Math.floor(o*this._getVerticalOffsetForLine(c.startLineNumber)),h=Math.floor(o*(this._getVerticalOffsetForLine(c.endLineNumber)+t)),f=Math.floor((d+h)/2),p=h-f;p<r&&(p=r),f-p<0&&(f=p),f+p>n&&(f=n-p);var m=c.color,g=this._color2Id[m];g||(g=++this._lastAssignedId,this._color2Id[m]=g,this._id2Color[g]=m);var b=new i(f-p,f+p,g);c.setColorZone(b),a.push(b)}return this._colorZonesInvalid=!1,a.sort(i.compare),a},e}()},function(e,t,n){self.MonacoEnvironment=function(e){return{getWorkerUrl:function(t,n){const i="string"===typeof window.__webpack_public_path__?window.__webpack_public_path__:"/";return(i?i.replace(/\/$/,"")+"/":"")+e[n]}}}({editorWorkerService:"editor.worker.js",css:"css.worker.js",html:"html.worker.js",json:"json.worker.js",typescript:"typescript.worker.js",javascript:"typescript.worker.js",less:"css.worker.js",scss:"css.worker.js"}),n(218),n(219),n(300),n(220),n(292),n(296),n(183),n(297),n(221),n(74),n(222),n(299),n(153),n(291),n(223),n(298),n(160),n(224),n(304),n(225),n(290),n(305),n(226),n(227),n(293),n(303),n(228),n(295),n(229),n(302),n(230),n(231),n(301),n(294),n(151),n(289),n(232),n(159),n(233),n(234),n(126),n(235),e.exports=n(436),n(237),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(285),n(236),n(286),n(287),n(288)},function(e,t,n){"use strict";n.r(t),n.d(t,"ToggleTabFocusModeAction",function(){return l});var i,o=n(0),r=n(3),a=n(127),s=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(e){function t(){return e.call(this,{id:t.ID,label:o.a({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),alias:"Toggle Tab Key Moves Focus",precondition:null,kbOpts:{kbExpr:null,primary:2091,mac:{primary:1323},weight:100}})||this}return s(t,e),t.prototype.run=function(e,t){var n=a.b.getTabFocusMode();a.b.setTabFocusMode(!n)},t.ID="editor.action.toggleTabFocusMode",t}(r.b);Object(r.f)(l)},function(e,t,n){"use strict";n.r(t),n.d(t,"DefinitionActionConfig",function(){return S}),n.d(t,"DefinitionAction",function(){return C}),n.d(t,"GoToDefinitionAction",function(){return k}),n.d(t,"OpenDefinitionToSideAction",function(){return T}),n.d(t,"PeekDefinitionAction",function(){return O}),n.d(t,"ImplementationAction",function(){return N}),n.d(t,"GoToImplementationAction",function(){return L}),n.d(t,"PeekImplementationAction",function(){return I}),n.d(t,"TypeDefinitionAction",function(){return E}),n.d(t,"GoToTypeDefinitionAction",function(){return D}),n.d(t,"PeekTypeDefinitionAction",function(){return A});var i,o=n(0),r=n(61),a=n(42),s=n(18),l=n(39),c=n(2),u=n(3),d=n(170),h=n(101),f=n(59),p=n(112),m=n(13),g=n(154),b=n(6),y=n(125),v=n(48),w=n(20),_=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),S=function(){return function(e,t,n,i){void 0===e&&(e=!1),void 0===t&&(t=!1),void 0===n&&(n=!0),void 0===i&&(i=!0),this.openToSide=e,this.openInPeek=t,this.filterCurrent=n,this.showMessage=i}}(),C=function(e){function t(t,n){var i=e.call(this,n)||this;return i._configuration=t,i}return _(t,e),t.prototype.run=function(e,t){var n=this,i=e.get(v.a),o=e.get(l.a),r=e.get(y.a),a=t.getModel(),s=t.getPosition(),u=this._getDeclarationsAtPosition(a,s).then(function(e){if(!a.isDisposed()&&t.getModel()===a){for(var i=-1,r=[],l=0;l<e.length;l++){var u=e[l];if(u&&u.range){var d=u.uri,h=u.range,p=r.push({uri:d,range:h});n._configuration.filterCurrent&&d.toString()===a.uri.toString()&&c.a.containsPosition(h,s)&&-1===i&&(i=p-1)}}if(0===r.length){if(n._configuration.showMessage){var m=a.getWordAtPosition(s);g.a.get(t).showMessage(n._getNoResultFoundMessage(m),s)}}else if(1===r.length&&-1!==i){var b=r[0];n._openReference(t,o,b,!1)}else n._onResult(o,t,new f.c(r))}},function(e){i.error(e)});return r.showWhile(u,250),u},t.prototype._getDeclarationsAtPosition=function(e,t){return Object(d.a)(e,t)},t.prototype._getNoResultFoundMessage=function(e){return e&&e.word?o.a("noResultWord","No definition found for '{0}'",e.word):o.a("generic.noResults","No definition found")},t.prototype._getMetaTitle=function(e){return e.references.length>1&&o.a("meta.title"," \u2013 {0} definitions",e.references.length)},t.prototype._onResult=function(e,t,n){var i=this,o=n.getAriaMessage();if(Object(r.a)(o),this._configuration.openInPeek)this._openInPeek(e,t,n);else{var a=n.nearestReference(t.getModel().uri,t.getPosition());this._openReference(t,e,a,this._configuration.openToSide).then(function(t){t&&n.references.length>1?i._openInPeek(e,t,n):n.dispose()})}},t.prototype._openReference=function(e,t,n,i){var o=n.uri,r=n.range;return t.openCodeEditor({resource:o,options:{selection:c.a.collapseToStart(r),revealIfOpened:!0,revealInCenterIfOutsideViewport:!0}},e,i)},t.prototype._openInPeek=function(e,t,n){var i=this,o=h.a.get(t);o?o.toggleWidget(t.getSelection(),Object(w.i)(function(e){return Promise.resolve(n)}),{getMetaTitle:function(e){return i._getMetaTitle(e)},onGoto:function(n){return o.closeWidget(),i._openReference(t,e,n,!1)}}):n.dispose()},t}(u.b),x=s.f?2118:70,k=function(e){function t(){return e.call(this,new S,{id:t.ID,label:o.a("actions.goToDecl.label","Go to Definition"),alias:"Go to Definition",precondition:m.d.and(b.a.hasDefinitionProvider,b.a.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:b.a.editorTextFocus,primary:x,weight:100},menuOpts:{group:"navigation",order:1.1}})||this}return _(t,e),t.ID="editor.action.goToDeclaration",t}(C),T=function(e){function t(){return e.call(this,new S(!0),{id:t.ID,label:o.a("actions.goToDeclToSide.label","Open Definition to the Side"),alias:"Open Definition to the Side",precondition:m.d.and(b.a.hasDefinitionProvider,b.a.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:b.a.editorTextFocus,primary:Object(a.a)(2089,x),weight:100}})||this}return _(t,e),t.ID="editor.action.openDeclarationToTheSide",t}(C),O=function(e){function t(){return e.call(this,new S(void 0,!0,!1),{id:"editor.action.previewDeclaration",label:o.a("actions.previewDecl.label","Peek Definition"),alias:"Peek Definition",precondition:m.d.and(b.a.hasDefinitionProvider,p.a.notInPeekEditor,b.a.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:b.a.editorTextFocus,primary:582,linux:{primary:3140},weight:100},menuOpts:{group:"navigation",order:1.2}})||this}return _(t,e),t}(C),N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _(t,e),t.prototype._getDeclarationsAtPosition=function(e,t){return Object(d.b)(e,t)},t.prototype._getNoResultFoundMessage=function(e){return e&&e.word?o.a("goToImplementation.noResultWord","No implementation found for '{0}'",e.word):o.a("goToImplementation.generic.noResults","No implementation found")},t.prototype._getMetaTitle=function(e){return e.references.length>1&&o.a("meta.implementations.title"," \u2013 {0} implementations",e.references.length)},t}(C),L=function(e){function t(){return e.call(this,new S,{id:t.ID,label:o.a("actions.goToImplementation.label","Go to Implementation"),alias:"Go to Implementation",precondition:m.d.and(b.a.hasImplementationProvider,b.a.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:b.a.editorTextFocus,primary:2118,weight:100}})||this}return _(t,e),t.ID="editor.action.goToImplementation",t}(N),I=function(e){function t(){return e.call(this,new S(!1,!0,!1),{id:t.ID,label:o.a("actions.peekImplementation.label","Peek Implementation"),alias:"Peek Implementation",precondition:m.d.and(b.a.hasImplementationProvider,b.a.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:b.a.editorTextFocus,primary:3142,weight:100}})||this}return _(t,e),t.ID="editor.action.peekImplementation",t}(N),E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _(t,e),t.prototype._getDeclarationsAtPosition=function(e,t){return Object(d.c)(e,t)},t.prototype._getNoResultFoundMessage=function(e){return e&&e.word?o.a("goToTypeDefinition.noResultWord","No type definition found for '{0}'",e.word):o.a("goToTypeDefinition.generic.noResults","No type definition found")},t.prototype._getMetaTitle=function(e){return e.references.length>1&&o.a("meta.typeDefinitions.title"," \u2013 {0} type definitions",e.references.length)},t}(C),D=function(e){function t(){return e.call(this,new S,{id:t.ID,label:o.a("actions.goToTypeDefinition.label","Go to Type Definition"),alias:"Go to Type Definition",precondition:m.d.and(b.a.hasTypeDefinitionProvider,b.a.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:b.a.editorTextFocus,primary:0,weight:100},menuOpts:{group:"navigation",order:1.4}})||this}return _(t,e),t.ID="editor.action.goToTypeDefinition",t}(E),A=function(e){function t(){return e.call(this,new S(!1,!0,!1),{id:t.ID,label:o.a("actions.peekTypeDefinition.label","Peek Type Definition"),alias:"Peek Type Definition",precondition:m.d.and(b.a.hasTypeDefinitionProvider,b.a.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:b.a.editorTextFocus,primary:0,weight:100}})||this}return _(t,e),t.ID="editor.action.peekTypeDefinition",t}(E);Object(u.f)(k),Object(u.f)(T),Object(u.f)(O),Object(u.f)(L),Object(u.f)(I),Object(u.f)(D),Object(u.f)(A)},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var i=function(){function e(e){this._prefix=e,this._lastId=0}return e.prototype.nextId=function(){return this._prefix+ ++this._lastId},e}(),o=new i("id#")},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n(25),o=Object(i.c)("IWorkspaceEditService")},function(e,t,n){"use strict";n.d(t,"a",function(){return m});var i,o=n(34),r=n(25),a=n(40),s=n(13),l=n(39),c=n(152),u=n(22),d=n(48),h=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),f=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},p=function(e,t){return function(n,i){t(n,i,e)}},m=function(e){function t(t,n,i,o,r,a,s,l,c){var u=e.call(this,t,i.getRawConfiguration(),{},o,r,a,s,l,c)||this;return u._parentEditor=i,u._overwriteOptions=n,e.prototype.updateOptions.call(u,u._overwriteOptions),u._register(i.onDidChangeConfiguration(function(e){return u._onParentConfigurationChanged(e)})),u}return h(t,e),t.prototype.getParentEditor=function(){return this._parentEditor},t.prototype._onParentConfigurationChanged=function(t){e.prototype.updateOptions.call(this,this._parentEditor.getRawConfiguration()),e.prototype.updateOptions.call(this,this._overwriteOptions)},t.prototype.updateOptions=function(t){o.g(this._overwriteOptions,t,!0),e.prototype.updateOptions.call(this,this._overwriteOptions)},t=f([p(3,r.a),p(4,l.a),p(5,a.b),p(6,s.e),p(7,u.c),p(8,d.a)],t)}(c.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a});var i=n(93),o=function(){return function(e,t){this.index=e,this.remainder=t}}(),r=function(){function e(e){this.values=e,this.prefixSum=new Uint32Array(e.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}return e.prototype.getCount=function(){return this.values.length},e.prototype.insertValues=function(e,t){e=Object(i.b)(e);var n=this.values,o=this.prefixSum,r=t.length;return 0!==r&&(this.values=new Uint32Array(n.length+r),this.values.set(n.subarray(0,e),0),this.values.set(n.subarray(e),e+r),this.values.set(t,e),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(o.subarray(0,this.prefixSumValidIndex[0]+1)),!0)},e.prototype.changeValue=function(e,t){return e=Object(i.b)(e),t=Object(i.b)(t),this.values[e]!==t&&(this.values[e]=t,e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),!0)},e.prototype.removeValues=function(e,t){e=Object(i.b)(e),t=Object(i.b)(t);var n=this.values,o=this.prefixSum;if(e>=n.length)return!1;var r=n.length-e;return t>=r&&(t=r),0!==t&&(this.values=new Uint32Array(n.length-t),this.values.set(n.subarray(0,e),0),this.values.set(n.subarray(e+t),e),this.prefixSum=new Uint32Array(this.values.length),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(o.subarray(0,this.prefixSumValidIndex[0]+1)),!0)},e.prototype.getTotalValue=function(){return 0===this.values.length?0:this._getAccumulatedValue(this.values.length-1)},e.prototype.getAccumulatedValue=function(e){return e<0?0:(e=Object(i.b)(e),this._getAccumulatedValue(e))},e.prototype._getAccumulatedValue=function(e){if(e<=this.prefixSumValidIndex[0])return this.prefixSum[e];var t=this.prefixSumValidIndex[0]+1;0===t&&(this.prefixSum[0]=this.values[0],t++),e>=this.values.length&&(e=this.values.length-1);for(var n=t;n<=e;n++)this.prefixSum[n]=this.prefixSum[n-1]+this.values[n];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],e),this.prefixSum[e]},e.prototype.getIndexOf=function(e){e=Math.floor(e),this.getTotalValue();for(var t,n,i,r=0,a=this.values.length-1;r<=a;)if(t=r+(a-r)/2|0,e<(i=(n=this.prefixSum[t])-this.values[t]))a=t-1;else{if(!(e>=n))break;r=t+1}return new o(t,e-i)},e}(),a=function(){function e(e){this._cacheAccumulatedValueStart=0,this._cache=null,this._actual=new r(e),this._bustCache()}return e.prototype._bustCache=function(){this._cacheAccumulatedValueStart=0,this._cache=null},e.prototype.insertValues=function(e,t){this._actual.insertValues(e,t)&&this._bustCache()},e.prototype.changeValue=function(e,t){this._actual.changeValue(e,t)&&this._bustCache()},e.prototype.removeValues=function(e,t){this._actual.removeValues(e,t)&&this._bustCache()},e.prototype.getTotalValue=function(){return this._actual.getTotalValue()},e.prototype.getAccumulatedValue=function(e){return this._actual.getAccumulatedValue(e)},e.prototype.getIndexOf=function(e){if(e=Math.floor(e),null!==this._cache){var t=e-this._cacheAccumulatedValueStart;if(t>=0&&t<this._cache.length)return this._cache[t]}return this._actual.getIndexOf(e)},e.prototype.warmUpCache=function(e,t){for(var n=[],i=e;i<=t;i++)n[i-e]=this.getIndexOf(i);this._cache=n,this._cacheAccumulatedValueStart=e},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i,o=n(9);i="undefined"!==typeof TextDecoder?function(e){return new r(e)}:function(e){return new a};var r=function(){function e(e){this._decoder=new TextDecoder("UTF-16LE"),this._capacity=0|e,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}return e.prototype.reset=function(){this._completedStrings=null,this._bufferLength=0},e.prototype.build=function(){return null!==this._completedStrings?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()},e.prototype._buildBuffer=function(){if(0===this._bufferLength)return"";var e=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return this._decoder.decode(e)},e.prototype._flushBuffer=function(){var e=this._buildBuffer();this._bufferLength=0,null===this._completedStrings?this._completedStrings=[e]:this._completedStrings[this._completedStrings.length]=e},e.prototype.write1=function(e){var t=this._capacity-this._bufferLength;t<=1&&(0===t||o.isHighSurrogate(e))&&this._flushBuffer(),this._buffer[this._bufferLength++]=e},e.prototype.appendASCII=function(e){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=e},e.prototype.appendASCIIString=function(e){var t=e.length;if(this._bufferLength+t>=this._capacity)return this._flushBuffer(),void(this._completedStrings[this._completedStrings.length]=e);for(var n=0;n<t;n++)this._buffer[this._bufferLength++]=e.charCodeAt(n)},e}(),a=function(){function e(){this._pieces=[],this._piecesLen=0}return e.prototype.reset=function(){this._pieces=[],this._piecesLen=0},e.prototype.build=function(){return this._pieces.join("")},e.prototype.write1=function(e){this._pieces[this._piecesLen++]=String.fromCharCode(e)},e.prototype.appendASCII=function(e){this._pieces[this._piecesLen++]=String.fromCharCode(e)},e.prototype.appendASCIIString=function(e){this._pieces[this._piecesLen++]=e},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var i=n(156),o=n(83),r=n(90),a=n(36),s=n(15),l=n(195),c=n(25),u=n(5),d=n(7),h=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},f=function(e,t){return function(n,i){t(n,i,e)}},p=function(){function e(e,t,n){void 0===n&&(n=o.b),this._editor=e,this._modeService=t,this._openerService=n,this._onDidRenderCodeBlock=new u.a,this.onDidRenderCodeBlock=this._onDidRenderCodeBlock.event}return e.prototype.getOptions=function(e){var t=this;return{codeBlockRenderer:function(e,n){var i=e?t._modeService.getModeIdForLanguageName(e):t._editor.getModel().getLanguageIdentifier().language;return t._modeService.getOrCreateMode(i).then(function(e){return Object(l.b)(n,i)}).then(function(e){return'<span style="font-family: '+t._editor.getConfiguration().fontInfo.fontFamily+'">'+e+"</span>"})},codeBlockRenderCallback:function(){return t._onDidRenderCodeBlock.fire()},actionHandler:{callback:function(e){t._openerService.open(a.a.parse(e)).then(void 0,s.e)},disposeables:e}}},e.prototype.render=function(e){var t=[];return{element:e?Object(i.b)(e,this.getOptions(t)):document.createElement("span"),dispose:function(){return Object(d.d)(t)}}},e=h([f(1,r.a),f(2,Object(c.d)(o.a))],e)}()},function(e,t,n){"use strict";n(410);var i,o,r=n(0),a=n(11),s=n(18),l=n(24),c=n(15),u=n(99),d=function(){function e(e){this.modelProvider=Object(l.e)(e.getModel)?e:{getModel:function(){return e}}}return e.prototype.getId=function(e,t){if(!t)return null;var n=this.modelProvider.getModel();return n===t?"__root__":n.dataSource.getId(t)},e.prototype.hasChildren=function(e,t){var n=this.modelProvider.getModel();return n&&n===t&&n.entries.length>0},e.prototype.getChildren=function(e,t){var n=this.modelProvider.getModel();return a.b.as(n===t?n.entries:[])},e.prototype.getParent=function(e,t){return a.b.as(null)},e}(),h=function(){function e(e){this.modelProvider=e}return e.prototype.getAriaLabel=function(e,t){var n=this.modelProvider.getModel();return n.accessibilityProvider&&n.accessibilityProvider.getAriaLabel(t)},e.prototype.getPosInSet=function(e,t){var n=this.modelProvider.getModel();return String(n.entries.indexOf(t)+1)},e.prototype.getSetSize=function(){var e=this.modelProvider.getModel();return String(e.entries.length)},e}(),f=function(){function e(e){this.modelProvider=e}return e.prototype.isVisible=function(e,t){var n=this.modelProvider.getModel();return!n.filter||n.filter.isVisible(t)},e}(),p=function(){function e(e,t){this.modelProvider=e,this.styles=t}return e.prototype.updateStyles=function(e){this.styles=e},e.prototype.getHeight=function(e,t){return this.modelProvider.getModel().renderer.getHeight(t)},e.prototype.getTemplateId=function(e,t){return this.modelProvider.getModel().renderer.getTemplateId(t)},e.prototype.renderTemplate=function(e,t,n){return this.modelProvider.getModel().renderer.renderTemplate(t,n,this.styles)},e.prototype.renderElement=function(e,t,n,i){this.modelProvider.getModel().renderer.renderElement(t,n,i,this.styles)},e.prototype.disposeTemplate=function(e,t,n){this.modelProvider.getModel().renderer.disposeTemplate(t,n)},e}(),m=n(37),g=n(169),b=n(200),y=(n(412),n(1)),v=n(7),w=n(17),_=n(34),S=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),C={progressBarBackground:w.a.fromHex("#0E70C0")},x=function(e){function t(t,n){var i=e.call(this)||this;return i.options=n||Object.create(null),Object(_.g)(i.options,C,!1),i.workedVal=0,i.progressBarBackground=i.options.progressBarBackground,i.create(t),i}return S(t,e),t.prototype.create=function(e){var t=this;Object(m.a)(e).div({class:"monaco-progress-container"},function(e){t.element=e.clone(),e.div({class:"progress-bit"}).on([y.d.ANIMATION_START,y.d.ANIMATION_END,y.d.ANIMATION_ITERATION],function(e){switch(e.type){case y.d.ANIMATION_ITERATION:t.animationStopToken&&t.animationStopToken(null)}},t.toDispose),t.bit=e.getHTMLElement()}),this.applyStyles()},t.prototype.off=function(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.removeClass("active"),this.element.removeClass("infinite"),this.element.removeClass("discrete"),this.workedVal=0,this.totalWork=void 0},t.prototype.stop=function(){return this.doDone(!1)},t.prototype.doDone=function(e){var t=this;return this.element.addClass("done"),this.element.hasClass("infinite")?(this.bit.style.opacity="0",e?a.b.timeout(200).then(function(){return t.off()}):this.off()):(this.bit.style.width="inherit",e?a.b.timeout(200).then(function(){return t.off()}):this.off()),this},t.prototype.hide=function(){this.element.hide()},t.prototype.style=function(e){this.progressBarBackground=e.progressBarBackground,this.applyStyles()},t.prototype.applyStyles=function(){if(this.bit){var e=this.progressBarBackground?this.progressBarBackground.toString():null;this.bit.style.backgroundColor=e}},t}(v.a),k=n(54),T=n(77),O=n(45),N=n(44),L=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),I=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return L(t,e),t.prototype.onContextMenu=function(t,n,i){return s.d?this.onLeftClick(t,n,i):e.prototype.onContextMenu.call(this,t,n,i)},t}(T.c);!function(e){e[e.ELEMENT_SELECTED=0]="ELEMENT_SELECTED",e[e.FOCUS_LOST=1]="FOCUS_LOST",e[e.CANCELED=2]="CANCELED"}(o||(o={}));var E={background:w.a.fromHex("#1E1E1E"),foreground:w.a.fromHex("#CCCCCC"),pickerGroupForeground:w.a.fromHex("#0097FB"),pickerGroupBorder:w.a.fromHex("#3F3F46"),widgetShadow:w.a.fromHex("#000000"),progressBarBackground:w.a.fromHex("#0E70C0")},D=r.a("quickOpenAriaLabel","Quick picker. Type to narrow down results."),A=function(e){function t(t,n,i){var o=e.call(this)||this;return o.isDisposed=!1,o.container=t,o.callbacks=n,o.options=i,o.styles=i||Object.create(null),Object(_.g)(o.styles,E,!1),o.model=null,o}return L(t,e),t.prototype.getModel=function(){return this.model},t.prototype.create=function(){var e=this;return this.builder=Object(m.a)().div(function(t){t.on(y.d.KEY_DOWN,function(t){var n=new k.a(t);if(9===n.keyCode)y.c.stop(t,!0),e.hide(o.CANCELED);else if(2===n.keyCode&&!n.altKey&&!n.ctrlKey&&!n.metaKey){var i=t.currentTarget.querySelectorAll("input, .monaco-tree, .monaco-tree-row.focused .action-label.icon");n.shiftKey&&n.target===i[0]?(y.c.stop(t,!0),i[i.length-1].focus()):n.shiftKey||n.target!==i[i.length-1]||(y.c.stop(t,!0),i[0].focus())}}).on(y.d.CONTEXT_MENU,function(e){return y.c.stop(e,!0)}).on(y.d.FOCUS,function(t){return e.gainingFocus()},null,!0).on(y.d.BLUR,function(t){return e.loosingFocus(t)},null,!0),e.progressBar=e._register(new x(t.clone(),{progressBarBackground:e.styles.progressBarBackground})),e.progressBar.hide(),t.div({class:"quick-open-input"},function(t){e.inputContainer=t,e.inputBox=e._register(new g.b(t.getHTMLElement(),null,{placeholder:e.options.inputPlaceHolder||"",ariaLabel:D,inputBackground:e.styles.inputBackground,inputForeground:e.styles.inputForeground,inputBorder:e.styles.inputBorder,inputValidationInfoBackground:e.styles.inputValidationInfoBackground,inputValidationInfoBorder:e.styles.inputValidationInfoBorder,inputValidationWarningBackground:e.styles.inputValidationWarningBackground,inputValidationWarningBorder:e.styles.inputValidationWarningBorder,inputValidationErrorBackground:e.styles.inputValidationErrorBackground,inputValidationErrorBorder:e.styles.inputValidationErrorBorder})),e.inputElement=e.inputBox.inputElement,e.inputElement.setAttribute("role","combobox"),e.inputElement.setAttribute("aria-haspopup","false"),e.inputElement.setAttribute("aria-autocomplete","list"),y.g(e.inputBox.inputElement,y.d.KEY_DOWN,function(t){var n=new k.a(t),i=e.shouldOpenInBackground(n);if(2!==n.keyCode)if(18===n.keyCode||16===n.keyCode||12===n.keyCode||11===n.keyCode)y.c.stop(t,!0),e.navigateInTree(n.keyCode,n.shiftKey),e.inputBox.inputElement.selectionStart===e.inputBox.inputElement.selectionEnd&&(e.inputBox.inputElement.selectionStart=e.inputBox.value.length);else if(3===n.keyCode||i){y.c.stop(t,!0);var o=e.tree.getFocus();o&&e.elementSelected(o,t,i?u.a.OPEN_IN_BACKGROUND:u.a.OPEN)}}),y.g(e.inputBox.inputElement,y.d.INPUT,function(t){e.onType()})}),e.resultCount=t.div({class:"quick-open-result-count","aria-live":"polite"}).clone(),e.treeContainer=t.div({class:"quick-open-tree"},function(t){var n=e.options.treeCreator||function(e,t,n){return new b.a(e,t,n)};e.tree=e._register(n(t.getHTMLElement(),{dataSource:new d(e),controller:new I({clickBehavior:T.a.ON_MOUSE_UP,keyboardSupport:e.options.keyboardSupport}),renderer:e.renderer=new p(e,e.styles),filter:new f(e),accessibilityProvider:new h(e)},{twistiePixels:11,indentPixels:0,alwaysFocused:!0,verticalScrollMode:O.b.Visible,horizontalScrollMode:O.b.Hidden,ariaLabel:r.a("treeAriaLabel","Quick Picker"),keyboardSupport:e.options.keyboardSupport,preventRootFocus:!1})),e.treeElement=e.tree.getHTMLElement(),e._register(e.tree.onDidChangeFocus(function(t){e.elementFocused(t.focus,t)})),e._register(e.tree.onDidChangeSelection(function(t){if(t.selection&&t.selection.length>0){var n=t.payload&&t.payload.originalEvent instanceof N.b?t.payload.originalEvent:void 0,i=!!n&&e.shouldOpenInBackground(n);e.elementSelected(t.selection[0],t,i?u.a.OPEN_IN_BACKGROUND:u.a.OPEN)}}))}).on(y.d.KEY_DOWN,function(t){var n=new k.a(t);e.quickNavigateConfiguration&&(18!==n.keyCode&&16!==n.keyCode&&12!==n.keyCode&&11!==n.keyCode||(y.c.stop(t,!0),e.navigateInTree(n.keyCode)))}).on(y.d.KEY_UP,function(t){var n=new k.a(t),i=n.keyCode;if(e.quickNavigateConfiguration){var o=e.quickNavigateConfiguration.keybindings;if(3===i||o.some(function(e){var t=e.getParts(),o=t[0];return!t[1]&&(o.shiftKey&&4===i?!(n.ctrlKey||n.altKey||n.metaKey):!(!o.altKey||6!==i)||(!(!o.ctrlKey||5!==i)||!(!o.metaKey||57!==i)))})){var r=e.tree.getFocus();r&&e.elementSelected(r,t)}}}).clone()}).addClass("monaco-quick-open-widget").build(this.container),this.layoutDimensions&&this.layout(this.layoutDimensions),this.applyStyles(),y.g(this.treeContainer.getHTMLElement(),y.d.KEY_DOWN,function(t){var n=new k.a(t);e.quickNavigateConfiguration||18!==n.keyCode&&16!==n.keyCode&&12!==n.keyCode&&11!==n.keyCode||(y.c.stop(t,!0),e.navigateInTree(n.keyCode,n.shiftKey),e.treeElement.focus())}),this.builder.getHTMLElement()},t.prototype.style=function(e){this.styles=e,this.applyStyles()},t.prototype.applyStyles=function(){if(this.builder){var e=this.styles.foreground?this.styles.foreground.toString():null,t=this.styles.background?this.styles.background.toString():null,n=this.styles.borderColor?this.styles.borderColor.toString():null,i=this.styles.widgetShadow?this.styles.widgetShadow.toString():null;this.builder.style("color",e),this.builder.style("background-color",t),this.builder.style("border-color",n),this.builder.style("border-width",n?"1px":null),this.builder.style("border-style",n?"solid":null),this.builder.style("box-shadow",i?"0 5px 8px "+i:null)}this.progressBar&&this.progressBar.style({progressBarBackground:this.styles.progressBarBackground}),this.inputBox&&this.inputBox.style({inputBackground:this.styles.inputBackground,inputForeground:this.styles.inputForeground,inputBorder:this.styles.inputBorder,inputValidationInfoBackground:this.styles.inputValidationInfoBackground,inputValidationInfoBorder:this.styles.inputValidationInfoBorder,inputValidationWarningBackground:this.styles.inputValidationWarningBackground,inputValidationWarningBorder:this.styles.inputValidationWarningBorder,inputValidationErrorBackground:this.styles.inputValidationErrorBackground,inputValidationErrorBorder:this.styles.inputValidationErrorBorder}),this.tree&&!this.options.treeCreator&&this.tree.style(this.styles),this.renderer&&this.renderer.updateStyles(this.styles)},t.prototype.shouldOpenInBackground=function(e){if(e instanceof k.a){if(17!==e.keyCode)return!1;if(e.metaKey||e.ctrlKey||e.shiftKey||e.altKey)return!1;var t=this.inputBox.inputElement;return t.selectionEnd===this.inputBox.value.length&&t.selectionStart===t.selectionEnd}return e.middleButton},t.prototype.onType=function(){var e=this.inputBox.value;this.helpText&&(e?this.helpText.hide():this.helpText.show()),this.callbacks.onType(e)},t.prototype.navigateInTree=function(e,t){var n=this.tree.getInput(),i=n?n.entries:[],o=this.tree.getFocus();switch(e){case 18:this.tree.focusNext();break;case 16:this.tree.focusPrevious();break;case 12:this.tree.focusNextPage();break;case 11:this.tree.focusPreviousPage();break;case 2:t?this.tree.focusPrevious():this.tree.focusNext()}var r=this.tree.getFocus();i.length>1&&o===r&&(16===e||2===e&&t?this.tree.focusLast():(18===e||2===e&&!t)&&this.tree.focusFirst()),(r=this.tree.getFocus())&&this.tree.reveal(r).done(null,c.e)},t.prototype.elementFocused=function(e,t){if(e&&this.isVisible()){this.inputElement.setAttribute("aria-activedescendant",this.treeElement.getAttribute("aria-activedescendant"));var n={event:t,keymods:this.extractKeyMods(t),quickNavigateConfiguration:this.quickNavigateConfiguration};this.model.runner.run(e,u.a.PREVIEW,n)}},t.prototype.elementSelected=function(e,t,n){var i=!0;if(this.isVisible()){var r=n||u.a.OPEN,a={event:t,keymods:this.extractKeyMods(t),quickNavigateConfiguration:this.quickNavigateConfiguration};i=this.model.runner.run(e,r,a)}i&&this.hide(o.ELEMENT_SELECTED)},t.prototype.extractKeyMods=function(e){return{ctrlCmd:e&&(e.ctrlKey||e.metaKey||e.payload&&e.payload.originalEvent&&(e.payload.originalEvent.ctrlKey||e.payload.originalEvent.metaKey)),alt:e&&(e.altKey||e.payload&&e.payload.originalEvent&&e.payload.originalEvent.altKey)}},t.prototype.show=function(e,t){this.visible=!0,this.isLoosingFocus=!1,this.quickNavigateConfiguration=t?t.quickNavigateConfiguration:void 0,this.quickNavigateConfiguration?(this.inputContainer.hide(),this.builder.show(),this.tree.domFocus()):(this.inputContainer.show(),this.builder.show(),this.inputBox.focus()),this.helpText&&(this.quickNavigateConfiguration||l.h(e)?this.helpText.hide():this.helpText.show()),l.h(e)?this.doShowWithPrefix(e):this.doShowWithInput(e,t&&t.autoFocus?t.autoFocus:{}),t&&t.inputSelection&&!this.quickNavigateConfiguration&&this.inputBox.select(t.inputSelection),this.callbacks.onShow&&this.callbacks.onShow()},t.prototype.doShowWithPrefix=function(e){this.inputBox.value=e,this.callbacks.onType(e)},t.prototype.doShowWithInput=function(e,t){this.setInput(e,t)},t.prototype.setInputAndLayout=function(e,t){var n=this;this.treeContainer.style({height:this.getHeight(e)+"px"}),this.tree.setInput(null).then(function(){return n.model=e,n.inputElement.setAttribute("aria-haspopup",String(e&&e.entries&&e.entries.length>0)),n.tree.setInput(e)}).done(function(){n.tree.layout();var i=e?e.entries.filter(function(t){return n.isElementVisible(e,t)}):[];n.updateResultCount(i.length),i.length&&n.autoFocus(e,i,t)},c.e)},t.prototype.isElementVisible=function(e,t){return!e.filter||e.filter.isVisible(t)},t.prototype.autoFocus=function(e,t,n){if(void 0===n&&(n={}),n.autoFocusPrefixMatch){for(var i=void 0,o=void 0,r=n.autoFocusPrefixMatch,a=r.toLowerCase(),s=0;s<t.length;s++){var l=t[s],u=e.dataSource.getLabel(l);if(i||0!==u.indexOf(r)?o||0!==u.toLowerCase().indexOf(a)||(o=l):i=l,i&&o)break}var d=i||o;if(d)return this.tree.setFocus(d),void this.tree.reveal(d,.5).done(null,c.e)}n.autoFocusFirstEntry?(this.tree.focusFirst(),this.tree.reveal(this.tree.getFocus()).done(null,c.e)):"number"===typeof n.autoFocusIndex?t.length>n.autoFocusIndex&&(this.tree.focusNth(n.autoFocusIndex),this.tree.reveal(this.tree.getFocus()).done(null,c.e)):n.autoFocusSecondEntry?t.length>1&&this.tree.focusNth(1):n.autoFocusLastEntry&&t.length>1&&this.tree.focusLast()},t.prototype.getHeight=function(e){var n=this,i=e.renderer;if(!e){var o=i.getHeight(null);return this.options.minItemsToShow?this.options.minItemsToShow*o:0}var r,a=0;this.layoutDimensions&&this.layoutDimensions.height&&(r=.4*(this.layoutDimensions.height-50)),(!r||r>t.MAX_ITEMS_HEIGHT)&&(r=t.MAX_ITEMS_HEIGHT);for(var s=e.entries.filter(function(t){return n.isElementVisible(e,t)}),l=this.options.maxItemsToShow||s.length,c=0;c<l&&c<s.length;c++){var u=i.getHeight(s[c]);if(!(a+u<=r))break;a+=u}return a},t.prototype.updateResultCount=function(e){this.resultCount.text(r.a({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results",e))},t.prototype.hide=function(e){this.isVisible()&&(this.visible=!1,this.builder.hide(),this.builder.domBlur(),this.inputBox.value="",this.tree.setInput(null),this.inputElement.setAttribute("aria-haspopup","false"),this.treeContainer.style({height:(this.options.minItemsToShow?22*this.options.minItemsToShow:0)+"px"}),this.progressBar.stop().hide(),this.tree.isDOMFocused()?this.tree.domBlur():this.inputBox.hasFocus()&&this.inputBox.blur(),e===o.ELEMENT_SELECTED?this.callbacks.onOk():this.callbacks.onCancel(),this.callbacks.onHide&&this.callbacks.onHide(e))},t.prototype.setInput=function(e,t,n){this.isVisible()&&(this.getInput()&&this.onInputChanging(),this.setInputAndLayout(e,t),this.inputBox&&this.inputBox.setAriaLabel(n||D))},t.prototype.onInputChanging=function(){var e=this;this.inputChangingTimeoutHandle&&(clearTimeout(this.inputChangingTimeoutHandle),this.inputChangingTimeoutHandle=null),this.builder.addClass("content-changing"),this.inputChangingTimeoutHandle=setTimeout(function(){e.builder.removeClass("content-changing")},500)},t.prototype.getInput=function(){return this.tree.getInput()},t.prototype.isVisible=function(){return this.visible},t.prototype.layout=function(e){this.layoutDimensions=e;var n=Math.min(.62*this.layoutDimensions.width,t.MAX_WIDTH);this.builder&&(this.builder.style({width:n+"px",marginLeft:"-"+n/2+"px"}),this.inputContainer.style({width:n-12+"px"}))},t.prototype.gainingFocus=function(){this.isLoosingFocus=!1},t.prototype.loosingFocus=function(e){var t=this;if(this.isVisible()){var n=e.relatedTarget;!this.quickNavigateConfiguration&&y.B(n,this.builder.getHTMLElement())||(this.isLoosingFocus=!0,a.b.timeout(0).then(function(){t.isLoosingFocus&&(t.isDisposed||t.callbacks.onFocusLost&&t.callbacks.onFocusLost()||t.hide(o.FOCUS_LOST))}))}},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.isDisposed=!0},t.MAX_WIDTH=600,t.MAX_ITEMS_HEIGHT=440,t}(v.a),M=n(19),P=n(117),R=n(8),F=function(){function e(e,t,n,i,o,r){this.codeEditor=e,this.themeService=r,this.create(t,n,i,o)}return e.prototype.create=function(e,t,n,i){this.domNode=document.createElement("div"),this.quickOpenWidget=new A(this.domNode,{onOk:e,onCancel:t,onType:n},{inputPlaceHolder:null,inputAriaLabel:i.inputAriaLabel,keyboardSupport:!0}),this.styler=Object(P.c)(this.quickOpenWidget,this.themeService,{pickerGroupForeground:R.I}),this.quickOpenWidget.create(),this.codeEditor.addOverlayWidget(this)},e.prototype.setInput=function(e,t){this.quickOpenWidget.setInput(e,t)},e.prototype.getId=function(){return e.ID},e.prototype.getDomNode=function(){return this.domNode},e.prototype.destroy=function(){this.codeEditor.removeOverlayWidget(this),this.quickOpenWidget.dispose(),this.styler.dispose()},e.prototype.show=function(e){this.visible=!0;var t=this.codeEditor.getLayoutInfo();t&&this.quickOpenWidget.layout(new y.b(t.width,t.height)),this.quickOpenWidget.show(e),this.codeEditor.layoutOverlayWidget(this)},e.prototype.getPosition=function(){return this.visible?{preference:M.c.TOP_CENTER}:null},e.ID="editor.contrib.quickOpenEditorWidget",e}(),j=n(3),W=n(22),V=n(30);n.d(t,"a",function(){return q});var B=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),H=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},z=function(e,t){return function(n,i){t(n,i,e)}},U=function(){function e(e,t){this.themeService=t,this.editor=e}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this.widget&&(this.widget.destroy(),this.widget=null)},e.prototype.run=function(e){var t=this;this.widget&&(this.widget.destroy(),this.widget=null);var n=function(e){t.clearDecorations(),e&&t.lastKnownEditorSelection&&(t.editor.setSelection(t.lastKnownEditorSelection),t.editor.revealRangeInCenterIfOutsideViewport(t.lastKnownEditorSelection,0)),t.lastKnownEditorSelection=null,t.editor.focus()};this.widget=new F(this.editor,function(){return n(!1)},function(){return n(!0)},function(n){t.widget.setInput(e.getModel(n),e.getAutoFocus(n))},{inputAriaLabel:e.inputAriaLabel},this.themeService),this.lastKnownEditorSelection||(this.lastKnownEditorSelection=this.editor.getSelection()),this.widget.show("")},e.prototype.decorateLine=function(t,n){var i=[];this.rangeHighlightDecorationId&&(i.push(this.rangeHighlightDecorationId),this.rangeHighlightDecorationId=null);var o=[{range:t,options:e._RANGE_HIGHLIGHT_DECORATION}],r=n.deltaDecorations(i,o);this.rangeHighlightDecorationId=r[0]},e.prototype.clearDecorations=function(){this.rangeHighlightDecorationId&&(this.editor.deltaDecorations([this.rangeHighlightDecorationId],[]),this.rangeHighlightDecorationId=null)},e.ID="editor.controller.quickOpenController",e._RANGE_HIGHLIGHT_DECORATION=V.a.register({className:"rangeHighlight",isWholeLine:!0}),e=H([z(1,W.c)],e)}(),q=function(e){function t(t,n){var i=e.call(this,n)||this;return i._inputAriaLabel=t,i}return B(t,e),t.prototype.getController=function(e){return U.get(e)},t.prototype._show=function(e,t){e.run({inputAriaLabel:this._inputAriaLabel,getModel:function(e){return t.getModel(e)},getAutoFocus:function(e){return t.getAutoFocus(e)}})},t}(j.b);Object(j.h)(U)},function(e,t,n){"use strict";var i=function(){function e(e,t,n,i){this.originalStart=e,this.originalLength=t,this.modifiedStart=n,this.modifiedLength=i}return e.prototype.getOriginalEnd=function(){return this.originalStart+this.originalLength},e.prototype.getModifiedEnd=function(){return this.modifiedStart+this.modifiedLength},e}();function o(e){return{getLength:function(){return e.length},getElementAtIndex:function(t){return e.charCodeAt(t)}}}function r(e,t,n){return new c(o(e),o(t)).ComputeDiff(n)}n.d(t,"b",function(){return r}),n.d(t,"a",function(){return c});var a=function(){function e(){}return e.Assert=function(e,t){if(!e)throw new Error(t)},e}(),s=function(){function e(){}return e.Copy=function(e,t,n,i,o){for(var r=0;r<o;r++)n[i+r]=e[t+r]},e}(),l=function(){function e(){this.m_changes=[],this.m_originalStart=Number.MAX_VALUE,this.m_modifiedStart=Number.MAX_VALUE,this.m_originalCount=0,this.m_modifiedCount=0}return e.prototype.MarkNextChange=function(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new i(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=Number.MAX_VALUE,this.m_modifiedStart=Number.MAX_VALUE},e.prototype.AddOriginalElement=function(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_originalCount++},e.prototype.AddModifiedElement=function(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_modifiedCount++},e.prototype.getChanges=function(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes},e.prototype.getReverseChanges=function(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes},e}(),c=function(){function e(e,t,n){void 0===n&&(n=null),this.OriginalSequence=e,this.ModifiedSequence=t,this.ContinueProcessingPredicate=n,this.m_forwardHistory=[],this.m_reverseHistory=[]}return e.prototype.ElementsAreEqual=function(e,t){return this.OriginalSequence.getElementAtIndex(e)===this.ModifiedSequence.getElementAtIndex(t)},e.prototype.OriginalElementsAreEqual=function(e,t){return this.OriginalSequence.getElementAtIndex(e)===this.OriginalSequence.getElementAtIndex(t)},e.prototype.ModifiedElementsAreEqual=function(e,t){return this.ModifiedSequence.getElementAtIndex(e)===this.ModifiedSequence.getElementAtIndex(t)},e.prototype.ComputeDiff=function(e){return this._ComputeDiff(0,this.OriginalSequence.getLength()-1,0,this.ModifiedSequence.getLength()-1,e)},e.prototype._ComputeDiff=function(e,t,n,i,o){var r=this.ComputeDiffRecursive(e,t,n,i,[!1]);return o?this.ShiftChanges(r):r},e.prototype.ComputeDiffRecursive=function(e,t,n,o,r){for(r[0]=!1;e<=t&&n<=o&&this.ElementsAreEqual(e,n);)e++,n++;for(;t>=e&&o>=n&&this.ElementsAreEqual(t,o);)t--,o--;if(e>t||n>o){var s=void 0;return n<=o?(a.Assert(e===t+1,"originalStart should only be one more than originalEnd"),s=[new i(e,0,n,o-n+1)]):e<=t?(a.Assert(n===o+1,"modifiedStart should only be one more than modifiedEnd"),s=[new i(e,t-e+1,n,0)]):(a.Assert(e===t+1,"originalStart should only be one more than originalEnd"),a.Assert(n===o+1,"modifiedStart should only be one more than modifiedEnd"),s=[]),s}var l=[0],c=[0],u=this.ComputeRecursionPoint(e,t,n,o,l,c,r),d=l[0],h=c[0];if(null!==u)return u;if(!r[0]){var f=this.ComputeDiffRecursive(e,d,n,h,r),p=[];return p=r[0]?[new i(d+1,t-(d+1)+1,h+1,o-(h+1)+1)]:this.ComputeDiffRecursive(d+1,t,h+1,o,r),this.ConcatenateChanges(f,p)}return[new i(e,t-e+1,n,o-n+1)]},e.prototype.WALKTRACE=function(e,t,n,o,r,a,s,c,u,d,h,f,p,m,g,b,y,v){var w,_,S=null,C=new l,x=t,k=n,T=p[0]-b[0]-o,O=Number.MIN_VALUE,N=this.m_forwardHistory.length-1;do{(_=T+e)===x||_<k&&u[_-1]<u[_+1]?(m=(h=u[_+1])-T-o,h<O&&C.MarkNextChange(),O=h,C.AddModifiedElement(h+1,m),T=_+1-e):(m=(h=u[_-1]+1)-T-o,h<O&&C.MarkNextChange(),O=h-1,C.AddOriginalElement(h,m+1),T=_-1-e),N>=0&&(e=(u=this.m_forwardHistory[N])[0],x=1,k=u.length-1)}while(--N>=-1);if(w=C.getReverseChanges(),v[0]){var L=p[0]+1,I=b[0]+1;if(null!==w&&w.length>0){var E=w[w.length-1];L=Math.max(L,E.getOriginalEnd()),I=Math.max(I,E.getModifiedEnd())}S=[new i(L,f-L+1,I,g-I+1)]}else{C=new l,x=a,k=s,T=p[0]-b[0]-c,O=Number.MAX_VALUE,N=y?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{(_=T+r)===x||_<k&&d[_-1]>=d[_+1]?(m=(h=d[_+1]-1)-T-c,h>O&&C.MarkNextChange(),O=h+1,C.AddOriginalElement(h+1,m+1),T=_+1-r):(m=(h=d[_-1])-T-c,h>O&&C.MarkNextChange(),O=h,C.AddModifiedElement(h+1,m+1),T=_-1-r),N>=0&&(r=(d=this.m_reverseHistory[N])[0],x=1,k=d.length-1)}while(--N>=-1);S=C.getChanges()}return this.ConcatenateChanges(w,S)},e.prototype.ComputeRecursionPoint=function(e,t,n,o,r,a,l){var c,u,d,h=0,f=0,p=0,m=0;e--,n--,r[0]=0,a[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];var g,b,y=t-e+(o-n),v=y+1,w=new Array(v),_=new Array(v),S=o-n,C=t-e,x=e-n,k=t-o,T=(C-S)%2===0;for(w[S]=e,_[C]=t,l[0]=!1,d=1;d<=y/2+1;d++){var O=0,N=0;for(h=this.ClipDiagonalBound(S-d,d,S,v),f=this.ClipDiagonalBound(S+d,d,S,v),g=h;g<=f;g+=2){for(u=(c=g===h||g<f&&w[g-1]<w[g+1]?w[g+1]:w[g-1]+1)-(g-S)-x,b=c;c<t&&u<o&&this.ElementsAreEqual(c+1,u+1);)c++,u++;if(w[g]=c,c+u>O+N&&(O=c,N=u),!T&&Math.abs(g-C)<=d-1&&c>=_[g])return r[0]=c,a[0]=u,b<=_[g]&&d<=1448?this.WALKTRACE(S,h,f,x,C,p,m,k,w,_,c,t,r,u,o,a,T,l):null}var L=(O-e+(N-n)-d)/2;if(null!==this.ContinueProcessingPredicate&&!this.ContinueProcessingPredicate(O,this.OriginalSequence,L))return l[0]=!0,r[0]=O,a[0]=N,L>0&&d<=1448?this.WALKTRACE(S,h,f,x,C,p,m,k,w,_,c,t,r,u,o,a,T,l):[new i(++e,t-e+1,++n,o-n+1)];for(p=this.ClipDiagonalBound(C-d,d,C,v),m=this.ClipDiagonalBound(C+d,d,C,v),g=p;g<=m;g+=2){for(u=(c=g===p||g<m&&_[g-1]>=_[g+1]?_[g+1]-1:_[g-1])-(g-C)-k,b=c;c>e&&u>n&&this.ElementsAreEqual(c,u);)c--,u--;if(_[g]=c,T&&Math.abs(g-S)<=d&&c<=w[g])return r[0]=c,a[0]=u,b>=w[g]&&d<=1448?this.WALKTRACE(S,h,f,x,C,p,m,k,w,_,c,t,r,u,o,a,T,l):null}if(d<=1447){var I=new Array(f-h+2);I[0]=S-h+1,s.Copy(w,h,I,1,f-h+1),this.m_forwardHistory.push(I),(I=new Array(m-p+2))[0]=C-p+1,s.Copy(_,p,I,1,m-p+1),this.m_reverseHistory.push(I)}}return this.WALKTRACE(S,h,f,x,C,p,m,k,w,_,c,t,r,u,o,a,T,l)},e.prototype.ShiftChanges=function(e){var t;do{t=!1;for(var n=0;n<e.length;n++)for(var i=e[n],o=n<e.length-1?e[n+1].originalStart:this.OriginalSequence.getLength(),r=n<e.length-1?e[n+1].modifiedStart:this.ModifiedSequence.getLength(),a=i.originalLength>0,s=i.modifiedLength>0;i.originalStart+i.originalLength<o&&i.modifiedStart+i.modifiedLength<r&&(!a||this.OriginalElementsAreEqual(i.originalStart,i.originalStart+i.originalLength))&&(!s||this.ModifiedElementsAreEqual(i.modifiedStart,i.modifiedStart+i.modifiedLength));)i.originalStart++,i.modifiedStart++;var l=new Array,c=[null];for(n=0;n<e.length;n++)n<e.length-1&&this.ChangesOverlap(e[n],e[n+1],c)?(t=!0,l.push(c[0]),n++):l.push(e[n]);e=l}while(t);for(n=e.length-1;n>=0;n--){i=e[n],o=0,r=0;if(n>0){var u=e[n-1];u.originalLength>0&&(o=u.originalStart+u.originalLength),u.modifiedLength>0&&(r=u.modifiedStart+u.modifiedLength)}a=i.originalLength>0,s=i.modifiedLength>0;for(var d=0,h=this._boundaryScore(i.originalStart,i.originalLength,i.modifiedStart,i.modifiedLength),f=1;;f++){var p=i.originalStart-f,m=i.modifiedStart-f;if(p<o||m<r)break;if(a&&!this.OriginalElementsAreEqual(p,p+i.originalLength))break;if(s&&!this.ModifiedElementsAreEqual(m,m+i.modifiedLength))break;var g=this._boundaryScore(p,i.originalLength,m,i.modifiedLength);g>h&&(h=g,d=f)}i.originalStart-=d,i.modifiedStart-=d}return e},e.prototype._OriginalIsBoundary=function(e){if(e<=0||e>=this.OriginalSequence.getLength()-1)return!0;var t=this.OriginalSequence.getElementAtIndex(e);return"string"===typeof t&&/^\s*$/.test(t)},e.prototype._OriginalRegionIsBoundary=function(e,t){if(this._OriginalIsBoundary(e)||this._OriginalIsBoundary(e-1))return!0;if(t>0){var n=e+t;if(this._OriginalIsBoundary(n-1)||this._OriginalIsBoundary(n))return!0}return!1},e.prototype._ModifiedIsBoundary=function(e){if(e<=0||e>=this.ModifiedSequence.getLength()-1)return!0;var t=this.ModifiedSequence.getElementAtIndex(e);return"string"===typeof t&&/^\s*$/.test(t)},e.prototype._ModifiedRegionIsBoundary=function(e,t){if(this._ModifiedIsBoundary(e)||this._ModifiedIsBoundary(e-1))return!0;if(t>0){var n=e+t;if(this._ModifiedIsBoundary(n-1)||this._ModifiedIsBoundary(n))return!0}return!1},e.prototype._boundaryScore=function(e,t,n,i){return(this._OriginalRegionIsBoundary(e,t)?1:0)+(this._ModifiedRegionIsBoundary(n,i)?1:0)},e.prototype.ConcatenateChanges=function(e,t){var n=[],i=null;return 0===e.length||0===t.length?t.length>0?t:e:this.ChangesOverlap(e[e.length-1],t[0],n)?(i=new Array(e.length+t.length-1),s.Copy(e,0,i,0,e.length-1),i[e.length-1]=n[0],s.Copy(t,1,i,e.length,t.length-1),i):(i=new Array(e.length+t.length),s.Copy(e,0,i,0,e.length),s.Copy(t,0,i,e.length,t.length),i)},e.prototype.ChangesOverlap=function(e,t,n){if(a.Assert(e.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),a.Assert(e.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=t.originalStart||e.modifiedStart+e.modifiedLength>=t.modifiedStart){var o=e.originalStart,r=e.originalLength,s=e.modifiedStart,l=e.modifiedLength;return e.originalStart+e.originalLength>=t.originalStart&&(r=t.originalStart+t.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=t.modifiedStart&&(l=t.modifiedStart+t.modifiedLength-e.modifiedStart),n[0]=new i(o,r,s,l),!0}return n[0]=null,!1},e.prototype.ClipDiagonalBound=function(e,t,n,i){if(e>=0&&e<i)return e;var o=t%2===0;return e<0?o===(n%2===0)?0:1:o===((i-n-1)%2===0)?i-1:i-2},e}()},function(e,t,n){"use strict";n(341);var i=n(0),o=n(28),r=n(1),a=n(156),s=n(61),l=n(76),c=n(193),u=n(5),d=n(62),h=n(17),f=n(34),p=n(111),m=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t=10),this._initialize(e),this._limit=t,this._onChange()}return e.prototype.add=function(e){this._history.delete(e),this._history.add(e),this._onChange()},e.prototype.next=function(){return this._navigator.next()},e.prototype.previous=function(){return this._navigator.previous()},e.prototype.current=function(){return this._navigator.current()},e.prototype.parent=function(){return null},e.prototype.first=function(){return this._navigator.first()},e.prototype.last=function(){return this._navigator.last()},e.prototype.has=function(e){return this._history.has(e)},e.prototype._onChange=function(){this._reduceToLimit(),this._navigator=new p.b(this._elements,0,this._elements.length,this._elements.length)},e.prototype._reduceToLimit=function(){var e=this._elements;e.length>this._limit&&this._initialize(e.slice(e.length-this._limit))},e.prototype._initialize=function(e){this._history=new Set;for(var t=0,n=e;t<n.length;t++){var i=n[t];this._history.add(i)}},Object.defineProperty(e.prototype,"_elements",{get:function(){var e=[];return this._history.forEach(function(t){return e.push(t)}),e},enumerable:!0,configurable:!0}),e}();n.d(t,"b",function(){return _}),n.d(t,"a",function(){return S});var g,b,y=(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}g(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),v=r.a;!function(e){e[e.INFO=1]="INFO",e[e.WARNING=2]="WARNING",e[e.ERROR=3]="ERROR"}(b||(b={}));var w={inputBackground:h.a.fromHex("#3C3C3C"),inputForeground:h.a.fromHex("#CCCCCC"),inputValidationInfoBorder:h.a.fromHex("#55AAFF"),inputValidationInfoBackground:h.a.fromHex("#063B49"),inputValidationWarningBorder:h.a.fromHex("#B89500"),inputValidationWarningBackground:h.a.fromHex("#352A05"),inputValidationErrorBorder:h.a.fromHex("#BE1100"),inputValidationErrorBackground:h.a.fromHex("#5A1D1D")},_=function(e){function t(t,n,i){var a=e.call(this)||this;a.state="idle",a._onDidChange=a._register(new u.a),a.onDidChange=a._onDidChange.event,a._onDidHeightChange=a._register(new u.a),a.contextViewProvider=n,a.options=i||Object.create(null),Object(f.g)(a.options,w,!1),a.message=null,a.cachedHeight=null,a.placeholder=a.options.placeholder||"",a.ariaLabel=a.options.ariaLabel||"",a.inputBackground=a.options.inputBackground,a.inputForeground=a.options.inputForeground,a.inputBorder=a.options.inputBorder,a.inputValidationInfoBorder=a.options.inputValidationInfoBorder,a.inputValidationInfoBackground=a.options.inputValidationInfoBackground,a.inputValidationWarningBorder=a.options.inputValidationWarningBorder,a.inputValidationWarningBackground=a.options.inputValidationWarningBackground,a.inputValidationErrorBorder=a.options.inputValidationErrorBorder,a.inputValidationErrorBackground=a.options.inputValidationErrorBackground,a.options.validationOptions&&(a.validation=a.options.validationOptions.validation),a.element=r.k(t,v(".monaco-inputbox.idle"));var s=a.options.flexibleHeight?"textarea":"input",c=r.k(a.element,v(".wrapper"));return a.input=r.k(c,v(s+".input")),a.input.setAttribute("autocorrect","off"),a.input.setAttribute("autocapitalize","off"),a.input.setAttribute("spellcheck","false"),a.onfocus(a.input,function(){return r.f(a.element,"synthetic-focus")}),a.onblur(a.input,function(){return r.G(a.element,"synthetic-focus")}),a.options.flexibleHeight?a.mirror=r.k(c,v("div.mirror")):(a.input.type=a.options.type||"text",a.input.setAttribute("wrap","off")),a.ariaLabel&&a.input.setAttribute("aria-label",a.ariaLabel),a.placeholder&&a.setPlaceHolder(a.placeholder),a.oninput(a.input,function(){return a.onValueChange()}),a.onblur(a.input,function(){return a.onBlur()}),a.onfocus(a.input,function(){return a.onFocus()}),a.placeholder&&o.k&&a.onclick(a.input,function(e){r.c.stop(e,!0),a.input.focus()}),setTimeout(function(){a.input&&a.updateMirror()},0),a.options.actions&&(a.actionbar=a._register(new l.a(a.element)),a.actionbar.push(a.options.actions,{icon:!0,label:!1})),a.applyStyles(),a}return y(t,e),t.prototype.onBlur=function(){this._hideMessage()},t.prototype.onFocus=function(){this._showMessage()},t.prototype.setPlaceHolder=function(e){this.input&&(this.input.setAttribute("placeholder",e),this.input.title=e)},t.prototype.setAriaLabel=function(e){this.ariaLabel=e,this.input&&(e?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label"))},Object.defineProperty(t.prototype,"inputElement",{get:function(){return this.input},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.input.value},set:function(e){this.input.value!==e&&(this.input.value=e,this.onValueChange())},enumerable:!0,configurable:!0}),t.prototype.focus=function(){this.input.focus()},t.prototype.blur=function(){this.input.blur()},t.prototype.hasFocus=function(){return document.activeElement===this.input},t.prototype.select=function(e){void 0===e&&(e=null),this.input.select(),e&&this.input.setSelectionRange(e.start,e.end)},t.prototype.enable=function(){this.input.removeAttribute("disabled")},t.prototype.disable=function(){this.input.disabled=!0,this._hideMessage()},t.prototype.setEnabled=function(e){e?this.enable():this.disable()},Object.defineProperty(t.prototype,"width",{get:function(){return r.y(this.input)},set:function(e){this.input.style.width=e+"px"},enumerable:!0,configurable:!0}),t.prototype.showMessage=function(e,t){this.message=e,r.G(this.element,"idle"),r.G(this.element,"info"),r.G(this.element,"warning"),r.G(this.element,"error"),r.f(this.element,this.classForType(e.type));var n,o=this.stylesForType(this.message.type);this.element.style.border=o.border?"1px solid "+o.border:null,n=e.type===b.ERROR?i.a("alertErrorMessage","Error: {0}",e.content):e.type===b.WARNING?i.a("alertWarningMessage","Warning: {0}",e.content):i.a("alertInfoMessage","Info: {0}",e.content),s.a(n),(this.hasFocus()||t)&&this._showMessage()},t.prototype.hideMessage=function(){this.message=null,r.G(this.element,"info"),r.G(this.element,"warning"),r.G(this.element,"error"),r.f(this.element,"idle"),this._hideMessage(),this.applyStyles()},t.prototype.validate=function(){var e=null;return this.validation&&((e=this.validation(this.value))?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(e)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),!e},t.prototype.stylesForType=function(e){switch(e){case b.INFO:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground};case b.WARNING:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground}}},t.prototype.classForType=function(e){switch(e){case b.INFO:return"info";case b.WARNING:return"warning";default:return"error"}},t.prototype._showMessage=function(){var e=this;if(this.contextViewProvider&&this.message){var t,n=function(){return t.style.width=r.y(e.element)+"px"};this.state="open",this.contextViewProvider.showContextView({getAnchor:function(){return e.element},anchorAlignment:c.a.RIGHT,render:function(i){t=r.k(i,v(".monaco-inputbox-container")),n();var o={inline:!0,className:"monaco-inputbox-message"},s=e.message.formatContent?Object(a.a)(e.message.content,o):Object(a.c)(e.message.content,o);r.f(s,e.classForType(e.message.type));var l=e.stylesForType(e.message.type);return s.style.backgroundColor=l.background?l.background.toString():null,s.style.border=l.border?"1px solid "+l.border:null,r.k(t,s),null},layout:n})}},t.prototype._hideMessage=function(){this.contextViewProvider&&"open"===this.state&&(this.state="idle",this.contextViewProvider.hideContextView())},t.prototype.onValueChange=function(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),"open"===this.state&&this.contextViewProvider.layout()},t.prototype.updateMirror=function(){if(this.mirror){var e=this.value||this.placeholder,t=10===e.charCodeAt(e.length-1)?" ":"";this.mirror.textContent=e+t,this.layout()}},t.prototype.style=function(e){this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()},t.prototype.applyStyles=function(){if(this.element){var e=this.inputBackground?this.inputBackground.toString():null,t=this.inputForeground?this.inputForeground.toString():null,n=this.inputBorder?this.inputBorder.toString():null;this.element.style.backgroundColor=e,this.element.style.color=t,this.input.style.backgroundColor=e,this.input.style.color=t,this.element.style.borderWidth=n?"1px":null,this.element.style.borderStyle=n?"solid":null,this.element.style.borderColor=n}},t.prototype.layout=function(){if(this.mirror){var e=this.cachedHeight;this.cachedHeight=r.x(this.mirror),e!==this.cachedHeight&&(this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedHeight))}},t.prototype.dispose=function(){this._hideMessage(),this.element=null,this.input=null,this.contextViewProvider=null,this.message=null,this.placeholder=null,this.ariaLabel=null,this.validation=null,this.state=null,this.actionbar=null,e.prototype.dispose.call(this)},t}(d.a),S=function(e){function t(t,n,i){var o=e.call(this,t,n,i)||this;return o.history=new m(i.history,100),o}return y(t,e),t.prototype.addToHistory=function(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)},t.prototype.showNextValue=function(){this.history.has(this.value)||this.addToHistory();var e=this.getNextValue();e&&(e=e===this.value?this.getNextValue():e),e&&(this.value=e,s.c(this.value))},t.prototype.showPreviousValue=function(){this.history.has(this.value)||this.addToHistory();var e=this.getPreviousValue();e&&(e=e===this.value?this.getPreviousValue():e),e&&(this.value=e,s.c(this.value))},t.prototype.getCurrentValue=function(){var e=this.history.current();return e||(e=this.history.last(),this.history.next()),e},t.prototype.getPreviousValue=function(){return this.history.previous()||this.history.first()},t.prototype.getNextValue=function(){return this.history.next()||this.history.last()},t}(_)},function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"b",function(){return d}),n.d(t,"c",function(){return h});var i=n(29),o=n(20),r=n(15),a=n(11),s=n(3),l=n(12);function c(e,t,n,s){var l=n.ordered(e).map(function(n){return Object(o.h)(function(i){return s(n,e,t,i)}).then(void 0,function(e){return Object(r.f)(e),null})});return a.b.join(l).then(i.i).then(function(e){return Object(i.c)(e)})}function u(e,t){return c(e,t,l.e,function(e,t,n,i){return e.provideDefinition(t,n,i)})}function d(e,t){return c(e,t,l.n,function(e,t,n,i){return e.provideImplementation(t,n,i)})}function h(e,t){return c(e,t,l.z,function(e,t,n,i){return e.provideTypeDefinition(t,n,i)})}Object(s.e)("_executeDefinitionProvider",u),Object(s.e)("_executeImplementationProvider",d),Object(s.e)("_executeTypeDefinitionProvider",h)},function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return u});var i=n(36),o=n(43),r=n(9),a=n(66),s=n(18),l=n(189);function c(e,t,n){if(!e)return null;"string"===typeof e&&(e=i.a.file(e));var c=n?n.getWorkspaceFolder(e):null;if(c){var u=n.getWorkspace().folders.length>1,p=void 0;if(p=Object(l.c)(c.uri,e,!s.c)?"":Object(o.h)(Object(r.ltrim)(e.path.substr(c.uri.path.length),o.i),!0),u){var m=c&&c.name?c.name:Object(o.a)(c.uri.fsPath);p=p?m+" \u2022 "+p:m}return p}if(e.scheme!==a.a.file&&e.scheme!==a.a.untitled)return e.with({query:null,fragment:null}).toString(!0);if(d(e.fsPath))return Object(o.h)(h(e.fsPath),!0);var g=Object(o.h)(e.fsPath,!0);return!s.g&&t&&(g=function(e,t){if(s.g||!e||!t)return e;var n=f.original===t?f.normalized:void 0;n||(n=""+Object(r.rtrim)(t,o.i)+o.i,f={original:t,normalized:n});(s.c?Object(r.startsWith)(e,n):Object(r.startsWithIgnoreCase)(e,n))&&(e="~/"+e.substr(n.length));return e}(g,t.userHome)),g}function u(e){if(!e)return null;"string"===typeof e&&(e=i.a.file(e));var t=Object(o.a)(e.path)||(e.scheme===a.a.file?e.fsPath:e.path);return d(t)?h(t):t}function d(e){return s.g&&e&&":"===e[1]}function h(e){return d(e)?e.charAt(0).toUpperCase()+e.slice(1):e}var f=Object.create(null)},function(e,t,n){"use strict";"undefined"===typeof Promise&&(n(173).enable(),window.Promise=n(174)),n(175),Object.assign=n(108)},function(e,t,n){"use strict";var i=n(123),o=[ReferenceError,TypeError,RangeError],r=!1;function a(){r=!1,i._47=null,i._71=null}function s(e,t){return t.some(function(t){return e instanceof t})}t.disable=a,t.enable=function(e){e=e||{},r&&a();r=!0;var t=0,n=0,l={};function c(t){(e.allRejections||s(l[t].error,e.whitelist||o))&&(l[t].displayId=n++,e.onUnhandled?(l[t].logged=!0,e.onUnhandled(l[t].displayId,l[t].error)):(l[t].logged=!0,function(e,t){console.warn("Possible Unhandled Promise Rejection (id: "+e+"):"),((t&&(t.stack||t))+"").split("\n").forEach(function(e){console.warn("  "+e)})}(l[t].displayId,l[t].error)))}i._47=function(t){var n;2===t._83&&l[t._56]&&(l[t._56].logged?(n=t._56,l[n].logged&&(e.onHandled?e.onHandled(l[n].displayId,l[n].error):l[n].onUnhandled||(console.warn("Promise Rejection Handled (id: "+l[n].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+l[n].displayId+".")))):clearTimeout(l[t._56].timeout),delete l[t._56])},i._71=function(e,n){0===e._75&&(e._56=t++,l[e._56]={displayId:null,error:n,timeout:setTimeout(c.bind(null,e._56),s(n,o)?100:2e3),logged:!1})}}},function(e,t,n){"use strict";var i=n(123);e.exports=i;var o=u(!0),r=u(!1),a=u(null),s=u(void 0),l=u(0),c=u("");function u(e){var t=new i(i._44);return t._83=1,t._18=e,t}i.resolve=function(e){if(e instanceof i)return e;if(null===e)return a;if(void 0===e)return s;if(!0===e)return o;if(!1===e)return r;if(0===e)return l;if(""===e)return c;if("object"===typeof e||"function"===typeof e)try{var t=e.then;if("function"===typeof t)return new i(t.bind(e))}catch(e){return new i(function(t,n){n(e)})}return u(e)},i.all=function(e){var t=Array.prototype.slice.call(e);return new i(function(e,n){if(0===t.length)return e([]);var o=t.length;function r(a,s){if(s&&("object"===typeof s||"function"===typeof s)){if(s instanceof i&&s.then===i.prototype.then){for(;3===s._83;)s=s._18;return 1===s._83?r(a,s._18):(2===s._83&&n(s._18),void s.then(function(e){r(a,e)},n))}var l=s.then;if("function"===typeof l)return void new i(l.bind(s)).then(function(e){r(a,e)},n)}t[a]=s,0===--o&&e(t)}for(var a=0;a<t.length;a++)r(a,t[a])})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){e.forEach(function(e){i.resolve(e).then(t,n)})})},i.prototype.catch=function(e){return this.then(null,e)}},function(e,t,n){"use strict";n.r(t),n.d(t,"Headers",function(){return c}),n.d(t,"Request",function(){return g}),n.d(t,"Response",function(){return y}),n.d(t,"DOMException",function(){return w}),n.d(t,"fetch",function(){return _});var i={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(i.arrayBuffer)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=ArrayBuffer.isView||function(e){return e&&o.indexOf(Object.prototype.toString.call(e))>-1};function a(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function s(e){return"string"!==typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i.iterable&&(t[Symbol.iterator]=function(){return t}),t}function c(e){this.map={},e instanceof c?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function u(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function d(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function h(e){var t=new FileReader,n=d(t);return t.readAsArrayBuffer(e),n}function f(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function p(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:i.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:i.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():i.arrayBuffer&&i.blob&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=f(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||r(e))?this._bodyArrayBuffer=f(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var e=u(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?u(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var e,t,n,i=u(this);if(i)return i;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=d(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),i=0;i<t.length;i++)n[i]=String.fromCharCode(t[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i.formData&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}c.prototype.append=function(e,t){e=a(e),t=s(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},c.prototype.delete=function(e){delete this.map[a(e)]},c.prototype.get=function(e){return e=a(e),this.has(e)?this.map[e]:null},c.prototype.has=function(e){return this.map.hasOwnProperty(a(e))},c.prototype.set=function(e,t){this.map[a(e)]=s(t)},c.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},c.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),l(e)},c.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),l(e)},c.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),l(e)},i.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function g(e,t){var n,i,o=(t=t||{}).body;if(e instanceof g){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new c(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new c(t.headers)),this.method=(n=t.method||this.method||"GET",i=n.toUpperCase(),m.indexOf(i)>-1?i:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function b(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),i=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(o))}}),t}function y(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new c(t.headers),this.url=t.url||"",this._initBody(e)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},p.call(g.prototype),p.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},y.error=function(){var e=new y(null,{status:0,statusText:""});return e.type="error",e};var v=[301,302,303,307,308];y.redirect=function(e,t){if(-1===v.indexOf(t))throw new RangeError("Invalid status code");return new y(null,{status:t,headers:{location:e}})};var w=self.DOMException;try{new w}catch(e){(w=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),w.prototype.constructor=w}function _(e,t){return new Promise(function(n,o){var r=new g(e,t);if(r.signal&&r.signal.aborted)return o(new w("Aborted","AbortError"));var a=new XMLHttpRequest;function s(){a.abort()}a.onload=function(){var e,t,i={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new c,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var n=e.split(":"),i=n.shift().trim();if(i){var o=n.join(":").trim();t.append(i,o)}}),t)};i.url="responseURL"in a?a.responseURL:i.headers.get("X-Request-URL");var o="response"in a?a.response:a.responseText;n(new y(o,i))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new w("Aborted","AbortError"))},a.open(r.method,r.url,!0),"include"===r.credentials?a.withCredentials=!0:"omit"===r.credentials&&(a.withCredentials=!1),"responseType"in a&&i.blob&&(a.responseType="blob"),r.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),r.signal&&(r.signal.addEventListener("abort",s),a.onreadystatechange=function(){4===a.readyState&&r.signal.removeEventListener("abort",s)}),a.send("undefined"===typeof r._bodyInit?null:r._bodyInit)})}_.polyfill=!0,self.fetch||(self.fetch=_,self.Headers=c,self.Request=g,self.Response=y)},function(e,t,n){"use strict";var i=n(108),o="function"===typeof Symbol&&Symbol.for,r=o?Symbol.for("react.element"):60103,a=o?Symbol.for("react.portal"):60106,s=o?Symbol.for("react.fragment"):60107,l=o?Symbol.for("react.strict_mode"):60108,c=o?Symbol.for("react.profiler"):60114,u=o?Symbol.for("react.provider"):60109,d=o?Symbol.for("react.context"):60110,h=o?Symbol.for("react.async_mode"):60111,f=o?Symbol.for("react.forward_ref"):60112;o&&Symbol.for("react.placeholder");var p="function"===typeof Symbol&&Symbol.iterator;function m(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=0;i<t;i++)n+="&args[]="+encodeURIComponent(arguments[i+1]);!function(e,t,n,i,o,r,a,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,i,o,r,a,s],c=0;(e=Error(t.replace(/%s/g,function(){return l[c++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function y(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||g}function v(){}function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||g}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){"object"!==typeof e&&"function"!==typeof e&&null!=e&&m("85"),this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var _=w.prototype=new v;_.constructor=w,i(_,y.prototype),_.isPureReactComponent=!0;var S={current:null,currentDispatcher:null},C=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var i=void 0,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)C.call(t,i)&&!x.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:r,type:e,key:a,ref:s,props:o,_owner:S.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var O=/\/+/g,N=[];function L(e,t,n,i){if(N.length){var o=N.pop();return o.result=e,o.keyPrefix=t,o.func=n,o.context=i,o.count=0,o}return{result:e,keyPrefix:t,func:n,context:i,count:0}}function I(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>N.length&&N.push(e)}function E(e,t,n){return null==e?0:function e(t,n,i,o){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case r:case a:l=!0}}if(l)return i(o,t,""===n?"."+D(t,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var c=0;c<t.length;c++){var u=n+D(s=t[c],c);l+=e(s,u,i,o)}else if(u=null===t||"object"!==typeof t?null:"function"===typeof(u=p&&t[p]||t["@@iterator"])?u:null,"function"===typeof u)for(t=u.call(t),c=0;!(s=t.next()).done;)l+=e(s=s.value,u=n+D(s,c++),i,o);else"object"===s&&m("31","[object Object]"===(i=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":i,"");return l}(e,"",t,n)}function D(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function A(e,t){e.func.call(e.context,t,e.count++)}function M(e,t,n){var i=e.result,o=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?P(e,i,n,function(e){return e}):null!=e&&(T(e)&&(e=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,o+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(O,"$&/")+"/")+n)),i.push(e))}function P(e,t,n,i,o){var r="";null!=n&&(r=(""+n).replace(O,"$&/")+"/"),E(e,M,t=L(t,r,i,o)),I(t)}var R={Children:{map:function(e,t,n){if(null==e)return e;var i=[];return P(e,i,null,t,n),i},forEach:function(e,t,n){if(null==e)return e;E(e,A,t=L(null,null,t,n)),I(t)},count:function(e){return E(e,function(){return null},null)},toArray:function(e){var t=[];return P(e,t,null,function(e){return e}),t},only:function(e){return T(e)||m("143"),e}},createRef:function(){return{current:null}},Component:y,PureComponent:w,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,Provider:null,Consumer:null,unstable_read:null}).Provider={$$typeof:u,_context:e},e.Consumer=e,e.unstable_read=function(e,t){var n=S.currentDispatcher;return null===n&&m("277"),n.readContext(e,t)}.bind(null,e),e},forwardRef:function(e){return{$$typeof:f,render:e}},Fragment:s,StrictMode:l,unstable_AsyncMode:h,unstable_Profiler:c,createElement:k,cloneElement:function(e,t,n){(null===e||void 0===e)&&m("267",e);var o=void 0,a=i({},e.props),s=e.key,l=e.ref,c=e._owner;if(null!=t){void 0!==t.ref&&(l=t.ref,c=S.current),void 0!==t.key&&(s=""+t.key);var u=void 0;for(o in e.type&&e.type.defaultProps&&(u=e.type.defaultProps),t)C.call(t,o)&&!x.hasOwnProperty(o)&&(a[o]=void 0===t[o]&&void 0!==u?u[o]:t[o])}if(1===(o=arguments.length-2))a.children=n;else if(1<o){u=Array(o);for(var d=0;d<o;d++)u[d]=arguments[d+2];a.children=u}return{$$typeof:r,type:e.type,key:s,ref:l,props:a,_owner:c}},createFactory:function(e){var t=k.bind(null,e);return t.type=e,t},isValidElement:T,version:"16.5.1",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:S,assign:i}},F={default:R},j=F&&R||F;e.exports=j.default||j},function(e,t,n){"use strict";var i=n(4),o=n(108),r=n(178);function a(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=0;i<t;i++)n+="&args[]="+encodeURIComponent(arguments[i+1]);!function(e,t,n,i,o,r,a,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,i,o,r,a,s],c=0;(e=Error(t.replace(/%s/g,function(){return l[c++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}i||a("227");var s=!1,l=null,c=!1,u=null,d={onError:function(e){s=!0,l=e}};function h(e,t,n,i,o,r,a,c,u){s=!1,l=null,function(e,t,n,i,o,r,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}.apply(d,arguments)}var f=null,p={};function m(){if(f)for(var e in p){var t=p[e],n=f.indexOf(e);if(-1<n||a("96",e),!b[n])for(var i in t.extractEvents||a("97",e),b[n]=t,n=t.eventTypes){var o=void 0,r=n[i],s=t,l=i;y.hasOwnProperty(l)&&a("99",l),y[l]=r;var c=r.phasedRegistrationNames;if(c){for(o in c)c.hasOwnProperty(o)&&g(c[o],s,l);o=!0}else r.registrationName?(g(r.registrationName,s,l),o=!0):o=!1;o||a("98",i,e)}}}function g(e,t,n){v[e]&&a("100",e),v[e]=t,w[e]=t.eventTypes[n].dependencies}var b=[],y={},v={},w={},_=null,S=null,C=null;function x(e,t,n,i){t=e.type||"unknown-event",e.currentTarget=C(i),function(e,t,n,i,o,r,d,f,p){if(h.apply(this,arguments),s){if(s){var m=l;s=!1,l=null}else a("198"),m=void 0;c||(c=!0,u=m)}}(t,n,void 0,e),e.currentTarget=null}function k(e,t){return null==t&&a("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function T(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var O=null;function N(e,t){if(e){var n=e._dispatchListeners,i=e._dispatchInstances;if(Array.isArray(n))for(var o=0;o<n.length&&!e.isPropagationStopped();o++)x(e,t,n[o],i[o]);else n&&x(e,t,n,i);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function L(e){return N(e,!0)}function I(e){return N(e,!1)}var E={injectEventPluginOrder:function(e){f&&a("101"),f=Array.prototype.slice.call(e),m()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var i=e[t];p.hasOwnProperty(t)&&p[t]===i||(p[t]&&a("102",t),p[t]=i,n=!0)}n&&m()}};function D(e,t){var n=e.stateNode;if(!n)return null;var i=_(n);if(!i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}return e?null:(n&&"function"!==typeof n&&a("231",t,typeof n),n)}function A(e,t){if(null!==e&&(O=k(O,e)),e=O,O=null,e&&(T(e,t?L:I),O&&a("95"),c))throw t=u,c=!1,u=null,t}var M=Math.random().toString(36).slice(2),P="__reactInternalInstance$"+M,R="__reactEventHandlers$"+M;function F(e){if(e[P])return e[P];for(;!e[P];){if(!e.parentNode)return null;e=e.parentNode}return 7===(e=e[P]).tag||8===e.tag?e:null}function j(e){return!(e=e[P])||7!==e.tag&&8!==e.tag?null:e}function W(e){if(7===e.tag||8===e.tag)return e.stateNode;a("33")}function V(e){return e[R]||null}function B(e){do{e=e.return}while(e&&7!==e.tag);return e||null}function H(e,t,n){(t=D(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=k(n._dispatchListeners,t),n._dispatchInstances=k(n._dispatchInstances,e))}function z(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=B(t);for(t=n.length;0<t--;)H(n[t],"captured",e);for(t=0;t<n.length;t++)H(n[t],"bubbled",e)}}function U(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=D(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=k(n._dispatchListeners,t),n._dispatchInstances=k(n._dispatchInstances,e))}function q(e){e&&e.dispatchConfig.registrationName&&U(e._targetInst,null,e)}function G(e){T(e,z)}var K=!("undefined"===typeof window||!window.document||!window.document.createElement);function Y(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Z={animationend:Y("Animation","AnimationEnd"),animationiteration:Y("Animation","AnimationIteration"),animationstart:Y("Animation","AnimationStart"),transitionend:Y("Transition","TransitionEnd")},$={},X={};function Q(e){if($[e])return $[e];if(!Z[e])return e;var t,n=Z[e];for(t in n)if(n.hasOwnProperty(t)&&t in X)return $[e]=n[t];return e}K&&(X=document.createElement("div").style,"AnimationEvent"in window||(delete Z.animationend.animation,delete Z.animationiteration.animation,delete Z.animationstart.animation),"TransitionEvent"in window||delete Z.transitionend.transition);var J=Q("animationend"),ee=Q("animationiteration"),te=Q("animationstart"),ne=Q("transitionend"),ie="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oe=null,re=null,ae=null;function se(){if(ae)return ae;var e,t,n=re,i=n.length,o="value"in oe?oe.value:oe.textContent,r=o.length;for(e=0;e<i&&n[e]===o[e];e++);var a=i-e;for(t=1;t<=a&&n[i-t]===o[r-t];t++);return ae=o.slice(e,1<t?1-t:void 0)}function le(){return!0}function ce(){return!1}function ue(e,t,n,i){for(var o in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(o)&&((t=e[o])?this[o]=t(n):"target"===o?this.target=i:this[o]=n[o]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?le:ce,this.isPropagationStopped=ce,this}function de(e,t,n,i){if(this.eventPool.length){var o=this.eventPool.pop();return this.call(o,e,t,n,i),o}return new this(e,t,n,i)}function he(e){e instanceof this||a("279"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function fe(e){e.eventPool=[],e.getPooled=de,e.release=he}o(ue.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=le)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=le)},persist:function(){this.isPersistent=le},isPersistent:ce,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=ce,this._dispatchInstances=this._dispatchListeners=null}}),ue.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},ue.extend=function(e){function t(){}function n(){return i.apply(this,arguments)}var i=this;t.prototype=i.prototype;var r=new t;return o(r,n.prototype),n.prototype=r,n.prototype.constructor=n,n.Interface=o({},i.Interface,e),n.extend=i.extend,fe(n),n},fe(ue);var pe=ue.extend({data:null}),me=ue.extend({data:null}),ge=[9,13,27,32],be=K&&"CompositionEvent"in window,ye=null;K&&"documentMode"in document&&(ye=document.documentMode);var ve=K&&"TextEvent"in window&&!ye,we=K&&(!be||ye&&8<ye&&11>=ye),_e=String.fromCharCode(32),Se={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Ce=!1;function xe(e,t){switch(e){case"keyup":return-1!==ge.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function ke(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Te=!1;var Oe={eventTypes:Se,extractEvents:function(e,t,n,i){var o=void 0,r=void 0;if(be)e:{switch(e){case"compositionstart":o=Se.compositionStart;break e;case"compositionend":o=Se.compositionEnd;break e;case"compositionupdate":o=Se.compositionUpdate;break e}o=void 0}else Te?xe(e,n)&&(o=Se.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=Se.compositionStart);return o?(we&&"ko"!==n.locale&&(Te||o!==Se.compositionStart?o===Se.compositionEnd&&Te&&(r=se()):(re="value"in(oe=i)?oe.value:oe.textContent,Te=!0)),o=pe.getPooled(o,t,n,i),r?o.data=r:null!==(r=ke(n))&&(o.data=r),G(o),r=o):r=null,(e=ve?function(e,t){switch(e){case"compositionend":return ke(t);case"keypress":return 32!==t.which?null:(Ce=!0,_e);case"textInput":return(e=t.data)===_e&&Ce?null:e;default:return null}}(e,n):function(e,t){if(Te)return"compositionend"===e||!be&&xe(e,t)?(e=se(),ae=re=oe=null,Te=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return we&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=me.getPooled(Se.beforeInput,t,n,i)).data=e,G(t)):t=null,null===r?t:null===t?r:[r,t]}},Ne=null,Le=null,Ie=null;function Ee(e){if(e=S(e)){"function"!==typeof Ne&&a("280");var t=_(e.stateNode);Ne(e.stateNode,e.type,t)}}function De(e){Le?Ie?Ie.push(e):Ie=[e]:Le=e}function Ae(){if(Le){var e=Le,t=Ie;if(Ie=Le=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Me(e,t){return e(t)}function Pe(e,t,n){return e(t,n)}function Re(){}var Fe=!1;function je(e,t){if(Fe)return e(t);Fe=!0;try{return Me(e,t)}finally{Fe=!1,(null!==Le||null!==Ie)&&(Re(),Ae())}}var We={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ve(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!We[e.type]:"textarea"===t}function Be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function He(e){if(!K)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}function ze(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Ue(e){e._valueTracker||(e._valueTracker=function(e){var t=ze(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){i=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function qe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=ze(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}var Ge=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ke=/^(.*)[\\\/]/,Ye="function"===typeof Symbol&&Symbol.for,Ze=Ye?Symbol.for("react.element"):60103,$e=Ye?Symbol.for("react.portal"):60106,Xe=Ye?Symbol.for("react.fragment"):60107,Qe=Ye?Symbol.for("react.strict_mode"):60108,Je=Ye?Symbol.for("react.profiler"):60114,et=Ye?Symbol.for("react.provider"):60109,tt=Ye?Symbol.for("react.context"):60110,nt=Ye?Symbol.for("react.async_mode"):60111,it=Ye?Symbol.for("react.forward_ref"):60112,ot=Ye?Symbol.for("react.placeholder"):60113,rt="function"===typeof Symbol&&Symbol.iterator;function at(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=rt&&e[rt]||e["@@iterator"])?e:null}function st(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case nt:return"AsyncMode";case Xe:return"Fragment";case $e:return"Portal";case Je:return"Profiler";case Qe:return"StrictMode";case ot:return"Placeholder"}if("object"===typeof e){switch(e.$$typeof){case tt:return"Context.Consumer";case et:return"Context.Provider";case it:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef")}if("function"===typeof e.then&&(e=1===e._reactStatus?e._reactResult:null))return st(e)}return null}function lt(e){var t="";do{e:switch(e.tag){case 4:case 0:case 1:case 2:case 3:case 7:case 10:var n=e._debugOwner,i=e._debugSource,o=st(e.type),r=null;n&&(r=st(n.type)),n=o,o="",i?o=" (at "+i.fileName.replace(Ke,"")+":"+i.lineNumber+")":r&&(o=" (created by "+r+")"),r="\n    in "+(n||"Unknown")+o;break e;default:r=""}t+=r,e=e.return}while(e);return t}var ct=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ut=Object.prototype.hasOwnProperty,dt={},ht={};function ft(e,t,n,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t}var pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pt[e]=new ft(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pt[t]=new ft(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){pt[e]=new ft(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pt[e]=new ft(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pt[e]=new ft(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){pt[e]=new ft(e,3,!0,e,null)}),["capture","download"].forEach(function(e){pt[e]=new ft(e,4,!1,e,null)}),["cols","rows","size","span"].forEach(function(e){pt[e]=new ft(e,6,!1,e,null)}),["rowSpan","start"].forEach(function(e){pt[e]=new ft(e,5,!1,e.toLowerCase(),null)});var mt=/[\-:]([a-z])/g;function gt(e){return e[1].toUpperCase()}function bt(e,t,n,i){var o=pt.hasOwnProperty(t)?pt[t]:null;(null!==o?0===o.type:!i&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,i)&&(n=null),i||null===o?function(e){return!!ut.call(ht,e)||!ut.call(dt,e)&&(ct.test(e)?ht[e]=!0:(dt[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,i=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}function yt(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function vt(e,t){var n=t.checked;return o({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function wt(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=yt(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function _t(e,t){null!=(t=t.checked)&&bt(e,"checked",t,!1)}function St(e,t){_t(e,t);var n=yt(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?xt(e,t.type,n):t.hasOwnProperty("defaultValue")&&xt(e,t.type,yt(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Ct(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function xt(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mt,gt);pt[t]=new ft(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mt,gt);pt[t]=new ft(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mt,gt);pt[t]=new ft(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),pt.tabIndex=new ft("tabIndex",1,!1,"tabindex",null);var kt={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Tt(e,t,n){return(e=ue.getPooled(kt.change,e,t,n)).type="change",De(n),G(e),e}var Ot=null,Nt=null;function Lt(e){A(e,!1)}function It(e){if(qe(W(e)))return e}function Et(e,t){if("change"===e)return t}var Dt=!1;function At(){Ot&&(Ot.detachEvent("onpropertychange",Mt),Nt=Ot=null)}function Mt(e){"value"===e.propertyName&&It(Nt)&&je(Lt,e=Tt(Nt,e,Be(e)))}function Pt(e,t,n){"focus"===e?(At(),Nt=n,(Ot=t).attachEvent("onpropertychange",Mt)):"blur"===e&&At()}function Rt(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return It(Nt)}function Ft(e,t){if("click"===e)return It(t)}function jt(e,t){if("input"===e||"change"===e)return It(t)}K&&(Dt=He("input")&&(!document.documentMode||9<document.documentMode));var Wt={eventTypes:kt,_isInputEventSupported:Dt,extractEvents:function(e,t,n,i){var o=t?W(t):window,r=void 0,a=void 0,s=o.nodeName&&o.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===o.type?r=Et:Ve(o)?Dt?r=jt:(r=Rt,a=Pt):(s=o.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(r=Ft),r&&(r=r(e,t)))return Tt(r,n,i);a&&a(e,o,t),"blur"===e&&(e=o._wrapperState)&&e.controlled&&"number"===o.type&&xt(o,"number",o.value)}},Vt=ue.extend({view:null,detail:null}),Bt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ht(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Bt[e])&&!!t[e]}function zt(){return Ht}var Ut=0,qt=0,Gt=!1,Kt=!1,Yt=Vt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:zt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Ut;return Ut=e.screenX,Gt?"mousemove"===e.type?e.screenX-t:0:(Gt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=qt;return qt=e.screenY,Kt?"mousemove"===e.type?e.screenY-t:0:(Kt=!0,0)}}),Zt=Yt.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),$t={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Xt={eventTypes:$t,extractEvents:function(e,t,n,i){var o="mouseover"===e||"pointerover"===e,r="mouseout"===e||"pointerout"===e;if(o&&(n.relatedTarget||n.fromElement)||!r&&!o)return null;if(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,r?(r=t,t=(t=n.relatedTarget||n.toElement)?F(t):null):r=null,r===t)return null;var a=void 0,s=void 0,l=void 0,c=void 0;"mouseout"===e||"mouseover"===e?(a=Yt,s=$t.mouseLeave,l=$t.mouseEnter,c="mouse"):"pointerout"!==e&&"pointerover"!==e||(a=Zt,s=$t.pointerLeave,l=$t.pointerEnter,c="pointer");var u=null==r?o:W(r);if(o=null==t?o:W(t),(e=a.getPooled(s,r,n,i)).type=c+"leave",e.target=u,e.relatedTarget=o,(n=a.getPooled(l,t,n,i)).type=c+"enter",n.target=o,n.relatedTarget=u,i=t,r&&i)e:{for(o=i,c=0,a=t=r;a;a=B(a))c++;for(a=0,l=o;l;l=B(l))a++;for(;0<c-a;)t=B(t),c--;for(;0<a-c;)o=B(o),a--;for(;c--;){if(t===o||t===o.alternate)break e;t=B(t),o=B(o)}t=null}else t=null;for(o=t,t=[];r&&r!==o&&(null===(c=r.alternate)||c!==o);)t.push(r),r=B(r);for(r=[];i&&i!==o&&(null===(c=i.alternate)||c!==o);)r.push(i),i=B(i);for(i=0;i<t.length;i++)U(t[i],"bubbled",e);for(i=r.length;0<i--;)U(r[i],"captured",n);return[e,n]}},Qt=Object.prototype.hasOwnProperty;function Jt(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function en(e,t){if(Jt(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!Qt.call(t,n[i])||!Jt(e[n[i]],t[n[i]]))return!1;return!0}function tn(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!==(2&t.effectTag))return 1;for(;t.return;)if(0!==(2&(t=t.return).effectTag))return 1}return 5===t.tag?2:3}function nn(e){2!==tn(e)&&a("188")}function on(e){if(!(e=function(e){var t=e.alternate;if(!t)return 3===(t=tn(e))&&a("188"),1===t?null:e;for(var n=e,i=t;;){var o=n.return,r=o?o.alternate:null;if(!o||!r)break;if(o.child===r.child){for(var s=o.child;s;){if(s===n)return nn(o),e;if(s===i)return nn(o),t;s=s.sibling}a("188")}if(n.return!==i.return)n=o,i=r;else{s=!1;for(var l=o.child;l;){if(l===n){s=!0,n=o,i=r;break}if(l===i){s=!0,i=o,n=r;break}l=l.sibling}if(!s){for(l=r.child;l;){if(l===n){s=!0,n=r,i=o;break}if(l===i){s=!0,i=r,n=o;break}l=l.sibling}s||a("189")}}n.alternate!==i&&a("190")}return 5!==n.tag&&a("188"),n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(7===t.tag||8===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var rn=ue.extend({animationName:null,elapsedTime:null,pseudoElement:null}),an=ue.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sn=Vt.extend({relatedTarget:null});function ln(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn=Vt.extend({key:function(e){if(e.key){var t=cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ln(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?un[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:zt,charCode:function(e){return"keypress"===e.type?ln(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ln(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),hn=Yt.extend({dataTransfer:null}),fn=Vt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:zt}),pn=ue.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),mn=Yt.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),gn=[["abort","abort"],[J,"animationEnd"],[ee,"animationIteration"],[te,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[ne,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],bn={},yn={};function vn(e,t){var n=e[0],i="on"+((e=e[1])[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:i,captured:i+"Capture"},dependencies:[n],isInteractive:t},bn[e]=t,yn[n]=t}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(e){vn(e,!0)}),gn.forEach(function(e){vn(e,!1)});var wn={eventTypes:bn,isInteractiveTopLevelEventType:function(e){return void 0!==(e=yn[e])&&!0===e.isInteractive},extractEvents:function(e,t,n,i){var o=yn[e];if(!o)return null;switch(e){case"keypress":if(0===ln(n))return null;case"keydown":case"keyup":e=dn;break;case"blur":case"focus":e=sn;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Yt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=hn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=fn;break;case J:case ee:case te:e=rn;break;case ne:e=pn;break;case"scroll":e=Vt;break;case"wheel":e=mn;break;case"copy":case"cut":case"paste":e=an;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Zt;break;default:e=ue}return G(t=e.getPooled(o,t,n,i)),t}},_n=wn.isInteractiveTopLevelEventType,Sn=[];function Cn(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var i;for(i=n;i.return;)i=i.return;if(!(i=5!==i.tag?null:i.stateNode.containerInfo))break;e.ancestors.push(n),n=F(i)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var o=Be(e.nativeEvent);i=e.topLevelType;for(var r=e.nativeEvent,a=null,s=0;s<b.length;s++){var l=b[s];l&&(l=l.extractEvents(i,t,r,o))&&(a=k(a,l))}A(a,!1)}}var xn=!0;function kn(e,t){if(!t)return null;var n=(_n(e)?On:Nn).bind(null,e);t.addEventListener(e,n,!1)}function Tn(e,t){if(!t)return null;var n=(_n(e)?On:Nn).bind(null,e);t.addEventListener(e,n,!0)}function On(e,t){Pe(Nn,e,t)}function Nn(e,t){if(xn){var n=Be(t);if(null===(n=F(n))||"number"!==typeof n.tag||2===tn(n)||(n=null),Sn.length){var i=Sn.pop();i.topLevelType=e,i.nativeEvent=t,i.targetInst=n,e=i}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{je(Cn,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>Sn.length&&Sn.push(e)}}}var Ln={},In=0,En="_reactListenersID"+(""+Math.random()).slice(2);function Dn(e){return Object.prototype.hasOwnProperty.call(e,En)||(e[En]=In++,Ln[e[En]]={}),Ln[e[En]]}function An(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Mn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pn(e,t){var n,i=Mn(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Mn(i)}}function Rn(){for(var e=window,t=An();t instanceof e.HTMLIFrameElement;){try{e=t.contentDocument.defaultView}catch(e){break}t=An(e.document)}return t}function Fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var jn=K&&"documentMode"in document&&11>=document.documentMode,Wn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Vn=null,Bn=null,Hn=null,zn=!1;function Un(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return zn||null==Vn||Vn!==An(n)?null:("selectionStart"in(n=Vn)&&Fn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Hn&&en(Hn,n)?null:(Hn=n,(e=ue.getPooled(Wn.select,Bn,e,t)).type="select",e.target=Vn,G(e),e))}var qn={eventTypes:Wn,extractEvents:function(e,t,n,i){var o,r=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;if(!(o=!r)){e:{r=Dn(r),o=w.onSelect;for(var a=0;a<o.length;a++){var s=o[a];if(!r.hasOwnProperty(s)||!r[s]){r=!1;break e}}r=!0}o=!r}if(o)return null;switch(r=t?W(t):window,e){case"focus":(Ve(r)||"true"===r.contentEditable)&&(Vn=r,Bn=t,Hn=null);break;case"blur":Hn=Bn=Vn=null;break;case"mousedown":zn=!0;break;case"contextmenu":case"mouseup":case"dragend":return zn=!1,Un(n,i);case"selectionchange":if(jn)break;case"keydown":case"keyup":return Un(n,i)}return null}};function Gn(e,t){return e=o({children:void 0},t),(t=function(e){var t="";return i.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(t.children))&&(e.children=t),e}function Kn(e,t,n,i){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&i&&(e[n].defaultSelected=!0)}else{for(n=""+yt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(i&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function Yn(e,t){return null!=t.dangerouslySetInnerHTML&&a("91"),o({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Zn(e,t){var n=t.value;null==n&&(n=t.defaultValue,null!=(t=t.children)&&(null!=n&&a("92"),Array.isArray(t)&&(1>=t.length||a("93"),t=t[0]),n=t),null==n&&(n="")),e._wrapperState={initialValue:yt(n)}}function $n(e,t){var n=yt(t.value);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&(e.defaultValue=n)),null!=t.defaultValue&&(e.defaultValue=""+yt(t.defaultValue))}function Xn(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}E.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),_=V,S=j,C=W,E.injectEventPluginsByName({SimpleEventPlugin:wn,EnterLeaveEventPlugin:Xt,ChangeEventPlugin:Wt,SelectEventPlugin:qn,BeforeInputEventPlugin:Oe});var Qn={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Jn(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ei(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Jn(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ti,ni=void 0,ii=(ti=function(e,t){if(e.namespaceURI!==Qn.svg||"innerHTML"in e)e.innerHTML=t;else{for((ni=ni||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=ni.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction(function(){return ti(e,t)})}:ti);function oi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ri={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ai=["Webkit","ms","Moz","O"];function si(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),o=n,r=t[n];o=null==r||"boolean"===typeof r||""===r?"":i||"number"!==typeof r||0===r||ri.hasOwnProperty(o)&&ri[o]?(""+r).trim():r+"px","float"===n&&(n="cssFloat"),i?e.setProperty(n,o):e[n]=o}}Object.keys(ri).forEach(function(e){ai.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ri[t]=ri[e]})});var li=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ci(e,t){t&&(li[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&a("137",e,""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&a("60"),"object"===typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||a("61")),null!=t.style&&"object"!==typeof t.style&&a("62",""))}function ui(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function di(e,t){var n=Dn(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=w[t];for(var i=0;i<t.length;i++){var o=t[i];if(!n.hasOwnProperty(o)||!n[o]){switch(o){case"scroll":Tn("scroll",e);break;case"focus":case"blur":Tn("focus",e),Tn("blur",e),n.blur=!0,n.focus=!0;break;case"cancel":case"close":He(o)&&Tn(o,e);break;case"invalid":case"submit":case"reset":break;default:-1===ie.indexOf(o)&&kn(o,e)}n[o]=!0}}}function hi(){}var fi=null,pi=null;function mi(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function gi(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}function bi(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function yi(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}new Set;var vi=[],wi=-1;function _i(e){0>wi||(e.current=vi[wi],vi[wi]=null,wi--)}function Si(e,t){vi[++wi]=e.current,e.current=t}var Ci={},xi={current:Ci},ki={current:!1},Ti=Ci;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ci;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var o,r={};for(o in n)r[o]=t[o];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Ni(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Li(e){_i(ki),_i(xi)}function Ii(e){_i(ki),_i(xi)}function Ei(e,t,n){xi.current!==Ci&&a("168"),Si(xi,t),Si(ki,n)}function Di(e,t,n){var i=e.stateNode;if(e=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())r in e||a("108",st(t)||"Unknown",r);return o({},n,i)}function Ai(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Ci,Ti=xi.current,Si(xi,t),Si(ki,ki.current),!0}function Mi(e,t,n){var i=e.stateNode;i||a("169"),n?(t=Di(e,t,Ti),i.__reactInternalMemoizedMergedChildContext=t,_i(ki),_i(xi),Si(xi,t)):_i(ki),Si(ki,n)}var Pi=null,Ri=null;function Fi(e){return function(t){try{return e(t)}catch(e){}}}function ji(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=null,this.index=0,this.ref=null,this.pendingProps=t,this.firstContextDependency=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Wi(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Vi(e,t,n){var i=e.alternate;return null===i?((i=new ji(e.tag,t,e.key,e.mode)).type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.effectTag=0,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null),i.childExpirationTime=e.childExpirationTime,i.expirationTime=t!==e.pendingProps?n:e.expirationTime,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,i.firstContextDependency=e.firstContextDependency,i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Bi(e,t,n){var i=e.type,o=e.key;e=e.props;var r=void 0;if("function"===typeof i)r=Wi(i)?2:4;else if("string"===typeof i)r=7;else e:switch(i){case Xe:return Hi(e.children,t,n,o);case nt:r=10,t|=3;break;case Qe:r=10,t|=2;break;case Je:return(i=new ji(15,e,o,4|t)).type=Je,i.expirationTime=n,i;case ot:r=16;break;default:if("object"===typeof i&&null!==i)switch(i.$$typeof){case et:r=12;break e;case tt:r=11;break e;case it:r=13;break e;default:if("function"===typeof i.then){r=4;break e}}a("130",null==i?i:typeof i,"")}return(t=new ji(r,e,o,t)).type=i,t.expirationTime=n,t}function Hi(e,t,n,i){return(e=new ji(9,e,i,t)).expirationTime=n,e}function zi(e,t,n){return(e=new ji(8,e,null,t)).expirationTime=n,e}function Ui(e,t,n){return(t=new ji(6,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qi(e,t){e.didError=!1;var n=e.earliestPendingTime;0===n?e.earliestPendingTime=e.latestPendingTime=t:n>t?e.earliestPendingTime=t:e.latestPendingTime<t&&(e.latestPendingTime=t),Gi(t,e)}function Gi(e,t){var n=t.earliestSuspendedTime,i=t.latestSuspendedTime,o=t.earliestPendingTime,r=t.latestPingedTime;0===(o=0!==o?o:r)&&(0===e||i>e)&&(o=i),0!==(e=o)&&0!==n&&n<e&&(e=n),t.nextExpirationTimeToWorkOn=o,t.expirationTime=e}var Ki=!1;function Yi(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Zi(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function $i(e){return{expirationTime:e,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function Xi(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function Qi(e,t){var n=e.alternate;if(null===n){var i=e.updateQueue,o=null;null===i&&(i=e.updateQueue=Yi(e.memoizedState))}else i=e.updateQueue,o=n.updateQueue,null===i?null===o?(i=e.updateQueue=Yi(e.memoizedState),o=n.updateQueue=Yi(n.memoizedState)):i=e.updateQueue=Zi(o):null===o&&(o=n.updateQueue=Zi(i));null===o||i===o?Xi(i,t):null===i.lastUpdate||null===o.lastUpdate?(Xi(i,t),Xi(o,t)):(Xi(i,t),o.lastUpdate=t)}function Ji(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=Yi(e.memoizedState):eo(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function eo(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=Zi(t)),t}function to(e,t,n,i,r,a){switch(n.tag){case 1:return"function"===typeof(e=n.payload)?e.call(a,i,r):e;case 3:e.effectTag=-1025&e.effectTag|64;case 0:if(null===(r="function"===typeof(e=n.payload)?e.call(a,i,r):e)||void 0===r)break;return o({},i,r);case 2:Ki=!0}return i}function no(e,t,n,i,o){Ki=!1;for(var r=(t=eo(e,t)).baseState,a=null,s=0,l=t.firstUpdate,c=r;null!==l;){var u=l.expirationTime;u>o?(null===a&&(a=l,r=c),(0===s||s>u)&&(s=u)):(c=to(e,0,l,c,n,i),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=l:(t.lastEffect.nextEffect=l,t.lastEffect=l))),l=l.next}for(u=null,l=t.firstCapturedUpdate;null!==l;){var d=l.expirationTime;d>o?(null===u&&(u=l,null===a&&(r=c)),(0===s||s>d)&&(s=d)):(c=to(e,0,l,c,n,i),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=l:(t.lastCapturedEffect.nextEffect=l,t.lastCapturedEffect=l))),l=l.next}null===a&&(t.lastUpdate=null),null===u?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===u&&(r=c),t.baseState=r,t.firstUpdate=a,t.firstCapturedUpdate=u,e.expirationTime=s,e.memoizedState=c}function io(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),oo(t.firstEffect,n),t.firstEffect=t.lastEffect=null,oo(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function oo(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var i=t;"function"!==typeof n&&a("191",n),n.call(i)}e=e.nextEffect}}function ro(e,t){return{value:e,source:t,stack:lt(t)}}var ao={current:null},so=null,lo=null,co=null;function uo(e,t){var n=e.type._context;Si(ao,n._currentValue),n._currentValue=t}function ho(e){var t=ao.current;_i(ao),e.type._context._currentValue=t}function fo(e){so=e,co=lo=null,e.firstContextDependency=null}function po(e,t){return co!==e&&!1!==t&&0!==t&&("number"===typeof t&&1073741823!==t||(co=e,t=1073741823),t={context:e,observedBits:t,next:null},null===lo?(null===so&&a("277"),so.firstContextDependency=lo=t):lo=lo.next=t),e._currentValue}var mo={},go={current:mo},bo={current:mo},yo={current:mo};function vo(e){return e===mo&&a("174"),e}function wo(e,t){Si(yo,t),Si(bo,e),Si(go,mo);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ei(null,"");break;default:t=ei(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}_i(go),Si(go,t)}function _o(e){_i(go),_i(bo),_i(yo)}function So(e){vo(yo.current);var t=vo(go.current),n=ei(t,e.type);t!==n&&(Si(bo,e),Si(go,n))}function Co(e){bo.current===e&&(_i(go),_i(bo))}var xo=(new i.Component).refs;function ko(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:o({},t,n),e.memoizedState=n,null!==(i=e.updateQueue)&&0===e.expirationTime&&(i.baseState=n)}var To={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===tn(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var i=sa(),o=$i(i=Ar(i,e));o.payload=t,void 0!==n&&null!==n&&(o.callback=n),Qi(e,o),Mr(e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var i=sa(),o=$i(i=Ar(i,e));o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),Qi(e,o),Mr(e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=sa(),i=$i(n=Ar(n,e));i.tag=2,void 0!==t&&null!==t&&(i.callback=t),Qi(e,i),Mr(e,n)}};function Oo(e,t,n,i,o,r,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,r,a):!t.prototype||!t.prototype.isPureReactComponent||(!en(n,i)||!en(o,r))}function No(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&To.enqueueReplaceState(t,t.state,null)}function Lo(e,t,n,i){var o=e.stateNode,r=Ni(t)?Ti:xi.current;o.props=n,o.state=e.memoizedState,o.refs=xo,o.context=Oi(e,r),null!==(r=e.updateQueue)&&(no(e,r,n,o,i),o.state=e.memoizedState),"function"===typeof(r=t.getDerivedStateFromProps)&&(ko(e,t,r,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&To.enqueueReplaceState(o,o.state,null),null!==(r=e.updateQueue)&&(no(e,r,n,o,i),o.state=e.memoizedState)),"function"===typeof o.componentDidMount&&(e.effectTag|=4)}var Io=Array.isArray;function Eo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){var i=void 0;(n=n._owner)&&(2!==n.tag&&3!==n.tag&&a("110"),i=n.stateNode),i||a("147",e);var o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=i.refs;t===xo&&(t=i.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}"string"!==typeof e&&a("284"),n._owner||a("254",e)}return e}function Do(e,t){"textarea"!==e.type&&a("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function Ao(e){function t(t,n){if(e){var i=t.lastEffect;null!==i?(i.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t,n){return(e=Vi(e,t,n)).index=0,e.sibling=null,e}function r(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.effectTag=2,n):i:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,i){return null===t||8!==t.tag?((t=zi(n,e.mode,i)).return=e,t):((t=o(t,n,i)).return=e,t)}function c(e,t,n,i){return null!==t&&t.type===n.type?((i=o(t,n.props,i)).ref=Eo(e,t,n),i.return=e,i):((i=Bi(n,e.mode,i)).ref=Eo(e,t,n),i.return=e,i)}function u(e,t,n,i){return null===t||6!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ui(n,e.mode,i)).return=e,t):((t=o(t,n.children||[],i)).return=e,t)}function d(e,t,n,i,r){return null===t||9!==t.tag?((t=Hi(n,e.mode,i,r)).return=e,t):((t=o(t,n,i)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=zi(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case Ze:return(n=Bi(t,e.mode,n)).ref=Eo(e,null,t),n.return=e,n;case $e:return(t=Ui(t,e.mode,n)).return=e,t}if(Io(t)||at(t))return(t=Hi(t,e.mode,n,null)).return=e,t;Do(e,t)}return null}function f(e,t,n,i){var o=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==o?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case Ze:return n.key===o?n.type===Xe?d(e,t,n.props.children,i,o):c(e,t,n,i):null;case $e:return n.key===o?u(e,t,n,i):null}if(Io(n)||at(n))return null!==o?null:d(e,t,n,i,null);Do(e,n)}return null}function p(e,t,n,i,o){if("string"===typeof i||"number"===typeof i)return l(t,e=e.get(n)||null,""+i,o);if("object"===typeof i&&null!==i){switch(i.$$typeof){case Ze:return e=e.get(null===i.key?n:i.key)||null,i.type===Xe?d(t,e,i.props.children,o,i.key):c(t,e,i,o);case $e:return u(t,e=e.get(null===i.key?n:i.key)||null,i,o)}if(Io(i)||at(i))return d(t,e=e.get(n)||null,i,o,null);Do(t,i)}return null}function m(o,a,s,l){for(var c=null,u=null,d=a,m=a=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var b=f(o,d,s[m],l);if(null===b){null===d&&(d=g);break}e&&d&&null===b.alternate&&t(o,d),a=r(b,a,m),null===u?c=b:u.sibling=b,u=b,d=g}if(m===s.length)return n(o,d),c;if(null===d){for(;m<s.length;m++)(d=h(o,s[m],l))&&(a=r(d,a,m),null===u?c=d:u.sibling=d,u=d);return c}for(d=i(o,d);m<s.length;m++)(g=p(d,o,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=r(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(o,e)}),c}function g(o,s,l,c){var u=at(l);"function"!==typeof u&&a("150"),null==(l=u.call(l))&&a("151");for(var d=u=null,m=s,g=s=0,b=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(b=m,m=null):b=m.sibling;var v=f(o,m,y.value,c);if(null===v){m||(m=b);break}e&&m&&null===v.alternate&&t(o,m),s=r(v,s,g),null===d?u=v:d.sibling=v,d=v,m=b}if(y.done)return n(o,m),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(o,y.value,c))&&(s=r(y,s,g),null===d?u=y:d.sibling=y,d=y);return u}for(m=i(o,m);!y.done;g++,y=l.next())null!==(y=p(m,o,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=r(y,s,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(o,e)}),u}return function(e,i,r,l){var c="object"===typeof r&&null!==r&&r.type===Xe&&null===r.key;c&&(r=r.props.children);var u="object"===typeof r&&null!==r;if(u)switch(r.$$typeof){case Ze:e:{for(u=r.key,c=i;null!==c;){if(c.key===u){if(9===c.tag?r.type===Xe:c.type===r.type){n(e,c.sibling),(i=o(c,r.type===Xe?r.props.children:r.props,l)).ref=Eo(e,c,r),i.return=e,e=i;break e}n(e,c);break}t(e,c),c=c.sibling}r.type===Xe?((i=Hi(r.props.children,e.mode,l,r.key)).return=e,e=i):((l=Bi(r,e.mode,l)).ref=Eo(e,i,r),l.return=e,e=l)}return s(e);case $e:e:{for(c=r.key;null!==i;){if(i.key===c){if(6===i.tag&&i.stateNode.containerInfo===r.containerInfo&&i.stateNode.implementation===r.implementation){n(e,i.sibling),(i=o(i,r.children||[],l)).return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}(i=Ui(r,e.mode,l)).return=e,e=i}return s(e)}if("string"===typeof r||"number"===typeof r)return r=""+r,null!==i&&8===i.tag?(n(e,i.sibling),(i=o(i,r,l)).return=e,e=i):(n(e,i),(i=zi(r,e.mode,l)).return=e,e=i),s(e);if(Io(r))return m(e,i,r,l);if(at(r))return g(e,i,r,l);if(u&&Do(e,r),"undefined"===typeof r&&!c)switch(e.tag){case 2:case 3:case 0:a("152",(l=e.type).displayName||l.name||"Component")}return n(e,i)}}var Mo=Ao(!0),Po=Ao(!1),Ro=null,Fo=null,jo=!1;function Wo(e,t){var n=new ji(7,null,null,0);n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Vo(e,t){switch(e.tag){case 7:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 8:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Bo(e){if(jo){var t=Fo;if(t){var n=t;if(!Vo(e,t)){if(!(t=bi(n))||!Vo(e,t))return e.effectTag|=2,jo=!1,void(Ro=e);Wo(Ro,n)}Ro=e,Fo=yi(t)}else e.effectTag|=2,jo=!1,Ro=e}}function Ho(e){for(e=e.return;null!==e&&7!==e.tag&&5!==e.tag;)e=e.return;Ro=e}function zo(e){if(e!==Ro)return!1;if(!jo)return Ho(e),jo=!0,!1;var t=e.type;if(7!==e.tag||"head"!==t&&"body"!==t&&!gi(t,e.memoizedProps))for(t=Fo;t;)Wo(e,t),t=bi(t);return Ho(e),Fo=Ro?bi(e.stateNode):null,!0}function Uo(){Fo=Ro=null,jo=!1}var qo=Ge.ReactCurrentOwner;function Go(e,t,n,i){t.child=null===e?Po(t,null,n,i):Mo(t,e.child,n,i)}function Ko(e,t,n,i,o){n=n.render;var r=t.ref;return ki.current||t.memoizedProps!==i||r!==(null!==e?e.ref:null)?(Go(e,t,n=n(i,r),o),t.memoizedProps=i,t.child):er(e,t,o)}function Yo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Zo(e,t,n,i,o){var r=Ni(n)?Ti:xi.current;return r=Oi(t,r),fo(t),n=n(i,r),t.effectTag|=1,Go(e,t,n,o),t.memoizedProps=i,t.child}function $o(e,t,n,i,o){if(Ni(n)){var r=!0;Ai(t)}else r=!1;if(fo(t),null===e)if(null===t.stateNode){var a=Ni(n)?Ti:xi.current,s=n.contextTypes,l=null!==s&&void 0!==s,c=new n(i,s=l?Oi(t,a):Ci);t.memoizedState=null!==c.state&&void 0!==c.state?c.state:null,c.updater=To,t.stateNode=c,c._reactInternalFiber=t,l&&((l=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,l.__reactInternalMemoizedMaskedChildContext=s),Lo(t,n,i,o),i=!0}else{a=t.stateNode,s=t.memoizedProps,a.props=s;var u=a.context;l=Oi(t,l=Ni(n)?Ti:xi.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==i||u!==l)&&No(t,a,i,l),Ki=!1;var h=t.memoizedState;u=a.state=h;var f=t.updateQueue;null!==f&&(no(t,f,i,a,o),u=t.memoizedState),s!==i||h!==u||ki.current||Ki?("function"===typeof d&&(ko(t,n,d,i),u=t.memoizedState),(s=Ki||Oo(t,n,s,i,h,u,l))?(c||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.effectTag|=4)):("function"===typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=i,t.memoizedState=u),a.props=i,a.state=u,a.context=l,i=s):("function"===typeof a.componentDidMount&&(t.effectTag|=4),i=!1)}else a=t.stateNode,s=t.memoizedProps,a.props=s,u=a.context,l=Oi(t,l=Ni(n)?Ti:xi.current),(c="function"===typeof(d=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==i||u!==l)&&No(t,a,i,l),Ki=!1,u=t.memoizedState,h=a.state=u,null!==(f=t.updateQueue)&&(no(t,f,i,a,o),h=t.memoizedState),s!==i||u!==h||ki.current||Ki?("function"===typeof d&&(ko(t,n,d,i),h=t.memoizedState),(d=Ki||Oo(t,n,s,i,u,h,l))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(i,h,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,h,l)),"function"===typeof a.componentDidUpdate&&(t.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=i,t.memoizedState=h),a.props=i,a.state=h,a.context=l,i=d):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),i=!1);return Xo(e,t,n,i,r,o)}function Xo(e,t,n,i,o,r){Yo(e,t);var a=0!==(64&t.effectTag);if(!i&&!a)return o&&Mi(t,n,!1),er(e,t,r);i=t.stateNode,qo.current=t;var s=a?null:i.render();return t.effectTag|=1,null!==e&&a&&(Go(e,t,null,r),t.child=null),Go(e,t,s,r),t.memoizedState=i.state,t.memoizedProps=i.props,o&&Mi(t,n,!0),t.child}function Qo(e){var t=e.stateNode;t.pendingContext?Ei(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ei(0,t.context,!1),wo(e,t.containerInfo)}function Jo(e,t){if(e&&e.defaultProps)for(var n in t=o({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}function er(e,t,n){null!==e&&(t.firstContextDependency=e.firstContextDependency);var i=t.childExpirationTime;if(0===i||i>n)return null;if(null!==e&&t.child!==e.child&&a("153"),null!==t.child){for(n=Vi(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Vi(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function tr(e,t,n){var i=t.expirationTime;if(!ki.current&&(0===i||i>n)){switch(t.tag){case 5:Qo(t),Uo();break;case 7:So(t);break;case 2:Ni(t.type)&&Ai(t);break;case 3:Ni(t.type._reactResult)&&Ai(t);break;case 6:wo(t,t.stateNode.containerInfo);break;case 12:uo(t,t.memoizedProps.value)}return er(e,t,n)}switch(t.expirationTime=0,t.tag){case 4:return function(e,t,n,i){null!==e&&a("155");var o=t.pendingProps;if("object"===typeof n&&null!==n&&"function"===typeof n.then){var r=n=function(e){switch(e._reactStatus){case 1:return e._reactResult;case 2:throw e._reactResult;case 0:throw e;default:throw e._reactStatus=0,e.then(function(t){if(0===e._reactStatus){if(e._reactStatus=1,"object"===typeof t&&null!==t){var n=t.default;t=void 0!==n&&null!==n?n:t}e._reactResult=t}},function(t){0===e._reactStatus&&(e._reactStatus=2,e._reactResult=t)}),e}}(n);r="function"===typeof r?Wi(r)?3:1:void 0!==r&&null!==r&&r.$$typeof?14:4,r=t.tag=r;var s=Jo(n,o);switch(r){case 1:return Zo(e,t,n,s,i);case 3:return $o(e,t,n,s,i);case 14:return Ko(e,t,n,s,i);default:a("283",n)}}if(r=Oi(t,xi.current),fo(t),r=n(o,r),t.effectTag|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof){t.tag=2,Ni(n)?(s=!0,Ai(t)):s=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null;var l=n.getDerivedStateFromProps;return"function"===typeof l&&ko(t,n,l,o),r.updater=To,t.stateNode=r,r._reactInternalFiber=t,Lo(t,n,o,i),Xo(e,t,n,!0,s,i)}return t.tag=0,Go(e,t,r,i),t.memoizedProps=o,t.child}(e,t,t.type,n);case 0:return Zo(e,t,t.type,t.pendingProps,n);case 1:var o=t.type._reactResult;return e=Zo(e,t,o,Jo(o,i=t.pendingProps),n),t.memoizedProps=i,e;case 2:return $o(e,t,t.type,t.pendingProps,n);case 3:return e=$o(e,t,o=t.type._reactResult,Jo(o,i=t.pendingProps),n),t.memoizedProps=i,e;case 5:return Qo(t),null===(i=t.updateQueue)&&a("282"),o=null!==(o=t.memoizedState)?o.element:null,no(t,i,t.pendingProps,null,n),(i=t.memoizedState.element)===o?(Uo(),t=er(e,t,n)):(o=t.stateNode,(o=(null===e||null===e.child)&&o.hydrate)&&(Fo=yi(t.stateNode.containerInfo),Ro=t,o=jo=!0),o?(t.effectTag|=2,t.child=Po(t,null,i,n)):(Go(e,t,i,n),Uo()),t=t.child),t;case 7:So(t),null===e&&Bo(t),i=t.type,o=t.pendingProps;var r=null!==e?e.memoizedProps:null,s=o.children;return gi(i,o)?s=null:null!==r&&gi(i,r)&&(t.effectTag|=16),Yo(e,t),1073741823!==n&&1&t.mode&&o.hidden?(t.expirationTime=1073741823,t.memoizedProps=o,t=null):(Go(e,t,s,n),t.memoizedProps=o,t=t.child),t;case 8:return null===e&&Bo(t),t.memoizedProps=t.pendingProps,null;case 16:return null;case 6:return wo(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Mo(t,null,i,n):Go(e,t,i,n),t.memoizedProps=i,t.child;case 13:return Ko(e,t,t.type,t.pendingProps,n);case 14:return e=Ko(e,t,o=t.type._reactResult,Jo(o,i=t.pendingProps),n),t.memoizedProps=i,e;case 9:return Go(e,t,i=t.pendingProps,n),t.memoizedProps=i,t.child;case 10:return Go(e,t,i=t.pendingProps.children,n),t.memoizedProps=i,t.child;case 15:return Go(e,t,(i=t.pendingProps).children,n),t.memoizedProps=i,t.child;case 12:e:{if(i=t.type._context,o=t.pendingProps,s=t.memoizedProps,r=o.value,t.memoizedProps=o,uo(t,r),null!==s){var l=s.value;if(0===(r=l===r&&(0!==l||1/l===1/r)||l!==l&&r!==r?0:0|("function"===typeof i._calculateChangedBits?i._calculateChangedBits(l,r):1073741823))){if(s.children===o.children&&!ki.current){t=er(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){if(null!==(l=s.firstContextDependency))do{if(l.context===i&&0!==(l.observedBits&r)){if(2===s.tag||3===s.tag){var c=$i(n);c.tag=2,Qi(s,c)}(0===s.expirationTime||s.expirationTime>n)&&(s.expirationTime=n),null!==(c=s.alternate)&&(0===c.expirationTime||c.expirationTime>n)&&(c.expirationTime=n);for(var u=s.return;null!==u;){if(c=u.alternate,0===u.childExpirationTime||u.childExpirationTime>n)u.childExpirationTime=n,null!==c&&(0===c.childExpirationTime||c.childExpirationTime>n)&&(c.childExpirationTime=n);else{if(null===c||!(0===c.childExpirationTime||c.childExpirationTime>n))break;c.childExpirationTime=n}u=u.return}}c=s.child,l=l.next}while(null!==l);else c=12===s.tag&&s.type===t.type?null:s.child;if(null!==c)c.return=s;else for(c=s;null!==c;){if(c===t){c=null;break}if(null!==(s=c.sibling)){s.return=c.return,c=s;break}c=c.return}s=c}}Go(e,t,o.children,n),t=t.child}return t;case 11:return r=t.type,o=(i=t.pendingProps).children,fo(t),o=o(r=po(r,i.unstable_observedBits)),t.effectTag|=1,Go(e,t,o,n),t.memoizedProps=i,t.child;default:a("156")}}function nr(e){e.effectTag|=4}var ir=void 0,or=void 0,rr=void 0;function ar(e,t){var n=t.source,i=t.stack;null===i&&null!==n&&(i=lt(n)),null!==n&&st(n.type),t=t.value,null!==e&&2===e.tag&&st(e.type);try{console.error(t)}catch(e){setTimeout(function(){throw e})}}function sr(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(t){Dr(e,t)}else t.current=null}function lr(e){switch("function"===typeof Ri&&Ri(e),e.tag){case 2:case 3:sr(e);var t=e.stateNode;if("function"===typeof t.componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Dr(e,t)}break;case 7:sr(e);break;case 6:dr(e)}}function cr(e){return 7===e.tag||5===e.tag||6===e.tag}function ur(e){e:{for(var t=e.return;null!==t;){if(cr(t)){var n=t;break e}t=t.return}a("160"),n=void 0}var i=t=void 0;switch(n.tag){case 7:t=n.stateNode,i=!1;break;case 5:case 6:t=n.stateNode.containerInfo,i=!0;break;default:a("161")}16&n.effectTag&&(oi(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||cr(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;7!==n.tag&&8!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||6===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var o=e;;){if(7===o.tag||8===o.tag)if(n)if(i){var r=t,s=o.stateNode,l=n;8===r.nodeType?r.parentNode.insertBefore(s,l):r.insertBefore(s,l)}else t.insertBefore(o.stateNode,n);else i?(r=t,s=o.stateNode,8===r.nodeType?(l=r.parentNode).insertBefore(s,r):(l=r).appendChild(s),null===l.onclick&&(l.onclick=hi)):t.appendChild(o.stateNode);else if(6!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;o=o.return}o.sibling.return=o.return,o=o.sibling}}function dr(e){for(var t=e,n=!1,i=void 0,o=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&a("160"),n.tag){case 7:i=n.stateNode,o=!1;break e;case 5:case 6:i=n.stateNode.containerInfo,o=!0;break e}n=n.return}n=!0}if(7===t.tag||8===t.tag){e:for(var r=t,s=r;;)if(lr(s),null!==s.child&&6!==s.tag)s.child.return=s,s=s.child;else{if(s===r)break;for(;null===s.sibling;){if(null===s.return||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}o?(r=i,s=t.stateNode,8===r.nodeType?r.parentNode.removeChild(s):r.removeChild(s)):i.removeChild(t.stateNode)}else if(6===t.tag?(i=t.stateNode.containerInfo,o=!0):lr(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;6===(t=t.return).tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}function hr(e,t){switch(t.tag){case 2:case 3:break;case 7:var n=t.stateNode;if(null!=n){var i=t.memoizedProps,o=null!==e?e.memoizedProps:i;e=t.type;var r=t.updateQueue;if(t.updateQueue=null,null!==r){for(n[R]=i,"input"===e&&"radio"===i.type&&null!=i.name&&_t(n,i),ui(e,o),t=ui(e,i),o=0;o<r.length;o+=2){var s=r[o],l=r[o+1];"style"===s?si(n,l):"dangerouslySetInnerHTML"===s?ii(n,l):"children"===s?oi(n,l):bt(n,s,l,t)}switch(e){case"input":St(n,i);break;case"textarea":$n(n,i);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,null!=(r=i.value)?Kn(n,!!i.multiple,r,!1):e!==!!i.multiple&&(null!=i.defaultValue?Kn(n,!!i.multiple,i.defaultValue,!0):Kn(n,!!i.multiple,i.multiple?[]:"",!1))}}}break;case 8:null===t.stateNode&&a("162"),t.stateNode.nodeValue=t.memoizedProps;break;case 5:case 15:case 16:break;default:a("163")}}function fr(e,t,n){(n=$i(n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){pa(i),ar(e,t)},n}function pr(e,t,n){(n=$i(n)).tag=3;var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){null===Or?Or=new Set([this]):Or.add(this);var n=t.value,i=t.stack;ar(e,t),this.componentDidCatch(n,{componentStack:null!==i?i:""})}),n}function mr(e){switch(e.tag){case 2:Ni(e.type)&&Li();var t=e.effectTag;return 1024&t?(e.effectTag=-1025&t|64,e):null;case 3:return Ni(e.type._reactResult)&&Li(),1024&(t=e.effectTag)?(e.effectTag=-1025&t|64,e):null;case 5:return _o(),Ii(),0!==(64&(t=e.effectTag))&&a("285"),e.effectTag=-1025&t|64,e;case 7:return Co(e),null;case 16:return 1024&(t=e.effectTag)?(e.effectTag=-1025&t|64,e):null;case 6:return _o(),null;case 12:return ho(e),null;default:return null}}ir=function(){},or=function(e,t,n,i,r){var a=e.memoizedProps;if(a!==i){var s=t.stateNode;switch(vo(go.current),e=null,n){case"input":a=vt(s,a),i=vt(s,i),e=[];break;case"option":a=Gn(s,a),i=Gn(s,i),e=[];break;case"select":a=o({},a,{value:void 0}),i=o({},i,{value:void 0}),e=[];break;case"textarea":a=Yn(s,a),i=Yn(s,i),e=[];break;default:"function"!==typeof a.onClick&&"function"===typeof i.onClick&&(s.onclick=hi)}ci(n,i),s=n=void 0;var l=null;for(n in a)if(!i.hasOwnProperty(n)&&a.hasOwnProperty(n)&&null!=a[n])if("style"===n){var c=a[n];for(s in c)c.hasOwnProperty(s)&&(l||(l={}),l[s]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(v.hasOwnProperty(n)?e||(e=[]):(e=e||[]).push(n,null));for(n in i){var u=i[n];if(c=null!=a?a[n]:void 0,i.hasOwnProperty(n)&&u!==c&&(null!=u||null!=c))if("style"===n)if(c){for(s in c)!c.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(l||(l={}),l[s]="");for(s in u)u.hasOwnProperty(s)&&c[s]!==u[s]&&(l||(l={}),l[s]=u[s])}else l||(e||(e=[]),e.push(n,l)),l=u;else"dangerouslySetInnerHTML"===n?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(e=e||[]).push(n,""+u)):"children"===n?c===u||"string"!==typeof u&&"number"!==typeof u||(e=e||[]).push(n,""+u):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(v.hasOwnProperty(n)?(null!=u&&di(r,n),e||c===u||(e=[])):(e=e||[]).push(n,u))}l&&(e=e||[]).push("style",l),r=e,(t.updateQueue=r)&&nr(t)}},rr=function(e,t,n,i){n!==i&&nr(t)};var gr={readContext:po},br=Ge.ReactCurrentOwner,yr=0,vr=0,wr=!1,_r=null,Sr=null,Cr=0,xr=!1,kr=null,Tr=!1,Or=null;function Nr(){if(null!==_r)for(var e=_r.return;null!==e;){var t=e;switch(t.tag){case 2:var n=t.type.childContextTypes;null!==n&&void 0!==n&&Li();break;case 3:null!==(n=t.type._reactResult.childContextTypes)&&void 0!==n&&Li();break;case 5:_o(),Ii();break;case 7:Co(t);break;case 6:_o();break;case 12:ho(t)}e=e.return}Sr=null,Cr=0,xr=!1,_r=null}function Lr(e){for(;;){var t=e.alternate,n=e.return,i=e.sibling;if(0===(512&e.effectTag)){var r=t,s=(t=e).pendingProps;switch(t.tag){case 0:case 1:break;case 2:Ni(t.type)&&Li();break;case 3:Ni(t.type._reactResult)&&Li();break;case 5:_o(),Ii(),(s=t.stateNode).pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),null!==r&&null!==r.child||(zo(t),t.effectTag&=-3),ir(t);break;case 7:Co(t);var l=vo(yo.current),c=t.type;if(null!==r&&null!=t.stateNode)or(r,t,c,s,l),r.ref!==t.ref&&(t.effectTag|=128);else if(s){var u=vo(go.current);if(zo(t)){r=(s=t).stateNode;var d=s.type,h=s.memoizedProps,f=l;switch(r[P]=s,r[R]=h,c=void 0,l=d){case"iframe":case"object":kn("load",r);break;case"video":case"audio":for(d=0;d<ie.length;d++)kn(ie[d],r);break;case"source":kn("error",r);break;case"img":case"image":case"link":kn("error",r),kn("load",r);break;case"form":kn("reset",r),kn("submit",r);break;case"details":kn("toggle",r);break;case"input":wt(r,h),kn("invalid",r),di(f,"onChange");break;case"select":r._wrapperState={wasMultiple:!!h.multiple},kn("invalid",r),di(f,"onChange");break;case"textarea":Zn(r,h),kn("invalid",r),di(f,"onChange")}for(c in ci(l,h),d=null,h)h.hasOwnProperty(c)&&(u=h[c],"children"===c?"string"===typeof u?r.textContent!==u&&(d=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(d=["children",""+u]):v.hasOwnProperty(c)&&null!=u&&di(f,c));switch(l){case"input":Ue(r),Ct(r,h,!0);break;case"textarea":Ue(r),Xn(r);break;case"select":case"option":break;default:"function"===typeof h.onClick&&(r.onclick=hi)}c=d,s.updateQueue=c,(s=null!==c)&&nr(t)}else{h=t,r=c,f=s,d=9===l.nodeType?l:l.ownerDocument,u===Qn.html&&(u=Jn(r)),u===Qn.html?"script"===r?((r=d.createElement("div")).innerHTML="<script><\/script>",d=r.removeChild(r.firstChild)):"string"===typeof f.is?d=d.createElement(r,{is:f.is}):(d=d.createElement(r),"select"===r&&f.multiple&&(d.multiple=!0)):d=d.createElementNS(u,r),(r=d)[P]=h,r[R]=s;e:for(h=r,f=t,d=f.child;null!==d;){if(7===d.tag||8===d.tag)h.appendChild(d.stateNode);else if(6!==d.tag&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===f)break;for(;null===d.sibling;){if(null===d.return||d.return===f)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}f=r;var p=l,m=ui(d=c,h=s);switch(d){case"iframe":case"object":kn("load",f),l=h;break;case"video":case"audio":for(l=0;l<ie.length;l++)kn(ie[l],f);l=h;break;case"source":kn("error",f),l=h;break;case"img":case"image":case"link":kn("error",f),kn("load",f),l=h;break;case"form":kn("reset",f),kn("submit",f),l=h;break;case"details":kn("toggle",f),l=h;break;case"input":wt(f,h),l=vt(f,h),kn("invalid",f),di(p,"onChange");break;case"option":l=Gn(f,h);break;case"select":f._wrapperState={wasMultiple:!!h.multiple},l=o({},h,{value:void 0}),kn("invalid",f),di(p,"onChange");break;case"textarea":Zn(f,h),l=Yn(f,h),kn("invalid",f),di(p,"onChange");break;default:l=h}ci(d,l),u=void 0;var g=d,b=f,y=l;for(u in y)if(y.hasOwnProperty(u)){var w=y[u];"style"===u?si(b,w):"dangerouslySetInnerHTML"===u?null!=(w=w?w.__html:void 0)&&ii(b,w):"children"===u?"string"===typeof w?("textarea"!==g||""!==w)&&oi(b,w):"number"===typeof w&&oi(b,""+w):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(v.hasOwnProperty(u)?null!=w&&di(p,u):null!=w&&bt(b,u,w,m))}switch(d){case"input":Ue(f),Ct(f,h,!1);break;case"textarea":Ue(f),Xn(f);break;case"option":null!=h.value&&f.setAttribute("value",""+yt(h.value));break;case"select":(l=f).multiple=!!h.multiple,null!=(f=h.value)?Kn(l,!!h.multiple,f,!1):null!=h.defaultValue&&Kn(l,!!h.multiple,h.defaultValue,!0);break;default:"function"===typeof l.onClick&&(f.onclick=hi)}(s=mi(c,s))&&nr(t),t.stateNode=r}null!==t.ref&&(t.effectTag|=128)}else null===t.stateNode&&a("166");break;case 8:r&&null!=t.stateNode?rr(r,t,r.memoizedProps,s):("string"!==typeof s&&(null===t.stateNode&&a("166")),r=vo(yo.current),vo(go.current),zo(t)?(c=(s=t).stateNode,r=s.memoizedProps,c[P]=s,(s=c.nodeValue!==r)&&nr(t)):(c=t,(s=(9===r.nodeType?r:r.ownerDocument).createTextNode(s))[P]=c,t.stateNode=s));break;case 13:case 14:case 16:case 9:case 10:case 15:break;case 6:_o(),ir(t);break;case 12:ho(t);break;case 11:break;case 4:a("167");default:a("156")}if(t=_r=null,s=e,1073741823===Cr||1073741823!==s.childExpirationTime){for(c=0,r=s.child;null!==r;)l=r.expirationTime,h=r.childExpirationTime,(0===c||0!==l&&l<c)&&(c=l),(0===c||0!==h&&h<c)&&(c=h),r=r.sibling;s.childExpirationTime=c}if(null!==t)return t;null!==n&&0===(512&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{if(null!==(e=mr(e)))return e.effectTag&=511,e;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=512)}if(null!==i)return i;if(null===n)break;e=n}return null}function Ir(e){var t=tr(e.alternate,e,Cr);return null===t&&(t=Lr(e)),br.current=null,t}function Er(e,t,n){wr&&a("243"),wr=!0,br.currentDispatcher=gr;var i=e.nextExpirationTimeToWorkOn;i===Cr&&e===Sr&&null!==_r||(Nr(),Cr=i,_r=Vi((Sr=e).current,null,Cr),e.pendingCommitExpirationTime=0);for(var o=!1;;){try{if(t)for(;null!==_r&&!fa();)_r=Ir(_r);else for(;null!==_r;)_r=Ir(_r)}catch(e){if(null===_r)o=!0,pa(e);else{null===_r&&a("271");var r=_r,s=r.return;if(null!==s){e:{var l=s,c=r,u=e;s=Cr,c.effectTag|=512,c.firstEffect=c.lastEffect=null,xr=!0,u=ro(u,c);do{switch(l.tag){case 5:l.effectTag|=1024,l.expirationTime=s,Ji(l,s=fr(l,u,s));break e;case 2:case 3:c=u;var d=l.stateNode;if(0===(64&l.effectTag)&&null!==d&&"function"===typeof d.componentDidCatch&&(null===Or||!Or.has(d))){l.effectTag|=1024,l.expirationTime=s,Ji(l,s=pr(l,c,s));break e}}l=l.return}while(null!==l)}_r=Lr(r);continue}o=!0,pa(e)}}break}if(wr=!1,co=lo=so=br.currentDispatcher=null,o)Sr=null,e.finishedWork=null;else if(null!==_r)e.finishedWork=null;else{if(null===(t=e.current.alternate)&&a("281"),Sr=null,xr){if(o=e.latestPendingTime,r=e.latestSuspendedTime,s=e.latestPingedTime,0!==o&&o>i||0!==r&&r>i||0!==s&&s>i)return e.didError=!1,0!==(n=e.latestPingedTime)&&n<=i&&(e.latestPingedTime=0),n=e.earliestPendingTime,t=e.latestPendingTime,n===i?e.earliestPendingTime=t===i?e.latestPendingTime=0:t:t===i&&(e.latestPendingTime=n),n=e.earliestSuspendedTime,t=e.latestSuspendedTime,0===n?e.earliestSuspendedTime=e.latestSuspendedTime=i:n>i?e.earliestSuspendedTime=i:t<i&&(e.latestSuspendedTime=i),Gi(i,e),void(e.expirationTime=e.expirationTime);if(!e.didError&&!n)return e.didError=!0,e.nextExpirationTimeToWorkOn=i,i=e.expirationTime=1,void(e.expirationTime=i)}e.pendingCommitExpirationTime=i,e.finishedWork=t}}function Dr(e,t){var n;e:{for(wr&&!Tr&&a("263"),n=e.return;null!==n;){switch(n.tag){case 2:case 3:var i=n.stateNode;if("function"===typeof n.type.getDerivedStateFromCatch||"function"===typeof i.componentDidCatch&&(null===Or||!Or.has(i))){Qi(n,e=pr(n,e=ro(t,e),1)),Mr(n,1),n=void 0;break e}break;case 5:Qi(n,e=fr(n,e=ro(t,e),1)),Mr(n,1),n=void 0;break e}n=n.return}5===e.tag&&(Qi(e,n=fr(e,n=ro(t,e),1)),Mr(e,1)),n=void 0}return n}function Ar(e,t){return 0!==vr?e=vr:wr?e=Tr?1:Cr:1&t.mode?(e=$r?2+10*(1+((e-2+15)/10|0)):2+25*(1+((e-2+500)/25|0)),null!==Sr&&e===Cr&&(e+=1)):e=1,$r&&(0===zr||e>zr)&&(zr=e),e}function Mr(e,t){e:{(0===e.expirationTime||e.expirationTime>t)&&(e.expirationTime=t);var n=e.alternate;null!==n&&(0===n.expirationTime||n.expirationTime>t)&&(n.expirationTime=t);var i=e.return;if(null===i&&5===e.tag)e=e.stateNode;else{for(;null!==i;){if(n=i.alternate,(0===i.childExpirationTime||i.childExpirationTime>t)&&(i.childExpirationTime=t),null!==n&&(0===n.childExpirationTime||n.childExpirationTime>t)&&(n.childExpirationTime=t),null===i.return&&5===i.tag){e=i.stateNode;break e}i=i.return}e=null}}null!==e&&(!wr&&0!==Cr&&t<Cr&&Nr(),qi(e,t),wr&&!Tr&&Sr===e||(t=e,e=e.expirationTime,null===t.nextScheduledRoot?(t.expirationTime=e,null===Fr?(Rr=Fr=t,t.nextScheduledRoot=t):(Fr=Fr.nextScheduledRoot=t).nextScheduledRoot=Rr):(0===(n=t.expirationTime)||e<n)&&(t.expirationTime=e),Vr||(Yr?Zr&&(Br=t,Hr=1,da(t,1,!0)):1===e?ua(1,null):aa(t,e))),na>ta&&(na=0,a("185")))}function Pr(e,t,n,i,o){var r=vr;vr=1;try{return e(t,n,i,o)}finally{vr=r}}var Rr=null,Fr=null,jr=0,Wr=void 0,Vr=!1,Br=null,Hr=0,zr=0,Ur=!1,qr=!1,Gr=null,Kr=null,Yr=!1,Zr=!1,$r=!1,Xr=null,Qr=r.unstable_now(),Jr=2+(Qr/10|0),ea=Jr,ta=50,na=0,ia=null,oa=1;function ra(){Jr=2+((r.unstable_now()-Qr)/10|0)}function aa(e,t){if(0!==jr){if(t>jr)return;null!==Wr&&r.unstable_cancelScheduledWork(Wr)}jr=t,e=r.unstable_now()-Qr,Wr=r.unstable_scheduleWork(ca,{timeout:10*(t-2)-e})}function sa(){return Vr?ea:(la(),0!==Hr&&1073741823!==Hr||(ra(),ea=Jr),ea)}function la(){var e=0,t=null;if(null!==Fr)for(var n=Fr,i=Rr;null!==i;){var o=i.expirationTime;if(0===o){if((null===n||null===Fr)&&a("244"),i===i.nextScheduledRoot){Rr=Fr=i.nextScheduledRoot=null;break}if(i===Rr)Rr=o=i.nextScheduledRoot,Fr.nextScheduledRoot=o,i.nextScheduledRoot=null;else{if(i===Fr){(Fr=n).nextScheduledRoot=Rr,i.nextScheduledRoot=null;break}n.nextScheduledRoot=i.nextScheduledRoot,i.nextScheduledRoot=null}i=n.nextScheduledRoot}else{if((0===e||o<e)&&(e=o,t=i),i===Fr)break;if(1===e)break;n=i,i=i.nextScheduledRoot}}Br=t,Hr=e}function ca(e){if(e.didTimeout&&null!==Rr){ra();var t=Rr;do{var n=t.expirationTime;0!==n&&Jr>=n&&(t.nextExpirationTimeToWorkOn=Jr),t=t.nextScheduledRoot}while(t!==Rr)}ua(0,e)}function ua(e,t){if(Kr=t,la(),null!==Kr)for(ra(),ea=Jr;null!==Br&&0!==Hr&&(0===e||e>=Hr)&&(!Ur||Jr>=Hr);)da(Br,Hr,Jr>=Hr),la(),ra(),ea=Jr;else for(;null!==Br&&0!==Hr&&(0===e||e>=Hr);)da(Br,Hr,!0),la();if(null!==Kr&&(jr=0,Wr=null),0!==Hr&&aa(Br,Hr),Kr=null,Ur=!1,na=0,ia=null,null!==Xr)for(e=Xr,Xr=null,t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(e){qr||(qr=!0,Gr=e)}}if(qr)throw e=Gr,Gr=null,qr=!1,e}function da(e,t,n){if(Vr&&a("245"),Vr=!0,null===Kr||n){var i=e.finishedWork;null!==i?ha(e,i,t):(e.finishedWork=null,Er(e,!1,n),null!==(i=e.finishedWork)&&ha(e,i,t))}else null!==(i=e.finishedWork)?ha(e,i,t):(e.finishedWork=null,Er(e,!0,n),null!==(i=e.finishedWork)&&(fa()?e.finishedWork=i:ha(e,i,t)));Vr=!1}function ha(e,t,n){var i=e.firstBatch;if(null!==i&&i._expirationTime<=n&&(null===Xr?Xr=[i]:Xr.push(i),i._defer))return e.finishedWork=t,void(e.expirationTime=0);e.finishedWork=null,e===ia?na++:(ia=e,na=0),Tr=wr=!0,e.current===t&&a("177"),0===(n=e.pendingCommitExpirationTime)&&a("261"),e.pendingCommitExpirationTime=0,i=t.expirationTime;var o=t.childExpirationTime;if(i=0===i||0!==o&&o<i?o:i,e.didError=!1,0===i?(e.earliestPendingTime=0,e.latestPendingTime=0,e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0):(0!==(o=e.latestPendingTime)&&(o<i?e.earliestPendingTime=e.latestPendingTime=0:e.earliestPendingTime<i&&(e.earliestPendingTime=e.latestPendingTime)),0===(o=e.earliestSuspendedTime)?qi(e,i):i>e.latestSuspendedTime?(e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0,qi(e,i)):i<o&&qi(e,i)),Gi(0,e),br.current=null,1<t.effectTag?null!==t.lastEffect?(t.lastEffect.nextEffect=t,i=t.firstEffect):i=t:i=t.firstEffect,fi=xn,Fn(o=Rn())){if("selectionStart"in o)var r={start:o.selectionStart,end:o.selectionEnd};else e:{var s=(r=(r=o.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(s&&0!==s.rangeCount){r=s.anchorNode;var l=s.anchorOffset,c=s.focusNode;s=s.focusOffset;try{r.nodeType,c.nodeType}catch(e){r=null;break e}var u=0,d=-1,h=-1,f=0,p=0,m=o,g=null;t:for(;;){for(var b;m!==r||0!==l&&3!==m.nodeType||(d=u+l),m!==c||0!==s&&3!==m.nodeType||(h=u+s),3===m.nodeType&&(u+=m.nodeValue.length),null!==(b=m.firstChild);)g=m,m=b;for(;;){if(m===o)break t;if(g===r&&++f===l&&(d=u),g===c&&++p===s&&(h=u),null!==(b=m.nextSibling))break;g=(m=g).parentNode}m=b}r=-1===d||-1===h?null:{start:d,end:h}}else r=null}r=r||{start:0,end:0}}else r=null;for(pi={focusedElem:o,selectionRange:r},xn=!1,kr=i;null!==kr;){o=!1,r=void 0;try{for(;null!==kr;){if(256&kr.effectTag){var y=kr.alternate;e:switch(l=kr,l.tag){case 2:case 3:if(256&l.effectTag&&null!==y){var v=y.memoizedProps,w=y.memoizedState,_=l.stateNode;_.props=l.memoizedProps,_.state=l.memoizedState;var S=_.getSnapshotBeforeUpdate(v,w);_.__reactInternalSnapshotBeforeUpdate=S}break e;case 5:case 7:case 8:case 6:break e;default:a("163")}}kr=kr.nextEffect}}catch(e){o=!0,r=e}o&&(null===kr&&a("178"),Dr(kr,r),null!==kr&&(kr=kr.nextEffect))}for(kr=i;null!==kr;){y=!1,v=void 0;try{for(;null!==kr;){var C=kr.effectTag;if(16&C&&oi(kr.stateNode,""),128&C){var x=kr.alternate;if(null!==x){var k=x.ref;null!==k&&("function"===typeof k?k(null):k.current=null)}}switch(14&C){case 2:ur(kr),kr.effectTag&=-3;break;case 6:ur(kr),kr.effectTag&=-3,hr(kr.alternate,kr);break;case 4:hr(kr.alternate,kr);break;case 8:dr(w=kr),w.return=null,w.child=null,w.alternate&&(w.alternate.child=null,w.alternate.return=null)}kr=kr.nextEffect}}catch(e){y=!0,v=e}y&&(null===kr&&a("178"),Dr(kr,v),null!==kr&&(kr=kr.nextEffect))}if(k=pi,x=Rn(),C=k.focusedElem,v=k.selectionRange,x!==C&&C&&C.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(C.ownerDocument.documentElement,C)){null!==v&&Fn(C)&&(x=v.start,void 0===(k=v.end)&&(k=x),"selectionStart"in C?(C.selectionStart=x,C.selectionEnd=Math.min(k,C.value.length)):(x=((y=C.ownerDocument||document)?y.defaultView:window).getSelection(),w=C.textContent.length,k=Math.min(v.start,w),v=void 0===v.end?k:Math.min(v.end,w),!x.extend&&k>v&&(w=v,v=k,k=w),w=Pn(C,k),_=Pn(C,v),w&&_&&(1!==x.rangeCount||x.anchorNode!==w.node||x.anchorOffset!==w.offset||x.focusNode!==_.node||x.focusOffset!==_.offset)&&((y=y.createRange()).setStart(w.node,w.offset),x.removeAllRanges(),k>v?(x.addRange(y),x.extend(_.node,_.offset)):(y.setEnd(_.node,_.offset),x.addRange(y))))),x=[];for(k=C;k=k.parentNode;)1===k.nodeType&&x.push({element:k,left:k.scrollLeft,top:k.scrollTop});for("function"===typeof C.focus&&C.focus(),C=0;C<x.length;C++)(k=x[C]).element.scrollLeft=k.left,k.element.scrollTop=k.top}for(pi=null,xn=!!fi,fi=null,e.current=t,kr=i;null!==kr;){i=!1,C=void 0;try{for(x=n;null!==kr;){var T=kr.effectTag;if(36&T){var O=kr.alternate;switch(y=x,(k=kr).tag){case 2:case 3:var N=k.stateNode;if(4&k.effectTag)if(null===O)N.props=k.memoizedProps,N.state=k.memoizedState,N.componentDidMount();else{var L=O.memoizedProps,I=O.memoizedState;N.props=k.memoizedProps,N.state=k.memoizedState,N.componentDidUpdate(L,I,N.__reactInternalSnapshotBeforeUpdate)}var E=k.updateQueue;null!==E&&(N.props=k.memoizedProps,N.state=k.memoizedState,io(0,E,N));break;case 5:var D=k.updateQueue;if(null!==D){if(v=null,null!==k.child)switch(k.child.tag){case 7:v=k.child.stateNode;break;case 2:case 3:v=k.child.stateNode}io(0,D,v)}break;case 7:var A=k.stateNode;null===O&&4&k.effectTag&&mi(k.type,k.memoizedProps)&&A.focus();break;case 8:case 6:case 15:case 16:break;default:a("163")}}if(128&T){var M=kr.ref;if(null!==M){var P=kr.stateNode;switch(kr.tag){case 7:var R=P;break;default:R=P}"function"===typeof M?M(R):M.current=R}}var F=kr.nextEffect;kr.nextEffect=null,kr=F}}catch(e){i=!0,C=e}i&&(null===kr&&a("178"),Dr(kr,C),null!==kr&&(kr=kr.nextEffect))}wr=Tr=!1,"function"===typeof Pi&&Pi(t.stateNode),T=t.expirationTime,t=t.childExpirationTime,0===(t=0===T||0!==t&&t<T?t:T)&&(Or=null),e.expirationTime=t,e.finishedWork=null}function fa(){return!!Ur||!(null===Kr||Kr.timeRemaining()>oa)&&(Ur=!0)}function pa(e){null===Br&&a("246"),Br.expirationTime=0,qr||(qr=!0,Gr=e)}function ma(e,t){var n=Yr;Yr=!0;try{return e(t)}finally{(Yr=n)||Vr||ua(1,null)}}function ga(e,t){if(Yr&&!Zr){Zr=!0;try{return e(t)}finally{Zr=!1}}return e(t)}function ba(e,t,n){if($r)return e(t,n);Yr||Vr||0===zr||(ua(zr,null),zr=0);var i=$r,o=Yr;Yr=$r=!0;try{return e(t,n)}finally{$r=i,(Yr=o)||Vr||ua(1,null)}}function ya(e,t,n,i,o){var r=t.current;return n=function(e){if(!e)return Ci;e=e._reactInternalFiber;e:{(2!==tn(e)||2!==e.tag&&3!==e.tag)&&a("170");var t=e;do{switch(t.tag){case 5:t=t.stateNode.context;break e;case 2:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}break;case 3:if(Ni(t.type._reactResult)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);a("171"),t=void 0}if(2===e.tag){var n=e.type;if(Ni(n))return Di(e,n,t)}else if(3===e.tag&&Ni(n=e.type._reactResult))return Di(e,n,t);return t}(n),null===t.context?t.context=n:t.pendingContext=n,t=o,(o=$i(i)).payload={element:e},null!==(t=void 0===t?null:t)&&(o.callback=t),Qi(r,o),Mr(r,i),i}function va(e,t,n,i){var o=t.current;return ya(e,t,n,o=Ar(sa(),o),i)}function wa(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 7:default:return e.child.stateNode}}function _a(e){var t=2+25*(1+((sa()-2+500)/25|0));t<=yr&&(t=yr+1),this._expirationTime=yr=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Sa(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Ca(e,t,n){e={current:t=new ji(5,null,null,t?3:0),containerInfo:e,pendingChildren:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:n,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=t.stateNode=e}function xa(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ka(e,t,n,i,o){xa(n)||a("200");var r=n._reactRootContainer;if(r){if("function"===typeof o){var s=o;o=function(){var e=wa(r._internalRoot);s.call(e)}}null!=e?r.legacy_renderSubtreeIntoContainer(e,t,o):r.render(t,o)}else{if(r=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Ca(e,!1,t)}(n,i),"function"===typeof o){var l=o;o=function(){var e=wa(r._internalRoot);l.call(e)}}ga(function(){null!=e?r.legacy_renderSubtreeIntoContainer(e,t,o):r.render(t,o)})}return wa(r._internalRoot)}function Ta(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return xa(t)||a("200"),function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:$e,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Ne=function(e,t,n){switch(t){case"input":if(St(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=V(i);o||a("90"),qe(i),St(i,o)}}}break;case"textarea":$n(e,n);break;case"select":null!=(t=n.value)&&Kn(e,!!n.multiple,t,!1)}},_a.prototype.render=function(e){this._defer||a("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,i=new Sa;return ya(e,t,null,n,i._onCommit),i},_a.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},_a.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||a("251"),this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var i=null,o=t;o!==this;)i=o,o=o._next;null===i&&a("251"),i._next=o._next,this._next=t,e.firstBatch=this}this._defer=!1,t=n,Vr&&a("253"),Br=e,Hr=t,da(e,t,!0),ua(1,null),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},_a.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},Sa.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Sa.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!==typeof n&&a("191",n),n()}}},Ca.prototype.render=function(e,t){var n=this._internalRoot,i=new Sa;return null!==(t=void 0===t?null:t)&&i.then(t),va(e,n,null,i._onCommit),i},Ca.prototype.unmount=function(e){var t=this._internalRoot,n=new Sa;return null!==(e=void 0===e?null:e)&&n.then(e),va(null,t,null,n._onCommit),n},Ca.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var i=this._internalRoot,o=new Sa;return null!==(n=void 0===n?null:n)&&o.then(n),va(t,i,e,o._onCommit),o},Ca.prototype.createBatch=function(){var e=new _a(this),t=e._expirationTime,n=this._internalRoot,i=n.firstBatch;if(null===i)n.firstBatch=e,e._next=null;else{for(n=null;null!==i&&i._expirationTime<=t;)n=i,i=i._next;e._next=i,null!==n&&(n._next=e)}return e},Me=ma,Pe=ba,Re=function(){Vr||0===zr||(ua(zr,null),zr=0)};var Oa={createPortal:Ta,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;return void 0===t&&("function"===typeof e.render?a("188"):a("268",Object.keys(e))),e=null===(e=on(t))?null:e.stateNode},hydrate:function(e,t,n){return ka(null,e,t,!0,n)},render:function(e,t,n){return ka(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,i){return(null==e||void 0===e._reactInternalFiber)&&a("38"),ka(e,t,n,!1,i)},unmountComponentAtNode:function(e){return xa(e)||a("40"),!!e._reactRootContainer&&(ga(function(){ka(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return Ta.apply(void 0,arguments)},unstable_batchedUpdates:ma,unstable_interactiveUpdates:ba,flushSync:function(e,t){Vr&&a("187");var n=Yr;Yr=!0;try{return Pr(e,t)}finally{Yr=n,ua(1,null)}},unstable_flushControlled:function(e){var t=Yr;Yr=!0;try{Pr(e)}finally{(Yr=t)||Vr||ua(1,null)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[j,W,V,E.injectEventPluginsByName,y,G,function(e){T(e,q)},De,Ae,Nn,A]},unstable_createRoot:function(e,t){return xa(e)||a("278"),new Ca(e,!0,null!=t&&!0===t.hydrate)}};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Pi=Fi(function(e){return t.onCommitFiberRoot(n,e)}),Ri=Fi(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){}})(o({},e,{findHostInstanceByFiber:function(e){return null===(e=on(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}({findFiberByHostInstance:F,bundleType:0,version:"16.5.1",rendererPackageName:"react-dom"});var Na={default:Oa},La=Na&&Oa||Na;e.exports=La.default||La},function(e,t,n){"use strict";e.exports=n(179)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=!("undefined"===typeof window||!window.document||!window.document.createElement),o=Date,r="function"===typeof setTimeout?setTimeout:void 0,a="function"===typeof clearTimeout?clearTimeout:void 0,s="function"===typeof requestAnimationFrame?requestAnimationFrame:void 0,l="function"===typeof cancelAnimationFrame?cancelAnimationFrame:void 0,c="object"===typeof performance&&"function"===typeof performance.now;if(t.unstable_now=void 0,c){var u=performance;t.unstable_now=function(){return u.now()}}else t.unstable_now=function(){return o.now()};if(t.unstable_scheduleWork=void 0,t.unstable_cancelScheduledWork=void 0,i){var d=null,h=null,f=-1,p=!1,m=!1,g=void 0,b=void 0,y=function(e){g=s(function(t){a(b),e(t)}),b=r(function(){l(g),e(t.unstable_now())},100)},v=0,w=33,_=33,S={didTimeout:!1,timeRemaining:function(){var e=v-t.unstable_now();return 0<e?e:0}},C=function(e,n){var i=e.scheduledCallback,o=!1;try{i(n),o=!0}finally{t.unstable_cancelScheduledWork(e),o||(p=!0,window.postMessage(x,"*"))}},x="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(e){if(e.source===window&&e.data===x&&(p=!1,null!==d)){if(null!==d){var n=t.unstable_now();if(!(-1===f||f>n)){e=-1;for(var i=[],o=d;null!==o;){var r=o.timeoutTime;-1!==r&&r<=n?i.push(o):-1!==r&&(-1===e||r<e)&&(e=r),o=o.next}if(0<i.length)for(S.didTimeout=!0,n=0,o=i.length;n<o;n++)C(i[n],S);f=e}}for(e=t.unstable_now();0<v-e&&null!==d;)e=d,S.didTimeout=!1,C(e,S),e=t.unstable_now();null===d||m||(m=!0,y(k))}},!1);var k=function(e){m=!1;var t=e-v+_;t<_&&w<_?(8>t&&(t=8),_=t<w?w:t):w=t,v=e+_,p||(p=!0,window.postMessage(x,"*"))};t.unstable_scheduleWork=function(e,n){var i=-1;return null!=n&&"number"===typeof n.timeout&&(i=t.unstable_now()+n.timeout),(-1===f||-1!==i&&i<f)&&(f=i),e={scheduledCallback:e,timeoutTime:i,prev:null,next:null},null===d?d=e:null!==(n=e.prev=h)&&(n.next=e),h=e,m||(m=!0,y(k)),e},t.unstable_cancelScheduledWork=function(e){if(null!==e.prev||d===e){var t=e.next,n=e.prev;e.next=null,e.prev=null,null!==t?null!==n?(n.next=t,t.prev=n):(t.prev=null,d=t):null!==n?(n.next=null,h=n):h=d=null}}}else{var T=new Map;t.unstable_scheduleWork=function(e){var t={scheduledCallback:e,timeoutTime:0,next:null,prev:null},n=r(function(){e({timeRemaining:function(){return 1/0},didTimeout:!1})});return T.set(e,n),t},t.unstable_cancelScheduledWork=function(e){var t=T.get(e.scheduledCallback);T.delete(e),a(t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return[].slice.call(e.querySelectorAll("*"),0).filter(a)};var i=/input|select|textarea|button|object/;function o(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;var n=window.getComputedStyle(e);return t?"visible"!==n.getPropertyValue("overflow"):"none"==n.getPropertyValue("display")}function r(e,t){var n=e.nodeName.toLowerCase();return(i.test(n)&&!e.disabled||"a"===n&&e.href||t)&&function(e){for(var t=e;t&&t!==document.body;){if(o(t))return!1;t=t.parentNode}return!0}(e)}function a(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var n=isNaN(t);return(n||t>=0)&&r(e,!n)}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertNodeList=l,t.setElement=function(e){var t=e;if("string"===typeof t&&a.canUseDOM){var n=document.querySelectorAll(t);l(n,t),t="length"in n?n[0]:n}return s=t||s},t.validateElement=c,t.hide=function(e){c(e)&&(e||s).setAttribute("aria-hidden","true")},t.show=function(e){c(e)&&(e||s).removeAttribute("aria-hidden")},t.documentNotReadyOrSSRTesting=function(){s=null},t.resetForTesting=function(){s=null};var i,o=n(214),r=(i=o)&&i.__esModule?i:{default:i},a=n(134);var s=null;function l(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function c(e){return!(!e&&!s)||((0,r.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),!1)}},function(e,t,n){"use strict";n.r(t);var i=n(17);function o(e,t){switch(void 0===t&&(t=0),typeof e){case"object":return null===e?r(349,t):Array.isArray(e)?(n=e,i=r(104579,i=t),n.reduce(function(e,t){return o(t,e)},i)):function(e,t){return t=r(181387,t),Object.keys(e).sort().reduce(function(t,n){return t=a(n,t),o(e[n],t)},t)}(e,t);case"string":return a(e,t);case"boolean":return function(e,t){return r(e?433:863,t)}(e,t);case"number":return r(e,t);case"undefined":return r(e,937);default:return r(e,617)}var n,i}function r(e,t){return(t<<5)-t+e|0}function a(e,t){t=r(149417,t);for(var n=0,i=e.length;n<i;n++)t=r(e.charCodeAt(n),t);return t}var s=n(7),l=n(3),c=n(2),u=n(12),d=n(39),h=n(186),f=n(52),p=n(30),m=n(20),g=n(15);n.d(t,"ColorDetector",function(){return v});var b=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},y=function(e,t){return function(n,i){t(n,i,e)}},v=function(){function e(e,t,n){var i=this;this._editor=e,this._codeEditorService=t,this._configurationService=n,this._globalToDispose=[],this._localToDispose=[],this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=[],this._decorationsTypes={},this._globalToDispose.push(e.onDidChangeModel(function(e){i._isEnabled=i.isEnabled(),i.onModelChanged()})),this._globalToDispose.push(e.onDidChangeModelLanguage(function(e){return i.onModelChanged()})),this._globalToDispose.push(u.d.onDidChange(function(e){return i.onModelChanged()})),this._globalToDispose.push(e.onDidChangeConfiguration(function(e){var t=i._isEnabled;i._isEnabled=i.isEnabled(),t!==i._isEnabled&&(i._isEnabled?i.onModelChanged():i.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}return e.prototype.isEnabled=function(){var e=this._editor.getModel();if(!e)return!1;var t=e.getLanguageIdentifier(),n=this._configurationService.getValue(t.language);if(n){var i=n.colorDecorators;if(i&&void 0!==i.enable&&!i.enable)return i.enable}return this._editor.getConfiguration().contribInfo.colorDecorators},e.prototype.getId=function(){return e.ID},e.get=function(e){return e.getContribution(this.ID)},e.prototype.dispose=function(){this.stop(),this.removeAllDecorations(),this._globalToDispose=Object(s.d)(this._globalToDispose)},e.prototype.onModelChanged=function(){var t=this;if(this.stop(),this._isEnabled){var n=this._editor.getModel();u.d.has(n)&&(this._localToDispose.push(this._editor.onDidChangeModelContent(function(n){t._timeoutTimer||(t._timeoutTimer=new m.f,t._timeoutTimer.cancelAndSet(function(){t._timeoutTimer=null,t.beginCompute()},e.RECOMPUTE_TIME))})),this.beginCompute())}},e.prototype.beginCompute=function(){var e=this;this._computePromise=Object(m.i)(function(t){return Object(h.b)(e._editor.getModel(),t)}),this._computePromise.then(function(t){e.updateDecorations(t),e.updateColorDecorators(t),e._computePromise=null},g.e)},e.prototype.stop=function(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose=Object(s.d)(this._localToDispose)},e.prototype.updateDecorations=function(e){var t=this,n=e.map(function(e){return{range:{startLineNumber:e.colorInfo.range.startLineNumber,startColumn:e.colorInfo.range.startColumn,endLineNumber:e.colorInfo.range.endLineNumber,endColumn:e.colorInfo.range.endColumn},options:p.a.EMPTY}});this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,n),this._colorDatas=new Map,this._decorationsIds.forEach(function(n,i){return t._colorDatas.set(n,e[i])})},e.prototype.updateColorDecorators=function(e){for(var t=[],n={},r=0;r<e.length&&t.length<500;r++){var a=e[r].colorInfo.color,s=a.red,l=a.green,c=a.blue,u=a.alpha,d=new i.c(Math.round(255*s),Math.round(255*l),Math.round(255*c),u),h=o(d).toString(16),f="rgba("+d.r+", "+d.g+", "+d.b+", "+d.a+")",p="colorBox-"+h;this._decorationsTypes[p]||n[p]||this._codeEditorService.registerDecorationType(p,{before:{contentText:" ",border:"solid 0.1em #000",margin:"0.1em 0.2em 0 0.2em",width:"0.8em",height:"0.8em",backgroundColor:f},dark:{before:{border:"solid 0.1em #eee"}}}),n[p]=!0,t.push({range:{startLineNumber:e[r].colorInfo.range.startLineNumber,startColumn:e[r].colorInfo.range.startColumn,endLineNumber:e[r].colorInfo.range.endLineNumber,endColumn:e[r].colorInfo.range.endColumn},options:this._codeEditorService.resolveDecorationOptions(p,!0)})}for(var m in this._decorationsTypes)n[m]||this._codeEditorService.removeDecorationType(m);this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,t)},e.prototype.removeAllDecorations=function(){for(var e in this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,[]),this._decorationsTypes)this._codeEditorService.removeDecorationType(e)},e.prototype.getColorData=function(e){var t=this,n=this._editor.getModel().getDecorationsInRange(c.a.fromPositions(e,e)).filter(function(e){return t._colorDatas.has(e.id)});return 0===n.length?null:this._colorDatas.get(n[0].id)},e.ID="editor.contrib.colorDetector",e.RECOMPUTE_TIME=1e3,e=b([y(1,d.a),y(2,f.b)],e)}();Object(l.h)(v)},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=!1,o=null;function r(e){if(!e.parent||e.parent===e)return null;try{var t=e.location,n=e.parent.location;if(t.protocol!==n.protocol||t.hostname!==n.hostname||t.port!==n.port)return i=!0,null}catch(e){return i=!0,null}return e.parent}function a(e,t){for(var n,i=e.document.getElementsByTagName("iframe"),o=0,r=i.length;o<r;o++)if((n=i[o]).contentWindow===t)return n;return null}var s=function(){function e(){}return e.getSameOriginWindowChain=function(){if(!o){o=[];var e,t=window;do{(e=r(t))?o.push({window:t,iframeElement:a(e,t)}):o.push({window:t,iframeElement:null}),t=e}while(t)}return o.slice(0)},e.hasDifferentOriginAncestor=function(){return o||this.getSameOriginWindowChain(),i},e.getPositionOfChildWindowRelativeToAncestorWindow=function(e,t){if(!t||e===t)return{top:0,left:0};for(var n=0,i=0,o=this.getSameOriginWindowChain(),r=0;r<o.length;r++){var a=o[r];if(a.window===t)break;if(!a.iframeElement)break;var s=a.iframeElement.getBoundingClientRect();n+=s.top,i+=s.left}return{top:n,left:i}},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return m});var i,o=n(20),r=n(26),a=n(9),s=n(5),l=n(7),c=n(89),u=n(28),d=n(18),h=n(1),f=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),p={forceCopyWithSyntaxHighlighting:!1},m=function(e){function t(t,n){var i=e.call(this)||this;i._onFocus=i._register(new s.a),i.onFocus=i._onFocus.event,i._onBlur=i._register(new s.a),i.onBlur=i._onBlur.event,i._onKeyDown=i._register(new s.a),i.onKeyDown=i._onKeyDown.event,i._onKeyUp=i._register(new s.a),i.onKeyUp=i._onKeyUp.event,i._onCut=i._register(new s.a),i.onCut=i._onCut.event,i._onPaste=i._register(new s.a),i.onPaste=i._onPaste.event,i._onType=i._register(new s.a),i.onType=i._onType.event,i._onCompositionStart=i._register(new s.a),i.onCompositionStart=i._onCompositionStart.event,i._onCompositionUpdate=i._register(new s.a),i.onCompositionUpdate=i._onCompositionUpdate.event,i._onCompositionEnd=i._register(new s.a),i.onCompositionEnd=i._onCompositionEnd.event,i._onSelectionChangeRequest=i._register(new s.a),i.onSelectionChangeRequest=i._onSelectionChangeRequest.event,i._host=t,i._textArea=i._register(new b(n)),i._lastTextAreaEvent=0,i._asyncTriggerCut=i._register(new o.c(function(){return i._onCut.fire()},0)),i._textAreaState=c.b.EMPTY,i.writeScreenReaderContent("ctor"),i._hasFocus=!1,i._isDoingComposition=!1,i._nextCommand=0,i._register(h.j(n.domNode,"keydown",function(e){!i._isDoingComposition||109!==e.keyCode&&1!==e.keyCode||e.stopPropagation(),e.equals(9)&&e.preventDefault(),i._onKeyDown.fire(e)})),i._register(h.j(n.domNode,"keyup",function(e){i._onKeyUp.fire(e)})),i._register(h.g(n.domNode,"compositionstart",function(e){i._lastTextAreaEvent=1,i._isDoingComposition||(i._isDoingComposition=!0,u.h||i._setAndWriteTextAreaState("compositionstart",c.b.EMPTY),i._onCompositionStart.fire())}));var l=function(e,t){var n=i._textAreaState,o=c.b.readFromTextArea(i._textArea);return[o,c.b.deduceInput(n,o,e,t)]},f=function(e){var t=i._textAreaState,n=c.b.selectedText(e);return[n,{text:n.value,replaceCharCnt:t.selectionEnd-t.selectionStart}]},p=function(e){return!(!u.h||"ja"!==e)||!(!u.k||0!==e.indexOf("zh-Han"))};i._register(h.g(n.domNode,"compositionupdate",function(e){if(i._lastTextAreaEvent=2,p(e.locale)){var t=l(!1,!1),n=t[0],o=t[1];return i._textAreaState=n,i._onType.fire(o),void i._onCompositionUpdate.fire(e)}var r=f(e.data),a=r[0],s=r[1];i._textAreaState=a,i._onType.fire(s),i._onCompositionUpdate.fire(e)})),i._register(h.g(n.domNode,"compositionend",function(e){if(i._lastTextAreaEvent=3,p(e.locale)){var t=l(!1,!1),n=t[0],o=t[1];i._textAreaState=n,i._onType.fire(o)}else{var r=f(e.data);n=r[0],o=r[1];i._textAreaState=n,i._onType.fire(o)}(u.h||u.f)&&(i._textAreaState=c.b.readFromTextArea(i._textArea)),i._isDoingComposition&&(i._isDoingComposition=!1,i._onCompositionEnd.fire())})),i._register(h.g(n.domNode,"input",function(){var e=8===i._lastTextAreaEvent;if(i._lastTextAreaEvent=4,i._textArea.setIgnoreSelectionChangeTime("received input event"),!i._isDoingComposition){var t=l(d.d,e&&d.d),n=t[0],o=t[1];0===o.replaceCharCnt&&1===o.text.length&&a.isHighSurrogate(o.text.charCodeAt(0))||(i._textAreaState=n,0===i._nextCommand?""!==o.text&&i._onType.fire(o):(""!==o.text&&i._onPaste.fire({text:o.text}),i._nextCommand=0))}})),i._register(h.g(n.domNode,"cut",function(e){i._lastTextAreaEvent=5,i._textArea.setIgnoreSelectionChangeTime("received cut event"),i._ensureClipboardGetsEditorSelection(e),i._asyncTriggerCut.schedule()})),i._register(h.g(n.domNode,"copy",function(e){i._lastTextAreaEvent=6,i._ensureClipboardGetsEditorSelection(e)})),i._register(h.g(n.domNode,"paste",function(e){if(i._lastTextAreaEvent=7,i._textArea.setIgnoreSelectionChangeTime("received paste event"),g.canUseTextData(e)){var t=g.getTextData(e);""!==t&&i._onPaste.fire({text:t})}else i._textArea.getSelectionStart()!==i._textArea.getSelectionEnd()&&i._setAndWriteTextAreaState("paste",c.b.EMPTY),i._nextCommand=1})),i._register(h.g(n.domNode,"focus",function(){i._lastTextAreaEvent=8,i._setHasFocus(!0)})),i._register(h.g(n.domNode,"blur",function(){i._lastTextAreaEvent=9,i._setHasFocus(!1)}));var m=0;return i._register(h.g(document,"selectionchange",function(e){if(i._hasFocus&&!i._isDoingComposition&&u.f&&d.g){var t=Date.now(),n=t-m;if(m=t,!(n<5)){var o=t-i._textArea.getIgnoreSelectionChangeTime();if(i._textArea.resetSelectionChangeTime(),!(o<100)&&i._textAreaState.selectionStartPosition&&i._textAreaState.selectionEndPosition){var a=i._textArea.getValue();if(i._textAreaState.value===a){var s=i._textArea.getSelectionStart(),l=i._textArea.getSelectionEnd();if(i._textAreaState.selectionStart!==s||i._textAreaState.selectionEnd!==l){var c=i._textAreaState.deduceEditorPosition(s),h=i._host.deduceModelPosition(c[0],c[1],c[2]),f=i._textAreaState.deduceEditorPosition(l),p=i._host.deduceModelPosition(f[0],f[1],f[2]),g=new r.a(h.lineNumber,h.column,p.lineNumber,p.column);i._onSelectionChangeRequest.fire(g)}}}}}})),i}return f(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.focusTextArea=function(){this._setHasFocus(!0)},t.prototype.isFocused=function(){return this._hasFocus},t.prototype._setHasFocus=function(e){this._hasFocus!==e&&(this._hasFocus=e,this._hasFocus&&(u.g?this._setAndWriteTextAreaState("focusgain",c.b.EMPTY):this.writeScreenReaderContent("focusgain")),this._hasFocus?this._onFocus.fire():this._onBlur.fire())},t.prototype._setAndWriteTextAreaState=function(e,t){this._hasFocus||(t=t.collapseSelection()),t.writeToTextArea(e,this._textArea,this._hasFocus),this._textAreaState=t},t.prototype.writeScreenReaderContent=function(e){this._isDoingComposition||this._setAndWriteTextAreaState(e,this._host.getScreenReaderContent(this._textAreaState))},t.prototype._ensureClipboardGetsEditorSelection=function(e){var t=this._host.getPlainTextToCopy();if(g.canUseTextData(e)){var n=null;u.e()&&(t.length<65536||p.forceCopyWithSyntaxHighlighting)&&(n=this._host.getHTMLToCopy()),g.setTextData(e,t,n)}else this._setAndWriteTextAreaState("copy or cut",c.b.selectedText(t))},t}(l.a),g=function(){function e(){}return e.canUseTextData=function(e){return!!e.clipboardData||!!window.clipboardData},e.getTextData=function(e){if(e.clipboardData)return e.preventDefault(),e.clipboardData.getData("text/plain");if(window.clipboardData)return e.preventDefault(),window.clipboardData.getData("Text");throw new Error("ClipboardEventUtils.getTextData: Cannot use text data!")},e.setTextData=function(e,t,n){if(e.clipboardData)return e.clipboardData.setData("text/plain",t),null!==n&&e.clipboardData.setData("text/html",n),void e.preventDefault();if(window.clipboardData)return window.clipboardData.setData("Text",t),void e.preventDefault();throw new Error("ClipboardEventUtils.setTextData: Cannot use text data!")},e}(),b=function(e){function t(t){var n=e.call(this)||this;return n._actual=t,n._ignoreSelectionChangeTime=0,n}return f(t,e),t.prototype.setIgnoreSelectionChangeTime=function(e){this._ignoreSelectionChangeTime=Date.now()},t.prototype.getIgnoreSelectionChangeTime=function(){return this._ignoreSelectionChangeTime},t.prototype.resetSelectionChangeTime=function(){this._ignoreSelectionChangeTime=0},t.prototype.getValue=function(){return this._actual.domNode.value},t.prototype.setValue=function(e,t){var n=this._actual.domNode;n.value!==t&&(this.setIgnoreSelectionChangeTime("setValue"),n.value=t)},t.prototype.getSelectionStart=function(){return this._actual.domNode.selectionStart},t.prototype.getSelectionEnd=function(){return this._actual.domNode.selectionEnd},t.prototype.setSelectionRange=function(e,t,n){var i=this._actual.domNode,o=document.activeElement===i,r=i.selectionStart,a=i.selectionEnd;if(o&&r===t&&a===n)u.j&&window.parent!==window&&i.focus();else{if(o)return this.setIgnoreSelectionChangeTime("setSelectionRange"),i.setSelectionRange(t,n),void(u.j&&window.parent!==window&&i.focus());try{var s=h.K(i);this.setIgnoreSelectionChangeTime("setSelectionRange"),i.focus(),i.setSelectionRange(t,n),h.I(i,s)}catch(e){}}},t}(l.a)},function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"a",function(){return h});var i=n(36),o=n(11),r=n(12),a=n(20),s=n(3),l=n(2),c=n(15),u=n(63);function d(e,t){var n=[],i=r.d.ordered(e).reverse().map(function(i){return Promise.resolve(i.provideDocumentColors(e,t)).then(function(e){if(Array.isArray(e))for(var t=0,o=e;t<o.length;t++){var r=o[t];n.push({colorInfo:r,provider:i})}})});return Promise.all(i).then(function(){return n})}function h(e,t,n,i){return Promise.resolve(n.provideColorPresentations(e,t,i))}Object(s.j)("_executeDocumentColorProvider",function(e,t){var n=t.resource;if(!(n instanceof i.a))throw Object(c.b)();var s=e.get(u.a).getModel(n);if(!s)throw Object(c.b)();var l=[],d=r.d.ordered(s).reverse().map(function(e){return Object(a.h)(function(t){return e.provideDocumentColors(s,t)}).then(function(e){if(Array.isArray(e))for(var t=0,n=e;t<n.length;t++){var i=n[t];l.push({range:i.range,color:[i.color.red,i.color.green,i.color.blue,i.color.alpha]})}})});return o.b.join(d).then(function(){return l})}),Object(s.j)("_executeColorPresentationProvider",function(e,t){var n=t.resource,s=t.color,d=t.range;if(!(n instanceof i.a)||!Array.isArray(s)||4!==s.length||!l.a.isIRange(d))throw Object(c.b)();var h=s[0],f=s[1],p=s[2],m=s[3],g=e.get(u.a).getModel(n);if(!g)throw Object(c.b)();var b={range:d,color:{red:h,green:f,blue:p,alpha:m}},y=[],v=r.d.ordered(g).reverse().map(function(e){return Object(a.h)(function(t){return e.provideColorPresentations(g,b,t)}).then(function(e){Array.isArray(e)&&y.push.apply(y,e)})});return o.b.join(v).then(function(){return y})})},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var i=n(46),o=n(23),r=n(2),a=n(67),s=n(9),l=function(){function e(){}return e.deleteRight=function(e,t,n,o){for(var s=[],l=3!==e,c=0,u=o.length;c<u;c++){var d=o[c],h=d;if(h.isEmpty()){var f=d.getPosition(),p=a.a.right(t,n,f.lineNumber,f.column);h=new r.a(p.lineNumber,p.column,f.lineNumber,f.column)}h.isEmpty()?s[c]=null:(h.startLineNumber!==h.endLineNumber&&(l=!0),s[c]=new i.a(h,""))}return[l,s]},e._isAutoClosingPairDelete=function(e,t,n){if(!e.autoClosingBrackets)return!1;for(var i=0,o=n.length;i<o;i++){var r=n[i],a=r.getPosition();if(!r.isEmpty())return!1;var s=t.getLineContent(a.lineNumber),l=s[a.column-2];if(!e.autoClosingPairsOpen.hasOwnProperty(l))return!1;if(s[a.column-1]!==e.autoClosingPairsOpen[l])return!1}return!0},e._runAutoClosingPairDelete=function(e,t,n){for(var o=[],a=0,s=n.length;a<s;a++){var l=n[a].getPosition(),c=new r.a(l.lineNumber,l.column-1,l.lineNumber,l.column+1);o[a]=new i.a(c,"")}return[!0,o]},e.deleteLeft=function(e,t,n,l){if(this._isAutoClosingPairDelete(t,n,l))return this._runAutoClosingPairDelete(t,n,l);for(var c=[],u=2!==e,d=0,h=l.length;d<h;d++){var f=l[d],p=f;if(p.isEmpty()){var m=f.getPosition();if(t.useTabStops&&m.column>1){var g=n.getLineContent(m.lineNumber),b=s.firstNonWhitespaceIndex(g),y=-1===b?g.length+1:b+1;if(m.column<=y){var v=o.a.visibleColumnFromColumn2(t,n,m),w=o.a.prevTabStop(v,t.tabSize),_=o.a.columnFromVisibleColumn2(t,n,m.lineNumber,w);p=new r.a(m.lineNumber,_,m.lineNumber,m.column)}else p=new r.a(m.lineNumber,m.column-1,m.lineNumber,m.column)}else{var S=a.a.left(t,n,m.lineNumber,m.column);p=new r.a(S.lineNumber,S.column,m.lineNumber,m.column)}}p.isEmpty()?c[d]=null:(p.startLineNumber!==p.endLineNumber&&(u=!0),c[d]=new i.a(p,""))}return[u,c]},e.cut=function(e,t,n){for(var a=[],s=0,l=n.length;s<l;s++){var c=n[s];if(c.isEmpty())if(e.emptySelectionClipboard){var u=c.getPosition(),d=void 0,h=void 0,f=void 0,p=void 0;u.lineNumber<t.getLineCount()?(d=u.lineNumber,h=1,f=u.lineNumber+1,p=1):u.lineNumber>1?(d=u.lineNumber-1,h=t.getLineMaxColumn(u.lineNumber-1),f=u.lineNumber,p=t.getLineMaxColumn(u.lineNumber)):(d=u.lineNumber,h=1,f=u.lineNumber,p=t.getLineMaxColumn(u.lineNumber));var m=new r.a(d,h,f,p);m.isEmpty()?a[s]=null:a[s]=new i.a(m,"")}else a[s]=null;else a[s]=new i.a(c,"")}return new o.e(0,a,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n(25),o=Object(i.c)("clipboardService")},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return a}),n.d(t,"b",function(){return s});var i=n(43),o=n(9);function r(e){return i.a(e.path)||e.authority}function a(e,t,n){return!(e!==t)||!(!e||!t)&&(n?Object(o.equalsIgnoreCase)(e.toString(),t.toString()):e.toString()===t.toString())}function s(e){var t=i.b(e.path);return e.authority&&t&&!i.d(t)?null:e.with({path:t})}},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a});var i=n(0),o=function(){function e(e,t,n){void 0===n&&(n=t),this.modifierLabels=[null],this.modifierLabels[2]=e,this.modifierLabels[1]=t,this.modifierLabels[3]=n}return e.prototype.toLabel=function(e,t,n,i,o){return null===t&&null===i?null:function(e,t,n,i,o){var r=s(e,t,o);null!==i&&(r+=" ",r+=s(n,i,o));return r}(e,t,n,i,this.modifierLabels[o])},e}(),r=new o({ctrlKey:"\u2303",shiftKey:"\u21e7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:i.a({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:i.a({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:i.a({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:i.a({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:i.a({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:i.a({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:i.a({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:i.a({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),a=new o({ctrlKey:i.a({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:i.a({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:i.a({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:i.a({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:i.a({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:i.a({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:i.a({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:i.a({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:i.a({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:i.a({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:i.a({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:i.a({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"});function s(e,t,n){if(null===t)return"";var i=[];return e.ctrlKey&&i.push(n.ctrlKey),e.shiftKey&&i.push(n.shiftKey),e.altKey&&i.push(n.altKey),e.metaKey&&i.push(n.metaKey),i.push(t),i.join(n.separator)}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=function(){return function(e){this.element=e}}(),o=function(){function e(){}return e.prototype.isEmpty=function(){return!this._first},e.prototype.unshift=function(e){return this.insert(e,!1)},e.prototype.push=function(e){return this.insert(e,!0)},e.prototype.insert=function(e,t){var n=this,o=new i(e);if(this._first)if(t){var r=this._last;this._last=o,o.prev=r,r.next=o}else{var a=this._first;this._first=o,o.next=a,a.prev=o}else this._first=o,this._last=o;return function(){for(var e=n._first;e instanceof i;e=e.next)if(e===o){if(e.prev&&e.next){var t=e.prev;t.next=e.next,e.next.prev=t}else e.prev||e.next?e.next?e.prev||(n._first=n._first.next,n._first.prev=void 0):(n._last=n._last.prev,n._last.next=void 0):(n._first=void 0,n._last=void 0);break}}},e.prototype.iterator=function(){var e={done:void 0,value:void 0},t=this._first;return{next:function(){return t?(e.done=!1,e.value=t.element,t=t.next):(e.done=!0,e.value=void 0),e}}},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return N});var i=n(29),o=n(9),r=n(43),a=n(81),s=n(11),l="**",c="/",u="[/\\\\]",d="[^/\\\\]",h=/\//g;function f(e){switch(e){case 0:return"";case 1:return d+"*?";default:return"(?:"+u+"|"+d+"+"+u+"|"+u+d+"+)*?"}}function p(e,t){if(!e)return[];for(var n,i=[],o=!1,r=!1,a="",s=0;s<e.length;s++){switch(n=e[s]){case t:if(!o&&!r){i.push(a),a="";continue}break;case"{":o=!0;break;case"}":o=!1;break;case"[":r=!0;break;case"]":r=!1}a+=n}return a&&i.push(a),i}var m=/^\*\*\/\*\.[\w\.-]+$/,g=/^\*\*\/([\w\.-]+)\/?$/,b=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,y=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,v=/^\*\*((\/[\w\.-]+)+)\/?$/,w=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,_=new a.a(1e4),S=function(){return!1},C=function(){return null};function x(e,t){if(!e)return C;var n,r,a=(n=(n="string"!==typeof e?e.pattern:e).trim())+"_"+!!t.trimForExclusions,s=_.get(a);if(s)return k(s,e);if(m.test(n)){var h=n.substr(4);s=function(e,t){return e&&o.endsWith(e,h)?n:null}}else s=(r=g.exec(T(n,t)))?function(e,t){var n="/"+e,i="\\"+e,r=function(r,a){return r?a?a===e?t:null:r===e||o.endsWith(r,n)||o.endsWith(r,i)?t:null:null},a=[e];return r.basenames=a,r.patterns=[t],r.allBasenames=a,r}(r[1],n):(t.trimForExclusions?y:b).test(n)?function(e,t){var n=L(e.slice(1,-1).split(",").map(function(e){return x(e,t)}).filter(function(e){return e!==C}),e),o=n.length;if(!o)return C;if(1===o)return n[0];var r=function(t,i){for(var o=0,r=n.length;o<r;o++)if(n[o](t,i))return e;return null},a=i.g(n,function(e){return!!e.allBasenames});a&&(r.allBasenames=a.allBasenames);var s=n.reduce(function(e,t){return t.allPaths?e.concat(t.allPaths):e},[]);s.length&&(r.allPaths=s);return r}(n,t):(r=v.exec(T(n,t)))?O(r[1].substr(1),n,!0):(r=w.exec(T(n,t)))?O(r[1],n,!1):function(e){try{var t=new RegExp("^"+function e(t){if(!t)return"";var n="",i=p(t,c);if(i.every(function(e){return e===l}))n=".*";else{var r=!1;i.forEach(function(t,a){if(t!==l){for(var s,h=!1,m="",g=!1,b="",y=0;y<t.length;y++)if("}"!==(s=t[y])&&h)m+=s;else if(!g||"]"===s&&b)switch(s){case"{":h=!0;continue;case"[":g=!0;continue;case"}":var v="(?:"+p(m,",").map(function(t){return e(t)}).join("|")+")";n+=v,h=!1,m="";break;case"]":n+="["+b+"]",g=!1,b="";break;case"?":n+=d;continue;case"*":n+=f(1);continue;default:n+=o.escapeRegExpCharacters(s)}else b+="-"===s?s:"^"!==s&&"!"!==s||b?s===c?"":o.escapeRegExpCharacters(s):"^";a<i.length-1&&(i[a+1]!==l||a+2<i.length)&&(n+=u),r=!1}else r||(n+=f(2),r=!0)})}return n}(e)+"$");return function(n,i){return t.lastIndex=0,n&&t.test(n)?e:null}}catch(e){return C}}(n);return _.set(a,s),k(s,e)}function k(e,t){return"string"===typeof t?e:function(n,i){return r.e(n,t.base)?e(r.h(t.pathToRelative(t.base,n)),i):null}}function T(e,t){return t.trimForExclusions&&o.endsWith(e,"/**")?e.substr(0,e.length-2):e}function O(e,t,n){var i=r.g!==r.i?e.replace(h,r.g):e,a=r.g+i,s=n?function(e,n){return e&&(e===i||o.endsWith(e,a))?t:null}:function(e,n){return e&&e===i?t:null};return s.allPaths=[(n?"*/":"./")+e],s}function N(e,t,n){return!(!e||!t)&&function(e,t){void 0===t&&(t={});if(!e)return S;if("string"===typeof e||(a=e,l=a,l&&"string"===typeof l.base&&"string"===typeof l.pattern&&"function"===typeof l.pathToRelative)){var n=x(e,t);if(n===C)return S;var o=function(e,t){return!!n(e,t)};return n.allBasenames&&(o.allBasenames=n.allBasenames),n.allPaths&&(o.allPaths=n.allPaths),o}var a,l;return function(e,t){var n=L(Object.getOwnPropertyNames(e).map(function(n){return function(e,t,n){if(!1===t)return C;var i=x(e,n);if(i===C)return C;if("boolean"===typeof t)return i;if(t){var o=t.when;if("string"===typeof o){var r=function(t,n,r,a){if(!a||!i(t,n))return null;var l=o.replace("$(basename)",r),c=a(l);return s.b.is(c)?c.then(function(t){return t?e:null}):c?e:null};return r.requiresSiblings=!0,r}}return i}(n,e[n],t)}).filter(function(e){return e!==C})),o=n.length;if(!o)return C;if(!n.some(function(e){return e.requiresSiblings})){if(1===o)return n[0];var a=function(e,t){for(var i=0,o=n.length;i<o;i++){var r=n[i](e,t);if(r)return r}return null},l=i.g(n,function(e){return!!e.allBasenames});l&&(a.allBasenames=l.allBasenames);var c=n.reduce(function(e,t){return t.allPaths?e.concat(t.allPaths):e},[]);return c.length&&(a.allPaths=c),a}var u=function(e,t,i){for(var o,a=0,s=n.length;a<s;a++){var l=n[a];l.requiresSiblings&&i&&(t||(t=r.a(e)),o||(o=t.substr(0,t.length-r.c(e).length)));var c=l(e,t,o,i);if(c)return c}return null},d=i.g(n,function(e){return!!e.allBasenames});d&&(u.allBasenames=d.allBasenames);var h=n.reduce(function(e,t){return t.allPaths?e.concat(t.allPaths):e},[]);h.length&&(u.allPaths=h);return u}(e,t)}(e)(t,void 0,n)}function L(e,t){var n=e.filter(function(e){return!!e.basenames});if(n.length<2)return e;var i,o=n.reduce(function(e,t){return e.concat(t.basenames)},[]);if(t){i=[];for(var r=0,a=o.length;r<a;r++)i.push(t)}else i=n.reduce(function(e,t){return e.concat(t.patterns)},[]);var s=function(e,t){if(!e)return null;if(!t){var n=void 0;for(n=e.length;n>0;n--){var r=e.charCodeAt(n-1);if(47===r||92===r)break}t=e.substr(n)}var a=o.indexOf(t);return-1!==a?i[a]:null};s.basenames=o,s.patterns=i,s.allBasenames=o;var l=e.filter(function(e){return!e.basenames});return l.push(s),l}},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return u});n(343);var i,o,r,a=n(37),s=n(1),l=n(7);function c(e,t,n){var i=n.offset+n.size;return n.position===r.Before?t<=e-i?i:t<=n.offset?n.offset-t:Math.max(e-t,0):t<=n.offset?n.offset-t:t<=e-i?i:0}!function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"}(i||(i={})),function(e){e[e.BELOW=0]="BELOW",e[e.ABOVE=1]="ABOVE"}(o||(o={})),function(e){e[e.Before=0]="Before",e[e.After=1]="After"}(r||(r={}));var u=function(){function e(e){var t=this;this.$view=Object(a.a)(".context-view").hide(),this.setContainer(e),this.toDispose=[Object(l.f)(function(){t.setContainer(null)})],this.toDisposeOnClean=null}return e.prototype.setContainer=function(t){var n=this;this.$container&&(this.$container.getHTMLElement().removeChild(this.$view.getHTMLElement()),this.$container.off(e.BUBBLE_UP_EVENTS),this.$container.off(e.BUBBLE_DOWN_EVENTS,!0),this.$container=null),t&&(this.$container=Object(a.a)(t),this.$view.appendTo(this.$container),this.$container.on(e.BUBBLE_UP_EVENTS,function(e){n.onDOMEvent(e,document.activeElement,!1)}),this.$container.on(e.BUBBLE_DOWN_EVENTS,function(e){n.onDOMEvent(e,document.activeElement,!0)},null,!0))},e.prototype.show=function(e){this.isVisible()&&this.hide(),this.$view.setClass("context-view").empty().style({top:"0px",left:"0px"}).show(),this.toDisposeOnClean=e.render(this.$view.getHTMLElement()),this.delegate=e,this.doLayout()},e.prototype.layout=function(){this.isVisible()&&(!1!==this.delegate.canRelayout?(this.delegate.layout&&this.delegate.layout(),this.doLayout()):this.hide())},e.prototype.doLayout=function(){var e,t=this.delegate.getAnchor();if(s.C(t)){var n=s.u(t);e={top:n.top,left:n.left,width:n.width,height:n.height}}else{var a=t;e={top:a.y,left:a.x,width:a.width||0,height:a.height||0}}var l,u=this.$view.getTotalSize(),d=this.delegate.anchorPosition||o.BELOW,h=this.delegate.anchorAlignment||i.LEFT,f={offset:e.top,size:e.height,position:d===o.BELOW?r.Before:r.After};l=h===i.LEFT?{offset:e.left,size:0,position:r.Before}:{offset:e.left+e.width,size:0,position:r.After};var p=s.u(this.$container.getHTMLElement()),m=c(window.innerHeight,u.height,f)-p.top,g=c(window.innerWidth,u.width,l)-p.left;this.$view.removeClass("top","bottom","left","right"),this.$view.addClass(d===o.BELOW?"bottom":"top"),this.$view.addClass(h===i.LEFT?"left":"right"),this.$view.style({top:m+"px",left:g+"px",width:"initial"})},e.prototype.hide=function(e){this.delegate&&this.delegate.onHide&&this.delegate.onHide(e),this.delegate=null,this.toDisposeOnClean&&(this.toDisposeOnClean.dispose(),this.toDisposeOnClean=null),this.$view.hide()},e.prototype.isVisible=function(){return!!this.delegate},e.prototype.onDOMEvent=function(e,t,n){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(e,document.activeElement):n&&!s.B(e.target,this.$container.getHTMLElement())&&this.hide())},e.prototype.dispose=function(){this.hide(),this.toDispose=Object(l.d)(this.toDispose)},e.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],e.BUBBLE_DOWN_EVENTS=["click"],e}()},function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"a",function(){return h});n(357);var i,o=n(1),r=n(120),a=n(43),s=n(171),l=n(7),c=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u=function(){function e(e){this._element=e}return Object.defineProperty(e.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textContent",{set:function(e){this.disposed||e===this._textContent||(this._textContent=e,this._element.textContent=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"className",{set:function(e){this.disposed||e===this._className||(this._className=e,this._element.className=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"title",{set:function(e){this.disposed||e===this._title||(this._title=e,this._title?this._element.title=e:this._element.removeAttribute("title"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"empty",{set:function(e){this.disposed||e===this._empty||(this._empty=e,this._element.style.marginLeft=e?"0":null)},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.disposed=!0},e}(),d=function(e){function t(t,n){var i=e.call(this)||this;return i.domNode=i._register(new u(o.k(t,o.a(".monaco-icon-label")))),i.labelDescriptionContainer=i._register(new u(o.k(i.domNode.element,o.a(".monaco-icon-label-description-container")))),n&&n.supportHighlights?i.labelNode=i._register(new r.a(o.k(i.labelDescriptionContainer.element,o.a("a.label-name")))):i.labelNode=i._register(new u(o.k(i.labelDescriptionContainer.element,o.a("a.label-name")))),n&&n.supportDescriptionHighlights?i.descriptionNodeFactory=function(){return i._register(new r.a(o.k(i.labelDescriptionContainer.element,o.a("span.label-description"))))}:i.descriptionNodeFactory=function(){return i._register(new u(o.k(i.labelDescriptionContainer.element,o.a("span.label-description"))))},i}return c(t,e),t.prototype.setValue=function(e,t,n){var i=["monaco-icon-label"];n&&(n.extraClasses&&i.push.apply(i,n.extraClasses),n.italic&&i.push("italic")),this.domNode.className=i.join(" "),this.domNode.title=n&&n.title?n.title:"",this.labelNode instanceof r.a?this.labelNode.set(e||"",n?n.matches:void 0):this.labelNode.textContent=e||"",(t||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof r.a?(this.descriptionNode.set(t||"",n?n.descriptionMatches:void 0),n&&n.descriptionTitle?this.descriptionNode.element.title=n.descriptionTitle:this.descriptionNode.element.removeAttribute("title")):(this.descriptionNode.textContent=t||"",this.descriptionNode.title=n&&n.descriptionTitle?n.descriptionTitle:"",this.descriptionNode.empty=!t))},t}(l.a),h=function(e){function t(t,n,i,o){var r=e.call(this,t)||this;return r.setFile(n,i,o),r}return c(t,e),t.prototype.setFile=function(e,t,n){var i=a.b(e.fsPath);this.setValue(Object(s.a)(e),i&&"."!==i?Object(s.b)(i,n,t):"",{title:e.fsPath})},t}(d)},function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return l});var i=n(9),o=n(12),r=n(71),a=n(88);function s(e,t){return function(e,t){for(var n='<div class="monaco-tokenized-source">',o=e.split(/\r\n|\r|\n/),r=t.getInitialState(),s=0,l=o.length;s<l;s++){var c=o[s];s>0&&(n+="<br/>");var u=t.tokenize2(c,r,0);a.a.convertToEndOffset(u.tokens,c.length);for(var d=new a.a(u.tokens,c),h=d.inflate(),f=0,p=0,m=h.getCount();p<m;p++){var g=h.getClassName(p),b=h.getEndOffset(p);n+='<span class="'+g+'">'+i.escape(c.substring(f,b))+"</span>",f=b}r=u.endState}return n+="</div>"}(e,function(e){var t=o.y.get(e);if(t)return t;return{getInitialState:function(){return r.c},tokenize:void 0,tokenize2:function(e,t,n){return Object(r.e)(0,e,t,n)}}}(t))}function l(e,t,n,i,o,r){for(var a="<div>",s=i,l=0,c=0,u=t.getCount();c<u;c++){var d=t.getEndOffset(c);if(!(d<=i)){for(var h="";s<d&&s<o;s++){var f=e.charCodeAt(s);switch(f){case 9:var p=r-(s+l)%r;for(l+=p-1;p>0;)h+="&nbsp;",p--;break;case 60:h+="&lt;";break;case 62:h+="&gt;";break;case 38:h+="&amp;";break;case 0:h+="&#00;";break;case 65279:case 8232:h+="\ufffd";break;case 13:h+="&#8203";break;default:h+=String.fromCharCode(f)}}if(a+='<span style="'+t.getInlineStyle(c,n)+'">'+h+"</span>",d>o||s>=o)break}}return a+="</div>"}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n(11),o=function(){function e(e,t,n,i,o,r){this.id=e,this.label=t,this.alias=n,this._precondition=i,this._run=o,this._contextKeyService=r}return e.prototype.isSupported=function(){return this._contextKeyService.contextMatchesRules(this._precondition)},e.prototype.run=function(){if(!this.isSupported())return i.b.as(void 0);var e=this._run();return e||i.b.as(void 0)},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return b});n(399);var i=n(7),o=n(34),r=n(1),a=n(94),s=n(2),l=n(17),c=n(30),u=n(161),d=n(21),h=new l.a(new l.c(0,122,204)),f={showArrow:!0,showFrame:!0,className:"",frameColor:h,arrowColor:h,keepEditorSelection:!1},p=function(){function e(e,t,n,i,o,r){this.domNode=e,this.afterLineNumber=t,this.afterColumn=n,this.heightInLines=i,this._onDomNodeTop=o,this._onComputedHeight=r}return e.prototype.onDomNodeTop=function(e){this._onDomNodeTop(e)},e.prototype.onComputedHeight=function(e){this._onComputedHeight(e)},e}(),m=function(){function e(e,t){this._id=e,this._domNode=t}return e.prototype.getId=function(){return this._id},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getPosition=function(){return null},e}(),g=function(){function e(t){this._editor=t,this._ruleName=e._IdGenerator.nextId(),this._decorations=[]}return e.prototype.dispose=function(){this.hide(),r.F(this._ruleName)},Object.defineProperty(e.prototype,"color",{set:function(e){this._color!==e&&(this._color=e,this._updateStyle())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{set:function(e){this._height!==e&&(this._height=e,this._updateStyle())},enumerable:!0,configurable:!0}),e.prototype._updateStyle=function(){r.F(this._ruleName),r.n(".monaco-editor "+this._ruleName,"border-style: solid; border-color: transparent; border-bottom-color: "+this._color+"; border-width: "+this._height+"px; bottom: -"+this._height+"px; margin-left: -"+this._height+"px; ")},e.prototype.show=function(e){this._decorations=this._editor.deltaDecorations(this._decorations,[{range:s.a.fromPositions(e),options:{className:this._ruleName,stickiness:d.h.NeverGrowsWhenTypingAtEdges}}])},e.prototype.hide=function(){this._editor.deltaDecorations(this._decorations,[])},e._IdGenerator=new u.a(".arrow-decoration-"),e}(),b=function(){function e(e,t){void 0===t&&(t={});var n=this;this._positionMarkerId=[],this._disposables=[],this._isShowing=!1,this.editor=e,this.options=o.c(t),o.g(this.options,f,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.push(this.editor.onDidLayoutChange(function(e){var t=n._getWidth(e);n.domNode.style.width=t+"px",n.domNode.style.left=n._getLeft(e)+"px",n._onWidth(t)}))}return e.prototype.dispose=function(){var e=this;Object(i.d)(this._disposables),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(function(t){t.removeZone(e._viewZone.id),e._viewZone=null}),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[]},e.prototype.create=function(){r.f(this.domNode,"zone-widget"),r.f(this.domNode,this.options.className),this.container=document.createElement("div"),r.f(this.container,"zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new g(this.editor),this._disposables.push(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()},e.prototype.style=function(e){e.frameColor&&(this.options.frameColor=e.frameColor),e.arrowColor&&(this.options.arrowColor=e.arrowColor),this._applyStyles()},e.prototype._applyStyles=function(){if(this.container){var e=this.options.frameColor.toString();this.container.style.borderTopColor=e,this.container.style.borderBottomColor=e}if(this._arrow){var t=this.options.arrowColor.toString();this._arrow.color=t}},e.prototype._getWidth=function(e){return e.width-e.minimapWidth-e.verticalScrollbarWidth},e.prototype._getLeft=function(e){return e.minimapWidth>0&&0===e.minimapLeft?e.minimapWidth:0},e.prototype._onViewZoneTop=function(e){this.domNode.style.top=e+"px"},e.prototype._onViewZoneHeight=function(e){this.domNode.style.height=e+"px";var t=e-this._decoratingElementsHeight();this.container.style.height=t+"px";var n=this.editor.getLayoutInfo();this._doLayout(t,this._getWidth(n)),this._resizeSash.layout()},Object.defineProperty(e.prototype,"position",{get:function(){var e=this._positionMarkerId[0];if(e){var t=this.editor.getModel().getDecorationRange(e);if(t)return t.getStartPosition()}},enumerable:!0,configurable:!0}),e.prototype.show=function(e,t){var n=s.a.isIRange(e)?e:new s.a(e.lineNumber,e.column,e.lineNumber,e.column);this._isShowing=!0,this._showImpl(n,t),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:n,options:c.a.EMPTY}])},e.prototype.hide=function(){var e=this;this._viewZone&&(this.editor.changeViewZones(function(t){t.removeZone(e._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()},e.prototype._decoratingElementsHeight=function(){var e=this.editor.getConfiguration().lineHeight,t=0;this.options.showArrow&&(t+=2*Math.round(e/3));this.options.showFrame&&(t+=2*Math.round(e/9));return t},e.prototype._showImpl=function(e,t){var n=this,i={lineNumber:e.startLineNumber,column:e.startColumn},o=this.editor.getLayoutInfo(),r=this._getWidth(o);this.domNode.style.width=r+"px",this.domNode.style.left=this._getLeft(o)+"px";var a=document.createElement("div");a.style.overflow="hidden";var s=this.editor.getConfiguration().lineHeight,l=this.editor.getLayoutInfo().height/s*.8;t>=l&&(t=l);var c=0,u=0;if(this.options.showArrow&&(c=Math.round(s/3),this._arrow.height=c,this._arrow.show(i)),this.options.showFrame&&(u=Math.round(s/9)),this.editor.changeViewZones(function(e){n._viewZone&&e.removeZone(n._viewZone.id),n._overlayWidget&&(n.editor.removeOverlayWidget(n._overlayWidget),n._overlayWidget=null),n.domNode.style.top="-1000px",n._viewZone=new p(a,i.lineNumber,i.column,t,function(e){return n._onViewZoneTop(e)},function(e){return n._onViewZoneHeight(e)}),n._viewZone.id=e.addZone(n._viewZone),n._overlayWidget=new m("vs.editor.contrib.zoneWidget"+n._viewZone.id,n.domNode),n.editor.addOverlayWidget(n._overlayWidget)}),this.options.showFrame){var d=this.options.frameWidth?this.options.frameWidth:u;this.container.style.borderTopWidth=d+"px",this.container.style.borderBottomWidth=d+"px"}var h=t*s-this._decoratingElementsHeight();this.container.style.top=c+"px",this.container.style.height=h+"px",this.container.style.overflow="hidden",this._doLayout(h,r),this.options.keepEditorSelection||this.editor.setSelection(e);var f=Math.min(this.editor.getModel().getLineCount(),Math.max(1,e.endLineNumber+1));this.revealLine(f)},e.prototype.revealLine=function(e){this.editor.revealLine(e,0)},e.prototype.setCssClass=function(e,t){t&&this.container.classList.remove(t),r.f(this.container,e)},e.prototype._onWidth=function(e){},e.prototype._doLayout=function(e,t){},e.prototype._relayout=function(e){var t=this;this._viewZone.heightInLines!==e&&this.editor.changeViewZones(function(n){t._viewZone.heightInLines=e,n.layoutZone(t._viewZone.id)})},e.prototype._initSash=function(){var e,t=this;this._resizeSash=new a.b(this.domNode,this,{orientation:a.a.HORIZONTAL}),this.options.isResizeable||(this._resizeSash.hide(),this._resizeSash.state=a.c.Disabled),this._disposables.push(this._resizeSash.onDidStart(function(n){t._viewZone&&(e={startY:n.startY,heightInLines:t._viewZone.heightInLines})})),this._disposables.push(this._resizeSash.onDidEnd(function(){e=void 0})),this._disposables.push(this._resizeSash.onDidChange(function(n){if(e){var i=(n.currentY-e.startY)/t.editor.getConfiguration().lineHeight,o=i<0?Math.ceil(i):Math.floor(i),r=e.heightInLines+o;r>5&&r<35&&t._relayout(r)}}))},e.prototype.getHorizontalSashLeft=function(){return 0},e.prototype.getHorizontalSashTop=function(){return parseInt(this.domNode.style.height)-this._decoratingElementsHeight()/2},e.prototype.getHorizontalSashWidth=function(){var e=this.editor.getLayoutInfo();return e.width-e.minimapWidth},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n(25),o=Object(i.c)("uriDisplay")},function(e,t,n){"use strict";n.d(t,"a",function(){return p});n(309);var i,o=n(28),r=n(7),a=n(5),s=n(18),l=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function c(e,t){return!!e[t]}var u=function(){return function(e,t){this.target=e.target,this.hasTriggerModifier=c(e.event,t.triggerModifier),this.hasSideBySideModifier=c(e.event,t.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=o.k||e.event.detail<=1}}(),d=function(){return function(e,t){this.keyCodeIsTriggerKey=e.keyCode===t.triggerKey,this.keyCodeIsSideBySideKey=e.keyCode===t.triggerSideBySideKey,this.hasTriggerModifier=c(e,t.triggerModifier)}}(),h=function(){function e(e,t,n,i){this.triggerKey=e,this.triggerModifier=t,this.triggerSideBySideKey=n,this.triggerSideBySideModifier=i}return e.prototype.equals=function(e){return this.triggerKey===e.triggerKey&&this.triggerModifier===e.triggerModifier&&this.triggerSideBySideKey===e.triggerSideBySideKey&&this.triggerSideBySideModifier===e.triggerSideBySideModifier},e}();function f(e){return"altKey"===e?s.d?new h(57,"metaKey",6,"altKey"):new h(5,"ctrlKey",6,"altKey"):s.d?new h(6,"altKey",57,"metaKey"):new h(6,"altKey",5,"ctrlKey")}var p=function(e){function t(t){var n=e.call(this)||this;return n._onMouseMoveOrRelevantKeyDown=n._register(new a.a),n.onMouseMoveOrRelevantKeyDown=n._onMouseMoveOrRelevantKeyDown.event,n._onExecute=n._register(new a.a),n.onExecute=n._onExecute.event,n._onCancel=n._register(new a.a),n.onCancel=n._onCancel.event,n._editor=t,n._opts=f(n._editor.getConfiguration().multiCursorModifier),n.lastMouseMoveEvent=null,n.hasTriggerKeyOnMouseDown=!1,n._register(n._editor.onDidChangeConfiguration(function(e){if(e.multiCursorModifier){var t=f(n._editor.getConfiguration().multiCursorModifier);if(n._opts.equals(t))return;n._opts=t,n.lastMouseMoveEvent=null,n.hasTriggerKeyOnMouseDown=!1,n._onCancel.fire()}})),n._register(n._editor.onMouseMove(function(e){return n.onEditorMouseMove(new u(e,n._opts))})),n._register(n._editor.onMouseDown(function(e){return n.onEditorMouseDown(new u(e,n._opts))})),n._register(n._editor.onMouseUp(function(e){return n.onEditorMouseUp(new u(e,n._opts))})),n._register(n._editor.onKeyDown(function(e){return n.onEditorKeyDown(new d(e,n._opts))})),n._register(n._editor.onKeyUp(function(e){return n.onEditorKeyUp(new d(e,n._opts))})),n._register(n._editor.onMouseDrag(function(){return n.resetHandler()})),n._register(n._editor.onDidChangeCursorSelection(function(e){return n.onDidChangeCursorSelection(e)})),n._register(n._editor.onDidChangeModel(function(e){return n.resetHandler()})),n._register(n._editor.onDidChangeModelContent(function(){return n.resetHandler()})),n._register(n._editor.onDidScrollChange(function(e){(e.scrollTopChanged||e.scrollLeftChanged)&&n.resetHandler()})),n}return l(t,e),t.prototype.onDidChangeCursorSelection=function(e){e.selection&&e.selection.startColumn!==e.selection.endColumn&&this.resetHandler()},t.prototype.onEditorMouseMove=function(e){this.lastMouseMoveEvent=e,this._onMouseMoveOrRelevantKeyDown.fire([e,null])},t.prototype.onEditorMouseDown=function(e){this.hasTriggerKeyOnMouseDown=e.hasTriggerModifier},t.prototype.onEditorMouseUp=function(e){this.hasTriggerKeyOnMouseDown&&this._onExecute.fire(e)},t.prototype.onEditorKeyDown=function(e){this.lastMouseMoveEvent&&(e.keyCodeIsTriggerKey||e.keyCodeIsSideBySideKey&&e.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this.lastMouseMoveEvent,e]):e.hasTriggerModifier&&this._onCancel.fire()},t.prototype.onEditorKeyUp=function(e){e.keyCodeIsTriggerKey&&this._onCancel.fire()},t.prototype.resetHandler=function(){this.lastMouseMoveEvent=null,this.hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()},t}(r.a)},function(e,t,n){"use strict";n(401);var i,o,r,a=n(77),s=n(78),l=n(15),c=n(7),u=n(11),d=n(5),h=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),f=function(){function e(e){this._onDispose=new d.a,this.onDispose=this._onDispose.event,this._item=e}return Object.defineProperty(e.prototype,"item",{get:function(){return this._item},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._onDispose&&(this._onDispose.fire(),this._onDispose.dispose(),this._onDispose=null)},e}(),p=function(){function e(){this.locks=Object.create({})}return e.prototype.isLocked=function(e){return!!this.locks[e.id]},e.prototype.run=function(e,t){var n,i,o=this,r=this.getLock(e);return r?new u.b(function(i,a){n=Object(d.k)(r.onDispose)(function(){return o.run(e,t).then(i,a)})},function(){n.dispose()}):new u.b(function(n,r){if(e.isDisposed())return r(new Error("Item is disposed."));var a=o.locks[e.id]=new f(e);return i=t().then(function(t){return delete o.locks[e.id],a.dispose(),t}).then(n,r)},function(){return i.cancel()})},e.prototype.getLock=function(e){var t;for(t in this.locks){var n=this.locks[t];if(e.intersects(n.item))return n}return null},e}(),m=function(){function e(){this._isDisposed=!1,this._onDidRevealItem=new d.d,this.onDidRevealItem=this._onDidRevealItem.event,this._onExpandItem=new d.d,this.onExpandItem=this._onExpandItem.event,this._onDidExpandItem=new d.d,this.onDidExpandItem=this._onDidExpandItem.event,this._onCollapseItem=new d.d,this.onCollapseItem=this._onCollapseItem.event,this._onDidCollapseItem=new d.d,this.onDidCollapseItem=this._onDidCollapseItem.event,this._onDidAddTraitItem=new d.d,this.onDidAddTraitItem=this._onDidAddTraitItem.event,this._onDidRemoveTraitItem=new d.d,this.onDidRemoveTraitItem=this._onDidRemoveTraitItem.event,this._onDidRefreshItem=new d.d,this.onDidRefreshItem=this._onDidRefreshItem.event,this._onRefreshItemChildren=new d.d,this.onRefreshItemChildren=this._onRefreshItemChildren.event,this._onDidRefreshItemChildren=new d.d,this.onDidRefreshItemChildren=this._onDidRefreshItemChildren.event,this._onDidDisposeItem=new d.d,this.onDidDisposeItem=this._onDidDisposeItem.event,this.items={}}return e.prototype.register=function(e){s.a(!this.isRegistered(e.id),"item already registered: "+e.id);var t=Object(c.c)([this._onDidRevealItem.add(e.onDidReveal),this._onExpandItem.add(e.onExpand),this._onDidExpandItem.add(e.onDidExpand),this._onCollapseItem.add(e.onCollapse),this._onDidCollapseItem.add(e.onDidCollapse),this._onDidAddTraitItem.add(e.onDidAddTrait),this._onDidRemoveTraitItem.add(e.onDidRemoveTrait),this._onDidRefreshItem.add(e.onDidRefresh),this._onRefreshItemChildren.add(e.onRefreshChildren),this._onDidRefreshItemChildren.add(e.onDidRefreshChildren),this._onDidDisposeItem.add(e.onDidDispose)]);this.items[e.id]={item:e,disposable:t}},e.prototype.deregister=function(e){s.a(this.isRegistered(e.id),"item not registered: "+e.id),this.items[e.id].disposable.dispose(),delete this.items[e.id]},e.prototype.isRegistered=function(e){return this.items.hasOwnProperty(e)},e.prototype.getItem=function(e){var t=this.items[e];return t?t.item:null},e.prototype.dispose=function(){this.items=null,this._onDidRevealItem.dispose(),this._onExpandItem.dispose(),this._onDidExpandItem.dispose(),this._onCollapseItem.dispose(),this._onDidCollapseItem.dispose(),this._onDidAddTraitItem.dispose(),this._onDidRemoveTraitItem.dispose(),this._onDidRefreshItem.dispose(),this._onRefreshItemChildren.dispose(),this._onDidRefreshItemChildren.dispose(),this._isDisposed=!0},e.prototype.isDisposed=function(){return this._isDisposed},e}(),g=function(){function e(e,t,n,i,o){this._onDidCreate=new d.a,this._onDidReveal=new d.a,this.onDidReveal=this._onDidReveal.event,this._onExpand=new d.a,this.onExpand=this._onExpand.event,this._onDidExpand=new d.a,this.onDidExpand=this._onDidExpand.event,this._onCollapse=new d.a,this.onCollapse=this._onCollapse.event,this._onDidCollapse=new d.a,this.onDidCollapse=this._onDidCollapse.event,this._onDidAddTrait=new d.a,this.onDidAddTrait=this._onDidAddTrait.event,this._onDidRemoveTrait=new d.a,this.onDidRemoveTrait=this._onDidRemoveTrait.event,this._onDidRefresh=new d.a,this.onDidRefresh=this._onDidRefresh.event,this._onRefreshChildren=new d.a,this.onRefreshChildren=this._onRefreshChildren.event,this._onDidRefreshChildren=new d.a,this.onDidRefreshChildren=this._onDidRefreshChildren.event,this._onDidDispose=new d.a,this.onDidDispose=this._onDidDispose.event,this.registry=t,this.context=n,this.lock=i,this.element=o,this.id=e,this.registry.register(this),this.doesHaveChildren=this.context.dataSource.hasChildren(this.context.tree,this.element),this.needsChildrenRefresh=!0,this.parent=null,this.previous=null,this.next=null,this.firstChild=null,this.lastChild=null,this.traits={},this.depth=0,this.expanded=this.context.dataSource.shouldAutoexpand&&this.context.dataSource.shouldAutoexpand(this.context.tree,o),this._onDidCreate.fire(this),this.visible=this._isVisible(),this.height=this._getHeight(),this._isDisposed=!1}return e.prototype.getElement=function(){return this.element},e.prototype.hasChildren=function(){return this.doesHaveChildren},e.prototype.getDepth=function(){return this.depth},e.prototype.isVisible=function(){return this.visible},e.prototype.setVisible=function(e){this.visible=e},e.prototype.isExpanded=function(){return this.expanded},e.prototype._setExpanded=function(e){this.expanded=e},e.prototype.reveal=function(e){void 0===e&&(e=null);var t={item:this,relativeTop:e};this._onDidReveal.fire(t)},e.prototype.expand=function(){var e=this;return this.isExpanded()||!this.doesHaveChildren||this.lock.isLocked(this)?u.b.as(!1):this.lock.run(this,function(){var t={item:e};return e._onExpand.fire(t),(e.needsChildrenRefresh?e.refreshChildren(!1,!0,!0):u.b.as(null)).then(function(){return e._setExpanded(!0),e._onDidExpand.fire(t),!0})}).then(function(t){return!e.isDisposed()&&(e.context.options.autoExpandSingleChildren&&t&&null!==e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.isVisible()?e.firstChild.expand().then(function(){return!0}):t)})},e.prototype.collapse=function(e){var t=this;if(void 0===e&&(e=!1),e){var n=u.b.as(null);return this.forEachChild(function(e){n=n.then(function(){return e.collapse(!0)})}),n.then(function(){return t.collapse(!1)})}return!this.isExpanded()||this.lock.isLocked(this)?u.b.as(!1):this.lock.run(this,function(){var e={item:t};return t._onCollapse.fire(e),t._setExpanded(!1),t._onDidCollapse.fire(e),u.b.as(!0)})},e.prototype.addTrait=function(e){var t={item:this,trait:e};this.traits[e]=!0,this._onDidAddTrait.fire(t)},e.prototype.removeTrait=function(e){var t={item:this,trait:e};delete this.traits[e],this._onDidRemoveTrait.fire(t)},e.prototype.hasTrait=function(e){return this.traits[e]||!1},e.prototype.getAllTraits=function(){var e,t=[];for(e in this.traits)this.traits.hasOwnProperty(e)&&this.traits[e]&&t.push(e);return t},e.prototype.getHeight=function(){return this.height},e.prototype.refreshChildren=function(t,n,i){var o=this;if(void 0===n&&(n=!1),void 0===i&&(i=!1),!i&&!this.isExpanded())return this.needsChildrenRefresh=!0,u.b.as(this);this.needsChildrenRefresh=!1;var r=function(){var i={item:o,isNested:n};return o._onRefreshChildren.fire(i),(o.doesHaveChildren?o.context.dataSource.getChildren(o.context.tree,o.element):u.b.as([])).then(function(n){if(o.isDisposed()||o.registry.isDisposed())return u.b.as(null);if(!Array.isArray(n))return u.b.wrapError(new Error("Please return an array of children."));n=n?n.slice(0):[],n=o.sort(n);for(var i={};null!==o.firstChild;)i[o.firstChild.id]=o.firstChild,o.removeChild(o.firstChild);for(var r=0,a=n.length;r<a;r++){var s=n[r],l=o.context.dataSource.getId(o.context.tree,s),c=i[l]||new e(l,o.registry,o.context,o.lock,s);c.element=s,t&&(c.needsChildrenRefresh=t),delete i[l],o.addChild(c)}for(var d in i)i.hasOwnProperty(d)&&i[d].dispose();return t?u.a.join(o.mapEachChild(function(e){return e.doRefresh(t,!0)})):(o.mapEachChild(function(e){return e.updateVisibility()}),u.b.as(null))}).then(null,l.e).then(function(){return o._onDidRefreshChildren.fire(i)})};return n?r():this.lock.run(this,r)},e.prototype.doRefresh=function(e,t){return void 0===t&&(t=!1),this.doesHaveChildren=this.context.dataSource.hasChildren(this.context.tree,this.element),this.height=this._getHeight(),this.updateVisibility(),this._onDidRefresh.fire(this),this.refreshChildren(e,t)},e.prototype.updateVisibility=function(){this.setVisible(this._isVisible())},e.prototype.refresh=function(e){return this.doRefresh(e)},e.prototype.getNavigator=function(){return new y(this)},e.prototype.intersects=function(e){return this.isAncestorOf(e)||e.isAncestorOf(this)},e.prototype.isAncestorOf=function(e){for(;e;){if(e.id===this.id)return!0;e=e.parent}return!1},e.prototype.addChild=function(e,t){void 0===t&&(t=this.lastChild);var n=null===this.firstChild,i=null===t,o=t===this.lastChild;n?(this.firstChild=this.lastChild=e,e.next=e.previous=null):i?(this.firstChild.previous=e,e.next=this.firstChild,e.previous=null,this.firstChild=e):o?(this.lastChild.next=e,e.next=null,e.previous=this.lastChild,this.lastChild=e):(e.previous=t,e.next=t.next,t.next.previous=e,t.next=e),e.parent=this,e.depth=this.depth+1},e.prototype.removeChild=function(e){var t=this.firstChild===e,n=this.lastChild===e;t&&n?this.firstChild=this.lastChild=null:t?(e.next.previous=null,this.firstChild=e.next):n?(e.previous.next=null,this.lastChild=e.previous):(e.next.previous=e.previous,e.previous.next=e.next),e.parent=null,e.depth=null},e.prototype.forEachChild=function(e){for(var t,n=this.firstChild;n;)t=n.next,e(n),n=t},e.prototype.mapEachChild=function(e){var t=[];return this.forEachChild(function(n){t.push(e(n))}),t},e.prototype.sort=function(e){var t=this;return this.context.sorter?e.sort(function(e,n){return t.context.sorter.compare(t.context.tree,e,n)}):e},e.prototype._getHeight=function(){return this.context.renderer.getHeight(this.context.tree,this.element)},e.prototype._isVisible=function(){return this.context.filter.isVisible(this.context.tree,this.element)},e.prototype.isDisposed=function(){return this._isDisposed},e.prototype.dispose=function(){this.forEachChild(function(e){return e.dispose()}),this.parent=null,this.previous=null,this.next=null,this.firstChild=null,this.lastChild=null,this._onDidDispose.fire(this),this.registry.deregister(this),this._onDidCreate.dispose(),this._onDidReveal.dispose(),this._onExpand.dispose(),this._onDidExpand.dispose(),this._onCollapse.dispose(),this._onDidCollapse.dispose(),this._onDidAddTrait.dispose(),this._onDidRemoveTrait.dispose(),this._onDidRefresh.dispose(),this._onRefreshChildren.dispose(),this._onDidRefreshChildren.dispose(),this._onDidDispose.dispose(),this._isDisposed=!0},e}(),b=function(e){function t(t,n,i,o,r){return e.call(this,t,n,i,o,r)||this}return h(t,e),t.prototype.isVisible=function(){return!1},t.prototype.setVisible=function(e){},t.prototype.isExpanded=function(){return!0},t.prototype._setExpanded=function(e){},t.prototype._getHeight=function(){return 0},t.prototype._isVisible=function(){return!1},t}(g),y=function(){function e(e,t){void 0===t&&(t=!0),this.item=e,this.start=t?e:null}return e.lastDescendantOf=function(t){return t?t instanceof b?e.lastDescendantOf(t.lastChild):t.isVisible()?t.isExpanded()&&null!==t.lastChild?e.lastDescendantOf(t.lastChild):t:e.lastDescendantOf(t.previous):null},e.prototype.current=function(){return this.item||null},e.prototype.next=function(){if(this.item)do{if((this.item instanceof b||this.item.isVisible()&&this.item.isExpanded())&&this.item.firstChild)this.item=this.item.firstChild;else if(this.item===this.start)this.item=null;else{for(;this.item&&this.item!==this.start&&!this.item.next;)this.item=this.item.parent;this.item===this.start&&(this.item=null),this.item=this.item?this.item.next:null}}while(this.item&&!this.item.isVisible());return this.item||null},e.prototype.previous=function(){if(this.item)do{var t=e.lastDescendantOf(this.item.previous);t?this.item=t:this.item.parent&&this.item.parent!==this.start&&this.item.parent.isVisible()?this.item=this.item.parent:this.item=null}while(this.item&&!this.item.isVisible());return this.item||null},e.prototype.parent=function(){if(this.item){var e=this.item.parent;e&&e!==this.start&&e.isVisible()?this.item=e:this.item=null}return this.item||null},e.prototype.first=function(){return this.item=this.start,this.next(),this.item||null},e.prototype.last=function(){return e.lastDescendantOf(this.start)},e}(),v=function(){function e(e){this._onSetInput=new d.a,this.onSetInput=this._onSetInput.event,this._onDidSetInput=new d.a,this.onDidSetInput=this._onDidSetInput.event,this._onRefresh=new d.a,this.onRefresh=this._onRefresh.event,this._onDidRefresh=new d.a,this.onDidRefresh=this._onDidRefresh.event,this._onDidHighlight=new d.a,this.onDidHighlight=this._onDidHighlight.event,this._onDidSelect=new d.a,this.onDidSelect=this._onDidSelect.event,this._onDidFocus=new d.a,this.onDidFocus=this._onDidFocus.event,this._onDidRevealItem=new d.e,this.onDidRevealItem=this._onDidRevealItem.event,this._onExpandItem=new d.e,this.onExpandItem=this._onExpandItem.event,this._onDidExpandItem=new d.e,this.onDidExpandItem=this._onDidExpandItem.event,this._onCollapseItem=new d.e,this.onCollapseItem=this._onCollapseItem.event,this._onDidCollapseItem=new d.e,this.onDidCollapseItem=this._onDidCollapseItem.event,this._onDidAddTraitItem=new d.e,this.onDidAddTraitItem=this._onDidAddTraitItem.event,this._onDidRemoveTraitItem=new d.e,this.onDidRemoveTraitItem=this._onDidRemoveTraitItem.event,this._onDidRefreshItem=new d.e,this.onDidRefreshItem=this._onDidRefreshItem.event,this._onRefreshItemChildren=new d.e,this.onRefreshItemChildren=this._onRefreshItemChildren.event,this._onDidRefreshItemChildren=new d.e,this.onDidRefreshItemChildren=this._onDidRefreshItemChildren.event,this._onDidDisposeItem=new d.e,this.context=e,this.input=null,this.traitsToItems={}}return e.prototype.setInput=function(e){var t=this,n={item:this.input};this._onSetInput.fire(n),this.setSelection([]),this.setFocus(),this.setHighlight(),this.lock=new p,this.input&&this.input.dispose(),this.registry&&(this.registry.dispose(),this.registryDisposable.dispose()),this.registry=new m,this._onDidRevealItem.input=this.registry.onDidRevealItem,this._onExpandItem.input=this.registry.onExpandItem,this._onDidExpandItem.input=this.registry.onDidExpandItem,this._onCollapseItem.input=this.registry.onCollapseItem,this._onDidCollapseItem.input=this.registry.onDidCollapseItem,this._onDidAddTraitItem.input=this.registry.onDidAddTraitItem,this._onDidRemoveTraitItem.input=this.registry.onDidRemoveTraitItem,this._onDidRefreshItem.input=this.registry.onDidRefreshItem,this._onRefreshItemChildren.input=this.registry.onRefreshItemChildren,this._onDidRefreshItemChildren.input=this.registry.onDidRefreshItemChildren,this._onDidDisposeItem.input=this.registry.onDidDisposeItem,this.registryDisposable=this.registry.onDidDisposeItem(function(e){return e.getAllTraits().forEach(function(n){return delete t.traitsToItems[n][e.id]})});var i=this.context.dataSource.getId(this.context.tree,e);return this.input=new b(i,this.registry,this.context,this.lock,e),n={item:this.input},this._onDidSetInput.fire(n),this.refresh(this.input)},e.prototype.getInput=function(){return this.input?this.input.getElement():null},e.prototype.refresh=function(e,t){var n=this;void 0===e&&(e=null),void 0===t&&(t=!0);var i=this.getItem(e);if(!i)return u.b.as(null);var o={item:i,recursive:t};return this._onRefresh.fire(o),i.refresh(t).then(function(){n._onDidRefresh.fire(o)})},e.prototype.expand=function(e){var t=this.getItem(e);return t?t.expand():u.b.as(!1)},e.prototype.collapse=function(e,t){void 0===t&&(t=!1);var n=this.getItem(e);return n?n.collapse(t):u.b.as(!1)},e.prototype.toggleExpansion=function(e,t){return void 0===t&&(t=!1),this.isExpanded(e)?this.collapse(e,t):this.expand(e)},e.prototype.isExpanded=function(e){var t=this.getItem(e);return!!t&&t.isExpanded()},e.prototype.reveal=function(e,t){var n=this;return void 0===t&&(t=null),this.resolveUnknownParentChain(e).then(function(e){var t=u.b.as(null);return e.forEach(function(e){t=t.then(function(){return n.expand(e)})}),t}).then(function(){var i=n.getItem(e);if(i)return i.reveal(t)})},e.prototype.resolveUnknownParentChain=function(e){var t=this;return this.context.dataSource.getParent(this.context.tree,e).then(function(e){return e?t.resolveUnknownParentChain(e).then(function(t){return t.push(e),t}):u.b.as([])})},e.prototype.setHighlight=function(e,t){this.setTraits("highlighted",e?[e]:[]);var n={highlight:this.getHighlight(),payload:t};this._onDidHighlight.fire(n)},e.prototype.getHighlight=function(e){var t=this.getElementsWithTrait("highlighted",e);return 0===t.length?null:t[0]},e.prototype.setSelection=function(e,t){this.setTraits("selected",e);var n={selection:this.getSelection(),payload:t};this._onDidSelect.fire(n)},e.prototype.getSelection=function(e){return this.getElementsWithTrait("selected",e)},e.prototype.setFocus=function(e,t){this.setTraits("focused",e?[e]:[]);var n={focus:this.getFocus(),payload:t};this._onDidFocus.fire(n)},e.prototype.getFocus=function(e){var t=this.getElementsWithTrait("focused",e);return 0===t.length?null:t[0]},e.prototype.focusNext=function(e,t){void 0===e&&(e=1);for(var n,i=this.getFocus()||this.input,o=this.getNavigator(i,!1),r=0;r<e&&(n=o.next());r++)i=n;this.setFocus(i,t)},e.prototype.focusPrevious=function(e,t){void 0===e&&(e=1);for(var n,i=this.getFocus()||this.input,o=this.getNavigator(i,!1),r=0;r<e&&(n=o.previous());r++)i=n;this.setFocus(i,t)},e.prototype.focusParent=function(e){var t=this.getFocus()||this.input,n=this.getNavigator(t,!1).parent();n&&this.setFocus(n,e)},e.prototype.focusFirstChild=function(e){var t=this.getItem(this.getFocus()||this.input),n=this.getNavigator(t,!1),i=n.next();n.parent()===t&&this.setFocus(i,e)},e.prototype.focusFirst=function(e,t){this.focusNth(0,e,t)},e.prototype.focusNth=function(e,t,n){for(var i=this.getParent(n),o=this.getNavigator(i),r=o.first(),a=0;a<e;a++)r=o.next();r&&this.setFocus(r,t)},e.prototype.focusLast=function(e,t){var n,i=this.getParent(t);t?n=i.lastChild:n=this.getNavigator(i).last();n&&this.setFocus(n,e)},e.prototype.getParent=function(e){if(e){var t=this.getItem(e);if(t&&t.parent)return t.parent}return this.getItem(this.input)},e.prototype.getNavigator=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!0),new y(this.getItem(e),t)},e.prototype.getItem=function(e){return void 0===e&&(e=null),null===e?this.input:e instanceof g?e:"string"===typeof e?this.registry.getItem(e):this.registry.getItem(this.context.dataSource.getId(this.context.tree,e))},e.prototype.removeTraits=function(e,t){var n,i,o=this.traitsToItems[e]||{};if(0===t.length){for(i in o)o.hasOwnProperty(i)&&(n=o[i]).removeTrait(e);delete this.traitsToItems[e]}else for(var r=0,a=t.length;r<a;r++)(n=this.getItem(t[r]))&&(n.removeTrait(e),delete o[n.id])},e.prototype.setTraits=function(e,t){if(0===t.length)this.removeTraits(e,t);else{for(var n,i={},o=0,r=t.length;o<r;o++)(n=this.getItem(t[o]))&&(i[n.id]=n);var a,s=this.traitsToItems[e]||{},l=[];for(a in s)s.hasOwnProperty(a)&&(i.hasOwnProperty(a)?delete i[a]:l.push(s[a]));for(o=0,r=l.length;o<r;o++)(n=l[o]).removeTrait(e),delete s[n.id];for(a in i)i.hasOwnProperty(a)&&((n=i[a]).addTrait(e),s[a]=n);this.traitsToItems[e]=s}},e.prototype.getElementsWithTrait=function(e,t){var n,i=[],o=this.traitsToItems[e]||{};for(n in o)o.hasOwnProperty(n)&&(o[n].isVisible()||t)&&i.push(o[n].getElement());return i},e.prototype.dispose=function(){this.registry&&(this.registry.dispose(),this.registry=null),this._onSetInput.dispose(),this._onDidSetInput.dispose(),this._onRefresh.dispose(),this._onDidRefresh.dispose(),this._onDidHighlight.dispose(),this._onDidSelect.dispose(),this._onDidFocus.dispose(),this._onDidRevealItem.dispose(),this._onExpandItem.dispose(),this._onDidExpandItem.dispose(),this._onCollapseItem.dispose(),this._onDidCollapseItem.dispose(),this._onDidAddTraitItem.dispose(),this._onDidRemoveTraitItem.dispose(),this._onDidRefreshItem.dispose(),this._onRefreshItemChildren.dispose(),this._onDidRefreshItemChildren.dispose(),this._onDidDisposeItem.dispose()},e}(),w=n(18),_=n(28),S=n(1),C=n(168),x=n(68),k=n(9),T=n(44),O=n(54),N=function(){function e(e){this.elements=e}return e.prototype.update=function(e){},e}(),L=function(){function e(e){this.elements=e}return e.prototype.update=function(e){},e}(),I=function(){function e(){this.types=[],this.files=[]}return e.prototype.update=function(e){e.dataTransfer.types&&(this.types=[],Array.prototype.push.apply(this.types,e.dataTransfer.types)),e.dataTransfer.files&&(this.files=[],Array.prototype.push.apply(this.files,e.dataTransfer.files),this.files=this.files.filter(function(e){return e.size||e.type}))},e}(),E=n(111),D=n(82),A=n(45),M=function(){function e(){this.heightMap=[],this.indexes={}}return e.prototype.getContentHeight=function(){var e=this.heightMap[this.heightMap.length-1];return e?e.top+e.height:0},e.prototype.onInsertItems=function(e,t){var n,i,o,r,a;void 0===t&&(t=null);var s=0;if(null===t)o=0,a=0;else{if(o=this.indexes[t]+1,!(i=this.heightMap[o-1]))return void console.error("view item doesnt exist");a=i.top+i.height}for(var l=this.heightMap.splice.bind(this.heightMap,o,0),c=[];n=e.next();)(i=this.createViewItem(n)).top=a+s,this.indexes[n.id]=o++,c.push(i),s+=i.height;for(l.apply(this.heightMap,c),r=o;r<this.heightMap.length;r++)(i=this.heightMap[r]).top+=s,this.indexes[i.model.id]=r;for(r=c.length-1;r>=0;r--)this.onInsertItem(c[r]);for(r=this.heightMap.length-1;r>=o;r--)this.onRefreshItem(this.heightMap[r]);return s},e.prototype.onInsertItem=function(e){},e.prototype.onRemoveItems=function(e){for(var t,n,i,o=null,r=0;t=e.next();){if(i=this.indexes[t],!(n=this.heightMap[i]))return void console.error("view item doesnt exist");r-=n.height,delete this.indexes[t],this.onRemoveItem(n),null===o&&(o=i)}if(0!==r)for(this.heightMap.splice(o,i-o+1),i=o;i<this.heightMap.length;i++)(n=this.heightMap[i]).top+=r,this.indexes[n.model.id]=i,this.onRefreshItem(n)},e.prototype.onRemoveItem=function(e){},e.prototype.onRefreshItemSet=function(e){var t=this,n=e.sort(function(e,n){return t.indexes[e.id]-t.indexes[n.id]});this.onRefreshItems(new E.a(n))},e.prototype.onRefreshItems=function(e){for(var t,n,i,o,r=null,a=0;t=e.next();){for(o=this.indexes[t.id];0!==a&&null!==r&&r<o;r++)(n=this.heightMap[r]).top+=a,this.onRefreshItem(n);n=this.heightMap[o],i=t.getHeight(),n.top+=a,a+=i-n.height,n.height=i,this.onRefreshItem(n,!0),r=o+1}if(0!==a&&null!==r)for(;r<this.heightMap.length;r++)(n=this.heightMap[r]).top+=a,this.onRefreshItem(n)},e.prototype.onRefreshItem=function(e,t){void 0===t&&(t=!1)},e.prototype.indexAt=function(e){for(var t,n,i=0,o=this.heightMap.length;i<o;)if(t=Math.floor((i+o)/2),e<(n=this.heightMap[t]).top)o=t;else{if(!(e>=n.top+n.height))return t;if(i===t)break;i=t}return this.heightMap.length},e.prototype.indexAfter=function(e){return Math.min(this.indexAt(e)+1,this.heightMap.length)},e.prototype.itemAtIndex=function(e){return this.heightMap[e]},e.prototype.itemAfter=function(e){return this.heightMap[this.indexes[e.model.id]+1]||null},e.prototype.createViewItem=function(e){throw new Error("not implemented")},e.prototype.dispose=function(){this.heightMap=null,this.indexes=null},e}(),P=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),R=function(){function e(e,t,n){this._posx=e,this._posy=t,this._target=n}return e.prototype.preventDefault=function(){},e.prototype.stopPropagation=function(){},Object.defineProperty(e.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),e}(),F=function(e){function t(t){var n=e.call(this,t.posx,t.posy,t.target)||this;return n.originalEvent=t,n}return P(t,e),t.prototype.preventDefault=function(){this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.originalEvent.stopPropagation()},t}(R),j=function(e){function t(t,n,i){var o=e.call(this,t,n,i.target)||this;return o.originalEvent=i,o}return P(t,e),t.prototype.preventDefault=function(){this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.originalEvent.stopPropagation()},t}(R);!function(e){e[e.COPY=0]="COPY",e[e.MOVE=1]="MOVE"}(o||(o={})),function(e){e[e.BUBBLE_DOWN=0]="BUBBLE_DOWN",e[e.BUBBLE_UP=1]="BUBBLE_UP"}(r||(r={}));var W="ResourceURLs",V=n(20),B=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();var H=function(){function e(e){this.context=e,this._cache={"":[]}}return e.prototype.alloc=function(e){var t=this.cache(e).pop();if(!t){var n=document.createElement("div");n.className="content";var i=document.createElement("div");i.appendChild(n),t={element:i,templateId:e,templateData:this.context.renderer.renderTemplate(this.context.tree,e,n)}}return t},e.prototype.release=function(e,t){!function(e){try{e.parentElement.removeChild(e)}catch(e){}}(t.element),this.cache(e).push(t)},e.prototype.cache=function(e){return this._cache[e]||(this._cache[e]=[])},e.prototype.garbageCollect=function(){var e=this;this._cache&&Object.keys(this._cache).forEach(function(t){e._cache[t].forEach(function(n){e.context.renderer.disposeTemplate(e.context.tree,t,n.templateData),n.element=null,n.templateData=null}),delete e._cache[t]})},e.prototype.dispose=function(){this.garbageCollect(),this._cache=null,this.context=null},e}(),z=function(){function e(e,t){var n=this;this.width=0,this.context=e,this.model=t,this.id=this.model.id,this.row=null,this.top=0,this.height=t.getHeight(),this._styles={},t.getAllTraits().forEach(function(e){return n._styles[e]=!0}),t.isExpanded()&&this.addClass("expanded")}return Object.defineProperty(e.prototype,"expanded",{set:function(e){e?this.addClass("expanded"):this.removeClass("expanded")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loading",{set:function(e){e?this.addClass("loading"):this.removeClass("loading")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"draggable",{get:function(){return this._draggable},set:function(e){this._draggable=e,this.render(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropTarget",{set:function(e){e?this.addClass("drop-target"):this.removeClass("drop-target")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.row&&this.row.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"templateId",{get:function(){return this._templateId||(this._templateId=this.context.renderer.getTemplateId&&this.context.renderer.getTemplateId(this.context.tree,this.model.getElement()))},enumerable:!0,configurable:!0}),e.prototype.addClass=function(e){this._styles[e]=!0,this.render(!0)},e.prototype.removeClass=function(e){delete this._styles[e],this.render(!0)},e.prototype.render=function(e){var t=this;if(void 0===e&&(e=!1),this.model&&this.element){var n=["monaco-tree-row"];n.push.apply(n,Object.keys(this._styles)),this.model.hasChildren()&&n.push("has-children"),this.element.className=n.join(" "),this.element.draggable=this.draggable,this.element.style.height=this.height+"px",this.element.setAttribute("role","treeitem");var i=this.context.accessibilityProvider,o=i.getAriaLabel(this.context.tree,this.model.getElement());if(o&&this.element.setAttribute("aria-label",o),i.getPosInSet&&i.getSetSize&&(this.element.setAttribute("aria-setsize",i.getSetSize()),this.element.setAttribute("aria-posinset",i.getPosInSet(this.context.tree,this.model.getElement()))),this.model.hasTrait("focused")){var r=k.safeBtoa(this.model.id);this.element.setAttribute("aria-selected","true"),this.element.setAttribute("id",r)}else this.element.setAttribute("aria-selected","false"),this.element.removeAttribute("id");this.model.hasChildren()?this.element.setAttribute("aria-expanded",String(!!this._styles.expanded)):this.element.removeAttribute("aria-expanded"),this.element.setAttribute("aria-level",String(this.model.getDepth())),this.context.options.paddingOnRow?this.element.style.paddingLeft=this.context.options.twistiePixels+(this.model.getDepth()-1)*this.context.options.indentPixels+"px":(this.element.style.paddingLeft=(this.model.getDepth()-1)*this.context.options.indentPixels+"px",this.row.element.firstElementChild.style.paddingLeft=this.context.options.twistiePixels+"px");var a=this.context.dnd.getDragURI(this.context.tree,this.model.getElement());if(a!==this.uri&&(this.unbindDragStart&&(this.unbindDragStart.dispose(),this.unbindDragStart=null),a?(this.uri=a,this.draggable=!0,this.unbindDragStart=S.g(this.element,"dragstart",function(e){t.onDragStart(e)})):this.uri=null),!e&&this.element){var s=window.getComputedStyle(this.element),l=parseFloat(s.paddingLeft);this.context.horizontalScrolling&&(this.element.style.width="fit-content"),this.context.renderer.renderElement(this.context.tree,this.model.getElement(),this.templateId,this.row.templateData),this.context.horizontalScrolling&&(this.width=S.t(this.element)+l,this.element.style.width="")}}},e.prototype.insertInDOM=function(e,t){if(this.row||(this.row=this.context.cache.alloc(this.templateId),this.element[q.BINDING]=this),!this.element.parentElement){if(null===t)e.appendChild(this.element);else try{e.insertBefore(this.element,t)}catch(t){console.warn("Failed to locate previous tree element"),e.appendChild(this.element)}this.render()}},e.prototype.removeFromDOM=function(){this.row&&(this.unbindDragStart&&(this.unbindDragStart.dispose(),this.unbindDragStart=null),this.uri=null,this.element[q.BINDING]=null,this.context.cache.release(this.templateId,this.row),this.row=null)},e.prototype.dispose=function(){this.row=null,this.model=null},e}(),U=function(e){function t(t,n,i){var o=e.call(this,t,n)||this;return o.row={element:i,templateData:null,templateId:null},o}return B(t,e),t.prototype.render=function(){if(this.model&&this.element){var e=["monaco-tree-wrapper"];e.push.apply(e,Object.keys(this._styles)),this.model.hasChildren()&&e.push("has-children"),this.element.className=e.join(" ")}},t.prototype.insertInDOM=function(e,t){},t.prototype.removeFromDOM=function(){},t}(z);var q=function(e){function t(n,i){var o=e.call(this)||this;o.lastClickTimeStamp=0,o.contentWidthUpdateDelayer=new V.a(50),o.isRefreshing=!1,o.refreshingPreviousChildrenIds={},o._onDOMFocus=new d.a,o._onDOMBlur=new d.a,o._onDidScroll=new d.a,t.counter++,o.instance=t.counter;var r="undefined"===typeof n.options.horizontalScrollMode?A.b.Hidden:n.options.horizontalScrollMode;o.horizontalScrolling=r!==A.b.Hidden,o.context={dataSource:n.dataSource,renderer:n.renderer,controller:n.controller,dnd:n.dnd,filter:n.filter,sorter:n.sorter,tree:n.tree,accessibilityProvider:n.accessibilityProvider,options:n.options,cache:new H(n),horizontalScrolling:o.horizontalScrolling},o.modelListeners=[],o.viewListeners=[],o.model=null,o.items={},o.domNode=document.createElement("div"),o.domNode.className="monaco-tree no-focused-item monaco-tree-instance-"+o.instance,o.domNode.tabIndex=n.options.preventRootFocus?-1:0,o.styleElement=S.o(o.domNode),o.treeStyler=n.styler,o.treeStyler||(o.treeStyler=new a.f(o.styleElement,"monaco-tree-instance-"+o.instance)),o.domNode.setAttribute("role","tree"),o.context.options.ariaLabel&&o.domNode.setAttribute("aria-label",o.context.options.ariaLabel),o.context.options.alwaysFocused&&S.f(o.domNode,"focused"),o.context.options.paddingOnRow||S.f(o.domNode,"no-row-padding"),o.wrapper=document.createElement("div"),o.wrapper.className="monaco-tree-wrapper",o.scrollableElement=new D.b(o.wrapper,{alwaysConsumeMouseWheel:!0,horizontal:r,vertical:"undefined"!==typeof n.options.verticalScrollMode?n.options.verticalScrollMode:A.b.Auto,useShadows:n.options.useShadows}),o.scrollableElement.onScroll(function(e){o.render(e.scrollTop,e.height,e.scrollLeft,e.width,e.scrollWidth),o._onDidScroll.fire()}),_.k?(o.wrapper.style.msTouchAction="none",o.wrapper.style.msContentZooming="none"):x.b.addTarget(o.wrapper),o.rowsContainer=document.createElement("div"),o.rowsContainer.className="monaco-tree-rows",n.options.showTwistie&&(o.rowsContainer.className+=" show-twisties");var s=S.O(o.domNode);return o.viewListeners.push(s.onDidFocus(function(){return o.onFocus()})),o.viewListeners.push(s.onDidBlur(function(){return o.onBlur()})),o.viewListeners.push(s),o.viewListeners.push(S.g(o.domNode,"keydown",function(e){return o.onKeyDown(e)})),o.viewListeners.push(S.g(o.domNode,"keyup",function(e){return o.onKeyUp(e)})),o.viewListeners.push(S.g(o.domNode,"mousedown",function(e){return o.onMouseDown(e)})),o.viewListeners.push(S.g(o.domNode,"mouseup",function(e){return o.onMouseUp(e)})),o.viewListeners.push(S.g(o.wrapper,"click",function(e){return o.onClick(e)})),o.viewListeners.push(S.g(o.wrapper,"auxclick",function(e){return o.onClick(e)})),o.viewListeners.push(S.g(o.domNode,"contextmenu",function(e){return o.onContextMenu(e)})),o.viewListeners.push(S.g(o.wrapper,x.a.Tap,function(e){return o.onTap(e)})),o.viewListeners.push(S.g(o.wrapper,x.a.Change,function(e){return o.onTouchChange(e)})),_.k&&(o.viewListeners.push(S.g(o.wrapper,"MSPointerDown",function(e){return o.onMsPointerDown(e)})),o.viewListeners.push(S.g(o.wrapper,"MSGestureTap",function(e){return o.onMsGestureTap(e)})),o.viewListeners.push(S.i(o.wrapper,"MSGestureChange",function(e){return o.onThrottledMsGestureChange(e)},function(e,t){t.stopPropagation(),t.preventDefault();var n={translationY:t.translationY,translationX:t.translationX};return e&&(n.translationY+=e.translationY,n.translationX+=e.translationX),n}))),o.viewListeners.push(S.g(window,"dragover",function(e){return o.onDragOver(e)})),o.viewListeners.push(S.g(o.wrapper,"drop",function(e){return o.onDrop(e)})),o.viewListeners.push(S.g(window,"dragend",function(e){return o.onDragEnd(e)})),o.viewListeners.push(S.g(window,"dragleave",function(e){return o.onDragOver(e)})),o.wrapper.appendChild(o.rowsContainer),o.domNode.appendChild(o.scrollableElement.getDomNode()),i.appendChild(o.domNode),o.lastRenderTop=0,o.lastRenderHeight=0,o.didJustPressContextMenuKey=!1,o.currentDropTarget=null,o.currentDropTargets=[],o.shouldInvalidateDropReaction=!1,o.dragAndDropScrollInterval=null,o.dragAndDropScrollTimeout=null,o.onHiddenScrollTop=null,o.onRowsChanged(),o.layout(),o.setupMSGesture(),o.applyStyles(n.options),o}return B(t,e),Object.defineProperty(t.prototype,"onDOMFocus",{get:function(){return this._onDOMFocus.event},enumerable:!0,configurable:!0}),t.prototype.applyStyles=function(e){this.treeStyler.style(e)},t.prototype.createViewItem=function(e){return new z(this.context,e)},t.prototype.getHTMLElement=function(){return this.domNode},t.prototype.focus=function(){this.domNode.focus()},t.prototype.isFocused=function(){return document.activeElement===this.domNode},t.prototype.blur=function(){this.domNode.blur()},t.prototype.setupMSGesture=function(){var e=this;window.MSGesture&&(this.msGesture=new MSGesture,setTimeout(function(){return e.msGesture.target=e.wrapper},100))},t.prototype.isTreeVisible=function(){return null===this.onHiddenScrollTop},t.prototype.layout=function(e,t){this.isTreeVisible()&&(this.viewHeight=e||S.s(this.wrapper),this.scrollHeight=this.getContentHeight(),this.horizontalScrolling&&(this.viewWidth=t||S.t(this.wrapper)))},t.prototype.render=function(e,t,n,i,o){var r,a,s=e,l=e+t,c=this.lastRenderTop+this.lastRenderHeight;for(r=this.indexAfter(l)-1,a=this.indexAt(Math.max(c,s));r>=a;r--)this.insertItemInDOM(this.itemAtIndex(r));for(r=Math.min(this.indexAt(this.lastRenderTop),this.indexAfter(l))-1,a=this.indexAt(s);r>=a;r--)this.insertItemInDOM(this.itemAtIndex(r));for(r=this.indexAt(this.lastRenderTop),a=Math.min(this.indexAt(s),this.indexAfter(c));r<a;r++)this.removeItemFromDOM(this.itemAtIndex(r));for(r=Math.max(this.indexAfter(l),this.indexAt(this.lastRenderTop)),a=this.indexAfter(c);r<a;r++)this.removeItemFromDOM(this.itemAtIndex(r));var u=this.itemAtIndex(this.indexAt(s));u&&(this.rowsContainer.style.top=u.top-s+"px"),this.horizontalScrolling&&(this.rowsContainer.style.left=-n+"px",this.rowsContainer.style.width=Math.max(o,i)+"px"),this.lastRenderTop=s,this.lastRenderHeight=l-s},t.prototype.setModel=function(e){this.releaseModel(),this.model=e,this.model.onRefresh(this.onRefreshing,this,this.modelListeners),this.model.onDidRefresh(this.onRefreshed,this,this.modelListeners),this.model.onSetInput(this.onClearingInput,this,this.modelListeners),this.model.onDidSetInput(this.onSetInput,this,this.modelListeners),this.model.onDidFocus(this.onModelFocusChange,this,this.modelListeners),this.model.onRefreshItemChildren(this.onItemChildrenRefreshing,this,this.modelListeners),this.model.onDidRefreshItemChildren(this.onItemChildrenRefreshed,this,this.modelListeners),this.model.onDidRefreshItem(this.onItemRefresh,this,this.modelListeners),this.model.onExpandItem(this.onItemExpanding,this,this.modelListeners),this.model.onDidExpandItem(this.onItemExpanded,this,this.modelListeners),this.model.onCollapseItem(this.onItemCollapsing,this,this.modelListeners),this.model.onDidRevealItem(this.onItemReveal,this,this.modelListeners),this.model.onDidAddTraitItem(this.onItemAddTrait,this,this.modelListeners),this.model.onDidRemoveTraitItem(this.onItemRemoveTrait,this,this.modelListeners)},t.prototype.onRefreshing=function(){this.isRefreshing=!0},t.prototype.onRefreshed=function(){this.isRefreshing=!1,this.onRowsChanged()},t.prototype.onRowsChanged=function(e){void 0===e&&(e=this.scrollTop),this.isRefreshing||(this.scrollTop=e,this.updateScrollWidth())},t.prototype.updateScrollWidth=function(){var e=this;this.horizontalScrolling&&this.contentWidthUpdateDelayer.trigger(function(){for(var t=0,n=0,i=Object.keys(e.items);n<i.length;n++){var o=i[n];t=Math.max(t,e.items[o].width)}e.scrollWidth=t+10})},t.prototype.focusNextPage=function(e){var t=this,n=this.indexAt(this.scrollTop+this.viewHeight);n=0===n?0:n-1;var i=this.itemAtIndex(n).model.getElement();if(this.model.getFocus()!==i)this.model.setFocus(i,e);else{var o=this.scrollTop;this.scrollTop+=this.viewHeight,this.scrollTop!==o&&setTimeout(function(){t.focusNextPage(e)},0)}},t.prototype.focusPreviousPage=function(e){var t,n=this;t=0===this.scrollTop?this.indexAt(this.scrollTop):this.indexAfter(this.scrollTop-1);var i=this.itemAtIndex(t).model.getElement();if(this.model.getFocus()!==i)this.model.setFocus(i,e);else{var o=this.scrollTop;this.scrollTop-=this.viewHeight,this.scrollTop!==o&&setTimeout(function(){n.focusPreviousPage(e)},0)}},Object.defineProperty(t.prototype,"viewHeight",{get:function(){return this.scrollableElement.getScrollDimensions().height},set:function(e){this.scrollableElement.setScrollDimensions({height:e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollHeight",{set:function(e){this.scrollableElement.setScrollDimensions({scrollHeight:e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"viewWidth",{get:function(){return this.scrollableElement.getScrollDimensions().width},set:function(e){this.scrollableElement.setScrollDimensions({width:e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollWidth",{set:function(e){this.scrollableElement.setScrollDimensions({scrollWidth:e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollTop",{get:function(){return this.scrollableElement.getScrollPosition().scrollTop},set:function(e){this.scrollableElement.setScrollDimensions({scrollHeight:this.getContentHeight()}),this.scrollableElement.setScrollPosition({scrollTop:e})},enumerable:!0,configurable:!0}),t.prototype.onClearingInput=function(e){var t=e.item;t&&(this.onRemoveItems(new E.c(t.getNavigator(),function(e){return e&&e.id})),this.onRowsChanged())},t.prototype.onSetInput=function(e){this.context.cache.garbageCollect(),this.inputItem=new U(this.context,e.item,this.wrapper)},t.prototype.onItemChildrenRefreshing=function(e){var n=e.item,i=this.items[n.id];if(i&&this.context.options.showLoading&&(i.loadingTimer=setTimeout(function(){i.loadingTimer=0,i.loading=!0},t.LOADING_DECORATION_DELAY)),!e.isNested){for(var o,r=[],a=n.getNavigator();o=a.next();)r.push(o.id);this.refreshingPreviousChildrenIds[n.id]=r}},t.prototype.onItemChildrenRefreshed=function(e){var t=this,n=e.item,i=this.items[n.id];if(i&&(i.loadingTimer&&(clearTimeout(i.loadingTimer),i.loadingTimer=0),i.loading=!1),!e.isNested){for(var o,r=this.refreshingPreviousChildrenIds[n.id],a=[],s=n.getNavigator();o=s.next();)a.push(o);var l=Math.abs(r.length-a.length)>1e3,c=void 0,u=void 0;if(!l)u=(c=new C.a({getLength:function(){return r.length},getElementAtIndex:function(e){return r[e]}},{getLength:function(){return a.length},getElementAtIndex:function(e){return a[e].id}},null).ComputeDiff(!1)).some(function(e){if(e.modifiedLength>0)for(var n=e.modifiedStart,i=e.modifiedStart+e.modifiedLength;n<i;n++)if(t.items.hasOwnProperty(a[n].id))return!0;return!1});if(!l&&!u&&c.length<50)for(var d=0,h=c.length;d<h;d++){var f=c[d];if(f.originalLength>0&&this.onRemoveItems(new E.a(r,f.originalStart,f.originalStart+f.originalLength)),f.modifiedLength>0){var p=a[f.modifiedStart-1]||n;p=p.getDepth()>0?p:null,this.onInsertItems(new E.a(a,f.modifiedStart,f.modifiedStart+f.modifiedLength),p?p.id:null)}}else(l||c.length)&&(this.onRemoveItems(new E.a(r)),this.onInsertItems(new E.a(a),n.getDepth()>0?n.id:null));(l||c.length)&&this.onRowsChanged()}},t.prototype.onItemRefresh=function(e){this.onItemsRefresh([e])},t.prototype.onItemsRefresh=function(e){var t=this;this.onRefreshItemSet(e.filter(function(e){return t.items.hasOwnProperty(e.id)})),this.onRowsChanged()},t.prototype.onItemExpanding=function(e){var t=this.items[e.item.id];t&&(t.expanded=!0)},t.prototype.onItemExpanded=function(e){var t=e.item,n=this.items[t.id];if(n){n.expanded=!0;var i=this.onInsertItems(t.getNavigator(),t.id),o=this.scrollTop;n.top+n.height<=this.scrollTop&&(o+=i),this.onRowsChanged(o)}},t.prototype.onItemCollapsing=function(e){var t=e.item,n=this.items[t.id];n&&(n.expanded=!1,this.onRemoveItems(new E.c(t.getNavigator(),function(e){return e&&e.id})),this.onRowsChanged())},t.prototype.onItemReveal=function(e){var t=e.item,n=e.relativeTop,i=this.items[t.id];if(i)if(null!==n){n=(n=n<0?0:n)>1?1:n;var o=i.height-this.viewHeight;this.scrollTop=o*n+i.top}else{var r=i.top+i.height,a=this.scrollTop+this.viewHeight;i.top<this.scrollTop?this.scrollTop=i.top:r>=a&&(this.scrollTop=r-this.viewHeight)}},t.prototype.onItemAddTrait=function(e){var t=e.item,n=e.trait,i=this.items[t.id];i&&i.addClass(n),"highlighted"===n&&(S.f(this.domNode,n),i&&(this.highlightedItemWasDraggable=!!i.draggable,i.draggable&&(i.draggable=!1)))},t.prototype.onItemRemoveTrait=function(e){var t=e.item,n=e.trait,i=this.items[t.id];i&&i.removeClass(n),"highlighted"===n&&(S.G(this.domNode,n),this.highlightedItemWasDraggable&&(i.draggable=!0),this.highlightedItemWasDraggable=!1)},t.prototype.onModelFocusChange=function(){var e=this.model&&this.model.getFocus();S.N(this.domNode,"no-focused-item",!e),e?this.domNode.setAttribute("aria-activedescendant",k.safeBtoa(this.context.dataSource.getId(this.context.tree,e))):this.domNode.removeAttribute("aria-activedescendant")},t.prototype.onInsertItem=function(e){var t=this;e.onDragStart=function(n){t.onDragStart(e,n)},e.needsRender=!0,this.refreshViewItem(e),this.items[e.id]=e},t.prototype.onRefreshItem=function(e,t){void 0===t&&(t=!1),e.needsRender=e.needsRender||t,this.refreshViewItem(e)},t.prototype.onRemoveItem=function(e){this.removeItemFromDOM(e),e.dispose(),delete this.items[e.id]},t.prototype.refreshViewItem=function(e){e.render(),this.shouldBeRendered(e)?this.insertItemInDOM(e):this.removeItemFromDOM(e)},t.prototype.onClick=function(e){if(!this.lastPointerType||"mouse"===this.lastPointerType){var t=new T.b(e),n=this.getItemAround(t.target);n&&(_.k&&Date.now()-this.lastClickTimeStamp<300&&(t.detail=2),this.lastClickTimeStamp=Date.now(),this.context.controller.onClick(this.context.tree,n.model.getElement(),t))}},t.prototype.onMouseDown=function(e){if(this.didJustPressContextMenuKey=!1,this.context.controller.onMouseDown&&(!this.lastPointerType||"mouse"===this.lastPointerType)){var t=new T.b(e);if(!(t.ctrlKey&&w.e&&w.d)){var n=this.getItemAround(t.target);n&&this.context.controller.onMouseDown(this.context.tree,n.model.getElement(),t)}}},t.prototype.onMouseUp=function(e){if(this.context.controller.onMouseUp&&(!this.lastPointerType||"mouse"===this.lastPointerType)){var t=new T.b(e);if(!(t.ctrlKey&&w.e&&w.d)){var n=this.getItemAround(t.target);n&&this.context.controller.onMouseUp(this.context.tree,n.model.getElement(),t)}}},t.prototype.onTap=function(e){var t=this.getItemAround(e.initialTarget);t&&this.context.controller.onTap(this.context.tree,t.model.getElement(),e)},t.prototype.onTouchChange=function(e){e.preventDefault(),e.stopPropagation(),this.scrollTop-=e.translationY},t.prototype.onContextMenu=function(e){var t,n;if(e instanceof KeyboardEvent||this.didJustPressContextMenuKey){this.didJustPressContextMenuKey=!1;var i,o=new O.a(e);if(n=this.model.getFocus()){var r=this.context.dataSource.getId(this.context.tree,n),a=this.items[r];i=S.u(a.element)}else n=this.model.getInput(),i=S.u(this.inputItem.element);t=new j(i.left+i.width,i.top,o)}else{var s=new T.b(e),l=this.getItemAround(s.target);if(!l)return;n=l.model.getElement(),t=new F(s)}this.context.controller.onContextMenu(this.context.tree,n,t)},t.prototype.onKeyDown=function(e){var t=new O.a(e);this.didJustPressContextMenuKey=58===t.keyCode||t.shiftKey&&68===t.keyCode,this.didJustPressContextMenuKey&&(t.preventDefault(),t.stopPropagation()),t.target&&t.target.tagName&&"input"===t.target.tagName.toLowerCase()||this.context.controller.onKeyDown(this.context.tree,t)},t.prototype.onKeyUp=function(e){this.didJustPressContextMenuKey&&this.onContextMenu(e),this.didJustPressContextMenuKey=!1,this.context.controller.onKeyUp(this.context.tree,new O.a(e))},t.prototype.onDragStart=function(e,n){if(!this.model.getHighlight()){var i,o=e.model.getElement(),r=this.model.getSelection();if(i=r.indexOf(o)>-1?r:[o],n.dataTransfer.effectAllowed="copyMove",n.dataTransfer.setData(W,JSON.stringify([e.uri])),n.dataTransfer.setDragImage){var a=void 0;a=this.context.dnd.getDragLabel?this.context.dnd.getDragLabel(this.context.tree,i):String(i.length);var s=document.createElement("div");s.className="monaco-tree-drag-image",s.textContent=a,document.body.appendChild(s),n.dataTransfer.setDragImage(s,-10,-10),setTimeout(function(){return document.body.removeChild(s)},0)}this.currentDragAndDropData=new N(i),t.currentExternalDragAndDropData=new L(i),this.context.dnd.onDragStart(this.context.tree,this.currentDragAndDropData,new T.a(n))}},t.prototype.setupDragAndDropScrollInterval=function(){var e=this,t=S.w(this.wrapper).top;this.dragAndDropScrollInterval||(this.dragAndDropScrollInterval=window.setInterval(function(){if(void 0!==e.dragAndDropMouseY){var n=e.dragAndDropMouseY-t,i=0,o=e.viewHeight-35;n<35?i=Math.max(-14,.2*(n-35)):n>o&&(i=Math.min(14,.2*(n-o))),e.scrollTop+=i}},10),this.cancelDragAndDropScrollTimeout(),this.dragAndDropScrollTimeout=window.setTimeout(function(){e.cancelDragAndDropScrollInterval(),e.dragAndDropScrollTimeout=null},1e3))},t.prototype.cancelDragAndDropScrollInterval=function(){this.dragAndDropScrollInterval&&(window.clearInterval(this.dragAndDropScrollInterval),this.dragAndDropScrollInterval=null),this.cancelDragAndDropScrollTimeout()},t.prototype.cancelDragAndDropScrollTimeout=function(){this.dragAndDropScrollTimeout&&(window.clearTimeout(this.dragAndDropScrollTimeout),this.dragAndDropScrollTimeout=null)},t.prototype.onDragOver=function(e){var n,i=this,a=new T.a(e),s=this.getItemAround(a.target);if(!s||0===a.posx&&0===a.posy&&a.browserEvent.type===S.d.DRAG_LEAVE)return this.currentDropTarget&&(this.currentDropTargets.forEach(function(e){return e.dropTarget=!1}),this.currentDropTargets=[],this.currentDropPromise&&(this.currentDropPromise.cancel(),this.currentDropPromise=null)),this.cancelDragAndDropScrollInterval(),this.currentDropTarget=null,this.currentDropElement=null,this.dragAndDropMouseY=null,!1;if(this.setupDragAndDropScrollInterval(),this.dragAndDropMouseY=a.posy,!this.currentDragAndDropData)if(t.currentExternalDragAndDropData)this.currentDragAndDropData=t.currentExternalDragAndDropData;else{if(!a.dataTransfer.types)return!1;this.currentDragAndDropData=new I}this.currentDragAndDropData.update(a);var l,c=s.model;do{if(n=c?c.getElement():this.model.getInput(),!(l=this.context.dnd.onDragOver(this.context.tree,this.currentDragAndDropData,n,a))||l.bubble!==r.BUBBLE_UP)break;c=c&&c.parent}while(c);if(!c)return this.currentDropElement=null,!1;var d=l&&l.accept;d?(this.currentDropElement=c.getElement(),a.preventDefault(),a.dataTransfer.dropEffect=l.effect===o.COPY?"copy":"move"):this.currentDropElement=null;var h,f,p=c.id===this.inputItem.id?this.inputItem:this.items[c.id];if((this.shouldInvalidateDropReaction||this.currentDropTarget!==p||(h=this.currentDropElementReaction,f=l,!(!h&&!f||h&&f&&h.accept===f.accept&&h.bubble===f.bubble&&h.effect===f.effect)))&&(this.shouldInvalidateDropReaction=!1,this.currentDropTarget&&(this.currentDropTargets.forEach(function(e){return e.dropTarget=!1}),this.currentDropTargets=[],this.currentDropPromise&&(this.currentDropPromise.cancel(),this.currentDropPromise=null)),this.currentDropTarget=p,this.currentDropElementReaction=l,d)){if(this.currentDropTarget&&(this.currentDropTarget.dropTarget=!0,this.currentDropTargets.push(this.currentDropTarget)),l.bubble===r.BUBBLE_DOWN)for(var m,g=c.getNavigator();m=g.next();)(s=this.items[m.id])&&(s.dropTarget=!0,this.currentDropTargets.push(s));l.autoExpand&&(this.currentDropPromise=u.b.timeout(500).then(function(){return i.context.tree.expand(i.currentDropElement)}).then(function(){return i.shouldInvalidateDropReaction=!0}))}return!0},t.prototype.onDrop=function(e){if(this.currentDropElement){var t=new T.a(e);t.preventDefault(),this.currentDragAndDropData.update(t),this.context.dnd.drop(this.context.tree,this.currentDragAndDropData,this.currentDropElement,t),this.onDragEnd(e)}this.cancelDragAndDropScrollInterval()},t.prototype.onDragEnd=function(e){this.currentDropTarget&&(this.currentDropTargets.forEach(function(e){return e.dropTarget=!1}),this.currentDropTargets=[]),this.currentDropPromise&&(this.currentDropPromise.cancel(),this.currentDropPromise=null),this.cancelDragAndDropScrollInterval(),this.currentDragAndDropData=null,t.currentExternalDragAndDropData=null,this.currentDropElement=null,this.currentDropTarget=null,this.dragAndDropMouseY=null},t.prototype.onFocus=function(){this.context.options.alwaysFocused||S.f(this.domNode,"focused"),this._onDOMFocus.fire()},t.prototype.onBlur=function(){this.context.options.alwaysFocused||S.G(this.domNode,"focused"),this.domNode.removeAttribute("aria-activedescendant"),this._onDOMBlur.fire()},t.prototype.onMsPointerDown=function(e){if(this.msGesture){var t=e.pointerType;t!==(e.MSPOINTER_TYPE_MOUSE||"mouse")?t===(e.MSPOINTER_TYPE_TOUCH||"touch")&&(this.lastPointerType="touch",e.stopPropagation(),e.preventDefault(),this.msGesture.addPointer(e.pointerId)):this.lastPointerType="mouse"}},t.prototype.onThrottledMsGestureChange=function(e){this.scrollTop-=e.translationY},t.prototype.onMsGestureTap=function(e){e.initialTarget=document.elementFromPoint(e.clientX,e.clientY),this.onTap(e)},t.prototype.insertItemInDOM=function(e){var t=null,n=this.itemAfter(e);n&&n.element&&(t=n.element),e.insertInDOM(this.rowsContainer,t)},t.prototype.removeItemFromDOM=function(e){e&&e.removeFromDOM()},t.prototype.shouldBeRendered=function(e){return e.top<this.lastRenderTop+this.lastRenderHeight&&e.top+e.height>this.lastRenderTop},t.prototype.getItemAround=function(e){var n=this.inputItem;do{if(e[t.BINDING]&&(n=e[t.BINDING]),e===this.wrapper||e===this.domNode)return n;if(e===document.body)return null}while(e=e.parentElement)},t.prototype.releaseModel=function(){this.model&&(this.modelListeners=c.d(this.modelListeners),this.model=null)},t.prototype.dispose=function(){var t=this;this.scrollableElement.dispose(),this.releaseModel(),this.modelListeners=null,this.viewListeners=c.d(this.viewListeners),this._onDOMFocus.dispose(),this._onDOMBlur.dispose(),this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.domNode=null,this.items&&(Object.keys(this.items).forEach(function(e){return t.items[e].removeFromDOM()}),this.items=null),this.context.cache&&(this.context.cache.dispose(),this.context.cache=null),e.prototype.dispose.call(this)},t.BINDING="monaco-tree-row",t.LOADING_DECORATION_DELAY=800,t.counter=0,t.currentExternalDragAndDropData=null,t}(M),G=n(17),K=n(34);n.d(t,"a",function(){return $});var Y=function(){return function(e,t,n){if(void 0===n&&(n={}),this.tree=e,this.configuration=t,this.options=n,!t.dataSource)throw new Error("You must provide a Data Source to the tree.");this.dataSource=t.dataSource,this.renderer=t.renderer,this.controller=t.controller||new a.c({clickBehavior:a.a.ON_MOUSE_UP,keyboardSupport:"boolean"!==typeof n.keyboardSupport||n.keyboardSupport}),this.dnd=t.dnd||new a.d,this.filter=t.filter||new a.e,this.sorter=t.sorter||null,this.accessibilityProvider=t.accessibilityProvider||new a.b,this.styler=t.styler||null}}(),Z={listFocusBackground:G.a.fromHex("#073655"),listActiveSelectionBackground:G.a.fromHex("#0E639C"),listActiveSelectionForeground:G.a.fromHex("#FFFFFF"),listFocusAndSelectionBackground:G.a.fromHex("#094771"),listFocusAndSelectionForeground:G.a.fromHex("#FFFFFF"),listInactiveSelectionBackground:G.a.fromHex("#3F3F46"),listHoverBackground:G.a.fromHex("#2A2D2E"),listDropBackground:G.a.fromHex("#383B3D")},$=function(){function e(e,t,n){void 0===n&&(n={}),this._onDidChangeFocus=new d.e,this.onDidChangeFocus=this._onDidChangeFocus.event,this._onDidChangeSelection=new d.e,this.onDidChangeSelection=this._onDidChangeSelection.event,this._onHighlightChange=new d.e,this._onDidExpandItem=new d.e,this._onDidCollapseItem=new d.e,this._onDispose=new d.a,this.onDidDispose=this._onDispose.event,this.container=e,Object(K.g)(n,Z,!1),n.twistiePixels="number"===typeof n.twistiePixels?n.twistiePixels:32,n.showTwistie=!1!==n.showTwistie,n.indentPixels="number"===typeof n.indentPixels?n.indentPixels:12,n.alwaysFocused=!0===n.alwaysFocused,n.useShadows=!1!==n.useShadows,n.paddingOnRow=!1!==n.paddingOnRow,n.showLoading=!1!==n.showLoading,this.context=new Y(this,t,n),this.model=new v(this.context),this.view=new q(this.context,this.container),this.view.setModel(this.model),this._onDidChangeFocus.input=this.model.onDidFocus,this._onDidChangeSelection.input=this.model.onDidSelect,this._onHighlightChange.input=this.model.onDidHighlight,this._onDidExpandItem.input=this.model.onDidExpandItem,this._onDidCollapseItem.input=this.model.onDidCollapseItem}return e.prototype.style=function(e){this.view.applyStyles(e)},Object.defineProperty(e.prototype,"onDidFocus",{get:function(){return this.view&&this.view.onDOMFocus},enumerable:!0,configurable:!0}),e.prototype.getHTMLElement=function(){return this.view.getHTMLElement()},e.prototype.layout=function(e,t){this.view.layout(e,t)},e.prototype.domFocus=function(){this.view.focus()},e.prototype.isDOMFocused=function(){return this.view.isFocused()},e.prototype.domBlur=function(){this.view.blur()},e.prototype.setInput=function(e){return this.model.setInput(e)},e.prototype.getInput=function(){return this.model.getInput()},e.prototype.refresh=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!0),this.model.refresh(e,t)},e.prototype.expand=function(e){return this.model.expand(e)},e.prototype.collapse=function(e,t){return void 0===t&&(t=!1),this.model.collapse(e,t)},e.prototype.toggleExpansion=function(e,t){return void 0===t&&(t=!1),this.model.toggleExpansion(e,t)},e.prototype.isExpanded=function(e){return this.model.isExpanded(e)},e.prototype.reveal=function(e,t){return void 0===t&&(t=null),this.model.reveal(e,t)},e.prototype.getHighlight=function(){return this.model.getHighlight()},e.prototype.clearHighlight=function(e){this.model.setHighlight(null,e)},e.prototype.setSelection=function(e,t){this.model.setSelection(e,t)},e.prototype.getSelection=function(){return this.model.getSelection()},e.prototype.clearSelection=function(e){this.model.setSelection([],e)},e.prototype.setFocus=function(e,t){this.model.setFocus(e,t)},e.prototype.getFocus=function(){return this.model.getFocus()},e.prototype.focusNext=function(e,t){this.model.focusNext(e,t)},e.prototype.focusPrevious=function(e,t){this.model.focusPrevious(e,t)},e.prototype.focusParent=function(e){this.model.focusParent(e)},e.prototype.focusFirstChild=function(e){this.model.focusFirstChild(e)},e.prototype.focusFirst=function(e,t){this.model.focusFirst(e,t)},e.prototype.focusNth=function(e,t){this.model.focusNth(e,t)},e.prototype.focusLast=function(e,t){this.model.focusLast(e,t)},e.prototype.focusNextPage=function(e){this.view.focusNextPage(e)},e.prototype.focusPreviousPage=function(e){this.view.focusPreviousPage(e)},e.prototype.clearFocus=function(e){this.model.setFocus(null,e)},e.prototype.dispose=function(){this._onDispose.fire(),null!==this.model&&(this.model.dispose(),this.model=null),null!==this.view&&(this.view.dispose(),this.view=null),this._onDidChangeFocus.dispose(),this._onDidChangeSelection.dispose(),this._onHighlightChange.dispose(),this._onDidExpandItem.dispose(),this._onDidCollapseItem.dispose(),this._onDispose.dispose()},e}()},function(e,t,n){"use strict";n(353);var i=n(0),o=n(15),r=n(5),a=n(7),s=n(66),l=n(9),c=n(11),u=n(17),d=n(37),h=n(1),f=n(94),p=(n(355),n(34)),m={badgeBackground:u.a.fromHex("#4D4D4D"),badgeForeground:u.a.fromHex("#FFFFFF")},g=function(){function e(e,t){this.options=t||Object.create(null),Object(p.g)(this.options,m,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=Object(h.k)(e,Object(h.a)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}return e.prototype.setCount=function(e){this.count=e,this.render()},e.prototype.setTitleFormat=function(e){this.titleFormat=e,this.render()},e.prototype.render=function(){this.element.textContent=Object(l.format)(this.countFormat,this.count),this.element.title=Object(l.format)(this.titleFormat,this.count),this.applyStyles()},e.prototype.style=function(e){this.badgeBackground=e.badgeBackground,this.badgeForeground=e.badgeForeground,this.badgeBorder=e.badgeBorder,this.applyStyles()},e.prototype.applyStyles=function(){if(this.element){var e=this.badgeBackground?this.badgeBackground.toString():null,t=this.badgeForeground?this.badgeForeground.toString():null,n=this.badgeBorder?this.badgeBorder.toString():null;this.element.style.backgroundColor=e,this.element.style.color=t,this.element.style.borderWidth=n?"1px":null,this.element.style.borderStyle=n?"solid":null,this.element.style.borderColor=n}},e}(),b=n(194),y=n(25),v=n(155),w=n(2),_=n(30),S=n(163),C=n(112),x=n(59),k=n(129),T=n(8),O=n(22),N=n(117),L=Object(y.c)("environmentService"),I=n(36),E=n(21),D=n(130),A=n(13),M=n(77),P=n(198),R=n(189);n.d(t,"b",function(){return X}),n.d(t,"a",function(){return Q});var F,j=(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}F(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),W=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},V=function(e,t){return function(n,i){t(n,i,e)}},B=function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function s(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((i=i.apply(e,t||[])).next())})},H=function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},z=function(){function e(e,t){var n=this;this._editor=e,this._model=t,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=[],this._callOnModelChange=[],this._callOnDispose.push(this._editor.onDidChangeModel(function(){return n._onModelChanged()})),this._onModelChanged()}return e.prototype.dispose=function(){this._callOnModelChange=Object(a.d)(this._callOnModelChange),this._callOnDispose=Object(a.d)(this._callOnDispose),this.removeDecorations()},e.prototype._onModelChanged=function(){this._callOnModelChange=Object(a.d)(this._callOnModelChange);var e=this._editor.getModel();if(e)for(var t=0,n=this._model.groups;t<n.length;t++){var i=n[t];if(i.uri.toString()===e.uri.toString())return void this._addDecorations(i)}},e.prototype._addDecorations=function(t){var n=this;this._callOnModelChange.push(this._editor.getModel().onDidChangeDecorations(function(e){return n._onDecorationChanged()}));for(var i=[],o=[],r=0,a=t.children.length;r<a;r++){var s=t.children[r];this._decorationIgnoreSet.has(s.id)||(i.push({range:s.range,options:e.DecorationOptions}),o.push(r))}var l=this._editor.deltaDecorations([],i);for(r=0;r<l.length;r++)this._decorations.set(l[r],t.children[o[r]])},e.prototype._onDecorationChanged=function(){var e=this,t=[];this._decorations.forEach(function(n,i){var o=e._editor.getModel().getDecorationRange(i);if(o){var r=!1;if(!w.a.equalsRange(o,n.range))w.a.spansMultipleLines(o)?r=!0:n.range.endColumn-n.range.startColumn!==o.endColumn-o.startColumn&&(r=!0),r?(e._decorationIgnoreSet.add(n.id),t.push(i)):n.range=o}});for(var n=0,i=t.length;n<i;n++)this._decorations.delete(t[n]);this._editor.deltaDecorations(t,[])},e.prototype.removeDecorations=function(){var e=[];this._decorations.forEach(function(t,n){e.push(n)}),this._editor.deltaDecorations(e,[]),this._decorations.clear()},e.DecorationOptions=_.a.register({stickiness:E.h.NeverGrowsWhenTypingAtEdges,className:"reference-decoration"}),e}(),U=function(){function e(e){this._textModelResolverService=e}return e.prototype.getId=function(e,t){return t instanceof x.c?"root":t instanceof x.a?t.id:t instanceof x.b?t.id:void 0},e.prototype.hasChildren=function(e,t){return t instanceof x.c||t instanceof x.a&&!t.failure},e.prototype.getChildren=function(e,t){return t instanceof x.c?c.b.as(t.groups):t instanceof x.a?t.resolve(this._textModelResolverService).then(function(n){return t.failure?e.refresh(t).then(function(){return n.children}):n.children}):c.b.as([])},e.prototype.getParent=function(e,t){var n=null;return t instanceof x.a?n=t.parent:t instanceof x.b&&(n=t.parent),c.b.as(n)},e=W([V(0,k.a)],e)}(),q=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onDidFocus=new r.a,t.onDidFocus=t._onDidFocus.event,t._onDidSelect=new r.a,t.onDidSelect=t._onDidSelect.event,t._onDidOpenToSide=new r.a,t.onDidOpenToSide=t._onDidOpenToSide.event,t}return j(t,e),t.prototype.onTap=function(t,n,i){if(n instanceof x.a)return i.preventDefault(),i.stopPropagation(),this._expandCollapse(t,n);var o=e.prototype.onTap.call(this,t,n,i);return this._onDidFocus.fire(n),o},t.prototype.onMouseDown=function(t,n,i){var o=2===i.detail;if(i.leftButton){if(n instanceof x.a&&(this.openOnSingleClick||o||this.isClickOnTwistie(i)))return i.preventDefault(),i.stopPropagation(),this._expandCollapse(t,n);var r=e.prototype.onClick.call(this,t,n,i);return(i.ctrlKey||i.metaKey||i.altKey)&&(o||this.openOnSingleClick)?this._onDidOpenToSide.fire(n):o?this._onDidSelect.fire(n):this.openOnSingleClick&&this._onDidFocus.fire(n),r}return!1},t.prototype.onClick=function(t,n,i){return!i.leftButton&&e.prototype.onClick.call(this,t,n,i)},t.prototype._expandCollapse=function(e,t){return e.isExpanded(t)?e.collapse(t).done(null,o.e):e.expand(t).done(null,o.e),!0},t.prototype.onEscape=function(e,t){return!1},t.prototype.dispose=function(){this._onDidFocus.dispose(),this._onDidSelect.dispose(),this._onDidOpenToSide.dispose()},t}(D.d),G=function(){function e(e,t,n,i){var o=this;this._contextService=t,this._environmentService=n;var r=document.createElement("div");h.f(r,"reference-file"),e.appendChild(r),this.file=new b.a(r,I.a.parse("no:file"),this._contextService,this._environmentService),this.badge=new g(Object(d.a)(".count").appendTo(r).getHTMLElement());var a=Object(N.a)(this.badge,i);this.dispose=function(){o.file.dispose(),a.dispose()}}return e.prototype.set=function(e){this.file.setFile(e.uri,this._contextService,this._environmentService);var t=e.children.length;this.badge.setCount(t),e.failure?this.badge.setTitleFormat(i.a("referencesFailre","Failed to resolve file.")):t>1?this.badge.setTitleFormat(i.a("referencesCount","{0} references",t)):this.badge.setTitleFormat(i.a("referenceCount","{0} reference",t))},e=W([V(1,v.a),V(2,Object(y.d)(L)),V(3,O.c)],e)}(),K=function(){function e(e){var t=document.createElement("div");this.before=document.createElement("span"),this.inside=document.createElement("span"),this.after=document.createElement("span"),h.f(this.inside,"referenceMatch"),h.f(t,"reference"),t.appendChild(this.before),t.appendChild(this.inside),t.appendChild(this.after),e.appendChild(t)}return e.prototype.set=function(e){var t=e.parent.preview.preview(e.range),n=t.before,i=t.inside,o=t.after;this.before.innerHTML=l.escape(n),this.inside.innerHTML=l.escape(i),this.after.innerHTML=l.escape(o)},e}(),Y=function(){function e(e,t,n){this._contextService=e,this._themeService=t,this._environmentService=n}return e.prototype.getHeight=function(e,t){return 23},e.prototype.getTemplateId=function(t,n){if(n instanceof x.a)return e._ids.FileReferences;if(n instanceof x.b)return e._ids.OneReference;throw n},e.prototype.renderTemplate=function(t,n,i){if(n===e._ids.FileReferences)return new G(i,this._contextService,this._environmentService,this._themeService);if(n===e._ids.OneReference)return new K(i);throw n},e.prototype.renderElement=function(e,t,n,i){if(t instanceof x.a)i.set(t);else{if(!(t instanceof x.b))throw n;i.set(t)}},e.prototype.disposeTemplate=function(e,t,n){n instanceof G&&n.dispose()},e._ids={FileReferences:"FileReferences",OneReference:"OneReference"},e=W([V(0,v.a),V(1,O.c),V(2,Object(y.d)(L))],e)}(),Z=function(){function e(){}return e.prototype.getAriaLabel=function(e,t){return t instanceof x.a?t.getAriaMessage():t instanceof x.b?t.getAriaMessage():void 0},e}(),$=function(){function e(e,t){var n,i=this;this._disposables=[],this._onDidChangePercentages=new r.a,this._ratio=t,this._sash=new f.b(e,{getVerticalSashLeft:function(){return i._width*i._ratio},getVerticalSashHeight:function(){return i._height}}),this._disposables.push(this._sash.onDidStart(function(e){n=e.startX-i._width*i.ratio})),this._disposables.push(this._sash.onDidChange(function(e){var t=e.currentX-n;t>20&&t+20<i._width&&(i._ratio=t/i._width,i._sash.layout(),i._onDidChangePercentages.fire(i))}))}return e.prototype.dispose=function(){this._sash.dispose(),this._onDidChangePercentages.dispose(),Object(a.d)(this._disposables)},Object.defineProperty(e.prototype,"onDidChangePercentages",{get:function(){return this._onDidChangePercentages.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{set:function(e){this._width=e,this._sash.layout()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{set:function(e){this._height=e,this._sash.layout()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"percentages",{get:function(){var e=100*this._ratio;return[e+"%",100-e+"%"]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ratio",{get:function(){return this._ratio},enumerable:!0,configurable:!0}),e}(),X=new A.f("referenceSearchTreeFocused",!0),Q=function(e){function t(t,n,i,o,a,s,l){var c=e.call(this,t,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0})||this;return c._defaultTreeKeyboardSupport=n,c.layoutData=i,c._textModelResolverService=a,c._instantiationService=s,c._uriDisplay=l,c._disposeOnNewModel=[],c._callOnDispose=[],c._onDidSelectReference=new r.a,c._applyTheme(o.getTheme()),c._callOnDispose.push(o.onThemeChange(c._applyTheme.bind(c))),c.create(),c}return j(t,e),t.prototype._applyTheme=function(e){var t=e.getColor(ne)||u.a.transparent;this.style({arrowColor:t,frameColor:t,headerBackgroundColor:e.getColor(J)||u.a.transparent,primaryHeadingColor:e.getColor(ee),secondaryHeadingColor:e.getColor(te)})},t.prototype.dispose=function(){this.setModel(null),this._callOnDispose=Object(a.d)(this._callOnDispose),Object(a.d)(this._preview,this._previewNotAvailableMessage,this._tree,this._sash,this._previewModelReference),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"onDidSelectReference",{get:function(){return this._onDidSelectReference.event},enumerable:!0,configurable:!0}),t.prototype.show=function(t){this.editor.revealRangeInCenterIfOutsideViewport(t,0),e.prototype.show.call(this,t,this.layoutData.heightInLines||18)},t.prototype.focus=function(){this._tree.domFocus()},t.prototype._onTitleClick=function(e){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:e.ctrlKey||e.metaKey||e.altKey?"side":"open",source:"title"})},t.prototype._fillBody=function(e){var t=this,n=Object(d.a)(e);this.setCssClass("reference-zone-widget"),n.div({class:"messages"},function(e){t._messageContainer=e.hide()}),n.div({class:"preview inline"},function(e){t._preview=t._instantiationService.createInstance(S.a,e.getHTMLElement(),{scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}},t.editor),t._previewContainer=e.hide(),t._previewNotAvailableMessage=_.b.createFromString(i.a("missingPreviewMessage","no preview available"))}),this._sash=new $(e,this.layoutData.ratio||.8),this._sash.onDidChangePercentages(function(){var e=t._sash.percentages,n=e[0],i=e[1];t._previewContainer.style({width:n}),t._treeContainer.style({width:i}),t._preview.layout(),t._tree.layout(),t.layoutData.ratio=t._sash.ratio}),n.div({class:"ref-tree inline"},function(e){var n=t._instantiationService.createInstance(q,{keyboardSupport:t._defaultTreeKeyboardSupport,clickBehavior:M.a.ON_MOUSE_UP});t._callOnDispose.push(n);var o={dataSource:t._instantiationService.createInstance(U),renderer:t._instantiationService.createInstance(Y),controller:n,accessibilityProvider:new Z},r={twistiePixels:20,ariaLabel:i.a("treeAriaLabel","References")};t._tree=t._instantiationService.createInstance(D.c,e.getHTMLElement(),o,r),X.bindTo(t._tree.contextKeyService);var a=function(e,n){e instanceof x.b&&("show"===n&&t._revealReference(e,!1),t._onDidSelectReference.fire({element:e,kind:n,source:"tree"}))};t._disposables.push(t._tree.onDidChangeFocus(function(e){e&&e.payload&&"keyboard"===e.payload.origin&&a(e.focus,"show")})),t._disposables.push(t._tree.onDidChangeSelection(function(e){e&&e.payload&&"keyboard"===e.payload.origin&&a(e.selection[0],"goto")})),t._disposables.push(n.onDidFocus(function(e){return a(e,"show")})),t._disposables.push(n.onDidSelect(function(e){return a(e,"goto")})),t._disposables.push(n.onDidOpenToSide(function(e){return a(e,"side")})),t._treeContainer=e.hide()})},t.prototype._doLayoutBody=function(t,n){e.prototype._doLayoutBody.call(this,t,n);var i=t+"px";this._sash.height=t,this._sash.width=n;var o=this._sash.percentages,r=o[0],a=o[1];this._previewContainer.style({height:i,width:r}),this._treeContainer.style({height:i,width:a}),this._tree.layout(t),this._preview.layout(),this.layoutData={heightInLines:this._viewZone.heightInLines,ratio:this._sash.ratio}},t.prototype._onWidth=function(e){this._sash.width=e,this._preview.layout()},t.prototype.setSelection=function(e){var t=this;return this._revealReference(e,!0).then(function(){t._tree.setSelection([e]),t._tree.setFocus(e)})},t.prototype.setModel=function(e){if(this._disposeOnNewModel=Object(a.d)(this._disposeOnNewModel),this._model=e,this._model)return this._onNewModel()},t.prototype._onNewModel=function(){var e=this;if(this._model.empty)return this.setTitle(""),this._messageContainer.innerHtml(i.a("noResults","No results")).show(),c.b.as(void 0);this._messageContainer.hide(),this._decorationsManager=new z(this._preview,this._model),this._disposeOnNewModel.push(this._decorationsManager),this._disposeOnNewModel.push(this._model.onDidChangeReferenceRange(function(t){return e._tree.refresh(t)})),this._disposeOnNewModel.push(this._preview.onMouseDown(function(t){var n=t.event,i=t.target;2===n.detail&&e._onDidSelectReference.fire({element:{uri:e._getFocusedReference().uri,range:i.range},kind:n.ctrlKey||n.metaKey||n.altKey?"side":"open",source:"editor"})})),h.f(this.container,"results-loaded"),this._treeContainer.show(),this._previewContainer.show(),this._preview.layout(),this._tree.layout(),this.focus();var t=1===this._model.groups.length?this._model.groups[0]:this._model;return this._tree.setInput(t)},t.prototype._getFocusedReference=function(){var e=this._tree.getFocus();return e instanceof x.b?e:e instanceof x.a&&e.children.length>0?e.children[0]:void 0},t.prototype._revealReference=function(e,t){return B(this,void 0,void 0,function(){var n,r=this;return H(this,function(l){switch(l.label){case 0:return e.uri.scheme!==s.a.inMemory?this.setTitle(Object(R.a)(e.uri),this._uriDisplay.getLabel(Object(R.b)(e.uri),!1)):this.setTitle(i.a("peekView.alternateTitle","References")),n=this._textModelResolverService.createModelReference(e.uri),t?[4,this._tree.reveal(e.parent)]:[3,2];case 1:l.sent(),l.label=2;case 2:return[2,c.b.join([n,this._tree.reveal(e)]).then(function(t){var n=t[0];if(r._model){Object(a.d)(r._previewModelReference);var i=n.object;if(i){r._previewModelReference=n;var o=r._preview.getModel()===i.textEditorModel;r._preview.setModel(i.textEditorModel);var s=w.a.lift(e.range).collapseToStart();r._preview.setSelection(s),r._preview.revealRangeInCenter(s,o?0:1)}else r._preview.setModel(r._previewNotAvailableMessage),n.dispose()}else n.dispose()},o.e)]}})})},t=W([V(3,O.c),V(4,k.a),V(5,y.a),V(6,P.a)],t)}(C.b),J=Object(T.kb)("peekViewTitle.background",{dark:"#1E1E1E",light:"#FFFFFF",hc:"#0C141F"},i.a("peekViewTitleBackground","Background color of the peek view title area.")),ee=Object(T.kb)("peekViewTitleLabel.foreground",{dark:"#FFFFFF",light:"#333333",hc:"#FFFFFF"},i.a("peekViewTitleForeground","Color of the peek view title.")),te=Object(T.kb)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#6c6c6cb3",hc:"#FFFFFF99"},i.a("peekViewTitleInfoForeground","Color of the peek view title info.")),ne=Object(T.kb)("peekView.border",{dark:"#007acc",light:"#007acc",hc:T.e},i.a("peekViewBorder","Color of the peek view borders and arrow.")),ie=Object(T.kb)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:u.a.black},i.a("peekViewResultsBackground","Background color of the peek view result list.")),oe=Object(T.kb)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:u.a.white},i.a("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),re=Object(T.kb)("peekViewResult.fileForeground",{dark:u.a.white,light:"#1E1E1E",hc:u.a.white},i.a("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),ae=Object(T.kb)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},i.a("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),se=Object(T.kb)("peekViewResult.selectionForeground",{dark:u.a.white,light:"#6C6C6C",hc:u.a.white},i.a("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),le=Object(T.kb)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:u.a.black},i.a("peekViewEditorBackground","Background color of the peek view editor.")),ce=Object(T.kb)("peekViewEditorGutter.background",{dark:le,light:le,hc:le},i.a("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),ue=Object(T.kb)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},i.a("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),de=Object(T.kb)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},i.a("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),he=Object(T.kb)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:T.b},i.a("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."));Object(O.e)(function(e,t){var n=e.getColor(ue);n&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree .referenceMatch { background-color: "+n+"; }");var i=e.getColor(de);i&&t.addRule(".monaco-editor .reference-zone-widget .preview .reference-decoration { background-color: "+i+"; }");var o=e.getColor(he);o&&t.addRule(".monaco-editor .reference-zone-widget .preview .reference-decoration { border: 2px solid "+o+"; box-sizing: border-box; }");var r=e.getColor(T.b);r&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree .referenceMatch { border: 1px dotted "+r+"; box-sizing: border-box; }");var a=e.getColor(ie);a&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree { background-color: "+a+"; }");var s=e.getColor(oe);s&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree { color: "+s+"; }");var l=e.getColor(re);l&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree .reference-file { color: "+l+"; }");var c=e.getColor(ae);c&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree .monaco-tree.focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { background-color: "+c+"; }");var u=e.getColor(se);u&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree .monaco-tree.focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { color: "+u+" !important; }");var d=e.getColor(le);d&&t.addRule(".monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {\tbackground-color: "+d+";}");var h=e.getColor(ce);h&&t.addRule(".monaco-editor .reference-zone-widget .preview .monaco-editor .margin {\tbackground-color: "+h+";}")})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e)};var i,o=n(203),r=(i=o)&&i.__esModule?i:{default:i};e.exports=t.default},function(e,t,n){"use strict";var i=/[A-Z]/g,o=/^ms-/,r={};e.exports=function(e){return e in r?r[e]:r[e]=e.replace(i,"-$&").toLowerCase().replace(o,"-ms-")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(e.hasOwnProperty(t)){for(var i={},o=e[t],a=(0,r.default)(t),s=Object.keys(n),l=0;l<s.length;l++){var c=s[l];if(c===t)for(var u=0;u<o.length;u++)i[o[u]+a]=n[t];i[c]=n[c]}return i}return n};var i,o=n(180),r=(i=o)&&i.__esModule?i:{default:i};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,i,o){for(var r=0,a=e.length;r<a;++r){var s=e[r](t,n,i,o);if(s)return s}},e.exports=t.default},function(e,t,n){"use strict";function i(e,t){-1===e.indexOf(t)&&e.push(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(Array.isArray(t))for(var n=0,o=t.length;n<o;++n)i(e,t[n]);else i(e,t)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e instanceof Object&&!Array.isArray(e)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(4),a=p(r),s=p(n(114)),l=p(n(132)),c=p(n(211)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(182)),d=n(134),h=p(d),f=n(217);function p(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var g=t.portalClassName="ReactModalPortal",b=t.bodyOpenClassName="ReactModal__Body--open",y=void 0!==s.default.createPortal,v=y?s.default.createPortal:s.default.unstable_renderSubtreeIntoContainer;function w(e){return e()}var _=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),u=0;u<r;u++)l[u]=arguments[u];return n=o=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.removePortal=function(){!y&&s.default.unmountComponentAtNode(o.node),w(o.props.parentSelector).removeChild(o.node)},o.portalRef=function(e){o.portal=e},o.renderPortal=function(e){var n=v(o,a.default.createElement(c.default,i({defaultStyles:t.defaultStyles},e)),o.node);o.portalRef(n)},m(o,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),o(t,[{key:"componentDidMount",value:function(){d.canUseDOM&&(y||(this.node=document.createElement("div")),this.node.className=this.props.portalClassName,w(this.props.parentSelector).appendChild(this.node),!y&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(e){return{prevParent:w(e.parentSelector),nextParent:w(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(e,t,n){if(d.canUseDOM){var i=this.props,o=i.isOpen,r=i.portalClassName;e.portalClassName!==r&&(this.node.className=r);var a=n.prevParent,s=n.nextParent;s!==a&&(a.removeChild(this.node),s.appendChild(this.node)),(e.isOpen||o)&&!y&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(d.canUseDOM&&this.node&&this.portal){var e=this.portal.state,t=Date.now(),n=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);n?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-t)):this.removePortal()}}},{key:"render",value:function(){return d.canUseDOM&&y?(!this.node&&y&&(this.node=document.createElement("div")),v(a.default.createElement(c.default,i({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(e){u.setElement(e)}}]),t}();_.propTypes={isOpen:l.default.bool.isRequired,style:l.default.shape({content:l.default.object,overlay:l.default.object}),portalClassName:l.default.string,bodyOpenClassName:l.default.string,htmlOpenClassName:l.default.string,className:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),overlayClassName:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),appElement:l.default.instanceOf(h.default),onAfterOpen:l.default.func,onRequestClose:l.default.func,closeTimeoutMS:l.default.number,ariaHideApp:l.default.bool,shouldFocusAfterRender:l.default.bool,shouldCloseOnOverlayClick:l.default.bool,shouldReturnFocusAfterClose:l.default.bool,parentSelector:l.default.func,aria:l.default.object,data:l.default.object,role:l.default.string,contentLabel:l.default.string,shouldCloseOnEsc:l.default.bool,overlayRef:l.default.func,contentRef:l.default.func},_.defaultProps={isOpen:!1,portalClassName:g,bodyOpenClassName:b,ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,parentSelector:function(){return document.body}},_.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,f.polyfill)(_),t.default=_},function(e,t,n){"use strict";var i=n(210);function o(){}e.exports=function(){function e(e,t,n,o,r,a){if(a!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=o,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(4),s=m(a),l=m(n(132)),c=p(n(212)),u=m(n(213)),d=p(n(182)),h=p(n(216)),f=m(n(134));function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}var g={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},b=9,y=27,v=0,w=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setOverlayRef=function(e){n.overlay=e,n.props.overlayRef&&n.props.overlayRef(e)},n.setContentRef=function(e){n.content=e,n.props.contentRef&&n.props.contentRef(e)},n.afterClose=function(){var e=n.props,t=e.appElement,i=e.ariaHideApp,o=e.htmlOpenClassName,r=e.bodyOpenClassName;h.remove(document.body,r),o&&h.remove(document.getElementsByTagName("html")[0],o),i&&v>0&&0===(v-=1)&&d.show(t),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(c.returnFocus(),c.teardownScopedFocus()):c.popWithoutFocus())},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(c.setupScopedFocus(n.node),c.markForFocusLater()),n.setState({isOpen:!0},function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen()}))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus()},n.closeWithTimeout=function(){var e=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:e},function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())})},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(e){e.keyCode===b&&(0,u.default)(n.content,e),n.props.shouldCloseOnEsc&&e.keyCode===y&&(e.stopPropagation(),n.requestClose(e))},n.handleOverlayOnClick=function(e){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(e):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(e){n.props.shouldCloseOnOverlayClick||e.target!=n.overlay||e.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(e){return n.ownerHandlesClose()&&n.props.onRequestClose(e)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(e,t){var i="object"===("undefined"===typeof t?"undefined":o(t))?t:{base:g[e],afterOpen:g[e]+"--after-open",beforeClose:g[e]+"--before-close"},r=i.base;return n.state.afterOpen&&(r=r+" "+i.afterOpen),n.state.beforeClose&&(r=r+" "+i.beforeClose),"string"===typeof t&&t?r+" "+t:r},n.attributesFromObject=function(e,t){return Object.keys(t).reduce(function(n,i){return n[e+"-"+i]=t[i],n},{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(e,t){this.props.isOpen&&!e.isOpen?this.open():!this.props.isOpen&&e.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!t.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.afterClose(),clearTimeout(this.closeTimer)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,n=e.ariaHideApp,i=e.htmlOpenClassName,o=e.bodyOpenClassName;h.add(document.body,o),i&&h.add(document.getElementsByTagName("html")[0],i),n&&(v+=1,d.hide(t))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.overlayClassName,o=e.defaultStyles,r=t?{}:o.content,a=n?{}:o.overlay;return this.shouldBeClosed()?null:s.default.createElement("div",{ref:this.setOverlayRef,className:this.buildClassName("overlay",n),style:i({},a,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown,"aria-modal":"true"},s.default.createElement("div",i({ref:this.setContentRef,style:i({},r,this.props.style.content),className:this.buildClassName("content",t),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",this.props.aria||{}),this.attributesFromObject("data",this.props.data||{})),this.props.children))}}]),t}();w.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},w.propTypes={isOpen:l.default.bool.isRequired,defaultStyles:l.default.shape({content:l.default.object,overlay:l.default.object}),style:l.default.shape({content:l.default.object,overlay:l.default.object}),className:l.default.oneOfType([l.default.string,l.default.object]),overlayClassName:l.default.oneOfType([l.default.string,l.default.object]),bodyOpenClassName:l.default.string,htmlOpenClassName:l.default.string,ariaHideApp:l.default.bool,appElement:l.default.instanceOf(f.default),onAfterOpen:l.default.func,onRequestClose:l.default.func,closeTimeoutMS:l.default.number,shouldFocusAfterRender:l.default.bool,shouldCloseOnOverlayClick:l.default.bool,shouldReturnFocusAfterClose:l.default.bool,role:l.default.string,contentLabel:l.default.string,aria:l.default.object,data:l.default.object,children:l.default.node,shouldCloseOnEsc:l.default.bool,overlayRef:l.default.func,contentRef:l.default.func,testId:l.default.string},t.default=w,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleBlur=c,t.handleFocus=u,t.markForFocusLater=function(){a.push(document.activeElement)},t.returnFocus=function(){var e=null;try{return void(0!==a.length&&(e=a.pop()).focus())}catch(t){console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}},t.popWithoutFocus=function(){a.length>0&&a.pop()},t.setupScopedFocus=function(e){s=e,window.addEventListener?(window.addEventListener("blur",c,!1),document.addEventListener("focus",u,!0)):(window.attachEvent("onBlur",c),document.attachEvent("onFocus",u))},t.teardownScopedFocus=function(){s=null,window.addEventListener?(window.removeEventListener("blur",c),document.removeEventListener("focus",u)):(window.detachEvent("onBlur",c),document.detachEvent("onFocus",u))};var i,o=n(181),r=(i=o)&&i.__esModule?i:{default:i};var a=[],s=null,l=!1;function c(){l=!0}function u(){if(l){if(l=!1,!s)return;setTimeout(function(){s.contains(document.activeElement)||((0,r.default)(s)[0]||s).focus()},0)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,r.default)(e);if(!n.length)return void t.preventDefault();var i,o=t.shiftKey,a=n[0],s=n[n.length-1];if(e===document.activeElement){if(!o)return;i=s}s!==document.activeElement||o||(i=a);a===document.activeElement&&o&&(i=s);if(i)return t.preventDefault(),void i.focus();var l=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null==l||"Chrome"==l[1]||null!=/\biPod\b|\biPad\b/g.exec(navigator.userAgent))return;var c=n.indexOf(document.activeElement);c>-1&&(c+=o?-1:1);t.preventDefault(),n[c].focus()};var i,o=n(181),r=(i=o)&&i.__esModule?i:{default:i};e.exports=t.default},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){var i;!function(){"use strict";var o=!("undefined"===typeof window||!window.document||!window.document.createElement),r={canUseDOM:o,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:o&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:o&&!!window.screen};void 0===(i=function(){return r}.call(t,n,t,e))||(e.exports=i)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dumpClassLists=function(){0};var i={},o={};t.add=function(e,t){return n=e.classList,r="html"==e.nodeName.toLowerCase()?i:o,void t.split(" ").forEach(function(e){!function(e,t){e[t]||(e[t]=0),e[t]+=1}(r,e),n.add(e)});var n,r},t.remove=function(e,t){return n=e.classList,r="html"==e.nodeName.toLowerCase()?i:o,void t.split(" ").forEach(function(e){!function(e,t){e[t]&&(e[t]-=1)}(r,e),0===r[e]&&n.remove(e)});var n,r}},function(e,t,n){"use strict";function i(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function o(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function r(e,t){try{var n=this.props,i=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,i)}finally{this.props=n,this.state=i}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,a=null,s=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?s="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var l=e.displayName||e.name,c="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=i,t.componentWillReceiveProps=o),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=r;var u=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var i=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;u.call(this,e,t,i)}}return e}n.r(t),n.d(t,"polyfill",function(){return a}),i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0,r.__suppressDeprecationWarning=!0},function(e,t,n){"use strict";n.r(t);n(317);var i,o=n(0),r=n(7),a=n(9),s=n(1),l=n(156),c=n(32),u=n(62),d=n(25),h=n(65),f=n(13),p=n(6),m=n(3),g=n(159),b=n(22),y=n(8),v=n(18),w=n(61),_=n(83),S=n(36),C=n(28),x=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),k=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},T=function(e,t){return function(n,i){t(n,i,e)}},O=new f.f("accessibilityHelpWidgetVisible",!1),N=function(e){function t(t,n){var i=e.call(this)||this;return i._editor=t,i._widget=i._register(n.createInstance(M,i._editor)),i}return x(t,e),t.get=function(e){return e.getContribution(t.ID)},t.prototype.getId=function(){return t.ID},t.prototype.show=function(){this._widget.show()},t.prototype.hide=function(){this._widget.hide()},t.ID="editor.contrib.accessibilityHelpController",t=k([T(1,d.a)],t)}(r.a),L=o.a("noSelection","No selection"),I=o.a("singleSelectionRange","Line {0}, Column {1} ({2} selected)"),E=o.a("singleSelection","Line {0}, Column {1}"),D=o.a("multiSelectionRange","{0} selections ({1} characters selected)"),A=o.a("multiSelection","{0} selections");var M=function(e){function t(t,n,i,r){var a=e.call(this)||this;return a._contextKeyService=n,a._keybindingService=i,a._openerService=r,a._editor=t,a._isVisibleKey=O.bindTo(a._contextKeyService),a._domNode=Object(c.b)(document.createElement("div")),a._domNode.setClassName("accessibilityHelpWidget"),a._domNode.setDisplay("none"),a._domNode.setAttribute("role","dialog"),a._domNode.setAttribute("aria-hidden","true"),a._contentDomNode=Object(c.b)(document.createElement("div")),a._contentDomNode.setAttribute("role","document"),a._domNode.appendChild(a._contentDomNode),a._isVisible=!1,a._register(a._editor.onDidLayoutChange(function(){a._isVisible&&a._layout()})),a._register(s.j(a._contentDomNode.domNode,"keydown",function(e){if(a._isVisible&&(e.equals(2083)&&(Object(w.a)(o.a("emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'.")),a._editor.updateOptions({accessibilitySupport:"on"}),s.l(a._contentDomNode.domNode),a._buildContent(),a._contentDomNode.domNode.focus(),e.preventDefault(),e.stopPropagation()),e.equals(2086))){Object(w.a)(o.a("openingDocs","Now opening the Editor Accessibility documentation page."));var t=a._editor.getRawConfiguration().accessibilityHelpUrl;"undefined"===typeof t&&(t="https://go.microsoft.com/fwlink/?linkid=852450"),a._openerService.open(S.a.parse(t)),e.preventDefault(),e.stopPropagation()}})),a.onblur(a._contentDomNode.domNode,function(){a.hide()}),a._editor.addOverlayWidget(a),a}return x(t,e),t.prototype.dispose=function(){this._editor.removeOverlayWidget(this),e.prototype.dispose.call(this)},t.prototype.getId=function(){return t.ID},t.prototype.getDomNode=function(){return this._domNode.domNode},t.prototype.getPosition=function(){return{preference:null}},t.prototype.show=function(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())},t.prototype._descriptionForCommand=function(e,t,n){var i=this._keybindingService.lookupKeybinding(e);return i?a.format(t,i.getAriaLabel()):a.format(n,e)},t.prototype._buildContent=function(){var e=this._editor.getConfiguration(),t=this._editor.getSelections(),n=0;if(t){var i=this._editor.getModel();i&&t.forEach(function(e){n+=i.getValueLengthInRange(e)})}var r=function(e,t){return e&&0!==e.length?1===e.length?t?a.format(I,e[0].positionLineNumber,e[0].positionColumn,t):a.format(E,e[0].positionLineNumber,e[0].positionColumn):t?a.format(D,e.length,t):e.length>0?a.format(A,e.length):null:L}(t,n);switch(e.wrappingInfo.inDiffEditor?e.readOnly?r+=o.a("readonlyDiffEditor"," in a read-only pane of a diff editor."):r+=o.a("editableDiffEditor"," in a pane of a diff editor."):e.readOnly?r+=o.a("readonlyEditor"," in a read-only code editor"):r+=o.a("editableEditor"," in a code editor"),e.accessibilitySupport){case 0:var s=v.d?o.a("changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."):o.a("changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now.");r+="\n\n - "+s;break;case 2:r+="\n\n - "+o.a("auto_on","The editor is configured to be optimized for usage with a Screen Reader.");break;case 1:r+="\n\n - "+o.a("auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),r+=" "+s}var c=o.a("tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),u=o.a("tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),d=o.a("tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),h=o.a("tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding.");e.tabFocusMode?r+="\n\n - "+this._descriptionForCommand(g.ToggleTabFocusModeAction.ID,c,u):r+="\n\n - "+this._descriptionForCommand(g.ToggleTabFocusModeAction.ID,d,h),r+="\n\n - "+(v.d?o.a("openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."):o.a("openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility.")),r+="\n\n"+o.a("outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),this._contentDomNode.domNode.appendChild(Object(l.a)(r)),this._contentDomNode.domNode.setAttribute("aria-label",r)},t.prototype.hide=function(){this._isVisible&&(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,s.l(this._contentDomNode.domNode),this._editor.focus())},t.prototype._layout=function(){var e=this._editor.getLayoutInfo(),n=Math.max(5,Math.min(t.WIDTH,e.width-40)),i=Math.max(5,Math.min(t.HEIGHT,e.height-40));this._domNode.setWidth(n),this._domNode.setHeight(i);var o=Math.round((e.height-i)/2);this._domNode.setTop(o);var r=Math.round((e.width-n)/2);this._domNode.setLeft(r)},t.ID="editor.contrib.accessibilityHelpWidget",t.WIDTH=500,t.HEIGHT=300,t=k([T(1,f.e),T(2,h.a),T(3,_.a)],t)}(u.a),P=function(e){function t(){return e.call(this,{id:"editor.action.showAccessibilityHelp",label:o.a("ShowAccessibilityHelpAction","Show Accessibility Help"),alias:"Show Accessibility Help",precondition:null,kbOpts:{kbExpr:p.a.focus,primary:C.k?2107:571,weight:100}})||this}return x(t,e),t.prototype.run=function(e,t){var n=N.get(t);n&&n.show()},t}(m.b);Object(m.h)(N),Object(m.f)(P);var R=m.c.bindToContribution(N.get);Object(m.g)(new R({id:"closeAccessibilityHelp",precondition:O,handler:function(e){return e.hide()},kbOpts:{weight:200,kbExpr:p.a.focus,primary:9,secondary:[1033]}})),Object(b.e)(function(e,t){var n=e.getColor(y.D);n&&t.addRule(".monaco-editor .accessibilityHelpWidget { background-color: "+n+"; }");var i=e.getColor(y.rb);i&&t.addRule(".monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px "+i+"; }");var o=e.getColor(y.e);o&&t.addRule(".monaco-editor .accessibilityHelpWidget { border: 2px solid "+o+"; }")})},function(e,t,n){"use strict";n.r(t),n.d(t,"BracketMatchingController",function(){return _});n(321);var i,o=n(0),r=n(7),a=n(10),s=n(26),l=n(20),c=n(3),u=n(6),d=n(22),h=n(33),f=n(30),p=n(8),m=n(21),g=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),b=Object(p.kb)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},o.a("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets.")),y=function(e){function t(){return e.call(this,{id:"editor.action.jumpToBracket",label:o.a("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:null,kbOpts:{kbExpr:u.a.editorTextFocus,primary:3160,weight:100}})||this}return g(t,e),t.prototype.run=function(e,t){var n=_.get(t);n&&n.jumpToBracket()},t}(c.b),v=function(e){function t(){return e.call(this,{id:"editor.action.selectToBracket",label:o.a("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:null})||this}return g(t,e),t.prototype.run=function(e,t){var n=_.get(t);n&&n.selectToBracket()},t}(c.b),w=function(){return function(e,t){this.position=e,this.brackets=t}}(),_=function(e){function t(t){var n=e.call(this)||this;return n._editor=t,n._lastBracketsData=[],n._lastVersionId=0,n._decorations=[],n._updateBracketsSoon=n._register(new l.c(function(){return n._updateBrackets()},50)),n._matchBrackets=n._editor.getConfiguration().contribInfo.matchBrackets,n._updateBracketsSoon.schedule(),n._register(t.onDidChangeCursorPosition(function(e){n._matchBrackets&&n._updateBracketsSoon.schedule()})),n._register(t.onDidChangeModelContent(function(e){n._updateBracketsSoon.schedule()})),n._register(t.onDidChangeModel(function(e){n._decorations=[],n._updateBracketsSoon.schedule()})),n._register(t.onDidChangeModelLanguageConfiguration(function(e){n._lastBracketsData=[],n._updateBracketsSoon.schedule()})),n._register(t.onDidChangeConfiguration(function(e){n._matchBrackets=n._editor.getConfiguration().contribInfo.matchBrackets,!n._matchBrackets&&n._decorations.length>0&&(n._decorations=n._editor.deltaDecorations(n._decorations,[])),n._updateBracketsSoon.schedule()})),n}return g(t,e),t.get=function(e){return e.getContribution(t.ID)},t.prototype.getId=function(){return t.ID},t.prototype.jumpToBracket=function(){var e=this._editor.getModel();if(e){var t=this._editor.getSelections().map(function(t){var n=t.getStartPosition(),i=e.matchBracket(n),o=null;if(i)i[0].containsPosition(n)?o=i[1].getStartPosition():i[1].containsPosition(n)&&(o=i[0].getStartPosition());else{var r=e.findNextBracket(n);r&&r.range&&(o=r.range.getStartPosition())}return o?new s.a(o.lineNumber,o.column,o.lineNumber,o.column):new s.a(n.lineNumber,n.column,n.lineNumber,n.column)});this._editor.setSelections(t),this._editor.revealRange(t[0])}},t.prototype.selectToBracket=function(){var e=this._editor.getModel();if(e){var t=[];this._editor.getSelections().forEach(function(n){var i=n.getStartPosition(),o=e.matchBracket(i),r=null,a=null;if(!o){var l=e.findNextBracket(i);l&&l.range&&(o=e.matchBracket(l.range.getStartPosition()))}o&&(o[0].startLineNumber===o[1].startLineNumber?(r=o[1].startColumn<o[0].startColumn?o[1].getStartPosition():o[0].getStartPosition(),a=o[1].startColumn<o[0].startColumn?o[0].getEndPosition():o[1].getEndPosition()):(r=o[1].startLineNumber<o[0].startLineNumber?o[1].getStartPosition():o[0].getStartPosition(),a=o[1].startLineNumber<o[0].startLineNumber?o[0].getEndPosition():o[1].getEndPosition())),r&&a&&t.push(new s.a(r.lineNumber,r.column,a.lineNumber,a.column))}),t.length>0&&(this._editor.setSelections(t),this._editor.revealRange(t[0]))}},t.prototype._updateBrackets=function(){if(this._matchBrackets){this._recomputeBrackets();for(var e=[],n=0,i=0,o=this._lastBracketsData.length;i<o;i++){var r=this._lastBracketsData[i].brackets;r&&(e[n++]={range:r[0],options:t._DECORATION_OPTIONS},e[n++]={range:r[1],options:t._DECORATION_OPTIONS})}this._decorations=this._editor.deltaDecorations(this._decorations,e)}},t.prototype._recomputeBrackets=function(){var e=this._editor.getModel();if(!e)return this._lastBracketsData=[],void(this._lastVersionId=0);var t=e.getVersionId(),n=[];this._lastVersionId===t&&(n=this._lastBracketsData);for(var i=this._editor.getSelections(),o=[],r=0,s=0,l=i.length;s<l;s++){var c=i[s];c.isEmpty()&&(o[r++]=c.getStartPosition())}o.length>1&&o.sort(a.a.compare);var u=[],d=0,h=0,f=n.length;for(s=0,l=o.length;s<l;s++){for(var p=o[s];h<f&&n[h].position.isBefore(p);)h++;if(h<f&&n[h].position.equals(p))u[d++]=n[h];else{var m=e.matchBracket(p);u[d++]=new w(p,m)}}this._lastBracketsData=u,this._lastVersionId=t},t.ID="editor.contrib.bracketMatchingController",t._DECORATION_OPTIONS=f.a.register({stickiness:m.h.NeverGrowsWhenTypingAtEdges,className:"bracket-match",overviewRuler:{color:Object(d.f)(b),darkColor:Object(d.f)(b),position:m.f.Center}}),t}(r.a);Object(c.h)(_),Object(c.f)(v),Object(c.f)(y),Object(d.e)(function(e,t){var n=e.getColor(h.c);n&&t.addRule(".monaco-editor .bracket-match { background-color: "+n+"; }");var i=e.getColor(h.d);i&&t.addRule(".monaco-editor .bracket-match { border: 1px solid "+i+"; }")})},function(e,t,n){"use strict";n.r(t);n(323);var i,o=n(0),r=n(28),a=n(18),s=n(39),l=n(3),c=n(185),u=n(6),d=n(41),h=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),f="9_cutcopypaste",p=a.e||document.queryCommandSupported("cut"),m=a.e||document.queryCommandSupported("copy"),g=m&&!r.h,b=a.e||!r.f&&document.queryCommandSupported("paste"),y=function(e){function t(t,n){var i=e.call(this,n)||this;return i.browserCommand=t,i}return h(t,e),t.prototype.runCommand=function(e,t){var n=e.get(s.a).getFocusedCodeEditor();n&&n.hasTextFocus()?n.trigger("keyboard",this.id,t):document.execCommand(this.browserCommand)},t.prototype.run=function(e,t){t.focus(),document.execCommand(this.browserCommand)},t}(l.b),v=function(e){function t(){var t={kbExpr:u.a.textInputFocus,primary:2102,win:{primary:2102,secondary:[1044]},weight:100};return a.e||(t=null),e.call(this,"cut",{id:"editor.action.clipboardCutAction",label:o.a("actions.clipboard.cutLabel","Cut"),alias:"Cut",precondition:u.a.writable,kbOpts:t,menuOpts:{group:f,order:1},menubarOpts:{menuId:d.b.MenubarEditMenu,group:"2_ccp",title:o.a({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1}})||this}return h(t,e),t.prototype.run=function(t,n){!n.getConfiguration().emptySelectionClipboard&&n.getSelection().isEmpty()||e.prototype.run.call(this,t,n)},t}(y),w=function(e){function t(){var t={kbExpr:u.a.textInputFocus,primary:2081,win:{primary:2081,secondary:[2067]},weight:100};return a.e||(t=null),e.call(this,"copy",{id:"editor.action.clipboardCopyAction",label:o.a("actions.clipboard.copyLabel","Copy"),alias:"Copy",precondition:null,kbOpts:t,menuOpts:{group:f,order:2},menubarOpts:{menuId:d.b.MenubarEditMenu,group:"2_ccp",title:o.a({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2}})||this}return h(t,e),t.prototype.run=function(t,n){!n.getConfiguration().emptySelectionClipboard&&n.getSelection().isEmpty()||e.prototype.run.call(this,t,n)},t}(y),_=function(e){function t(){var t={kbExpr:u.a.textInputFocus,primary:2100,win:{primary:2100,secondary:[1043]},weight:100};return a.e||(t=null),e.call(this,"paste",{id:"editor.action.clipboardPasteAction",label:o.a("actions.clipboard.pasteLabel","Paste"),alias:"Paste",precondition:u.a.writable,kbOpts:t,menuOpts:{group:f,order:3},menubarOpts:{menuId:d.b.MenubarEditMenu,group:"2_ccp",title:o.a({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:3}})||this}return h(t,e),t}(y),S=function(e){function t(){return e.call(this,"copy",{id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:o.a("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:null,kbOpts:{kbExpr:u.a.textInputFocus,primary:null,weight:100}})||this}return h(t,e),t.prototype.run=function(t,n){!n.getConfiguration().emptySelectionClipboard&&n.getSelection().isEmpty()||(c.a.forceCopyWithSyntaxHighlighting=!0,e.prototype.run.call(this,t,n),c.a.forceCopyWithSyntaxHighlighting=!1)},t}(y);p&&Object(l.f)(v),m&&Object(l.f)(w),b&&Object(l.f)(_),g&&Object(l.f)(S)},function(e,t,n){"use strict";n.r(t),n.d(t,"ContextMenuController",function(){return v});var i,o=n(0),r=n(7),a=n(11),s=n(1),l=n(76),c=n(84),u=n(65),d=n(13),h=n(41),f=n(6),p=n(3),m=n(19),g=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),b=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},y=function(e,t){return function(n,i){t(n,i,e)}},v=function(){function e(e,t,n,i,o,r){var a=this;this._contextMenuService=t,this._contextViewService=n,this._contextKeyService=i,this._keybindingService=o,this._menuService=r,this._toDispose=[],this._contextMenuIsBeingShownCount=0,this._editor=e,this._toDispose.push(this._editor.onContextMenu(function(e){return a._onContextMenu(e)})),this._toDispose.push(this._editor.onDidScrollChange(function(e){a._contextMenuIsBeingShownCount>0&&a._contextViewService.hideContextView()})),this._toDispose.push(this._editor.onKeyDown(function(e){58===e.keyCode&&(e.preventDefault(),e.stopPropagation(),a.showContextMenu())}))}return e.get=function(t){return t.getContribution(e.ID)},e.prototype._onContextMenu=function(e){if(!this._editor.getConfiguration().contribInfo.contextmenu)return this._editor.focus(),void(e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position));var t;e.target.type!==m.b.OVERLAY_WIDGET&&(e.event.preventDefault(),(e.target.type===m.b.CONTENT_TEXT||e.target.type===m.b.CONTENT_EMPTY||e.target.type===m.b.TEXTAREA)&&(this._editor.focus(),e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position),e.target.type!==m.b.TEXTAREA&&(t={x:e.event.posx,y:e.event.posy+1}),this.showContextMenu(t)))},e.prototype.showContextMenu=function(e){if(this._editor.getConfiguration().contribInfo.contextmenu)if(this._contextMenuService){var t=this._getMenuActions();t.length>0&&this._doShowContextMenu(t,e)}else this._editor.focus()},e.prototype._getMenuActions=function(){var e=[],t=this._menuService.createMenu(h.b.EditorContext,this._contextKeyService),n=t.getActions({arg:this._editor.getModel().uri});t.dispose();for(var i=0,o=n;i<o.length;i++){var r=o[i][1];e.push.apply(e,r),e.push(new l.e)}return e.pop(),e},e.prototype._doShowContextMenu=function(e,t){var n=this;void 0===t&&(t=null);var i=this._editor.getConfiguration().contribInfo.hover;this._editor.updateOptions({hover:{enabled:!1}});var o=t;if(!o){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();var r=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),c=s.u(this._editor.getDomNode()),u=c.left+r.left,d=c.top+r.top+r.height;o={x:u,y:d}}this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({getAnchor:function(){return o},getActions:function(){return a.b.as(e)},getActionItem:function(e){var t=n._keybindingFor(e);if(t)return new l.b(e,e,{label:!0,keybinding:t.getLabel(),isMenu:!0});var i=e;return"function"===typeof i.getActionItem?i.getActionItem():new l.b(e,e,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:function(e){return n._keybindingFor(e)},onHide:function(e){n._contextMenuIsBeingShownCount--,n._editor.focus(),n._editor.updateOptions({hover:i})}})},e.prototype._keybindingFor=function(e){return this._keybindingService.lookupKeybinding(e.id)},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose=Object(r.d)(this._toDispose)},e.ID="editor.contrib.contextmenu",e=b([y(1,c.a),y(2,c.b),y(3,d.e),y(4,u.a),y(5,h.a)],e)}(),w=function(e){function t(){return e.call(this,{id:"editor.action.showContextMenu",label:o.a("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:null,kbOpts:{kbExpr:f.a.textInputFocus,primary:1092,weight:100}})||this}return g(t,e),t.prototype.run=function(e,t){v.get(t).showContextMenu()},t}(p.b);Object(p.h)(v),Object(p.f)(w)},function(e,t,n){"use strict";n.r(t),n.d(t,"CursorUndoController",function(){return u}),n.d(t,"CursorUndo",function(){return d});var i,o=n(0),r=n(3),a=n(7),s=n(6),l=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=function(){function e(e){this.selections=e}return e.prototype.equals=function(e){var t=this.selections.length;if(t!==e.selections.length)return!1;for(var n=0;n<t;n++)if(!this.selections[n].equalsSelection(e.selections[n]))return!1;return!0},e}(),u=function(e){function t(t){var n=e.call(this)||this;return n._editor=t,n._isCursorUndo=!1,n._undoStack=[],n._prevState=n._readState(),n._register(t.onDidChangeModel(function(e){n._undoStack=[],n._prevState=null})),n._register(t.onDidChangeModelContent(function(e){n._undoStack=[],n._prevState=null})),n._register(t.onDidChangeCursorSelection(function(e){!n._isCursorUndo&&n._prevState&&(n._undoStack.push(n._prevState),n._undoStack.length>50&&n._undoStack.shift()),n._prevState=n._readState()})),n}return l(t,e),t.get=function(e){return e.getContribution(t.ID)},t.prototype._readState=function(){return this._editor.getModel()?new c(this._editor.getSelections()):null},t.prototype.getId=function(){return t.ID},t.prototype.cursorUndo=function(){for(var e=new c(this._editor.getSelections());this._undoStack.length>0;){var t=this._undoStack.pop();if(!t.equals(e))return this._isCursorUndo=!0,this._editor.setSelections(t.selections),this._editor.revealRangeInCenterIfOutsideViewport(t.selections[0],0),void(this._isCursorUndo=!1)}},t.ID="editor.contrib.cursorUndoController",t}(a.a),d=function(e){function t(){return e.call(this,{id:"cursorUndo",label:o.a("cursor.undo","Soft Undo"),alias:"Soft Undo",precondition:null,kbOpts:{kbExpr:s.a.textInputFocus,primary:2099,weight:100}})||this}return l(t,e),t.prototype.run=function(e,t,n){u.get(t).cursorUndo()},t}(r.b);Object(r.h)(u),Object(r.f)(d)},function(e,t,n){"use strict";n.r(t);var i,o=n(0),r=n(3),a=n(98),s=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(e){function t(){return e.call(this,{id:"editor.action.fontZoomIn",label:o.a("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:null})||this}return s(t,e),t.prototype.run=function(e,t){a.a.setZoomLevel(a.a.getZoomLevel()+1)},t}(r.b),c=function(e){function t(){return e.call(this,{id:"editor.action.fontZoomOut",label:o.a("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:null})||this}return s(t,e),t.prototype.run=function(e,t){a.a.setZoomLevel(a.a.getZoomLevel()-1)},t}(r.b),u=function(e){function t(){return e.call(this,{id:"editor.action.fontZoomReset",label:o.a("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:null})||this}return s(t,e),t.prototype.run=function(e,t){a.a.setZoomLevel(0)},t}(r.b);Object(r.f)(l),Object(r.f)(c),Object(r.f)(u)},function(e,t,n){"use strict";n.r(t);n(309);var i=n(0),o=n(20),r=n(15),a=n(73),s=n(11),l=n(90),c=n(2),u=n(12),d=n(19),h=n(3),f=n(170),p=n(7),m=n(129),g=n(22),b=n(8),y=n(91),v=n(160),w=n(199),_=n(10),S=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},C=function(e,t){return function(n,i){t(n,i,e)}},x=function(){function e(e,t,n){var i=this;this.textModelResolverService=t,this.modeService=n,this.toUnhook=[],this.decorations=[],this.editor=e,this.throttler=new o.e;var a=new w.a(e);this.toUnhook.push(a),this.toUnhook.push(a.onMouseMoveOrRelevantKeyDown(function(e){var t=e[0],n=e[1];i.startFindDefinition(t,n)})),this.toUnhook.push(a.onExecute(function(e){i.isEnabled(e)&&i.gotoDefinition(e.target,e.hasSideBySideModifier).done(function(){i.removeDecorations()},function(e){i.removeDecorations(),Object(r.e)(e)})})),this.toUnhook.push(a.onCancel(function(){i.removeDecorations(),i.currentWordUnderMouse=null}))}return e.prototype.startFindDefinition=function(e,t){var n=this;if(!this.isEnabled(e,t))return this.currentWordUnderMouse=null,void this.removeDecorations();var o=e.target.position,l=o?this.editor.getModel().getWordAtPosition(o):null;if(!l)return this.currentWordUnderMouse=null,void this.removeDecorations();if(!this.currentWordUnderMouse||this.currentWordUnderMouse.startColumn!==l.startColumn||this.currentWordUnderMouse.endColumn!==l.endColumn||this.currentWordUnderMouse.word!==l.word){this.currentWordUnderMouse=l;var u=new y.a(this.editor,15);this.throttler.queue(function(){return u.validate(n.editor)?n.findDefinition(e.target):s.b.wrap(null)}).then(function(e){if(e&&e.length&&u.validate(n.editor))if(e.length>1)n.addDecoration(new c.a(o.lineNumber,l.startColumn,o.lineNumber,l.endColumn),(new a.a).appendText(i.a("multipleResults","Click to show {0} definitions.",e.length)));else{var t=e[0];if(!t.uri)return;n.textModelResolverService.createModelReference(t.uri).then(function(e){if(e.object&&e.object.textEditorModel){var i=e.object.textEditorModel,r=t.range.startLineNumber;if(0!==i.getLineMaxColumn(r)){var s,u=n.getPreviewValue(i,r);s=t.origin?c.a.lift(t.origin):new c.a(o.lineNumber,l.startColumn,o.lineNumber,l.endColumn),n.addDecoration(s,(new a.a).appendCodeblock(n.modeService.getModeIdByFilenameOrFirstLine(i.uri.fsPath),u)),e.dispose()}else e.dispose()}else e.dispose()})}else n.removeDecorations()}).done(void 0,r.e)}},e.prototype.getPreviewValue=function(t,n){var i=this.getPreviewRangeBasedOnBrackets(t,n);return i.endLineNumber-i.startLineNumber>=e.MAX_SOURCE_PREVIEW_LINES&&(i=this.getPreviewRangeBasedOnIndentation(t,n)),this.stripIndentationFromPreviewRange(t,n,i)},e.prototype.stripIndentationFromPreviewRange=function(e,t,n){for(var i=e.getLineFirstNonWhitespaceColumn(t),o=t+1;o<n.endLineNumber;o++){var r=e.getLineFirstNonWhitespaceColumn(o);i=Math.min(i,r)}return e.getValueInRange(n).replace(new RegExp("^\\s{"+(i-1)+"}","gm"),"").trim()},e.prototype.getPreviewRangeBasedOnIndentation=function(t,n){for(var i=t.getLineFirstNonWhitespaceColumn(n),o=Math.min(t.getLineCount(),n+e.MAX_SOURCE_PREVIEW_LINES),r=n+1;r<o;r++){if(i===t.getLineFirstNonWhitespaceColumn(r))break}return new c.a(n,1,r+1,1)},e.prototype.getPreviewRangeBasedOnBrackets=function(t,n){for(var i=Math.min(t.getLineCount(),n+e.MAX_SOURCE_PREVIEW_LINES),o=[],r=!0,a=t.findNextBracket(new _.a(n,1));null!==a;){if(0===o.length)o.push(a);else{var s=o[o.length-1];if(s.open===a.open&&s.isOpen&&!a.isOpen?o.pop():o.push(a),0===o.length){if(!r)return new c.a(n,1,a.range.endLineNumber+1,1);r=!1}}var l=t.getLineMaxColumn(n),u=a.range.endLineNumber,d=a.range.endColumn;if(l===a.range.endColumn&&(u++,d=1),u>i)return new c.a(n,1,i+1,1);a=t.findNextBracket(new _.a(u,d))}return new c.a(n,1,i+1,1)},e.prototype.addDecoration=function(e,t){var n={range:e,options:{inlineClassName:"goto-definition-link",hoverMessage:t}};this.decorations=this.editor.deltaDecorations(this.decorations,[n])},e.prototype.removeDecorations=function(){this.decorations.length>0&&(this.decorations=this.editor.deltaDecorations(this.decorations,[]))},e.prototype.isEnabled=function(e,t){return this.editor.getModel()&&e.isNoneOrSingleMouseDown&&e.target.type===d.b.CONTENT_TEXT&&(e.hasTriggerModifier||t&&t.keyCodeIsTriggerKey)&&u.e.has(this.editor.getModel())},e.prototype.findDefinition=function(e){var t=this.editor.getModel();return t?Object(f.a)(t,e.position):s.b.as(null)},e.prototype.gotoDefinition=function(e,t){var n=this;this.editor.setPosition(e.position);var i=new v.DefinitionAction(new v.DefinitionActionConfig(t,!1,!0,!1),{alias:void 0,label:void 0,id:void 0,precondition:void 0});return this.editor.invokeWithinContext(function(e){return i.run(e,n.editor)})},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this.toUnhook=Object(p.d)(this.toUnhook)},e.ID="editor.contrib.gotodefinitionwithmouse",e.MAX_SOURCE_PREVIEW_LINES=8,e=S([C(1,m.a),C(2,l.a)],e)}();Object(h.h)(x),Object(g.e)(function(e,t){var n=e.getColor(b.m);n&&t.addRule(".monaco-editor .goto-definition-link { color: "+n+" !important; }")})},function(e,t,n){"use strict";n.r(t),n.d(t,"GotoLineEntry",function(){return p}),n.d(t,"GotoLineAction",function(){return m});n(406);var i,o=n(0),r=n(119),a=n(99),s=n(6),l=n(19),c=n(167),u=n(3),d=n(10),h=n(2),f=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),p=function(e){function t(t,n,i){var o=e.call(this)||this;return o.editor=n,o.decorator=i,o._parseResult=o._parseInput(t),o}return f(t,e),t.prototype._parseInput=function(e){var t,n,i=e.split(",").map(function(e){return parseInt(e,10)}).filter(function(e){return!isNaN(e)});t=0===i.length?new d.a(-1,-1):1===i.length?new d.a(i[0],1):new d.a(i[0],i[1]);var r=(n=Object(l.d)(this.editor)?this.editor.getModel():this.editor.getModel().modified).validatePosition(t).equals(t);return{position:t,isValid:r,label:r?t.column&&t.column>1?o.a("gotoLineLabelValidLineAndColumn","Go to line {0} and character {1}",t.lineNumber,t.column):o.a("gotoLineLabelValidLine","Go to line {0}",t.lineNumber,t.column):t.lineNumber<1||t.lineNumber>n.getLineCount()?o.a("gotoLineLabelEmptyWithLineLimit","Type a line number between 1 and {0} to navigate to",n.getLineCount()):o.a("gotoLineLabelEmptyWithLineAndColumnLimit","Type a character between 1 and {0} to navigate to",n.getLineMaxColumn(t.lineNumber))}},t.prototype.getLabel=function(){return this._parseResult.label},t.prototype.getAriaLabel=function(){return o.a("gotoLineAriaLabel","Go to line {0}",this._parseResult.label)},t.prototype.run=function(e,t){return e===a.a.OPEN?this.runOpen():this.runPreview()},t.prototype.runOpen=function(){if(!this._parseResult.isValid)return!1;var e=this.toSelection();return this.editor.setSelection(e),this.editor.revealRangeInCenter(e,0),this.editor.focus(),!0},t.prototype.runPreview=function(){if(!this._parseResult.isValid)return this.decorator.clearDecorations(),!1;var e=this.toSelection();return this.editor.revealRangeInCenter(e,0),this.decorator.decorateLine(e,this.editor),!1},t.prototype.toSelection=function(){return new h.a(this._parseResult.position.lineNumber,this._parseResult.position.column,this._parseResult.position.lineNumber,this._parseResult.position.column)},t}(r.a),m=function(e){function t(){return e.call(this,o.a("gotoLineActionInput","Type a line number, followed by an optional colon and a character number to navigate to"),{id:"editor.action.gotoLine",label:o.a("GotoLineAction.label","Go to Line..."),alias:"Go to Line...",precondition:null,kbOpts:{kbExpr:s.a.focus,primary:2085,mac:{primary:293},weight:100}})||this}return f(t,e),t.prototype.run=function(e,t){var n=this;this._show(this.getController(t),{getModel:function(e){return new r.c([new p(e,t,n.getController(t))])},getAutoFocus:function(e){return{autoFocusFirstEntry:e.length>0}}})},t}(c.a);Object(u.f)(m)},function(e,t,n){"use strict";n.r(t);n(418);var i,o=n(0),r=n(7),a=n(9),s=n(3),l=n(19),c=n(90),u=n(12),d=n(103),h=n(71),f=n(17),p=n(22),m=n(8),g=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),b=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},y=function(e,t){return function(n,i){t(n,i,e)}},v=function(e){function t(t,n,i){var o=e.call(this)||this;return o._editor=t,o._standaloneThemeService=n,o._modeService=i,o._widget=null,o._register(o._editor.onDidChangeModel(function(e){return o.stop()})),o._register(o._editor.onDidChangeModelLanguage(function(e){return o.stop()})),o._register(u.y.onDidChange(function(e){return o.stop()})),o}return g(t,e),t.get=function(e){return e.getContribution(t.ID)},t.prototype.getId=function(){return t.ID},t.prototype.dispose=function(){this.stop(),e.prototype.dispose.call(this)},t.prototype.launch=function(){this._widget||this._editor.getModel()&&(this._widget=new _(this._editor,this._standaloneThemeService,this._modeService))},t.prototype.stop=function(){this._widget&&(this._widget.dispose(),this._widget=null)},t.ID="editor.contrib.inspectTokens",t=b([y(1,d.a),y(2,c.a)],t)}(r.a),w=function(e){function t(){return e.call(this,{id:"editor.action.inspectTokens",label:o.a("inspectTokens","Developer: Inspect Tokens"),alias:"Developer: Inspect Tokens",precondition:null})||this}return g(t,e),t.prototype.run=function(e,t){var n=v.get(t);n&&n.launch()},t}(s.b);var _=function(e){function t(t,n,i){var o,r=e.call(this)||this;return r.allowEditorOverflow=!0,r._editor=t,r._modeService=i,r._model=r._editor.getModel(),r._domNode=document.createElement("div"),r._domNode.className="tokens-inspect-widget",r._tokenizationSupport=(o=r._model.getLanguageIdentifier(),u.y.get(o.language)||{getInitialState:function(){return h.c},tokenize:function(e,t,n){return Object(h.d)(o.language,e,t,n)},tokenize2:function(e,t,n){return Object(h.e)(o.id,e,t,n)}}),r._compute(r._editor.getPosition()),r._register(r._editor.onDidChangeCursorPosition(function(e){return r._compute(r._editor.getPosition())})),r._editor.addContentWidget(r),r}return g(t,e),t.prototype.dispose=function(){this._editor.removeContentWidget(this),e.prototype.dispose.call(this)},t.prototype.getId=function(){return t._ID},t.prototype._compute=function(e){for(var t=this._getTokensAtLine(e.lineNumber),n=0,i=t.tokens1.length-1;i>=0;i--){var o=t.tokens1[i];if(e.column-1>=o.offset){n=i;break}}var r=0;for(i=t.tokens2.length>>>1;i>=0;i--)if(e.column-1>=t.tokens2[i<<1]){r=i;break}var s="",l=this._model.getLineContent(e.lineNumber),c="";if(n<t.tokens1.length){var u=t.tokens1[n].offset,d=n+1<t.tokens1.length?t.tokens1[n+1].offset:l.length;c=l.substring(u,d)}s+='<h2 class="tm-token">'+function(e){for(var t="",n=0,i=e.length;n<i;n++){var o=e.charCodeAt(n);switch(o){case 9:t+="&rarr;";break;case 32:t+="&middot;";break;case 60:t+="&lt;";break;case 62:t+="&gt;";break;case 38:t+="&amp;";break;default:t+=String.fromCharCode(o)}}return t}(c)+'<span class="tm-token-length">('+c.length+" "+(1===c.length?"char":"chars")+")</span></h2>",s+='<hr class="tokens-inspect-separator" style="clear:both"/>';var h=this._decodeMetadata(t.tokens2[1+(r<<1)]);s+='<table class="tm-metadata-table"><tbody>',s+='<tr><td class="tm-metadata-key">language</td><td class="tm-metadata-value">'+Object(a.escape)(h.languageIdentifier.language)+"</td>",s+='<tr><td class="tm-metadata-key">token type</td><td class="tm-metadata-value">'+this._tokenTypeToString(h.tokenType)+"</td>",s+='<tr><td class="tm-metadata-key">font style</td><td class="tm-metadata-value">'+this._fontStyleToString(h.fontStyle)+"</td>",s+='<tr><td class="tm-metadata-key">foreground</td><td class="tm-metadata-value">'+f.a.Format.CSS.formatHex(h.foreground)+"</td>",s+='<tr><td class="tm-metadata-key">background</td><td class="tm-metadata-value">'+f.a.Format.CSS.formatHex(h.background)+"</td>",s+="</tbody></table>",s+='<hr class="tokens-inspect-separator"/>',n<t.tokens1.length&&(s+='<span class="tm-token-type">'+Object(a.escape)(t.tokens1[n].type)+"</span>"),this._domNode.innerHTML=s,this._editor.layoutContentWidget(this)},t.prototype._decodeMetadata=function(e){var t=u.y.getColorMap(),n=u.x.getLanguageId(e),i=u.x.getTokenType(e),o=u.x.getFontStyle(e),r=u.x.getForeground(e),a=u.x.getBackground(e);return{languageIdentifier:this._modeService.getLanguageIdentifier(n),tokenType:i,fontStyle:o,foreground:t[r],background:t[a]}},t.prototype._tokenTypeToString=function(e){switch(e){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 4:return"RegEx"}return"??"},t.prototype._fontStyleToString=function(e){var t="";return 1&e&&(t+="italic "),2&e&&(t+="bold "),4&e&&(t+="underline "),0===t.length&&(t="---"),t},t.prototype._getTokensAtLine=function(e){var t=this._getStateBeforeLine(e),n=this._tokenizationSupport.tokenize(this._model.getLineContent(e),t,0),i=this._tokenizationSupport.tokenize2(this._model.getLineContent(e),t,0);return{startState:t,tokens1:n.tokens,tokens2:i.tokens,endState:n.endState}},t.prototype._getStateBeforeLine=function(e){for(var t=this._tokenizationSupport.getInitialState(),n=1;n<e;n++){t=this._tokenizationSupport.tokenize(this._model.getLineContent(n),t,0).endState}return t},t.prototype.getDomNode=function(){return this._domNode},t.prototype.getPosition=function(){return{position:this._editor.getPosition(),preference:[l.a.BELOW,l.a.ABOVE]}},t._ID="editor.contrib.inspectTokensWidget",t}(r.a);Object(s.h)(v),Object(s.f)(w),Object(p.e)(function(e,t){var n=e.getColor(m.w);if(n){var i=e.type===p.b?2:1;t.addRule(".monaco-editor .tokens-inspect-widget { border: "+i+"px solid "+n+"; }"),t.addRule(".monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: "+n+"; }")}var o=e.getColor(m.v);o&&t.addRule(".monaco-editor .tokens-inspect-widget { background-color: "+o+"; }")})},function(e,t,n){"use strict";n.r(t),n.d(t,"IPadShowKeyboard",function(){return l});n(420);var i=n(7),o=n(28),r=n(1),a=n(19),s=n(3),l=function(){function e(e){var t=this;this.editor=e,this.toDispose=[],o.l&&(this.toDispose.push(e.onDidChangeConfiguration(function(){return t.update()})),this.update())}return e.prototype.update=function(){var e=!!this.widget,t=!this.editor.getConfiguration().readOnly;!e&&t?this.widget=new c(this.editor):e&&!t&&(this.widget.dispose(),this.widget=null)},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this.toDispose=Object(i.d)(this.toDispose),this.widget&&(this.widget.dispose(),this.widget=null)},e.ID="editor.contrib.iPadShowKeyboard",e}(),c=function(){function e(e){var t=this;this.editor=e,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._toDispose=[],this._toDispose.push(r.g(this._domNode,"touchstart",function(e){t.editor.focus()})),this._toDispose.push(r.g(this._domNode,"focus",function(e){t.editor.focus()})),this.editor.addOverlayWidget(this)}return e.prototype.dispose=function(){this.editor.removeOverlayWidget(this),this._toDispose=Object(i.d)(this._toDispose)},e.prototype.getId=function(){return e.ID},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getPosition=function(){return{preference:a.c.BOTTOM_RIGHT_CORNER}},e.ID="editor.contrib.ShowKeyboardWidget",e}();Object(s.h)(l)},function(e,t,n){"use strict";n.r(t),n.d(t,"InsertCursorAbove",function(){return S}),n.d(t,"InsertCursorBelow",function(){return C}),n.d(t,"MultiCursorSessionResult",function(){return k}),n.d(t,"MultiCursorSession",function(){return T}),n.d(t,"MultiCursorSelectionController",function(){return O}),n.d(t,"MultiCursorSelectionControllerAction",function(){return N}),n.d(t,"AddSelectionToNextFindMatchAction",function(){return L}),n.d(t,"AddSelectionToPreviousFindMatchAction",function(){return I}),n.d(t,"MoveSelectionToNextFindMatchAction",function(){return E}),n.d(t,"MoveSelectionToPreviousFindMatchAction",function(){return D}),n.d(t,"SelectHighlightsAction",function(){return A}),n.d(t,"CompatChangeAll",function(){return M}),n.d(t,"SelectionHighlighter",function(){return R});var i,o=n(0),r=n(7),a=n(42),s=n(20),l=n(21),c=n(6),u=n(3),d=n(2),h=n(26),f=n(38),p=n(69),m=n(12),g=n(153),b=n(30),y=n(8),v=n(22),w=n(41),_=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),S=function(e){function t(){return e.call(this,{id:"editor.action.insertCursorAbove",label:o.a("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:null,kbOpts:{kbExpr:c.a.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menubarOpts:{menuId:w.b.MenubarSelectionMenu,group:"3_multi",title:o.a({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})||this}return _(t,e),t.prototype.run=function(e,t,n){var i=n&&!0===n.logicalLine,o=t._getCursors(),r=o.context;r.config.readOnly||(r.model.pushStackElement(),o.setStates(n.source,f.a.Explicit,p.b.addCursorUp(r,o.getAll(),i)),o.reveal(!0,1,0))},t}(u.b),C=function(e){function t(){return e.call(this,{id:"editor.action.insertCursorBelow",label:o.a("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:null,kbOpts:{kbExpr:c.a.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menubarOpts:{menuId:w.b.MenubarSelectionMenu,group:"3_multi",title:o.a({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})||this}return _(t,e),t.prototype.run=function(e,t,n){var i=n&&!0===n.logicalLine,o=t._getCursors(),r=o.context;r.config.readOnly||(r.model.pushStackElement(),o.setStates(n.source,f.a.Explicit,p.b.addCursorDown(r,o.getAll(),i)),o.reveal(!0,2,0))},t}(u.b),x=function(e){function t(){return e.call(this,{id:"editor.action.insertCursorAtEndOfEachLineSelected",label:o.a("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:null,kbOpts:{kbExpr:c.a.editorTextFocus,primary:1575,weight:100},menubarOpts:{menuId:w.b.MenubarSelectionMenu,group:"3_multi",title:o.a({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})||this}return _(t,e),t.prototype.getCursorsForSelection=function(e,t,n){if(!e.isEmpty()){for(var i=e.startLineNumber;i<e.endLineNumber;i++){var o=t.getLineMaxColumn(i);n.push(new h.a(i,o,i,o))}e.endColumn>1&&n.push(new h.a(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn))}},t.prototype.run=function(e,t){var n=this,i=t.getModel(),o=[];t.getSelections().forEach(function(e){return n.getCursorsForSelection(e,i,o)}),o.length>0&&t.setSelections(o)},t}(u.b),k=function(){return function(e,t,n){this.selections=e,this.revealRange=t,this.revealScrollType=n}}(),T=function(){function e(e,t,n,i,o,r,a){this._editor=e,this.findController=t,this.isDisconnectedFromFindController=n,this.searchText=i,this.wholeWord=o,this.matchCase=r,this.currentMatch=a}return e.create=function(t,n){var i=n.getState();if(!t.hasTextFocus()&&i.isRevealed&&i.searchString.length>0)return new e(t,n,!1,i.searchString,i.wholeWord,i.matchCase,null);var o,r,a=!1,s=t.getSelections();1===s.length&&s[0].isEmpty()?(a=!0,o=!0,r=!0):(o=i.wholeWord,r=i.matchCase);var l,c=t.getSelection(),u=null;if(c.isEmpty()){var d=t.getModel().getWordAtPosition(c.getStartPosition());if(!d)return null;l=d.word,u=new h.a(c.startLineNumber,d.startColumn,c.startLineNumber,d.endColumn)}else l=t.getModel().getValueInRange(c).replace(/\r\n/g,"\n");return new e(t,n,a,l,o,r,u)},e.prototype.addSelectionToNextFindMatch=function(){var e=this._getNextMatch();if(!e)return null;var t=this._editor.getSelections();return new k(t.concat(e),e,0)},e.prototype.moveSelectionToNextFindMatch=function(){var e=this._getNextMatch();if(!e)return null;var t=this._editor.getSelections();return new k(t.slice(0,t.length-1).concat(e),e,0)},e.prototype._getNextMatch=function(){if(this.currentMatch){var e=this.currentMatch;return this.currentMatch=null,e}this.findController.highlightFindOptions();var t=this._editor.getSelections(),n=t[t.length-1],i=this._editor.getModel().findNextMatch(this.searchText,n.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getConfiguration().wordSeparators:null,!1);return i?new h.a(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null},e.prototype.addSelectionToPreviousFindMatch=function(){var e=this._getPreviousMatch();if(!e)return null;var t=this._editor.getSelections();return new k(t.concat(e),e,0)},e.prototype.moveSelectionToPreviousFindMatch=function(){var e=this._getPreviousMatch();if(!e)return null;var t=this._editor.getSelections();return new k(t.slice(0,t.length-1).concat(e),e,0)},e.prototype._getPreviousMatch=function(){if(this.currentMatch){var e=this.currentMatch;return this.currentMatch=null,e}this.findController.highlightFindOptions();var t=this._editor.getSelections(),n=t[t.length-1],i=this._editor.getModel().findPreviousMatch(this.searchText,n.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getConfiguration().wordSeparators:null,!1);return i?new h.a(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null},e.prototype.selectAll=function(){return this.findController.highlightFindOptions(),this._editor.getModel().findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getConfiguration().wordSeparators:null,!1,1073741824)},e}(),O=function(e){function t(t){var n=e.call(this)||this;return n._editor=t,n._ignoreSelectionChange=!1,n._session=null,n._sessionDispose=[],n}return _(t,e),t.get=function(e){return e.getContribution(t.ID)},t.prototype.dispose=function(){this._endSession(),e.prototype.dispose.call(this)},t.prototype.getId=function(){return t.ID},t.prototype._beginSessionIfNeeded=function(e){var t=this;if(!this._session){var n=T.create(this._editor,e);if(!n)return;this._session=n;var i={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(i.wholeWordOverride=1,i.matchCaseOverride=1,i.isRegexOverride=2),e.getState().change(i,!1),this._sessionDispose=[this._editor.onDidChangeCursorSelection(function(e){t._ignoreSelectionChange||t._endSession()}),this._editor.onDidBlurEditorText(function(){t._endSession()}),e.getState().onFindReplaceStateChange(function(e){(e.matchCase||e.wholeWord)&&t._endSession()})]}},t.prototype._endSession=function(){if(this._sessionDispose=Object(r.d)(this._sessionDispose),this._session&&this._session.isDisconnectedFromFindController){this._session.findController.getState().change({wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0},!1)}this._session=null},t.prototype._setSelections=function(e){this._ignoreSelectionChange=!0,this._editor.setSelections(e),this._ignoreSelectionChange=!1},t.prototype._expandEmptyToWord=function(e,t){if(!t.isEmpty())return t;var n=e.getWordAtPosition(t.getStartPosition());return n?new h.a(t.startLineNumber,n.startColumn,t.startLineNumber,n.endColumn):t},t.prototype._applySessionResult=function(e){e&&(this._setSelections(e.selections),e.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(e.revealRange,e.revealScrollType))},t.prototype.getSession=function(e){return this._session},t.prototype.addSelectionToNextFindMatch=function(e){if(!this._session){var t=this._editor.getSelections();if(t.length>1){var n=e.getState().matchCase;if(!F(this._editor.getModel(),t,n)){for(var i=this._editor.getModel(),o=[],r=0,a=t.length;r<a;r++)o[r]=this._expandEmptyToWord(i,t[r]);return void this._editor.setSelections(o)}}}this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())},t.prototype.addSelectionToPreviousFindMatch=function(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())},t.prototype.moveSelectionToNextFindMatch=function(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())},t.prototype.moveSelectionToPreviousFindMatch=function(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())},t.prototype.selectAll=function(e){var t=null,n=e.getState();if(n.isRevealed&&n.searchString.length>0&&n.isRegex)t=this._editor.getModel().findMatches(n.searchString,!0,n.isRegex,n.matchCase,n.wholeWord?this._editor.getConfiguration().wordSeparators:null,!1,1073741824);else{if(this._beginSessionIfNeeded(e),!this._session)return;t=this._session.selectAll()}if(t.length>0){for(var i=this._editor.getSelection(),o=0,r=t.length;o<r;o++){var a=t[o];if(a.range.intersectRanges(i)){t[o]=t[0],t[0]=a;break}}this._setSelections(t.map(function(e){return new h.a(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn)}))}},t.ID="editor.contrib.multiCursorController",t}(r.a),N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _(t,e),t.prototype.run=function(e,t){var n=O.get(t);if(n){var i=g.CommonFindController.get(t);if(!i)return null;this._run(n,i)}},t}(u.b),L=function(e){function t(){return e.call(this,{id:"editor.action.addSelectionToNextFindMatch",label:o.a("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:null,kbOpts:{kbExpr:c.a.focus,primary:2082,weight:100},menubarOpts:{menuId:w.b.MenubarSelectionMenu,group:"3_multi",title:o.a({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})||this}return _(t,e),t.prototype._run=function(e,t){e.addSelectionToNextFindMatch(t)},t}(N),I=function(e){function t(){return e.call(this,{id:"editor.action.addSelectionToPreviousFindMatch",label:o.a("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:null,menubarOpts:{menuId:w.b.MenubarSelectionMenu,group:"3_multi",title:o.a({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})||this}return _(t,e),t.prototype._run=function(e,t){e.addSelectionToPreviousFindMatch(t)},t}(N),E=function(e){function t(){return e.call(this,{id:"editor.action.moveSelectionToNextFindMatch",label:o.a("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:null,kbOpts:{kbExpr:c.a.focus,primary:Object(a.a)(2089,2082),weight:100}})||this}return _(t,e),t.prototype._run=function(e,t){e.moveSelectionToNextFindMatch(t)},t}(N),D=function(e){function t(){return e.call(this,{id:"editor.action.moveSelectionToPreviousFindMatch",label:o.a("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:null})||this}return _(t,e),t.prototype._run=function(e,t){e.moveSelectionToPreviousFindMatch(t)},t}(N),A=function(e){function t(){return e.call(this,{id:"editor.action.selectHighlights",label:o.a("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:null,kbOpts:{kbExpr:c.a.focus,primary:3114,weight:100},menubarOpts:{menuId:w.b.MenubarSelectionMenu,group:"3_multi",title:o.a({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})||this}return _(t,e),t.prototype._run=function(e,t){e.selectAll(t)},t}(N),M=function(e){function t(){return e.call(this,{id:"editor.action.changeAll",label:o.a("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:c.a.writable,kbOpts:{kbExpr:c.a.editorTextFocus,primary:2108,weight:100},menuOpts:{group:"1_modification",order:1.2}})||this}return _(t,e),t.prototype._run=function(e,t){e.selectAll(t)},t}(N),P=function(){function e(e,t,n,i){this.lastWordUnderCursor=e,this.searchText=t,this.matchCase=n,this.wordSeparators=i}return e.softEquals=function(e,t){return!e&&!t||!(!e||!t)&&(e.searchText===t.searchText&&e.matchCase===t.matchCase&&e.wordSeparators===t.wordSeparators)},e}(),R=function(e){function t(t){var n=e.call(this)||this;return n.editor=t,n._isEnabled=t.getConfiguration().contribInfo.selectionHighlight,n.decorations=[],n.updateSoon=n._register(new s.c(function(){return n._update()},300)),n.state=null,n._register(t.onDidChangeConfiguration(function(e){n._isEnabled=t.getConfiguration().contribInfo.selectionHighlight})),n._register(t.onDidChangeCursorSelection(function(e){n._isEnabled&&(e.selection.isEmpty()?e.reason===f.a.Explicit?(!n.state||n.state.lastWordUnderCursor&&n.state.lastWordUnderCursor.containsPosition(e.selection.getStartPosition())||n._setState(null),n.updateSoon.schedule()):n._setState(null):n._update())})),n._register(t.onDidChangeModel(function(e){n._setState(null)})),n._register(g.CommonFindController.get(t).getState().onFindReplaceStateChange(function(e){n._update()})),n}return _(t,e),t.prototype.getId=function(){return t.ID},t.prototype._update=function(){this._setState(t._createState(this._isEnabled,this.editor))},t._createState=function(e,t){if(!e)return null;var n=t.getModel();if(!n)return null;var i=t.getSelection();if(i.startLineNumber!==i.endLineNumber)return null;var o=O.get(t);if(!o)return null;var r=g.CommonFindController.get(t);if(!r)return null;var a=o.getSession(r);if(!a){var s=t.getSelections();if(s.length>1){var l=r.getState().matchCase;if(!F(t.getModel(),s,l))return null}a=T.create(t,r)}if(!a)return null;var c=null,u=m.h.has(n);if(a.currentMatch){if(u)return null;if(!t.getConfiguration().contribInfo.occurrencesHighlight)return null;c=a.currentMatch}if(/^[ \t]+$/.test(a.searchText))return null;if(a.searchText.length>200)return null;var d=r.getState(),h=d.matchCase;if(d.isRevealed){var f=d.searchString;h||(f=f.toLowerCase());var p=a.searchText;if(h||(p=p.toLowerCase()),f===p&&a.matchCase===d.matchCase&&a.wholeWord===d.wholeWord&&!d.isRegex)return null}return new P(c,a.searchText,a.matchCase,a.wholeWord?t.getConfiguration().wordSeparators:null)},t.prototype._setState=function(e){if(P.softEquals(this.state,e))this.state=e;else if(this.state=e,this.state){var n=this.editor.getModel();if(!n.isTooLargeForTokenization()){var i=m.h.has(n),o=n.findMatches(this.state.searchText,!0,!1,this.state.matchCase,this.state.wordSeparators,!1).map(function(e){return e.range});o.sort(d.a.compareRangesUsingStarts);var r=this.editor.getSelections();r.sort(d.a.compareRangesUsingStarts);for(var a=[],s=0,l=0,c=o.length,u=r.length;s<c;){var h=o[s];if(l>=u)a.push(h),s++;else{var f=d.a.compareRangesUsingStarts(h,r[l]);f<0?(!r[l].isEmpty()&&d.a.areIntersecting(h,r[l])||a.push(h),s++):f>0?l++:(s++,l++)}}var p=a.map(function(e){return{range:e,options:i?t._SELECTION_HIGHLIGHT:t._SELECTION_HIGHLIGHT_OVERVIEW}});this.decorations=this.editor.deltaDecorations(this.decorations,p)}}else this.decorations=this.editor.deltaDecorations(this.decorations,[])},t.prototype.dispose=function(){this._setState(null),e.prototype.dispose.call(this)},t.ID="editor.contrib.selectionHighlighter",t._SELECTION_HIGHLIGHT_OVERVIEW=b.a.register({stickiness:l.h.NeverGrowsWhenTypingAtEdges,className:"selectionHighlight",overviewRuler:{color:Object(v.f)(y.gb),darkColor:Object(v.f)(y.gb),position:l.f.Center}}),t._SELECTION_HIGHLIGHT=b.a.register({stickiness:l.h.NeverGrowsWhenTypingAtEdges,className:"selectionHighlight"}),t}(r.a);function F(e,t,n){for(var i=j(e,t[0],!n),o=1,r=t.length;o<r;o++){var a=t[o];if(a.isEmpty())return!1;if(i!==j(e,a,!n))return!1}return!0}function j(e,t,n){var i=e.getValueInRange(t);return n?i.toLowerCase():i}Object(u.h)(O),Object(u.h)(R),Object(u.f)(S),Object(u.f)(C),Object(u.f)(x),Object(u.f)(L),Object(u.f)(I),Object(u.f)(E),Object(u.f)(D),Object(u.f)(A),Object(u.f)(M)},function(e,t,n){"use strict";n.r(t),n.d(t,"EditorActionCommandEntry",function(){return g}),n.d(t,"QuickCommandAction",function(){return b});var i,o=n(0),r=n(15),a=n(110),s=n(11),l=n(119),c=n(99),u=n(65),d=n(6),h=n(167),f=n(3),p=n(28),m=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),g=function(e){function t(t,n,i,o){var r=e.call(this)||this;return r.key=t,r.setHighlights(n),r.action=i,r.editor=o,r}return m(t,e),t.prototype.getLabel=function(){return this.action.label},t.prototype.getAriaLabel=function(){return o.a("ariaLabelEntry","{0}, commands",this.getLabel())},t.prototype.getGroupLabel=function(){return this.key},t.prototype.run=function(e,t){var n=this;return e===c.a.OPEN&&(s.b.timeout(50).done(function(){n.editor.focus();try{(n.action.run()||s.b.as(null)).done(null,r.e)}catch(e){Object(r.e)(e)}},r.e),!0)},t}(l.b),b=function(e){function t(){return e.call(this,o.a("quickCommandActionInput","Type the name of an action you want to execute"),{id:"editor.action.quickCommand",label:o.a("QuickCommandAction.label","Command Palette"),alias:"Command Palette",precondition:null,kbOpts:{kbExpr:d.a.focus,primary:p.k?571:59,weight:100},menuOpts:{group:"z_commands",order:1}})||this}return m(t,e),t.prototype.run=function(e,t){var n=this,i=e.get(u.a);this._show(this.getController(t),{getModel:function(e){return new l.c(n._editorActionsToEntries(i,t,e))},getAutoFocus:function(e){return{autoFocusFirstEntry:!0,autoFocusPrefixMatch:e}}})},t.prototype._sort=function(e,t){var n=e.getLabel().toLowerCase(),i=t.getLabel().toLowerCase();return n.localeCompare(i)},t.prototype._editorActionsToEntries=function(e,t,n){for(var i=t.getSupportedActions(),o=[],r=0;r<i.length;r++){var s=i[r],l=e.lookupKeybinding(s.id);if(s.label){var c=Object(a.e)(n,s.label);c&&o.push(new g(l?l.getLabel():"",c,s,t))}}return o=o.sort(this._sort)},t}(h.a);Object(f.f)(b)},function(e,t,n){"use strict";n.r(t),n.d(t,"defaultReferenceSearchOptions",function(){return L}),n.d(t,"ReferenceController",function(){return I}),n.d(t,"ReferenceAction",function(){return E}),n.d(t,"provideReferences",function(){return M});var i,o=n(0),r=n(11),a=n(13),s=n(85),l=n(10),c=n(3),u=n(12),d=n(2),h=n(112),f=n(101),p=n(59),m=n(20),g=n(15),b=n(6),y=n(163),v=n(19),w=n(130),_=n(201),S=n(40),C=n(36),x=n(39),k=n(51),T=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),O=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},N=function(e,t){return function(n,i){t(n,i,e)}},L={getMetaTitle:function(e){return e.references.length>1&&o.a("meta.titleReference"," \u2013 {0} references",e.references.length)}},I=function(){function e(e,t){e instanceof y.a&&h.a.inPeekEditor.bindTo(t)}return e.prototype.dispose=function(){},e.prototype.getId=function(){return e.ID},e.ID="editor.contrib.referenceController",e=O([N(1,a.e)],e)}(),E=function(e){function t(){return e.call(this,{id:"editor.action.referenceSearch.trigger",label:o.a("references.action.label","Find All References"),alias:"Find All References",precondition:a.d.and(b.a.hasReferenceProvider,h.a.notInPeekEditor,b.a.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:b.a.editorTextFocus,primary:1094,weight:100},menuOpts:{group:"navigation",order:1.5}})||this}return T(t,e),t.prototype.run=function(e,t){var n=f.a.get(t);if(n){var i=t.getSelection(),o=t.getModel(),r=Object(m.i)(function(e){return M(o,i.getStartPosition(),e).then(function(e){return new p.c(e)})});n.toggleWidget(i,r,L)}},t}(c.b);Object(c.h)(I),Object(c.f)(E);function D(e,t){A(e,function(e){return e.closeWidget()})}function A(e,t){var n=Object(h.c)(e);if(n){var i=f.a.get(n);i&&t(i)}}function M(e,t,n){var i=u.r.ordered(e).map(function(n){return Object(m.h)(function(i){return n.provideReferences(e,t,{includeDeclaration:!0},i)}).then(function(e){if(Array.isArray(e))return e},function(e){Object(g.f)(e)})});return Promise.all(i).then(function(e){for(var t=[],n=0,i=e;n<i.length;n++){var o=i[n];o&&t.push.apply(t,o)}return t})}S.a.registerCommand({id:"editor.action.findReferences",handler:function(e,t,n){if(!(t instanceof C.a))throw new Error("illegal argument, uri");if(!n)throw new Error("illegal argument, position");var i=e.get(x.a);return i.openCodeEditor({resource:t},i.getFocusedCodeEditor()).then(function(e){if(Object(v.d)(e)){var t=f.a.get(e);if(t){var i=Object(m.i)(function(t){return M(e.getModel(),l.a.lift(n),t).then(function(e){return new p.c(e)})}),o=new d.a(n.lineNumber,n.column,n.lineNumber,n.column);return r.b.as(t.toggleWidget(o,i,L))}}})}}),S.a.registerCommand({id:"editor.action.showReferences",handler:function(e,t,n,i){if(!(t instanceof C.a))throw new Error("illegal argument, uri expected");var o=e.get(x.a);return o.openCodeEditor({resource:t},o.getFocusedCodeEditor()).then(function(e){if(Object(v.d)(e)){var t=f.a.get(e);if(t)return r.b.as(t.toggleWidget(new d.a(n.lineNumber,n.column,n.lineNumber,n.column),Object(m.i)(function(e){return Promise.resolve(new p.c(i))}),L)).then(function(){return!0})}})},description:{description:"Show references at a position in a file",args:[{name:"uri",description:"The text document in which to show references",constraint:C.a},{name:"position",description:"The position at which to show",constraint:l.a.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array}]}}),s.a.registerCommandAndKeybindingRule({id:"goToNextReference",weight:250,primary:62,when:f.b,handler:function(e){A(e,function(e){e.goToNextOrPreviousReference(!0)})}}),s.a.registerCommandAndKeybindingRule({id:"goToNextReferenceFromEmbeddedEditor",weight:150,primary:62,when:h.a.inPeekEditor,handler:function(e){A(e,function(e){e.goToNextOrPreviousReference(!0)})}}),s.a.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:250,primary:1086,when:f.b,handler:function(e){A(e,function(e){e.goToNextOrPreviousReference(!1)})}}),s.a.registerCommandAndKeybindingRule({id:"goToPreviousReferenceFromEmbeddedEditor",weight:150,primary:1086,when:h.a.inPeekEditor,handler:function(e){A(e,function(e){e.goToNextOrPreviousReference(!1)})}}),s.a.registerCommandAndKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:a.d.and(f.b,a.d.not("config.editor.stablePeek")),handler:D}),s.a.registerCommandAndKeybindingRule({id:"closeReferenceSearchEditor",weight:-1,primary:9,secondary:[1033],when:a.d.and(h.a.inPeekEditor,a.d.not("config.editor.stablePeek")),handler:D}),s.a.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:a.d.and(f.b,_.b),handler:function(e,t){var n=e.get(w.a),i=n.lastFocusedList&&n.lastFocusedList.getFocus();i instanceof p.b&&A(e,function(e){return e.openReference(i,!0)})}}),Object(c.e)("_executeReferenceProvider",function(e,t){return M(e,t,k.a.None)})},function(e,t,n){"use strict";n.r(t),n.d(t,"StandaloneReferencesController",function(){return m});var i,o=n(39),r=n(25),a=n(13),s=n(52),l=n(58),c=n(3),u=n(48),d=n(101),h=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),f=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},p=function(e,t){return function(n,i){t(n,i,e)}},m=function(e){function t(t,n,i,o,r,a,s){return e.call(this,!0,t,n,i,o,r,a,s)||this}return h(t,e),t=f([p(1,a.e),p(2,o.a),p(3,u.a),p(4,r.a),p(5,l.a),p(6,s.b)],t)}(d.a);Object(c.h)(m)},function(e,t,n){"use strict";n.r(t);var i,o=n(0),r=n(3),a=n(103),s=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(e){function t(){var t=e.call(this,{id:"editor.action.toggleHighContrast",label:o.a("toggleHighContrast","Toggle High Contrast Theme"),alias:"Toggle High Contrast Theme",precondition:null})||this;return t._originalThemeName=null,t}return s(t,e),t.prototype.run=function(e,t){var n=e.get(a.a);this._originalThemeName?(n.setTheme(this._originalThemeName),this._originalThemeName=null):(this._originalThemeName=n.getTheme().themeName,n.setTheme("hc-black"))},t}(r.b);Object(r.f)(l)},function(e,t,n){"use strict";n.r(t);var i,o=n(0),r=n(9),a=n(2),s=n(10),l=n(6),c=n(3),u=n(46),d=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),h=function(e){function t(){return e.call(this,{id:"editor.action.transposeLetters",label:o.a("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:l.a.writable,kbOpts:{kbExpr:l.a.textInputFocus,primary:0,mac:{primary:306},weight:100}})||this}return d(t,e),t.prototype.positionLeftOf=function(e,t){var n=e.column,i=e.lineNumber;return n>t.getLineMinColumn(i)?Object(r.isLowSurrogate)(t.getLineContent(i).charCodeAt(n-2))?n-=2:n-=1:i>1&&(i-=1,n=t.getLineMaxColumn(i)),new s.a(i,n)},t.prototype.positionRightOf=function(e,t){var n=e.column,i=e.lineNumber;return n<t.getLineMaxColumn(i)?Object(r.isHighSurrogate)(t.getLineContent(i).charCodeAt(n-1))?n+=2:n+=1:i<t.getLineCount()&&(i+=1,n=0),new s.a(i,n)},t.prototype.run=function(e,t){for(var n=t.getModel(),i=[],o=0,r=t.getSelections();o<r.length;o++){var s=r[o];if(s.isEmpty()){var l=s.startLineNumber,c=s.startColumn,d=n.getLineMaxColumn(l);if(1!==l||1!==c&&(2!==c||2!==d)){var h=c===d?s.getPosition():this.positionRightOf(s.getPosition(),n),f=this.positionLeftOf(h,n),p=this.positionLeftOf(f,n),m=n.getValueInRange(a.a.fromPositions(p,f)),g=n.getValueInRange(a.a.fromPositions(f,h)),b=a.a.fromPositions(p,h);i.push(new u.a(b,g+m))}}}i.length>0&&(t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop())},t}(c.b);Object(c.f)(h)},function(e,t,n){"use strict";n.r(t),n.d(t,"editorWordHighlight",function(){return C}),n.d(t,"editorWordHighlightStrong",function(){return x}),n.d(t,"editorWordHighlightBorder",function(){return k}),n.d(t,"editorWordHighlightStrongBorder",function(){return T}),n.d(t,"overviewRulerWordHighlightForeground",function(){return O}),n.d(t,"overviewRulerWordHighlightStrongForeground",function(){return N}),n.d(t,"ctxHasWordHighlights",function(){return L}),n.d(t,"getOccurrencesAtPosition",function(){return I});var i,o=n(0),r=n(20),a=n(15),s=n(2),l=n(3),c=n(12),u=n(7),d=n(8),h=n(22),f=n(38),p=n(30),m=n(13),g=n(6),b=n(29),y=n(21),v=n(51),w=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),_=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},S=function(e,t){return function(n,i){t(n,i,e)}},C=Object(d.kb)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hc:null},o.a("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque to not hide underlying decorations."),!0),x=Object(d.kb)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hc:null},o.a("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque to not hide underlying decorations."),!0),k=Object(d.kb)("editor.wordHighlightBorder",{light:null,dark:null,hc:d.b},o.a("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable.")),T=Object(d.kb)("editor.wordHighlightStrongBorder",{light:null,dark:null,hc:d.b},o.a("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),O=Object(d.kb)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},o.a("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque to not hide underlying decorations."),!0),N=Object(d.kb)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hc:"#C0A0C0CC"},o.a("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque to not hide underlying decorations."),!0),L=new m.f("hasWordHighlights",!1);function I(e,t,n){var i=c.h.ordered(e);return Object(r.k)(i.map(function(i){return function(){return Promise.resolve(i.provideDocumentHighlights(e,t,n)).then(void 0,a.f)}}),function(e){return!Object(b.k)(e)})}Object(l.e)("_executeDocumentHighlights",function(e,t){return I(e,t,v.a.None)});var E=function(){function e(e,t){var n=this;this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=e,this._hasWordHighlights=L.bindTo(t),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getConfiguration().contribInfo.occurrencesHighlight,this.model=this.editor.getModel(),this.toUnhook=[],this.toUnhook.push(e.onDidChangeCursorPosition(function(e){n._ignorePositionChangeEvent||n.occurrencesHighlight&&n._onPositionChanged(e)})),this.toUnhook.push(e.onDidChangeModel(function(e){n._stopAll(),n.model=n.editor.getModel()})),this.toUnhook.push(e.onDidChangeModelContent(function(e){n._stopAll()})),this.toUnhook.push(e.onDidChangeConfiguration(function(e){var t=n.editor.getConfiguration().contribInfo.occurrencesHighlight;n.occurrencesHighlight!==t&&(n.occurrencesHighlight=t,n._stopAll())})),this._lastWordRange=null,this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}return e.prototype.hasDecorations=function(){return this._decorationIds.length>0},e.prototype.restore=function(){this.occurrencesHighlight&&this._run()},e.prototype._getSortedHighlights=function(){var e=this;return this._decorationIds.map(function(t){return e.model.getDecorationRange(t)}).sort(s.a.compareRangesUsingStarts)},e.prototype.moveNext=function(){var e=this,t=this._getSortedHighlights(),n=t[(Object(b.h)(t,function(t){return t.containsPosition(e.editor.getPosition())})+1)%t.length];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(n.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(n)}finally{this._ignorePositionChangeEvent=!1}},e.prototype.moveBack=function(){var e=this,t=this._getSortedHighlights(),n=t[(Object(b.h)(t,function(t){return t.containsPosition(e.editor.getPosition())})-1+t.length)%t.length];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(n.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(n)}finally{this._ignorePositionChangeEvent=!1}},e.prototype._removeDecorations=function(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]),this._hasWordHighlights.set(!1))},e.prototype._stopAll=function(){this._lastWordRange=null,this._removeDecorations(),-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),null!==this.workerRequest&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)},e.prototype._onPositionChanged=function(e){this.occurrencesHighlight&&e.reason===f.a.Explicit?this._run():this._stopAll()},e.prototype._run=function(){var e=this;if(c.h.has(this.model)){var t=this.editor.getSelection();if(t.startLineNumber===t.endLineNumber){var n=t.startLineNumber,i=t.startColumn,o=t.endColumn,l=this.model.getWordAtPosition({lineNumber:n,column:i});if(!l||l.startColumn>i||l.endColumn<o)this._stopAll();else{for(var u=new s.a(n,l.startColumn,n,l.endColumn),d=this._lastWordRange&&this._lastWordRange.equalsRange(u),h=0,f=this._decorationIds.length;!d&&h<f;h++){var p=this.model.getDecorationRange(this._decorationIds[h]);p&&p.startLineNumber===n&&p.startColumn<=i&&p.endColumn>=o&&(d=!0)}if(this.lastCursorPositionChangeTime=(new Date).getTime(),d)this.workerRequestCompleted&&-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();var m=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=Object(r.i)(function(t){return I(e.model,e.editor.getPosition(),t)}),this.workerRequest.then(function(t){m===e.workerRequestTokenId&&(e.workerRequestCompleted=!0,e.workerRequestValue=t||[],e._beginRenderDecorations())},a.e)}this._lastWordRange=u}}else this._stopAll()}else this._stopAll()},e.prototype._beginRenderDecorations=function(){var e=this,t=(new Date).getTime(),n=this.lastCursorPositionChangeTime+250;t>=n?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(function(){e.renderDecorations()},n-t)},e.prototype.renderDecorations=function(){this.renderDecorationsTimer=-1;for(var t=[],n=0,i=this.workerRequestValue.length;n<i;n++){var o=this.workerRequestValue[n];t.push({range:o.range,options:e._getDecorationOptions(o.kind)})}this._decorationIds=this.editor.deltaDecorations(this._decorationIds,t),this._hasWordHighlights.set(this.hasDecorations())},e._getDecorationOptions=function(e){return e===c.g.Write?this._WRITE_OPTIONS:e===c.g.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS},e.prototype.dispose=function(){this._stopAll(),this.toUnhook=Object(u.d)(this.toUnhook)},e._WRITE_OPTIONS=p.a.register({stickiness:y.h.NeverGrowsWhenTypingAtEdges,className:"wordHighlightStrong",overviewRuler:{color:Object(h.f)(N),darkColor:Object(h.f)(N),position:y.f.Center}}),e._TEXT_OPTIONS=p.a.register({stickiness:y.h.NeverGrowsWhenTypingAtEdges,className:"selectionHighlight",overviewRuler:{color:Object(h.f)(d.gb),darkColor:Object(h.f)(d.gb),position:y.f.Center}}),e._REGULAR_OPTIONS=p.a.register({stickiness:y.h.NeverGrowsWhenTypingAtEdges,className:"wordHighlight",overviewRuler:{color:Object(h.f)(O),darkColor:Object(h.f)(O),position:y.f.Center}}),e}(),D=function(){function e(e,t){this.wordHighligher=new E(e,t)}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.getId=function(){return e.ID},e.prototype.saveViewState=function(){return!!this.wordHighligher.hasDecorations()},e.prototype.moveNext=function(){this.wordHighligher.moveNext()},e.prototype.moveBack=function(){this.wordHighligher.moveBack()},e.prototype.restoreViewState=function(e){e&&this.wordHighligher.restore()},e.prototype.dispose=function(){this.wordHighligher.dispose()},e.ID="editor.contrib.wordHighlighter",e=_([S(1,m.e)],e)}(),A=function(e){function t(t,n){var i=e.call(this,n)||this;return i._isNext=t,i}return w(t,e),t.prototype.run=function(e,t){var n=D.get(t);n&&(this._isNext?n.moveNext():n.moveBack())},t}(l.b),M=function(e){function t(){return e.call(this,!0,{id:"editor.action.wordHighlight.next",label:o.a("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:L,kbOpts:{kbExpr:g.a.editorTextFocus,primary:65,weight:100}})||this}return w(t,e),t}(A),P=function(e){function t(){return e.call(this,!1,{id:"editor.action.wordHighlight.prev",label:o.a("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:L,kbOpts:{kbExpr:g.a.editorTextFocus,primary:1089,weight:100}})||this}return w(t,e),t}(A);Object(l.h)(D),Object(l.f)(M),Object(l.f)(P),Object(h.e)(function(e,t){var n=e.getColor(d.B);n&&(t.addRule(".monaco-editor .focused .selectionHighlight { background-color: "+n+"; }"),t.addRule(".monaco-editor .selectionHighlight { background-color: "+n.transparent(.5)+"; }"));var i=e.getColor(C);i&&t.addRule(".monaco-editor .wordHighlight { background-color: "+i+"; }");var o=e.getColor(x);o&&t.addRule(".monaco-editor .wordHighlightStrong { background-color: "+o+"; }");var r=e.getColor(d.C);r&&t.addRule(".monaco-editor .selectionHighlight { border: 1px "+("hc"===e.type?"dotted":"solid")+" "+r+"; box-sizing: border-box; }");var a=e.getColor(k);a&&t.addRule(".monaco-editor .wordHighlight { border: 1px "+("hc"===e.type?"dashed":"solid")+" "+a+"; box-sizing: border-box; }");var s=e.getColor(T);s&&t.addRule(".monaco-editor .wordHighlightStrong { border: 1px "+("hc"===e.type?"dashed":"solid")+" "+s+"; box-sizing: border-box; }")})},function(e,t,n){"use strict";n.r(t),n.d(t,"DeleteWordPartLeft",function(){return d}),n.d(t,"DeleteWordPartRight",function(){return h}),n.d(t,"WordPartLeftCommand",function(){return f}),n.d(t,"CursorWordPartLeft",function(){return p}),n.d(t,"CursorWordPartLeftSelect",function(){return m}),n.d(t,"WordPartRightCommand",function(){return g}),n.d(t,"CursorWordPartRight",function(){return b}),n.d(t,"CursorWordPartRightSelect",function(){return y});var i,o=n(6),r=n(3),a=n(2),s=n(107),l=n(126),c=n(40),u=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),d=function(e){function t(){return e.call(this,{whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:o.a.writable,kbOpts:{kbExpr:o.a.textInputFocus,primary:0,mac:{primary:769},weight:100}})||this}return u(t,e),t.prototype._delete=function(e,t,n,i,o){var r=s.b.deleteWordPartLeft(e,t,n,i,o);return r||new a.a(1,1,1,1)},t}(l.DeleteWordCommand),h=function(e){function t(){return e.call(this,{whitespaceHeuristics:!0,wordNavigationType:1,id:"deleteWordPartRight",precondition:o.a.writable,kbOpts:{kbExpr:o.a.textInputFocus,primary:0,mac:{primary:788},weight:100}})||this}return u(t,e),t.prototype._delete=function(e,t,n,i,o){var r=s.b.deleteWordPartRight(e,t,n,i,o);if(r)return r;var l=t.getLineCount(),c=t.getLineMaxColumn(l);return new a.a(l,c,l,c)},t}(l.DeleteWordCommand),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t.prototype._move=function(e,t,n,i){return s.b.moveWordPartLeft(e,t,n,i)},t}(l.MoveWordCommand),p=function(e){function t(){return e.call(this,{inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:null,kbOpts:{kbExpr:o.a.textInputFocus,primary:0,mac:{primary:783},weight:100}})||this}return u(t,e),t}(f);c.a.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");var m=function(e){function t(){return e.call(this,{inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:null,kbOpts:{kbExpr:o.a.textInputFocus,primary:0,mac:{primary:1807},weight:100}})||this}return u(t,e),t}(f);c.a.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t.prototype._move=function(e,t,n,i){return s.b.moveWordPartRight(e,t,n,i)},t}(l.MoveWordCommand),b=function(e){function t(){return e.call(this,{inSelectionMode:!1,wordNavigationType:1,id:"cursorWordPartRight",precondition:null,kbOpts:{kbExpr:o.a.textInputFocus,primary:0,mac:{primary:785},weight:100}})||this}return u(t,e),t}(g),y=function(e){function t(){return e.call(this,{inSelectionMode:!0,wordNavigationType:1,id:"cursorWordPartRightSelect",precondition:null,kbOpts:{kbExpr:o.a.textInputFocus,primary:0,mac:{primary:1809},weight:100}})||this}return u(t,e),t}(g);Object(r.g)(new d),Object(r.g)(new h),Object(r.g)(new p),Object(r.g)(new m),Object(r.g)(new b),Object(r.g)(new y)},function(e,t,n){"use strict";n.r(t),n.d(t,"LanguageServiceDefaultsImpl",function(){return c});n(135);var i,o,r,a,s,l=monaco.Emitter,c=function(){function e(e,t){this._onDidChange=new l,this._extraLibs=Object.create(null),this._workerMaxIdleTime=12e4,this.setCompilerOptions(e),this.setDiagnosticsOptions(t)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),e.prototype.getExtraLibs=function(){var e=Object.create(null);for(var t in this._extraLibs)e[t]=this._extraLibs[t];return Object.freeze(e)},e.prototype.addExtraLib=function(e,t){var n=this;if("undefined"===typeof t&&(t="ts:extralib-"+Date.now()),this._extraLibs[t])throw new Error(t+" already a extra lib");return this._extraLibs[t]=e,this._onDidChange.fire(this),{dispose:function(){delete n._extraLibs[t]&&n._onDidChange.fire(n)}}},e.prototype.getCompilerOptions=function(){return this._compilerOptions},e.prototype.setCompilerOptions=function(e){this._compilerOptions=e||Object.create(null),this._onDidChange.fire(this)},e.prototype.getDiagnosticsOptions=function(){return this._diagnosticsOptions},e.prototype.setDiagnosticsOptions=function(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(this)},e.prototype.setMaximumWorkerIdleTime=function(e){this._workerMaxIdleTime=e},e.prototype.getWorkerMaxIdleTime=function(){return this._workerMaxIdleTime},e.prototype.setEagerModelSync=function(e){this._eagerModelSync=e},e.prototype.getEagerModelSync=function(){return this._eagerModelSync},e}();!function(e){e[e.None=0]="None",e[e.CommonJS=1]="CommonJS",e[e.AMD=2]="AMD",e[e.UMD=3]="UMD",e[e.System=4]="System",e[e.ES2015=5]="ES2015",e[e.ESNext=6]="ESNext"}(i||(i={})),function(e){e[e.None=0]="None",e[e.Preserve=1]="Preserve",e[e.React=2]="React",e[e.ReactNative=3]="ReactNative"}(o||(o={})),function(e){e[e.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",e[e.LineFeed=1]="LineFeed"}(r||(r={})),function(e){e[e.ES3=0]="ES3",e[e.ES5=1]="ES5",e[e.ES2015=2]="ES2015",e[e.ES2016=3]="ES2016",e[e.ES2017=4]="ES2017",e[e.ES2018=5]="ES2018",e[e.ESNext=6]="ESNext",e[e.JSON=100]="JSON",e[e.Latest=6]="Latest"}(a||(a={})),function(e){e[e.Classic=1]="Classic",e[e.NodeJs=2]="NodeJs"}(s||(s={}));var u=new c({allowNonTsExtensions:!0,target:a.Latest},{noSemanticValidation:!1,noSyntaxValidation:!1}),d=new c({allowNonTsExtensions:!0,allowJs:!0,target:a.Latest},{noSemanticValidation:!0,noSyntaxValidation:!1});function h(){return p().then(function(e){return e.getTypeScriptWorker()})}function f(){return p().then(function(e){return e.getJavaScriptWorker()})}function p(){return monaco.Promise.wrap(n.e(59).then(n.bind(null,508)))}monaco.languages.typescript={ModuleKind:i,JsxEmit:o,NewLineKind:r,ScriptTarget:a,ModuleResolutionKind:s,typescriptDefaults:u,javascriptDefaults:d,getTypeScriptWorker:h,getJavaScriptWorker:f},monaco.languages.onLanguage("typescript",function(){return p().then(function(e){return e.setupTypeScript(u)})}),monaco.languages.onLanguage("javascript",function(){return p().then(function(e){return e.setupJavaScript(d)})})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:function(){return o.Promise.wrap(n.e(6).then(n.bind(null,458)))}})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:function(){return o.Promise.wrap(n.e(7).then(n.bind(null,459)))}})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:function(){return o.Promise.wrap(n.e(8).then(n.bind(null,460)))}})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"clojure",extensions:[".clj",".clojure"],aliases:["clojure","Clojure"],loader:function(){return o.Promise.wrap(n.e(9).then(n.bind(null,461)))}})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:function(){return o.Promise.wrap(n.e(10).then(n.bind(null,462)))}})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:function(){return o.Promise.wrap(n.e(0).then(n.bind(null,315)))}}),Object(i.a)({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:function(){return o.Promise.wrap(n.e(0).then(n.bind(null,315)))}})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"csharp",extensions:[".cs",".csx"],aliases:["C#","csharp"],loader:function(){return o.Promise.wrap(n.e(11).then(n.bind(null,463)))}})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"csp",extensions:[],aliases:["CSP","csp"],loader:function(){return o.Promise.wrap(n.e(12).then(n.bind(null,464)))}})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:function(){return o.Promise.wrap(n.e(13).then(n.bind(null,465)))}})},function(e,t,n){"use strict";n.r(t),n.d(t,"LanguageServiceDefaultsImpl",function(){return o});n(135);var i=monaco.Emitter,o=function(){function e(e,t){this._onDidChange=new i,this._languageId=e,this.setDiagnosticsOptions(t)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"diagnosticsOptions",{get:function(){return this._diagnosticsOptions},enumerable:!0,configurable:!0}),e.prototype.setDiagnosticsOptions=function(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(this)},e}(),r={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"}},a=new o("css",r),s=new o("scss",r),l=new o("less",r);function c(){return monaco.Promise.wrap(n.e(57).then(n.bind(null,507)))}monaco.languages.css={cssDefaults:a,lessDefaults:l,scssDefaults:s},monaco.languages.onLanguage("less",function(){c().then(function(e){return e.setupMode(l)})}),monaco.languages.onLanguage("scss",function(){c().then(function(e){return e.setupMode(s)})}),monaco.languages.onLanguage("css",function(){c().then(function(e){return e.setupMode(a)})})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:function(){return o.Promise.wrap(n.e(14).then(n.bind(null,466)))}})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:function(){return o.Promise.wrap(n.e(15).then(n.bind(null,467)))}})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"go",extensions:[".go"],aliases:["Go"],loader:function(){return o.Promise.wrap(n.e(16).then(n.bind(null,468)))}})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars"],mimetypes:["text/x-handlebars-template"],loader:function(){return o.Promise.wrap(n.e(17).then(n.bind(null,469)))}})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:function(){return o.Promise.wrap(n.e(18).then(n.bind(null,470)))}})},function(e,t,n){"use strict";n.r(t),n.d(t,"LanguageServiceDefaultsImpl",function(){return o});n(135);var i=monaco.Emitter,o=function(){function e(e,t){this._onDidChange=new i,this._languageId=e,this.setOptions(t)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),e.prototype.setOptions=function(e){this._options=e||Object.create(null),this._onDidChange.fire(this)},e}(),r={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:null,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},a={format:r,suggest:{html5:!0}},s={format:r,suggest:{html5:!0,razor:!0}},l=new o("html",{format:r,suggest:{html5:!0,angular1:!0,ionic:!0}}),c=new o("handlebars",a),u=new o("razor",s);function d(){return monaco.Promise.wrap(n.e(58).then(n.bind(null,506)))}monaco.languages.html={htmlDefaults:l,razorDefaults:u,handlebarDefaults:c},monaco.languages.onLanguage("html",function(){d().then(function(e){return e.setupMode(l)})}),monaco.languages.onLanguage("handlebars",function(){d().then(function(e){return e.setupMode(c)})}),monaco.languages.onLanguage("razor",function(){d().then(function(e){return e.setupMode(u)})})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:function(){return o.Promise.wrap(n.e(19).then(n.bind(null,471)))}})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:function(){return o.Promise.wrap(n.e(20).then(n.bind(null,472)))}})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"javascript",extensions:[".js",".es6",".jsx"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:function(){return o.Promise.wrap(n.e(21).then(n.bind(null,473)))}})},function(e,t,n){"use strict";n.r(t),n.d(t,"LanguageServiceDefaultsImpl",function(){return o});n(135);var i=monaco.Emitter,o=function(){function e(e,t){this._onDidChange=new i,this._languageId=e,this.setDiagnosticsOptions(t)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"diagnosticsOptions",{get:function(){return this._diagnosticsOptions},enumerable:!0,configurable:!0}),e.prototype.setDiagnosticsOptions=function(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(this)},e}(),r=new o("json",{validate:!0,allowComments:!0,schemas:[]});monaco.languages.json={jsonDefaults:r},monaco.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc"],aliases:["JSON","json"],mimetypes:["application/json"]}),monaco.languages.onLanguage("json",function(){monaco.Promise.wrap(n.e(56).then(n.bind(null,505))).then(function(e){return e.setupMode(r)})})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:function(){return o.Promise.wrap(n.e(22).then(n.bind(null,474)))}})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:function(){return o.Promise.wrap(n.e(23).then(n.bind(null,475)))}})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:function(){return o.Promise.wrap(n.e(24).then(n.bind(null,476)))}})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:function(){return o.Promise.wrap(n.e(25).then(n.bind(null,477)))}})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:function(){return o.Promise.wrap(n.e(26).then(n.bind(null,478)))}})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:function(){return o.Promise.wrap(n.e(27).then(n.bind(null,479)))}})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"perl",extensions:[".pl"],aliases:["Perl","pl"],loader:function(){return o.Promise.wrap(n.e(28).then(n.bind(null,480)))}})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:function(){return o.Promise.wrap(n.e(29).then(n.bind(null,481)))}})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:function(){return o.Promise.wrap(n.e(30).then(n.bind(null,482)))}})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:function(){return o.Promise.wrap(n.e(31).then(n.bind(null,483)))}})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:function(){return o.Promise.wrap(n.e(32).then(n.bind(null,484)))}})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:function(){return o.Promise.wrap(n.e(33).then(n.bind(null,485)))}})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:function(){return o.Promise.wrap(n.e(34).then(n.bind(null,486)))}})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:function(){return o.Promise.wrap(n.e(35).then(n.bind(null,487)))}})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"r",extensions:[".r",".rhistory",".rprofile",".rt"],aliases:["R","r"],loader:function(){return o.Promise.wrap(n.e(36).then(n.bind(null,488)))}})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:function(){return o.Promise.wrap(n.e(37).then(n.bind(null,489)))}})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"redis",extensions:[".redis"],aliases:["redis"],loader:function(){return o.Promise.wrap(n.e(38).then(n.bind(null,490)))}})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:function(){return o.Promise.wrap(n.e(39).then(n.bind(null,491)))}})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile"],aliases:["Ruby","rb"],loader:function(){return o.Promise.wrap(n.e(40).then(n.bind(null,492)))}})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:function(){return o.Promise.wrap(n.e(41).then(n.bind(null,493)))}})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:function(){return o.Promise.wrap(n.e(42).then(n.bind(null,494)))}})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:function(){return o.Promise.wrap(n.e(43).then(n.bind(null,495)))}})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:function(){return o.Promise.wrap(n.e(44).then(n.bind(null,496)))}})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:function(){return o.Promise.wrap(n.e(45).then(n.bind(null,497)))}})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:function(){return o.Promise.wrap(n.e(46).then(n.bind(null,498)))}})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:function(){return o.Promise.wrap(n.e(60).then(n.bind(null,499)))}})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:function(){return o.Promise.wrap(n.e(47).then(n.bind(null,500)))}})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:function(){return o.Promise.wrap(n.e(48).then(n.bind(null,501)))}})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:function(){return o.Promise.wrap(n.e(49).then(n.bind(null,457)))}})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:function(){return o.Promise.wrap(n.e(50).then(n.bind(null,502)))}})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:function(){return o.Promise.wrap(n.e(51).then(n.bind(null,503)))}})},function(e,t,n){"use strict";n.r(t);var i=n(27),o="undefined"===typeof monaco?self.monaco:monaco;Object(i.a)({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml"],loader:function(){return o.Promise.wrap(n.e(52).then(n.bind(null,504)))}})},function(e,t,n){"use strict";n.r(t);var i=n(0),o=n(15),r=n(29),a=n(7),s=n(25),l=n(13),c=n(40),u=n(6),d=n(3),h=n(61),f=n(56),p=n(2),m=n(113),g=n(151),b=n(50),y=n(20),v=n(5),w=n(81),_=n(38),S=n(26),C=n(12),x=n(110),k=n(31),T=(function(){}(),function(){function e(t,n,i,o){void 0===o&&(o=k.a.contribInfo.suggest),this._snippetCompareFn=e._compareCompletionItems,this._items=t,this._column=n,this._options=o,this._refilterKind=1,this._lineContext=i,"top"===o.snippets?this._snippetCompareFn=e._compareCompletionItemsSnippetsUp:"bottom"===o.snippets&&(this._snippetCompareFn=e._compareCompletionItemsSnippetsDown)}return e.prototype.dispose=function(){for(var e=new Set,t=0,n=this._items;t<n.length;t++){var i=n[t].container;e.has(i)||(e.add(i),Object(a.e)(i)&&i.dispose())}},Object.defineProperty(e.prototype,"lineContext",{get:function(){return this._lineContext},set:function(e){this._lineContext.leadingLineContent===e.leadingLineContent&&this._lineContext.characterCountDelta===e.characterCountDelta||(this._refilterKind=this._lineContext.characterCountDelta<e.characterCountDelta&&this._filteredItems?2:1,this._lineContext=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this._ensureCachedState(),this._filteredItems},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"incomplete",{get:function(){return this._ensureCachedState(),this._isIncomplete},enumerable:!0,configurable:!0}),e.prototype.adopt=function(e){for(var t=new Array,n=0;n<this._items.length;)e.has(this._items[n].support)?n++:(t.push(this._items[n]),this._items[n]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,t},Object.defineProperty(e.prototype,"stats",{get:function(){return this._ensureCachedState(),this._stats},enumerable:!0,configurable:!0}),e.prototype._ensureCachedState=function(){0!==this._refilterKind&&this._createCachedState()},e.prototype._createCachedState=function(){this._isIncomplete=new Set,this._stats={suggestionCount:0,snippetCount:0,textCount:0};for(var e=this._lineContext,t=e.leadingLineContent,n=e.characterCountDelta,i="",o=1===this._refilterKind?this._items:this._filteredItems,r=[],a=!this._options.filterGraceful||o.length>2e3?x.c:x.d,s=0;s<o.length;s++){var l=o[s],c=l.suggestion;l.container.incomplete&&this._isIncomplete.add(l.support);var u=c.overwriteBefore+n-(l.position.column-this._column);if(i.length!==u&&(i=0===u?"":t.slice(-u)),l.word=i,0===u)l.score=-100,l.matches=void 0;else if("string"===typeof c.filterText){if(!(d=a(i,c.filterText,c.overwriteBefore)))continue;l.score=d[0],l.matches=(Object(x.c)(i,c.label)||Object(x.a)(i,c.label))[1]}else{var d;if(!(d=a(i,c.label,c.overwriteBefore)))continue;l.score=d[0],l.matches=d[1]}switch(l.idx=s,r.push(l),this._stats.suggestionCount++,c.type){case"snippet":this._stats.snippetCount++;break;case"text":this._stats.textCount++}}this._filteredItems=r.sort(this._snippetCompareFn),this._refilterKind=0},e._compareCompletionItems=function(e,t){return e.score>t.score?-1:e.score<t.score?1:e.idx<t.idx?-1:e.idx>t.idx?1:0},e._compareCompletionItemsSnippetsDown=function(t,n){if(t.suggestion.type!==n.suggestion.type){if("snippet"===t.suggestion.type)return 1;if("snippet"===n.suggestion.type)return-1}return e._compareCompletionItems(t,n)},e._compareCompletionItemsSnippetsUp=function(t,n){if(t.suggestion.type!==n.suggestion.type){if("snippet"===t.suggestion.type)return-1;if("snippet"===n.suggestion.type)return 1}return e._compareCompletionItems(t,n)},e}()),O=function(){function e(e,t,n){this.leadingLineContent=e.getLineContent(t.lineNumber).substr(0,t.column-1),this.leadingWord=e.getWordUntilPosition(t),this.lineNumber=t.lineNumber,this.column=t.column,this.auto=n}return e.shouldAutoTrigger=function(e){var t=e.getModel();if(!t)return!1;var n=e.getPosition();t.tokenizeIfCheap(n.lineNumber);var i=t.getWordAtPosition(n);return!!i&&(i.endColumn===n.column&&!!isNaN(Number(i.word)))},e}(),N=function(){function e(e){var t=this;this._toDispose=[],this._triggerQuickSuggest=new y.f,this._triggerRefilter=new y.f,this._onDidCancel=new v.a,this._onDidTrigger=new v.a,this._onDidSuggest=new v.a,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._editor=e,this._state=0,this._requestPromise=null,this._completionModel=null,this._context=null,this._currentSelection=this._editor.getSelection()||new S.a(1,1,1,1),this._toDispose.push(this._editor.onDidChangeModel(function(){t._updateTriggerCharacters(),t.cancel()})),this._toDispose.push(this._editor.onDidChangeModelLanguage(function(){t._updateTriggerCharacters(),t.cancel()})),this._toDispose.push(this._editor.onDidChangeConfiguration(function(){t._updateTriggerCharacters(),t._updateQuickSuggest()})),this._toDispose.push(C.u.onDidChange(function(){t._updateTriggerCharacters(),t._updateActiveSuggestSession()})),this._toDispose.push(this._editor.onDidChangeCursorSelection(function(e){t._onCursorChange(e)})),this._toDispose.push(this._editor.onDidChangeModelContent(function(e){t._refilterCompletionItems()})),this._updateTriggerCharacters(),this._updateQuickSuggest()}return e.prototype.dispose=function(){Object(a.d)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerCharacterListener,this._triggerQuickSuggest,this._triggerRefilter]),this._toDispose=Object(a.d)(this._toDispose),Object(a.d)(this._completionModel),this.cancel()},e.prototype._updateQuickSuggest=function(){this._quickSuggestDelay=this._editor.getConfiguration().contribInfo.quickSuggestionsDelay,(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&0!==this._quickSuggestDelay||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)},e.prototype._updateTriggerCharacters=function(){var e=this;if(Object(a.d)(this._triggerCharacterListener),!this._editor.getConfiguration().readOnly&&this._editor.getModel()&&this._editor.getConfiguration().contribInfo.suggestOnTriggerCharacters){for(var t=Object.create(null),n=0,i=C.u.all(this._editor.getModel());n<i.length;n++){var o=i[n];if(!Object(r.k)(o.triggerCharacters))for(var s=0,l=o.triggerCharacters;s<l.length;s++){var c=l[s],u=t[c];u||(u=t[c]=new Set).add(Object(b.b)()),u.add(o)}}this._triggerCharacterListener=this._editor.onDidType(function(n){var i=n.charAt(n.length-1),o=t[i];if(o){var r=e._completionModel?e._completionModel.adopt(o):void 0;e.trigger({auto:!0,triggerCharacter:i},Boolean(e._completionModel),Object(w.d)(o),r)}})}},Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),e.prototype.cancel=function(e){void 0===e&&(e=!1),this._triggerRefilter.cancel(),this._triggerQuickSuggest&&this._triggerQuickSuggest.cancel(),this._requestPromise&&(this._requestPromise.cancel(),this._requestPromise=null),this._state=0,Object(a.d)(this._completionModel),this._completionModel=null,this._context=null,this._onDidCancel.fire({retrigger:e})},e.prototype._updateActiveSuggestSession=function(){0!==this._state&&(C.u.has(this._editor.getModel())?this.trigger({auto:2===this._state},!0):this.cancel())},e.prototype._onCursorChange=function(e){var t=this,n=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!e.selection.isEmpty()||e.reason!==_.a.NotSet||"keyboard"!==e.source&&"deleteLeft"!==e.source)0!==this._state&&this.cancel();else if(C.u.has(this._editor.getModel())&&this._editor.getModel()&&0===this._state){if(!1===this._editor.getConfiguration().contribInfo.quickSuggestions)return;if(!n.containsRange(this._currentSelection)&&!n.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))return;if(this._editor.getConfiguration().contribInfo.suggest.snippetsPreventQuickSuggestions&&g.SnippetController2.get(this._editor).isInSnippet())return;this.cancel(),this._triggerQuickSuggest.cancelAndSet(function(){if(O.shouldAutoTrigger(t._editor)){var e=t._editor.getModel(),n=t._editor.getPosition();if(e){var i=t._editor.getConfiguration().contribInfo.quickSuggestions;if(!1!==i){if(!0===i);else{e.tokenizeIfCheap(n.lineNumber);var o=e.getLineTokens(n.lineNumber),r=o.getStandardTokenType(o.findTokenIndexAtOffset(Math.max(n.column-1-1,0)));if(!(i.other&&0===r||i.comments&&1===r||i.strings&&2===r))return}t.trigger({auto:!0})}}}},this._quickSuggestDelay)}},e.prototype._refilterCompletionItems=function(){var e=this;if(0!==this._state){var t=this._editor.getModel();t&&this._triggerRefilter.cancelAndSet(function(){var n=e._editor.getPosition(),i=new O(t,n,2===e._state);e._onNewContext(i)},25)}},e.prototype.trigger=function(e,t,n,i){var s=this;void 0===t&&(t=!1);var l=this._editor.getModel();if(l){var c,u=e.auto,d=new O(l,this._editor.getPosition(),u);this.cancel(t),this._state=u?2:1,this._onDidTrigger.fire({auto:u}),this._context=d,c=e.triggerCharacter?{triggerKind:C.v.TriggerCharacter,triggerCharacter:e.triggerCharacter}:n&&n.length?{triggerKind:C.v.TriggerForIncompleteCompletions}:{triggerKind:C.v.Invoke},this._requestPromise=Object(y.i)(function(e){return Object(b.d)(l,s._editor.getPosition(),s._editor.getConfiguration().contribInfo.suggest.snippets,n,c,e)}),this._requestPromise.then(function(e){if(s._requestPromise=null,0!==s._state){var t=s._editor.getModel();if(t){if(!Object(r.k)(i)){var n=Object(b.c)(s._editor.getConfiguration().contribInfo.suggest.snippets);e=e.concat(i).sort(n)}var o=new O(t,s._editor.getPosition(),u);Object(a.d)(s._completionModel),s._completionModel=new T(e,s._context.column,{leadingLineContent:o.leadingLineContent,characterCountDelta:s._context?o.column-s._context.column:0},s._editor.getConfiguration().contribInfo.suggest),s._onNewContext(o)}}}).catch(o.e)}},e.prototype._onNewContext=function(e){if(this._context)if(e.lineNumber===this._context.lineNumber){if(e.leadingWord.startColumn<this._context.leadingWord.startColumn)this.cancel();else if(e.column<this._context.column)e.leadingWord.word?this.trigger({auto:this._context.auto},!0):this.cancel();else if(this._completionModel)if(e.column>this._context.column&&this._completionModel.incomplete.size>0&&0!==e.leadingWord.word.length){var t=this._completionModel.incomplete,n=this._completionModel.adopt(t);this.trigger({auto:2===this._state},!0,Object(w.d)(t),n)}else{var i=this._completionModel.lineContext,o=!1;if(this._completionModel.lineContext={leadingLineContent:e.leadingLineContent,characterCountDelta:e.column-this._context.column},0===this._completionModel.items.length){if(O.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<e.leadingWord.startColumn)return void this.trigger({auto:this._context.auto},!0);if(this._context.auto)return void this.cancel();if(this._completionModel.lineContext=i,(o=this._completionModel.items.length>0)&&0===e.leadingWord.word.length)return void this.cancel()}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,isFrozen:o})}}else this.cancel()},e}(),L=(n(432),n(9)),I=n(1),E=n(120),D=(n(434),n(24)),A=n(95),M=n(18),P=n(68),R=n(54),F=n(53),j=n(34),W=n(82),V=n(45);function B(e,t){if(e.start>=t.end||t.start>=e.end)return{start:0,end:0};var n=Math.max(e.start,t.start),i=Math.min(e.end,t.end);return i-n<=0?{start:0,end:0}:{start:n,end:i}}function H(e){return e.end-e.start<=0}function z(e,t){var n=[],i={start:e.start,end:Math.min(t.start,e.end)},o={start:Math.max(t.end,e.start),end:e.end};return H(i)||n.push(i),H(o)||n.push(o),n}function U(e,t){for(var n=[],i=0,o=t;i<o.length;i++){var r=o[i];if(!(e.start>=r.range.end)){if(e.end<r.range.start)break;var a=B(e,r.range);H(a)||n.push({range:a,size:r.size})}}return n}function q(e,t){return{start:e.start+t,end:e.end+t}}var G=function(){function e(){this.groups=[],this._size=0}return e.prototype.splice=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=n.length-t,r=U({start:0,end:e},this.groups),a=U({start:e+t,end:Number.POSITIVE_INFINITY},this.groups).map(function(e){return{range:q(e.range,o),size:e.size}}),s=n.map(function(t,n){return{range:{start:e+n,end:e+n+1},size:t.size}});this.groups=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(e){for(var t=[],n=null,i=0,o=e;i<o.length;i++){var r=o[i],a=r.range.start,s=r.range.end,l=r.size;n&&l===n.size?n.range.end=s:(n={range:{start:a,end:s},size:l},t.push(n))}return t}(e.reduce(function(e,t){return e.concat(t)},[]))}(r,s,a),this._size=this.groups.reduce(function(e,t){return e+t.size*(t.range.end-t.range.start)},0)},Object.defineProperty(e.prototype,"count",{get:function(){var e=this.groups.length;return e?this.groups[e-1].range.end:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),e.prototype.indexAt=function(e){if(e<0)return-1;for(var t=0,n=0,i=0,o=this.groups;i<o.length;i++){var r=o[i],a=r.range.end-r.range.start,s=n+a*r.size;if(e<s)return t+Math.floor((e-n)/r.size);t+=a,n=s}return t},e.prototype.indexAfter=function(e){return Math.min(this.indexAt(e)+1,this.count)},e.prototype.positionAt=function(e){if(e<0)return-1;for(var t=0,n=0,i=0,o=this.groups;i<o.length;i++){var r=o[i],a=r.range.end-r.range.start,s=n+a;if(e<s)return t+(e-n)*r.size;t+=a*r.size,n=s}return-1},e.prototype.dispose=function(){this.groups=null},e}();var K=function(){function e(e){this.renderers=e,this.cache=new Map}return e.prototype.alloc=function(e){var t=this.getTemplateCache(e).pop();if(!t){var n=Object(I.a)(".monaco-list-row");t={domNode:n,templateId:e,templateData:this.renderers.get(e).renderTemplate(n)}}return t},e.prototype.release=function(e){e&&this.releaseRow(e)},e.prototype.releaseRow=function(e){var t=e.domNode,n=e.templateId;Object(I.G)(t,"scrolling"),function(e){try{e.parentElement.removeChild(e)}catch(e){}}(t),this.getTemplateCache(n).push(e)},e.prototype.getTemplateCache=function(e){var t=this.cache.get(e);return t||(t=[],this.cache.set(e,t)),t},e.prototype.garbageCollect=function(){var e=this;this.renderers&&(this.cache.forEach(function(t,n){for(var i=0,o=t;i<o.length;i++){var r=o[i];e.renderers.get(n).disposeTemplate(r.templateData),r.domNode=null,r.templateData=null}}),this.cache.clear())},e.prototype.dispose=function(){this.garbageCollect(),this.cache.clear(),this.renderers=null},e}(),Y=n(28),Z=n(44),$=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};var X={useShadows:!0,verticalScrollMode:V.b.Auto},Q=function(){function e(e,t,n,i){void 0===i&&(i=X),this.virtualDelegate=t,this.renderers=new Map,this.splicing=!1,this.items=[],this.itemId=0,this.rangeMap=new G;for(var o=0,r=n;o<r.length;o++){var a=r[o];this.renderers.set(a.templateId,a)}this.cache=new K(this.renderers),this.lastRenderTop=0,this.lastRenderHeight=0,this._domNode=document.createElement("div"),this._domNode.className="monaco-list",this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",P.b.addTarget(this.rowsContainer),this.scrollableElement=new W.b(this.rowsContainer,{alwaysConsumeMouseWheel:!0,horizontal:V.b.Hidden,vertical:Object(j.f)(i,function(e){return e.verticalScrollMode},X.verticalScrollMode),useShadows:Object(j.f)(i,function(e){return e.useShadows},X.useShadows)}),this._domNode.appendChild(this.scrollableElement.getDomNode()),e.appendChild(this._domNode),this.disposables=[this.rangeMap,this.gesture,this.scrollableElement,this.cache],this.scrollableElement.onScroll(this.onScroll,this,this.disposables),Object(F.a)(this.rowsContainer,P.a.Change)(this.onTouchChange,this,this.disposables),Object(F.a)(this.scrollableElement.getDomNode(),"scroll")(function(e){return e.target.scrollTop=0},null,this.disposables),Object(v.j)(Object(F.a)(this.rowsContainer,"dragover"),function(e){return new Z.a(e)})(this.onDragOver,this,this.disposables),this.layout()}return Object.defineProperty(e.prototype,"domNode",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),e.prototype.splice=function(e,t,n){if(void 0===n&&(n=[]),this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(e,t,n)}finally{this.splicing=!1}},e.prototype._splice=function(e,t,n){var i,o,r=this;void 0===n&&(n=[]);for(var a=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),s=B(a,{start:e,end:e+t}),l=s.start;l<s.end;l++)this.removeItemFromDOM(l);var c={start:e+t,end:this.items.length},u=B(c,a),d=z(c,a),h=n.map(function(e){return{id:String(r.itemId++),element:e,size:r.virtualDelegate.getHeight(e),templateId:r.virtualDelegate.getTemplateId(e),row:null}});(i=this.rangeMap).splice.apply(i,[e,t].concat(h));var f=(o=this.items).splice.apply(o,[e,t].concat(h)),p=n.length-t,m=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),g=q(u,p),b=B(m,g);for(l=b.start;l<b.end;l++)this.updateItemInDOM(this.items[l],l);for(var y=z(g,m),v=0;v<y.length;v++){var w=y[v];for(l=w.start;l<w.end;l++)this.removeItemFromDOM(l)}var _=d.map(function(e){return q(e,p)}),S=[{start:e,end:e+n.length}].concat(_).map(function(e){return B(m,e)}),C=this.getNextToLastElement(S);for(v=0;v<S.length;v++){var x=S[v];for(l=x.start;l<x.end;l++)this.insertItemInDOM(l,C)}var k=this.getContentHeight();return this.rowsContainer.style.height=k+"px",this.scrollableElement.setScrollDimensions({scrollHeight:k}),f.map(function(e){return e.element})},Object.defineProperty(e.prototype,"length",{get:function(){return this.items.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderHeight",{get:function(){return this.scrollableElement.getScrollDimensions().height},enumerable:!0,configurable:!0}),e.prototype.element=function(e){return this.items[e].element},e.prototype.domElement=function(e){var t=this.items[e].row;return t&&t.domNode},e.prototype.elementHeight=function(e){return this.items[e].size},e.prototype.elementTop=function(e){return this.rangeMap.positionAt(e)},e.prototype.indexAt=function(e){return this.rangeMap.indexAt(e)},e.prototype.indexAfter=function(e){return this.rangeMap.indexAfter(e)},e.prototype.layout=function(e){this.scrollableElement.setScrollDimensions({height:e||I.s(this._domNode)})},e.prototype.render=function(e,t){for(var n=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),i=this.getRenderRange(e,t),o=z(i,n),r=z(n,i),a=this.getNextToLastElement(o),s=0,l=o;s<l.length;s++)for(var c=(h=l[s]).start;c<h.end;c++)this.insertItemInDOM(c,a);for(var u=0,d=r;u<d.length;u++){var h;for(c=(h=d[u]).start;c<h.end;c++)this.removeItemFromDOM(c)}if(Y.j||0!==Y.d()||M.g)this.rowsContainer.style.top="-"+e+"px";else{var f="translate3d(0px, -"+e+"px, 0px)";this.rowsContainer.style.transform=f,this.rowsContainer.style.webkitTransform=f}this.lastRenderTop=e,this.lastRenderHeight=t},e.prototype.insertItemInDOM=function(e,t){var n=this.items[e];n.row||(n.row=this.cache.alloc(n.templateId)),n.row.domNode.parentElement||(t?this.rowsContainer.insertBefore(n.row.domNode,t):this.rowsContainer.appendChild(n.row.domNode)),n.row.domNode.style.height=n.size+"px",this.updateItemInDOM(n,e),this.renderers.get(n.templateId).renderElement(n.element,e,n.row.templateData)},e.prototype.updateItemInDOM=function(e,t){e.row.domNode.style.top=this.elementTop(t)+"px",e.row.domNode.setAttribute("data-index",""+t),e.row.domNode.setAttribute("data-last-element",t===this.length-1?"true":"false"),e.row.domNode.setAttribute("aria-setsize",""+this.length),e.row.domNode.setAttribute("aria-posinset",""+(t+1))},e.prototype.removeItemFromDOM=function(e){var t=this.items[e],n=this.renderers.get(t.templateId);n.disposeElement&&n.disposeElement(t.element,e,t.row.templateData),this.cache.release(t.row),t.row=null},e.prototype.getContentHeight=function(){return this.rangeMap.size},e.prototype.getScrollTop=function(){return this.scrollableElement.getScrollPosition().scrollTop},e.prototype.setScrollTop=function(e){this.scrollableElement.setScrollPosition({scrollTop:e})},Object.defineProperty(e.prototype,"scrollTop",{get:function(){return this.getScrollTop()},set:function(e){this.setScrollTop(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onMouseClick",{get:function(){var e=this;return Object(v.i)(Object(v.j)(Object(F.a)(this.domNode,"click"),function(t){return e.toMouseEvent(t)}),function(e){return e.index>=0})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onMouseDblClick",{get:function(){var e=this;return Object(v.i)(Object(v.j)(Object(F.a)(this.domNode,"dblclick"),function(t){return e.toMouseEvent(t)}),function(e){return e.index>=0})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onMouseDown",{get:function(){var e=this;return Object(v.i)(Object(v.j)(Object(F.a)(this.domNode,"mousedown"),function(t){return e.toMouseEvent(t)}),function(e){return e.index>=0})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onContextMenu",{get:function(){var e=this;return Object(v.i)(Object(v.j)(Object(F.a)(this.domNode,"contextmenu"),function(t){return e.toMouseEvent(t)}),function(e){return e.index>=0})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onTouchStart",{get:function(){var e=this;return Object(v.i)(Object(v.j)(Object(F.a)(this.domNode,"touchstart"),function(t){return e.toTouchEvent(t)}),function(e){return e.index>=0})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onTap",{get:function(){var e=this;return Object(v.i)(Object(v.j)(Object(F.a)(this.rowsContainer,P.a.Tap),function(t){return e.toGestureEvent(t)}),function(e){return e.index>=0})},enumerable:!0,configurable:!0}),e.prototype.toMouseEvent=function(e){var t=this.getItemIndexFromEventTarget(e.target),n=t<0?void 0:this.items[t];return{browserEvent:e,index:t,element:n&&n.element}},e.prototype.toTouchEvent=function(e){var t=this.getItemIndexFromEventTarget(e.target),n=t<0?void 0:this.items[t];return{browserEvent:e,index:t,element:n&&n.element}},e.prototype.toGestureEvent=function(e){var t=this.getItemIndexFromEventTarget(e.initialTarget),n=t<0?void 0:this.items[t];return{browserEvent:e,index:t,element:n&&n.element}},e.prototype.onScroll=function(e){try{this.render(e.scrollTop,e.height)}catch(t){throw console.log("Got bad scroll event:",e),t}},e.prototype.onTouchChange=function(e){e.preventDefault(),e.stopPropagation(),this.scrollTop-=e.translationY},e.prototype.onDragOver=function(e){this.setupDragAndDropScrollInterval(),this.dragAndDropMouseY=e.posy},e.prototype.setupDragAndDropScrollInterval=function(){var e=this,t=I.w(this._domNode).top;this.dragAndDropScrollInterval||(this.dragAndDropScrollInterval=window.setInterval(function(){if(void 0!==e.dragAndDropMouseY){var n=e.dragAndDropMouseY-t,i=0,o=e.renderHeight-35;n<35?i=Math.max(-14,.2*(n-35)):n>o&&(i=Math.min(14,.2*(n-o))),e.scrollTop+=i}},10),this.cancelDragAndDropScrollTimeout(),this.dragAndDropScrollTimeout=window.setTimeout(function(){e.cancelDragAndDropScrollInterval(),e.dragAndDropScrollTimeout=null},1e3))},e.prototype.cancelDragAndDropScrollInterval=function(){this.dragAndDropScrollInterval&&(window.clearInterval(this.dragAndDropScrollInterval),this.dragAndDropScrollInterval=null),this.cancelDragAndDropScrollTimeout()},e.prototype.cancelDragAndDropScrollTimeout=function(){this.dragAndDropScrollTimeout&&(window.clearTimeout(this.dragAndDropScrollTimeout),this.dragAndDropScrollTimeout=null)},e.prototype.getItemIndexFromEventTarget=function(e){for(;e instanceof HTMLElement&&e!==this.rowsContainer;){var t=e,n=t.getAttribute("data-index");if(n){var i=Number(n);if(!isNaN(i))return i}e=t.parentElement}return-1},e.prototype.getRenderRange=function(e,t){return{start:this.rangeMap.indexAt(e),end:this.rangeMap.indexAfter(e+t-1)}},e.prototype.getNextToLastElement=function(e){var t=e[e.length-1];if(!t)return null;var n=this.items[t.end];return n&&n.row?n.row.domNode:null},e.prototype.dispose=function(){if(this.items){for(var e=0,t=this.items;e<t.length;e++){var n=t[e];if(n.row)this.renderers.get(n.row.templateId).disposeTemplate(n.row.templateData),n.row=null}this.items=null}this._domNode&&this._domNode.parentElement&&(this._domNode.parentNode.removeChild(this._domNode),this._domNode=null),this.disposables=Object(a.d)(this.disposables)},$([A.a],e.prototype,"onMouseClick",null),$([A.a],e.prototype,"onMouseDblClick",null),$([A.a],e.prototype,"onMouseDown",null),$([A.a],e.prototype,"onContextMenu",null),$([A.a],e.prototype,"onTouchStart",null),$([A.a],e.prototype,"onTap",null),e}(),J=n(17),ee=function(){function e(e){this.spliceables=e}return e.prototype.splice=function(e,t,n){this.spliceables.forEach(function(i){return i.splice(e,t,n)})},e}();var te,ne=(te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}te(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ie=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},oe=function(){function e(e){this.trait=e,this.renderedElements=[]}return Object.defineProperty(e.prototype,"templateId",{get:function(){return"template:"+this.trait.trait},enumerable:!0,configurable:!0}),e.prototype.renderTemplate=function(e){return e},e.prototype.renderElement=function(e,t,n){var i=Object(r.h)(this.renderedElements,function(e){return e.templateData===n});if(i>=0){var o=this.renderedElements[i];this.trait.unrender(n),o.index=t}else{o={index:t,templateData:n};this.renderedElements.push(o)}this.trait.renderIndex(t,n)},e.prototype.disposeElement=function(){},e.prototype.splice=function(e,t,n){for(var i=[],o=0;o<this.renderedElements.length;o++){var r=this.renderedElements[o];r.index<e?i.push(r):r.index>=e+t&&i.push({index:r.index+n-t,templateData:r.templateData})}this.renderedElements=i},e.prototype.renderIndexes=function(e){for(var t=0,n=this.renderedElements;t<n.length;t++){var i=n[t],o=i.index,r=i.templateData;e.indexOf(o)>-1&&this.trait.renderIndex(o,r)}},e.prototype.disposeTemplate=function(e){var t=Object(r.h)(this.renderedElements,function(t){return t.templateData===e});t<0||this.renderedElements.splice(t,1)},e}(),re=function(){function e(e){this._trait=e,this._onChange=new v.a,this.indexes=[]}return Object.defineProperty(e.prototype,"onChange",{get:function(){return this._onChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trait",{get:function(){return this._trait},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderer",{get:function(){return new oe(this)},enumerable:!0,configurable:!0}),e.prototype.splice=function(e,t,n){var i=n.length-t,o=e+t,r=this.indexes.filter(function(t){return t<e}).concat(n.map(function(t,n){return t?n+e:-1}).filter(function(e){return-1!==e}),this.indexes.filter(function(e){return e>=o}).map(function(e){return e+i}));this.renderer.splice(e,t,n.length),this.set(r)},e.prototype.renderIndex=function(e,t){I.N(t,this._trait,this.contains(e))},e.prototype.unrender=function(e){I.G(e,this._trait)},e.prototype.set=function(e){var t=this.indexes;this.indexes=e;var n=ye(t,e);return this.renderer.renderIndexes(n),this._onChange.fire({indexes:e}),t},e.prototype.get=function(){return this.indexes},e.prototype.contains=function(e){return this.indexes.some(function(t){return t===e})},e.prototype.dispose=function(){this.indexes=null,this._onChange=Object(a.d)(this._onChange)},ie([A.a],e.prototype,"renderer",null),e}(),ae=function(e){function t(t){var n=e.call(this,"focused")||this;return n.getDomId=t,n}return ne(t,e),t.prototype.renderIndex=function(t,n){e.prototype.renderIndex.call(this,t,n),n.setAttribute("role","treeitem"),n.setAttribute("id",this.getDomId(t))},t}(re),se=function(){function e(e,t,n){this.trait=e,this.view=t,this.getId=n}return e.prototype.splice=function(e,t,n){var i=this;if(!this.getId)return this.trait.splice(e,t,n.map(function(e){return!1}));var o=this.trait.get().map(function(e){return i.getId(i.view.element(e))}),r=n.map(function(e){return o.indexOf(i.getId(e))>-1});this.trait.splice(e,t,r)},e}();function le(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName}var ce=function(){function e(e,t,n){this.list=e,this.view=t;var i=!(!1===n.multipleSelectionSupport);this.disposables=[],this.openController=n.openController||fe;var o=Object(v.g)(Object(F.a)(t.domNode,"keydown")).filter(function(e){return!le(e.target)}).map(function(e){return new R.a(e)});o.filter(function(e){return 3===e.keyCode}).on(this.onEnter,this,this.disposables),o.filter(function(e){return 16===e.keyCode}).on(this.onUpArrow,this,this.disposables),o.filter(function(e){return 18===e.keyCode}).on(this.onDownArrow,this,this.disposables),o.filter(function(e){return 11===e.keyCode}).on(this.onPageUpArrow,this,this.disposables),o.filter(function(e){return 12===e.keyCode}).on(this.onPageDownArrow,this,this.disposables),o.filter(function(e){return 9===e.keyCode}).on(this.onEscape,this,this.disposables),i&&o.filter(function(e){return(M.d?e.metaKey:e.ctrlKey)&&31===e.keyCode}).on(this.onCtrlA,this,this.disposables)}return e.prototype.onEnter=function(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(this.list.getFocus()),this.openController.shouldOpen(e.browserEvent)&&this.list.open(this.list.getFocus(),e.browserEvent)},e.prototype.onUpArrow=function(e){e.preventDefault(),e.stopPropagation(),this.list.focusPrevious(),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()},e.prototype.onDownArrow=function(e){e.preventDefault(),e.stopPropagation(),this.list.focusNext(),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()},e.prototype.onPageUpArrow=function(e){e.preventDefault(),e.stopPropagation(),this.list.focusPreviousPage(),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()},e.prototype.onPageDownArrow=function(e){e.preventDefault(),e.stopPropagation(),this.list.focusNextPage(),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()},e.prototype.onCtrlA=function(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(Object(r.m)(this.list.length)),this.view.domNode.focus()},e.prototype.onEscape=function(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection([]),this.view.domNode.focus()},e.prototype.dispose=function(){this.disposables=Object(a.d)(this.disposables)},e}(),ue=function(){function e(e,t){this.list=e,this.view=t,this.disposables=[],this.disposables=[],Object(v.g)(Object(F.a)(t.domNode,"keydown")).filter(function(e){return!le(e.target)}).map(function(e){return new R.a(e)}).filter(function(e){return 2===e.keyCode&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&!e.altKey}).on(this.onTab,this,this.disposables)}return e.prototype.onTab=function(e){if(e.target===this.view.domNode){var t=this.list.getFocus();if(0!==t.length){var n=this.view.domElement(t[0]).querySelector("[tabIndex]");if(n&&n instanceof HTMLElement){var i=window.getComputedStyle(n);"hidden"!==i.visibility&&"none"!==i.display&&(e.preventDefault(),e.stopPropagation(),n.focus())}}}},e.prototype.dispose=function(){this.disposables=Object(a.d)(this.disposables)},e}();function de(e){return e instanceof MouseEvent&&2===e.button}var he={isSelectionSingleChangeEvent:function(e){return M.d?e.browserEvent.metaKey:e.browserEvent.ctrlKey},isSelectionRangeChangeEvent:function(e){return e.browserEvent.shiftKey}},fe={shouldOpen:function(e){return!(e instanceof MouseEvent)||!de(e)}},pe=function(){function e(e,t,n){void 0===n&&(n={}),this.list=e,this.view=t,this.options=n,this.didJustPressContextMenuKey=!1,this.disposables=[],this.multipleSelectionSupport=!(!1===n.multipleSelectionSupport),this.multipleSelectionSupport&&(this.multipleSelectionController=n.multipleSelectionController||he),this.openController=n.openController||fe,t.onMouseDown(this.onMouseDown,this,this.disposables),t.onMouseClick(this.onPointer,this,this.disposables),t.onMouseDblClick(this.onDoubleClick,this,this.disposables),t.onTouchStart(this.onMouseDown,this,this.disposables),t.onTap(this.onPointer,this,this.disposables),P.b.addTarget(t.domNode)}return Object.defineProperty(e.prototype,"onContextMenu",{get:function(){var e=this,t=Object(v.g)(Object(F.a)(this.view.domNode,"keydown")).map(function(e){return new R.a(e)}).filter(function(t){return e.didJustPressContextMenuKey=58===t.keyCode||t.shiftKey&&68===t.keyCode}).filter(function(e){return e.preventDefault(),e.stopPropagation(),!1}).event,n=Object(v.g)(Object(F.a)(this.view.domNode,"keyup")).filter(function(){var t=e.didJustPressContextMenuKey;return e.didJustPressContextMenuKey=!1,t}).filter(function(){return e.list.getFocus().length>0}).map(function(){var t=e.list.getFocus()[0];return{index:t,element:e.view.element(t),anchor:e.view.domElement(t)}}).filter(function(e){return!!e.anchor}).event,i=Object(v.g)(this.view.onContextMenu).filter(function(){return!e.didJustPressContextMenuKey}).map(function(e){var t=e.element,n=e.index,i=e.browserEvent;return{element:t,index:n,anchor:{x:i.clientX+1,y:i.clientY}}}).event;return Object(v.f)(t,n,i)},enumerable:!0,configurable:!0}),e.prototype.isSelectionSingleChangeEvent=function(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(e):M.d?e.browserEvent.metaKey:e.browserEvent.ctrlKey},e.prototype.isSelectionRangeChangeEvent=function(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(e):e.browserEvent.shiftKey},e.prototype.isSelectionChangeEvent=function(e){return this.isSelectionSingleChangeEvent(e)||this.isSelectionRangeChangeEvent(e)},e.prototype.onMouseDown=function(e){!1===this.options.focusOnMouseDown?(e.browserEvent.preventDefault(),e.browserEvent.stopPropagation()):document.activeElement!==e.browserEvent.target&&this.view.domNode.focus();var t=this.list.getFocus()[0],n=this.list.getSelection();if(t=void 0===t?n[0]:t,this.multipleSelectionSupport&&this.isSelectionRangeChangeEvent(e))return this.changeSelection(e,t);var i=e.index;if(n.every(function(e){return e!==i})&&this.list.setFocus([i]),this.multipleSelectionSupport&&this.isSelectionChangeEvent(e))return this.changeSelection(e,t);this.options.selectOnMouseDown&&!de(e.browserEvent)&&(this.list.setSelection([i]),this.openController.shouldOpen(e.browserEvent)&&this.list.open([i],e.browserEvent))},e.prototype.onPointer=function(e){if((!this.multipleSelectionSupport||!this.isSelectionChangeEvent(e))&&!this.options.selectOnMouseDown){var t=this.list.getFocus();this.list.setSelection(t),this.openController.shouldOpen(e.browserEvent)&&this.list.open(t,e.browserEvent)}},e.prototype.onDoubleClick=function(e){if(!this.multipleSelectionSupport||!this.isSelectionChangeEvent(e)){var t=this.list.getFocus();this.list.setSelection(t),this.list.pin(t)}},e.prototype.changeSelection=function(e,t){var n=e.index;if(this.isSelectionRangeChangeEvent(e)&&void 0!==t){var i=Math.min(t,n),o=Math.max(t,n),a=Object(r.m)(i,o+1),s=function(e,t){var n=e.indexOf(t);if(-1===n)return[];var i=[],o=n-1;for(;o>=0&&e[o]===t-(n-o);)i.push(e[o--]);i.reverse(),o=n;for(;o<e.length&&e[o]===t+(o-n);)i.push(e[o++]);return i}(ye(c=this.list.getSelection(),[t]),t);if(0===s.length)return;var l=ye(a,function(e,t){var n=[],i=0,o=0;for(;i<e.length||o<t.length;)if(i>=e.length)n.push(t[o++]);else if(o>=t.length)n.push(e[i++]);else{if(e[i]===t[o]){i++,o++;continue}e[i]<t[o]?n.push(e[i++]):o++}return n}(c,s));this.list.setSelection(l)}else if(this.isSelectionSingleChangeEvent(e)){var c;l=(c=this.list.getSelection()).filter(function(e){return e!==n});c.length===l.length?this.list.setSelection(l.concat([n])):this.list.setSelection(l)}},e.prototype.dispose=function(){this.disposables=Object(a.d)(this.disposables)},ie([A.a],e.prototype,"onContextMenu",null),e}(),me=function(){function e(e,t){this.styleElement=e,this.selectorSuffix=t}return e.prototype.style=function(e){var t=this.selectorSuffix?"."+this.selectorSuffix:"",n=[];e.listFocusBackground&&(n.push(".monaco-list"+t+":focus .monaco-list-row.focused { background-color: "+e.listFocusBackground+"; }"),n.push(".monaco-list"+t+":focus .monaco-list-row.focused:hover { background-color: "+e.listFocusBackground+"; }")),e.listFocusForeground&&n.push(".monaco-list"+t+":focus .monaco-list-row.focused { color: "+e.listFocusForeground+"; }"),e.listActiveSelectionBackground&&(n.push(".monaco-list"+t+":focus .monaco-list-row.selected { background-color: "+e.listActiveSelectionBackground+"; }"),n.push(".monaco-list"+t+":focus .monaco-list-row.selected:hover { background-color: "+e.listActiveSelectionBackground+"; }")),e.listActiveSelectionForeground&&n.push(".monaco-list"+t+":focus .monaco-list-row.selected { color: "+e.listActiveSelectionForeground+"; }"),e.listFocusAndSelectionBackground&&n.push(".monaco-list"+t+":focus .monaco-list-row.selected.focused { background-color: "+e.listFocusAndSelectionBackground+"; }"),e.listFocusAndSelectionForeground&&n.push(".monaco-list"+t+":focus .monaco-list-row.selected.focused { color: "+e.listFocusAndSelectionForeground+"; }"),e.listInactiveFocusBackground&&(n.push(".monaco-list"+t+" .monaco-list-row.focused { background-color:  "+e.listInactiveFocusBackground+"; }"),n.push(".monaco-list"+t+" .monaco-list-row.focused:hover { background-color:  "+e.listInactiveFocusBackground+"; }")),e.listInactiveSelectionBackground&&(n.push(".monaco-list"+t+" .monaco-list-row.selected { background-color:  "+e.listInactiveSelectionBackground+"; }"),n.push(".monaco-list"+t+" .monaco-list-row.selected:hover { background-color:  "+e.listInactiveSelectionBackground+"; }")),e.listInactiveSelectionForeground&&n.push(".monaco-list"+t+" .monaco-list-row.selected { color: "+e.listInactiveSelectionForeground+"; }"),e.listHoverBackground&&n.push(".monaco-list"+t+" .monaco-list-row:hover { background-color:  "+e.listHoverBackground+"; }"),e.listHoverForeground&&n.push(".monaco-list"+t+" .monaco-list-row:hover { color:  "+e.listHoverForeground+"; }"),e.listSelectionOutline&&n.push(".monaco-list"+t+" .monaco-list-row.selected { outline: 1px dotted "+e.listSelectionOutline+"; outline-offset: -1px; }"),e.listFocusOutline&&n.push(".monaco-list"+t+":focus .monaco-list-row.focused { outline: 1px solid "+e.listFocusOutline+"; outline-offset: -1px; }"),e.listInactiveFocusOutline&&n.push(".monaco-list"+t+" .monaco-list-row.focused { outline: 1px dotted "+e.listInactiveFocusOutline+"; outline-offset: -1px; }"),e.listHoverOutline&&n.push(".monaco-list"+t+" .monaco-list-row:hover { outline: 1px dashed "+e.listHoverOutline+"; outline-offset: -1px; }");var i=n.join("\n");i!==this.styleElement.innerHTML&&(this.styleElement.innerHTML=i)},e}(),ge={listFocusBackground:J.a.fromHex("#073655"),listActiveSelectionBackground:J.a.fromHex("#0E639C"),listActiveSelectionForeground:J.a.fromHex("#FFFFFF"),listFocusAndSelectionBackground:J.a.fromHex("#094771"),listFocusAndSelectionForeground:J.a.fromHex("#FFFFFF"),listInactiveSelectionBackground:J.a.fromHex("#3F3F46"),listHoverBackground:J.a.fromHex("#2A2D2E"),listDropBackground:J.a.fromHex("#383B3D")},be={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0};function ye(e,t){for(var n=[],i=0,o=0;i<e.length||o<t.length;)if(i>=e.length)n.push(t[o++]);else if(o>=t.length)n.push(e[i++]);else{if(e[i]===t[o]){n.push(e[i]),i++,o++;continue}e[i]<t[o]?n.push(e[i++]):n.push(t[o++])}return n}var ve=function(e,t){return e-t},we=function(){function e(e,t){this._templateId=e,this.renderers=t}return Object.defineProperty(e.prototype,"templateId",{get:function(){return this._templateId},enumerable:!0,configurable:!0}),e.prototype.renderTemplate=function(e){return this.renderers.map(function(t){return t.renderTemplate(e)})},e.prototype.renderElement=function(e,t,n){for(var i=0,o=0,r=this.renderers;o<r.length;o++){r[o].renderElement(e,t,n[i++])}},e.prototype.disposeElement=function(e,t,n){for(var i=0,o=0,r=this.renderers;o<r.length;o++){r[o].disposeElement(e,t,n[i++])}},e.prototype.disposeTemplate=function(e){for(var t=0,n=0,i=this.renderers;n<i.length;n++){i[n].disposeTemplate(e[t++])}},e}(),_e=function(){function e(t,n,o,r){void 0===r&&(r=be);var a=this;if(this.idPrefix="list_id_"+ ++e.InstanceCount,this.eventBufferer=new v.c,this.onContextMenu=v.b.None,this._onOpen=new v.a,this._onPin=new v.a,this._onDidDispose=new v.a,this.focus=new ae(function(e){return a.getElementDomId(e)}),this.selection=new re("selected"),Object(j.g)(r,ge,!1),o=o.map(function(e){return new we(e.templateId,[a.focus.renderer,a.selection.renderer,e])}),this.view=new Q(t,n,o,r),this.view.domNode.setAttribute("role","tree"),I.f(this.view.domNode,this.idPrefix),this.view.domNode.tabIndex=0,this.styleElement=I.o(this.view.domNode),this.styleController=r.styleController,this.styleController||(this.styleController=new me(this.styleElement,this.idPrefix)),this.spliceable=new ee([new se(this.focus,this.view,r.identityProvider),new se(this.selection,this.view,r.identityProvider),this.view]),this.disposables=[this.focus,this.selection,this.view,this._onDidDispose],this.onDidFocus=Object(v.j)(Object(F.a)(this.view.domNode,"focus",!0),function(){return null}),this.onDidBlur=Object(v.j)(Object(F.a)(this.view.domNode,"blur",!0),function(){return null}),this.disposables.push(new ue(this,this.view)),"boolean"!==typeof r.keyboardSupport||r.keyboardSupport){var s=new ce(this,this.view,r);this.disposables.push(s)}("boolean"!==typeof r.mouseSupport||r.mouseSupport)&&(this.mouseController=new pe(this,this.view,r),this.disposables.push(this.mouseController),this.onContextMenu=this.mouseController.onContextMenu),this.onFocusChange(this._onFocusChange,this,this.disposables),this.onSelectionChange(this._onSelectionChange,this,this.disposables),r.ariaLabel&&this.view.domNode.setAttribute("aria-label",Object(i.a)("aria list","{0}. Use the navigation keys to navigate.",r.ariaLabel)),this.style(r)}return Object.defineProperty(e.prototype,"onFocusChange",{get:function(){var e=this;return Object(v.j)(this.eventBufferer.wrapEvent(this.focus.onChange),function(t){return e.toListEvent(t)})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onSelectionChange",{get:function(){var e=this;return Object(v.j)(this.eventBufferer.wrapEvent(this.selection.onChange),function(t){return e.toListEvent(t)})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidDispose",{get:function(){return this._onDidDispose.event},enumerable:!0,configurable:!0}),e.prototype.splice=function(e,t,n){var i=this;if(void 0===n&&(n=[]),e<0||e>this.view.length)throw new Error("Invalid start index: "+e);if(t<0)throw new Error("Invalid delete count: "+t);0===t&&0===n.length||this.eventBufferer.bufferEvents(function(){return i.spliceable.splice(e,t,n)})},Object.defineProperty(e.prototype,"length",{get:function(){return this.view.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentHeight",{get:function(){return this.view.getContentHeight()},enumerable:!0,configurable:!0}),e.prototype.layout=function(e){this.view.layout(e)},e.prototype.setSelection=function(e){for(var t=0,n=e;t<n.length;t++){var i=n[t];if(i<0||i>=this.length)throw new Error("Invalid index "+i)}e=e.sort(ve),this.selection.set(e)},e.prototype.getSelection=function(){return this.selection.get()},e.prototype.setFocus=function(e){for(var t=0,n=e;t<n.length;t++){var i=n[t];if(i<0||i>=this.length)throw new Error("Invalid index "+i)}e=e.sort(ve),this.focus.set(e)},e.prototype.focusNext=function(e,t){if(void 0===e&&(e=1),void 0===t&&(t=!1),0!==this.length){var n=this.focus.get(),i=n.length>0?n[0]+e:0;this.setFocus(t?[i%this.length]:[Math.min(i,this.length-1)])}},e.prototype.focusPrevious=function(e,t){if(void 0===e&&(e=1),void 0===t&&(t=!1),0!==this.length){var n=this.focus.get(),i=n.length>0?n[0]-e:0;t&&i<0&&(i=(this.length+i%this.length)%this.length),this.setFocus([Math.max(i,0)])}},e.prototype.focusNextPage=function(){var e=this,t=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);t=0===t?0:t-1;var n=this.view.element(t);if(this.getFocusedElements()[0]!==n)this.setFocus([t]);else{var i=this.view.getScrollTop();this.view.setScrollTop(i+this.view.renderHeight-this.view.elementHeight(t)),this.view.getScrollTop()!==i&&setTimeout(function(){return e.focusNextPage()},0)}},e.prototype.focusPreviousPage=function(){var e,t=this,n=this.view.getScrollTop();e=0===n?this.view.indexAt(n):this.view.indexAfter(n-1);var i=this.view.element(e);if(this.getFocusedElements()[0]!==i)this.setFocus([e]);else{var o=n;this.view.setScrollTop(n-this.view.renderHeight),this.view.getScrollTop()!==o&&setTimeout(function(){return t.focusPreviousPage()},0)}},e.prototype.focusLast=function(){0!==this.length&&this.setFocus([this.length-1])},e.prototype.focusFirst=function(){0!==this.length&&this.setFocus([0])},e.prototype.getFocus=function(){return this.focus.get()},e.prototype.getFocusedElements=function(){var e=this;return this.getFocus().map(function(t){return e.view.element(t)})},e.prototype.reveal=function(e,t){if(e<0||e>=this.length)throw new Error("Invalid index "+e);var n,i,o,r=this.view.getScrollTop(),a=this.view.elementTop(e),s=this.view.elementHeight(e);if(Object(D.f)(t)){var l=s-this.view.renderHeight;this.view.setScrollTop(l*(n=t,i=0,o=1,Math.min(Math.max(n,i),o))+a)}else{var c=a+s,u=r+this.view.renderHeight;a<r?this.view.setScrollTop(a):c>=u&&this.view.setScrollTop(c-this.view.renderHeight)}},e.prototype.getElementDomId=function(e){return this.idPrefix+"_"+e},e.prototype.isDOMFocused=function(){return this.view.domNode===document.activeElement},e.prototype.getHTMLElement=function(){return this.view.domNode},e.prototype.open=function(e,t){for(var n=this,i=0,o=e;i<o.length;i++){var r=o[i];if(r<0||r>=this.length)throw new Error("Invalid index "+r)}this._onOpen.fire({indexes:e,elements:e.map(function(e){return n.view.element(e)}),browserEvent:t})},e.prototype.pin=function(e){for(var t=0,n=e;t<n.length;t++){var i=n[t];if(i<0||i>=this.length)throw new Error("Invalid index "+i)}this._onPin.fire(e)},e.prototype.style=function(e){this.styleController.style(e)},e.prototype.toListEvent=function(e){var t=this,n=e.indexes;return{indexes:n,elements:n.map(function(e){return t.view.element(e)})}},e.prototype._onFocusChange=function(){var e=this.focus.get();e.length>0?this.view.domNode.setAttribute("aria-activedescendant",this.getElementDomId(e[0])):this.view.domNode.removeAttribute("aria-activedescendant"),this.view.domNode.setAttribute("role","tree"),I.N(this.view.domNode,"element-focused",e.length>0)},e.prototype._onSelectionChange=function(){var e=this.selection.get();I.N(this.view.domNode,"selection-none",0===e.length),I.N(this.view.domNode,"selection-single",1===e.length),I.N(this.view.domNode,"selection-multiple",e.length>1)},e.prototype.dispose=function(){this._onDidDispose.fire(),this.disposables=Object(a.d)(this.disposables)},e.InstanceCount=0,ie([A.a],e.prototype,"onFocusChange",null),ie([A.a],e.prototype,"onSelectionChange",null),e}(),Se=n(65),Ce=n(19),xe=n(109),ke=n(117),Te=n(22),Oe=n(8),Ne=n(58),Le=n(166),Ie=n(90),Ee=n(83),De=n(51),Ae=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Me=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},Pe=function(e,t){return function(n,i){t(n,i,e)}},Re=!1,Fe=Object(Oe.kb)("editorSuggestWidget.background",{dark:Oe.D,light:Oe.D,hc:Oe.D},i.a("editorSuggestWidgetBackground","Background color of the suggest widget.")),je=Object(Oe.kb)("editorSuggestWidget.border",{dark:Oe.E,light:Oe.E,hc:Oe.E},i.a("editorSuggestWidgetBorder","Border color of the suggest widget.")),We=Object(Oe.kb)("editorSuggestWidget.foreground",{dark:Oe.u,light:Oe.u,hc:Oe.u},i.a("editorSuggestWidgetForeground","Foreground color of the suggest widget.")),Ve=Object(Oe.kb)("editorSuggestWidget.selectedBackground",{dark:Oe.W,light:Oe.W,hc:Oe.W},i.a("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget.")),Be=Object(Oe.kb)("editorSuggestWidget.highlightForeground",{dark:Oe.Y,light:Oe.Y,hc:Oe.Y},i.a("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),He=/^(#([\da-f]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))$/i;function ze(e){return e&&e.match(He)?e:null}function Ue(e){if(!e)return!1;var t=e.suggestion;return!!t.documentation||t.detail&&t.detail!==t.label}var qe=function(){function e(e,t,n){this.widget=e,this.editor=t,this.triggerKeybindingLabel=n}return Object.defineProperty(e.prototype,"templateId",{get:function(){return"suggestion"},enumerable:!0,configurable:!0}),e.prototype.renderTemplate=function(e){var t=this,n=Object.create(null);n.disposables=[],n.root=e,n.icon=Object(I.k)(e,Object(I.a)(".icon")),n.colorspan=Object(I.k)(n.icon,Object(I.a)("span.colorspan"));var o=Object(I.k)(e,Object(I.a)(".contents")),r=Object(I.k)(o,Object(I.a)(".main"));n.highlightedLabel=new E.a(r),n.disposables.push(n.highlightedLabel),n.typeLabel=Object(I.k)(r,Object(I.a)("span.type-label")),n.readMore=Object(I.k)(r,Object(I.a)("span.readMore")),n.readMore.title=i.a("readMore","Read More...{0}",this.triggerKeybindingLabel);var a=function(){var e=t.editor.getConfiguration(),i=e.fontInfo.fontFamily,o=(e.contribInfo.suggestFontSize||e.fontInfo.fontSize)+"px",a=(e.contribInfo.suggestLineHeight||e.fontInfo.lineHeight)+"px";n.root.style.fontSize=o,r.style.fontFamily=i,r.style.lineHeight=a,n.icon.style.height=a,n.icon.style.width=a,n.readMore.style.height=a,n.readMore.style.width=a};return a(),Object(v.g)(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(function(e){return e.fontInfo||e.contribInfo}).on(a,null,n.disposables),n},e.prototype.renderElement=function(e,t,n){var o=this,r=n,a=e.suggestion;if(Ue(e)?r.root.setAttribute("aria-label",i.a("suggestionWithDetailsAriaLabel","{0}, suggestion, has details",a.label)):r.root.setAttribute("aria-label",i.a("suggestionAriaLabel","{0}, suggestion",a.label)),r.icon.className="icon "+a.type,r.colorspan.style.backgroundColor="","color"===a.type){var s=ze(a.label)||"string"===typeof a.documentation&&ze(a.documentation);s&&(r.icon.className="icon customcolor",r.colorspan.style.backgroundColor=s)}r.highlightedLabel.set(a.label,Object(x.b)(e.matches),"",!0),r.typeLabel.textContent=(a.detail||"").replace(/\n.*$/m,""),Ue(e)?(Object(I.M)(r.readMore),r.readMore.onmousedown=function(e){e.stopPropagation(),e.preventDefault()},r.readMore.onclick=function(e){e.stopPropagation(),e.preventDefault(),o.widget.toggleDetails()}):(Object(I.A)(r.readMore),r.readMore.onmousedown=null,r.readMore.onclick=null)},e.prototype.disposeElement=function(){},e.prototype.disposeTemplate=function(e){e.disposables=Object(a.d)(e.disposables)},e}(),Ge=function(){function e(e,t,n,o,r){var s=this;this.widget=t,this.editor=n,this.markdownRenderer=o,this.triggerKeybindingLabel=r,this.borderWidth=1,this.disposables=[],this.el=Object(I.k)(e,Object(I.a)(".details")),this.disposables.push(Object(a.f)(function(){return e.removeChild(s.el)})),this.body=Object(I.a)(".body"),this.scrollbar=new W.a(this.body,{}),Object(I.k)(this.el,this.scrollbar.getDomNode()),this.disposables.push(this.scrollbar),this.header=Object(I.k)(this.body,Object(I.a)(".header")),this.close=Object(I.k)(this.header,Object(I.a)("span.close")),this.close.title=i.a("readLess","Read less...{0}",this.triggerKeybindingLabel),this.type=Object(I.k)(this.header,Object(I.a)("p.type")),this.docs=Object(I.k)(this.body,Object(I.a)("p.docs")),this.ariaLabel=null,this.configureFont(),Object(v.g)(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(function(e){return e.fontInfo}).on(this.configureFont,this,this.disposables),o.onDidRenderCodeBlock(function(){return s.scrollbar.scanDomNode()},this,this.disposables)}return Object.defineProperty(e.prototype,"element",{get:function(){return this.el},enumerable:!0,configurable:!0}),e.prototype.render=function(e){var t=this;if(this.renderDisposeable=Object(a.d)(this.renderDisposeable),!e||!Ue(e))return this.type.textContent="",this.docs.textContent="",Object(I.f)(this.el,"no-docs"),void(this.ariaLabel=null);if(Object(I.G)(this.el,"no-docs"),"string"===typeof e.suggestion.documentation)Object(I.G)(this.docs,"markdown-docs"),this.docs.textContent=e.suggestion.documentation;else{Object(I.f)(this.docs,"markdown-docs"),this.docs.innerHTML="";var n=this.markdownRenderer.render(e.suggestion.documentation);this.renderDisposeable=n,this.docs.appendChild(n.element)}e.suggestion.detail?(this.type.innerText=e.suggestion.detail,Object(I.M)(this.type)):(this.type.innerText="",Object(I.A)(this.type)),this.el.style.height=this.header.offsetHeight+this.docs.offsetHeight+2*this.borderWidth+"px",this.close.onmousedown=function(e){e.preventDefault(),e.stopPropagation()},this.close.onclick=function(e){e.preventDefault(),e.stopPropagation(),t.widget.toggleDetails()},this.body.scrollTop=0,this.scrollbar.scanDomNode(),this.ariaLabel=L.format("{0}\n{1}\n{2}",e.suggestion.label||"",e.suggestion.detail||"",e.suggestion.documentation||"")},e.prototype.getAriaLabel=function(){return this.ariaLabel},e.prototype.scrollDown=function(e){void 0===e&&(e=8),this.body.scrollTop+=e},e.prototype.scrollUp=function(e){void 0===e&&(e=8),this.body.scrollTop-=e},e.prototype.scrollTop=function(){this.body.scrollTop=0},e.prototype.scrollBottom=function(){this.body.scrollTop=this.body.scrollHeight},e.prototype.pageDown=function(){this.scrollDown(80)},e.prototype.pageUp=function(){this.scrollUp(80)},e.prototype.setBorderWidth=function(e){this.borderWidth=e},e.prototype.configureFont=function(){var e=this.editor.getConfiguration(),t=e.fontInfo.fontFamily,n=(e.contribInfo.suggestFontSize||e.fontInfo.fontSize)+"px",i=(e.contribInfo.suggestLineHeight||e.fontInfo.lineHeight)+"px";this.el.style.fontSize=n,this.type.style.fontFamily=t,this.close.style.height=i,this.close.style.width=i},e.prototype.dispose=function(){this.disposables=Object(a.d)(this.disposables),this.renderDisposeable=Object(a.d)(this.renderDisposeable)},e}(),Ke=function(){function e(e,t,n,i,o,r,a,s){var l=this;this.editor=e,this.telemetryService=t,this.allowEditorOverflow=!0,this.ignoreFocusEvents=!1,this.editorBlurTimeout=new y.f,this.showTimeout=new y.f,this.onDidSelectEmitter=new v.a,this.onDidFocusEmitter=new v.a,this.onDidHideEmitter=new v.a,this.onDidShowEmitter=new v.a,this.onDidSelect=this.onDidSelectEmitter.event,this.onDidFocus=this.onDidFocusEmitter.event,this.onDidHide=this.onDidHideEmitter.event,this.onDidShow=this.onDidShowEmitter.event,this.maxWidgetWidth=660,this.listWidth=330,this.storageServiceAvailable=!0,this.expandSuggestionDocs=!1,this.firstFocusInCurrentList=!1;var c=r.lookupKeybinding("editor.action.triggerSuggest"),u=c?" ("+c.getLabel()+")":"",d=new Le.a(e,a,s);this.isAuto=!1,this.focusedItem=null,this.storageService=o,void 0===this.expandDocsSettingFromStorage()&&(this.storageService.store("expandSuggestionDocs",Re,Ne.c.GLOBAL),void 0===this.expandDocsSettingFromStorage()&&(this.storageServiceAvailable=!1)),this.element=Object(I.a)(".editor-widget.suggest-widget"),this.editor.getConfiguration().contribInfo.iconsInSuggestions||Object(I.f)(this.element,"no-icons"),this.messageElement=Object(I.k)(this.element,Object(I.a)(".message")),this.listElement=Object(I.k)(this.element,Object(I.a)(".tree")),this.details=new Ge(this.element,this,this.editor,d,u);var h=new qe(this,this.editor,u);this.list=new _e(this.listElement,this,[h],{useShadows:!1,selectOnMouseDown:!0,focusOnMouseDown:!1,openController:{shouldOpen:function(){return!1}}}),this.toDispose=[Object(ke.b)(this.list,i,{listInactiveFocusBackground:Ve,listInactiveFocusOutline:Oe.b}),i.onThemeChange(function(e){return l.onThemeChange(e)}),e.onDidBlurEditorText(function(){return l.onEditorBlur()}),e.onDidLayoutChange(function(){return l.onEditorLayoutChange()}),this.list.onSelectionChange(function(e){return l.onListSelection(e)}),this.list.onFocusChange(function(e){return l.onListFocus(e)}),this.editor.onDidChangeCursorSelection(function(){return l.onCursorSelectionChanged()})],this.suggestWidgetVisible=b.a.Visible.bindTo(n),this.suggestWidgetMultipleSuggestions=b.a.MultipleSuggestions.bindTo(n),this.suggestionSupportsAutoAccept=b.a.AcceptOnKey.bindTo(n),this.editor.addContentWidget(this),this.setState(0),this.onThemeChange(i.getTheme())}return e.prototype.onCursorSelectionChanged=function(){0!==this.state&&this.editor.layoutContentWidget(this)},e.prototype.onEditorBlur=function(){var e=this;this.editorBlurTimeout.cancelAndSet(function(){e.editor.hasTextFocus()||e.setState(0)},150)},e.prototype.onEditorLayoutChange=function(){3!==this.state&&5!==this.state||!this.expandDocsSettingFromStorage()||this.expandSideOrBelow()},e.prototype.onListSelection=function(e){var t=this;if(e.elements.length){var n=e.elements[0],o=e.indexes[0];n.resolve(De.a.None).then(function(){t.onDidSelectEmitter.fire({item:n,index:o,model:t.completionModel}),Object(h.a)(i.a("suggestionAriaAccepted","{0}, accepted",n.suggestion.label)),t.editor.focus()})}},e.prototype._getSuggestionAriaAlertLabel=function(e){return Ue(e)?i.a("ariaCurrentSuggestionWithDetails","{0}, suggestion, has details",e.suggestion.label):i.a("ariaCurrentSuggestion","{0}, suggestion",e.suggestion.label)},e.prototype._ariaAlert=function(e){this._lastAriaAlertLabel!==e&&(this._lastAriaAlertLabel=e,this._lastAriaAlertLabel&&Object(h.a)(this._lastAriaAlertLabel))},e.prototype.onThemeChange=function(e){var t=e.getColor(Fe);t&&(this.listElement.style.backgroundColor=t.toString(),this.details.element.style.backgroundColor=t.toString(),this.messageElement.style.backgroundColor=t.toString());var n=e.getColor(je);n&&(this.listElement.style.borderColor=n.toString(),this.details.element.style.borderColor=n.toString(),this.messageElement.style.borderColor=n.toString(),this.detailsBorderColor=n.toString());var i=e.getColor(Oe.H);i&&(this.detailsFocusBorderColor=i.toString()),this.details.setBorderWidth("hc"===e.type?2:1)},e.prototype.onListFocus=function(e){var t=this;if(!this.ignoreFocusEvents){if(!e.elements.length)return this.currentSuggestionDetails&&(this.currentSuggestionDetails.cancel(),this.currentSuggestionDetails=null,this.focusedItem=null),void this._ariaAlert(null);var n=e.elements[0];if(this._ariaAlert(this._getSuggestionAriaAlertLabel(n)),this.firstFocusInCurrentList=!this.focusedItem,n!==this.focusedItem){this.currentSuggestionDetails&&(this.currentSuggestionDetails.cancel(),this.currentSuggestionDetails=null);var i=e.indexes[0];this.suggestionSupportsAutoAccept.set(!n.suggestion.noAutoAccept),this.focusedItem=n,this.list.reveal(i),this.currentSuggestionDetails=Object(y.i)(function(e){return n.resolve(e)}),this.currentSuggestionDetails.then(function(){t.ignoreFocusEvents=!0,t.list.splice(i,1,[n]),t.list.setFocus([i]),t.ignoreFocusEvents=!1,t.expandDocsSettingFromStorage()?t.showDetails():Object(I.G)(t.element,"docs-side")}).catch(o.e).then(function(){t.focusedItem===n&&(t.currentSuggestionDetails=null)}),this.onDidFocusEmitter.fire({item:n,index:i,model:this.completionModel})}}},e.prototype.setState=function(t){if(this.element){var n=this.state!==t;switch(this.state=t,Object(I.N)(this.element,"frozen",4===t),t){case 0:Object(I.A)(this.messageElement,this.details.element,this.listElement),this.hide(),this.listHeight=0,n&&this.list.splice(0,this.list.length),this.focusedItem=null;break;case 1:this.messageElement.textContent=e.LOADING_MESSAGE,Object(I.A)(this.listElement,this.details.element),Object(I.M)(this.messageElement),Object(I.G)(this.element,"docs-side"),this.show(),this.focusedItem=null;break;case 2:this.messageElement.textContent=e.NO_SUGGESTIONS_MESSAGE,Object(I.A)(this.listElement,this.details.element),Object(I.M)(this.messageElement),Object(I.G)(this.element,"docs-side"),this.show(),this.focusedItem=null;break;case 3:case 4:Object(I.A)(this.messageElement),Object(I.M)(this.listElement),this.show();break;case 5:Object(I.A)(this.messageElement),Object(I.M)(this.details.element,this.listElement),this.show(),this._ariaAlert(this.details.getAriaLabel())}}},e.prototype.showTriggered=function(e){var t=this;0===this.state&&(this.isAuto=!!e,this.isAuto||(this.loadingTimeout=setTimeout(function(){t.loadingTimeout=null,t.setState(1)},50)))},e.prototype.showSuggestions=function(e,t,n,i){if(this.loadingTimeout&&(clearTimeout(this.loadingTimeout),this.loadingTimeout=null),this.completionModel!==e&&(this.completionModel=e),n&&2!==this.state&&0!==this.state)this.setState(4);else{var o=this.completionModel.items.length,r=0===o;if(this.suggestWidgetMultipleSuggestions.set(o>1),r)i?this.setState(0):this.setState(2),this.completionModel=null;else{var a=this.completionModel.stats;a.wasAutomaticallyTriggered=!!i,this.telemetryService.publicLog("suggestWidget",Ae({},a,this.editor.getTelemetryData())),this.list.splice(0,this.list.length,this.completionModel.items),n?this.setState(4):this.setState(3),this.list.reveal(t,t),this.list.setFocus([t]),this.detailsBorderColor&&(this.details.element.style.borderColor=this.detailsBorderColor)}}},e.prototype.selectNextPage=function(){switch(this.state){case 0:return!1;case 5:return this.details.pageDown(),!0;case 1:return!this.isAuto;default:return this.list.focusNextPage(),!0}},e.prototype.selectNext=function(){switch(this.state){case 0:return!1;case 1:return!this.isAuto;default:return this.list.focusNext(1,!0),!0}},e.prototype.selectLast=function(){switch(this.state){case 0:return!1;case 5:return this.details.scrollBottom(),!0;case 1:return!this.isAuto;default:return this.list.focusLast(),!0}},e.prototype.selectPreviousPage=function(){switch(this.state){case 0:return!1;case 5:return this.details.pageUp(),!0;case 1:return!this.isAuto;default:return this.list.focusPreviousPage(),!0}},e.prototype.selectPrevious=function(){switch(this.state){case 0:return!1;case 1:return!this.isAuto;default:return this.list.focusPrevious(1,!0),!1}},e.prototype.selectFirst=function(){switch(this.state){case 0:return!1;case 5:return this.details.scrollTop(),!0;case 1:return!this.isAuto;default:return this.list.focusFirst(),!0}},e.prototype.getFocusedItem=function(){if(0!==this.state&&2!==this.state&&1!==this.state)return{item:this.list.getFocusedElements()[0],index:this.list.getFocus()[0],model:this.completionModel}},e.prototype.toggleDetailsFocus=function(){5===this.state?(this.setState(3),this.detailsBorderColor&&(this.details.element.style.borderColor=this.detailsBorderColor)):3===this.state&&this.expandDocsSettingFromStorage()&&(this.setState(5),this.detailsFocusBorderColor&&(this.details.element.style.borderColor=this.detailsFocusBorderColor)),this.telemetryService.publicLog("suggestWidget:toggleDetailsFocus",this.editor.getTelemetryData())},e.prototype.toggleDetails=function(){if(Ue(this.list.getFocusedElements()[0]))if(this.expandDocsSettingFromStorage())this.updateExpandDocsSetting(!1),Object(I.A)(this.details.element),Object(I.G)(this.element,"docs-side"),Object(I.G)(this.element,"docs-below"),this.editor.layoutContentWidget(this),this.telemetryService.publicLog("suggestWidget:collapseDetails",this.editor.getTelemetryData());else{if(3!==this.state&&5!==this.state&&4!==this.state)return;this.updateExpandDocsSetting(!0),this.showDetails(),this.telemetryService.publicLog("suggestWidget:expandDetails",this.editor.getTelemetryData())}},e.prototype.showDetails=function(){this.expandSideOrBelow(),Object(I.M)(this.details.element),this.details.render(this.list.getFocusedElements()[0]),this.details.element.style.maxHeight=this.maxWidgetHeight+"px",this.listElement.style.marginTop="0px",this.editor.layoutContentWidget(this),this.adjustDocsPosition(),this.editor.focus(),this._ariaAlert(this.details.getAriaLabel())},e.prototype.show=function(){var e=this,t=this.updateListHeight();t!==this.listHeight&&(this.editor.layoutContentWidget(this),this.listHeight=t),this.suggestWidgetVisible.set(!0),this.showTimeout.cancelAndSet(function(){Object(I.f)(e.element,"visible"),e.onDidShowEmitter.fire(e)},100)},e.prototype.hide=function(){this.suggestWidgetVisible.reset(),this.suggestWidgetMultipleSuggestions.reset(),Object(I.G)(this.element,"visible")},e.prototype.hideWidget=function(){clearTimeout(this.loadingTimeout),this.setState(0),this.onDidHideEmitter.fire(this)},e.prototype.getPosition=function(){return 0===this.state?null:{position:this.editor.getPosition(),preference:[Ce.a.BELOW,Ce.a.ABOVE]}},e.prototype.getDomNode=function(){return this.element},e.prototype.getId=function(){return e.ID},e.prototype.updateListHeight=function(){var e=0;if(2===this.state||1===this.state)e=this.unfocusedHeight;else{var t=this.list.contentHeight/this.unfocusedHeight;e=Math.min(t,12)*this.unfocusedHeight}return this.element.style.lineHeight=this.unfocusedHeight+"px",this.listElement.style.height=e+"px",this.list.layout(e),e},e.prototype.adjustDocsPosition=function(){var e=this.editor.getConfiguration().fontInfo.lineHeight,t=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),n=Object(I.u)(this.editor.getDomNode()),i=n.left+t.left,o=n.top+t.top+t.height,r=Object(I.u)(this.element),a=r.left,s=r.top;a<i-this.listWidth?Object(I.f)(this.element,"list-right"):Object(I.G)(this.element,"list-right"),Object(I.z)(this.element,"docs-side")&&o-e>s&&this.details.element.offsetHeight>this.listElement.offsetHeight&&(this.listElement.style.marginTop=this.details.element.offsetHeight-this.listElement.offsetHeight+"px")},e.prototype.expandSideOrBelow=function(){if(!Ue(this.focusedItem)&&this.firstFocusInCurrentList)return Object(I.G)(this.element,"docs-side"),void Object(I.G)(this.element,"docs-below");var e=this.element.style.maxWidth.match(/(\d+)px/);!e||Number(e[1])<this.maxWidgetWidth?(Object(I.f)(this.element,"docs-below"),Object(I.G)(this.element,"docs-side")):Ue(this.focusedItem)&&(Object(I.f)(this.element,"docs-side"),Object(I.G)(this.element,"docs-below"))},Object.defineProperty(e.prototype,"maxWidgetHeight",{get:function(){return 12*this.unfocusedHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"unfocusedHeight",{get:function(){var e=this.editor.getConfiguration();return e.contribInfo.suggestLineHeight||e.fontInfo.lineHeight},enumerable:!0,configurable:!0}),e.prototype.getHeight=function(e){return this.unfocusedHeight},e.prototype.getTemplateId=function(e){return"suggestion"},e.prototype.expandDocsSettingFromStorage=function(){return this.storageServiceAvailable?this.storageService.getBoolean("expandSuggestionDocs",Ne.c.GLOBAL):this.expandSuggestionDocs},e.prototype.updateExpandDocsSetting=function(e){this.storageServiceAvailable?this.storageService.store("expandSuggestionDocs",e,Ne.c.GLOBAL):this.expandSuggestionDocs=e},e.prototype.dispose=function(){this.state=null,this.suggestionSupportsAutoAccept=null,this.currentSuggestionDetails=null,this.focusedItem=null,this.element=null,this.messageElement=null,this.listElement=null,this.details.dispose(),this.details=null,this.list.dispose(),this.list=null,this.toDispose=Object(a.d)(this.toDispose),this.loadingTimeout&&(clearTimeout(this.loadingTimeout),this.loadingTimeout=null),this.editorBlurTimeout.dispose(),this.showTimeout.dispose()},e.ID="editor.widget.suggestWidget",e.LOADING_MESSAGE=i.a("suggestWidget.loading","Loading..."),e.NO_SUGGESTIONS_MESSAGE=i.a("suggestWidget.noSuggestions","No suggestions."),e=Me([Pe(1,xe.a),Pe(2,l.e),Pe(3,Te.c),Pe(4,Ne.a),Pe(5,Se.a),Pe(6,Ie.a),Pe(7,Ee.a)],e)}();Object(Te.e)(function(e,t){var n=e.getColor(Be);n&&t.addRule(".monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-highlighted-label .highlight { color: "+n+"; }");var i=e.getColor(We);i&&t.addRule(".monaco-editor .suggest-widget { color: "+i+"; }");var o=e.getColor(Oe.qb);o&&t.addRule(".monaco-editor .suggest-widget a { color: "+o+"; }");var r=e.getColor(Oe.pb);r&&t.addRule(".monaco-editor .suggest-widget code { background-color: "+r+"; }")});var Ye=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ze=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},$e=function(e,t){return function(n,i){t(n,i,e)}},Xe=function(){function e(){}return e.prototype.select=function(e,t,n){if(0===n.length)return 0;for(var i=n[0].score,o=1;o<n.length;o++){var r=n[o],a=r.score,s=r.suggestion;if(a!==i)break;if(s.preselect)return o}return 0},e}(),Qe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ye(t,e),t.prototype.memorize=function(e,t,n){},t.prototype.toJSON=function(){},t.prototype.fromJSON=function(){},t}(Xe),Je=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._cache=new w.a(300,.66),t._seq=0,t}return Ye(t,e),t.prototype.memorize=function(e,t,n){var i=n.suggestion.label,o=e.getLanguageIdentifier().language+"/"+i;this._cache.set(o,{touch:this._seq++,type:n.suggestion.type,insertText:n.suggestion.insertText})},t.prototype.select=function(t,n,i){if(0!==t.getWordUntilPosition(n).word.length)return e.prototype.select.call(this,t,n,i);var o=t.getLineContent(n.lineNumber).substr(n.column-10,n.column-1);if(/\s$/.test(o))return e.prototype.select.call(this,t,n,i);for(var r=-1,a=-1,s=0;s<i.length;s++){var l=i[s].suggestion,c=t.getLanguageIdentifier().language+"/"+l.label,u=this._cache.get(c);u&&u.touch>a&&u.type===l.type&&u.insertText===l.insertText&&(a=u.touch,r=s)}return-1===r?e.prototype.select.call(this,t,n,i):r},t.prototype.toJSON=function(){var e=[];return this._cache.forEach(function(t,n){e.push([n,t])}),e},t.prototype.fromJSON=function(e){this._cache.clear();for(var t=0,n=e;t<n.length;t++){var i=n[t],o=i[0],r=i[1];r.touch=0,this._cache.set(o,r)}this._seq=this._cache.size},t}(Xe),et=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._trie=w.c.forStrings(),t._seq=0,t}return Ye(t,e),t.prototype.memorize=function(e,t,n){var i=e.getWordUntilPosition(t).word,o=e.getLanguageIdentifier().language+"/"+i;this._trie.set(o,{type:n.suggestion.type,insertText:n.suggestion.insertText,touch:this._seq++})},t.prototype.select=function(t,n,i){var o=t.getWordUntilPosition(n).word;if(!o)return e.prototype.select.call(this,t,n,i);var r=t.getLanguageIdentifier().language+"/"+o,a=this._trie.get(r);if(a||(a=this._trie.findSubstr(r)),a)for(var s=0;s<i.length;s++){var l=i[s].suggestion,c=l.type,u=l.insertText;if(c===a.type&&u===a.insertText)return s}return e.prototype.select.call(this,t,n,i)},t.prototype.toJSON=function(){var e=[];return this._trie.forEach(function(t,n){return e.push([n,t])}),e.sort(function(e,t){return-(e[1].touch-t[1].touch)}).forEach(function(e,t){return e[1].touch=t}),e.slice(0,200)},t.prototype.fromJSON=function(e){if(this._trie.clear(),e.length>0){this._seq=e[0][1].touch+1;for(var t=0,n=e;t<n.length;t++){var i=n[t],o=i[0],r=i[1];this._trie.set(o,r)}}},t}(Xe),tt=function(){function e(e,t){var n=this;this._storageService=t,this._storagePrefix="suggest/memories",this._persistSoon=new y.c(function(){return n._flush()},3e3),this.setMode(e)}return e.prototype.setMode=function(e){if(this._mode!==e){this._mode=e,this._strategy="recentlyUsedByPrefix"===e?new et:"recentlyUsed"===e?new Je:new Qe;try{var t=this._storageService.get(this._storagePrefix+"/"+this._mode,Ne.c.WORKSPACE);t&&this._strategy.fromJSON(JSON.parse(t))}catch(e){}}},e.prototype.memorize=function(e,t,n){this._strategy.memorize(e,t,n),this._persistSoon.schedule()},e.prototype.select=function(e,t,n){return this._strategy.select(e,t,n)},e.prototype._flush=function(){var e=JSON.stringify(this._strategy);this._storageService.store(this._storagePrefix+"/"+this._mode,e,Ne.c.WORKSPACE)},e=Ze([$e(1,Ne.a)],e)}();n.d(t,"SuggestController",function(){return at}),n.d(t,"TriggerSuggestAction",function(){return st});var nt=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),it=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},ot=function(e,t){return function(n,i){t(n,i,e)}},rt=function(){function e(e,t,n){var i=this;this._disposables=[],this._activeAcceptCharacters=new Set,this._disposables.push(t.onDidShow(function(){return i._onItem(t.getFocusedItem())})),this._disposables.push(t.onDidFocus(this._onItem,this)),this._disposables.push(t.onDidHide(this.reset,this)),this._disposables.push(e.onWillType(function(t){if(i._activeItem){var o=t[t.length-1];i._activeAcceptCharacters.has(o)&&e.getConfiguration().contribInfo.acceptSuggestionOnCommitCharacter&&n(i._activeItem)}}))}return e.prototype._onItem=function(e){if(e&&!Object(r.k)(e.item.suggestion.commitCharacters)){this._activeItem=e,this._activeAcceptCharacters.clear();for(var t=0,n=e.item.suggestion.commitCharacters;t<n.length;t++){var i=n[t];i.length>0&&this._activeAcceptCharacters.add(i[0])}}else this.reset()},e.prototype.reset=function(){this._activeItem=void 0},e.prototype.dispose=function(){Object(a.d)(this._disposables)},e}(),at=function(){function e(e,t,n,i){var o=this;this._editor=e,this._commandService=t,this._contextKeyService=n,this._instantiationService=i,this._toDispose=[],this._model=new N(this._editor),this._memory=i.createInstance(tt,this._editor.getConfiguration().contribInfo.suggestSelection),this._toDispose.push(this._model.onDidTrigger(function(e){o._widget||o._createSuggestWidget(),o._widget.showTriggered(e.auto)})),this._toDispose.push(this._model.onDidSuggest(function(e){var t=o._memory.select(o._editor.getModel(),o._editor.getPosition(),e.completionModel.items);o._widget.showSuggestions(e.completionModel,t,e.isFrozen,e.auto)})),this._toDispose.push(this._model.onDidCancel(function(e){o._widget&&!e.retrigger&&o._widget.hideWidget()}));var r=b.a.AcceptSuggestionsOnEnter.bindTo(n),a=function(){var e=o._editor.getConfiguration().contribInfo,t=e.acceptSuggestionOnEnter,n=e.suggestSelection;r.set("on"===t||"smart"===t),o._memory.setMode(n)};this._toDispose.push(this._editor.onDidChangeConfiguration(function(e){return a()})),a()}return e.get=function(t){return t.getContribution(e.ID)},e.prototype._createSuggestWidget=function(){var e=this;this._widget=this._instantiationService.createInstance(Ke,this._editor),this._toDispose.push(this._widget.onDidSelect(this._onDidSelectItem,this));var t=new rt(this._editor,this._widget,function(t){return e._onDidSelectItem(t)});this._toDispose.push(t,this._model.onDidSuggest(function(e){0===e.completionModel.items.length&&t.reset()}));var n=b.a.MakesTextEdit.bindTo(this._contextKeyService);this._toDispose.push(this._widget.onDidFocus(function(t){var i=t.item,o=e._editor.getPosition(),r=i.position.column-i.suggestion.overwriteBefore,a=o.column,s=!0;"smart"!==e._editor.getConfiguration().contribInfo.acceptSuggestionOnEnter||2!==e._model.state||i.suggestion.command||i.suggestion.additionalTextEdits||"textmate"===i.suggestion.snippetType||a-r!==i.suggestion.insertText.length||(s=e._editor.getModel().getValueInRange({startLineNumber:o.lineNumber,startColumn:r,endLineNumber:o.lineNumber,endColumn:a})!==i.suggestion.insertText);n.set(s)})),this._toDispose.push({dispose:function(){n.reset()}})},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this._toDispose=Object(a.d)(this._toDispose),this._widget&&(this._widget.dispose(),this._widget=null),this._model&&(this._model.dispose(),this._model=null)},e.prototype._onDidSelectItem=function(e){var t;if(e&&e.item){var n=e.item,i=n.suggestion,r=n.position,a=this._editor.getPosition().column-r.column;this._editor.pushUndoStop(),Array.isArray(i.additionalTextEdits)&&this._editor.executeEdits("suggestController.additionalTextEdits",i.additionalTextEdits.map(function(e){return f.a.replace(p.a.lift(e.range),e.text)})),this._memory.memorize(this._editor.getModel(),this._editor.getPosition(),e.item);var s=i.insertText;"textmate"!==i.snippetType&&(s=m.c.escape(s)),g.SnippetController2.get(this._editor).insert(s,i.overwriteBefore+a,i.overwriteAfter,!1,!1),this._editor.pushUndoStop(),i.command?i.command.id===st.id?this._model.trigger({auto:!0},!0):((t=this._commandService).executeCommand.apply(t,[i.command.id].concat(i.command.arguments)).done(void 0,o.e),this._model.cancel()):this._model.cancel(),this._alertCompletionItem(e.item)}else this._model.cancel()},e.prototype._alertCompletionItem=function(e){var t=e.suggestion,n=i.a("arai.alert.snippet","Accepting '{0}' did insert the following text: {1}",t.label,t.insertText);Object(h.a)(n)},e.prototype.triggerSuggest=function(e){this._model.trigger({auto:!1},!1,e),this._editor.revealLine(this._editor.getPosition().lineNumber,0),this._editor.focus()},e.prototype.acceptSelectedSuggestion=function(){if(this._widget){var e=this._widget.getFocusedItem();this._onDidSelectItem(e)}},e.prototype.cancelSuggestWidget=function(){this._widget&&(this._model.cancel(),this._widget.hideWidget())},e.prototype.selectNextSuggestion=function(){this._widget&&this._widget.selectNext()},e.prototype.selectNextPageSuggestion=function(){this._widget&&this._widget.selectNextPage()},e.prototype.selectLastSuggestion=function(){this._widget&&this._widget.selectLast()},e.prototype.selectPrevSuggestion=function(){this._widget&&this._widget.selectPrevious()},e.prototype.selectPrevPageSuggestion=function(){this._widget&&this._widget.selectPreviousPage()},e.prototype.selectFirstSuggestion=function(){this._widget&&this._widget.selectFirst()},e.prototype.toggleSuggestionDetails=function(){this._widget&&this._widget.toggleDetails()},e.prototype.toggleSuggestionFocus=function(){this._widget&&this._widget.toggleDetailsFocus()},e.ID="editor.contrib.suggestController",e=it([ot(1,c.b),ot(2,l.e),ot(3,s.a)],e)}(),st=function(e){function t(){return e.call(this,{id:t.id,label:i.a("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:l.d.and(u.a.writable,u.a.hasCompletionItemProvider),kbOpts:{kbExpr:u.a.textInputFocus,primary:2058,mac:{primary:266},weight:100}})||this}return nt(t,e),t.prototype.run=function(e,t){var n=at.get(t);n&&n.triggerSuggest()},t.id="editor.action.triggerSuggest",t}(d.b);Object(d.h)(at),Object(d.f)(st);var lt=d.c.bindToContribution(at.get);Object(d.g)(new lt({id:"acceptSelectedSuggestion",precondition:b.a.Visible,handler:function(e){return e.acceptSelectedSuggestion()},kbOpts:{weight:190,kbExpr:u.a.textInputFocus,primary:2}})),Object(d.g)(new lt({id:"acceptSelectedSuggestionOnEnter",precondition:b.a.Visible,handler:function(e){return e.acceptSelectedSuggestion()},kbOpts:{weight:190,kbExpr:l.d.and(u.a.textInputFocus,b.a.AcceptSuggestionsOnEnter,b.a.MakesTextEdit),primary:3}})),Object(d.g)(new lt({id:"hideSuggestWidget",precondition:b.a.Visible,handler:function(e){return e.cancelSuggestWidget()},kbOpts:{weight:190,kbExpr:u.a.textInputFocus,primary:9,secondary:[1033]}})),Object(d.g)(new lt({id:"selectNextSuggestion",precondition:l.d.and(b.a.Visible,b.a.MultipleSuggestions),handler:function(e){return e.selectNextSuggestion()},kbOpts:{weight:190,kbExpr:u.a.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),Object(d.g)(new lt({id:"selectNextPageSuggestion",precondition:l.d.and(b.a.Visible,b.a.MultipleSuggestions),handler:function(e){return e.selectNextPageSuggestion()},kbOpts:{weight:190,kbExpr:u.a.textInputFocus,primary:12,secondary:[2060]}})),Object(d.g)(new lt({id:"selectLastSuggestion",precondition:l.d.and(b.a.Visible,b.a.MultipleSuggestions),handler:function(e){return e.selectLastSuggestion()}})),Object(d.g)(new lt({id:"selectPrevSuggestion",precondition:l.d.and(b.a.Visible,b.a.MultipleSuggestions),handler:function(e){return e.selectPrevSuggestion()},kbOpts:{weight:190,kbExpr:u.a.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),Object(d.g)(new lt({id:"selectPrevPageSuggestion",precondition:l.d.and(b.a.Visible,b.a.MultipleSuggestions),handler:function(e){return e.selectPrevPageSuggestion()},kbOpts:{weight:190,kbExpr:u.a.textInputFocus,primary:11,secondary:[2059]}})),Object(d.g)(new lt({id:"selectFirstSuggestion",precondition:l.d.and(b.a.Visible,b.a.MultipleSuggestions),handler:function(e){return e.selectFirstSuggestion()}})),Object(d.g)(new lt({id:"toggleSuggestionDetails",precondition:b.a.Visible,handler:function(e){return e.toggleSuggestionDetails()},kbOpts:{weight:190,kbExpr:u.a.textInputFocus,primary:2058,mac:{primary:266}}})),Object(d.g)(new lt({id:"toggleSuggestionFocus",precondition:b.a.Visible,handler:function(e){return e.toggleSuggestionFocus()},kbOpts:{weight:190,kbExpr:u.a.textInputFocus,primary:2570,mac:{primary:778}}}))},function(e,t,n){"use strict";n.r(t);n(414);var i=n(0),o=n(42),r=n(18),a=n(83),s=n(90),l=n(2),c=n(3),u=n(19),d=n(1),h=n(10),f=n(12),p=n(29),m=n(15),g=n(51);function b(e,t,n){var i=f.m.ordered(e).map(function(i){return Promise.resolve(i.provideHover(e,t,n)).then(function(e){return e&&(n="undefined"!==typeof(t=e).range,i="undefined"!==typeof t.contents&&t.contents&&t.contents.length>0,n&&i)?e:void 0;var t,n,i},function(e){Object(m.f)(e)})});return Promise.all(i).then(function(e){return Object(p.c)(e)})}Object(c.e)("_executeHoverProvider",function(e,t){return b(e,t,g.a.None)});var y,v=n(20),w=function(){function e(t,n,i,o){var r=this;this._computer=t,this._state=0,this._hoverTime=e.HOVER_TIME,this._firstWaitScheduler=new v.c(function(){return r._triggerAsyncComputation()},0),this._secondWaitScheduler=new v.c(function(){return r._triggerSyncComputation()},0),this._loadingMessageScheduler=new v.c(function(){return r._showLoadingMessage()},0),this._asyncComputationPromise=null,this._asyncComputationPromiseDone=!1,this._completeCallback=n,this._errorCallback=i,this._progressCallback=o}return e.prototype.setHoverTime=function(e){this._hoverTime=e},e.prototype._firstWaitTime=function(){return this._hoverTime/2},e.prototype._secondWaitTime=function(){return this._hoverTime/2},e.prototype._loadingMessageTime=function(){return 3*this._hoverTime},e.prototype._triggerAsyncComputation=function(){var e=this;this._state=2,this._secondWaitScheduler.schedule(this._secondWaitTime()),this._computer.computeAsync?(this._asyncComputationPromiseDone=!1,this._asyncComputationPromise=Object(v.i)(function(t){return e._computer.computeAsync(t)}),this._asyncComputationPromise.then(function(t){e._asyncComputationPromiseDone=!0,e._withAsyncResult(t)},function(t){return e._onError(t)})):this._asyncComputationPromiseDone=!0},e.prototype._triggerSyncComputation=function(){this._computer.computeSync&&this._computer.onResult(this._computer.computeSync(),!0),this._asyncComputationPromiseDone?(this._state=0,this._onComplete(this._computer.getResult())):(this._state=3,this._onProgress(this._computer.getResult()))},e.prototype._showLoadingMessage=function(){3===this._state&&this._onProgress(this._computer.getResultWithLoadingMessage())},e.prototype._withAsyncResult=function(e){e&&this._computer.onResult(e,!1),3===this._state&&(this._state=0,this._onComplete(this._computer.getResult()))},e.prototype._onComplete=function(e){this._completeCallback&&this._completeCallback(e)},e.prototype._onError=function(e){this._errorCallback?this._errorCallback(e):Object(m.e)(e)},e.prototype._onProgress=function(e){this._progressCallback&&this._progressCallback(e)},e.prototype.start=function(e){if(0===e)0===this._state&&(this._state=1,this._firstWaitScheduler.schedule(this._firstWaitTime()),this._loadingMessageScheduler.schedule(this._loadingMessageTime()));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation()}},e.prototype.cancel=function(){this._loadingMessageScheduler.cancel(),1===this._state&&this._firstWaitScheduler.cancel(),2===this._state&&(this._secondWaitScheduler.cancel(),this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null)),3===this._state&&this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null),this._state=0},e.HOVER_TIME=300,e}(),_=n(62),S=n(82),C=n(7),x=(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}y(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),k=function(e){function t(t,n){var i=e.call(this)||this;return i.disposables=[],i.allowEditorOverflow=!0,i._id=t,i._editor=n,i._isVisible=!1,i._containerDomNode=document.createElement("div"),i._containerDomNode.className="monaco-editor-hover hidden",i._containerDomNode.tabIndex=0,i._domNode=document.createElement("div"),i._domNode.className="monaco-editor-hover-content",i.scrollbar=new S.a(i._domNode,{}),i.disposables.push(i.scrollbar),i._containerDomNode.appendChild(i.scrollbar.getDomNode()),i.onkeydown(i._containerDomNode,function(e){e.equals(9)&&i.hide()}),i._register(i._editor.onDidChangeConfiguration(function(e){e.fontInfo&&i.updateFont()})),i._editor.onDidLayoutChange(function(e){return i.updateMaxHeight()}),i.updateMaxHeight(),i._editor.addContentWidget(i),i._showAtPosition=null,i}return x(t,e),Object.defineProperty(t.prototype,"isVisible",{get:function(){return this._isVisible},set:function(e){this._isVisible=e,Object(d.N)(this._containerDomNode,"hidden",!this._isVisible)},enumerable:!0,configurable:!0}),t.prototype.getId=function(){return this._id},t.prototype.getDomNode=function(){return this._containerDomNode},t.prototype.showAt=function(e,t){this._showAtPosition=new h.a(e.lineNumber,e.column),this.isVisible=!0,this._editor.layoutContentWidget(this),this._editor.render(),this._stoleFocus=t,t&&this._containerDomNode.focus()},t.prototype.hide=function(){this.isVisible&&(this.isVisible=!1,this._editor.layoutContentWidget(this),this._stoleFocus&&this._editor.focus())},t.prototype.getPosition=function(){return this.isVisible?{position:this._showAtPosition,preference:[u.a.ABOVE,u.a.BELOW]}:null},t.prototype.dispose=function(){this._editor.removeContentWidget(this),this.disposables=Object(C.d)(this.disposables),e.prototype.dispose.call(this)},t.prototype.updateFont=function(){var e=this;Array.prototype.slice.call(this._domNode.getElementsByClassName("code")).forEach(function(t){return e._editor.applyFontInfo(t)})},t.prototype.updateContents=function(e){this._domNode.textContent="",this._domNode.appendChild(e),this.updateFont(),this._editor.layoutContentWidget(this),this.onContentsChange()},t.prototype.onContentsChange=function(){this.scrollbar.scanDomNode()},t.prototype.updateMaxHeight=function(){var e=Math.max(this._editor.getLayoutInfo().height/4,250),t=this._editor.getConfiguration().fontInfo,n=t.fontSize,i=t.lineHeight;this._domNode.style.fontSize=n+"px",this._domNode.style.lineHeight=i+"px",this._domNode.style.maxHeight=e+"px"},t}(_.a),T=function(e){function t(t,n){var i=e.call(this)||this;return i._id=t,i._editor=n,i._isVisible=!1,i._domNode=document.createElement("div"),i._domNode.className="monaco-editor-hover hidden",i._domNode.setAttribute("aria-hidden","true"),i._domNode.setAttribute("role","presentation"),i._showAtLineNumber=-1,i._register(i._editor.onDidChangeConfiguration(function(e){e.fontInfo&&i.updateFont()})),i._editor.addOverlayWidget(i),i}return x(t,e),Object.defineProperty(t.prototype,"isVisible",{get:function(){return this._isVisible},set:function(e){this._isVisible=e,Object(d.N)(this._domNode,"hidden",!this._isVisible)},enumerable:!0,configurable:!0}),t.prototype.getId=function(){return this._id},t.prototype.getDomNode=function(){return this._domNode},t.prototype.showAt=function(e){this._showAtLineNumber=e,this.isVisible||(this.isVisible=!0);var t=this._editor.getLayoutInfo(),n=this._editor.getTopForLineNumber(this._showAtLineNumber),i=this._editor.getScrollTop(),o=this._editor.getConfiguration().lineHeight,r=n-i-(this._domNode.clientHeight-o)/2;this._domNode.style.left=t.glyphMarginLeft+t.glyphMarginWidth+"px",this._domNode.style.top=Math.max(Math.round(r),0)+"px"},t.prototype.hide=function(){this.isVisible&&(this.isVisible=!1)},t.prototype.getPosition=function(){return null},t.prototype.dispose=function(){this._editor.removeOverlayWidget(this),e.prototype.dispose.call(this)},t.prototype.updateFont=function(){var e=this,t=Array.prototype.slice.call(this._domNode.getElementsByTagName("code")),n=Array.prototype.slice.call(this._domNode.getElementsByClassName("code"));t.concat(n).forEach(function(t){return e._editor.applyFontInfo(t)})},t.prototype.updateContents=function(e){this._domNode.textContent="",this._domNode.appendChild(e),this.updateFont()},t}(_.a),O=n(73),N=n(30),L=n(5),I=function(){function e(e,t,n){this.presentationIndex=n,this._onColorFlushed=new L.a,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new L.a,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new L.a,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=e,this._color=e,this._colorPresentations=t}return Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(e){this._color.equals(e)||(this._color=e,this._onDidChangeColor.fire(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"presentation",{get:function(){return this.colorPresentations[this.presentationIndex]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colorPresentations",{get:function(){return this._colorPresentations},set:function(e){this._colorPresentations=e,this.presentationIndex>e.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)},enumerable:!0,configurable:!0}),e.prototype.selectNextColorPresentation=function(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)},e.prototype.guessColorPresentation=function(e,t){for(var n=0;n<this.colorPresentations.length;n++)if(t===this.colorPresentations[n].label){this.presentationIndex=n,this._onDidChangePresentation.fire(this.presentation);break}},e.prototype.flushColor=function(){this._onColorFlushed.fire(this._color)},e}(),E=(n(416),n(28)),D=n(75),A=n(17),M=n(8),P=n(22),R=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),F=d.a,j=function(e){function t(t,n,i){var o=e.call(this)||this;o.model=n,o.domNode=F(".colorpicker-header"),d.k(t,o.domNode),o.pickedColorNode=d.k(o.domNode,F(".picked-color"));var r=d.k(o.domNode,F(".original-color"));return r.style.backgroundColor=A.a.Format.CSS.format(o.model.originalColor),o.backgroundColor=i.getTheme().getColor(M.v)||A.a.white,o._register(Object(P.e)(function(e,t){o.backgroundColor=e.getColor(M.v)||A.a.white})),o._register(d.g(o.pickedColorNode,d.d.CLICK,function(){return o.model.selectNextColorPresentation()})),o._register(d.g(r,d.d.CLICK,function(){o.model.color=o.model.originalColor,o.model.flushColor()})),o._register(n.onDidChangeColor(o.onDidChangeColor,o)),o._register(n.onDidChangePresentation(o.onDidChangePresentation,o)),o.pickedColorNode.style.backgroundColor=A.a.Format.CSS.format(n.color),d.N(o.pickedColorNode,"light",n.color.rgba.a<.5?o.backgroundColor.isLighter():n.color.isLighter()),o}return R(t,e),t.prototype.onDidChangeColor=function(e){this.pickedColorNode.style.backgroundColor=A.a.Format.CSS.format(e),d.N(this.pickedColorNode,"light",e.rgba.a<.5?this.backgroundColor.isLighter():e.isLighter()),this.onDidChangePresentation()},t.prototype.onDidChangePresentation=function(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:""},t}(C.a),W=function(e){function t(t,n,i){var o=e.call(this)||this;return o.model=n,o.pixelRatio=i,o.domNode=F(".colorpicker-body"),d.k(t,o.domNode),o.saturationBox=new V(o.domNode,o.model,o.pixelRatio),o._register(o.saturationBox),o._register(o.saturationBox.onDidChange(o.onDidSaturationValueChange,o)),o._register(o.saturationBox.onColorFlushed(o.flushColor,o)),o.opacityStrip=new H(o.domNode,o.model),o._register(o.opacityStrip),o._register(o.opacityStrip.onDidChange(o.onDidOpacityChange,o)),o._register(o.opacityStrip.onColorFlushed(o.flushColor,o)),o.hueStrip=new z(o.domNode,o.model),o._register(o.hueStrip),o._register(o.hueStrip.onDidChange(o.onDidHueChange,o)),o._register(o.hueStrip.onColorFlushed(o.flushColor,o)),o}return R(t,e),t.prototype.flushColor=function(){this.model.flushColor()},t.prototype.onDidSaturationValueChange=function(e){var t=e.s,n=e.v,i=this.model.color.hsva;this.model.color=new A.a(new A.b(i.h,t,n,i.a))},t.prototype.onDidOpacityChange=function(e){var t=this.model.color.hsva;this.model.color=new A.a(new A.b(t.h,t.s,t.v,e))},t.prototype.onDidHueChange=function(e){var t=this.model.color.hsva,n=360*(1-e);this.model.color=new A.a(new A.b(360===n?0:n,t.s,t.v,t.a))},t.prototype.layout=function(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()},t}(C.a),V=function(e){function t(t,n,i){var o=e.call(this)||this;return o.model=n,o.pixelRatio=i,o._onDidChange=new L.a,o.onDidChange=o._onDidChange.event,o._onColorFlushed=new L.a,o.onColorFlushed=o._onColorFlushed.event,o.domNode=F(".saturation-wrap"),d.k(t,o.domNode),o.canvas=document.createElement("canvas"),o.canvas.className="saturation-box",d.k(o.domNode,o.canvas),o.selection=F(".saturation-selection"),d.k(o.domNode,o.selection),o.layout(),o._register(d.g(o.domNode,d.d.MOUSE_DOWN,function(e){return o.onMouseDown(e)})),o._register(o.model.onDidChangeColor(o.onDidChangeColor,o)),o.monitor=null,o}return R(t,e),t.prototype.onMouseDown=function(e){var t=this;this.monitor=this._register(new D.a);var n=d.u(this.domNode);e.target!==this.selection&&this.onDidChangePosition(e.offsetX,e.offsetY),this.monitor.startMonitoring(D.b,function(e){return t.onDidChangePosition(e.posx-n.left,e.posy-n.top)},function(){return null});var i=d.g(document,d.d.MOUSE_UP,function(){t._onColorFlushed.fire(),i.dispose(),t.monitor.stopMonitoring(!0),t.monitor=null},!0)},t.prototype.onDidChangePosition=function(e,t){var n=Math.max(0,Math.min(1,e/this.width)),i=Math.max(0,Math.min(1,1-t/this.height));this.paintSelection(n,i),this._onDidChange.fire({s:n,v:i})},t.prototype.layout=function(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();var e=this.model.color.hsva;this.paintSelection(e.s,e.v)},t.prototype.paint=function(){var e=this.model.color.hsva,t=new A.a(new A.b(e.h,1,1,1)),n=this.canvas.getContext("2d"),i=n.createLinearGradient(0,0,this.canvas.width,0);i.addColorStop(0,"rgba(255, 255, 255, 1)"),i.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),i.addColorStop(1,"rgba(255, 255, 255, 0)");var o=n.createLinearGradient(0,0,0,this.canvas.height);o.addColorStop(0,"rgba(0, 0, 0, 0)"),o.addColorStop(1,"rgba(0, 0, 0, 1)"),n.rect(0,0,this.canvas.width,this.canvas.height),n.fillStyle=A.a.Format.CSS.format(t),n.fill(),n.fillStyle=i,n.fill(),n.fillStyle=o,n.fill()},t.prototype.paintSelection=function(e,t){this.selection.style.left=e*this.width+"px",this.selection.style.top=this.height-t*this.height+"px"},t.prototype.onDidChangeColor=function(){this.monitor&&this.monitor.isMonitoring()||this.paint()},t}(C.a),B=function(e){function t(t,n){var i=e.call(this)||this;return i.model=n,i._onDidChange=new L.a,i.onDidChange=i._onDidChange.event,i._onColorFlushed=new L.a,i.onColorFlushed=i._onColorFlushed.event,i.domNode=d.k(t,F(".strip")),i.overlay=d.k(i.domNode,F(".overlay")),i.slider=d.k(i.domNode,F(".slider")),i.slider.style.top="0px",i._register(d.g(i.domNode,d.d.MOUSE_DOWN,function(e){return i.onMouseDown(e)})),i.layout(),i}return R(t,e),t.prototype.layout=function(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;var e=this.getValue(this.model.color);this.updateSliderPosition(e)},t.prototype.onMouseDown=function(e){var t=this,n=this._register(new D.a),i=d.u(this.domNode);d.f(this.domNode,"grabbing"),e.target!==this.slider&&this.onDidChangeTop(e.offsetY),n.startMonitoring(D.b,function(e){return t.onDidChangeTop(e.posy-i.top)},function(){return null});var o=d.g(document,d.d.MOUSE_UP,function(){t._onColorFlushed.fire(),o.dispose(),n.stopMonitoring(!0),d.G(t.domNode,"grabbing")},!0)},t.prototype.onDidChangeTop=function(e){var t=Math.max(0,Math.min(1,1-e/this.height));this.updateSliderPosition(t),this._onDidChange.fire(t)},t.prototype.updateSliderPosition=function(e){this.slider.style.top=(1-e)*this.height+"px"},t}(C.a),H=function(e){function t(t,n){var i=e.call(this,t,n)||this;return d.f(i.domNode,"opacity-strip"),i._register(n.onDidChangeColor(i.onDidChangeColor,i)),i.onDidChangeColor(i.model.color),i}return R(t,e),t.prototype.onDidChangeColor=function(e){var t=e.rgba,n=t.r,i=t.g,o=t.b,r=new A.a(new A.c(n,i,o,1)),a=new A.a(new A.c(n,i,o,0));this.overlay.style.background="linear-gradient(to bottom, "+r+" 0%, "+a+" 100%)"},t.prototype.getValue=function(e){return e.hsva.a},t}(B),z=function(e){function t(t,n){var i=e.call(this,t,n)||this;return d.f(i.domNode,"hue-strip"),i}return R(t,e),t.prototype.getValue=function(e){return 1-e.hsva.h/360},t}(B),U=function(e){function t(t,n,i,o){var r=e.call(this)||this;r.model=n,r.pixelRatio=i,r._register(Object(E.p)(function(){return r.layout()}));var a=F(".colorpicker-widget");t.appendChild(a);var s=new j(a,r.model,o);return r.body=new W(a,r.model,r.pixelRatio),r._register(s),r._register(r.body),r}return R(t,e),t.prototype.layout=function(){this.body.layout()},t}(_.a),q=n(183),G=n(186),K=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Y=d.a,Z=function(){return function(e,t,n){this.range=e,this.color=t,this.provider=n}}(),$=function(){function e(e){this._editor=e,this._range=null}return e.prototype.setRange=function(e){this._range=e,this._result=[]},e.prototype.clearResult=function(){this._result=[]},e.prototype.computeAsync=function(e){var t=this._editor.getModel();return f.m.has(t)?b(t,new h.a(this._range.startLineNumber,this._range.startColumn),e):Promise.resolve(null)},e.prototype.computeSync=function(){var e=this,t=this._range.startLineNumber;if(t>this._editor.getModel().getLineCount())return[];var n=q.ColorDetector.get(this._editor),i=this._editor.getModel().getLineMaxColumn(t),o=!1;return this._editor.getLineDecorations(t).map(function(r){var a=r.range.startLineNumber===t?r.range.startColumn:1,s=r.range.endLineNumber===t?r.range.endColumn:i;if(a>e._range.startColumn||e._range.endColumn>s)return null;var c=new l.a(e._range.startLineNumber,a,e._range.startLineNumber,s),u=n.getColorData(r.range.getStartPosition());if(!o&&u){o=!0;var d=u.colorInfo,h=d.color,f=d.range;return new Z(f,h,u.provider)}if(Object(O.b)(r.options.hoverMessage))return null;var p=void 0;return r.options.hoverMessage&&(p=Array.isArray(r.options.hoverMessage)?r.options.hoverMessage.slice():[r.options.hoverMessage]),{contents:p,range:c}}).filter(function(e){return!!e})},e.prototype.onResult=function(e,t){this._result=t?e.concat(this._result.sort(function(e,t){return e instanceof Z?-1:t instanceof Z?1:0})):this._result.concat(e)},e.prototype.getResult=function(){return this._result.slice(0)},e.prototype.getResultWithLoadingMessage=function(){return this._result.slice(0).concat([this._getLoadingMessage()])},e.prototype._getLoadingMessage=function(){return{range:this._range,contents:[(new O.a).appendText(i.a("modesContentHover.loading","Loading..."))]}},e}(),X=function(e){function t(n,i,o){var r=e.call(this,t.ID,n)||this;return r._themeService=o,r.renderDisposable=C.a.None,r._computer=new $(r._editor),r._highlightDecorations=[],r._isChangingDecorations=!1,r._markdownRenderer=i,r._register(i.onDidRenderCodeBlock(r.onContentsChange,r)),r._hoverOperation=new w(r._computer,function(e){return r._withResult(e,!0)},null,function(e){return r._withResult(e,!1)}),r._register(d.j(r.getDomNode(),d.d.FOCUS,function(){r._colorPicker&&d.f(r.getDomNode(),"colorpicker-hover")})),r._register(d.j(r.getDomNode(),d.d.BLUR,function(){d.G(r.getDomNode(),"colorpicker-hover")})),r._register(n.onDidChangeConfiguration(function(e){r._hoverOperation.setHoverTime(r._editor.getConfiguration().contribInfo.hover.delay)})),r}return K(t,e),t.prototype.dispose=function(){this.renderDisposable.dispose(),this.renderDisposable=C.a.None,this._hoverOperation.cancel(),e.prototype.dispose.call(this)},t.prototype.onModelDecorationsChanged=function(){this._isChangingDecorations||this.isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._colorPicker||this._hoverOperation.start(0))},t.prototype.startShowingAt=function(e,t,n){if(!this._lastRange||!this._lastRange.equalsRange(e)){if(this._hoverOperation.cancel(),this.isVisible)if(this._showAtPosition.lineNumber!==e.startLineNumber)this.hide();else{for(var i=[],o=0,r=this._messages.length;o<r;o++){var a=this._messages[o],s=a.range;s.startColumn<=e.startColumn&&s.endColumn>=e.endColumn&&i.push(a)}if(i.length>0){if(function(e,t){if(!e&&t||e&&!t||e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var i=e[n],o=t[n];if(i instanceof Z)return!1;if(o instanceof Z)return!1;if(!Object(O.c)(i.contents,o.contents))return!1}return!0}(i,this._messages))return;this._renderMessages(e,i)}else this.hide()}this._lastRange=e,this._computer.setRange(e),this._shouldFocus=n,this._hoverOperation.start(t)}},t.prototype.hide=function(){this._lastRange=null,this._hoverOperation.cancel(),e.prototype.hide.call(this),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[]),this._isChangingDecorations=!1,this.renderDisposable.dispose(),this.renderDisposable=C.a.None,this._colorPicker=null},t.prototype.isColorPickerVisible=function(){return!!this._colorPicker},t.prototype._withResult=function(e,t){this._messages=e,this._lastRange&&this._messages.length>0?this._renderMessages(this._lastRange,this._messages):t&&this.hide()},t.prototype._renderMessages=function(e,n){var i=this;this.renderDisposable.dispose(),this._colorPicker=null;var o,r=Number.MAX_VALUE,a=n[0].range,s=document.createDocumentFragment(),c=!0,u=!1;n.forEach(function(t){if(t.range)if(r=Math.min(r,t.range.startColumn),a=l.a.plusRange(a,t.range),t instanceof Z){u=!0;var n=t.color,d=n.red,f=n.green,p=n.blue,m=n.alpha,b=new A.c(255*d,255*f,255*p,m),y=new A.a(b),v=i._editor.getModel(),w=new l.a(t.range.startLineNumber,t.range.startColumn,t.range.endLineNumber,t.range.endColumn),_={range:t.range,color:t.color},S=new I(y,[],0),x=new U(s,S,i._editor.getConfiguration().pixelRatio,i._themeService);Object(G.a)(v,_,t.provider,g.a.None).then(function(n){S.colorPresentations=n;var a=i._editor.getModel().getValueInRange(t.range);S.guessColorPresentation(y,a);var c=function(){var e,t;S.presentation.textEdit?(e=[S.presentation.textEdit],t=(t=new l.a(S.presentation.textEdit.range.startLineNumber,S.presentation.textEdit.range.startColumn,S.presentation.textEdit.range.endLineNumber,S.presentation.textEdit.range.endColumn)).setEndPosition(t.endLineNumber,t.startColumn+S.presentation.textEdit.text.length)):(e=[{identifier:null,range:w,text:S.presentation.label,forceMoveMarkers:!1}],t=w.setEndPosition(w.endLineNumber,w.startColumn+S.presentation.label.length)),i._editor.executeEdits("colorpicker",e),S.presentation.additionalTextEdits&&(e=S.presentation.additionalTextEdits.slice(),i._editor.executeEdits("colorpicker",e),i.hide()),i._editor.pushUndoStop(),w=t},u=function(e){return Object(G.a)(v,{range:w,color:{red:e.rgba.r/255,green:e.rgba.g/255,blue:e.rgba.b/255,alpha:e.rgba.a}},t.provider,g.a.None).then(function(e){S.colorPresentations=e})},d=S.onColorFlushed(function(e){u(e).then(c)}),f=S.onDidChangeColor(u);i._colorPicker=x,i.showAt(new h.a(e.startLineNumber,r),i._shouldFocus),i.updateContents(s),i._colorPicker.layout(),i.renderDisposable=Object(C.c)([d,f,x,o])})}else t.contents.filter(function(e){return!Object(O.b)(e)}).forEach(function(e){var t=i._markdownRenderer.render(e);o=t,s.appendChild(Y("div.hover-row",null,t.element)),c=!1})}),u||c||(this.showAt(new h.a(e.startLineNumber,r),this._shouldFocus),this.updateContents(s)),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[{range:a,options:t._DECORATION_OPTIONS}]),this._isChangingDecorations=!1},t.ID="editor.contrib.modesContentHoverWidget",t._DECORATION_OPTIONS=N.a.register({className:"hoverHighlight"}),t}(k);var Q=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),J=function(){function e(e){this._editor=e,this._lineNumber=-1}return e.prototype.setLineNumber=function(e){this._lineNumber=e,this._result=[]},e.prototype.clearResult=function(){this._result=[]},e.prototype.computeSync=function(){for(var e=function(e){return{value:e}},t=this._editor.getLineDecorations(this._lineNumber),n=[],i=0,o=t.length;i<o;i++){var r=t[i];if(r.options.glyphMarginClassName){var a=r.options.glyphMarginHoverMessage;Object(O.b)(a)||(Array.isArray(a)?n=n.concat(a.map(e)):n.push(e(a)))}}return n},e.prototype.onResult=function(e,t){this._result=this._result.concat(e)},e.prototype.getResult=function(){return this._result},e.prototype.getResultWithLoadingMessage=function(){return this.getResult()},e}(),ee=function(e){function t(n,i){var o=e.call(this,t.ID,n)||this;return o._lastLineNumber=-1,o._markdownRenderer=i,o._computer=new J(o._editor),o._hoverOperation=new w(o._computer,function(e){return o._withResult(e)},null,function(e){return o._withResult(e)}),o}return Q(t,e),t.prototype.dispose=function(){this._renderDisposeables=Object(C.d)(this._renderDisposeables),this._hoverOperation.cancel(),e.prototype.dispose.call(this)},t.prototype.onModelDecorationsChanged=function(){this.isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start(0))},t.prototype.startShowingAt=function(e){this._lastLineNumber!==e&&(this._hoverOperation.cancel(),this.hide(),this._lastLineNumber=e,this._computer.setLineNumber(e),this._hoverOperation.start(0))},t.prototype.hide=function(){this._lastLineNumber=-1,this._hoverOperation.cancel(),e.prototype.hide.call(this)},t.prototype._withResult=function(e){this._messages=e,this._messages.length>0?this._renderMessages(this._lastLineNumber,this._messages):this.hide()},t.prototype._renderMessages=function(e,t){var n=this;Object(C.d)(this._renderDisposeables),this._renderDisposeables=[];var i=document.createDocumentFragment();t.forEach(function(e){var t=n._markdownRenderer.render(e.value);n._renderDisposeables.push(t),i.appendChild(Object(d.a)("div.hover-row",null,t.element))}),this.updateContents(i),this.showAt(e)},t.ID="editor.contrib.modesGlyphHoverWidget",t}(T),te=n(6),ne=n(166);n.d(t,"ModesHoverController",function(){return ae});var ie=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),oe=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},re=function(e,t){return function(n,i){t(n,i,e)}},ae=function(){function e(e,t,n,i){var o=this;this._editor=e,this._openerService=t,this._modeService=n,this._themeService=i,this._toUnhook=[],this._isMouseDown=!1,this._hoverClicked=!1,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(function(e){e.contribInfo&&(o._hideWidgets(),o._unhookEvents(),o._hookEvents())})}return Object.defineProperty(e.prototype,"contentWidget",{get:function(){return this._contentWidget||this._createHoverWidget(),this._contentWidget},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"glyphWidget",{get:function(){return this._glyphWidget||this._createHoverWidget(),this._glyphWidget},enumerable:!0,configurable:!0}),e.get=function(t){return t.getContribution(e.ID)},e.prototype._hookEvents=function(){var e=this,t=function(){return e._hideWidgets()},n=this._editor.getConfiguration().contribInfo.hover;this._isHoverEnabled=n.enabled,this._isHoverSticky=n.sticky,this._isHoverEnabled?(this._toUnhook.push(this._editor.onMouseDown(function(t){return e._onEditorMouseDown(t)})),this._toUnhook.push(this._editor.onMouseUp(function(t){return e._onEditorMouseUp(t)})),this._toUnhook.push(this._editor.onMouseMove(function(t){return e._onEditorMouseMove(t)})),this._toUnhook.push(this._editor.onKeyDown(function(t){return e._onKeyDown(t)})),this._toUnhook.push(this._editor.onDidChangeModelDecorations(function(){return e._onModelDecorationsChanged()}))):this._toUnhook.push(this._editor.onMouseMove(t)),this._toUnhook.push(this._editor.onMouseLeave(t)),this._toUnhook.push(this._editor.onDidChangeModel(t)),this._toUnhook.push(this._editor.onDidScrollChange(function(t){return e._onEditorScrollChanged(t)}))},e.prototype._unhookEvents=function(){this._toUnhook=Object(C.d)(this._toUnhook)},e.prototype._onModelDecorationsChanged=function(){this.contentWidget.onModelDecorationsChanged(),this.glyphWidget.onModelDecorationsChanged()},e.prototype._onEditorScrollChanged=function(e){(e.scrollTopChanged||e.scrollLeftChanged)&&this._hideWidgets()},e.prototype._onEditorMouseDown=function(e){this._isMouseDown=!0;var t=e.target.type;t!==u.b.CONTENT_WIDGET||e.target.detail!==X.ID?t===u.b.OVERLAY_WIDGET&&e.target.detail===ee.ID||(t!==u.b.OVERLAY_WIDGET&&e.target.detail!==ee.ID&&(this._hoverClicked=!1),this._hideWidgets()):this._hoverClicked=!0},e.prototype._onEditorMouseUp=function(e){this._isMouseDown=!1},e.prototype._onEditorMouseMove=function(e){var t=e.target.type,n=r.d?e.event.metaKey:e.event.ctrlKey;if(!(this._isMouseDown&&this._hoverClicked&&this.contentWidget.isColorPickerVisible())&&(!this._isHoverSticky||t!==u.b.CONTENT_WIDGET||e.target.detail!==X.ID||n)&&(!this._isHoverSticky||t!==u.b.OVERLAY_WIDGET||e.target.detail!==ee.ID||n)){if(t===u.b.CONTENT_EMPTY){var i=this._editor.getConfiguration().fontInfo.typicalHalfwidthCharacterWidth/2,o=e.target.detail;o&&!o.isAfterLines&&"number"===typeof o.horizontalDistanceToText&&o.horizontalDistanceToText<i&&(t=u.b.CONTENT_TEXT)}t===u.b.CONTENT_TEXT?(this.glyphWidget.hide(),this._isHoverEnabled&&this.contentWidget.startShowingAt(e.target.range,0,!1)):t===u.b.GUTTER_GLYPH_MARGIN?(this.contentWidget.hide(),this._isHoverEnabled&&this.glyphWidget.startShowingAt(e.target.position.lineNumber)):this._hideWidgets()}},e.prototype._onKeyDown=function(e){5!==e.keyCode&&6!==e.keyCode&&57!==e.keyCode&&this._hideWidgets()},e.prototype._hideWidgets=function(){!this._contentWidget||this._isMouseDown&&this._hoverClicked&&this._contentWidget.isColorPickerVisible()||(this._glyphWidget.hide(),this._contentWidget.hide())},e.prototype._createHoverWidget=function(){var e=new ne.a(this._editor,this._modeService,this._openerService);this._contentWidget=new X(this._editor,e,this._themeService),this._glyphWidget=new ee(this._editor,e)},e.prototype.showContentHover=function(e,t,n){this.contentWidget.startShowingAt(e,t,n)},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this._unhookEvents(),this._didChangeConfigurationHandler.dispose(),this._glyphWidget&&(this._glyphWidget.dispose(),this._glyphWidget=null),this._contentWidget&&(this._contentWidget.dispose(),this._contentWidget=null)},e.ID="editor.contrib.hover",e=oe([re(1,a.a),re(2,s.a),re(3,P.c)],e)}(),se=function(e){function t(){return e.call(this,{id:"editor.action.showHover",label:i.a({key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:null,kbOpts:{kbExpr:te.a.editorTextFocus,primary:Object(o.a)(2089,2087),weight:100}})||this}return ie(t,e),t.prototype.run=function(e,t){var n=ae.get(t);if(n){var i=t.getPosition(),o=new l.a(i.lineNumber,i.column,i.lineNumber,i.column);n.showContentHover(o,1,!0)}},t}(c.b);Object(c.h)(ae),Object(c.f)(se),Object(P.e)(function(e,t){var n=e.getColor(M.x);n&&t.addRule(".monaco-editor .hoverHighlight { background-color: "+n+"; }");var i=e.getColor(M.v);i&&t.addRule(".monaco-editor .monaco-editor-hover { background-color: "+i+"; }");var o=e.getColor(M.w);o&&(t.addRule(".monaco-editor .monaco-editor-hover { border: 1px solid "+o+"; }"),t.addRule(".monaco-editor .monaco-editor-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid "+o.transparent(.5)+"; }"));var r=e.getColor(M.qb);r&&t.addRule(".monaco-editor .monaco-editor-hover a { color: "+r+"; }");var a=e.getColor(M.pb);a&&t.addRule(".monaco-editor .monaco-editor-hover code { background-color: "+a+"; }")})},function(e,t,n){"use strict";n.r(t);n(351);var i=n(0),o=n(24),r=n(9),a=n(20),s=n(42),l=n(7),c=n(11),u=n(3),d=n(19),h=n(5),f=65535,p=function(){function e(e,t,n){if(e.length!==t.length||e.length>f)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=e,this._endIndexes=t,this._collapseStates=new Uint32Array(Math.ceil(e.length/32)),this._types=n}return e.prototype.ensureParentIndices=function(){var e=this;if(!this._parentsComputed){this._parentsComputed=!0;for(var t=[],n=function(n,i){var o=t[t.length-1];return e.getStartLineNumber(o)<=n&&e.getEndLineNumber(o)>=i},i=0,o=this._startIndexes.length;i<o;i++){var r=this._startIndexes[i],a=this._endIndexes[i];if(r>16777215||a>16777215)throw new Error("startLineNumber or endLineNumber must not exceed 16777215");for(;t.length>0&&!n(r,a);)t.pop();var s=t.length>0?t[t.length-1]:-1;t.push(i),this._startIndexes[i]=r+((255&s)<<24),this._endIndexes[i]=a+((65280&s)<<16)}}},Object.defineProperty(e.prototype,"length",{get:function(){return this._startIndexes.length},enumerable:!0,configurable:!0}),e.prototype.getStartLineNumber=function(e){return 16777215&this._startIndexes[e]},e.prototype.getEndLineNumber=function(e){return 16777215&this._endIndexes[e]},e.prototype.getType=function(e){return this._types?this._types[e]:void 0},e.prototype.hasTypes=function(){return!!this._types},e.prototype.isCollapsed=function(e){var t=e/32|0,n=e%32;return 0!==(this._collapseStates[t]&1<<n)},e.prototype.setCollapsed=function(e,t){var n=e/32|0,i=e%32,o=this._collapseStates[n];this._collapseStates[n]=t?o|1<<i:o&~(1<<i)},e.prototype.toRegion=function(e){return new m(this,e)},e.prototype.getParentIndex=function(e){this.ensureParentIndices();var t=((4278190080&this._startIndexes[e])>>>24)+((4278190080&this._endIndexes[e])>>>16);return t===f?-1:t},e.prototype.contains=function(e,t){return this.getStartLineNumber(e)<=t&&this.getEndLineNumber(e)>=t},e.prototype.findIndex=function(e){var t=0,n=this._startIndexes.length;if(0===n)return-1;for(;t<n;){var i=Math.floor((t+n)/2);e<this.getStartLineNumber(i)?n=i:t=i+1}return t-1},e.prototype.findRange=function(e){var t=this.findIndex(e);if(t>=0){if(this.getEndLineNumber(t)>=e)return t;for(t=this.getParentIndex(t);-1!==t;){if(this.contains(t,e))return t;t=this.getParentIndex(t)}}return-1},e.prototype.toString=function(){for(var e=[],t=0;t<this.length;t++)e[t]="["+(this.isCollapsed(t)?"+":"-")+"] "+this.getStartLineNumber(t)+"/"+this.getEndLineNumber(t);return e.join(", ")},e}(),m=function(){function e(e,t){this.ranges=e,this.index=t}return Object.defineProperty(e.prototype,"startLineNumber",{get:function(){return this.ranges.getStartLineNumber(this.index)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endLineNumber",{get:function(){return this.ranges.getEndLineNumber(this.index)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"regionIndex",{get:function(){return this.index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentIndex",{get:function(){return this.ranges.getParentIndex(this.index)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCollapsed",{get:function(){return this.ranges.isCollapsed(this.index)},enumerable:!0,configurable:!0}),e.prototype.containedBy=function(e){return e.startLineNumber<=this.startLineNumber&&e.endLineNumber>=this.endLineNumber},e.prototype.containsLine=function(e){return this.startLineNumber<=e&&e<=this.endLineNumber},e}(),g=function(){function e(e,t){this._updateEventEmitter=new h.a,this._textModel=e,this._decorationProvider=t,this._regions=new p(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}return Object.defineProperty(e.prototype,"regions",{get:function(){return this._regions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._updateEventEmitter.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textModel",{get:function(){return this._textModel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInitialized",{get:function(){return this._isInitialized},enumerable:!0,configurable:!0}),e.prototype.toggleCollapseState=function(e){var t=this;if(e.length){var n={};this._decorationProvider.changeDecorations(function(i){for(var o=0,r=e;o<r.length;o++){var a=r[o].regionIndex,s=t._editorDecorationIds[a];if(s&&!n[s]){n[s]=!0;var l=!t._regions.isCollapsed(a);t._regions.setCollapsed(a,l),i.changeDecorationOptions(s,t._decorationProvider.getDecorationOption(l))}}}),this._updateEventEmitter.fire({model:this,collapseStateChanged:e})}},e.prototype.update=function(e,t){var n=this;void 0===t&&(t=[]);for(var i=[],o=function(o,r){var a=e.getStartLineNumber(o);r&&function(e,n){for(var i=0,o=t;i<o.length;i++){var r=o[i];if(e<r&&r<=n)return!0}return!1}(a,e.getEndLineNumber(o))&&(r=!1),e.setCollapsed(o,r);var s=n._textModel.getLineMaxColumn(a),l={startLineNumber:a,startColumn:s,endLineNumber:a,endColumn:s};i.push({range:l,options:n._decorationProvider.getDecorationOption(r)})},r=0,a=function(){for(;r<n._regions.length;){var e=n._regions.isCollapsed(r);if(r++,e)return r-1}return-1},s=0,l=a();-1!==l&&s<e.length;){var c=this._textModel.getDecorationRange(this._editorDecorationIds[l]);if(c){var u=c.startLineNumber;if(this._textModel.getLineMaxColumn(u)===c.startColumn)for(;s<e.length;){var d=e.getStartLineNumber(s);if(!(u>=d))break;o(s,u===d),s++}}l=a()}for(;s<e.length;)o(s,!1),s++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,i),this._regions=e,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})},e.prototype.getMemento=function(){for(var e=[],t=0;t<this._regions.length;t++)if(this._regions.isCollapsed(t)){var n=this._textModel.getDecorationRange(this._editorDecorationIds[t]);if(n){var i=n.startLineNumber,o=n.endLineNumber+this._regions.getEndLineNumber(t)-this._regions.getStartLineNumber(t);e.push({startLineNumber:i,endLineNumber:o})}}return e.length>0?e:null},e.prototype.applyMemento=function(e){if(Array.isArray(e)){for(var t=[],n=0,i=e;n<i.length;n++){var o=i[n],r=this.getRegionAtLine(o.startLineNumber);r&&!r.isCollapsed&&t.push(r)}this.toggleCollapseState(t)}},e.prototype.dispose=function(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])},e.prototype.getAllRegionsAtLine=function(e,t){var n=[];if(this._regions)for(var i=this._regions.findRange(e),o=1;i>=0;){var r=this._regions.toRegion(i);t&&!t(r,o)||n.push(r),o++,i=r.parentIndex}return n},e.prototype.getRegionAtLine=function(e){if(this._regions){var t=this._regions.findRange(e);if(t>=0)return this._regions.toRegion(t)}return null},e.prototype.getRegionsInside=function(e,t){for(var n=[],i=t&&2===t.length,o=i?[]:null,r=e?e.regionIndex+1:0,a=e?e.endLineNumber:Number.MAX_VALUE,s=r,l=this._regions.length;s<l;s++){var c=this._regions.toRegion(s);if(!(this._regions.getStartLineNumber(s)<a))break;if(i){for(;o.length>0&&!c.containedBy(o[o.length-1]);)o.pop();o.push(c),t(c,o.length)&&n.push(c)}else t&&!t(c)||n.push(c)}return n},e}();function b(e,t,n,i){void 0===n&&(n=Number.MAX_VALUE);var o=[];if(i&&i.length>0)for(var r=0,a=i;r<a.length;r++){var s=a[r],l=e.getRegionAtLine(s);if(l&&(l.isCollapsed!==t&&o.push(l),n>1)){var c=e.getRegionsInside(l,function(e,i){return e.isCollapsed!==t&&i<n});o.push.apply(o,c)}}else{c=e.getRegionsInside(null,function(e,i){return e.isCollapsed!==t&&i<n});o.push.apply(o,c)}e.toggleCollapseState(o)}function y(e,t,n,i){for(var o=[],r=0,a=i;r<a.length;r++){var s=a[r],l=e.getAllRegionsAtLine(s,function(e,i){return e.isCollapsed!==t&&i<=n});o.push.apply(o,l)}e.toggleCollapseState(o)}function v(e,t,n){for(var i=e.textModel,o=e.regions,r=[],a=o.length-1;a>=0;a--)if(n!==o.isCollapsed(a)){var s=o.getStartLineNumber(a);t.test(i.getLineContent(s))&&r.push(o.toRegion(a))}e.toggleCollapseState(r)}function w(e,t,n){for(var i=e.regions,o=[],r=i.length-1;r>=0;r--)n!==i.isCollapsed(r)&&t===i.getType(r)&&o.push(i.toRegion(r));e.toggleCollapseState(o)}var _=n(21),S=n(30),C=function(){function e(e){this.editor=e,this.autoHideFoldingControls=!0}return e.prototype.getDecorationOption=function(t){return t?e.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?e.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:e.EXPANDED_VISUAL_DECORATION},e.prototype.deltaDecorations=function(e,t){return this.editor.deltaDecorations(e,t)},e.prototype.changeDecorations=function(e){return this.editor.changeDecorations(e)},e.COLLAPSED_VISUAL_DECORATION=S.a.register({stickiness:_.h.NeverGrowsWhenTypingAtEdges,afterContentClassName:"inline-folded",linesDecorationsClassName:"folding collapsed"}),e.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=S.a.register({stickiness:_.h.NeverGrowsWhenTypingAtEdges,linesDecorationsClassName:"folding"}),e.EXPANDED_VISUAL_DECORATION=S.a.register({stickiness:_.h.NeverGrowsWhenTypingAtEdges,linesDecorationsClassName:"folding alwaysShowFoldIcons"}),e}(),x=n(6),k=n(2),T=n(29),O=function(){function e(e){var t=this;this._updateEventEmitter=new h.a,this._foldingModel=e,this._foldingModelListener=e.onDidChange(function(e){return t.updateHiddenRanges()}),this._hiddenRanges=[],e.regions.length&&this.updateHiddenRanges()}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._updateEventEmitter.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hiddenRanges",{get:function(){return this._hiddenRanges},enumerable:!0,configurable:!0}),e.prototype.updateHiddenRanges=function(){for(var e=!1,t=[],n=0,i=0,o=Number.MAX_VALUE,r=-1,a=this._foldingModel.regions;n<a.length;n++)if(a.isCollapsed(n)){var s=a.getStartLineNumber(n)+1,l=a.getEndLineNumber(n);o<=s&&l<=r||(!e&&i<this._hiddenRanges.length&&this._hiddenRanges[i].startLineNumber===s&&this._hiddenRanges[i].endLineNumber===l?(t.push(this._hiddenRanges[i]),i++):(e=!0,t.push(new k.a(s,1,l,1))),o=s,r=l)}(e||i<this._hiddenRanges.length)&&this.applyHiddenRanges(t)},e.prototype.applyMemento=function(e){if(!Array.isArray(e)||0===e.length)return!1;for(var t=[],n=0,i=e;n<i.length;n++){var o=i[n];if(!o.startLineNumber||!o.endLineNumber)return!1;t.push(new k.a(o.startLineNumber+1,1,o.endLineNumber,1))}return this.applyHiddenRanges(t),!0},e.prototype.getMemento=function(){return this._hiddenRanges.map(function(e){return{startLineNumber:e.startLineNumber-1,endLineNumber:e.endLineNumber}})},e.prototype.applyHiddenRanges=function(e){this._hiddenRanges=e,this._updateEventEmitter.fire(e)},e.prototype.hasRanges=function(){return this._hiddenRanges.length>0},e.prototype.isHidden=function(e){return null!==N(this._hiddenRanges,e)},e.prototype.adjustSelections=function(e){for(var t=this,n=!1,i=this._foldingModel.textModel,o=null,r=function(e){return o&&function(e,t){return e>=t.startLineNumber&&e<=t.endLineNumber}(e,o)||(o=N(t._hiddenRanges,e)),o?o.startLineNumber-1:null},a=0,s=e.length;a<s;a++){var l=e[a],c=r(l.startLineNumber);c&&(l=l.setStartPosition(c,i.getLineMaxColumn(c)),n=!0);var u=r(l.endLineNumber);u&&(l=l.setEndPosition(u,i.getLineMaxColumn(u)),n=!0),e[a]=l}return n},e.prototype.dispose=function(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)},e}();function N(e,t){var n=Object(T.f)(e,function(e){return t<e.startLineNumber})-1;return n>=0&&e[n].endLineNumber>=t?e[n]:null}var L=n(35),I=5e3,E="indent",D=function(){function e(e){this.editorModel=e,this.id=E}return e.prototype.dispose=function(){},e.prototype.compute=function(e){var t=L.a.getFoldingRules(this.editorModel.getLanguageIdentifier().id),n=t&&t.offSide,i=t&&t.markers;return c.b.as(function(e,t,n,i){void 0===i&&(i=I);var o=e.getOptions().tabSize,r=new A(i),a=void 0;n&&(a=new RegExp("("+n.start.source+")|(?:"+n.end.source+")"));var s=[];s.push({indent:-1,line:e.getLineCount()+1,marker:!1});for(var l=e.getLineCount();l>0;l--){var c=e.getLineContent(l),u=S.b.computeIndentLevel(c,o),d=s[s.length-1];if(-1!==u){var h=void 0;if(a&&(h=c.match(a))){if(!h[1]){s.push({indent:-2,line:l,marker:!0});continue}for(var f=s.length-1;f>0&&!s[f].marker;)f--;if(f>0){s.length=f+1,d=s[f],r.insertFirst(l,d.line,u),d.marker=!1,d.indent=u,d.line=l;continue}}if(d.indent>u){do{s.pop(),d=s[s.length-1]}while(d.indent>u);var p=d.line-1;p-l>=1&&r.insertFirst(l,p,u)}d.indent===u?d.line=l:s.push({indent:u,line:l,marker:!1})}else t&&!d.marker&&(d.line=l)}return r.toIndentRanges(e)}(this.editorModel,n,i))},e}(),A=function(){function e(e){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=e}return e.prototype.insertFirst=function(e,t,n){if(!(e>16777215||t>16777215)){var i=this._length;this._startIndexes[i]=e,this._endIndexes[i]=t,this._length++,n<1e3&&(this._indentOccurrences[n]=(this._indentOccurrences[n]||0)+1)}},e.prototype.toIndentRanges=function(e){if(this._length<=this._foldingRangesLimit){for(var t=new Uint32Array(this._length),n=new Uint32Array(this._length),i=this._length-1,o=0;i>=0;i--,o++)t[o]=this._startIndexes[i],n[o]=this._endIndexes[i];return new p(t,n)}var r=0,a=this._indentOccurrences.length;for(i=0;i<this._indentOccurrences.length;i++){var s=this._indentOccurrences[i];if(s){if(s+r>this._foldingRangesLimit){a=i;break}r+=s}}var l=e.getOptions().tabSize;for(t=new Uint32Array(this._foldingRangesLimit),n=new Uint32Array(this._foldingRangesLimit),i=this._length-1,o=0;i>=0;i--){var c=this._startIndexes[i],u=e.getLineContent(c),d=S.b.computeIndentLevel(u,l);(d<a||d===a&&r++<this._foldingRangesLimit)&&(t[o]=c,n[o]=this._endIndexes[i],o++)}return new p(t,n)},e}();var M=n(12),P=n(15),R=5e3,F={},j="syntax",W=function(){function e(e,t,n){void 0===n&&(n=R),this.editorModel=e,this.providers=t,this.limit=n,this.id=j}return e.prototype.compute=function(e){var t=this;return function(e,t,n){var i=null,o=e.map(function(e,o){return Object(a.n)(e.provideFoldingRanges(t,F,n)).then(function(e){if(!n.isCancellationRequested&&Array.isArray(e)){Array.isArray(i)||(i=[]);for(var r=t.getLineCount(),a=0,s=e;a<s.length;a++){var l=s[a];l.start>0&&l.end>l.start&&l.end<=r&&i.push({start:l.start,end:l.end,rank:o,kind:l.kind})}}},P.f)});return c.b.join(o).then(function(e){return i})}(this.providers,this.editorModel,e).then(function(e){return e?B(e,t.limit):null})},e.prototype.dispose=function(){},e}();var V=function(){function e(e){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=e}return e.prototype.add=function(e,t,n,i){if(!(e>16777215||t>16777215)){var o=this._length;this._startIndexes[o]=e,this._endIndexes[o]=t,this._nestingLevels[o]=i,this._types[o]=n,this._length++,i<30&&(this._nestingLevelCounts[i]=(this._nestingLevelCounts[i]||0)+1)}},e.prototype.toIndentRanges=function(){if(this._length<=this._foldingRangesLimit){for(var e=new Uint32Array(this._length),t=new Uint32Array(this._length),n=0;n<this._length;n++)e[n]=this._startIndexes[n],t[n]=this._endIndexes[n];return new p(e,t,this._types)}var i=0,o=this._nestingLevelCounts.length;for(n=0;n<this._nestingLevelCounts.length;n++){var r=this._nestingLevelCounts[n];if(r){if(r+i>this._foldingRangesLimit){o=n;break}i+=r}}e=new Uint32Array(this._foldingRangesLimit),t=new Uint32Array(this._foldingRangesLimit);for(var a=[],s=(n=0,0);n<this._length;n++){var l=this._nestingLevels[n];(l<o||l===o&&i++<this._foldingRangesLimit)&&(e[s]=this._startIndexes[n],t[s]=this._endIndexes[n],a[s]=this._types[n],s++)}return new p(e,t,a)},e}();function B(e,t){for(var n=e.sort(function(e,t){var n=e.start-t.start;return 0===n&&(n=e.rank-t.rank),n}),i=new V(t),o=null,r=[],a=0,s=n;a<s.length;a++){var l=s[a];if(o){if(l.start>o.start)if(l.end<=o.end)r.push(o),o=l,i.add(l.start,l.end,l.kind&&l.kind.value,r.length);else{if(l.start>o.end){do{o=r.pop()}while(o&&l.start>o.end);o&&r.push(o),o=l}i.add(l.start,l.end,l.kind&&l.kind.value,r.length)}}else o=l,i.add(l.start,l.end,l.kind&&l.kind.value,r.length)}return i.toIndentRanges()}var H="init",z=function(){function e(e,t,n,i){if(this.editorModel=e,this.id=H,t.length){this.decorationIds=e.deltaDecorations([],t.map(function(t){return{range:{startLineNumber:t.startLineNumber,startColumn:0,endLineNumber:t.endLineNumber,endColumn:e.getLineLength(t.endLineNumber)},options:{stickiness:_.h.NeverGrowsWhenTypingAtEdges}}})),this.timeout=setTimeout(n,i)}}return e.prototype.dispose=function(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),"number"===typeof this.timeout&&(clearTimeout(this.timeout),this.timeout=void 0)},e.prototype.compute=function(e){var t=[];if(this.decorationIds)for(var n=0,i=this.decorationIds;n<i.length;n++){var o=i[n],r=this.editorModel.getDecorationRange(o);r&&t.push({start:r.startLineNumber,end:r.endLineNumber,rank:1})}return c.b.as(B(t,Number.MAX_VALUE))},e}();n.d(t,"ID",function(){return G}),n.d(t,"FoldingController",function(){return K});var U,q=(U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}U(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),G="editor.contrib.folding",K=function(){function e(e){var t=this;this.editor=e,this._isEnabled=this.editor.getConfiguration().contribInfo.folding,this._autoHideFoldingControls="mouseover"===this.editor.getConfiguration().contribInfo.showFoldingControls,this._useFoldingProviders="indentation"!==this.editor.getConfiguration().contribInfo.foldingStrategy,this.globalToDispose=[],this.localToDispose=[],this.foldingDecorationProvider=new C(e),this.foldingDecorationProvider.autoHideFoldingControls=this._autoHideFoldingControls,this.globalToDispose.push(this.editor.onDidChangeModel(function(){return t.onModelChanged()})),this.globalToDispose.push(M.l.onDidChange(function(){return t.onFoldingStrategyChanged()})),this.globalToDispose.push(this.editor.onDidChangeConfiguration(function(e){if(e.contribInfo){var n=t._isEnabled;t._isEnabled=t.editor.getConfiguration().contribInfo.folding,n!==t._isEnabled&&t.onModelChanged();var i=t._autoHideFoldingControls;t._autoHideFoldingControls="mouseover"===t.editor.getConfiguration().contribInfo.showFoldingControls,i!==t._autoHideFoldingControls&&(t.foldingDecorationProvider.autoHideFoldingControls=t._autoHideFoldingControls,t.onModelContentChanged());var o=t._useFoldingProviders;t._useFoldingProviders="indentation"!==t.editor.getConfiguration().contribInfo.foldingStrategy,o!==t._useFoldingProviders&&t.onFoldingStrategyChanged()}})),this.globalToDispose.push({dispose:function(){return Object(l.d)(t.localToDispose)}}),this.onModelChanged()}return e.get=function(e){return e.getContribution(G)},e.prototype.getId=function(){return G},e.prototype.dispose=function(){this.globalToDispose=Object(l.d)(this.globalToDispose)},e.prototype.saveViewState=function(){var e=this.editor.getModel();if(!e||!this._isEnabled||e.isTooLargeForTokenization())return{};if(this.foldingModel){var t=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),n=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:t,lineCount:e.getLineCount(),provider:n}}},e.prototype.restoreViewState=function(e){var t=this.editor.getModel();t&&this._isEnabled&&!t.isTooLargeForTokenization()&&e&&e.collapsedRegions&&e.lineCount===t.getLineCount()&&(e.provider!==j&&e.provider!==H||(this.foldingStateMemento=e),this.hiddenRangeModel.applyMemento(e.collapsedRegions)&&this.getFoldingModel().then(function(t){t&&t.applyMemento(e.collapsedRegions)}).done(void 0,P.e))},e.prototype.onModelChanged=function(){var e=this;this.localToDispose=Object(l.d)(this.localToDispose);var t=this.editor.getModel();this._isEnabled&&t&&!t.isTooLargeForTokenization()&&(this.foldingModel=new g(t,this.foldingDecorationProvider),this.localToDispose.push(this.foldingModel),this.hiddenRangeModel=new O(this.foldingModel),this.localToDispose.push(this.hiddenRangeModel),this.localToDispose.push(this.hiddenRangeModel.onDidChange(function(t){return e.onHiddenRangesChanges(t)})),this.updateScheduler=new a.a(200),this.cursorChangedScheduler=new a.c(function(){return e.revealCursor()},200),this.localToDispose.push(this.cursorChangedScheduler),this.localToDispose.push(this.editor.onDidChangeModelLanguageConfiguration(function(t){return e.onModelContentChanged()})),this.localToDispose.push(this.editor.onDidChangeModelContent(function(t){return e.onModelContentChanged()})),this.localToDispose.push(this.editor.onDidChangeCursorPosition(function(t){return e.onCursorPositionChanged()})),this.localToDispose.push(this.editor.onMouseDown(function(t){return e.onEditorMouseDown(t)})),this.localToDispose.push(this.editor.onMouseUp(function(t){return e.onEditorMouseUp(t)})),this.localToDispose.push({dispose:function(){e.foldingRegionPromise&&(e.foldingRegionPromise.cancel(),e.foldingRegionPromise=null),e.updateScheduler.cancel(),e.updateScheduler=null,e.foldingModel=null,e.foldingModelPromise=null,e.hiddenRangeModel=null,e.cursorChangedScheduler=null,e.foldingStateMemento=null,e.rangeProvider&&e.rangeProvider.dispose(),e.rangeProvider=null}}),this.onModelContentChanged())},e.prototype.onFoldingStrategyChanged=function(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.onModelContentChanged()},e.prototype.getRangeProvider=function(e){var t=this;if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new D(e),this._useFoldingProviders){var n=M.l.ordered(this.foldingModel.textModel);if(0===n.length&&this.foldingStateMemento)return this.rangeProvider=new z(e,this.foldingStateMemento.collapsedRegions,function(){t.foldingStateMemento=null,t.onFoldingStrategyChanged()},3e4),this.rangeProvider;n.length>0&&(this.rangeProvider=new W(e,n))}return this.foldingStateMemento=null,this.rangeProvider},e.prototype.getFoldingModel=function(){return this.foldingModelPromise},e.prototype.onModelContentChanged=function(){var e=this;this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(function(){if(!e.foldingModel)return null;var t=e.foldingRegionPromise=Object(a.i)(function(t){return e.getRangeProvider(e.foldingModel.textModel).compute(t)});return c.b.wrap(t.then(function(n){if(n&&t===e.foldingRegionPromise){var i=e.editor.getSelections(),o=i?i.map(function(e){return e.startLineNumber}):[];e.foldingModel.update(n,o)}return e.foldingModel}))}))},e.prototype.onHiddenRangesChanges=function(e){if(e.length){var t=this.editor.getSelections();t&&this.hiddenRangeModel.adjustSelections(t)&&this.editor.setSelections(t)}this.editor.setHiddenAreas(e)},e.prototype.onCursorPositionChanged=function(){this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()},e.prototype.revealCursor=function(){var e=this;this.getFoldingModel().then(function(t){if(t){var n=e.editor.getSelections();if(n&&n.length>0){for(var i=[],o=function(n){var o=n.selectionStartLineNumber;e.hiddenRangeModel.isHidden(o)&&i.push.apply(i,t.getAllRegionsAtLine(o,function(e){return e.isCollapsed&&o>e.startLineNumber}))},r=0,a=n;r<a.length;r++){o(a[r])}i.length&&(t.toggleCollapseState(i),e.reveal(n[0].getPosition()))}}}).done(void 0,P.e)},e.prototype.onEditorMouseDown=function(e){this.mouseDownInfo=null;var t=e.target.range;if(this.hiddenRangeModel&&t&&(e.event.leftButton||e.event.middleButton)){var n=!1;switch(e.target.type){case d.b.GUTTER_LINE_DECORATIONS:var i=e.target.detail;if(i.offsetX-i.glyphMarginWidth-i.lineNumbersWidth-i.glyphMarginLeft<=10)return;n=!0;break;case d.b.CONTENT_EMPTY:if(this.hiddenRangeModel.hasRanges())if(!e.target.detail.isAfterLines)break;return;case d.b.CONTENT_TEXT:if(this.hiddenRangeModel.hasRanges()){var o=this.editor.getModel();if(o&&t.startColumn===o.getLineMaxColumn(t.startLineNumber))break}return;default:return}this.mouseDownInfo={lineNumber:t.startLineNumber,iconClicked:n}}},e.prototype.onEditorMouseUp=function(e){var t=this;if(this.mouseDownInfo){var n=this.mouseDownInfo.lineNumber,i=this.mouseDownInfo.iconClicked,o=e.target.range;if(o&&o.startLineNumber===n){if(i){if(e.target.type!==d.b.GUTTER_LINE_DECORATIONS)return}else{var r=this.editor.getModel();if(o.startColumn!==r.getLineMaxColumn(n))return}this.getFoldingModel().then(function(o){if(o){var r=o.getRegionAtLine(n);if(r&&r.startLineNumber===n){var a=r.isCollapsed;if(i||a){var s=[r];(e.event.middleButton||e.event.shiftKey)&&s.push.apply(s,o.getRegionsInside(r,function(e){return e.isCollapsed===a})),o.toggleCollapseState(s),t.reveal({lineNumber:n,column:1})}}}}).done(void 0,P.e)}}},e.prototype.reveal=function(e){this.editor.revealPositionInCenterIfOutsideViewport(e,0)},e}(),Y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return q(t,e),t.prototype.runEditorCommand=function(e,t,n){var i=this,o=K.get(t);if(o){var r=o.getFoldingModel();return r?(this.reportTelemetry(e,t),r.then(function(e){e&&(i.invoke(o,e,t,n),o.reveal(t.getSelection().getStartPosition()))})):void 0}},t.prototype.getSelectedLines=function(e){var t=e.getSelections();return t?t.map(function(e){return e.startLineNumber}):[]},t.prototype.getLineNumbers=function(e,t){return e&&e.selectionLines?e.selectionLines.map(function(e){return e+1}):this.getSelectedLines(t)},t.prototype.run=function(e,t){},t}(u.b);function Z(e){if(!o.i(e)){if(!o.g(e))return!1;var t=e;if(!o.i(t.levels)&&!o.f(t.levels))return!1;if(!o.i(t.direction)&&!o.h(t.direction))return!1;if(!o.i(t.selectionLines)&&(!o.b(t.selectionLines)||!t.selectionLines.every(o.f)))return!1}return!0}var $=function(e){function t(){return e.call(this,{id:"editor.unfold",label:i.a("unfoldAction.label","Unfold"),alias:"Unfold",precondition:null,kbOpts:{kbExpr:x.a.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t* 'levels': Number of levels to unfold. If not set, defaults to 1.\n\t\t\t\t\t\t* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.\n\t\t\t\t\t\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t",constraint:Z}]}})||this}return q(t,e),t.prototype.invoke=function(e,t,n,i){var o=i&&i.levels||1,r=this.getLineNumbers(i,n);i&&"up"===i.direction?y(t,!1,o,r):b(t,!1,o,r)},t}(Y),X=function(e){function t(){return e.call(this,{id:"editor.unfoldRecursively",label:i.a("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:null,kbOpts:{kbExpr:x.a.editorTextFocus,primary:Object(s.a)(2089,2137),weight:100}})||this}return q(t,e),t.prototype.invoke=function(e,t,n,i){b(t,!1,Number.MAX_VALUE,this.getSelectedLines(n))},t}(Y),Q=function(e){function t(){return e.call(this,{id:"editor.fold",label:i.a("foldAction.label","Fold"),alias:"Fold",precondition:null,kbOpts:{kbExpr:x.a.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t\t* 'levels': Number of levels to fold. Defaults to 1.\n\t\t\t\t\t\t\t* 'direction': If 'up', folds given number of levels up otherwise folds down.\n\t\t\t\t\t\t\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t",constraint:Z}]}})||this}return q(t,e),t.prototype.invoke=function(e,t,n,i){var o=i&&i.levels||1,r=this.getLineNumbers(i,n);i&&"up"===i.direction?y(t,!0,o,r):b(t,!0,o,r)},t}(Y),J=function(e){function t(){return e.call(this,{id:"editor.foldRecursively",label:i.a("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:null,kbOpts:{kbExpr:x.a.editorTextFocus,primary:Object(s.a)(2089,2135),weight:100}})||this}return q(t,e),t.prototype.invoke=function(e,t,n){var i=this.getSelectedLines(n);b(t,!0,Number.MAX_VALUE,i)},t}(Y),ee=function(e){function t(){return e.call(this,{id:"editor.foldAllBlockComments",label:i.a("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:null,kbOpts:{kbExpr:x.a.editorTextFocus,primary:Object(s.a)(2089,2133),weight:100}})||this}return q(t,e),t.prototype.invoke=function(e,t,n){if(t.regions.hasTypes())w(t,M.k.Comment.value,!0);else{var i=L.a.getComments(n.getModel().getLanguageIdentifier().id);if(i&&i.blockCommentStartToken)v(t,new RegExp("^\\s*"+Object(r.escapeRegExpCharacters)(i.blockCommentStartToken)),!0)}},t}(Y),te=function(e){function t(){return e.call(this,{id:"editor.foldAllMarkerRegions",label:i.a("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:null,kbOpts:{kbExpr:x.a.editorTextFocus,primary:Object(s.a)(2089,2077),weight:100}})||this}return q(t,e),t.prototype.invoke=function(e,t,n){if(t.regions.hasTypes())w(t,M.k.Region.value,!0);else{var i=L.a.getFoldingRules(n.getModel().getLanguageIdentifier().id);if(i&&i.markers&&i.markers.start)v(t,new RegExp(i.markers.start),!0)}},t}(Y),ne=function(e){function t(){return e.call(this,{id:"editor.unfoldAllMarkerRegions",label:i.a("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:null,kbOpts:{kbExpr:x.a.editorTextFocus,primary:Object(s.a)(2089,2078),weight:100}})||this}return q(t,e),t.prototype.invoke=function(e,t,n){if(t.regions.hasTypes())w(t,M.k.Region.value,!1);else{var i=L.a.getFoldingRules(n.getModel().getLanguageIdentifier().id);if(i&&i.markers&&i.markers.start)v(t,new RegExp(i.markers.start),!1)}},t}(Y),ie=function(e){function t(){return e.call(this,{id:"editor.foldAll",label:i.a("foldAllAction.label","Fold All"),alias:"Fold All",precondition:null,kbOpts:{kbExpr:x.a.editorTextFocus,primary:Object(s.a)(2089,2069),weight:100}})||this}return q(t,e),t.prototype.invoke=function(e,t,n){b(t,!0)},t}(Y),oe=function(e){function t(){return e.call(this,{id:"editor.unfoldAll",label:i.a("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:null,kbOpts:{kbExpr:x.a.editorTextFocus,primary:Object(s.a)(2089,2088),weight:100}})||this}return q(t,e),t.prototype.invoke=function(e,t,n){b(t,!1)},t}(Y),re=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return q(t,e),t.prototype.getFoldingLevel=function(){return parseInt(this.id.substr(t.ID_PREFIX.length))},t.prototype.invoke=function(e,t,n){!function(e,t,n,i){var o=e.getRegionsInside(null,function(e,o){return o===t&&e.isCollapsed!==n&&!i.some(function(t){return e.containsLine(t)})});e.toggleCollapseState(o)}(t,this.getFoldingLevel(),!0,this.getSelectedLines(n))},t.ID_PREFIX="editor.foldLevel",t.ID=function(e){return t.ID_PREFIX+e},t}(Y);Object(u.h)(K),Object(u.f)($),Object(u.f)(X),Object(u.f)(Q),Object(u.f)(J),Object(u.f)(ie),Object(u.f)(oe),Object(u.f)(ee),Object(u.f)(te),Object(u.f)(ne);for(var ae=1;ae<=7;ae++)Object(u.i)(new re({id:re.ID(ae),label:i.a("foldLevelAction.label","Fold Level {0}",ae),alias:"Fold Level "+ae,precondition:null,kbOpts:{kbExpr:x.a.editorTextFocus,primary:Object(s.a)(2089,2048|21+ae),weight:100}}))},function(e,t,n){"use strict";n.r(t);var i,o=n(3),r=n(7),a=n(9),s=n(11),l=n(162),c=n(6),u=n(154),d=n(0),h=n(40),f=n(13),p=n(84),m=n(65),g=n(49),b=n(125),y=n(20),v=n(5),w=n(2),_=n(12),S=n(29),C=n(51),x=n(15),k=n(36),T=n(63),O=function(){function e(e){this.value=e}return e.prototype.contains=function(t){return this.value===t||Object(a.startsWith)(t,this.value+e.sep)},e.sep=".",e.Empty=new e(""),e.Refactor=new e("refactor"),e.Source=new e("source"),e.SourceOrganizeImports=new e("source.organizeImports"),e}();function N(e,t,n,i){void 0===i&&(i=C.a.None);var o={only:n&&n.filter&&n.filter.kind?n.filter.kind.value:void 0,trigger:n&&"manual"===n.type?_.b.Manual:_.b.Automatic},r=_.a.all(e).map(function(i){return Object(y.h)(function(n){return i.provideCodeActions(e,t,o,n)}).then(function(e){return Array.isArray(e)?e.filter(function(e){return function(e,t){if(!t)return!1;if(e&&e.kind&&(!t.kind||!e.kind.contains(t.kind)))return!1;if(t.kind&&O.Source.contains(t.kind)&&(!e||!e.includeSourceActions))return!1;return!0}(n&&n.filter,e)}):[]},function(e){if(Object(x.d)(e))throw e;return Object(x.f)(e),[]})});return Promise.all(r).then(S.i).then(function(e){return Object(S.l)(e,L)})}function L(e,t){var n=!Object(S.k)(e.diagnostics),i=!Object(S.k)(t.diagnostics);return n?i?e.diagnostics[0].message.localeCompare(t.diagnostics[0].message):-1:i?1:0}!function(e){e[e.IfSingle=1]="IfSingle",e[e.First=2]="First",e[e.Never=3]="Never"}(i||(i={})),Object(o.j)("_executeCodeActionProvider",function(e,t){var n=t.resource,i=t.range;if(!(n instanceof k.a)||!w.a.isIRange(i))throw Object(x.b)();var o=e.get(T.a).getModel(n);if(!o)throw Object(x.b)();return N(o,o.validateRange(i),{type:"manual",filter:{includeSourceActions:!0}})});var I,E=new f.f("supportedCodeAction",""),D=function(){function e(e,t,n,i,o){void 0===i&&(i=250);var r=this;this._editor=e,this._markerService=t,this._signalChange=n,this._progressService=o,this._disposables=[],this._disposables.push(Object(v.h)(this._markerService.onMarkerChanged,function(e,t){return e?e.concat(t):t},i/2)(function(e){return r._onMarkerChanges(e)}),Object(v.h)(this._editor.onDidChangeCursorPosition,function(e,t){return t},i)(function(e){return r._onCursorChange()}))}return e.prototype.dispose=function(){this._disposables=Object(r.d)(this._disposables)},e.prototype.trigger=function(e){var t=this._getRangeOfSelectionUnlessWhitespaceEnclosed(e);return this._createEventAndSignalChange(e,t)},e.prototype._onMarkerChanges=function(e){for(var t=this._editor.getModel().uri,n=0,i=e;n<i.length;n++){if(i[n].toString()===t.toString())return void this.trigger({type:"auto"})}},e.prototype._onCursorChange=function(){this.trigger({type:"auto"})},e.prototype._getRangeOfMarker=function(e){for(var t=this._editor.getModel(),n=0,i=this._markerService.read({resource:t.uri});n<i.length;n++){var o=i[n];if(w.a.intersectRanges(o,e))return w.a.lift(o)}},e.prototype._getRangeOfSelectionUnlessWhitespaceEnclosed=function(e){var t=this._editor.getModel(),n=this._editor.getSelection();if(n.isEmpty()&&(!e.filter||!e.filter.includeSourceActions)){var i=n.getPosition(),o=i.lineNumber,r=i.column,a=t.getLineContent(o);if(0===a.length)return;if(1===r){if(/\s/.test(a[0]))return}else if(r===t.getLineMaxColumn(o)){if(/\s/.test(a[a.length-1]))return}else if(/\s/.test(a[r-2])&&/\s/.test(a[r-1]))return}return n},e.prototype._createEventAndSignalChange=function(e,t){if(t){var n=this._editor.getModel(),i=this._getRangeOfMarker(t),o=i?i.getStartPosition():t.getStartPosition(),r=Object(y.i)(function(i){return N(n,t,e,i)});return this._progressService&&"manual"===e.type&&this._progressService.showWhile(s.b.wrap(r),250),this._signalChange({trigger:e,rangeOrSelection:t,position:o,actions:r}),r}return this._signalChange({trigger:e,rangeOrSelection:void 0,position:void 0,actions:void 0}),s.b.as(void 0)},e}(),A=function(){function e(e,t,n,i){var o=this;this._progressService=i,this._onDidChangeFixes=new v.a,this._disposables=[],this._editor=e,this._markerService=t,this._supportedCodeActions=E.bindTo(n),this._disposables.push(this._editor.onDidChangeModel(function(){return o._update()})),this._disposables.push(this._editor.onDidChangeModelLanguage(function(){return o._update()})),this._disposables.push(_.a.onDidChange(this._update,this)),this._update()}return e.prototype.dispose=function(){this._disposables=Object(r.d)(this._disposables),Object(r.d)(this._codeActionOracle)},Object.defineProperty(e.prototype,"onDidChangeFixes",{get:function(){return this._onDidChangeFixes.event},enumerable:!0,configurable:!0}),e.prototype._update=function(){var e=this;if(this._codeActionOracle&&(this._codeActionOracle.dispose(),this._codeActionOracle=void 0,this._onDidChangeFixes.fire(void 0)),this._editor.getModel()&&_.a.has(this._editor.getModel())&&!this._editor.getConfiguration().readOnly){for(var t=[],n=0,i=_.a.all(this._editor.getModel());n<i.length;n++){var o=i[n];Array.isArray(o.providedCodeActionKinds)&&t.push.apply(t,o.providedCodeActionKinds)}this._supportedCodeActions.set(t.join(" ")),this._codeActionOracle=new D(this._editor,this._markerService,function(t){return e._onDidChangeFixes.fire(t)},void 0,this._progressService),this._codeActionOracle.trigger({type:"auto"})}else this._supportedCodeActions.reset()},e.prototype.trigger=function(e){return this._codeActionOracle?this._codeActionOracle.trigger(e):s.b.as(void 0)},e}(),M=n(1),P=n(80),R=n(10),F=function(){function e(e,t,n){this._editor=e,this._contextMenuService=t,this._onApplyCodeAction=n,this._onDidExecuteCodeAction=new v.a,this.onDidExecuteCodeAction=this._onDidExecuteCodeAction.event}return e.prototype.show=function(e,t){var n=this,i=e.then(function(e){return e.map(function(e){return new P.a(e.command?e.command.id:e.title,e.title,void 0,!0,function(){return Object(y.g)(n._onApplyCodeAction(e),function(){return n._onDidExecuteCodeAction.fire(void 0)})})})}).then(function(e){return n._editor.getDomNode()?e:s.b.wrapError(Object(x.a)())});this._contextMenuService.showContextMenu({getAnchor:function(){return R.a.isIPosition(t)&&(t=n._toCoords(t)),t},getActions:function(){return s.b.wrap(i)},onHide:function(){n._visible=!1,n._editor.focus()},autoSelectFirstItem:!0})},Object.defineProperty(e.prototype,"isVisible",{get:function(){return this._visible},enumerable:!0,configurable:!0}),e.prototype._toCoords=function(e){this._editor.revealPosition(e,1),this._editor.render();var t=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),n=Object(M.u)(this._editor.getDomNode());return{x:n.left+t.left,y:n.top+t.top+t.height}},e}(),j=n(75),W=(n(327),n(19)),V=n(30),B=function(){function e(e){var t=this;this._disposables=[],this._onClick=new v.a,this.onClick=this._onClick.event,this._futureFixes=new C.b,this._domNode=document.createElement("div"),this._domNode.className="lightbulb-glyph",this._editor=e,this._editor.addContentWidget(this),this._disposables.push(this._editor.onDidChangeModel(function(e){return t._futureFixes.cancel()})),this._disposables.push(this._editor.onDidChangeModelLanguage(function(e){return t._futureFixes.cancel()})),this._disposables.push(this._editor.onDidChangeModelContent(function(e){t._model&&t.model.position.lineNumber>=t._editor.getModel().getLineCount()&&t._futureFixes.cancel()})),this._disposables.push(M.j(this._domNode,"click",function(e){t._editor.focus();var n=M.u(t._domNode),i=n.top,o=n.height,r=t._editor.getConfiguration().lineHeight,a=Math.floor(r/3);t._position&&t._position.position.lineNumber<t._model.position.lineNumber&&(a+=r),t._onClick.fire({x:e.posx,y:i+o+a})})),this._disposables.push(M.g(this._domNode,"mouseenter",function(e){if(1===(1&e.buttons)){t.hide();var n=new j.a;n.startMonitoring(j.b,function(){},function(){n.dispose()})}})),this._disposables.push(this._editor.onDidChangeConfiguration(function(e){e.contribInfo&&!t._editor.getConfiguration().contribInfo.lightbulbEnabled&&t.hide()}))}return e.prototype.dispose=function(){Object(r.d)(this._disposables),this._editor.removeContentWidget(this)},e.prototype.getId=function(){return"LightBulbWidget"},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getPosition=function(){return this._position},Object.defineProperty(e.prototype,"model",{get:function(){return this._model},set:function(e){var t=this;!this._position||e.position&&this._position.position.lineNumber===e.position.lineNumber?this._futureFixes&&this._futureFixes.cancel():this.hide(),this._futureFixes=new C.b;var n=this._futureFixes.token;this._model=e;var i=this._model.rangeOrSelection;this._model.actions.then(function(e){!n.isCancellationRequested&&e&&e.length>0?i.isEmpty()&&e.every(function(e){return e.kind&&O.Refactor.contains(e.kind)})?t.hide():t._show():t.hide()}).catch(function(e){t.hide()})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return this._domNode.title},set:function(e){this._domNode.title=e},enumerable:!0,configurable:!0}),e.prototype._show=function(){var t=this._editor.getConfiguration();if(t.contribInfo.lightbulbEnabled){var n=this._model.position.lineNumber,i=this._editor.getModel();if(i){var o=i.getOptions().tabSize,r=i.getLineContent(n),a=V.b.computeIndentLevel(r,o),s=n;t.fontInfo.spaceWidth*a>22||(n>1?s-=1:s+=1),this._position={position:{lineNumber:s,column:1},preference:e._posPref},this._editor.layoutContentWidget(this)}}},e.prototype.hide=function(){this._position=null,this._model=null,this._futureFixes.cancel(),this._editor.layoutContentWidget(this)},e._posPref=[W.a.EXACT],e}(),H=(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}I(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),z=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},U=function(e,t){return function(n,i){t(n,i,e)}},q=function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function s(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((i=i.apply(e,t||[])).next())})},G=function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};function K(e){return f.d.regex(E.keys()[0],new RegExp("(\\s|^)"+Object(a.escapeRegExpCharacters)(e.value)+"\\b"))}var Y=function(){function e(e,t,n,i,o,r,a,s){var l=this;this._commandService=r,this._keybindingService=a,this._bulkEditService=s,this._disposables=[],this._editor=e,this._model=new A(this._editor,t,n,i),this._codeActionContextMenu=new F(e,o,function(e){return l._onApplyCodeAction(e)}),this._lightBulbWidget=new B(e),this._updateLightBulbTitle(),this._disposables.push(this._codeActionContextMenu.onDidExecuteCodeAction(function(e){return l._model.trigger({type:"auto",filter:{}})}),this._lightBulbWidget.onClick(this._handleLightBulbSelect,this),this._model.onDidChangeFixes(function(e){return l._onCodeActionsEvent(e)}),this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitle,this))}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.dispose=function(){this._model.dispose(),Object(r.d)(this._disposables)},e.prototype._onCodeActionsEvent=function(e){var t=this;this._activeRequest&&(this._activeRequest.cancel(),this._activeRequest=void 0),e&&e.actions&&(this._activeRequest=e.actions),e&&e.actions&&e.trigger.filter&&e.trigger.filter.kind?e.actions.then(function(n){e.trigger.autoApply===i.First||e.trigger.autoApply===i.IfSingle&&1===n.length?t._onApplyCodeAction(n[0]):t._codeActionContextMenu.show(e.actions,e.position)}).catch(x.e):e&&"manual"===e.trigger.type?this._codeActionContextMenu.show(e.actions,e.position):e&&e.actions?this._codeActionContextMenu.isVisible?this._codeActionContextMenu.show(e.actions,e.position):this._lightBulbWidget.model=e:this._lightBulbWidget.hide()},e.prototype.getId=function(){return e.ID},e.prototype._handleLightBulbSelect=function(e){this._lightBulbWidget.model.actions&&this._codeActionContextMenu.show(this._lightBulbWidget.model.actions,e)},e.prototype.triggerFromEditorSelection=function(e,t){return this._model.trigger({type:"manual",filter:e,autoApply:t})},e.prototype._updateLightBulbTitle=function(){var e,t=this._keybindingService.lookupKeybinding($.Id);e=t?d.a("quickFixWithKb","Show Fixes ({0})",t.getLabel()):d.a("quickFix","Show Fixes"),this._lightBulbWidget.title=e},e.prototype._onApplyCodeAction=function(e){return s.b.wrap(function(e,t,n,i){return q(this,void 0,void 0,function(){return G(this,function(o){switch(o.label){case 0:return e.edit?[4,t.apply(e.edit,{editor:i})]:[3,2];case 1:o.sent(),o.label=2;case 2:return e.command?[4,n.executeCommand.apply(n,[e.command.id].concat(e.command.arguments))]:[3,4];case 3:o.sent(),o.label=4;case 4:return[2]}})})}(e,this._bulkEditService,this._commandService,this._editor))},e.ID="editor.contrib.quickFixController",e=z([U(1,g.a),U(2,f.e),U(3,b.a),U(4,p.a),U(5,h.b),U(6,m.a),U(7,l.a)],e)}();function Z(e,t,n,i){var o=Y.get(e);if(o){var r=e.getPosition();o.triggerFromEditorSelection(n,i).then(function(n){n&&n.length||u.a.get(e).showMessage(t,r)})}}var $=function(e){function t(){return e.call(this,{id:t.Id,label:d.a("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix",precondition:f.d.and(c.a.writable,c.a.hasCodeActionsProvider),kbOpts:{kbExpr:c.a.editorTextFocus,primary:2132,weight:100}})||this}return H(t,e),t.prototype.run=function(e,t){return Z(t,d.a("editor.action.quickFix.noneMessage","No code actions available"))},t.Id="editor.action.quickFix",t}(o.b),X=function(){function e(e,t){this.kind=e,this.apply=t}return e.fromUser=function(t){return t&&"object"===typeof t?new e(e.getKindFromUser(t),e.getApplyFromUser(t)):new e(O.Empty,i.IfSingle)},e.getApplyFromUser=function(e){switch("string"===typeof e.apply?e.apply.toLowerCase():""){case"first":return i.First;case"never":return i.Never;case"ifsingle":default:return i.IfSingle}},e.getKindFromUser=function(e){return"string"===typeof e.kind?new O(e.kind):O.Empty},e}(),Q=function(e){function t(){return e.call(this,{id:t.Id,precondition:f.d.and(c.a.writable,c.a.hasCodeActionsProvider)})||this}return H(t,e),t.prototype.runEditorCommand=function(e,t,n){var i=X.fromUser(n);return Z(t,d.a("editor.action.quickFix.noneMessage","No code actions available"),{kind:i.kind,includeSourceActions:!0},i.apply)},t.Id="editor.action.codeAction",t}(o.c),J=function(e){function t(){return e.call(this,{id:t.Id,label:d.a("refactor.label","Refactor..."),alias:"Refactor",precondition:f.d.and(c.a.writable,c.a.hasCodeActionsProvider),kbOpts:{kbExpr:c.a.editorTextFocus,primary:3120,mac:{primary:1328},weight:100},menuOpts:{group:"1_modification",order:2,when:f.d.and(c.a.writable,K(O.Refactor))}})||this}return H(t,e),t.prototype.run=function(e,t){return Z(t,d.a("editor.action.refactor.noneMessage","No refactorings available"),{kind:O.Refactor},i.Never)},t.Id="editor.action.refactor",t}(o.b),ee=function(e){function t(){return e.call(this,{id:t.Id,label:d.a("source.label","Source Action..."),alias:"Source Action",precondition:f.d.and(c.a.writable,c.a.hasCodeActionsProvider),menuOpts:{group:"1_modification",order:2.1,when:f.d.and(c.a.writable,K(O.Source))}})||this}return H(t,e),t.prototype.run=function(e,t){return Z(t,d.a("editor.action.source.noneMessage","No source actions available"),{kind:O.Source,includeSourceActions:!0},i.Never)},t.Id="editor.action.sourceAction",t}(o.b),te=function(e){function t(){return e.call(this,{id:t.Id,label:d.a("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:f.d.and(c.a.writable,K(O.SourceOrganizeImports)),kbOpts:{kbExpr:c.a.editorTextFocus,primary:1581,weight:100}})||this}return H(t,e),t.prototype.run=function(e,t){return Z(t,d.a("editor.action.organize.noneMessage","No organize imports action available"),{kind:O.SourceOrganizeImports,includeSourceActions:!0},i.IfSingle)},t.Id="editor.action.organizeImports",t}(o.b);Object(o.h)(Y),Object(o.f)($),Object(o.f)(J),Object(o.f)(ee),Object(o.f)(te),Object(o.g)(new Q)},function(e,t,n){"use strict";n.r(t);var i=n(0),o=n(42),r=n(56),a=n(2),s=function(){function e(e,t){this.selection=e,this.descending=t}return e.prototype.getEditOperations=function(e,t){var n=function(e,t,n){var i=l(e,t,n);if(!i)return null;return r.a.replace(new a.a(i.startLineNumber,1,i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),i.after.join("\n"))}(e,this.selection,this.descending);n&&t.addEditOperation(n.range,n.text),this.selectionId=t.trackSelection(this.selection)},e.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this.selectionId)},e.canRun=function(e,t,n){var i=l(e,t,n);if(!i)return!1;for(var o=0,r=i.before.length;o<r;o++)if(i.before[o]!==i.after[o])return!0;return!1},e}();function l(e,t,n){var i=t.startLineNumber,o=t.endLineNumber;if(1===t.endColumn&&o--,i>=o)return null;for(var r=[],a=i;a<=o;a++)r.push(e.getLineContent(a));var s=r.slice(0);return s.sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}),!0===n&&(s=s.reverse()),{startLineNumber:i,endLineNumber:o,before:r,after:s}}var c=n(9),u=function(){function e(e,t){this.selection=e,this.cursors=t}return e.prototype.getEditOperations=function(e,t){for(var n=function(e,t){t.sort(function(e,t){return e.lineNumber===t.lineNumber?e.column-t.column:e.lineNumber-t.lineNumber});for(var n=t.length-2;n>=0;n--)t[n].lineNumber===t[n+1].lineNumber&&t.splice(n,1);for(var i=[],o=0,s=0,l=t.length,u=1,d=e.getLineCount();u<=d;u++){var h=e.getLineContent(u),f=h.length+1,p=0;if(!(s<l&&t[s].lineNumber===u&&(p=t[s].column,s++,p===f))&&0!==h.length){var m=c.lastNonWhitespaceIndex(h),g=0;if(-1===m)g=1;else{if(m===h.length-1)continue;g=m+2}g=Math.max(p,g),i[o++]=r.a.delete(new a.a(u,g,u,f))}}return i}(e,this.cursors),i=0,o=n.length;i<o;i++){var s=n[i];t.addEditOperation(s.range,s.text)}this.selectionId=t.trackSelection(this.selection)},e.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this.selectionId)},e}();var d=n(6),h=n(46),f=n(26),p=n(10),m=n(3),g=function(){function e(e,t){this._selection=e,this._isCopyingDown=t}return e.prototype.getEditOperations=function(e,t){var n=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,n.startLineNumber<n.endLineNumber&&1===n.endColumn&&(this._endLineNumberDelta=1,n=n.setEndPosition(n.endLineNumber-1,e.getLineMaxColumn(n.endLineNumber-1)));for(var i=[],o=n.startLineNumber;o<=n.endLineNumber;o++)i.push(e.getLineContent(o));var r=i.join("\n");""===r&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._isCopyingDown?t.addEditOperation(new a.a(n.startLineNumber,1,n.startLineNumber,1),r+"\n"):t.addEditOperation(new a.a(n.endLineNumber,e.getLineMaxColumn(n.endLineNumber),n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),"\n"+r),this._selectionId=t.trackSelection(n),this._selectionDirection=this._selection.getDirection()},e.prototype.computeCursorState=function(e,t){var n=t.getTrackedSelection(this._selectionId);if(0!==this._startLineNumberDelta||0!==this._endLineNumberDelta){var i=n.startLineNumber,o=n.startColumn,r=n.endLineNumber,a=n.endColumn;0!==this._startLineNumberDelta&&(i+=this._startLineNumberDelta,o=1),0!==this._endLineNumberDelta&&(r+=this._endLineNumberDelta,a=1),n=f.a.createWithDirection(i,o,r,a,this._selectionDirection)}return n},e}(),b=function(){function e(e,t,n){this.startLineNumber=e,this.endLineNumber=t,this.restoreCursorToColumn=n}return e.prototype.getEditOperations=function(e,t){if(1!==e.getLineCount()||1!==e.getLineMaxColumn(1)){var n=this.startLineNumber,i=this.endLineNumber,o=1,r=e.getLineMaxColumn(i);i<e.getLineCount()?(i+=1,r=1):n>1&&(n-=1,o=e.getLineMaxColumn(n)),t.addTrackedEditOperation(new a.a(n,o,i,r),null)}},e.prototype.computeCursorState=function(e,t){var n=t.getInverseEditOperations()[0].range;return new f.a(n.endLineNumber,this.restoreCursorToColumn,n.endLineNumber,this.restoreCursorToColumn)},e}(),y=n(35),v=n(121);function w(e,t){for(var n=0,i=0;i<e.length;i++)"\t"===e.charAt(i)?n+=t:n++;return n}function _(e,t,n){e=e<0?0:e;var i="";if(!n){var o=Math.floor(e/t);e%=t;for(var r=0;r<o;r++)i+="\t"}for(r=0;r<e;r++)i+=" ";return i}var S=n(47),C=function(){function e(e,t,n){this._selection=e,this._isMovingDown=t,this._autoIndent=n,this._moveEndLineSelectionShrink=!1}return e.prototype.getEditOperations=function(e,t){var n=e.getLineCount();if((!this._isMovingDown||this._selection.endLineNumber!==n)&&(this._isMovingDown||1!==this._selection.startLineNumber)){this._moveEndPositionDown=!1;var i=this._selection;i.startLineNumber<i.endLineNumber&&1===i.endColumn&&(this._moveEndPositionDown=!0,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));var o=e.getOptions().tabSize,r=e.getOptions().insertSpaces,s=this.buildIndentConverter(o),l={getLineTokens:function(t){return e.getLineTokens(t)},getLanguageIdentifier:function(){return e.getLanguageIdentifier()},getLanguageIdAtPosition:function(t,n){return e.getLanguageIdAtPosition(t,n)},getLineContent:null};if(i.startLineNumber===i.endLineNumber&&1===e.getLineMaxColumn(i.startLineNumber)){var u=i.startLineNumber,d=this._isMovingDown?u+1:u-1;1===e.getLineMaxColumn(d)?t.addEditOperation(new a.a(1,1,1,1),null):(t.addEditOperation(new a.a(u,1,u,1),e.getLineContent(d)),t.addEditOperation(new a.a(d,1,d,e.getLineMaxColumn(d)),null)),i=new f.a(d,1,d,1)}else{var h,p=void 0;if(this._isMovingDown){h=i.endLineNumber+1,p=e.getLineContent(h),t.addEditOperation(new a.a(h-1,e.getLineMaxColumn(h-1),h,e.getLineMaxColumn(h)),null);var m=p;if(this.shouldAutoIndent(e,i)){var g=this.matchEnterRule(e,s,o,h,i.startLineNumber-1);if(null!==g){var b=_(O=g+w(S=c.getLeadingWhitespace(e.getLineContent(h)),o),o,r);m=b+this.trimLeft(p)}else{l.getLineContent=function(t){return t===i.startLineNumber?e.getLineContent(h):e.getLineContent(t)};var v=y.a.getGoodIndentForLine(l,e.getLanguageIdAtPosition(h,1),i.startLineNumber,s);if(null!==v){var S=c.getLeadingWhitespace(e.getLineContent(h));if((O=w(v,o))!==(N=w(S,o))){b=_(O,o,r);m=b+this.trimLeft(p)}}}if(t.addEditOperation(new a.a(i.startLineNumber,1,i.startLineNumber,1),m+"\n"),null!==(k=this.matchEnterRule(e,s,o,i.startLineNumber,i.startLineNumber,m)))0!==k&&this.getIndentEditsOfMovingBlock(e,t,i,o,r,k);else{l.getLineContent=function(t){return t===i.startLineNumber?m:t>=i.startLineNumber+1&&t<=i.endLineNumber+1?e.getLineContent(t-1):e.getLineContent(t)};var C=y.a.getGoodIndentForLine(l,e.getLanguageIdAtPosition(h,1),i.startLineNumber+1,s);if(null!==C){S=c.getLeadingWhitespace(e.getLineContent(i.startLineNumber));if((O=w(C,o))!==(N=w(S,o))){var x=O-N;this.getIndentEditsOfMovingBlock(e,t,i,o,r,x)}}}}else t.addEditOperation(new a.a(i.startLineNumber,1,i.startLineNumber,1),m+"\n")}else{var k;if(h=i.startLineNumber-1,p=e.getLineContent(h),t.addEditOperation(new a.a(h,1,h+1,1),null),t.addEditOperation(new a.a(i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),"\n"+p),this.shouldAutoIndent(e,i))if(l.getLineContent=function(t){return t===h?e.getLineContent(i.startLineNumber):e.getLineContent(t)},null!==(k=this.matchEnterRule(e,s,o,i.startLineNumber,i.startLineNumber-2)))0!==k&&this.getIndentEditsOfMovingBlock(e,t,i,o,r,k);else{var T=y.a.getGoodIndentForLine(l,e.getLanguageIdAtPosition(i.startLineNumber,1),h,s);if(null!==T){var O,N,L=c.getLeadingWhitespace(e.getLineContent(i.startLineNumber));if((O=w(T,o))!==(N=w(L,o))){x=O-N;this.getIndentEditsOfMovingBlock(e,t,i,o,r,x)}}}}}this._selectionId=t.trackSelection(i)}},e.prototype.buildIndentConverter=function(e){return{shiftIndent:function(t){for(var n=v.a.shiftIndentCount(t,t.length+1,e),i="",o=0;o<n;o++)i+="\t";return i},unshiftIndent:function(t){for(var n=v.a.unshiftIndentCount(t,t.length+1,e),i="",o=0;o<n;o++)i+="\t";return i}}},e.prototype.matchEnterRule=function(e,t,n,i,o,r){for(var s=o;s>=1;){var l=void 0;if(l=s===o&&void 0!==r?r:e.getLineContent(s),c.lastNonWhitespaceIndex(l)>=0)break;s--}if(s<1||i>e.getLineCount())return null;var u=e.getLineMaxColumn(s),d=y.a.getEnterAction(e,new a.a(s,u,s,u));if(d){var h=d.indentation,f=d.enterAction;f.indentAction===S.a.None?h=d.indentation+f.appendText:f.indentAction===S.a.Indent?h=d.indentation+f.appendText:f.indentAction===S.a.IndentOutdent?h=d.indentation:f.indentAction===S.a.Outdent&&(h=t.unshiftIndent(d.indentation)+f.appendText);var p=e.getLineContent(i);if(this.trimLeft(p).indexOf(this.trimLeft(h))>=0){var m=c.getLeadingWhitespace(e.getLineContent(i)),g=c.getLeadingWhitespace(h);return 2&y.a.getIndentMetadata(e,i)&&(g=t.unshiftIndent(g)),w(g,n)-w(m,n)}}return null},e.prototype.trimLeft=function(e){return e.replace(/^\s+/,"")},e.prototype.shouldAutoIndent=function(e,t){if(!this._autoIndent)return!1;if(!e.isCheapToTokenize(t.startLineNumber))return!1;var n=e.getLanguageIdAtPosition(t.startLineNumber,1);return n===e.getLanguageIdAtPosition(t.endLineNumber,1)&&null!==y.a.getIndentRulesSupport(n)},e.prototype.getIndentEditsOfMovingBlock=function(e,t,n,i,o,r){for(var s=n.startLineNumber;s<=n.endLineNumber;s++){var l=e.getLineContent(s),u=c.getLeadingWhitespace(l),d=_(w(u,i)+r,i,o);d!==u&&(t.addEditOperation(new a.a(s,1,s,u.length+1),d),s===n.endLineNumber&&n.endColumn<=u.length+1&&""===d&&(this._moveEndLineSelectionShrink=!0))}},e.prototype.computeCursorState=function(e,t){var n=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&n.startLineNumber<n.endLineNumber&&(n=n.setEndPosition(n.endLineNumber,2)),n},e}(),x=n(96),k=n(74),T=n(41);n.d(t,"AbstractSortLinesAction",function(){return P}),n.d(t,"SortLinesAscendingAction",function(){return R}),n.d(t,"SortLinesDescendingAction",function(){return F}),n.d(t,"TrimTrailingWhitespaceAction",function(){return j}),n.d(t,"IndentLinesAction",function(){return V}),n.d(t,"InsertLineBeforeAction",function(){return H}),n.d(t,"InsertLineAfterAction",function(){return z}),n.d(t,"AbstractDeleteAllToBoundaryAction",function(){return U}),n.d(t,"DeleteAllLeftAction",function(){return q}),n.d(t,"DeleteAllRightAction",function(){return G}),n.d(t,"JoinLinesAction",function(){return K}),n.d(t,"TransposeAction",function(){return Y}),n.d(t,"AbstractCaseAction",function(){return Z}),n.d(t,"UpperCaseAction",function(){return $}),n.d(t,"LowerCaseAction",function(){return X});var O,N=(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}O(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),L=function(e){function t(t,n){var i=e.call(this,n)||this;return i.down=t,i}return N(t,e),t.prototype.run=function(e,t){for(var n=[],i=t.getSelections(),o=0;o<i.length;o++)n.push(new g(i[o],this.down));t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()},t}(m.b),I=function(e){function t(){return e.call(this,!1,{id:"editor.action.copyLinesUpAction",label:i.a("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:d.a.writable,kbOpts:{kbExpr:d.a.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menubarOpts:{menuId:T.b.MenubarSelectionMenu,group:"2_line",title:i.a({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})||this}return N(t,e),t}(L),E=function(e){function t(){return e.call(this,!0,{id:"editor.action.copyLinesDownAction",label:i.a("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:d.a.writable,kbOpts:{kbExpr:d.a.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menubarOpts:{menuId:T.b.MenubarSelectionMenu,group:"2_line",title:i.a({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})||this}return N(t,e),t}(L),D=function(e){function t(t,n){var i=e.call(this,n)||this;return i.down=t,i}return N(t,e),t.prototype.run=function(e,t){for(var n=[],i=t.getSelections(),o=t.getConfiguration().autoIndent,r=0;r<i.length;r++)n.push(new C(i[r],this.down,o));t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()},t}(m.b),A=function(e){function t(){return e.call(this,!1,{id:"editor.action.moveLinesUpAction",label:i.a("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:d.a.writable,kbOpts:{kbExpr:d.a.editorTextFocus,primary:528,linux:{primary:528},weight:100},menubarOpts:{menuId:T.b.MenubarSelectionMenu,group:"2_line",title:i.a({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})||this}return N(t,e),t}(D),M=function(e){function t(){return e.call(this,!0,{id:"editor.action.moveLinesDownAction",label:i.a("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:d.a.writable,kbOpts:{kbExpr:d.a.editorTextFocus,primary:530,linux:{primary:530},weight:100},menubarOpts:{menuId:T.b.MenubarSelectionMenu,group:"2_line",title:i.a({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})||this}return N(t,e),t}(D),P=function(e){function t(t,n){var i=e.call(this,n)||this;return i.descending=t,i}return N(t,e),t.prototype.run=function(e,t){for(var n=t.getSelections(),i=0,o=n.length;i<o;i++){var r=n[i];if(!s.canRun(t.getModel(),r,this.descending))return}var a=[];for(i=0,o=n.length;i<o;i++)a[i]=new s(n[i],this.descending);t.pushUndoStop(),t.executeCommands(this.id,a),t.pushUndoStop()},t}(m.b),R=function(e){function t(){return e.call(this,!1,{id:"editor.action.sortLinesAscending",label:i.a("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:d.a.writable})||this}return N(t,e),t}(P),F=function(e){function t(){return e.call(this,!0,{id:"editor.action.sortLinesDescending",label:i.a("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:d.a.writable})||this}return N(t,e),t}(P),j=function(e){function t(){return e.call(this,{id:t.ID,label:i.a("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:d.a.writable,kbOpts:{kbExpr:d.a.editorTextFocus,primary:Object(o.a)(2089,2102),weight:100}})||this}return N(t,e),t.prototype.run=function(e,t,n){var i=[];"auto-save"===n.reason&&(i=t.getSelections().map(function(e){return new p.a(e.positionLineNumber,e.positionColumn)}));var o=new u(t.getSelection(),i);t.pushUndoStop(),t.executeCommands(this.id,[o]),t.pushUndoStop()},t.ID="editor.action.trimTrailingWhitespace",t}(m.b),W=function(e){function t(){return e.call(this,{id:"editor.action.deleteLines",label:i.a("lines.delete","Delete Line"),alias:"Delete Line",precondition:d.a.writable,kbOpts:{kbExpr:d.a.textInputFocus,primary:3113,weight:100}})||this}return N(t,e),t.prototype.run=function(e,t){var n=this._getLinesToRemove(t).map(function(e){return new b(e.startLineNumber,e.endLineNumber,e.positionColumn)});t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()},t.prototype._getLinesToRemove=function(e){var t=e.getSelections().map(function(e){var t=e.endLineNumber;return e.startLineNumber<e.endLineNumber&&1===e.endColumn&&(t-=1),{startLineNumber:e.startLineNumber,endLineNumber:t,positionColumn:e.positionColumn}});t.sort(function(e,t){return e.startLineNumber-t.startLineNumber});for(var n=[],i=t[0],o=1;o<t.length;o++)i.endLineNumber+1===t[o].startLineNumber?i.endLineNumber=t[o].endLineNumber:(n.push(i),i=t[o]);return n.push(i),n},t}(m.b),V=function(e){function t(){return e.call(this,{id:"editor.action.indentLines",label:i.a("lines.indent","Indent Line"),alias:"Indent Line",precondition:d.a.writable,kbOpts:{kbExpr:d.a.editorTextFocus,primary:2137,weight:100}})||this}return N(t,e),t.prototype.run=function(e,t){t.pushUndoStop(),t.executeCommands(this.id,x.a.indent(t._getCursorConfiguration(),t.getModel(),t.getSelections())),t.pushUndoStop()},t}(m.b),B=function(e){function t(){return e.call(this,{id:"editor.action.outdentLines",label:i.a("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:d.a.writable,kbOpts:{kbExpr:d.a.editorTextFocus,primary:2135,weight:100}})||this}return N(t,e),t.prototype.run=function(e,t){k.CoreEditingCommands.Outdent.runEditorCommand(null,t,null)},t}(m.b),H=function(e){function t(){return e.call(this,{id:"editor.action.insertLineBefore",label:i.a("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:d.a.writable,kbOpts:{kbExpr:d.a.editorTextFocus,primary:3075,weight:100}})||this}return N(t,e),t.prototype.run=function(e,t){t.pushUndoStop(),t.executeCommands(this.id,x.a.lineInsertBefore(t._getCursorConfiguration(),t.getModel(),t.getSelections()))},t}(m.b),z=function(e){function t(){return e.call(this,{id:"editor.action.insertLineAfter",label:i.a("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:d.a.writable,kbOpts:{kbExpr:d.a.editorTextFocus,primary:2051,weight:100}})||this}return N(t,e),t.prototype.run=function(e,t){t.pushUndoStop(),t.executeCommands(this.id,x.a.lineInsertAfter(t._getCursorConfiguration(),t.getModel(),t.getSelections()))},t}(m.b),U=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return N(t,e),t.prototype.run=function(e,t){for(var n=t.getSelection(),i=this._getRangesToDelete(t),o=[],s=0,l=i.length-1;s<l;s++){var c=i[s],u=i[s+1];null===a.a.intersectRanges(c,u)?o.push(c):i[s+1]=a.a.plusRange(c,u)}o.push(i[i.length-1]);var d=this._getEndCursorState(n,o),h=o.map(function(e){return r.a.replace(e,"")});t.pushUndoStop(),t.executeEdits(this.id,h,d),t.pushUndoStop()},t}(m.b),q=function(e){function t(){return e.call(this,{id:"deleteAllLeft",label:i.a("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:d.a.writable,kbOpts:{kbExpr:d.a.textInputFocus,primary:null,mac:{primary:2049},weight:100}})||this}return N(t,e),t.prototype._getEndCursorState=function(e,t){var n,i=[],o=0;return t.forEach(function(t){var r;if(1===t.endColumn&&o>0){var a=t.startLineNumber-o;r=new f.a(a,t.startColumn,a,t.startColumn)}else r=new f.a(t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn);o+=t.endLineNumber-t.startLineNumber,t.intersectRanges(e)?n=r:i.push(r)}),n&&i.unshift(n),i},t.prototype._getRangesToDelete=function(e){var t=e.getSelections(),n=e.getModel();return t.sort(a.a.compareRangesUsingStarts),t=t.map(function(e){if(e.isEmpty()){if(1===e.startColumn){var t=Math.max(1,e.startLineNumber-1),i=1===e.startLineNumber?1:n.getLineContent(t).length+1;return new a.a(t,i,e.startLineNumber,1)}return new a.a(e.startLineNumber,1,e.startLineNumber,e.startColumn)}return e})},t}(U),G=function(e){function t(){return e.call(this,{id:"deleteAllRight",label:i.a("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:d.a.writable,kbOpts:{kbExpr:d.a.textInputFocus,primary:null,mac:{primary:297,secondary:[2068]},weight:100}})||this}return N(t,e),t.prototype._getEndCursorState=function(e,t){for(var n,i=[],o=0,r=t.length;o<r;o++){var a=t[o],s=new f.a(a.startLineNumber-0,a.startColumn,a.startLineNumber-0,a.startColumn);a.intersectRanges(e)?n=s:i.push(s)}return n&&i.unshift(n),i},t.prototype._getRangesToDelete=function(e){var t=e.getModel(),n=e.getSelections().map(function(e){if(e.isEmpty()){var n=t.getLineMaxColumn(e.startLineNumber);return e.startColumn===n?new a.a(e.startLineNumber,e.startColumn,e.startLineNumber+1,1):new a.a(e.startLineNumber,e.startColumn,e.startLineNumber,n)}return e});return n.sort(a.a.compareRangesUsingStarts),n},t}(U),K=function(e){function t(){return e.call(this,{id:"editor.action.joinLines",label:i.a("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:d.a.writable,kbOpts:{kbExpr:d.a.editorTextFocus,primary:0,mac:{primary:296},weight:100}})||this}return N(t,e),t.prototype.run=function(e,t){var n=t.getSelections(),i=t.getSelection();n.sort(a.a.compareRangesUsingStarts);var o=[],s=n.reduce(function(e,t){return e.isEmpty()?e.endLineNumber===t.startLineNumber?(i.equalsSelection(e)&&(i=t),t):t.startLineNumber>e.endLineNumber+1?(o.push(e),t):new f.a(e.startLineNumber,e.startColumn,t.endLineNumber,t.endColumn):t.startLineNumber>e.endLineNumber?(o.push(e),t):new f.a(e.startLineNumber,e.startColumn,t.endLineNumber,t.endColumn)});o.push(s);for(var l=t.getModel(),c=[],u=[],d=i,h=0,p=0,m=o.length;p<m;p++){var g=o[p],b=g.startLineNumber,y=0,v=void 0,w=void 0,_=l.getLineContent(g.endLineNumber).length-g.endColumn;if(g.isEmpty()||g.startLineNumber===g.endLineNumber){var S=g.getStartPosition();S.lineNumber<l.getLineCount()?(v=b+1,w=l.getLineMaxColumn(v)):(v=S.lineNumber,w=l.getLineMaxColumn(S.lineNumber))}else v=g.endLineNumber,w=l.getLineMaxColumn(v);for(var C=l.getLineContent(b),x=b+1;x<=v;x++){var k=l.getLineContent(x),T=l.getLineFirstNonWhitespaceColumn(x);if(T>=1){var O=!0;""===C&&(O=!1),!O||" "!==C.charAt(C.length-1)&&"\t"!==C.charAt(C.length-1)||(O=!1,C=C.replace(/[\s\uFEFF\xA0]+$/g," "));var N=k.substr(T-1);C+=(O?" ":"")+N,y=O?N.length+1:N.length}else y=0}var L=new a.a(b,1,v,w);if(!L.isEmpty()){var I=void 0;g.isEmpty()?(c.push(r.a.replace(L,C)),I=new f.a(L.startLineNumber-h,C.length-y+1,b-h,C.length-y+1)):g.startLineNumber===g.endLineNumber?(c.push(r.a.replace(L,C)),I=new f.a(g.startLineNumber-h,g.startColumn,g.endLineNumber-h,g.endColumn)):(c.push(r.a.replace(L,C)),I=new f.a(g.startLineNumber-h,g.startColumn,g.startLineNumber-h,C.length-_)),null!==a.a.intersectRanges(L,i)?d=I:u.push(I)}h+=L.endLineNumber-L.startLineNumber}u.unshift(d),t.pushUndoStop(),t.executeEdits(this.id,c,u),t.pushUndoStop()},t}(m.b),Y=function(e){function t(){return e.call(this,{id:"editor.action.transpose",label:i.a("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:d.a.writable})||this}return N(t,e),t.prototype.run=function(e,t){for(var n=t.getSelections(),i=t.getModel(),o=[],r=0,s=n.length;r<s;r++){var l=n[r];if(l.isEmpty()){var c=l.getStartPosition(),u=i.getLineMaxColumn(c.lineNumber);if(c.column>=u){if(c.lineNumber===i.getLineCount())continue;var d=new a.a(c.lineNumber,Math.max(1,c.column-1),c.lineNumber+1,1),p=i.getValueInRange(d).split("").reverse().join("");o.push(new h.a(new f.a(c.lineNumber,Math.max(1,c.column-1),c.lineNumber+1,1),p))}else{d=new a.a(c.lineNumber,Math.max(1,c.column-1),c.lineNumber,c.column+1),p=i.getValueInRange(d).split("").reverse().join("");o.push(new h.b(d,p,new f.a(c.lineNumber,c.column+1,c.lineNumber,c.column+1)))}}}t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()},t}(m.b),Z=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return N(t,e),t.prototype.run=function(e,t){for(var n=t.getSelections(),i=t.getModel(),o=[],r=0,s=n.length;r<s;r++){var l=n[r];if(l.isEmpty()){var c=l.getStartPosition(),u=i.getWordAtPosition(c);if(!u)continue;var d=new a.a(c.lineNumber,u.startColumn,c.lineNumber,u.endColumn),p=i.getValueInRange(d);o.push(new h.b(d,this._modifyText(p),new f.a(c.lineNumber,c.column,c.lineNumber,c.column)))}else{p=i.getValueInRange(l);o.push(new h.b(l,this._modifyText(p),l))}}t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()},t}(m.b),$=function(e){function t(){return e.call(this,{id:"editor.action.transformToUppercase",label:i.a("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:d.a.writable})||this}return N(t,e),t.prototype._modifyText=function(e){return e.toLocaleUpperCase()},t}(Z),X=function(e){function t(){return e.call(this,{id:"editor.action.transformToLowercase",label:i.a("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:d.a.writable})||this}return N(t,e),t.prototype._modifyText=function(e){return e.toLocaleLowerCase()},t}(Z);Object(m.f)(I),Object(m.f)(E),Object(m.f)(A),Object(m.f)(M),Object(m.f)(R),Object(m.f)(F),Object(m.f)(j),Object(m.f)(W),Object(m.f)(V),Object(m.f)(B),Object(m.f)(H),Object(m.f)(z),Object(m.f)(q),Object(m.f)(G),Object(m.f)(K),Object(m.f)(Y),Object(m.f)($),Object(m.f)(X)},function(e,t,n){"use strict";n.r(t);var i,o=n(0),r=n(29),a=n(11),s=n(25),l=n(2),c=n(6),u=n(3),d=n(63),h=n(87),f=n(106),p=n(35),m=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),g=function(){function e(){}return Object.defineProperty(e.prototype,"range",{get:function(){return new l.a(this.start.lineNumber,this.start.column,this.end.lineNumber,this.end.column)},enumerable:!0,configurable:!0}),e}(),b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m(t,e),Object.defineProperty(t.prototype,"hasChildren",{get:function(){return this.children&&this.children.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return!this.hasChildren&&!this.parent},enumerable:!0,configurable:!0}),t.prototype.append=function(e){return!!e&&(e.parent=this,this.children||(this.children=[]),e instanceof t?e.children&&this.children.push.apply(this.children,e.children):this.children.push(e),!0)},t}(g),y=function(e){function t(){var t=e.call(this)||this;return t.elements=new b,t.elements.parent=t,t}return m(t,e),t}(g),v=function(){return function(e,t,n){this.range=e,this.bracket=t,this.bracketType=n}}();function w(e){var t=new g;return t.start=e.range.getStartPosition(),t.end=e.range.getEndPosition(),t}var _=function(){return function(e,t,n){this.lineNumber=n,this.lineText=e.getLineContent(),this.startOffset=e.getStartOffset(t),this.endOffset=e.getEndOffset(t),this.type=e.getStandardTokenType(t),this.languageId=e.getLanguageId(t)}}(),S=function(){function e(e){this._model=e,this._lineCount=this._model.getLineCount(),this._versionId=this._model.getVersionId(),this._lineNumber=0,this._tokenIndex=0,this._lineTokens=null,this._advance()}return e.prototype._advance=function(){for(this._lineTokens&&(this._tokenIndex++,this._tokenIndex>=this._lineTokens.getCount()&&(this._lineTokens=null));this._lineNumber<this._lineCount&&!this._lineTokens;)this._lineNumber++,this._model.forceTokenization(this._lineNumber),this._lineTokens=this._model.getLineTokens(this._lineNumber),this._tokenIndex=0,0===this._lineTokens.getCount()&&(this._lineTokens=null)},e.prototype.next=function(){if(!this._lineTokens)return null;if(this._model.getVersionId()!==this._versionId)return null;var e=new _(this._lineTokens,this._tokenIndex,this._lineNumber);return this._advance(),e},e}(),C=function(){function e(e){this._rawTokenScanner=new S(e),this._nextBuff=[],this._cachedLanguageBrackets=null,this._cachedLanguageId=-1}return e.prototype.next=function(){if(this._nextBuff.length>0)return this._nextBuff.shift();var e=this._rawTokenScanner.next();if(!e)return null;var t=e.lineNumber,n=e.lineText,i=e.type,o=e.startOffset,r=e.endOffset;this._cachedLanguageId!==e.languageId&&(this._cachedLanguageId=e.languageId,this._cachedLanguageBrackets=p.a.getBracketsSupport(this._cachedLanguageId));var a,s=this._cachedLanguageBrackets;if(!s||Object(h.b)(i))return new v(new l.a(t,o+1,t,r+1),0,null);do{if(a=f.a.findNextBracketInToken(s.forwardRegex,t,n,o,r)){var c=a.startColumn-1,u=a.endColumn-1;o<c&&this._nextBuff.push(new v(new l.a(t,o+1,t,c+1),0,null));var d=n.substring(c,u);d=d.toLowerCase();var m=s.textIsBracket[d],g=s.textIsOpenBracket[d];this._nextBuff.push(new v(new l.a(t,c+1,t,u+1),g?1:-1,m.languageIdentifier.language+";"+m.open+";"+m.close)),o=u}}while(a);return o<r&&this._nextBuff.push(new v(new l.a(t,o+1,t,r+1),0,null)),this._nextBuff.shift()},e}(),x=function(){function e(e){this._stack=[],this._scanner=new C(e)}return e.prototype.build=function(){for(var e=new b;e.append(this._line()||this._any()););return e},e.prototype._accept=function(e){var t=this._stack.pop()||this._scanner.next();if(!t)return!1;var n=e(t);return n?this._currentToken=t:(this._stack.push(t),this._currentToken=null),n},e.prototype._peek=function(e){var t=!1;return this._accept(function(n){return t=e(n),!1}),t},e.prototype._line=function(){var e,t=new b;for(this._peek(function(t){return e=t.range.startLineNumber,!1});this._peek(function(t){return t.range.startLineNumber===e})&&t.append(this._token()||this._block()););return t.children&&0!==t.children.length?1===t.children.length?t.children[0]:t:null},e.prototype._token=function(){return this._accept(function(e){return 0===e.bracket})?w(this._currentToken):null},e.prototype._block=function(){var e;if(!this._accept(function(t){return e=t.bracketType,1===t.bracket}))return null;var t=new y;for(t.open=w(this._currentToken);t.elements.append(this._line()););if(!this._accept(function(t){return-1===t.bracket&&t.bracketType===e})){var n=new b;return n.append(t.open),n.append(t.elements),n}return t.close=w(this._currentToken),t},e.prototype._any=function(){return this._accept(function(e){return!0})?w(this._currentToken):null},e}();var k=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},T=function(e,t){return function(n,i){t(n,i,e)}},O=function(){function e(e){this._modelService=e}return e.prototype.getRangesToPosition=function(e,t){return a.b.as(this.getRangesToPositionSync(e,t))},e.prototype.getRangesToPositionSync=function(e,t){var n=this._modelService.getModel(e),i=[];return n&&this._doGetRangesToPosition(n,t).forEach(function(e){i.push({type:void 0,range:e})}),i},e.prototype._doGetRangesToPosition=function(e,t){var n,i;n=function e(t,n){if(t instanceof b&&t.isEmpty)return null;if(!l.a.containsPosition(t.range,n))return null;var i;if(t instanceof b){if(t.hasChildren)for(var o=0,r=t.children.length;o<r&&!i;o++)i=e(t.children[o],n)}else t instanceof y&&(i=e(t.open,n)||e(t.elements,n)||e(t.close,n));return i||t}(function(e){return new x(e).build()}(e),t);for(var o=[];n;)i&&l.a.equalsRange(i,n.range)||o.push(n.range),i=n.range,n=n.parent;return o=o.reverse()},e=k([T(0,d.a)],e)}(),N=n(41),L=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),I=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},E=function(e,t){return function(n,i){t(n,i,e)}},D=function(){return function(e){this.editor=e,this.next=null,this.previous=null,this.selection=e.getSelection()}}(),A=function(){function e(e,t){this.editor=e,this._tokenSelectionSupport=t.createInstance(O),this._state=null,this._ignoreSelection=!1}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.dispose=function(){},e.prototype.getId=function(){return e.ID},e.prototype.run=function(e){var t=this,n=this.editor.getSelection(),i=this.editor.getModel();this._state&&this._state.editor!==this.editor&&(this._state=null);var o=a.b.as(null);return this._state||(o=this._tokenSelectionSupport.getRangesToPosition(i.uri,n.getStartPosition()).then(function(e){if(!r.k(e)){var n;e.filter(function(e){var n=t.editor.getSelection(),i=new l.a(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn);return i.containsPosition(n.getStartPosition())&&i.containsPosition(n.getEndPosition())}).forEach(function(e){var i=e.range,o=new D(t.editor);o.selection=new l.a(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn),n&&(o.next=n,n.previous=o),n=o});var i=new D(t.editor);i.next=n,n&&(n.previous=i),t._state=i;var o=t.editor.onDidChangeCursorPosition(function(e){t._ignoreSelection||(t._state=null,o.dispose())})}})),o.then(function(){if(t._state&&(t._state=e?t._state.next:t._state.previous,t._state)){t._ignoreSelection=!0;try{t.editor.setSelection(t._state.selection)}finally{t._ignoreSelection=!1}}})},e.ID="editor.contrib.smartSelectController",e=I([E(1,s.a)],e)}(),M=function(e){function t(t,n){var i=e.call(this,n)||this;return i._forward=t,i}return L(t,e),t.prototype.run=function(e,t){var n=A.get(t);if(n)return n.run(this._forward)},t}(u.b),P=function(e){function t(){return e.call(this,!0,{id:"editor.action.smartSelect.grow",label:o.a("smartSelect.grow","Expand Select"),alias:"Expand Select",precondition:null,kbOpts:{kbExpr:c.a.editorTextFocus,primary:1553,mac:{primary:3345},weight:100},menubarOpts:{menuId:N.b.MenubarSelectionMenu,group:"1_basic",title:o.a({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})||this}return L(t,e),t}(M),R=function(e){function t(){return e.call(this,!1,{id:"editor.action.smartSelect.shrink",label:o.a("smartSelect.shrink","Shrink Select"),alias:"Shrink Select",precondition:null,kbOpts:{kbExpr:c.a.editorTextFocus,primary:1551,mac:{primary:3343},weight:100},menubarOpts:{menuId:N.b.MenubarSelectionMenu,group:"1_basic",title:o.a({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})||this}return L(t,e),t}(M);Object(u.h)(A),Object(u.f)(P),Object(u.f)(R)},function(e,t,n){"use strict";n.r(t);var i=n(0),o=n(7),r=n(25),a=n(6),s=n(13),l=n(3),c=(n(424),n(11)),u=n(1),d=n(61),h=n(12),f=n(19),p=n(20),m=n(15),g=n(5),b=n(53),y=n(51),v={Visible:new s.f("parameterHintsVisible",!1),MultipleSignatures:new s.f("parameterHintsMultipleSignatures",!1)};function w(e,t,n){var i=h.t.ordered(e);return Object(p.k)(i.map(function(i){return function(){return Promise.resolve(i.provideSignatureHelp(e,t,n)).catch(m.f)}}))}Object(l.e)("_executeSignatureHelpProvider",function(e,t){return w(e,t,y.a.None)});var _,S=n(82),C=n(115),x=n(22),k=n(8),T=n(83),O=n(90),N=n(166),L=(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}_(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),I=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},E=function(e,t){return function(n,i){t(n,i,e)}},D=u.a,A=function(e){function t(n){var i=e.call(this)||this;return i._onHint=i._register(new g.a),i.onHint=i._onHint.event,i._onCancel=i._register(new g.a),i.onCancel=i._onCancel.event,i.editor=n,i.enabled=!1,i.triggerCharactersListeners=[],i.throttledDelayer=new p.c(function(){return i.doTrigger()},t.DELAY),i.active=!1,i._register(i.editor.onDidChangeConfiguration(function(){return i.onEditorConfigurationChange()})),i._register(i.editor.onDidChangeModel(function(e){return i.onModelChanged()})),i._register(i.editor.onDidChangeModelLanguage(function(e){return i.onModelChanged()})),i._register(i.editor.onDidChangeCursorSelection(function(e){return i.onCursorChange(e)})),i._register(i.editor.onDidChangeModelContent(function(e){return i.onModelContentChange()})),i._register(h.t.onDidChange(i.onModelChanged,i)),i.onEditorConfigurationChange(),i.onModelChanged(),i}return L(t,e),t.prototype.cancel=function(e){void 0===e&&(e=!1),this.active=!1,this.throttledDelayer.cancel(),e||this._onCancel.fire(void 0),this.provideSignatureHelpRequest&&(this.provideSignatureHelpRequest.cancel(),this.provideSignatureHelpRequest=void 0)},t.prototype.trigger=function(e){if(void 0===e&&(e=t.DELAY),h.t.has(this.editor.getModel()))return this.cancel(!0),this.throttledDelayer.schedule(e)},t.prototype.doTrigger=function(){var e=this;this.provideSignatureHelpRequest&&this.provideSignatureHelpRequest.cancel(),this.provideSignatureHelpRequest=Object(p.i)(function(t){return w(e.editor.getModel(),e.editor.getPosition(),t)}),this.provideSignatureHelpRequest.then(function(t){if(!t||!t.signatures||0===t.signatures.length)return e.cancel(),e._onCancel.fire(void 0),!1;e.active=!0;var n={hints:t};return e._onHint.fire(n),!0}).catch(m.e)},t.prototype.isTriggered=function(){return this.active||this.throttledDelayer.isScheduled()},t.prototype.onModelChanged=function(){var e=this;this.cancel(),this.triggerCharactersListeners=Object(o.d)(this.triggerCharactersListeners);var t=this.editor.getModel();if(t){for(var n=new C.b,i=0,r=h.t.ordered(t);i<r.length;i++){var a=r[i];if(Array.isArray(a.signatureHelpTriggerCharacters))for(var s=0,l=a.signatureHelpTriggerCharacters;s<l.length;s++){var c=l[s];n.add(c.charCodeAt(0))}}this.triggerCharactersListeners.push(this.editor.onDidType(function(t){e.enabled&&n.has(t.charCodeAt(t.length-1))&&e.trigger()}))}},t.prototype.onCursorChange=function(e){"mouse"===e.source?this.cancel():this.isTriggered()&&this.trigger()},t.prototype.onModelContentChange=function(){this.isTriggered()&&this.trigger()},t.prototype.onEditorConfigurationChange=function(){this.enabled=this.editor.getConfiguration().contribInfo.parameterHints,this.enabled||this.cancel()},t.prototype.dispose=function(){this.cancel(!0),this.triggerCharactersListeners=Object(o.d)(this.triggerCharactersListeners),e.prototype.dispose.call(this)},t.DELAY=120,t}(o.a),M=function(){function e(e,t,n,i){var o=this;this.editor=e,this.allowEditorOverflow=!0,this.markdownRenderer=new N.a(e,i,n),this.model=new A(e),this.keyVisible=v.Visible.bindTo(t),this.keyMultipleSignatures=v.MultipleSignatures.bindTo(t),this.visible=!1,this.disposables=[],this.disposables.push(this.model.onHint(function(e){o.show(),o.hints=e.hints,o.currentSignature=e.hints.activeSignature,o.render()})),this.disposables.push(this.model.onCancel(function(){o.hide()}))}return e.prototype.createParamaterHintDOMNodes=function(){var e=this;this.element=D(".editor-widget.parameter-hints-widget");var t=u.k(this.element,D(".wrapper")),n=u.k(t,D(".buttons")),i=u.k(n,D(".button.previous")),o=u.k(n,D(".button.next"));Object(b.b)(Object(b.a)(i,"click"))(this.previous,this,this.disposables),Object(b.b)(Object(b.a)(o,"click"))(this.next,this,this.disposables),this.overloads=u.k(t,D(".overloads"));var r=D(".body");this.scrollbar=new S.a(r,{}),this.disposables.push(this.scrollbar),t.appendChild(this.scrollbar.getDomNode()),this.signature=u.k(r,D(".signature")),this.docs=u.k(r,D(".docs")),this.currentSignature=0,this.editor.addContentWidget(this),this.hide(),this.disposables.push(this.editor.onDidChangeCursorSelection(function(t){e.visible&&e.editor.layoutContentWidget(e)}));var a=function(){var t=e.editor.getConfiguration().fontInfo;e.element.style.fontSize=t.fontSize+"px"};a(),Object(g.g)(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(function(e){return e.fontInfo}).on(a,null,this.disposables),this.disposables.push(this.editor.onDidLayoutChange(function(t){return e.updateMaxHeight()})),this.updateMaxHeight()},e.prototype.show=function(){var e=this;this.model&&!this.visible&&(this.element||this.createParamaterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,c.b.timeout(100).done(function(){return u.f(e.element,"visible")}),this.editor.layoutContentWidget(this))},e.prototype.hide=function(){this.model&&this.visible&&(this.element||this.createParamaterHintDOMNodes(),this.keyVisible.reset(),this.visible=!1,this.hints=null,this.announcedLabel=null,u.G(this.element,"visible"),this.editor.layoutContentWidget(this))},e.prototype.getPosition=function(){return this.visible?{position:this.editor.getPosition(),preference:[f.a.ABOVE,f.a.BELOW]}:null},e.prototype.render=function(){var e=this.hints.signatures.length>1;u.N(this.element,"multiple",e),this.keyMultipleSignatures.set(e),this.signature.innerHTML="",this.docs.innerHTML="";var t=this.hints.signatures[this.currentSignature];if(t){var n=u.k(this.signature,D(".code")),r=t.parameters.length>0,a=this.editor.getConfiguration().fontInfo;if(n.style.fontSize=a.fontSize+"px",n.style.fontFamily=a.fontFamily,r)this.renderParameters(n,t,this.hints.activeParameter);else u.k(n,D("span")).textContent=t.label;Object(o.d)(this.renderDisposeables),this.renderDisposeables=[];var s=t.parameters[this.hints.activeParameter];if(s&&s.documentation){var l=D("span.documentation");if("string"===typeof s.documentation)l.textContent=s.documentation;else{var c=this.markdownRenderer.render(s.documentation);u.f(c.element,"markdown-docs"),this.renderDisposeables.push(c),l.appendChild(c.element)}u.k(this.docs,D("p",null,l))}if(u.N(this.signature,"has-docs",!!t.documentation),"string"===typeof t.documentation)u.k(this.docs,D("p",null,t.documentation));else{c=this.markdownRenderer.render(t.documentation);u.f(c.element,"markdown-docs"),this.renderDisposeables.push(c),u.k(this.docs,c.element)}var h=String(this.currentSignature+1);if(this.hints.signatures.length<10&&(h+="/"+this.hints.signatures.length),this.overloads.textContent=h,s){var f=s.label;this.announcedLabel!==f&&(d.a(i.a("hint","{0}, hint",f)),this.announcedLabel=f)}this.editor.layoutContentWidget(this),this.scrollbar.scanDomNode()}},e.prototype.renderParameters=function(e,t,n){for(var i,o=t.label.length,r=0,a=t.parameters.length-1;a>=0;a--){var s=t.parameters[a],l=0,c=0;(r=t.label.lastIndexOf(s.label,o-1))>=0&&(l=r,c=r+s.label.length),(i=document.createElement("span")).textContent=t.label.substring(c,o),u.E(e,i),(i=document.createElement("span")).className="parameter "+(a===n?"active":""),i.textContent=t.label.substring(l,c),u.E(e,i),o=l}(i=document.createElement("span")).textContent=t.label.substring(0,o),u.E(e,i)},e.prototype.next=function(){var e=this.hints.signatures.length,t=this.currentSignature%e===e-1;return e<2||t?(this.cancel(),!1):(this.currentSignature++,this.render(),!0)},e.prototype.previous=function(){var e=this.hints.signatures.length,t=0===this.currentSignature;return e<2||t?(this.cancel(),!1):(this.currentSignature--,this.render(),!0)},e.prototype.cancel=function(){this.model.cancel()},e.prototype.getDomNode=function(){return this.element},e.prototype.getId=function(){return e.ID},e.prototype.trigger=function(){this.model.trigger(0)},e.prototype.updateMaxHeight=function(){var e=Math.max(this.editor.getLayoutInfo().height/4,250);this.element.style.maxHeight=e+"px"},e.prototype.dispose=function(){this.disposables=Object(o.d)(this.disposables),this.renderDisposeables=Object(o.d)(this.renderDisposeables),this.model&&(this.model.dispose(),this.model=null)},e.ID="editor.widget.parameterHintsWidget",e=I([E(1,s.e),E(2,T.a),E(3,O.a)],e)}();Object(x.e)(function(e,t){var n=e.getColor(k.w);if(n){var i=e.type===x.b?2:1;t.addRule(".monaco-editor .parameter-hints-widget { border: "+i+"px solid "+n+"; }"),t.addRule(".monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid "+n.transparent(.5)+"; }"),t.addRule(".monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid "+n.transparent(.5)+"; }")}var o=e.getColor(k.v);o&&t.addRule(".monaco-editor .parameter-hints-widget { background-color: "+o+"; }");var r=e.getColor(k.qb);r&&t.addRule(".monaco-editor .parameter-hints-widget a { color: "+r+"; }");var a=e.getColor(k.pb);a&&t.addRule(".monaco-editor .parameter-hints-widget code { background-color: "+a+"; }")}),n.d(t,"TriggerParameterHintsAction",function(){return W});var P=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),R=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},F=function(e,t){return function(n,i){t(n,i,e)}},j=function(){function e(e,t){this.editor=e,this.widget=t.createInstance(M,this.editor)}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.getId=function(){return e.ID},e.prototype.cancel=function(){this.widget.cancel()},e.prototype.previous=function(){this.widget.previous()},e.prototype.next=function(){this.widget.next()},e.prototype.trigger=function(){this.widget.trigger()},e.prototype.dispose=function(){this.widget=Object(o.d)(this.widget)},e.ID="editor.controller.parameterHints",e=R([F(1,r.a)],e)}(),W=function(e){function t(){return e.call(this,{id:"editor.action.triggerParameterHints",label:i.a("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:a.a.hasSignatureHelpProvider,kbOpts:{kbExpr:a.a.editorTextFocus,primary:3082,weight:100}})||this}return P(t,e),t.prototype.run=function(e,t){var n=j.get(t);n&&n.trigger()},t}(l.b);Object(l.h)(j),Object(l.f)(W);var V=l.c.bindToContribution(j.get);Object(l.g)(new V({id:"closeParameterHints",precondition:v.Visible,handler:function(e){return e.cancel()},kbOpts:{weight:175,kbExpr:a.a.editorTextFocus,primary:9,secondary:[1033]}})),Object(l.g)(new V({id:"showPrevParameterHint",precondition:s.d.and(v.Visible,v.MultipleSignatures),handler:function(e){return e.previous()},kbOpts:{weight:175,kbExpr:a.a.editorTextFocus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),Object(l.g)(new V({id:"showNextParameterHint",precondition:s.d.and(v.Visible,v.MultipleSignatures),handler:function(e){return e.next()},kbOpts:{weight:175,kbExpr:a.a.editorTextFocus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}))},function(e,t,n){"use strict";n.r(t);var i=n(20),o=n(15),r=n(7),a=n(91),s=n(3),l=n(12),c=(n(329),n(9)),u=n(1),d=n(2),h=n(19),f=n(30),p=n(33),m=n(22),g=n(8),b=function(){function e(e,t){this.afterLineNumber=e,this._onHeight=t,this.heightInLines=1,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}return e.prototype.onComputedHeight=function(e){void 0===this._lastHeight?this._lastHeight=e:this._lastHeight!==e&&(this._lastHeight=e,this._onHeight())},e}(),y=function(){function e(t,n,i,o){var r=this;this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._disposables=[],this._commands=Object.create(null),this._id="codeLensWidget"+ ++e._idPool,this._editor=t,this.setSymbolRange(n),this._domNode=document.createElement("span"),this._domNode.innerHTML="&nbsp;",u.f(this._domNode,"codelens-decoration"),u.f(this._domNode,"invisible-cl"),this._updateHeight(),this._disposables.push(this._editor.onDidChangeConfiguration(function(e){return e.fontInfo&&r._updateHeight()})),this._disposables.push(u.g(this._domNode,"click",function(e){var n=e.target;if("A"===n.tagName&&n.id){var a=r._commands[n.id];a&&(t.focus(),i.executeCommand.apply(i,[a.id].concat(a.arguments)).done(void 0,function(e){o.error(e)}))}})),this.updateVisibility()}return e.prototype.dispose=function(){Object(r.d)(this._disposables)},e.prototype._updateHeight=function(){var e=this._editor.getConfiguration(),t=e.fontInfo,n=e.lineHeight;this._domNode.style.height=Math.round(1.1*n)+"px",this._domNode.style.lineHeight=n+"px",this._domNode.style.fontSize=Math.round(.9*t.fontSize)+"px",this._domNode.innerHTML="&nbsp;"},e.prototype.updateVisibility=function(){this.isVisible()&&(u.G(this._domNode,"invisible-cl"),u.f(this._domNode,"fadein"))},e.prototype.withCommands=function(e){if(this._commands=Object.create(null),e&&e.length){for(var t=[],n=0;n<e.length;n++){var i=e[n].command,o=Object(c.escape)(i.title),r=void 0;i.id?(r=Object(c.format)("<a id={0}>{1}</a>",n,o),this._commands[n]=i):r=Object(c.format)("<span>{0}</span>",o),t.push(r)}this._domNode.innerHTML=t.join("<span>&nbsp;|&nbsp;</span>"),this._editor.layoutContentWidget(this)}else this._domNode.innerHTML="no commands"},e.prototype.getId=function(){return this._id},e.prototype.getDomNode=function(){return this._domNode},e.prototype.setSymbolRange=function(e){var t=e.startLineNumber,n=this._editor.getModel().getLineFirstNonWhitespaceColumn(t);this._widgetPosition={position:{lineNumber:t,column:n},preference:[h.a.ABOVE]}},e.prototype.getPosition=function(){return this._widgetPosition},e.prototype.isVisible=function(){return this._domNode.hasAttribute("monaco-visible-content-widget")},e._idPool=0,e}(),v=function(){function e(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}return e.prototype.addDecoration=function(e,t){this._addDecorations.push(e),this._addDecorationsCallbacks.push(t)},e.prototype.removeDecoration=function(e){this._removeDecorations.push(e)},e.prototype.commit=function(e){for(var t=e.deltaDecorations(this._removeDecorations,this._addDecorations),n=0,i=t.length;n<i;n++)this._addDecorationsCallbacks[n](t[n])},e}(),w=function(){function e(e,t,n,i,o,r,a){var s,l=this;this._editor=t,this._data=e,this._decorationIds=new Array(this._data.length),this._data.forEach(function(e,t){n.addDecoration({range:e.symbol.range,options:f.a.EMPTY},function(e){return l._decorationIds[t]=e}),s=s?d.a.plusRange(s,e.symbol.range):d.a.lift(e.symbol.range)}),this._contentWidget=new y(t,s,o,r),this._viewZone=new b(s.startLineNumber-1,a),this._viewZoneId=i.addZone(this._viewZone),this._editor.addContentWidget(this._contentWidget)}return e.prototype.dispose=function(e,t){for(;this._decorationIds.length;)e.removeDecoration(this._decorationIds.pop());t&&t.removeZone(this._viewZoneId),this._editor.removeContentWidget(this._contentWidget),this._contentWidget.dispose()},e.prototype.isValid=function(){var e=this;return this._decorationIds.some(function(t,n){var i=e._editor.getModel().getDecorationRange(t),o=e._data[n].symbol;return i&&d.a.isEmpty(o.range)===i.isEmpty()})},e.prototype.updateCodeLensSymbols=function(e,t){for(var n=this;this._decorationIds.length;)t.removeDecoration(this._decorationIds.pop());this._data=e,this._decorationIds=new Array(this._data.length),this._data.forEach(function(e,i){t.addDecoration({range:e.symbol.range,options:f.a.EMPTY},function(e){return n._decorationIds[i]=e})})},e.prototype.computeIfNecessary=function(e){if(this._contentWidget.updateVisibility(),!this._contentWidget.isVisible())return null;for(var t=0;t<this._decorationIds.length;t++)this._data[t].symbol.range=e.getDecorationRange(this._decorationIds[t]);return this._data},e.prototype.updateCommands=function(e){this._contentWidget.withCommands(e)},e.prototype.getLineNumber=function(){var e=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return e?e.startLineNumber:-1},e.prototype.update=function(e){if(this.isValid()){var t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);this._viewZone.afterLineNumber=t.startLineNumber-1,e.layoutZone(this._viewZoneId),this._contentWidget.setSymbolRange(t),this._editor.layoutContentWidget(this._contentWidget)}},e}();Object(m.e)(function(e,t){var n=e.getColor(p.e);n&&t.addRule(".monaco-editor .codelens-decoration { color: "+n+"; }");var i=e.getColor(g.m);i&&t.addRule(".monaco-editor .codelens-decoration > a:hover { color: "+i+" !important; }")});var _=n(40),S=n(48),C=n(29),x=n(36),k=n(63),T=n(51);function O(e,t){var n=[],i=l.c.ordered(e),r=i.map(function(i){return Promise.resolve(i.provideCodeLenses(e,t)).then(function(e){if(Array.isArray(e))for(var t=0,o=e;t<o.length;t++){var r=o[t];n.push({symbol:r,provider:i})}}).catch(o.f)});return Promise.all(r).then(function(){return Object(C.l)(n,function(e,t){return e.symbol.range.startLineNumber<t.symbol.range.startLineNumber?-1:e.symbol.range.startLineNumber>t.symbol.range.startLineNumber?1:i.indexOf(e.provider)<i.indexOf(t.provider)?-1:i.indexOf(e.provider)>i.indexOf(t.provider)?1:e.symbol.range.startColumn<t.symbol.range.startColumn?-1:e.symbol.range.startColumn>t.symbol.range.startColumn?1:0})})}Object(s.j)("_executeCodeLensProvider",function(e,t){var n=t.resource,i=t.itemResolveCount;if(!(n instanceof x.a))throw Object(o.b)();var r=e.get(k.a).getModel(n);if(!r)throw Object(o.b)();var a=[];return O(r,T.a.None).then(function(e){for(var t=[],n=0,o=e;n<o.length;n++){var s=o[n];"undefined"===typeof i||Boolean(s.symbol.command)?a.push(s.symbol):i-- >0&&t.push(Promise.resolve(s.provider.resolveCodeLens(r,s.symbol,T.a.None)).then(function(e){return a.push(e)}))}return Promise.all(t)}).then(function(){return a})}),n.d(t,"CodeLensContribution",function(){return I});var N=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},L=function(e,t){return function(n,i){t(n,i,e)}},I=function(){function e(e,t,n){var i=this;this._editor=e,this._commandService=t,this._notificationService=n,this._isEnabled=this._editor.getConfiguration().contribInfo.codeLens,this._globalToDispose=[],this._localToDispose=[],this._lenses=[],this._currentFindCodeLensSymbolsPromise=null,this._modelChangeCounter=0,this._globalToDispose.push(this._editor.onDidChangeModel(function(){return i._onModelChange()})),this._globalToDispose.push(this._editor.onDidChangeModelLanguage(function(){return i._onModelChange()})),this._globalToDispose.push(this._editor.onDidChangeConfiguration(function(e){var t=i._isEnabled;i._isEnabled=i._editor.getConfiguration().contribInfo.codeLens,t!==i._isEnabled&&i._onModelChange()})),this._globalToDispose.push(l.c.onDidChange(this._onModelChange,this)),this._onModelChange()}return e.prototype.dispose=function(){this._localDispose(),this._globalToDispose=Object(r.d)(this._globalToDispose)},e.prototype._localDispose=function(){this._currentFindCodeLensSymbolsPromise&&(this._currentFindCodeLensSymbolsPromise.cancel(),this._currentFindCodeLensSymbolsPromise=null,this._modelChangeCounter++),this._currentResolveCodeLensSymbolsPromise&&(this._currentResolveCodeLensSymbolsPromise.cancel(),this._currentResolveCodeLensSymbolsPromise=null),this._localToDispose=Object(r.d)(this._localToDispose)},e.prototype.getId=function(){return e.ID},e.prototype._onModelChange=function(){var e=this;this._localDispose();var t=this._editor.getModel();if(t&&this._isEnabled&&l.c.has(t)){for(var n=0,s=l.c.all(t);n<s.length;n++){var c=s[n];if("function"===typeof c.onDidChange){var u=c.onDidChange(function(){return d.schedule()});this._localToDispose.push(u)}}this._detectVisibleLenses=new i.c(function(){e._onViewportChanged()},500);var d=new i.c(function(){var n=++e._modelChangeCounter;e._currentFindCodeLensSymbolsPromise&&e._currentFindCodeLensSymbolsPromise.cancel(),e._currentFindCodeLensSymbolsPromise=Object(i.i)(function(e){return O(t,e)}),e._currentFindCodeLensSymbolsPromise.then(function(t){n===e._modelChangeCounter&&(e._renderCodeLensSymbols(t),e._detectVisibleLenses.schedule())},o.e)},250);this._localToDispose.push(d),this._localToDispose.push(this._detectVisibleLenses),this._localToDispose.push(this._editor.onDidChangeModelContent(function(t){e._editor.changeDecorations(function(t){e._editor.changeViewZones(function(n){var i=[],o=-1;e._lenses.forEach(function(e){e.isValid()&&o!==e.getLineNumber()?(e.update(n),o=e.getLineNumber()):i.push(e)});var r=new v;i.forEach(function(t){t.dispose(r,n),e._lenses.splice(e._lenses.indexOf(t),1)}),r.commit(t)})}),e._detectVisibleLenses.schedule(),d.schedule()})),this._localToDispose.push(this._editor.onDidScrollChange(function(t){t.scrollTopChanged&&e._lenses.length>0&&e._detectVisibleLenses.schedule()})),this._localToDispose.push(this._editor.onDidLayoutChange(function(t){e._detectVisibleLenses.schedule()})),this._localToDispose.push(Object(r.f)(function(){if(e._editor.getModel()){var t=a.b.capture(e._editor);e._editor.changeDecorations(function(t){e._editor.changeViewZones(function(n){e._disposeAllLenses(t,n)})}),t.restore(e._editor)}else e._disposeAllLenses(null,null)})),d.schedule()}},e.prototype._disposeAllLenses=function(e,t){var n=new v;this._lenses.forEach(function(e){return e.dispose(n,t)}),e&&n.commit(e),this._lenses=[]},e.prototype._renderCodeLensSymbols=function(e){var t=this;if(this._editor.getModel()){for(var n,i=this._editor.getModel().getLineCount(),o=[],r=0,s=e;r<s.length;r++){var l=s[r],c=l.symbol.range.startLineNumber;c<1||c>i||(n&&n[n.length-1].symbol.range.startLineNumber===c?n.push(l):(n=[l],o.push(n)))}var u=a.b.capture(this._editor);this._editor.changeDecorations(function(e){t._editor.changeViewZones(function(n){for(var i=0,r=0,a=new v;r<o.length&&i<t._lenses.length;){var s=o[r][0].symbol.range.startLineNumber,l=t._lenses[i].getLineNumber();l<s?(t._lenses[i].dispose(a,n),t._lenses.splice(i,1)):l===s?(t._lenses[i].updateCodeLensSymbols(o[r],a),r++,i++):(t._lenses.splice(i,0,new w(o[r],t._editor,a,n,t._commandService,t._notificationService,function(){return t._detectVisibleLenses.schedule()})),i++,r++)}for(;i<t._lenses.length;)t._lenses[i].dispose(a,n),t._lenses.splice(i,1);for(;r<o.length;)t._lenses.push(new w(o[r],t._editor,a,n,t._commandService,t._notificationService,function(){return t._detectVisibleLenses.schedule()})),r++;a.commit(e)})}),u.restore(this._editor)}},e.prototype._onViewportChanged=function(){var e=this;this._currentResolveCodeLensSymbolsPromise&&(this._currentResolveCodeLensSymbolsPromise.cancel(),this._currentResolveCodeLensSymbolsPromise=null);var t=this._editor.getModel();if(t){var n=[],r=[];this._lenses.forEach(function(e){var i=e.computeIfNecessary(t);i&&(n.push(i),r.push(e))}),0!==n.length&&(this._currentResolveCodeLensSymbolsPromise=Object(i.i)(function(e){var i=n.map(function(n,i){var o=new Array(n.length),a=n.map(function(n,i){return"function"===typeof n.provider.resolveCodeLens?Promise.resolve(n.provider.resolveCodeLens(t,n.symbol,e)).then(function(e){o[i]=e}):(o[i]=n.symbol,Promise.resolve(void 0))});return Promise.all(a).then(function(){r[i].updateCommands(o)})});return Promise.all(i)}),this._currentResolveCodeLensSymbolsPromise.then(function(){e._currentResolveCodeLensSymbolsPromise=null}).catch(function(t){e._currentResolveCodeLensSymbolsPromise=null,Object(o.e)(t)}))}},e.ID="css.editor.codeLens",e=N([L(1,_.b),L(2,S.a)],e)}();Object(s.h)(I)},function(e,t,n){"use strict";n.r(t);var i,o=n(0),r=n(42),a=n(6),s=n(3),l=n(56),c=n(10),u=n(2),d=n(26),h=n(35),f=function(){function e(e){this._selection=e,this._usedEndToken=null}return e._haystackHasNeedleAtOffset=function(e,t,n){if(n<0)return!1;var i=t.length;if(n+i>e.length)return!1;for(var o=0;o<i;o++){var r=e.charCodeAt(n+o),a=t.charCodeAt(o);if(r!==a&&(!(r>=65&&r<=90&&r+32===a)&&!(a>=65&&a<=90&&a+32===r)))return!1}return!0},e.prototype._createOperationsForBlockComment=function(t,n,i,o){var r,a=t.startLineNumber,s=t.startColumn,l=t.endLineNumber,c=t.endColumn,d=i.getLineContent(a),h=i.getLineContent(l),f=n.blockCommentStartToken,p=n.blockCommentEndToken,m=d.lastIndexOf(f,s-1+f.length),g=h.indexOf(p,c-1-p.length);if(-1!==m&&-1!==g)if(a===l){d.substring(m+f.length,g).indexOf(p)>=0&&(m=-1,g=-1)}else{var b=d.substring(m+f.length),y=h.substring(0,g);(b.indexOf(p)>=0||y.indexOf(p)>=0)&&(m=-1,g=-1)}-1!==m&&-1!==g?(m+f.length<d.length&&32===d.charCodeAt(m+f.length)&&(f+=" "),g>0&&32===h.charCodeAt(g-1)&&(p=" "+p,g-=1),r=e._createRemoveBlockCommentOperations(new u.a(a,m+f.length+1,l,g+1),f,p)):(r=e._createAddBlockCommentOperations(t,f,p),this._usedEndToken=1===r.length?p:null);for(var v=0;v<r.length;v++)o.addTrackedEditOperation(r[v].range,r[v].text)},e._createRemoveBlockCommentOperations=function(e,t,n){var i=[];return u.a.isEmpty(e)?i.push(l.a.delete(new u.a(e.startLineNumber,e.startColumn-t.length,e.endLineNumber,e.endColumn+n.length))):(i.push(l.a.delete(new u.a(e.startLineNumber,e.startColumn-t.length,e.startLineNumber,e.startColumn))),i.push(l.a.delete(new u.a(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn+n.length)))),i},e._createAddBlockCommentOperations=function(e,t,n){var i=[];return u.a.isEmpty(e)?i.push(l.a.replace(new u.a(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),t+"  "+n)):(i.push(l.a.insert(new c.a(e.startLineNumber,e.startColumn),t+" ")),i.push(l.a.insert(new c.a(e.endLineNumber,e.endColumn)," "+n))),i},e.prototype.getEditOperations=function(e,t){var n=this._selection.startLineNumber,i=this._selection.startColumn;e.tokenizeIfCheap(n);var o=e.getLanguageIdAtPosition(n,i),r=h.a.getComments(o);r&&r.blockCommentStartToken&&r.blockCommentEndToken&&this._createOperationsForBlockComment(this._selection,r,e,t)},e.prototype.computeCursorState=function(e,t){var n=t.getInverseEditOperations();if(2===n.length){var i=n[0],o=n[1];return new d.a(i.range.endLineNumber,i.range.endColumn,o.range.startLineNumber,o.range.startColumn)}var r=n[0].range,a=this._usedEndToken?-this._usedEndToken.length-1:0;return new d.a(r.endLineNumber,r.endColumn+a,r.endLineNumber,r.endColumn+a)},e}(),p=n(9),m=function(){function e(e,t,n){this._selection=e,this._tabSize=t,this._type=n,this._deltaColumn=0}return e._gatherPreflightCommentStrings=function(e,t,n){e.tokenizeIfCheap(t);var i=e.getLanguageIdAtPosition(t,1),o=h.a.getComments(i),r=o?o.lineCommentToken:null;if(!r)return null;for(var a=[],s=0,l=n-t+1;s<l;s++)a[s]={ignore:!1,commentStr:r,commentStrOffset:0,commentStrLength:r.length};return a},e._analyzeLines=function(e,t,n,i){var o,r=!0;o=0===e||1!==e;for(var a=0,s=n.length;a<s;a++){var l=n[a],c=i+a,u=t.getLineContent(c),d=p.firstNonWhitespaceIndex(u);if(-1!==d){if(r=!1,l.ignore=!1,l.commentStrOffset=d,o&&!f._haystackHasNeedleAtOffset(u,l.commentStr,d)&&(0===e?o=!1:1===e||(l.ignore=!0)),o){var h=d+l.commentStrLength;h<u.length&&32===u.charCodeAt(h)&&(l.commentStrLength+=1)}}else l.ignore=!0,l.commentStrOffset=u.length}if(0===e&&r){o=!1;for(a=0,s=n.length;a<s;a++)n[a].ignore=!1}return{supported:!0,shouldRemoveComments:o,lines:n}},e._gatherPreflightData=function(t,n,i,o){var r=e._gatherPreflightCommentStrings(n,i,o);return null===r?{supported:!1,shouldRemoveComments:!1,lines:null}:e._analyzeLines(t,n,r,i)},e.prototype._executeLineComments=function(t,n,i,o){var r;i.shouldRemoveComments?r=e._createRemoveLineCommentsOperations(i.lines,o.startLineNumber):(e._normalizeInsertionPoint(t,i.lines,o.startLineNumber,this._tabSize),r=e._createAddLineCommentsOperations(i.lines,o.startLineNumber));for(var a=new c.a(o.positionLineNumber,o.positionColumn),s=0,l=r.length;s<l;s++){if(n.addEditOperation(r[s].range,r[s].text),r[s].range.isEmpty()&&r[s].range.getStartPosition().equals(a))t.getLineContent(a.lineNumber).length+1===a.column&&(this._deltaColumn=r[s].text.length)}this._selectionId=n.trackSelection(o)},e.prototype._attemptRemoveBlockComment=function(e,t,n,i){var o=t.startLineNumber,r=t.endLineNumber,a=i.length+Math.max(e.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.startColumn),s=e.getLineContent(o).lastIndexOf(n,a-1),l=e.getLineContent(r).indexOf(i,t.endColumn-1-n.length);return-1!==s&&-1===l&&(l=e.getLineContent(o).indexOf(i,s+n.length),r=o),-1===s&&-1!==l&&(s=e.getLineContent(r).lastIndexOf(n,l),o=r),!t.isEmpty()||-1!==s&&-1!==l||-1!==(s=e.getLineContent(o).indexOf(n))&&(l=e.getLineContent(o).indexOf(i,s+n.length)),-1!==s&&32===e.getLineContent(o).charCodeAt(s+n.length)&&(n+=" "),-1!==l&&32===e.getLineContent(r).charCodeAt(l-1)&&(i=" "+i,l-=1),-1!==s&&-1!==l?f._createRemoveBlockCommentOperations(new u.a(o,s+n.length+1,r,l+1),n,i):null},e.prototype._executeBlockComment=function(e,t,n){e.tokenizeIfCheap(n.startLineNumber);var i=e.getLanguageIdAtPosition(n.startLineNumber,1),o=h.a.getComments(i);if(o&&o.blockCommentStartToken&&o.blockCommentEndToken){var r=o.blockCommentStartToken,a=o.blockCommentEndToken,s=this._attemptRemoveBlockComment(e,n,r,a);if(!s){if(n.isEmpty()){var l=e.getLineContent(n.startLineNumber),c=p.firstNonWhitespaceIndex(l);-1===c&&(c=l.length),s=f._createAddBlockCommentOperations(new u.a(n.startLineNumber,c+1,n.startLineNumber,l.length+1),r,a)}else s=f._createAddBlockCommentOperations(new u.a(n.startLineNumber,e.getLineFirstNonWhitespaceColumn(n.startLineNumber),n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),r,a);1===s.length&&(this._deltaColumn=r.length+1)}this._selectionId=t.trackSelection(n);for(var d=0;d<s.length;d++)t.addEditOperation(s[d].range,s[d].text)}},e.prototype.getEditOperations=function(t,n){var i=this._selection;this._moveEndPositionDown=!1,i.startLineNumber<i.endLineNumber&&1===i.endColumn&&(this._moveEndPositionDown=!0,i=i.setEndPosition(i.endLineNumber-1,t.getLineMaxColumn(i.endLineNumber-1)));var o=e._gatherPreflightData(this._type,t,i.startLineNumber,i.endLineNumber);return o.supported?this._executeLineComments(t,n,o,i):this._executeBlockComment(t,n,i)},e.prototype.computeCursorState=function(e,t){var n=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),new d.a(n.selectionStartLineNumber,n.selectionStartColumn+this._deltaColumn,n.positionLineNumber,n.positionColumn+this._deltaColumn)},e._createRemoveLineCommentsOperations=function(e,t){for(var n=[],i=0,o=e.length;i<o;i++){var r=e[i];r.ignore||n.push(l.a.delete(new u.a(t+i,r.commentStrOffset+1,t+i,r.commentStrOffset+r.commentStrLength+1)))}return n},e._createAddLineCommentsOperations=function(e,t){for(var n=[],i=0,o=e.length;i<o;i++){var r=e[i];r.ignore||n.push(l.a.insert(new c.a(t+i,r.commentStrOffset+1),r.commentStr+" "))}return n},e.nextVisibleColumn=function(e,t,n,i){return n?e+(t-e%t):e+i},e._normalizeInsertionPoint=function(t,n,i,o){for(var r,a,s=Number.MAX_VALUE,l=0,c=n.length;l<c;l++)if(!n[l].ignore){for(var u=t.getLineContent(i+l),d=0,h=0,f=n[l].commentStrOffset;d<s&&h<f;h++)d=e.nextVisibleColumn(d,o,9===u.charCodeAt(h),1);d<s&&(s=d)}s=Math.floor(s/o)*o;for(l=0,c=n.length;l<c;l++)if(!n[l].ignore){u=t.getLineContent(i+l),d=0;for(r=0,a=n[l].commentStrOffset;d<s&&r<a;r++)d=e.nextVisibleColumn(d,o,9===u.charCodeAt(r),1);n[l].commentStrOffset=d>s?r-1:r}},e}(),g=n(41),b=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),y=function(e){function t(t,n){var i=e.call(this,n)||this;return i._type=t,i}return b(t,e),t.prototype.run=function(e,t){var n=t.getModel();if(n){for(var i=[],o=t.getSelections(),r=n.getOptions(),a=0;a<o.length;a++)i.push(new m(o[a],r.tabSize,this._type));t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}},t}(s.b),v=function(e){function t(){return e.call(this,0,{id:"editor.action.commentLine",label:o.a("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:a.a.writable,kbOpts:{kbExpr:a.a.editorTextFocus,primary:2133,weight:100},menubarOpts:{menuId:g.b.MenubarEditMenu,group:"5_insert",title:o.a({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})||this}return b(t,e),t}(y),w=function(e){function t(){return e.call(this,1,{id:"editor.action.addCommentLine",label:o.a("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:a.a.writable,kbOpts:{kbExpr:a.a.editorTextFocus,primary:Object(r.a)(2089,2081),weight:100}})||this}return b(t,e),t}(y),_=function(e){function t(){return e.call(this,2,{id:"editor.action.removeCommentLine",label:o.a("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:a.a.writable,kbOpts:{kbExpr:a.a.editorTextFocus,primary:Object(r.a)(2089,2099),weight:100}})||this}return b(t,e),t}(y),S=function(e){function t(){return e.call(this,{id:"editor.action.blockComment",label:o.a("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:a.a.writable,kbOpts:{kbExpr:a.a.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menubarOpts:{menuId:g.b.MenubarEditMenu,group:"5_insert",title:o.a({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})||this}return b(t,e),t.prototype.run=function(e,t){for(var n=[],i=t.getSelections(),o=0;o<i.length;o++)n.push(new f(i[o]));t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()},t}(s.b);Object(s.f)(v),Object(s.f)(w),Object(s.f)(_),Object(s.f)(S)},function(e,t,n){"use strict";n.r(t);var i,o=n(0),r=n(29),a=n(42),s=n(7),l=n(11),c=n(13),u=n(3),d=n(12),h=n(15),f=n(36),p=n(2),m=n(63),g=n(20),b=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),y=function(e){function t(n){var i=e.call(this)||this;return i.name=t.Name,i.message=n,i}return b(t,e),t.Name="NOPRO",t}(Error);function v(e,t,n){var i=d.i.ordered(e);return 0===i.length?l.b.wrapError(new y):Object(g.j)(i.map(function(i){return function(){return Object(g.h)(function(o){return i.provideDocumentRangeFormattingEdits(e,t,n,o)}).then(void 0,h.f)}}),function(e){return!Object(r.k)(e)})}function w(e,t){var n=d.f.ordered(e);return 0===n.length?v(e,e.getFullModelRange(),t):Object(g.j)(n.map(function(n){return function(){return Object(g.h)(function(i){return n.provideDocumentFormattingEdits(e,t,i)}).then(void 0,h.f)}}),function(e){return!Object(r.k)(e)})}function _(e,t,n,i){var o=d.q.ordered(e)[0];return o?o.autoFormatTriggerCharacters.indexOf(n)<0?l.b.as(void 0):Object(g.h)(function(r){return o.provideOnTypeFormattingEdits(e,t,n,i,r)}).then(function(e){return e},h.f):l.b.as(void 0)}Object(u.j)("_executeFormatRangeProvider",function(e,t){var n=t.resource,i=t.range,o=t.options;if(!(n instanceof f.a)||!p.a.isIRange(i))throw Object(h.b)();var r=e.get(m.a).getModel(n);if(!r)throw Object(h.b)("resource");return v(r,p.a.lift(i),o)}),Object(u.j)("_executeFormatDocumentProvider",function(e,t){var n=t.resource,i=t.options;if(!(n instanceof f.a))throw Object(h.b)("resource");var o=e.get(m.a).getModel(n);if(!o)throw Object(h.b)("resource");return w(o,i)}),Object(u.e)("_executeFormatOnTypeProvider",function(e,t,n){var i=n.ch,o=n.options;if("string"!==typeof i)throw Object(h.b)("ch");return _(e,t,i,o)});var S=n(56),C=function(){function e(){}return e._handleEolEdits=function(e,t){for(var n=void 0,i=[],o=0,r=t;o<r.length;o++){var a=r[o];"number"===typeof a.eol&&(n=a.eol),a.range&&"string"===typeof a.text&&i.push(a)}return"number"===typeof n&&e.getModel().pushEOL(n),i},e._isFullModelReplaceEdit=function(e,t){var n=e.getModel(),i=n.validateRange(t.range);return n.getFullModelRange().equalsRange(i)},e.execute=function(t,n){t.pushUndoStop();var i=e._handleEolEdits(t,n);1===i.length&&e._isFullModelReplaceEdit(t,i[0])?t.executeEdits("formatEditsCommand",i.map(function(e){return S.a.replace(p.a.lift(e.range),e.text)})):t.executeEdits("formatEditsCommand",i.map(function(e){return S.a.replaceMove(p.a.lift(e.range),e.text)})),t.pushUndoStop()},e}(),x=n(40),k=n(39),T=n(92),O=n(115),N=n(61),L=n(91),I=n(6),E=n(48);n.d(t,"AbstractFormatAction",function(){return j}),n.d(t,"FormatDocumentAction",function(){return W}),n.d(t,"FormatSelectionAction",function(){return V});var D=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),A=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},M=function(e,t){return function(n,i){t(n,i,e)}};function P(e){if((e=e.filter(function(e){return e.range})).length){for(var t=e[0].range,n=1;n<e.length;n++)t=p.a.plusRange(t,e[n].range);var i=t.startLineNumber,r=t.endLineNumber;i===r?1===e.length?Object(N.a)(o.a("hint11","Made 1 formatting edit on line {0}",i)):Object(N.a)(o.a("hintn1","Made {0} formatting edits on line {1}",e.length,i)):1===e.length?Object(N.a)(o.a("hint1n","Made 1 formatting edit between lines {0} and {1}",i,r)):Object(N.a)(o.a("hintnn","Made {0} formatting edits between lines {1} and {2}",e.length,i,r))}}var R=function(){function e(e,t){var n=this;this.editor=e,this.workerService=t,this.callOnDispose=[],this.callOnModel=[],this.callOnDispose.push(e.onDidChangeConfiguration(function(){return n.update()})),this.callOnDispose.push(e.onDidChangeModel(function(){return n.update()})),this.callOnDispose.push(e.onDidChangeModelLanguage(function(){return n.update()})),this.callOnDispose.push(d.q.onDidChange(this.update,this))}return e.prototype.update=function(){var e=this;if(this.callOnModel=Object(s.d)(this.callOnModel),this.editor.getConfiguration().contribInfo.formatOnType&&this.editor.getModel()){var t=this.editor.getModel(),n=d.q.ordered(t)[0];if(n&&n.autoFormatTriggerCharacters){for(var i=new O.b,o=0,r=n.autoFormatTriggerCharacters;o<r.length;o++){var a=r[o];i.add(a.charCodeAt(0))}this.callOnModel.push(this.editor.onDidType(function(t){var n=t.charCodeAt(t.length-1);i.has(n)&&e.trigger(String.fromCharCode(n))}))}}},e.prototype.trigger=function(e){var t=this;if(!(this.editor.getSelections().length>1)){var n=this.editor.getModel(),i=this.editor.getPosition(),o=!1,a=this.editor.onDidChangeModelContent(function(e){if(e.isFlush)return o=!0,void a.dispose();for(var t=0,n=e.changes.length;t<n;t++){if(e.changes[t].range.endLineNumber<=i.lineNumber)return o=!0,void a.dispose()}}),s=n.getOptions();_(n,i,e,{tabSize:s.tabSize,insertSpaces:s.insertSpaces}).then(function(e){return t.workerService.computeMoreMinimalEdits(n.uri,e)}).then(function(e){a.dispose(),o||Object(r.k)(e)||(C.execute(t.editor,e),P(e))},function(e){throw a.dispose(),e})}},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this.callOnDispose=Object(s.d)(this.callOnDispose),this.callOnModel=Object(s.d)(this.callOnModel)},e.ID="editor.contrib.autoFormat",e=A([M(1,T.a)],e)}(),F=function(){function e(e,t){var n=this;this.editor=e,this.workerService=t,this.callOnDispose=[],this.callOnModel=[],this.callOnDispose.push(e.onDidChangeConfiguration(function(){return n.update()})),this.callOnDispose.push(e.onDidChangeModel(function(){return n.update()})),this.callOnDispose.push(e.onDidChangeModelLanguage(function(){return n.update()})),this.callOnDispose.push(d.i.onDidChange(this.update,this))}return e.prototype.update=function(){var e=this;if(this.callOnModel=Object(s.d)(this.callOnModel),this.editor.getConfiguration().contribInfo.formatOnPaste&&this.editor.getModel()){var t=this.editor.getModel(),n=d.i.ordered(t)[0];n&&n.provideDocumentRangeFormattingEdits&&this.callOnModel.push(this.editor.onDidPaste(function(t){e.trigger(t)}))}},e.prototype.trigger=function(e){var t=this;if(!(this.editor.getSelections().length>1)){var n=this.editor.getModel(),i=n.getOptions(),o=i.tabSize,a=i.insertSpaces,s=new L.a(this.editor,5);v(n,e,{tabSize:o,insertSpaces:a}).then(function(e){return t.workerService.computeMoreMinimalEdits(n.uri,e)}).then(function(e){s.validate(t.editor)&&!Object(r.k)(e)&&(C.execute(t.editor,e),P(e))})}},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this.callOnDispose=Object(s.d)(this.callOnDispose),this.callOnModel=Object(s.d)(this.callOnModel)},e.ID="editor.contrib.formatOnPaste",e=A([M(1,T.a)],e)}(),j=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return D(t,e),t.prototype.run=function(e,t){var n=this,i=e.get(T.a),o=e.get(E.a),a=this._getFormattingEdits(t);if(!a)return l.b.as(void 0);var s=new L.a(t,5);return a.then(function(e){return i.computeMoreMinimalEdits(t.getModel().uri,e)}).then(function(e){s.validate(t)&&!Object(r.k)(e)&&(C.execute(t,e),P(e),t.focus())},function(e){if(!(e instanceof Error&&e.name===y.Name))throw e;n._notifyNoProviderError(o,t.getModel().getLanguageIdentifier().language)})},t.prototype._notifyNoProviderError=function(e,t){e.info(o.a("no.provider","There is no formatter for '{0}'-files installed.",t))},t}(u.b),W=function(e){function t(){return e.call(this,{id:"editor.action.formatDocument",label:o.a("formatDocument.label","Format Document"),alias:"Format Document",precondition:I.a.writable,kbOpts:{kbExpr:I.a.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},menuOpts:{when:I.a.hasDocumentFormattingProvider,group:"1_modification",order:1.3}})||this}return D(t,e),t.prototype._getFormattingEdits=function(e){var t=e.getModel(),n=t.getOptions();return w(t,{tabSize:n.tabSize,insertSpaces:n.insertSpaces})},t.prototype._notifyNoProviderError=function(e,t){e.info(o.a("no.documentprovider","There is no document formatter for '{0}'-files installed.",t))},t}(j),V=function(e){function t(){return e.call(this,{id:"editor.action.formatSelection",label:o.a("formatSelection.label","Format Selection"),alias:"Format Code",precondition:c.d.and(I.a.writable,I.a.hasNonEmptySelection),kbOpts:{kbExpr:I.a.editorTextFocus,primary:Object(a.a)(2089,2084),weight:100},menuOpts:{when:c.d.and(I.a.hasDocumentSelectionFormattingProvider,I.a.hasNonEmptySelection),group:"1_modification",order:1.31}})||this}return D(t,e),t.prototype._getFormattingEdits=function(e){var t=e.getModel(),n=t.getOptions(),i=n.tabSize,o=n.insertSpaces;return v(t,e.getSelection(),{tabSize:i,insertSpaces:o})},t.prototype._notifyNoProviderError=function(e,t){e.info(o.a("no.selectionprovider","There is no selection formatter for '{0}'-files installed.",t))},t}(j);Object(u.h)(R),Object(u.h)(F),Object(u.f)(W),Object(u.f)(V),x.a.registerCommand("editor.action.format",function(e){var t=e.get(k.a).getFocusedCodeEditor();if(t)return(new(function(e){function t(){return e.call(this,{})||this}return D(t,e),t.prototype._getFormattingEdits=function(e){var t=e.getModel(),n=e.getSelection(),i=t.getOptions(),o=i.tabSize,r=i.insertSpaces;return n.isEmpty()?w(t,{tabSize:o,insertSpaces:r}):v(t,n,{tabSize:o,insertSpaces:r})},t}(j))).run(e,t)})},function(e,t,n){"use strict";n.r(t);n(335);var i=n(7),o=n(18),r=n(19),a=n(3),s=n(10),l=n(2),c=n(26),u=function(){function e(e,t,n){this.selection=e,this.targetPosition=t,this.copy=n}return e.prototype.getEditOperations=function(e,t){var n=e.getValueInRange(this.selection);this.copy||t.addEditOperation(this.selection,null),t.addEditOperation(new l.a(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),n),!this.selection.containsPosition(this.targetPosition)||this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition))?this.copy?this.targetSelection=new c.a(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber>this.selection.endLineNumber?this.targetSelection=new c.a(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber<this.selection.endLineNumber?this.targetSelection=new c.a(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new c.a(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,(this.selection.startLineNumber,this.selection.endLineNumber,this.targetPosition.column-this.selection.endColumn+this.selection.startColumn),this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new c.a(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn):this.targetSelection=this.selection},e.prototype.computeCursorState=function(e,t){return this.targetSelection},e}(),d=n(30);function h(e){return o.d?e.altKey:e.ctrlKey}n.d(t,"DragAndDropController",function(){return f});var f=function(){function e(e){var t=this;this._editor=e,this._toUnhook=[],this._toUnhook.push(this._editor.onMouseDown(function(e){return t._onEditorMouseDown(e)})),this._toUnhook.push(this._editor.onMouseUp(function(e){return t._onEditorMouseUp(e)})),this._toUnhook.push(this._editor.onMouseDrag(function(e){return t._onEditorMouseDrag(e)})),this._toUnhook.push(this._editor.onMouseDrop(function(e){return t._onEditorMouseDrop(e)})),this._toUnhook.push(this._editor.onKeyDown(function(e){return t.onEditorKeyDown(e)})),this._toUnhook.push(this._editor.onKeyUp(function(e){return t.onEditorKeyUp(e)})),this._dndDecorationIds=[],this._mouseDown=!1,this._modiferPressed=!1,this._dragSelection=null}return e.prototype.onEditorKeyDown=function(e){this._editor.getConfiguration().dragAndDrop&&(h(e)&&(this._modiferPressed=!0),this._mouseDown&&h(e)&&this._editor.updateOptions({mouseStyle:"copy"}))},e.prototype.onEditorKeyUp=function(t){this._editor.getConfiguration().dragAndDrop&&(h(t)&&(this._modiferPressed=!1),this._mouseDown&&t.keyCode===e.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))},e.prototype._onEditorMouseDown=function(e){this._mouseDown=!0},e.prototype._onEditorMouseUp=function(e){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})},e.prototype._onEditorMouseDrag=function(e){var t=e.target;if(null===this._dragSelection){var n=this._editor.getSelections().filter(function(e){return e.containsPosition(t.position)});if(1!==n.length)return;this._dragSelection=n[0]}h(e.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),this._dragSelection.containsPosition(t.position)?this._removeDecoration():this.showAt(t.position)},e.prototype._onEditorMouseDrop=function(t){if(t.target&&(this._hitContent(t.target)||this._hitMargin(t.target))&&t.target.position){var n=new s.a(t.target.position.lineNumber,t.target.position.column);if(null===this._dragSelection)if(t.event.shiftKey){var i=this._editor.getSelection(),o=i.startLineNumber,r=i.startColumn;this._editor.setSelections([new c.a(o,r,n.lineNumber,n.column)])}else{var a=this._editor.getSelections().map(function(e){return e.containsPosition(n)?new c.a(n.lineNumber,n.column,n.lineNumber,n.column):e});this._editor.setSelections(a)}else(!this._dragSelection.containsPosition(n)||(h(t.event)||this._modiferPressed)&&(this._dragSelection.getEndPosition().equals(n)||this._dragSelection.getStartPosition().equals(n)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(e.ID,new u(this._dragSelection,n,h(t.event)||this._modiferPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1},e.prototype.showAt=function(t){var n=[{range:new l.a(t.lineNumber,t.column,t.lineNumber,t.column),options:e._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,n),this._editor.revealPosition(t,1)},e.prototype._removeDecoration=function(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])},e.prototype._hitContent=function(e){return e.type===r.b.CONTENT_TEXT||e.type===r.b.CONTENT_EMPTY},e.prototype._hitMargin=function(e){return e.type===r.b.GUTTER_GLYPH_MARGIN||e.type===r.b.GUTTER_LINE_NUMBERS||e.type===r.b.GUTTER_LINE_DECORATIONS},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modiferPressed=!1,this._toUnhook=Object(i.d)(this._toUnhook)},e.ID="editor.contrib.dragAndDrop",e.TRIGGER_KEY_VALUE=o.d?6:5,e._DECORATION_OPTIONS=d.a.register({className:"dnd-target"}),e}();Object(a.h)(f)},function(e,t,n){"use strict";n.r(t);var i,o=n(0),r=n(6),a=n(3),s=n(2),l=function(){function e(e,t){this._selection=e,this._isMovingLeft=t}return e.prototype.getEditOperations=function(e,t){var n=this._selection;if(this._selectionId=t.trackSelection(n),n.startLineNumber===n.endLineNumber&&(!this._isMovingLeft||0!==n.startColumn)&&(this._isMovingLeft||n.endColumn!==e.getLineMaxColumn(n.startLineNumber))){var i,o,r,a=n.selectionStartLineNumber,l=e.getLineContent(a);this._isMovingLeft?(i=l.substring(0,n.startColumn-2),o=l.substring(n.startColumn-1,n.endColumn-1),r=l.substring(n.startColumn-2,n.startColumn-1)+l.substring(n.endColumn-1)):(i=l.substring(0,n.startColumn-1)+l.substring(n.endColumn-1,n.endColumn),o=l.substring(n.startColumn-1,n.endColumn-1),r=l.substring(n.endColumn));var c=i+o+r;t.addEditOperation(new s.a(a,1,a,e.getLineMaxColumn(a)),null),t.addEditOperation(new s.a(a,1,a,1),c),this._cutStartIndex=n.startColumn+(this._isMovingLeft?-1:1),this._cutEndIndex=this._cutStartIndex+n.endColumn-n.startColumn,this._moved=!0}},e.prototype.computeCursorState=function(e,t){var n=t.getTrackedSelection(this._selectionId);return this._moved&&(n=(n=n.setStartPosition(n.startLineNumber,this._cutStartIndex)).setEndPosition(n.startLineNumber,this._cutEndIndex)),n},e}(),c=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u=function(e){function t(t,n){var i=e.call(this,n)||this;return i.left=t,i}return c(t,e),t.prototype.run=function(e,t){for(var n=[],i=t.getSelections(),o=0;o<i.length;o++)n.push(new l(i[o],this.left));t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()},t}(a.b),d=function(e){function t(){return e.call(this,!0,{id:"editor.action.moveCarretLeftAction",label:o.a("caret.moveLeft","Move Caret Left"),alias:"Move Caret Left",precondition:r.a.writable})||this}return c(t,e),t}(u),h=function(e){function t(){return e.call(this,!1,{id:"editor.action.moveCarretRightAction",label:o.a("caret.moveRight","Move Caret Right"),alias:"Move Caret Right",precondition:r.a.writable})||this}return c(t,e),t}(u);Object(a.f)(d),Object(a.f)(h)},function(e,t,n){"use strict";n.r(t);var i=n(0),o=n(15),r=n(11),a=n(13),s=n(125),l=n(3),c=n(6),u=(n(428),n(7)),d=n(2),h=n(19),f=n(22),p=n(8),m=n(10),g=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},b=function(e,t){return function(n,i){t(n,i,e)}},y=function(){function e(e,t){var n=this;this.themeService=t,this._disposables=[],this.allowEditorOverflow=!0,this._currentAcceptInput=null,this._currentCancelInput=null,this._editor=e,this._editor.addContentWidget(this),this._disposables.push(e.onDidChangeConfiguration(function(e){e.fontInfo&&n.updateFont()})),this._disposables.push(t.onThemeChange(function(e){return n.onThemeChange(e)}))}return e.prototype.onThemeChange=function(e){this.updateStyles(e)},e.prototype.dispose=function(){this._disposables=Object(u.d)(this._disposables),this._editor.removeContentWidget(this)},e.prototype.getId=function(){return"__renameInputWidget"},e.prototype.getDomNode=function(){return this._domNode||(this._inputField=document.createElement("input"),this._inputField.className="rename-input",this._inputField.type="text",this._inputField.setAttribute("aria-label",Object(i.a)("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode=document.createElement("div"),this._domNode.style.height=this._editor.getConfiguration().lineHeight+"px",this._domNode.className="monaco-editor rename-box",this._domNode.appendChild(this._inputField),this.updateFont(),this.updateStyles(this.themeService.getTheme())),this._domNode},e.prototype.updateStyles=function(e){if(this._inputField){var t=e.getColor(p.K),n=e.getColor(p.M),i=e.getColor(p.rb),o=e.getColor(p.L);this._inputField.style.backgroundColor=t?t.toString():null,this._inputField.style.color=n?n.toString():null,this._inputField.style.borderWidth=o?"1px":"0px",this._inputField.style.borderStyle=o?"solid":"none",this._inputField.style.borderColor=o?o.toString():"none",this._domNode.style.boxShadow=i?" 0 2px 8px "+i:null}},e.prototype.updateFont=function(){if(this._inputField){var e=this._editor.getConfiguration().fontInfo;this._inputField.style.fontFamily=e.fontFamily,this._inputField.style.fontWeight=e.fontWeight,this._inputField.style.fontSize=e.fontSize+"px"}},e.prototype.getPosition=function(){return this._visible?{position:this._position,preference:[h.a.BELOW,h.a.ABOVE]}:null},e.prototype.acceptInput=function(){this._currentAcceptInput&&this._currentAcceptInput()},e.prototype.cancelInput=function(e){this._currentCancelInput&&this._currentCancelInput(e)},e.prototype.getInput=function(e,t,n,i){var o=this;this._position=new m.a(e.startLineNumber,e.startColumn),this._inputField.value=t,this._inputField.setAttribute("selectionStart",n.toString()),this._inputField.setAttribute("selectionEnd",i.toString()),this._inputField.size=Math.max(1.1*(e.endColumn-e.startColumn),20);var a,s=[];return a=function(){Object(u.d)(s),o._hide()},new r.b(function(n){o._currentCancelInput=function(e){return o._currentAcceptInput=null,o._currentCancelInput=null,n(e),!0},o._currentAcceptInput=function(){0!==o._inputField.value.trim().length&&o._inputField.value!==t?(o._currentAcceptInput=null,o._currentCancelInput=null,n(o._inputField.value)):o.cancelInput(!0)};s.push(o._editor.onDidChangeCursorSelection(function(){d.a.containsPosition(e,o._editor.getPosition())||o.cancelInput(!0)})),s.push(o._editor.onDidBlurEditorWidget(function(){return o.cancelInput(!1)})),o._show()},function(){o._currentCancelInput(!0)}).then(function(e){return a(),e},function(e){return a(),r.b.wrapError(e)})},e.prototype._show=function(){var e=this;this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._editor.layoutContentWidget(this),setTimeout(function(){e._inputField.focus(),e._inputField.setSelectionRange(parseInt(e._inputField.getAttribute("selectionStart")),parseInt(e._inputField.getAttribute("selectionEnd")))},100)},e.prototype._hide=function(){this._visible=!1,this._editor.layoutContentWidget(this)},e=g([b(1,f.c)],e)}(),v=n(20),w=n(12),_=n(61),S=n(154),C=n(91),x=n(48),k=n(162),T=n(36),O=n(39);n.d(t,"rename",function(){return P}),n.d(t,"RenameAction",function(){return j});var N,L=(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}N(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),I=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},E=function(e,t){return function(n,i){t(n,i,e)}},D=function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function s(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((i=i.apply(e,t||[])).next())})},A=function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},M=function(){function e(e,t){this.model=e,this.position=t,this._provider=w.s.ordered(e)}return e.prototype.hasProvider=function(){return this._provider.length>0},e.prototype.resolveRenameLocation=function(){return D(this,void 0,void 0,function(){var e,t,n,i=this;return A(this,function(o){switch(o.label){case 0:return(e=this._provider[0]).resolveRenameLocation?[4,Object(v.h)(function(t){return e.resolveRenameLocation(i.model,i.position,t)})]:[3,2];case 1:t=o.sent(),o.label=2;case 2:return t||(n=this.model.getWordAtPosition(this.position))&&(t={range:new d.a(this.position.lineNumber,n.startColumn,this.position.lineNumber,n.endColumn),text:n.word}),[2,t]}})})},e.prototype.provideRenameEdits=function(e,t,n,o){return void 0===t&&(t=0),void 0===n&&(n=[]),void 0===o&&(o=this.position),D(this,void 0,void 0,function(){var o,r,a=this;return A(this,function(s){switch(s.label){case 0:return t>=this._provider.length?[2,{edits:void 0,rejectReason:n.join("\n")}]:(o=this._provider[t],[4,Object(v.h)(function(t){return o.provideRenameEdits(a.model,a.position,e,t)})]);case 1:return(r=s.sent())?r.rejectReason?[2,this.provideRenameEdits(e,t+1,n.concat(r.rejectReason))]:[2,r]:[2,this.provideRenameEdits(e,t+1,n.concat(i.a("no result","No result.")))]}})})},e}();function P(e,t,n){return D(this,void 0,void 0,function(){return A(this,function(i){return[2,new M(e,t).provideRenameEdits(n)]})})}var R=new a.f("renameInputVisible",!1),F=function(){function e(e,t,n,i,o,r){this.editor=e,this._notificationService=t,this._bulkEditService=n,this._progressService=i,this._renameInputField=new y(e,r),this._renameInputVisible=R.bindTo(o)}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.dispose=function(){this._renameInputField.dispose()},e.prototype.getId=function(){return e.ID},e.prototype.run=function(){return D(this,void 0,void 0,function(){var e,t,n,o,a,s,l,c=this;return A(this,function(u){switch(u.label){case 0:if(e=this.editor.getPosition(),!(t=new M(this.editor.getModel(),e)).hasProvider())return[2,void 0];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,t.resolveRenameLocation()];case 2:return n=u.sent(),[3,4];case 3:return o=u.sent(),S.a.get(this.editor).showMessage(o,e),[2,void 0];case 4:return n?(a=this.editor.getSelection(),s=0,l=n.text.length,d.a.isEmpty(a)||d.a.spansMultipleLines(a)||!d.a.containsRange(n.range,a)||(s=Math.max(0,a.startColumn-n.range.startColumn),l=Math.min(n.range.endColumn,a.endColumn)-n.range.startColumn),this._renameInputVisible.set(!0),[2,this._renameInputField.getInput(n.range,n.text,s,l).then(function(e){if(c._renameInputVisible.reset(),"boolean"!==typeof e){c.editor.focus();var o=new C.a(c.editor,15),a=r.b.wrap(t.provideRenameEdits(e,0,[],d.a.lift(n.range).getStartPosition()).then(function(t){if(!t.rejectReason)return c._bulkEditService.apply(t,{editor:c.editor}).then(function(t){t.ariaSummary&&Object(_.a)(i.a("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",n.text,e,t.ariaSummary))});o.validate(c.editor)?S.a.get(c.editor).showMessage(t.rejectReason,c.editor.getPosition()):c._notificationService.info(t.rejectReason)},function(e){return c._notificationService.error(i.a("rename.failed","Rename failed to execute.")),r.b.wrapError(e)}));return c._progressService.showWhile(a,250),a}e&&c.editor.focus()},function(e){return c._renameInputVisible.reset(),r.b.wrapError(e)})]):[2,void 0]}})})},e.prototype.acceptRenameInput=function(){this._renameInputField.acceptInput()},e.prototype.cancelRenameInput=function(){this._renameInputField.cancelInput(!0)},e.ID="editor.contrib.renameController",e=I([E(1,x.a),E(2,k.a),E(3,s.a),E(4,a.e),E(5,f.c)],e)}(),j=function(e){function t(){return e.call(this,{id:"editor.action.rename",label:i.a("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:a.d.and(c.a.writable,c.a.hasRenameProvider),kbOpts:{kbExpr:c.a.editorTextFocus,primary:60,weight:100},menuOpts:{group:"1_modification",order:1.1}})||this}return L(t,e),t.prototype.runCommand=function(t,n){var i=this,r=t.get(O.a),a=n||[void 0,void 0],s=a[0],l=a[1];return T.a.isUri(s)&&m.a.isIPosition(l)?r.openCodeEditor({resource:s},r.getActiveCodeEditor()).then(function(e){e.setPosition(l),e.invokeWithinContext(function(t){return i.reportTelemetry(t,e),i.run(t,e)})},o.e):e.prototype.runCommand.call(this,t,n)},t.prototype.run=function(e,t){var n=F.get(t);if(n)return r.b.wrap(n.run())},t}(l.b);Object(l.h)(F),Object(l.f)(j);var W=l.c.bindToContribution(F.get);Object(l.g)(new W({id:"acceptRenameInput",precondition:R,handler:function(e){return e.acceptRenameInput()},kbOpts:{weight:199,kbExpr:c.a.focus,primary:3}})),Object(l.g)(new W({id:"cancelRenameInput",precondition:R,handler:function(e){return e.cancelRenameInput()},kbOpts:{weight:199,kbExpr:c.a.focus,primary:9,secondary:[1033]}})),Object(l.e)("_executeDocumentRenameProvider",function(e,t,n){var i=n.newName;if("string"!==typeof i)throw Object(o.b)("newName");return P(e,t,i)})},function(e,t,n){"use strict";n.r(t);n(426);var i=n(0),o=n(110),r=n(9),a=n(119),s=n(99),l=n(6),c=n(12),u=n(167),d=n(15),h=n(36),f=n(11),p=n(2),m=n(3),g=n(63),b=n(20);function y(e){var t=[],n=c.j.all(e).map(function(n){return Object(b.h)(function(t){return n.provideDocumentSymbols(e,t)}).then(function(e){Array.isArray(e)&&t.push.apply(t,e)},function(e){Object(d.f)(e)})});return f.b.join(n).then(function(){var e=[];return function e(t,n,i){for(var o=0,r=n;o<r.length;o++){var a=r[o];t.push({kind:a.kind,name:a.name,detail:a.detail,containerName:a.containerName||i,range:a.range,selectionRange:a.selectionRange,children:void 0}),a.children&&e(t,a.children,a.name)}}(e,t,""),e.sort(v),e})}function v(e,t){return p.a.compareRangesUsingStarts(e.range,t.range)}Object(m.j)("_executeDocumentSymbolProvider",function(e,t){var n=t.resource;if(!(n instanceof h.a))throw Object(d.b)("resource");var i=e.get(g.a).getModel(n);if(!i)throw Object(d.b)("resource");return y(i)}),n.d(t,"SymbolEntry",function(){return S}),n.d(t,"QuickOutlineAction",function(){return C});var w,_=(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}w(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),S=function(e){function t(t,n,i,o,r,a,s){var l=e.call(this)||this;return l.name=t,l.type=n,l.description=i,l.range=o,l.setHighlights(r),l.editor=a,l.decorator=s,l}return _(t,e),t.prototype.getLabel=function(){return this.name},t.prototype.getAriaLabel=function(){return i.a("entryAriaLabel","{0}, symbols",this.name)},t.prototype.getIcon=function(){return this.type},t.prototype.getDescription=function(){return this.description},t.prototype.getType=function(){return this.type},t.prototype.getRange=function(){return this.range},t.prototype.run=function(e,t){return e===s.a.OPEN?this.runOpen(t):this.runPreview()},t.prototype.runOpen=function(e){var t=this.toSelection();return this.editor.setSelection(t),this.editor.revealRangeInCenter(t,0),this.editor.focus(),!0},t.prototype.runPreview=function(){var e=this.toSelection();return this.editor.revealRangeInCenter(e,0),this.decorator.decorateLine(this.range,this.editor),!1},t.prototype.toSelection=function(){return new p.a(this.range.startLineNumber,this.range.startColumn||1,this.range.startLineNumber,this.range.startColumn||1)},t}(a.b),C=function(e){function t(){return e.call(this,i.a("quickOutlineActionInput","Type the name of an identifier you wish to navigate to"),{id:"editor.action.quickOutline",label:i.a("QuickOutlineAction.label","Go to Symbol..."),alias:"Go to Symbol...",precondition:l.a.hasDocumentSymbolProvider,kbOpts:{kbExpr:l.a.focus,primary:3117,weight:100},menuOpts:{group:"navigation",order:3}})||this}return _(t,e),t.prototype.run=function(e,t){var n=this,i=t.getModel();return c.j.has(i)?y(i).then(function(e){0!==e.length&&n._run(t,e)}):null},t.prototype._run=function(e,t){var n=this;this._show(this.getController(e),{getModel:function(i){return new a.c(n.toQuickOpenEntries(e,t,i))},getAutoFocus:function(e){return 0===e.indexOf(":")&&(e=e.substr(":".length)),{autoFocusPrefixMatch:e,autoFocusFirstEntry:!!e}}})},t.prototype.symbolEntry=function(e,t,n,i,o,r,a){return new S(e,t,n,p.a.lift(i),o,r,a)},t.prototype.toQuickOpenEntries=function(e,t,n){var a=this.getController(e),s=[],l=n;0===n.indexOf(":")&&(l=l.substr(":".length));for(var u=0;u<t.length;u++){var d=t[u],h=r.trim(d.name),f=Object(o.e)(l,h);if(f){var p=null;d.containerName&&(p=d.containerName),s.push(this.symbolEntry(h,Object(c.B)(d.kind),p,d.range,f,e,a))}}if(n&&(s=0===n.indexOf(":")?s.sort(this.sortScoped.bind(this,n.toLowerCase())):s.sort(this.sortNormal.bind(this,n.toLowerCase()))),s.length>0&&0===n.indexOf(":")){var m=null,g=null,b=0;for(u=0;u<s.length;u++){var y=s[u];m!==y.getType()?(g&&g.setGroupLabel(this.typeToLabel(m,b)),m=y.getType(),g=y,b=1,y.setShowBorder(u>0)):b++}g&&g.setGroupLabel(this.typeToLabel(m,b))}else s.length>0&&s[0].setGroupLabel(i.a("symbols","symbols ({0})",s.length));return s},t.prototype.typeToLabel=function(e,t){switch(e){case"module":return i.a("modules","modules ({0})",t);case"class":return i.a("class","classes ({0})",t);case"interface":return i.a("interface","interfaces ({0})",t);case"method":return i.a("method","methods ({0})",t);case"function":return i.a("function","functions ({0})",t);case"property":return i.a("property","properties ({0})",t);case"variable":return i.a("variable","variables ({0})",t);case"var":return i.a("variable2","variables ({0})",t);case"constructor":return i.a("_constructor","constructors ({0})",t);case"call":return i.a("call","calls ({0})",t)}return e},t.prototype.sortNormal=function(e,t,n){var i=t.getLabel().toLowerCase(),o=n.getLabel().toLowerCase(),r=i.localeCompare(o);if(0!==r)return r;var a=t.getRange(),s=n.getRange();return a.startLineNumber-s.startLineNumber},t.prototype.sortScoped=function(e,t,n){e=e.substr(":".length);var i=t.getType(),o=n.getType(),r=i.localeCompare(o);if(0!==r)return r;if(e){var a=t.getLabel().toLowerCase(),s=n.getLabel().toLowerCase(),l=a.localeCompare(s);if(0!==l)return l}var c=t.getRange(),u=n.getRange();return c.startLineNumber-u.startLineNumber},t}(u.a);Object(m.f)(C)},function(e,t,n){"use strict";n.r(t);n(422);var i=n(0),o=n(15),r=n(18),a=n(83),s=n(3),l=n(12),c=n(19),u=n(36),d=n(11),h=n(2),f=n(20),p=n(40),m=n(63),g=n(51),b=function(){function e(e,t){this._link=e,this._provider=t}return e.prototype.toJSON=function(){return{range:this.range,url:this.url}},Object.defineProperty(e.prototype,"range",{get:function(){return this._link.range},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this._link.url},enumerable:!0,configurable:!0}),e.prototype.resolve=function(){var e=this;if(this._link.url)try{return d.b.as(u.a.parse(this._link.url))}catch(e){return d.b.wrapError(new Error("invalid"))}return"function"===typeof this._provider.resolveLink?Object(f.h)(function(t){return e._provider.resolveLink(e._link,t)}).then(function(t){return e._link=t||e._link,e._link.url?e.resolve():d.b.wrapError(new Error("missing"))}):d.b.wrapError(new Error("missing"))},e}();function y(e,t){var n=[],i=l.p.ordered(e).reverse().map(function(i){return Promise.resolve(i.provideLinks(e,t)).then(function(e){if(Array.isArray(e)){var t=e.map(function(e){return new b(e,i)});n=function(e,t){var n,i,o,r,a=[];for(n=0,o=0,i=e.length,r=t.length;n<i&&o<r;){var s=e[n],l=t[o];if(h.a.areIntersectingOrTouching(s.range,l.range))n++;else{var c=h.a.compareRangesUsingStarts(s.range,l.range);c<0?(a.push(s),n++):(a.push(l),o++)}}for(;n<i;n++)a.push(e[n]);for(;o<r;o++)a.push(t[o]);return a}(n,t)}},o.f)});return Promise.all(i).then(function(){return n})}p.a.registerCommand("_executeLinkProvider",function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=t[0];if(i instanceof u.a){var o=e.get(m.a).getModel(i);if(o)return y(o,g.a.None)}});var v,w=n(7),_=n(22),S=n(8),C=n(30),x=n(199),k=n(73),T=n(21),O=n(48),N=(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}v(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),L=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},I=function(e,t){return function(n,i){t(n,i,e)}},E=function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function s(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((i=i.apply(e,t||[])).next())})},D=function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},A=(new k.a).appendText(r.d?i.a("links.navigate.mac","Cmd + click to follow link"):i.a("links.navigate","Ctrl + click to follow link")),M=(new k.a).appendText(r.d?i.a("links.command.mac","Cmd + click to execute command"):i.a("links.command","Ctrl + click to execute command")),P=(new k.a).appendText(r.d?i.a("links.navigate.al.mac","Option + click to follow link"):i.a("links.navigate.al","Alt + click to follow link")),R=(new k.a).appendText(r.d?i.a("links.command.al.mac","Option + click to execute command"):i.a("links.command.al","Alt + click to execute command")),F={meta:C.a.register({stickiness:T.h.NeverGrowsWhenTypingAtEdges,inlineClassName:"detected-link",hoverMessage:A}),metaActive:C.a.register({stickiness:T.h.NeverGrowsWhenTypingAtEdges,inlineClassName:"detected-link-active",hoverMessage:A}),alt:C.a.register({stickiness:T.h.NeverGrowsWhenTypingAtEdges,inlineClassName:"detected-link",hoverMessage:P}),altActive:C.a.register({stickiness:T.h.NeverGrowsWhenTypingAtEdges,inlineClassName:"detected-link-active",hoverMessage:P}),altCommand:C.a.register({stickiness:T.h.NeverGrowsWhenTypingAtEdges,inlineClassName:"detected-link",hoverMessage:R}),altCommandActive:C.a.register({stickiness:T.h.NeverGrowsWhenTypingAtEdges,inlineClassName:"detected-link-active",hoverMessage:R}),metaCommand:C.a.register({stickiness:T.h.NeverGrowsWhenTypingAtEdges,inlineClassName:"detected-link",hoverMessage:M}),metaCommandActive:C.a.register({stickiness:T.h.NeverGrowsWhenTypingAtEdges,inlineClassName:"detected-link-active",hoverMessage:M})},j=function(){function e(e,t){this.link=e,this.decorationId=t}return e.decoration=function(t,n){return{range:t.range,options:e._getOptions(t,n,!1)}},e._getOptions=function(e,t,n){return/^command:/i.test(e.url)?t?n?F.metaCommandActive:F.metaCommand:n?F.altCommandActive:F.altCommand:t?n?F.metaActive:F.meta:n?F.altActive:F.alt},e.prototype.activate=function(t,n){t.changeDecorationOptions(this.decorationId,e._getOptions(this.link,n,!0))},e.prototype.deactivate=function(t,n){t.changeDecorationOptions(this.decorationId,e._getOptions(this.link,n,!1))},e}(),W=function(){function e(e,t,n){var i=this;this.editor=e,this.openerService=t,this.notificationService=n,this.listenersToRemove=[];var o=new x.a(e);this.listenersToRemove.push(o),this.listenersToRemove.push(o.onMouseMoveOrRelevantKeyDown(function(e){var t=e[0],n=e[1];i._onEditorMouseMove(t,n)})),this.listenersToRemove.push(o.onExecute(function(e){i.onEditorMouseUp(e)})),this.listenersToRemove.push(o.onCancel(function(e){i.cleanUpActiveLinkDecoration()})),this.enabled=e.getConfiguration().contribInfo.links,this.listenersToRemove.push(e.onDidChangeConfiguration(function(t){var n=e.getConfiguration().contribInfo.links;i.enabled!==n&&(i.enabled=n,i.updateDecorations([]),i.stop(),i.beginCompute())})),this.listenersToRemove.push(e.onDidChangeModelContent(function(e){return i.onChange()})),this.listenersToRemove.push(e.onDidChangeModel(function(e){return i.onModelChanged()})),this.listenersToRemove.push(e.onDidChangeModelLanguage(function(e){return i.onModelModeChanged()})),this.listenersToRemove.push(l.p.onDidChange(function(e){return i.onModelModeChanged()})),this.timeout=new f.f,this.computePromise=null,this.currentOccurrences={},this.activeLinkDecorationId=null,this.beginCompute()}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.getId=function(){return e.ID},e.prototype.onModelChanged=function(){this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()},e.prototype.onModelModeChanged=function(){this.stop(),this.beginCompute()},e.prototype.onChange=function(){var t=this;this.timeout.setIfNotSet(function(){return t.beginCompute()},e.RECOMPUTE_TIME)},e.prototype.beginCompute=function(){return E(this,void 0,void 0,function(){var e,t,n=this;return D(this,function(i){switch(i.label){case 0:if(!this.editor.getModel()||!this.enabled)return[2];if(!l.p.has(this.editor.getModel()))return[2];this.computePromise=f.i(function(e){return y(n.editor.getModel(),e)}),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.computePromise];case 2:return e=i.sent(),this.updateDecorations(e),[3,5];case 3:return t=i.sent(),Object(o.e)(t),[3,5];case 4:return this.computePromise=null,[7];case 5:return[2]}})})},e.prototype.updateDecorations=function(e){for(var t="altKey"===this.editor.getConfiguration().multiCursorModifier,n=[],i=Object.keys(this.currentOccurrences),o=0,r=i.length;o<r;o++){var a=i[o],s=this.currentOccurrences[a];n.push(s.decorationId)}var l=[];if(e)for(o=0;o<e.length;o++)l.push(j.decoration(e[o],t));var c=this.editor.deltaDecorations(n,l);this.currentOccurrences={},this.activeLinkDecorationId=null;for(o=0,r=c.length;o<r;o++){s=new j(e[o],c[o]);this.currentOccurrences[s.decorationId]=s}},e.prototype._onEditorMouseMove=function(e,t){var n=this,i="altKey"===this.editor.getConfiguration().multiCursorModifier;if(this.isEnabled(e,t)){this.cleanUpActiveLinkDecoration();var o=this.getLinkOccurrence(e.target.position);o&&this.editor.changeDecorations(function(e){o.activate(e,i),n.activeLinkDecorationId=o.decorationId})}else this.cleanUpActiveLinkDecoration()},e.prototype.cleanUpActiveLinkDecoration=function(){var e="altKey"===this.editor.getConfiguration().multiCursorModifier;if(this.activeLinkDecorationId){var t=this.currentOccurrences[this.activeLinkDecorationId];t&&this.editor.changeDecorations(function(n){t.deactivate(n,e)}),this.activeLinkDecorationId=null}},e.prototype.onEditorMouseUp=function(e){if(this.isEnabled(e)){var t=this.getLinkOccurrence(e.target.position);t&&this.openLinkOccurrence(t,e.hasSideBySideModifier)}},e.prototype.openLinkOccurrence=function(e,t){var n=this;if(this.openerService){var r=e.link;r.resolve().then(function(e){return n.openerService.open(e,{openToSide:t})},function(e){"invalid"===e?n.notificationService.warn(i.a("invalid.url","Failed to open this link because it is not well-formed: {0}",r.url)):"missing"===e?n.notificationService.warn(i.a("missing.url","Failed to open this link because its target is missing.")):Object(o.e)(e)}).done(null,o.e)}},e.prototype.getLinkOccurrence=function(e){for(var t=this.editor.getModel().getDecorationsInRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},0,!0),n=0;n<t.length;n++){var i=t[n],o=this.currentOccurrences[i.id];if(o)return o}return null},e.prototype.isEnabled=function(e,t){return e.target.type===c.b.CONTENT_TEXT&&(e.hasTriggerModifier||t&&t.keyCodeIsTriggerKey)},e.prototype.stop=function(){this.timeout.cancel(),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)},e.prototype.dispose=function(){this.listenersToRemove=Object(w.d)(this.listenersToRemove),this.stop(),this.timeout.dispose()},e.ID="editor.linkDetector",e.RECOMPUTE_TIME=1e3,e=L([I(1,a.a),I(2,O.a)],e)}(),V=function(e){function t(){return e.call(this,{id:"editor.action.openLink",label:i.a("label","Open Link"),alias:"Open Link",precondition:null})||this}return N(t,e),t.prototype.run=function(e,t){var n=W.get(t);if(n)for(var i=0,o=t.getSelections();i<o.length;i++){var r=o[i],a=n.getLinkOccurrence(r.getEndPosition());a&&n.openLinkOccurrence(a,!1)}},t}(s.b);Object(s.h)(W),Object(s.f)(V),Object(_.e)(function(e,t){var n=e.getColor(S.m);n&&t.addRule(".monaco-editor .detected-link-active { color: "+n+" !important; }")})},function(e,t,n){"use strict";n.r(t);var i,o=n(0),r=n(5),a=n(7),s=n(13),l=n(49),c=n(2),u=n(3),d=n(22),h=n(6),f=(n(404),n(1)),p=n(197),m=n(8),g=n(17),b=n(33),y=n(82),v=n(45),w=n(171),_=n(29),S=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),C=function(){function e(e,t,n){var i=this;this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=[],this._editor=t;var o=document.createElement("div");o.className="descriptioncontainer",o.setAttribute("aria-live","assertive"),o.setAttribute("role","alert"),this._messageBlock=document.createElement("div"),o.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),o.appendChild(this._relatedBlock),this._disposables.push(f.j(this._relatedBlock,"click",function(e){e.preventDefault();var t=i._relatedDiagnostics.get(e.target);t&&n(t)})),this._scrollable=new y.b(o,{horizontal:v.b.Auto,vertical:v.b.Auto,useShadows:!1,horizontalScrollbarSize:3,verticalScrollbarSize:3}),f.f(this._scrollable.getDomNode(),"block"),e.appendChild(this._scrollable.getDomNode()),this._disposables.push(this._scrollable.onScroll(function(e){o.style.left="-"+e.scrollLeft+"px",o.style.top="-"+e.scrollTop+"px"})),this._disposables.push(this._scrollable)}return e.prototype.dispose=function(){Object(a.d)(this._disposables)},e.prototype.update=function(e){var t=e.source,n=e.message,i=e.relatedInformation;if(t){this._lines=0,this._longestLineLength=0;for(var o=new Array(t.length+3+1).join(" "),r=n.split(/\r\n|\r|\n/g),a=0;a<r.length;a++){var s=r[a];this._lines+=1,this._longestLineLength=Math.max(s.length,this._longestLineLength),0===a?n="["+t+"] "+s:n+="\n"+o+s}}else this._lines=1,this._longestLineLength=n.length;if(f.l(this._relatedBlock),!Object(_.k)(i)){this._relatedBlock.style.paddingTop=Math.floor(.66*this._editor.getConfiguration().lineHeight)+"px",this._lines+=1;for(var l=0,c=i;l<c.length;l++){var u=c[l],d=document.createElement("div"),h=document.createElement("span");f.f(h,"filename"),h.innerHTML=Object(w.a)(u.resource)+"("+u.startLineNumber+", "+u.startColumn+"): ",h.title=Object(w.b)(u.resource,void 0),this._relatedDiagnostics.set(h,u);var p=document.createElement("span");p.innerText=u.message,this._editor.applyFontInfo(p),d.appendChild(h),d.appendChild(p),this._lines+=1,this._relatedBlock.appendChild(d)}}this._messageBlock.innerText=n,this._editor.applyFontInfo(this._messageBlock);var m=this._editor.getConfiguration().fontInfo,g=Math.ceil(m.typicalFullwidthCharacterWidth*this._longestLineLength*.75),b=m.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:g,scrollHeight:b})},e.prototype.layout=function(e,t){this._scrollable.getDomNode().style.height=e+"px",this._scrollable.setScrollDimensions({width:t,height:e})},e.prototype.getHeightInLines=function(){return Math.min(17,this._lines)},e}(),x=function(e){function t(t,n){var i=e.call(this,t,{showArrow:!0,showFrame:!0,isAccessible:!0})||this;return i._themeService=n,i._callOnDispose=[],i._onDidSelectRelatedInformation=new r.a,i.onDidSelectRelatedInformation=i._onDidSelectRelatedInformation.event,i._severity=l.b.Warning,i._backgroundColor=g.a.white,i._applyTheme(n.getTheme()),i._callOnDispose.push(n.onThemeChange(i._applyTheme.bind(i))),i.create(),i}return S(t,e),t.prototype._applyTheme=function(e){this._backgroundColor=e.getColor(E);var t=N;this._severity===l.b.Warning?t=L:this._severity===l.b.Info&&(t=I);var n=e.getColor(t);this.style({arrowColor:n,frameColor:n})},t.prototype._applyStyles=function(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor.toString()),e.prototype._applyStyles.call(this)},t.prototype.dispose=function(){this._callOnDispose=Object(a.d)(this._callOnDispose),e.prototype.dispose.call(this)},t.prototype.focus=function(){this._parentContainer.focus()},t.prototype._fillContainer=function(e){var t=this;this._parentContainer=e,f.f(e,"marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),e.appendChild(this._container),this._title=document.createElement("div"),this._title.className="block title",this._container.appendChild(this._title),this._message=new C(this._container,this.editor,function(e){return t._onDidSelectRelatedInformation.fire(e)}),this._disposables.push(this._message)},t.prototype.show=function(e,t){throw new Error("call showAtMarker")},t.prototype.showAtMarker=function(t,n,i){this._container.classList.remove("stale"),this._title.innerHTML=o.a("title.wo_source","({0}/{1})",n,i),this._message.update(t),this._severity=t.severity,this._applyTheme(this._themeService.getTheme());var r=c.a.lift(t),a=r.containsPosition(this.editor.getPosition())?this.editor.getPosition():r.getStartPosition();e.prototype.show.call(this,a,this.computeRequiredHeight()),this.editor.revealPositionInCenter(a,0),1!==this.editor.getConfiguration().accessibilitySupport&&this.focus()},t.prototype.updateMarker=function(e){this._container.classList.remove("stale"),this._message.update(e)},t.prototype.showStale=function(){this._container.classList.add("stale"),this._relayout()},t.prototype._doLayout=function(e,t){this._message.layout(e,t),this._container.style.height=e+"px"},t.prototype._relayout=function(){e.prototype._relayout.call(this,this.computeRequiredHeight())},t.prototype.computeRequiredHeight=function(){return 1+this._message.getHeightInLines()},t}(p.a),k=Object(m.eb)(b.i,b.h),T=Object(m.eb)(b.w,b.v),O=Object(m.eb)(b.n,b.m),N=Object(m.kb)("editorMarkerNavigationError.background",{dark:k,light:k,hc:k},o.a("editorMarkerNavigationError","Editor marker navigation widget error color.")),L=Object(m.kb)("editorMarkerNavigationWarning.background",{dark:T,light:T,hc:T},o.a("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),I=Object(m.kb)("editorMarkerNavigationInfo.background",{dark:O,light:O,hc:O},o.a("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),E=Object(m.kb)("editorMarkerNavigation.background",{dark:"#2D2D30",light:g.a.white,hc:"#0C141F"},o.a("editorMarkerNavigationBackground","Editor marker navigation widget background.")),D=n(9),A=n(39),M=n(15),P=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),R=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},F=function(e,t){return function(n,i){t(n,i,e)}},j=function(){function e(e,t){var n=this;this._editor=e,this._markers=null,this._nextIdx=-1,this._toUnbind=[],this._ignoreSelectionChange=!1,this._onCurrentMarkerChanged=new r.a,this._onMarkerSetChanged=new r.a,this.setMarkers(t),this._toUnbind.push(this._editor.onDidDispose(function(){return n.dispose()})),this._toUnbind.push(this._editor.onDidChangeCursorPosition(function(){n._ignoreSelectionChange||n.currentMarker&&c.a.containsPosition(n.currentMarker,n._editor.getPosition())||(n._nextIdx=-1)}))}return Object.defineProperty(e.prototype,"onCurrentMarkerChanged",{get:function(){return this._onCurrentMarkerChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onMarkerSetChanged",{get:function(){return this._onMarkerSetChanged.event},enumerable:!0,configurable:!0}),e.prototype.setMarkers=function(e){var t=this._nextIdx>=0?this._markers[this._nextIdx]:void 0;this._markers=e||[],this._markers.sort(V.compareMarker),this._nextIdx=t?Math.max(-1,Object(_.b)(this._markers,t,V.compareMarker)):-1,this._onMarkerSetChanged.fire(this)},e.prototype.withoutWatchingEditorPosition=function(e){this._ignoreSelectionChange=!0;try{e()}finally{this._ignoreSelectionChange=!1}},e.prototype._initIdx=function(e){for(var t=!1,n=this._editor.getPosition(),i=0;i<this._markers.length;i++){var o=c.a.lift(this._markers[i]);if(o.isEmpty()){var r=this._editor.getModel().getWordAtPosition(o.getStartPosition());r&&(o=new c.a(o.startLineNumber,r.startColumn,o.startLineNumber,r.endColumn))}if(o.containsPosition(n)||n.isBeforeOrEqual(o.getStartPosition())){this._nextIdx=i,t=!0;break}}t||(this._nextIdx=e?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)},Object.defineProperty(e.prototype,"currentMarker",{get:function(){return this.canNavigate()?this._markers[this._nextIdx]:void 0},enumerable:!0,configurable:!0}),e.prototype.move=function(e,t){if(!this.canNavigate())return this._onCurrentMarkerChanged.fire(void 0),!t;var n=this._nextIdx,i=!1;if(-1===this._nextIdx?this._initIdx(e):e?t||this._nextIdx+1<this._markers.length?this._nextIdx=(this._nextIdx+1)%this._markers.length:i=!0:e||(t||this._nextIdx>0?this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length:i=!0),n!==this._nextIdx){var o=this._markers[this._nextIdx];this._onCurrentMarkerChanged.fire(o)}return i},e.prototype.canNavigate=function(){return this._markers.length>0},e.prototype.findMarkerAtPosition=function(e){for(var t=0,n=this._markers;t<n.length;t++){var i=n[t];if(c.a.containsPosition(i,e))return i}},Object.defineProperty(e.prototype,"total",{get:function(){return this._markers.length},enumerable:!0,configurable:!0}),e.prototype.indexOf=function(e){return 1+this._markers.indexOf(e)},e.prototype.dispose=function(){this._toUnbind=Object(a.d)(this._toUnbind)},e}(),W=function(){function e(e,t,n,i,o){this._markerService=t,this._contextKeyService=n,this._themeService=i,this._editorService=o,this._disposeOnClose=[],this._editor=e,this._widgetVisible=q.bindTo(this._contextKeyService)}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this._cleanUp()},e.prototype._cleanUp=function(){this._widgetVisible.reset(),this._disposeOnClose=Object(a.d)(this._disposeOnClose),this._widget=null,this._model=null},e.prototype.getOrCreateModel=function(){var e=this;if(this._model)return this._model;var t=this._getMarkers();return this._model=new j(this._editor,t),this._markerService.onMarkerChanged(this._onMarkerChanged,this,this._disposeOnClose),this._widget=new x(this._editor,this._themeService),this._widgetVisible.set(!0),this._disposeOnClose.push(this._model),this._disposeOnClose.push(this._widget),this._disposeOnClose.push(this._widget.onDidSelectRelatedInformation(function(t){e._editorService.openCodeEditor({resource:t.resource,options:{pinned:!0,revealIfOpened:!0,selection:c.a.lift(t).collapseToStart()}},e._editor).then(void 0,M.e),e.closeMarkersNavigation(!1)})),this._disposeOnClose.push(this._editor.onDidChangeModel(function(){return e._cleanUp()})),this._disposeOnClose.push(this._model.onCurrentMarkerChanged(function(t){t?e._model.withoutWatchingEditorPosition(function(){e._widget.showAtMarker(t,e._model.indexOf(t),e._model.total)}):e._cleanUp()})),this._disposeOnClose.push(this._model.onMarkerSetChanged(function(){var t=e._model.findMarkerAtPosition(e._widget.position);t?e._widget.updateMarker(t):e._widget.showStale()})),this._model},e.prototype.closeMarkersNavigation=function(e){void 0===e&&(e=!0),this._cleanUp(),e&&this._editor.focus()},e.prototype._onMarkerChanged=function(e){var t=this;e.some(function(e){return t._editor.getModel().uri.toString()===e.toString()})&&this._model.setMarkers(this._getMarkers())},e.prototype._getMarkers=function(){return this._markerService.read({resource:this._editor.getModel().uri,severities:l.b.Error|l.b.Warning|l.b.Info})},e.ID="editor.contrib.markerController",e=R([F(1,l.a),F(2,s.e),F(3,d.c),F(4,A.a)],e)}(),V=function(e){function t(t,n,i){var o=e.call(this,i)||this;return o._isNext=t,o._multiFile=n,o}return P(t,e),t.prototype.run=function(e,n){var i=this,o=e.get(l.a),r=e.get(A.a),a=W.get(n);if(a){var s=a.getOrCreateModel();if(s.move(this._isNext,!this._multiFile)&&this._multiFile){var c=o.read({severities:l.b.Error|l.b.Warning|l.b.Info}).sort(t.compareMarker);if(0!==c.length){var u=s.currentMarker||{resource:n.getModel().uri,severity:l.b.Error,startLineNumber:1,startColumn:1,endLineNumber:1,endColumn:1},d=Object(_.b)(c,u,t.compareMarker);d<0?(d=~d,d%=c.length):d=this._isNext?(d+1)%c.length:(d+c.length-1)%c.length;var h=c[d];if(h.resource.toString()!==n.getModel().uri.toString())return a.closeMarkersNavigation(),r.openCodeEditor({resource:h.resource,options:{pinned:!1,revealIfOpened:!0,revealInCenterIfOutsideViewport:!0,selection:h}},n).then(function(e){if(e)return e.getAction(i.id).run()});s.move(this._isNext,!0)}}}},t.compareMarker=function(e,t){var n=Object(D.compare)(e.resource.toString(),t.resource.toString());return 0===n&&(n=l.b.compare(e.severity,t.severity)),0===n&&(n=c.a.compareRangesUsingStarts(e,t)),n},t}(u.b),B=function(e){function t(){return e.call(this,!0,!1,{id:"editor.action.marker.next",label:o.a("markerAction.next.label","Go to Next Problem (Error, Warning, Info)"),alias:"Go to Next Error or Warning",precondition:h.a.writable})||this}return P(t,e),t}(V),H=function(e){function t(){return e.call(this,!1,!1,{id:"editor.action.marker.prev",label:o.a("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)"),alias:"Go to Previous Error or Warning",precondition:h.a.writable})||this}return P(t,e),t}(V),z=function(e){function t(){return e.call(this,!0,!0,{id:"editor.action.marker.nextInFiles",label:o.a("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Error or Warning in Files",precondition:h.a.writable,kbOpts:{kbExpr:h.a.focus,primary:66,weight:100}})||this}return P(t,e),t}(V),U=function(e){function t(){return e.call(this,!1,!0,{id:"editor.action.marker.prevInFiles",label:o.a("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Error or Warning in Files",precondition:h.a.writable,kbOpts:{kbExpr:h.a.focus,primary:1090,weight:100}})||this}return P(t,e),t}(V);Object(u.h)(W),Object(u.f)(B),Object(u.f)(H),Object(u.f)(z),Object(u.f)(U);var q=new s.f("markersNavigationVisible",!1),G=u.c.bindToContribution(W.get);Object(u.g)(new G({id:"closeMarkersNavigation",precondition:q,handler:function(e){return e.closeMarkersNavigation()},kbOpts:{weight:150,kbExpr:h.a.focus,primary:9,secondary:[1033]}}))},function(e,t,n){"use strict";n.r(t);var i,o=n(0),r=n(11),a=n(2),s=n(26),l=n(6),c=n(3),u=n(92),d=function(){function e(e,t,n){this._editRange=e,this._originalSelection=t,this._text=n}return e.prototype.getEditOperations=function(e,t){t.addTrackedEditOperation(this._editRange,this._text)},e.prototype.computeCursorState=function(e,t){var n=t.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new s.a(n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn),n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn)):new s.a(n.endLineNumber,n.endColumn-this._text.length,n.endLineNumber,n.endColumn)},e}(),h=n(91),f=n(22),p=n(33),m=n(30),g=n(20),b=n(15),y=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),v=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},w=function(e,t){return function(n,i){t(n,i,e)}},_=function(){function e(e,t){this.decorationIds=[],this.editor=e,this.editorWorkerService=t}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.dispose=function(){},e.prototype.getId=function(){return e.ID},e.prototype.run=function(t,n){var i=this;this.currentRequest&&this.currentRequest.cancel();var o=this.editor.getSelection(),r=this.editor.getModel().uri;if(o.startLineNumber!==o.endLineNumber)return null;var l=new h.a(this.editor,5);return this.editorWorkerService.canNavigateValueSet(r)?(this.currentRequest=Object(g.i)(function(e){return i.editorWorkerService.navigateValueSet(r,o,n)}),this.currentRequest.then(function(n){if(n&&n.range&&n.value&&l.validate(i.editor)){var r=a.a.lift(n.range),c=n.range,u=n.value.length-(o.endColumn-o.startColumn);c={startLineNumber:c.startLineNumber,startColumn:c.startColumn,endLineNumber:c.endLineNumber,endColumn:c.startColumn+n.value.length},u>1&&(o=new s.a(o.startLineNumber,o.startColumn,o.endLineNumber,o.endColumn+u-1));var h=new d(r,o,n.value);i.editor.pushUndoStop(),i.editor.executeCommand(t,h),i.editor.pushUndoStop(),i.decorationIds=i.editor.deltaDecorations(i.decorationIds,[{range:c,options:e.DECORATION}]),i.decorationRemover&&i.decorationRemover.cancel(),i.decorationRemover=Object(g.m)(350),i.decorationRemover.then(function(){return i.decorationIds=i.editor.deltaDecorations(i.decorationIds,[])}).catch(b.e)}}).catch(b.e)):void 0},e.ID="editor.contrib.inPlaceReplaceController",e.DECORATION=m.a.register({className:"valueSetReplacement"}),e=v([w(1,u.a)],e)}(),S=function(e){function t(){return e.call(this,{id:"editor.action.inPlaceReplace.up",label:o.a("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:l.a.writable,kbOpts:{kbExpr:l.a.editorTextFocus,primary:3154,weight:100}})||this}return y(t,e),t.prototype.run=function(e,t){var n=_.get(t);if(n)return r.b.wrap(n.run(this.id,!0))},t}(c.b),C=function(e){function t(){return e.call(this,{id:"editor.action.inPlaceReplace.down",label:o.a("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:l.a.writable,kbOpts:{kbExpr:l.a.editorTextFocus,primary:3156,weight:100}})||this}return y(t,e),t.prototype.run=function(e,t){var n=_.get(t);if(n)return r.b.wrap(n.run(this.id,!1))},t}(c.b);Object(c.h)(_),Object(c.f)(S),Object(c.f)(C),Object(f.e)(function(e,t){var n=e.getColor(p.d);n&&t.addRule(".monaco-editor.vs .valueSetReplacement { outline: solid 2px "+n+"; }")})},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i=n(78),o=n(34),r=n(2),a=n(7),s=n(5),l={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0},c=function(){function e(e,t){void 0===t&&(t={});var n=this;this._onDidUpdate=new s.a,this._editor=e,this._options=o.g(t,l,!1),this.disposed=!1,this._disposables=[],this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=this._options.alwaysRevealFirst,this._disposables.push(this._editor.onDidDispose(function(){return n.dispose()})),this._disposables.push(this._editor.onDidUpdateDiff(function(){return n._onDiffUpdated()})),this._options.followsCaret&&this._disposables.push(this._editor.getModifiedEditor().onDidChangeCursorPosition(function(e){n.ignoreSelectionChange||(n.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._disposables.push(this._editor.getModifiedEditor().onDidChangeModel(function(e){n.revealFirst=!0})),this._init()}return e.prototype._init=function(){this._editor.getLineChanges()},e.prototype._onDiffUpdated=function(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&null!==this._editor.getLineChanges()&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))},e.prototype._compute=function(e){var t=this;this.ranges=[],e&&e.forEach(function(e){!t._options.ignoreCharChanges&&e.charChanges?e.charChanges.forEach(function(e){t.ranges.push({rhs:!0,range:new r.a(e.modifiedStartLineNumber,e.modifiedStartColumn,e.modifiedEndLineNumber,e.modifiedEndColumn)})}):t.ranges.push({rhs:!0,range:new r.a(e.modifiedStartLineNumber,1,e.modifiedStartLineNumber,1)})}),this.ranges.sort(function(e,t){return e.range.getStartPosition().isBeforeOrEqual(t.range.getStartPosition())?-1:t.range.getStartPosition().isBeforeOrEqual(e.range.getStartPosition())?1:0}),this._onDidUpdate.fire(this)},e.prototype._initIdx=function(e){for(var t=!1,n=this._editor.getPosition(),i=0,o=this.ranges.length;i<o&&!t;i++){var r=this.ranges[i].range;n.isBeforeOrEqual(r.getStartPosition())&&(this.nextIdx=i+(e?0:-1),t=!0)}t||(this.nextIdx=e?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)},e.prototype._move=function(e,t){if(i.a(!this.disposed,"Illegal State - diff navigator has been disposed"),this.canNavigate()){-1===this.nextIdx?this._initIdx(e):e?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));var n=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{var o=n.range.getStartPosition();this._editor.setPosition(o),this._editor.revealPositionInCenter(o,t)}finally{this.ignoreSelectionChange=!1}}},e.prototype.canNavigate=function(){return this.ranges&&this.ranges.length>0},e.prototype.next=function(e){void 0===e&&(e=0),this._move(!0,e)},e.prototype.previous=function(e){void 0===e&&(e=0),this._move(!1,e)},e.prototype.dispose=function(){Object(a.d)(this._disposables),this._disposables.length=0,this._onDidUpdate.dispose(),this.ranges=null,this.disposed=!0},e}()},function(e,t,n){"use strict";n(439);var i,o=n(0),r=n(20),a=n(7),s=n(34),l=n(1),c=n(32),u=n(94),d=n(25),h=n(13),f=n(39),p=n(2),m=n(55),g=n(92),b=n(118),y=n(70),v=n(152),w=n(72),_=n(57),S=n(116),C=n(5),x=n(31),k=n(22),T=n(8),O=n(157),N=n(30),L=(n(441),n(88)),I=n(10),E=n(82),D=n(33),A=n(76),M=n(80),P=n(3),R=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),F=function(){function e(e,t,n,i){this.originalLineStart=e,this.originalLineEnd=t,this.modifiedLineStart=n,this.modifiedLineEnd=i}return e.prototype.getType=function(){return 0===this.originalLineStart?1:0===this.modifiedLineStart?2:0},e}(),j=function(){return function(e){this.entries=e}}(),W=function(e){function t(t){var n=e.call(this)||this;return n._width=0,n._diffEditor=t,n._isVisible=!1,n.shadow=Object(c.b)(document.createElement("div")),n.shadow.setClassName("diff-review-shadow"),n.actionBarContainer=Object(c.b)(document.createElement("div")),n.actionBarContainer.setClassName("diff-review-actions"),n._actionBar=n._register(new A.a(n.actionBarContainer.domNode)),n._actionBar.push(new M.a("diffreview.close",o.a("label.close","Close"),"close-diff-review",!0,function(){return n.hide(),null}),{label:!1,icon:!0}),n.domNode=Object(c.b)(document.createElement("div")),n.domNode.setClassName("diff-review monaco-editor-background"),n._content=Object(c.b)(document.createElement("div")),n._content.setClassName("diff-review-content"),n.scrollbar=n._register(new E.a(n._content.domNode,{})),n.domNode.domNode.appendChild(n.scrollbar.getDomNode()),n._register(t.onDidUpdateDiff(function(){n._isVisible&&(n._diffs=n._compute(),n._render())})),n._register(t.getModifiedEditor().onDidChangeCursorPosition(function(){n._isVisible&&n._render()})),n._register(t.getOriginalEditor().onDidFocusEditorWidget(function(){n._isVisible&&n.hide()})),n._register(t.getModifiedEditor().onDidFocusEditorWidget(function(){n._isVisible&&n.hide()})),n._register(l.j(n.domNode.domNode,"click",function(e){e.preventDefault();var t=l.p(e.target,"diff-review-row");t&&n._goToRow(t)})),n._register(l.j(n.domNode.domNode,"keydown",function(e){(e.equals(18)||e.equals(2066)||e.equals(530))&&(e.preventDefault(),n._goToRow(n._getNextRow())),(e.equals(16)||e.equals(2064)||e.equals(528))&&(e.preventDefault(),n._goToRow(n._getPrevRow())),(e.equals(9)||e.equals(2057)||e.equals(521)||e.equals(1033))&&(e.preventDefault(),n.hide()),(e.equals(10)||e.equals(3))&&(e.preventDefault(),n.accept())})),n._diffs=[],n._currentDiff=null,n}return R(t,e),t.prototype.prev=function(){var e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){for(var t=-1,n=0,i=this._diffs.length;n<i;n++)if(this._diffs[n]===this._currentDiff){t=n;break}e=this._diffs.length+t-1}else e=this._findDiffIndex(this._diffEditor.getPosition());0!==this._diffs.length&&(e%=this._diffs.length,this._diffEditor.setPosition(new I.a(this._diffs[e].entries[0].modifiedLineStart,1)),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow()))},t.prototype.next=function(){var e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){for(var t=-1,n=0,i=this._diffs.length;n<i;n++)if(this._diffs[n]===this._currentDiff){t=n;break}e=t+1}else e=this._findDiffIndex(this._diffEditor.getPosition());0!==this._diffs.length&&(e%=this._diffs.length,this._diffEditor.setPosition(new I.a(this._diffs[e].entries[0].modifiedLineStart,1)),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow()))},t.prototype.accept=function(){var e=-1,t=this._getCurrentFocusedRow();if(t){var n=parseInt(t.getAttribute("data-line"),10);isNaN(n)||(e=n)}this.hide(),-1!==e&&(this._diffEditor.setPosition(new I.a(e,1)),this._diffEditor.revealPosition(new I.a(e,1),1))},t.prototype.hide=function(){this._isVisible=!1,this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()},t.prototype._getPrevRow=function(){var e=this._getCurrentFocusedRow();return e?e.previousElementSibling?e.previousElementSibling:e:this._getFirstRow()},t.prototype._getNextRow=function(){var e=this._getCurrentFocusedRow();return e?e.nextElementSibling?e.nextElementSibling:e:this._getFirstRow()},t.prototype._getFirstRow=function(){return this.domNode.domNode.querySelector(".diff-review-row")},t.prototype._getCurrentFocusedRow=function(){var e=document.activeElement;return e&&/diff-review-row/.test(e.className)?e:null},t.prototype._goToRow=function(e){var t=this._getCurrentFocusedRow();e.tabIndex=0,e.focus(),t&&t!==e&&(t.tabIndex=-1),this.scrollbar.scanDomNode()},t.prototype.isVisible=function(){return this._isVisible},t.prototype.layout=function(e,t,n){this._width=t,this.shadow.setTop(e-6),this.shadow.setWidth(t),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(e),this.domNode.setWidth(t),this.domNode.setHeight(n),this._content.setHeight(n),this._content.setWidth(t),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))},t.prototype._compute=function(){var e=this._diffEditor.getLineChanges();if(!e||0===e.length)return[];var n=this._diffEditor.getOriginalEditor().getModel(),i=this._diffEditor.getModifiedEditor().getModel();return n&&i?t._mergeAdjacent(e,n.getLineCount(),i.getLineCount()):[]},t._mergeAdjacent=function(e,t,n){if(!e||0===e.length)return[];for(var i=[],o=0,r=0,a=e.length;r<a;r++){var s=e[r],l=s.originalStartLineNumber,c=s.originalEndLineNumber,u=s.modifiedStartLineNumber,d=s.modifiedEndLineNumber,h=[],f=0,p=0===c?l:l-1,m=0===d?u:u-1,g=1,b=1;if(r>0){var y=e[r-1];g=0===y.originalEndLineNumber?y.originalStartLineNumber+1:y.originalEndLineNumber+1,b=0===y.modifiedEndLineNumber?y.modifiedStartLineNumber+1:y.modifiedEndLineNumber+1}var v=p-3+1,w=m-3+1;if(v<g)v+=T=g-v,w+=T;if(w<b)v+=T=b-w,w+=T;h[f++]=new F(v,p,w,m),0!==c&&(h[f++]=new F(l,c,0,0)),0!==d&&(h[f++]=new F(0,0,u,d));var _=0===c?l+1:c+1,S=0===d?u+1:d+1,C=t,x=n;if(r+1<a){var k=e[r+1];C=0===k.originalEndLineNumber?k.originalStartLineNumber:k.originalStartLineNumber-1,x=0===k.modifiedEndLineNumber?k.modifiedStartLineNumber:k.modifiedStartLineNumber-1}var T,O=_+3-1,N=S+3-1;if(O>C)O+=T=C-O,N+=T;if(N>x)O+=T=x-N,N+=T;h[f++]=new F(_,O,S,N),i[o++]=new j(h)}var L=i[0].entries,I=[],E=0;for(r=1,a=i.length;r<a;r++){var D=i[r].entries,A=L[L.length-1],M=D[0];0===A.getType()&&0===M.getType()&&M.originalLineStart<=A.originalLineEnd?(L[L.length-1]=new F(A.originalLineStart,M.originalLineEnd,A.modifiedLineStart,M.modifiedLineEnd),L=L.concat(D.slice(1))):(I[E++]=new j(L),L=D)}return I[E++]=new j(L),I},t.prototype._findDiffIndex=function(e){for(var t=e.lineNumber,n=0,i=this._diffs.length;n<i;n++){var o=this._diffs[n].entries;if(t<=o[o.length-1].modifiedLineEnd)return n}return 0},t.prototype._render=function(){var e=this._diffEditor.getOriginalEditor().getConfiguration(),n=this._diffEditor.getModifiedEditor().getConfiguration(),i=this._diffEditor.getOriginalEditor().getModel(),r=this._diffEditor.getModifiedEditor().getModel(),a=i.getOptions(),s=r.getOptions();if(!this._isVisible||!i||!r)return l.l(this._content.domNode),this._currentDiff=null,void this.scrollbar.scanDomNode();var c=this._diffEditor.getPosition(),u=this._findDiffIndex(c);if(this._diffs[u]!==this._currentDiff){this._currentDiff=this._diffs[u];var d=this._diffs[u].entries,h=document.createElement("div");h.className="diff-review-table",h.setAttribute("role","list"),w.a.applyFontInfoSlow(h,n.fontInfo);for(var f=0,p=0,m=0,g=0,b=0,y=d.length;b<y;b++){var v=(D=d[b]).originalLineStart,_=D.originalLineEnd,S=D.modifiedLineStart,C=D.modifiedLineEnd;0!==v&&(0===f||v<f)&&(f=v),0!==_&&(0===p||_>p)&&(p=_),0!==S&&(0===m||S<m)&&(m=S),0!==C&&(0===g||C>g)&&(g=C)}var x=document.createElement("div");x.className="diff-review-row";var k=document.createElement("div");k.className="diff-review-cell diff-review-summary";var T=p-f+1,O=g-m+1;k.appendChild(document.createTextNode(u+1+"/"+this._diffs.length+": @@ -"+f+","+T+" +"+m+","+O+" @@")),x.setAttribute("data-line",String(m));var N=function(e){return 0===e?o.a("no_lines","no lines"):1===e?o.a("one_line","1 line"):o.a("more_lines","{0} lines",e)},L=N(T),I=N(O);x.setAttribute("aria-label",o.a({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines", "1 line" or "X lines", localized separately.']},"Difference {0} of {1}: original {2}, {3}, modified {4}, {5}",u+1,this._diffs.length,f,L,m,I)),x.appendChild(k),x.setAttribute("role","listitem"),h.appendChild(x);var E=m;for(b=0,y=d.length;b<y;b++){var D=d[b];t._renderSection(h,D,E,this._width,e,i,a,n,r,s),0!==D.modifiedLineStart&&(E=D.modifiedLineEnd)}l.l(this._content.domNode),this._content.domNode.appendChild(h),this.scrollbar.scanDomNode()}},t._renderSection=function(e,t,n,i,r,a,s,l,c,u){var d=t.getType(),h="diff-review-row",f="",p="diff-review-spacer";switch(d){case 1:h="diff-review-row line-insert",f=" char-insert",p="diff-review-spacer insert-sign";break;case 2:h="diff-review-row line-delete",f=" char-delete",p="diff-review-spacer delete-sign"}for(var m=t.originalLineStart,g=t.originalLineEnd,b=t.modifiedLineStart,y=t.modifiedLineEnd,v=Math.max(y-b,g-m),w=r.layoutInfo.glyphMarginWidth+r.layoutInfo.lineNumbersWidth,_=10+l.layoutInfo.glyphMarginWidth+l.layoutInfo.lineNumbersWidth,S=0;S<=v;S++){var C=0===m?0:m+S,x=0===b?0:b+S,k=document.createElement("div");k.style.minWidth=i+"px",k.className=h,k.setAttribute("role","listitem"),0!==x&&(n=x),k.setAttribute("data-line",String(n));var T=document.createElement("div");T.className="diff-review-cell",k.appendChild(T);var O=document.createElement("span");O.style.width=w+"px",O.style.minWidth=w+"px",O.className="diff-review-line-number"+f,0!==C?O.appendChild(document.createTextNode(String(C))):O.innerHTML="&nbsp;",T.appendChild(O);var N=document.createElement("span");N.style.width=_+"px",N.style.minWidth=_+"px",N.style.paddingRight="10px",N.className="diff-review-line-number"+f,0!==x?N.appendChild(document.createTextNode(String(x))):N.innerHTML="&nbsp;",T.appendChild(N);var L=document.createElement("span");L.className=p,L.innerHTML="&nbsp;&nbsp;",T.appendChild(L);var I=void 0;0!==x?(T.insertAdjacentHTML("beforeend",this._renderLine(c,l,u.tabSize,x)),I=c.getLineContent(x)):(T.insertAdjacentHTML("beforeend",this._renderLine(a,r,s.tabSize,C)),I=a.getLineContent(C)),0===I.length&&(I=o.a("blankLine","blank"));var E=void 0;switch(d){case 0:E=o.a("equalLine","original {0}, modified {1}: {2}",C,x,I);break;case 1:E=o.a("insertLine","+ modified {0}: {1}",x,I);break;case 2:E=o.a("deleteLine","- original {0}: {1}",C,I)}k.setAttribute("aria-label",E),e.appendChild(k)}},t._renderLine=function(e,t,n,i){var o=e.getLineContent(i),r=new Uint32Array(2);r[0]=o.length,r[1]=16793600;var a=new L.a(r,o),s=_.d.isBasicASCII(o,e.mightContainNonBasicASCII()),l=_.d.containsRTL(o,s,e.mightContainRTL());return Object(y.d)(new y.b(t.fontInfo.isMonospace&&!t.viewInfo.disableMonospaceOptimizations,o,!1,s,l,0,a,[],n,t.fontInfo.spaceWidth,t.viewInfo.stopRenderingLineAfter,t.viewInfo.renderWhitespace,t.viewInfo.renderControlCharacters,t.viewInfo.fontLigatures)).html},t}(a.a);Object(k.e)(function(e,t){var n=e.getColor(D.q);n&&t.addRule(".monaco-diff-editor .diff-review-line-number { color: "+n+"; }");var i=e.getColor(T.lb);i&&t.addRule(".monaco-diff-editor .diff-review-shadow { box-shadow: "+i+" 0 -6px 6px -6px inset; }")});var V=function(e){function t(){return e.call(this,{id:"editor.action.diffReview.next",label:o.a("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:h.d.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})||this}return R(t,e),t.prototype.run=function(e,t){var n=H(e);n&&n.diffReviewNext()},t}(P.b),B=function(e){function t(){return e.call(this,{id:"editor.action.diffReview.prev",label:o.a("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:h.d.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})||this}return R(t,e),t.prototype.run=function(e,t){var n=H(e);n&&n.diffReviewPrev()},t}(P.b);function H(e){for(var t=e.get(f.a).listDiffEditors(),n=0,i=t.length;n<i;n++){var o=t[n];if(o.hasWidgetFocus())return o}return null}Object(P.f)(V),Object(P.f)(B);var z=n(165),U=n(48),q=n(91);n.d(t,"a",function(){return X});var G=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),K=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},Y=function(e,t){return function(n,i){t(n,i,e)}},Z=function(){function e(){this._zones=[],this._zonesMap={},this._decorations=[]}return e.prototype.getForeignViewZones=function(e){var t=this;return e.filter(function(e){return!t._zonesMap[String(e.id)]})},e.prototype.clean=function(e){var t=this;this._zones.length>0&&e.changeViewZones(function(e){for(var n=0,i=t._zones.length;n<i;n++)e.removeZone(t._zones[n])}),this._zones=[],this._zonesMap={},this._decorations=e.deltaDecorations(this._decorations,[])},e.prototype.apply=function(e,t,n,i){var o=this,r=i?q.b.capture(e):null;e.changeViewZones(function(e){for(var t=0,i=o._zones.length;t<i;t++)e.removeZone(o._zones[t]);o._zones=[],o._zonesMap={};t=0;for(var r=n.zones.length;t<r;t++){n.zones[t].suppressMouseDown=!0;var a=e.addZone(n.zones[t]);o._zones.push(a),o._zonesMap[String(a)]=!0}}),r&&r.restore(e),this._decorations=e.deltaDecorations(this._decorations,n.decorations),t&&t.setZones(n.overviewZones)},e}(),$=0,X=function(e){function t(n,i,o,a,s,u,d,f){var p=e.call(this)||this;p._onDidDispose=p._register(new C.a),p.onDidDispose=p._onDidDispose.event,p._onDidUpdateDiff=p._register(new C.a),p.onDidUpdateDiff=p._onDidUpdateDiff.event,p._lastOriginalWarning=null,p._lastModifiedWarning=null,p._editorWorkerService=o,p._codeEditorService=u,p._contextKeyService=p._register(a.createScoped(n)),p._contextKeyService.createKey("isInDiffEditor",!0),p._themeService=d,p._notificationService=f,p.id=++$,p._domElement=n,i=i||{},p._renderSideBySide=!0,"undefined"!==typeof i.renderSideBySide&&(p._renderSideBySide=i.renderSideBySide),p._ignoreTrimWhitespace=!0,"undefined"!==typeof i.ignoreTrimWhitespace&&(p._ignoreTrimWhitespace=i.ignoreTrimWhitespace),p._renderIndicators=!0,"undefined"!==typeof i.renderIndicators&&(p._renderIndicators=i.renderIndicators),p._originalIsEditable=!1,"undefined"!==typeof i.originalEditable&&(p._originalIsEditable=Boolean(i.originalEditable)),p._updateDecorationsRunner=p._register(new r.c(function(){return p._updateDecorations()},0)),p._containerDomElement=document.createElement("div"),p._containerDomElement.className=t._getClassName(p._themeService.getTheme(),p._renderSideBySide),p._containerDomElement.style.position="relative",p._containerDomElement.style.height="100%",p._domElement.appendChild(p._containerDomElement),p._overviewViewportDomElement=Object(c.b)(document.createElement("div")),p._overviewViewportDomElement.setClassName("diffViewport"),p._overviewViewportDomElement.setPosition("absolute"),p._overviewDomElement=document.createElement("div"),p._overviewDomElement.className="diffOverview",p._overviewDomElement.style.position="absolute",p._overviewDomElement.appendChild(p._overviewViewportDomElement.domNode),p._register(l.j(p._overviewDomElement,"mousedown",function(e){p.modifiedEditor.delegateVerticalScrollbarMouseDown(e)})),p._containerDomElement.appendChild(p._overviewDomElement),p._createLeftHandSide(),p._createRightHandSide(),p._beginUpdateDecorationsTimeout=-1,p._currentlyChangingViewZones=!1,p._diffComputationToken=0,p._originalEditorState=new Z,p._modifiedEditorState=new Z,p._isVisible=!0,p._isHandlingScrollEvent=!1,p._width=0,p._height=0,p._reviewHeight=0,p._lineChanges=null;var m=p._contextKeyService.createScoped();m.createKey("isInDiffLeftEditor",!0);var g=new S.a;g.set(h.e,m);var b=s.createChild(g),y=p._contextKeyService.createScoped();y.createKey("isInDiffRightEditor",!0);var v=new S.a;v.set(h.e,y);var w=s.createChild(v);return p._createLeftHandSideEditor(i,b),p._createRightHandSideEditor(i,w),p._reviewPane=new W(p),p._containerDomElement.appendChild(p._reviewPane.domNode.domNode),p._containerDomElement.appendChild(p._reviewPane.shadow.domNode),p._containerDomElement.appendChild(p._reviewPane.actionBarContainer.domNode),i.automaticLayout&&(p._measureDomElementToken=window.setInterval(function(){return p._measureDomElement(!1)},100)),p._enableSplitViewResizing=!0,"undefined"!==typeof i.enableSplitViewResizing&&(p._enableSplitViewResizing=i.enableSplitViewResizing),p._renderSideBySide?p._setStrategy(new ie(p._createDataSource(),p._enableSplitViewResizing)):p._setStrategy(new re(p._createDataSource(),p._enableSplitViewResizing)),p._register(d.onThemeChange(function(e){p._strategy&&p._strategy.applyColors(e)&&p._updateDecorationsRunner.schedule(),p._containerDomElement.className=t._getClassName(p._themeService.getTheme(),p._renderSideBySide)})),p._codeEditorService.addDiffEditor(p),p}return G(t,e),t.prototype.hasWidgetFocus=function(){return l.B(document.activeElement,this._domElement)},t.prototype.diffReviewNext=function(){this._reviewPane.next()},t.prototype.diffReviewPrev=function(){this._reviewPane.prev()},t._getClassName=function(e,t){var n="monaco-diff-editor monaco-editor-background ";return t&&(n+="side-by-side "),n+=Object(k.d)(e.type)},t.prototype._recreateOverviewRulers=function(){this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalOverviewRuler=this.originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedOverviewRuler=this.modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode()),this._layoutOverviewRulers()},t.prototype._createLeftHandSide=function(){this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode)},t.prototype._createRightHandSide=function(){this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode)},t.prototype._createLeftHandSideEditor=function(e,t){var n=this;this.originalEditor=this._createInnerEditor(t,this._originalDomNode,this._adjustOptionsForLeftHandSide(e,this._originalIsEditable)),this._register(this.originalEditor.onDidScrollChange(function(e){n._isHandlingScrollEvent||(e.scrollTopChanged||e.scrollLeftChanged||e.scrollHeightChanged)&&(n._isHandlingScrollEvent=!0,n.modifiedEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),n._isHandlingScrollEvent=!1,n._layoutOverviewViewport())})),this._register(this.originalEditor.onDidChangeViewZones(function(){n._onViewZonesChanged()})),this._register(this.originalEditor.onDidChangeModelContent(function(){n._isVisible&&n._beginUpdateDecorationsSoon()}))},t.prototype._createRightHandSideEditor=function(e,t){var n=this;this.modifiedEditor=this._createInnerEditor(t,this._modifiedDomNode,this._adjustOptionsForRightHandSide(e)),this._register(this.modifiedEditor.onDidScrollChange(function(e){n._isHandlingScrollEvent||(e.scrollTopChanged||e.scrollLeftChanged||e.scrollHeightChanged)&&(n._isHandlingScrollEvent=!0,n.originalEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),n._isHandlingScrollEvent=!1,n._layoutOverviewViewport())})),this._register(this.modifiedEditor.onDidChangeViewZones(function(){n._onViewZonesChanged()})),this._register(this.modifiedEditor.onDidChangeConfiguration(function(e){e.fontInfo&&n.modifiedEditor.getModel()&&n._onViewZonesChanged()})),this._register(this.modifiedEditor.onDidChangeModelContent(function(){n._isVisible&&n._beginUpdateDecorationsSoon()}))},t.prototype._createInnerEditor=function(e,t,n){return e.createInstance(v.a,t,n,{})},t.prototype.dispose=function(){this._codeEditorService.removeDiffEditor(this),-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),window.clearInterval(this._measureDomElementToken),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this.originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this.modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),e.prototype.dispose.call(this)},t.prototype.getId=function(){return this.getEditorType()+":"+this.id},t.prototype.getEditorType=function(){return m.a.IDiffEditor},t.prototype.getLineChanges=function(){return this._lineChanges},t.prototype.getOriginalEditor=function(){return this.originalEditor},t.prototype.getModifiedEditor=function(){return this.modifiedEditor},t.prototype.updateOptions=function(e){var n=!1;"undefined"!==typeof e.renderSideBySide&&this._renderSideBySide!==e.renderSideBySide&&(this._renderSideBySide=e.renderSideBySide,n=!0);var i=!1;"undefined"!==typeof e.ignoreTrimWhitespace&&this._ignoreTrimWhitespace!==e.ignoreTrimWhitespace&&(this._ignoreTrimWhitespace=e.ignoreTrimWhitespace,i=!0),"undefined"!==typeof e.renderIndicators&&this._renderIndicators!==e.renderIndicators&&(this._renderIndicators=e.renderIndicators,i=!0),i&&this._beginUpdateDecorations(),"undefined"!==typeof e.originalEditable&&(this._originalIsEditable=Boolean(e.originalEditable)),this.modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(e)),this.originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(e,this._originalIsEditable)),"undefined"!==typeof e.enableSplitViewResizing&&(this._enableSplitViewResizing=e.enableSplitViewResizing),this._strategy.setEnableSplitViewResizing(this._enableSplitViewResizing),n&&(this._renderSideBySide?this._setStrategy(new ie(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new re(this._createDataSource(),this._enableSplitViewResizing)),this._containerDomElement.className=t._getClassName(this._themeService.getTheme(),this._renderSideBySide))},t.prototype.getModel=function(){return{original:this.originalEditor.getModel(),modified:this.modifiedEditor.getModel()}},t.prototype.setModel=function(e){if(e&&(!e.original||!e.modified))throw new Error(e.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this.originalEditor.setModel(e?e.original:null),this.modifiedEditor.setModel(e?e.modified:null),this._updateDecorationsRunner.cancel(),e&&(this.originalEditor.setScrollTop(0),this.modifiedEditor.setScrollTop(0)),this._lineChanges=null,this._diffComputationToken++,e?(this._recreateOverviewRulers(),this._beginUpdateDecorations()):this._lineChanges=null,this._layoutOverviewViewport()},t.prototype.getDomNode=function(){return this._domElement},t.prototype.getVisibleColumnFromPosition=function(e){return this.modifiedEditor.getVisibleColumnFromPosition(e)},t.prototype.getPosition=function(){return this.modifiedEditor.getPosition()},t.prototype.setPosition=function(e){this.modifiedEditor.setPosition(e)},t.prototype.revealLine=function(e,t){void 0===t&&(t=0),this.modifiedEditor.revealLine(e,t)},t.prototype.revealLineInCenter=function(e,t){void 0===t&&(t=0),this.modifiedEditor.revealLineInCenter(e,t)},t.prototype.revealLineInCenterIfOutsideViewport=function(e,t){void 0===t&&(t=0),this.modifiedEditor.revealLineInCenterIfOutsideViewport(e,t)},t.prototype.revealPosition=function(e,t){void 0===t&&(t=0),this.modifiedEditor.revealPosition(e,t)},t.prototype.revealPositionInCenter=function(e,t){void 0===t&&(t=0),this.modifiedEditor.revealPositionInCenter(e,t)},t.prototype.revealPositionInCenterIfOutsideViewport=function(e,t){void 0===t&&(t=0),this.modifiedEditor.revealPositionInCenterIfOutsideViewport(e,t)},t.prototype.getSelection=function(){return this.modifiedEditor.getSelection()},t.prototype.getSelections=function(){return this.modifiedEditor.getSelections()},t.prototype.setSelection=function(e){this.modifiedEditor.setSelection(e)},t.prototype.setSelections=function(e){this.modifiedEditor.setSelections(e)},t.prototype.revealLines=function(e,t,n){void 0===n&&(n=0),this.modifiedEditor.revealLines(e,t,n)},t.prototype.revealLinesInCenter=function(e,t,n){void 0===n&&(n=0),this.modifiedEditor.revealLinesInCenter(e,t,n)},t.prototype.revealLinesInCenterIfOutsideViewport=function(e,t,n){void 0===n&&(n=0),this.modifiedEditor.revealLinesInCenterIfOutsideViewport(e,t,n)},t.prototype.revealRange=function(e,t,n,i){void 0===t&&(t=0),void 0===n&&(n=!1),void 0===i&&(i=!0),this.modifiedEditor.revealRange(e,t,n,i)},t.prototype.revealRangeInCenter=function(e,t){void 0===t&&(t=0),this.modifiedEditor.revealRangeInCenter(e,t)},t.prototype.revealRangeInCenterIfOutsideViewport=function(e,t){void 0===t&&(t=0),this.modifiedEditor.revealRangeInCenterIfOutsideViewport(e,t)},t.prototype.revealRangeAtTop=function(e,t){void 0===t&&(t=0),this.modifiedEditor.revealRangeAtTop(e,t)},t.prototype.getSupportedActions=function(){return this.modifiedEditor.getSupportedActions()},t.prototype.saveViewState=function(){return{original:this.originalEditor.saveViewState(),modified:this.modifiedEditor.saveViewState()}},t.prototype.restoreViewState=function(e){if(e.original&&e.original){var t=e;this.originalEditor.restoreViewState(t.original),this.modifiedEditor.restoreViewState(t.modified)}},t.prototype.layout=function(e){this._measureDomElement(!1,e)},t.prototype.focus=function(){this.modifiedEditor.focus()},t.prototype.hasTextFocus=function(){return this.originalEditor.hasTextFocus()||this.modifiedEditor.hasTextFocus()},t.prototype.trigger=function(e,t,n){this.modifiedEditor.trigger(e,t,n)},t.prototype.changeDecorations=function(e){return this.modifiedEditor.changeDecorations(e)},t.prototype._measureDomElement=function(e,t){if((t=t||{width:this._containerDomElement.clientWidth,height:this._containerDomElement.clientHeight}).width<=0)return this._width=0,this._height=0,void(this._reviewHeight=0);(e||t.width!==this._width||t.height!==this._height)&&(this._width=t.width,this._height=t.height,this._reviewHeight=this._reviewPane.isVisible()?this._height:0,this._doLayout())},t.prototype._layoutOverviewRulers=function(){var e=t.ENTIRE_DIFF_OVERVIEW_WIDTH-2*t.ONE_OVERVIEW_WIDTH;this.modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:t.ONE_OVERVIEW_WIDTH,right:e+t.ONE_OVERVIEW_WIDTH,height:this._height-this._reviewHeight}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:t.ONE_OVERVIEW_WIDTH,height:this._height-this._reviewHeight}))},t.prototype._onViewZonesChanged=function(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()},t.prototype._beginUpdateDecorationsSoon=function(){var e=this;-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(function(){return e._beginUpdateDecorations()},t.UPDATE_DIFF_DECORATIONS_DELAY)},t._equals=function(e,t){return!e&&!t||!(!e||!t)&&e.toString()===t.toString()},t.prototype._beginUpdateDecorations=function(){var e=this;this._beginUpdateDecorationsTimeout=-1;var n=this.originalEditor.getModel(),i=this.modifiedEditor.getModel();if(n&&i){this._diffComputationToken++;var r=this._diffComputationToken;this._editorWorkerService.canComputeDiff(n.uri,i.uri)?this._editorWorkerService.computeDiff(n.uri,i.uri,this._ignoreTrimWhitespace).then(function(t){r===e._diffComputationToken&&n===e.originalEditor.getModel()&&i===e.modifiedEditor.getModel()&&(e._lineChanges=t,e._updateDecorationsRunner.schedule(),e._onDidUpdateDiff.fire())},function(t){r===e._diffComputationToken&&n===e.originalEditor.getModel()&&i===e.modifiedEditor.getModel()&&(e._lineChanges=null,e._updateDecorationsRunner.schedule())}):t._equals(n.uri,this._lastOriginalWarning)&&t._equals(i.uri,this._lastModifiedWarning)||(this._lastOriginalWarning=n.uri,this._lastModifiedWarning=i.uri,this._notificationService.warn(o.a("diff.tooLarge","Cannot compare files because one file is too large.")))}},t.prototype._cleanViewZonesAndDecorations=function(){this._originalEditorState.clean(this.originalEditor),this._modifiedEditorState.clean(this.modifiedEditor)},t.prototype._updateDecorations=function(){if(this.originalEditor.getModel()&&this.modifiedEditor.getModel()){var e=this._lineChanges||[],t=this._originalEditorState.getForeignViewZones(this.originalEditor.getWhitespaces()),n=this._modifiedEditorState.getForeignViewZones(this.modifiedEditor.getWhitespaces()),i=this._strategy.getEditorsDiffDecorations(e,this._ignoreTrimWhitespace,this._renderIndicators,t,n,this.originalEditor,this.modifiedEditor);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this.originalEditor,this._originalOverviewRuler,i.original,!1),this._modifiedEditorState.apply(this.modifiedEditor,this._modifiedOverviewRuler,i.modified,!0)}finally{this._currentlyChangingViewZones=!1}}},t.prototype._adjustOptionsForSubEditor=function(e){var t=s.c(e||{});return t.inDiffEditor=!0,t.wordWrap="off",t.wordWrapMinified=!1,t.automaticLayout=!1,t.scrollbar=t.scrollbar||{},t.scrollbar.vertical="visible",t.folding=!1,t.codeLens=!1,t.fixedOverflowWidgets=!0,t.lineDecorationsWidth="2ch",t.minimap||(t.minimap={}),t.minimap.enabled=!1,t},t.prototype._adjustOptionsForLeftHandSide=function(e,t){var n=this._adjustOptionsForSubEditor(e);return n.readOnly=!t,n.overviewRulerLanes=1,n.extraEditorClassName="original-in-monaco-diff-editor",n},t.prototype._adjustOptionsForRightHandSide=function(e){var n=this._adjustOptionsForSubEditor(e);return n.revealHorizontalRightPadding=x.a.viewInfo.revealHorizontalRightPadding+t.ENTIRE_DIFF_OVERVIEW_WIDTH,n.scrollbar.verticalHasArrows=!1,n.extraEditorClassName="modified-in-monaco-diff-editor",n},t.prototype.doLayout=function(){this._measureDomElement(!0)},t.prototype._doLayout=function(){var e=this._strategy.layout();this._originalDomNode.style.width=e+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=this._width-e+"px",this._modifiedDomNode.style.left=e+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=this._height-this._reviewHeight+"px",this._overviewDomElement.style.width=t.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=this._width-t.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(t.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this.originalEditor.layout({width:e,height:this._height-this._reviewHeight}),this.modifiedEditor.layout({width:this._width-e-t.ENTIRE_DIFF_OVERVIEW_WIDTH,height:this._height-this._reviewHeight}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(this._height-this._reviewHeight,this._width,this._reviewHeight),this._layoutOverviewViewport()},t.prototype._layoutOverviewViewport=function(){var e=this._computeOverviewViewport();e?(this._overviewViewportDomElement.setTop(e.top),this._overviewViewportDomElement.setHeight(e.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))},t.prototype._computeOverviewViewport=function(){var e=this.modifiedEditor.getLayoutInfo();if(!e)return null;var t=this.modifiedEditor.getScrollTop(),n=this.modifiedEditor.getScrollHeight(),i=Math.max(0,e.contentHeight),o=Math.max(0,i-0),r=n>0?o/n:0;return{height:Math.max(0,Math.floor(e.contentHeight*r)),top:Math.floor(t*r)}},t.prototype._createDataSource=function(){var e=this;return{getWidth:function(){return e._width},getHeight:function(){return e._height-e._reviewHeight},getContainerDomNode:function(){return e._containerDomElement},relayoutEditors:function(){e._doLayout()},getOriginalEditor:function(){return e.originalEditor},getModifiedEditor:function(){return e.modifiedEditor}}},t.prototype._setStrategy=function(e){this._strategy&&this._strategy.dispose(),this._strategy=e,e.applyColors(this._themeService.getTheme()),this._lineChanges&&this._updateDecorations(),this._measureDomElement(!0)},t.prototype._getLineChangeAtOrBeforeLineNumber=function(e,t){if(0===this._lineChanges.length||e<t(this._lineChanges[0]))return null;for(var n=0,i=this._lineChanges.length-1;n<i;){var o=Math.floor((n+i)/2),r=t(this._lineChanges[o]),a=o+1<=i?t(this._lineChanges[o+1]):Number.MAX_VALUE;e<r?i=o-1:e>=a?n=o+1:(n=o,i=o)}return this._lineChanges[n]},t.prototype._getEquivalentLineForOriginalLineNumber=function(e){var t=this._getLineChangeAtOrBeforeLineNumber(e,function(e){return e.originalStartLineNumber});if(!t)return e;var n=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),i=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),o=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,r=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,a=e-n;return a<=o?i+Math.min(a,r):i+r-o+a},t.prototype._getEquivalentLineForModifiedLineNumber=function(e){var t=this._getLineChangeAtOrBeforeLineNumber(e,function(e){return e.modifiedStartLineNumber});if(!t)return e;var n=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),i=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),o=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,r=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,a=e-i;return a<=r?n+Math.min(a,o):n+o-r+a},t.prototype.getDiffLineInformationForOriginal=function(e){return this._lineChanges?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(e)}:null},t.prototype.getDiffLineInformationForModified=function(e){return this._lineChanges?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(e)}:null},t.ONE_OVERVIEW_WIDTH=15,t.ENTIRE_DIFF_OVERVIEW_WIDTH=30,t.UPDATE_DIFF_DECORATIONS_DELAY=200,t=K([Y(2,g.a),Y(3,h.e),Y(4,d.a),Y(5,f.a),Y(6,k.c),Y(7,U.a)],t)}(a.a),Q=function(e){function t(t){var n=e.call(this)||this;return n._dataSource=t,n}return G(t,e),t.prototype.applyColors=function(e){var t=(e.getColor(T.i)||T.f).transparent(2),n=(e.getColor(T.k)||T.g).transparent(2),i=!t.equals(this._insertColor)||!n.equals(this._removeColor);return this._insertColor=t,this._removeColor=n,i},t.prototype.getEditorsDiffDecorations=function(e,t,n,i,o,r,a){o=o.sort(function(e,t){return e.afterLineNumber-t.afterLineNumber}),i=i.sort(function(e,t){return e.afterLineNumber-t.afterLineNumber});var s=this._getViewZones(e,i,o,r,a,n),l=this._getOriginalEditorDecorations(e,t,n,r,a),c=this._getModifiedEditorDecorations(e,t,n,r,a);return{original:{decorations:l.decorations,overviewZones:l.overviewZones,zones:s.original},modified:{decorations:c.decorations,overviewZones:c.overviewZones,zones:s.modified}}},t}(a.a),J=function(){function e(e){this._source=e,this._index=-1,this.advance()}return e.prototype.advance=function(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null},e}(),ee=function(){function e(e,t,n){this.lineChanges=e,this.originalForeignVZ=t,this.modifiedForeignVZ=n}return e.prototype.getViewZones=function(){for(var e={original:[],modified:[]},t=0,n=0,i=0,o=0,r=0,a=0,s=function(e,t){return e.afterLineNumber-t.afterLineNumber},l=function(e,t){if(null===t.domNode&&e.length>0){var n=e[e.length-1];if(n.afterLineNumber===t.afterLineNumber&&null===n.domNode)return void(n.heightInLines+=t.heightInLines)}e.push(t)},c=new J(this.modifiedForeignVZ),u=new J(this.originalForeignVZ),d=0,h=this.lineChanges.length;d<=h;d++){var f=d<h?this.lineChanges[d]:null;null!==f?(i=f.originalStartLineNumber+(f.originalEndLineNumber>0?-1:0),o=f.modifiedStartLineNumber+(f.modifiedEndLineNumber>0?-1:0),n=f.originalEndLineNumber>0?f.originalEndLineNumber-f.originalStartLineNumber+1:0,t=f.modifiedEndLineNumber>0?f.modifiedEndLineNumber-f.modifiedStartLineNumber+1:0,r=Math.max(f.originalStartLineNumber,f.originalEndLineNumber),a=Math.max(f.modifiedStartLineNumber,f.modifiedEndLineNumber)):(r=i+=1e7+n,a=o+=1e7+t);for(var p,m=[],g=[];c.current&&c.current.afterLineNumber<=a;){var b=void 0;b=c.current.afterLineNumber<=o?i-o+c.current.afterLineNumber:r,m.push({afterLineNumber:b,heightInLines:c.current.heightInLines,domNode:null}),c.advance()}for(;u.current&&u.current.afterLineNumber<=r;){b=void 0;b=u.current.afterLineNumber<=i?o-i+u.current.afterLineNumber:a,g.push({afterLineNumber:b,heightInLines:u.current.heightInLines,domNode:null}),u.advance()}if(null!==f&&se(f))(p=this._produceOriginalFromDiff(f,n,t))&&m.push(p);if(null!==f&&le(f))(p=this._produceModifiedFromDiff(f,n,t))&&g.push(p);var y=0,v=0;for(m=m.sort(s),g=g.sort(s);y<m.length&&v<g.length;){var w=m[y],_=g[v],S=w.afterLineNumber-i,C=_.afterLineNumber-o;S<C?(l(e.original,w),y++):C<S?(l(e.modified,_),v++):w.shouldNotShrink?(l(e.original,w),y++):_.shouldNotShrink?(l(e.modified,_),v++):w.heightInLines>=_.heightInLines?(w.heightInLines-=_.heightInLines,v++):(_.heightInLines-=w.heightInLines,y++)}for(;y<m.length;)l(e.original,m[y]),y++;for(;v<g.length;)l(e.modified,g[v]),v++}var x=function(e){var t;e.domNode||(e.domNode=((t=document.createElement("div")).className="diagonal-fill",t))};return e.original.forEach(x),e.modified.forEach(x),e},e}();function te(e,t,n,i,o){return{range:new p.a(e,t,n,i),options:o}}var ne={charDelete:N.a.register({className:"char-delete"}),charDeleteWholeLine:N.a.register({className:"char-delete",isWholeLine:!0}),charInsert:N.a.register({className:"char-insert"}),charInsertWholeLine:N.a.register({className:"char-insert",isWholeLine:!0}),lineInsert:N.a.register({className:"line-insert",marginClassName:"line-insert",isWholeLine:!0}),lineInsertWithSign:N.a.register({className:"line-insert",linesDecorationsClassName:"insert-sign",marginClassName:"line-insert",isWholeLine:!0}),lineDelete:N.a.register({className:"line-delete",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteWithSign:N.a.register({className:"line-delete",linesDecorationsClassName:"delete-sign",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteMargin:N.a.register({marginClassName:"line-delete"})},ie=function(e){function t(t,n){var i=e.call(this,t)||this;return i._disableSash=!1===n,i._sashRatio=null,i._sashPosition=null,i._sash=i._register(new u.b(i._dataSource.getContainerDomNode(),i)),i._disableSash&&(i._sash.state=u.c.Disabled),i._sash.onDidStart(function(){return i.onSashDragStart()}),i._sash.onDidChange(function(e){return i.onSashDrag(e)}),i._sash.onDidEnd(function(){return i.onSashDragEnd()}),i._sash.onDidReset(function(){return i.onSashReset()}),i}return G(t,e),t.prototype.setEnableSplitViewResizing=function(e){var t=!1===e;this._disableSash!==t&&(this._disableSash=t,this._sash.state=this._disableSash?u.c.Disabled:u.c.Enabled)},t.prototype.layout=function(e){void 0===e&&(e=this._sashRatio);var n=this._dataSource.getWidth()-X.ENTIRE_DIFF_OVERVIEW_WIDTH,i=Math.floor((e||.5)*n),o=Math.floor(.5*n);return i=this._disableSash?o:i||o,n>2*t.MINIMUM_EDITOR_WIDTH?(i<t.MINIMUM_EDITOR_WIDTH&&(i=t.MINIMUM_EDITOR_WIDTH),i>n-t.MINIMUM_EDITOR_WIDTH&&(i=n-t.MINIMUM_EDITOR_WIDTH)):i=o,this._sashPosition!==i&&(this._sashPosition=i,this._sash.layout()),this._sashPosition},t.prototype.onSashDragStart=function(){this._startSashPosition=this._sashPosition},t.prototype.onSashDrag=function(e){var t=this._dataSource.getWidth()-X.ENTIRE_DIFF_OVERVIEW_WIDTH,n=this.layout((this._startSashPosition+(e.currentX-e.startX))/t);this._sashRatio=n/t,this._dataSource.relayoutEditors()},t.prototype.onSashDragEnd=function(){this._sash.layout()},t.prototype.onSashReset=function(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()},t.prototype.getVerticalSashTop=function(e){return 0},t.prototype.getVerticalSashLeft=function(e){return this._sashPosition},t.prototype.getVerticalSashHeight=function(e){return this._dataSource.getHeight()},t.prototype._getViewZones=function(e,t,n,i,o){return new oe(e,t,n).getViewZones()},t.prototype._getOriginalEditorDecorations=function(e,t,n,i,o){for(var r=this._removeColor.toString(),a={decorations:[],overviewZones:[]},s=i.getModel(),l=0,c=e.length;l<c;l++){var u=e[l];if(le(u)&&(a.decorations.push({range:new p.a(u.originalStartLineNumber,1,u.originalEndLineNumber,Number.MAX_VALUE),options:n?ne.lineDeleteWithSign:ne.lineDelete}),se(u)&&u.charChanges||a.decorations.push(te(u.originalStartLineNumber,1,u.originalEndLineNumber,Number.MAX_VALUE,ne.charDeleteWholeLine)),a.overviewZones.push(new O.a(u.originalStartLineNumber,u.originalEndLineNumber,r)),u.charChanges))for(var d=0,h=u.charChanges.length;d<h;d++){var f=u.charChanges[d];if(le(f))if(t)for(var m=f.originalStartLineNumber;m<=f.originalEndLineNumber;m++){var g=void 0,b=void 0;g=m===f.originalStartLineNumber?f.originalStartColumn:s.getLineFirstNonWhitespaceColumn(m),b=m===f.originalEndLineNumber?f.originalEndColumn:s.getLineLastNonWhitespaceColumn(m),a.decorations.push(te(m,g,m,b,ne.charDelete))}else a.decorations.push(te(f.originalStartLineNumber,f.originalStartColumn,f.originalEndLineNumber,f.originalEndColumn,ne.charDelete))}}return a},t.prototype._getModifiedEditorDecorations=function(e,t,n,i,o){for(var r=this._insertColor.toString(),a={decorations:[],overviewZones:[]},s=o.getModel(),l=0,c=e.length;l<c;l++){var u=e[l];if(se(u)&&(a.decorations.push({range:new p.a(u.modifiedStartLineNumber,1,u.modifiedEndLineNumber,Number.MAX_VALUE),options:n?ne.lineInsertWithSign:ne.lineInsert}),le(u)&&u.charChanges||a.decorations.push(te(u.modifiedStartLineNumber,1,u.modifiedEndLineNumber,Number.MAX_VALUE,ne.charInsertWholeLine)),a.overviewZones.push(new O.a(u.modifiedStartLineNumber,u.modifiedEndLineNumber,r)),u.charChanges))for(var d=0,h=u.charChanges.length;d<h;d++){var f=u.charChanges[d];if(se(f))if(t)for(var m=f.modifiedStartLineNumber;m<=f.modifiedEndLineNumber;m++){var g=void 0,b=void 0;g=m===f.modifiedStartLineNumber?f.modifiedStartColumn:s.getLineFirstNonWhitespaceColumn(m),b=m===f.modifiedEndLineNumber?f.modifiedEndColumn:s.getLineLastNonWhitespaceColumn(m),a.decorations.push(te(m,g,m,b,ne.charInsert))}else a.decorations.push(te(f.modifiedStartLineNumber,f.modifiedStartColumn,f.modifiedEndLineNumber,f.modifiedEndColumn,ne.charInsert))}}return a},t.MINIMUM_EDITOR_WIDTH=100,t}(Q),oe=function(e){function t(t,n,i){return e.call(this,t,n,i)||this}return G(t,e),t.prototype._produceOriginalFromDiff=function(e,t,n){return n>t?{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:n-t,domNode:null}:null},t.prototype._produceModifiedFromDiff=function(e,t,n){return t>n?{afterLineNumber:Math.max(e.modifiedStartLineNumber,e.modifiedEndLineNumber),heightInLines:t-n,domNode:null}:null},t}(ee),re=function(e){function t(t,n){var i=e.call(this,t)||this;return i.decorationsLeft=t.getOriginalEditor().getLayoutInfo().decorationsLeft,i._register(t.getOriginalEditor().onDidLayoutChange(function(e){i.decorationsLeft!==e.decorationsLeft&&(i.decorationsLeft=e.decorationsLeft,t.relayoutEditors())})),i}return G(t,e),t.prototype.setEnableSplitViewResizing=function(e){},t.prototype._getViewZones=function(e,t,n,i,o,r){return new ae(e,t,n,i,o,r).getViewZones()},t.prototype._getOriginalEditorDecorations=function(e,t,n,i,o){for(var r=this._removeColor.toString(),a={decorations:[],overviewZones:[]},s=0,l=e.length;s<l;s++){var c=e[s];le(c)&&(a.decorations.push({range:new p.a(c.originalStartLineNumber,1,c.originalEndLineNumber,Number.MAX_VALUE),options:ne.lineDeleteMargin}),a.overviewZones.push(new O.a(c.originalStartLineNumber,c.originalEndLineNumber,r)))}return a},t.prototype._getModifiedEditorDecorations=function(e,t,n,i,o){for(var r=this._insertColor.toString(),a={decorations:[],overviewZones:[]},s=o.getModel(),l=0,c=e.length;l<c;l++){var u=e[l];if(se(u))if(a.decorations.push({range:new p.a(u.modifiedStartLineNumber,1,u.modifiedEndLineNumber,Number.MAX_VALUE),options:n?ne.lineInsertWithSign:ne.lineInsert}),a.overviewZones.push(new O.a(u.modifiedStartLineNumber,u.modifiedEndLineNumber,r)),u.charChanges)for(var d=0,h=u.charChanges.length;d<h;d++){var f=u.charChanges[d];if(se(f))if(t)for(var m=f.modifiedStartLineNumber;m<=f.modifiedEndLineNumber;m++){var g=void 0,b=void 0;g=m===f.modifiedStartLineNumber?f.modifiedStartColumn:s.getLineFirstNonWhitespaceColumn(m),b=m===f.modifiedEndLineNumber?f.modifiedEndColumn:s.getLineLastNonWhitespaceColumn(m),a.decorations.push(te(m,g,m,b,ne.charInsert))}else a.decorations.push(te(f.modifiedStartLineNumber,f.modifiedStartColumn,f.modifiedEndLineNumber,f.modifiedEndColumn,ne.charInsert))}else a.decorations.push(te(u.modifiedStartLineNumber,1,u.modifiedEndLineNumber,Number.MAX_VALUE,ne.charInsertWholeLine))}return a},t.prototype.layout=function(){return Math.max(5,this.decorationsLeft)},t}(Q),ae=function(e){function t(t,n,i,o,r,a){var s=e.call(this,t,n,i)||this;return s.originalModel=o.getModel(),s.modifiedEditorConfiguration=r.getConfiguration(),s.modifiedEditorTabSize=r.getModel().getOptions().tabSize,s.renderIndicators=a,s}return G(t,e),t.prototype._produceOriginalFromDiff=function(e,t,n){var i=document.createElement("div");return i.className="inline-added-margin-view-zone",w.a.applyFontInfoSlow(i,this.modifiedEditorConfiguration.fontInfo),{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:n,domNode:document.createElement("div"),marginDomNode:i}},t.prototype._produceModifiedFromDiff=function(e,t,n){var i=[];if(e.charChanges)for(var o=0,r=e.charChanges.length;o<r;o++){var a=e.charChanges[o];le(a)&&i.push(new _.a(new p.a(a.originalStartLineNumber,a.originalStartColumn,a.originalEndLineNumber,a.originalEndColumn),"char-delete",0))}for(var s=Object(z.a)(1e4),l=[],c=this.modifiedEditorConfiguration.layoutInfo.decorationsWidth,u=this.modifiedEditorConfiguration.lineHeight,d=this.modifiedEditorConfiguration.fontInfo.typicalHalfwidthCharacterWidth,h=0,f=e.originalStartLineNumber;f<=e.originalEndLineNumber;f++)if(h=Math.max(h,this._renderOriginalLine(f-e.originalStartLineNumber,this.originalModel,this.modifiedEditorConfiguration,this.modifiedEditorTabSize,f,i,s)),this.renderIndicators){var m=f-e.originalStartLineNumber;l=l.concat(['<div class="delete-sign" style="position:absolute;top:'+m*u+"px;width:"+c+"px;height:"+u+'px;right:0;"></div>'])}h+=this.modifiedEditorConfiguration.viewInfo.scrollBeyondLastColumn;var g=document.createElement("div");g.className="view-lines line-delete",g.innerHTML=s.build(),w.a.applyFontInfoSlow(g,this.modifiedEditorConfiguration.fontInfo);var b=document.createElement("div");return b.className="inline-deleted-margin-view-zone",b.innerHTML=l.join(""),w.a.applyFontInfoSlow(b,this.modifiedEditorConfiguration.fontInfo),{shouldNotShrink:!0,afterLineNumber:0===e.modifiedEndLineNumber?e.modifiedStartLineNumber:e.modifiedStartLineNumber-1,heightInLines:t,minWidthInPx:h*d,domNode:g,marginDomNode:b}},t.prototype._renderOriginalLine=function(e,t,n,i,o,r,a){var s=t.getLineTokens(o),l=s.getLineContent(),c=b.a.filter(r,o,1,l.length+1);a.appendASCIIString('<div class="view-line'),0===r.length&&a.appendASCIIString(" char-delete"),a.appendASCIIString('" style="top:'),a.appendASCIIString(String(e*n.lineHeight)),a.appendASCIIString('px;width:1000000px;">');var u=_.d.isBasicASCII(l,t.mightContainNonBasicASCII()),d=_.d.containsRTL(l,u,t.mightContainRTL()),h=Object(y.c)(new y.b(n.fontInfo.isMonospace&&!n.viewInfo.disableMonospaceOptimizations,l,!1,u,d,0,s,c,i,n.fontInfo.spaceWidth,n.viewInfo.stopRenderingLineAfter,n.viewInfo.renderWhitespace,n.viewInfo.renderControlCharacters,n.viewInfo.fontLigatures),a);a.appendASCIIString("</div>");var f=h.characterMapping.getAbsoluteOffsets();return f.length>0?f[f.length-1]:0},t}(ee);function se(e){return e.modifiedEndLineNumber>0}function le(e){return e.originalEndLineNumber>0}Object(k.e)(function(e,t){var n=e.getColor(T.i);n&&(t.addRule(".monaco-editor .line-insert, .monaco-editor .char-insert { background-color: "+n+"; }"),t.addRule(".monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: "+n+"; }"),t.addRule(".monaco-editor .inline-added-margin-view-zone { background-color: "+n+"; }"));var i=e.getColor(T.k);i&&(t.addRule(".monaco-editor .line-delete, .monaco-editor .char-delete { background-color: "+i+"; }"),t.addRule(".monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: "+i+"; }"),t.addRule(".monaco-editor .inline-deleted-margin-view-zone { background-color: "+i+"; }"));var o=e.getColor(T.j);o&&t.addRule(".monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px "+("hc"===e.type?"dashed":"solid")+" "+o+"; }");var r=e.getColor(T.l);r&&t.addRule(".monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px "+("hc"===e.type?"dashed":"solid")+" "+r+"; }");var a=e.getColor(T.lb);a&&t.addRule(".monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px "+a+"; }");var s=e.getColor(T.h);s&&t.addRule(".monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid "+s+"; }")})},function(e,t){var n,i,o=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:r}catch(e){n=r}try{i="function"===typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var l,c=[],u=!1,d=-1;function h(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&f())}function f(){if(!u){var e=s(h);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||u||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(448),n(218),n(226),n(227),n(302),n(225),n(229),n(232),n(231);var i=n(135);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MonacoDiffEditor=t.default=void 0;var i=r(n(449)),o=r(n(450));function r(e){return e&&e.__esModule?e:{default:e}}t.default=i.default,t.MonacoDiffEditor=o.default},function(e,t,n){e.exports=n.p+"static/media/logo.729a4eef.svg"},function(e,t,n){e.exports=function(){"use strict";var e=["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"],t=["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"],n=["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"],i=["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmuliscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mpspace","msqrt","mystyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"],o=["#text"],r=["accept","action","align","alt","autocomplete","background","bgcolor","border","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","coords","crossorigin","datetime","default","dir","disabled","download","enctype","face","for","headers","height","hidden","high","href","hreflang","id","integrity","ismap","label","lang","list","loop","low","max","maxlength","media","method","min","multiple","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","type","usemap","valign","value","width","xmlns"],a=["accent-height","accumulate","additivive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"],s=["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"],l=["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"];function c(e,t){for(var n=t.length;n--;)"string"===typeof t[n]&&(t[n]=t[n].toLowerCase()),e[t[n]]=!0;return e}function u(e){var t={},n=void 0;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}var d=/\{\{[\s\S]*|[\s\S]*\}\}/gm,h=/<%[\s\S]*|[\s\S]*%>/gm,f=/^data-[\-\w.\u00B7-\uFFFF]/,p=/^aria-[\-\w]+$/,m=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,g=/^(?:\w+script|data):/i,b=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function v(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var w=function(){return"undefined"===typeof window?null:window};return function _(){var S=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w(),C=function(e){return _(e)};if(C.version="1.0.8",C.removed=[],!S||!S.document||9!==S.document.nodeType)return C.isSupported=!1,C;var x=S.document,k=!1,T=!1,O=S.document,N=S.DocumentFragment,L=S.HTMLTemplateElement,I=S.Node,E=S.NodeFilter,D=S.NamedNodeMap,A=void 0===D?S.NamedNodeMap||S.MozNamedAttrMap:D,M=S.Text,P=S.Comment,R=S.DOMParser;if("function"===typeof L){var F=O.createElement("template");F.content&&F.content.ownerDocument&&(O=F.content.ownerDocument)}var j=O,W=j.implementation,V=j.createNodeIterator,B=j.getElementsByTagName,H=j.createDocumentFragment,z=x.importNode,U={};C.isSupported=W&&"undefined"!==typeof W.createHTMLDocument&&9!==O.documentMode;var q=d,G=h,K=f,Y=p,Z=g,$=b,X=m,Q=null,J=c({},[].concat(v(e),v(t),v(n),v(i),v(o))),ee=null,te=c({},[].concat(v(r),v(a),v(s),v(l))),ne=null,ie=null,oe=!0,re=!0,ae=!1,se=!1,le=!1,ce=!1,ue=!1,de=!1,he=!1,fe=!1,pe=!1,me=!0,ge=!0,be=!1,ye={},ve=c({},["audio","head","math","script","style","template","svg","video"]),we=c({},["audio","video","img","source","image"]),_e=c({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),Se=null,Ce=O.createElement("form"),xe=function(d){"object"!==("undefined"===typeof d?"undefined":y(d))&&(d={}),Q="ALLOWED_TAGS"in d?c({},d.ALLOWED_TAGS):J,ee="ALLOWED_ATTR"in d?c({},d.ALLOWED_ATTR):te,ne="FORBID_TAGS"in d?c({},d.FORBID_TAGS):{},ie="FORBID_ATTR"in d?c({},d.FORBID_ATTR):{},ye="USE_PROFILES"in d&&d.USE_PROFILES,oe=!1!==d.ALLOW_ARIA_ATTR,re=!1!==d.ALLOW_DATA_ATTR,ae=d.ALLOW_UNKNOWN_PROTOCOLS||!1,se=d.SAFE_FOR_JQUERY||!1,le=d.SAFE_FOR_TEMPLATES||!1,ce=d.WHOLE_DOCUMENT||!1,he=d.RETURN_DOM||!1,fe=d.RETURN_DOM_FRAGMENT||!1,pe=d.RETURN_DOM_IMPORT||!1,de=d.FORCE_BODY||!1,me=!1!==d.SANITIZE_DOM,ge=!1!==d.KEEP_CONTENT,be=d.IN_PLACE||!1,X=d.ALLOWED_URI_REGEXP||X,le&&(re=!1),fe&&(he=!0),ye&&(Q=c({},[].concat(v(o))),ee=[],!0===ye.html&&(c(Q,e),c(ee,r)),!0===ye.svg&&(c(Q,t),c(ee,a),c(ee,l)),!0===ye.svgFilters&&(c(Q,n),c(ee,a),c(ee,l)),!0===ye.mathMl&&(c(Q,i),c(ee,s),c(ee,l))),d.ADD_TAGS&&(Q===J&&(Q=u(Q)),c(Q,d.ADD_TAGS)),d.ADD_ATTR&&(ee===te&&(ee=u(ee)),c(ee,d.ADD_ATTR)),d.ADD_URI_SAFE_ATTR&&c(_e,d.ADD_URI_SAFE_ATTR),ge&&(Q["#text"]=!0),ce&&c(Q,["html","head","body"]),Q.table&&c(Q,["tbody"]),Object&&"freeze"in Object&&Object.freeze(d),Se=d},ke=function(e){C.removed.push({element:e});try{e.parentNode.removeChild(e)}catch(t){e.outerHTML=""}},Te=function(e,t){try{C.removed.push({attribute:t.getAttributeNode(e),from:t})}catch(e){C.removed.push({attribute:null,from:t})}t.removeAttribute(e)},Oe=function(e){var t=void 0;if(de&&(e="<remove></remove>"+e),k)try{t=(new R).parseFromString(e,"text/html")}catch(e){}if(T&&c(ne,["title"]),!t||!t.documentElement){var n=t=W.createHTMLDocument(""),i=n.body;i.parentNode.removeChild(i.parentNode.firstElementChild),i.outerHTML=e}return B.call(t,ce?"html":"body")[0]};C.isSupported&&(function(){try{var e=Oe('<svg><p><style><img src="</style><img src=x onerror=alert(1)//">');e.querySelector("svg img")&&(k=!0)}catch(e){}}(),function(){try{var e=Oe("<x/><title>&lt;/title&gt;&lt;img&gt;");e.querySelector("title").textContent.match(/<\/title/)&&(T=!0)}catch(e){}}());var Ne=function(e){return V.call(e.ownerDocument||e,e,E.SHOW_ELEMENT|E.SHOW_COMMENT|E.SHOW_TEXT,function(){return E.FILTER_ACCEPT},!1)},Le=function(e){return"object"===("undefined"===typeof I?"undefined":y(I))?e instanceof I:e&&"object"===("undefined"===typeof e?"undefined":y(e))&&"number"===typeof e.nodeType&&"string"===typeof e.nodeName},Ie=function(e,t,n){U[e]&&U[e].forEach(function(e){e.call(C,t,n,Se)})},Ee=function(e){var t,n=void 0;if(Ie("beforeSanitizeElements",e,null),!((t=e)instanceof M||t instanceof P)&&!("string"===typeof t.nodeName&&"string"===typeof t.textContent&&"function"===typeof t.removeChild&&t.attributes instanceof A&&"function"===typeof t.removeAttribute&&"function"===typeof t.setAttribute))return ke(e),!0;var i=e.nodeName.toLowerCase();if(Ie("uponSanitizeElement",e,{tagName:i,allowedTags:Q}),!Q[i]||ne[i]){if(ge&&!ve[i]&&"function"===typeof e.insertAdjacentHTML)try{e.insertAdjacentHTML("AfterEnd",e.innerHTML)}catch(e){}return ke(e),!0}return!se||e.firstElementChild||e.content&&e.content.firstElementChild||!/</g.test(e.textContent)||(C.removed.push({element:e.cloneNode()}),e.innerHTML?e.innerHTML=e.innerHTML.replace(/</g,"&lt;"):e.innerHTML=e.textContent.replace(/</g,"&lt;")),le&&3===e.nodeType&&(n=(n=(n=e.textContent).replace(q," ")).replace(G," "),e.textContent!==n&&(C.removed.push({element:e.cloneNode()}),e.textContent=n)),Ie("afterSanitizeElements",e,null),!1},De=function(e,t,n){if(me&&("id"===t||"name"===t)&&(n in O||n in Ce))return!1;if(le&&(n=(n=n.replace(q," ")).replace(G," ")),re&&K.test(t));else if(oe&&Y.test(t));else{if(!ee[t]||ie[t])return!1;if(_e[t]);else if(X.test(n.replace($,"")));else if("src"!==t&&"xlink:href"!==t||"script"===e||0!==n.indexOf("data:")||!we[e])if(ae&&!Z.test(n.replace($,"")));else if(n)return!1}return!0},Ae=function(e){var t=void 0,n=void 0,i=void 0,o=void 0,r=void 0;Ie("beforeSanitizeAttributes",e,null);var a=e.attributes;if(a){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ee};for(r=a.length;r--;){var l=t=a[r],c=l.name,u=l.namespaceURI;if(n=t.value.trim(),i=c.toLowerCase(),s.attrName=i,s.attrValue=n,s.keepAttr=!0,Ie("uponSanitizeAttribute",e,s),n=s.attrValue,"name"===i&&"IMG"===e.nodeName&&a.id)o=a.id,a=Array.prototype.slice.apply(a),Te("id",e),Te(c,e),a.indexOf(o)>r&&e.setAttribute("id",o.value);else{if("INPUT"===e.nodeName&&"type"===i&&"file"===n&&(ee[i]||!ie[i]))continue;"id"===c&&e.setAttribute(c,""),Te(c,e)}if(s.keepAttr){var d=e.nodeName.toLowerCase();if(De(d,i,n))try{u?e.setAttributeNS(u,c,n):e.setAttribute(c,n),C.removed.pop()}catch(e){}}}Ie("afterSanitizeAttributes",e,null)}},Me=function e(t){var n=void 0,i=Ne(t);for(Ie("beforeSanitizeShadowDOM",t,null);n=i.nextNode();)Ie("uponSanitizeShadowNode",n,null),Ee(n)||(n.content instanceof N&&e(n.content),Ae(n));Ie("afterSanitizeShadowDOM",t,null)};return C.sanitize=function(e,t){var n=void 0,i=void 0,o=void 0,r=void 0,a=void 0;if(e||(e="\x3c!--\x3e"),"string"!==typeof e&&!Le(e)){if("function"!==typeof e.toString)throw new TypeError("toString is not a function");if("string"!==typeof(e=e.toString()))throw new TypeError("dirty is not a string, aborting")}if(!C.isSupported){if("object"===y(S.toStaticHTML)||"function"===typeof S.toStaticHTML){if("string"===typeof e)return S.toStaticHTML(e);if(Le(e))return S.toStaticHTML(e.outerHTML)}return e}if(ue||xe(t),C.removed=[],be);else if(e instanceof I)n=Oe("\x3c!--\x3e"),1===(i=n.ownerDocument.importNode(e,!0)).nodeType&&"BODY"===i.nodeName?n=i:n.appendChild(i);else{if(!he&&!ce&&-1===e.indexOf("<"))return e;if(!(n=Oe(e)))return he?null:""}n&&de&&ke(n.firstChild);for(var s=Ne(be?e:n);o=s.nextNode();)3===o.nodeType&&o===r||Ee(o)||(o.content instanceof N&&Me(o.content),Ae(o),r=o);if(be)return e;if(he){if(fe)for(a=H.call(n.ownerDocument);n.firstChild;)a.appendChild(n.firstChild);else a=n;return pe&&(a=z.call(x,a,!0)),a}return ce?n.outerHTML:n.innerHTML},C.setConfig=function(e){xe(e),ue=!0},C.clearConfig=function(){Se=null,ue=!1},C.isValidAttribute=function(e,t,n){Se||xe({});var i=e.toLowerCase(),o=t.toLowerCase();return De(i,o,n)},C.addHook=function(e,t){"function"===typeof t&&(U[e]=U[e]||[],U[e].push(t))},C.removeHook=function(e){U[e]&&U[e].pop()},C.removeHooks=function(e){U[e]&&(U[e]=[])},C.removeAllHooks=function(){U={}},C}()}()},function(e,t,n){(function(t){var n="Expected a function",i=NaN,o="[object Symbol]",r=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt,u="object"==typeof t&&t&&t.Object===Object&&t,d="object"==typeof self&&self&&self.Object===Object&&self,h=u||d||Function("return this")(),f=Object.prototype.toString,p=Math.max,m=Math.min,g=function(){return h.Date.now()};function b(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&f.call(e)==o}(e))return i;if(b(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=b(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):a.test(e)?i:+e}e.exports=function(e,t,i){var o,r,a,s,l,c,u=0,d=!1,h=!1,f=!0;if("function"!=typeof e)throw new TypeError(n);function v(t){var n=o,i=r;return o=r=void 0,u=t,s=e.apply(i,n)}function w(e){var n=e-c;return void 0===c||n>=t||n<0||h&&e-u>=a}function _(){var e=g();if(w(e))return S(e);l=setTimeout(_,function(e){var n=t-(e-c);return h?m(n,a-(e-u)):n}(e))}function S(e){return l=void 0,f&&o?v(e):(o=r=void 0,s)}function C(){var e=g(),n=w(e);if(o=arguments,r=this,c=e,n){if(void 0===l)return function(e){return u=e,l=setTimeout(_,t),d?v(e):s}(c);if(h)return l=setTimeout(_,t),v(c)}return void 0===l&&(l=setTimeout(_,t)),s}return t=y(t)||0,b(i)&&(d=!!i.leading,a=(h="maxWait"in i)?p(y(i.maxWait)||0,t):a,f="trailing"in i?!!i.trailing:f),C.cancel=function(){void 0!==l&&clearTimeout(l),u=0,o=c=r=l=void 0},C.flush=function(){return void 0===l?s:S(g())},C}}).call(this,n(122))},,function(e,t,n){n(172),e.exports=n(454)},function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);n(236),n(246),n(256),n(252),n(447);var i=n(310);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o)},function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){"use strict";n(135),n(239),n(241),n(242),n(243),n(244),n(245),n(247),n(248),n(249),n(250),n(251),n(253),n(254),n(255),n(257),n(258),n(259),n(260),n(261),n(262),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(279),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(278),n(240),n(280),n(263),n(238),n(237)},function(e,t,n){"use strict";n(74),n(152),n(307),n(306),n(219),n(300),n(233),n(220),n(296),n(183),n(297),n(221),n(222),n(299),n(153),n(291),n(223),n(298),n(160),n(224),n(304),n(290),n(305),n(293),n(303),n(228),n(295),n(292),n(230),n(301),n(294),n(151),n(289),n(159),n(234),n(126),n(235)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(158)),a=l(n(132)),s=l(n(4));function l(e){return e&&e.__esModule?e:{default:e}}function c(){}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.assignRef=function(e){n.containerElement=e},n.containerElement=void 0,n.__current_value=e.value,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"componentDidMount",value:function(){this.initMonaco()}},{key:"componentDidUpdate",value:function(e){this.props.value!==this.__current_value&&(this.__current_value=this.props.value,this.editor&&(this.__prevent_trigger_change_event=!0,this.editor.setValue(this.__current_value),this.__prevent_trigger_change_event=!1)),e.language!==this.props.language&&r.editor.setModelLanguage(this.editor.getModel(),this.props.language),e.theme!==this.props.theme&&r.editor.setTheme(this.props.theme),!this.editor||this.props.width===e.width&&this.props.height===e.height||this.editor.layout()}},{key:"componentWillUnmount",value:function(){this.destroyMonaco()}},{key:"editorWillMount",value:function(){var e=this.props.editorWillMount;e(r)}},{key:"editorDidMount",value:function(e){var t=this;this.props.editorDidMount(e,r),e.onDidChangeModelContent(function(n){var i=e.getValue();t.__current_value=i,t.__prevent_trigger_change_event||t.props.onChange(i,n)})}},{key:"initMonaco",value:function(){var e=null!==this.props.value?this.props.value:this.props.defaultValue,t=this.props,n=t.language,o=t.theme,a=t.options;this.containerElement&&(this.editorWillMount(),this.editor=r.editor.create(this.containerElement,i({value:e,language:n},a)),o&&r.editor.setTheme(o),this.editorDidMount(this.editor))}},{key:"destroyMonaco",value:function(){"undefined"!==typeof this.editor&&this.editor.dispose()}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.height,i={width:-1!==t.toString().indexOf("%")?t:t+"px",height:-1!==n.toString().indexOf("%")?n:n+"px"};return s.default.createElement("div",{ref:this.assignRef,style:i,className:"react-monaco-editor-container"})}}]),t}();u.propTypes={width:a.default.oneOfType([a.default.string,a.default.number]),height:a.default.oneOfType([a.default.string,a.default.number]),value:a.default.string,defaultValue:a.default.string,language:a.default.string,theme:a.default.string,options:a.default.object,editorDidMount:a.default.func,editorWillMount:a.default.func,onChange:a.default.func},u.defaultProps={width:"100%",height:"100%",value:null,defaultValue:"",language:"javascript",theme:null,options:{},editorDidMount:c,editorWillMount:c,onChange:c},t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(158)),r=s(n(4)),a=s(n(132));function s(e){return e&&e.__esModule?e:{default:e}}function l(){}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.assignRef=function(e){n.containerElement=e},n.containerElement=void 0,n.__current_value=e.value,n.__current_original=e.original,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),i(t,[{key:"componentDidMount",value:function(){this.initMonaco()}},{key:"componentDidUpdate",value:function(e){if(this.props.value===this.__current_value&&this.props.original===this.__current_original||(this.__current_value=this.props.value,this.__current_original=this.props.original,this.editor&&(this.__prevent_trigger_change_event=!0,this.updateModel(this.__current_value,this.__current_original),this.__prevent_trigger_change_event=!1)),e.language!==this.props.language){var t=this.editor.getModel(),n=t.original,i=t.modified;o.editor.setModelLanguage(n,this.props.language),o.editor.setModelLanguage(i,this.props.language)}e.theme!==this.props.theme&&o.editor.setTheme(this.props.theme),!this.editor||this.props.width===e.width&&this.props.height===e.height||this.editor.layout()}},{key:"componentWillUnmount",value:function(){this.destroyMonaco()}},{key:"editorWillMount",value:function(){var e=this.props.editorWillMount;e&&e(o)}},{key:"editorDidMount",value:function(e){var t=this;this.props.editorDidMount(e,o),e.onDidUpdateDiff(function(){var n=e.getModel().modified.getValue();t.__current_value=n,t.__prevent_trigger_change_event||t.props.onChange(n)})}},{key:"updateModel",value:function(e,t){var n=this.props.language,i=o.editor.createModel(t,n),r=o.editor.createModel(e,n);this.editor.setModel({original:i,modified:r})}},{key:"initMonaco",value:function(){var e=null!==this.props.value?this.props.value:this.props.defaultValue,t=this.props,n=t.original,i=t.theme,r=t.options;this.containerElement&&(this.editorWillMount(),this.editor=o.editor.createDiffEditor(this.containerElement,r),i&&o.editor.setTheme(i),this.updateModel(e,n),this.editorDidMount(this.editor))}},{key:"destroyMonaco",value:function(){"undefined"!==typeof this.editor&&this.editor.dispose()}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.height,i={width:-1!==t.toString().indexOf("%")?t:t+"px",height:-1!==n.toString().indexOf("%")?n:n+"px"};return r.default.createElement("div",{ref:this.assignRef,style:i,className:"react-monaco-editor-container"})}}]),t}();c.propTypes={width:a.default.oneOfType([a.default.string,a.default.number]),height:a.default.oneOfType([a.default.string,a.default.number]),original:a.default.string,value:a.default.string,defaultValue:a.default.string,language:a.default.string,theme:a.default.string,options:a.default.object,editorDidMount:a.default.func,editorWillMount:a.default.func,onChange:a.default.func},c.defaultProps={width:"100%",height:"100%",original:null,value:null,defaultValue:"",language:"javascript",theme:null,options:{},editorDidMount:l,editorWillMount:l,onChange:l},t.default=c},,,function(e,t,n){"use strict";n.r(t);var i,o,r=n(5),a=n(42),s=n(10),l=n(2),c=n(26),u=n(11),d=n(51),h=n(86),f=n(36);!function(e){e[e.Unnecessary=1]="Unnecessary"}(i||(i={})),function(e){e[e.Hint=1]="Hint",e[e.Info=2]="Info",e[e.Warning=4]="Warning",e[e.Error=8]="Error"}(o||(o={}));var p,m=function(){function e(){}return e.chord=function(e,t){return Object(a.a)(e,t)},e.CtrlCmd=2048,e.Shift=1024,e.Alt=512,e.WinCtrl=256,e}();function g(){return{editor:void 0,languages:void 0,CancellationTokenSource:d.b,Emitter:r.a,KeyCode:p,KeyMod:m,Position:s.a,Range:l.a,Selection:c.a,SelectionDirection:c.b,MarkerSeverity:o,MarkerTag:i,Promise:u.b,Uri:f.a,Token:h.a}}!function(e){e[e.Unknown=0]="Unknown",e[e.Backspace=1]="Backspace",e[e.Tab=2]="Tab",e[e.Enter=3]="Enter",e[e.Shift=4]="Shift",e[e.Ctrl=5]="Ctrl",e[e.Alt=6]="Alt",e[e.PauseBreak=7]="PauseBreak",e[e.CapsLock=8]="CapsLock",e[e.Escape=9]="Escape",e[e.Space=10]="Space",e[e.PageUp=11]="PageUp",e[e.PageDown=12]="PageDown",e[e.End=13]="End",e[e.Home=14]="Home",e[e.LeftArrow=15]="LeftArrow",e[e.UpArrow=16]="UpArrow",e[e.RightArrow=17]="RightArrow",e[e.DownArrow=18]="DownArrow",e[e.Insert=19]="Insert",e[e.Delete=20]="Delete",e[e.KEY_0=21]="KEY_0",e[e.KEY_1=22]="KEY_1",e[e.KEY_2=23]="KEY_2",e[e.KEY_3=24]="KEY_3",e[e.KEY_4=25]="KEY_4",e[e.KEY_5=26]="KEY_5",e[e.KEY_6=27]="KEY_6",e[e.KEY_7=28]="KEY_7",e[e.KEY_8=29]="KEY_8",e[e.KEY_9=30]="KEY_9",e[e.KEY_A=31]="KEY_A",e[e.KEY_B=32]="KEY_B",e[e.KEY_C=33]="KEY_C",e[e.KEY_D=34]="KEY_D",e[e.KEY_E=35]="KEY_E",e[e.KEY_F=36]="KEY_F",e[e.KEY_G=37]="KEY_G",e[e.KEY_H=38]="KEY_H",e[e.KEY_I=39]="KEY_I",e[e.KEY_J=40]="KEY_J",e[e.KEY_K=41]="KEY_K",e[e.KEY_L=42]="KEY_L",e[e.KEY_M=43]="KEY_M",e[e.KEY_N=44]="KEY_N",e[e.KEY_O=45]="KEY_O",e[e.KEY_P=46]="KEY_P",e[e.KEY_Q=47]="KEY_Q",e[e.KEY_R=48]="KEY_R",e[e.KEY_S=49]="KEY_S",e[e.KEY_T=50]="KEY_T",e[e.KEY_U=51]="KEY_U",e[e.KEY_V=52]="KEY_V",e[e.KEY_W=53]="KEY_W",e[e.KEY_X=54]="KEY_X",e[e.KEY_Y=55]="KEY_Y",e[e.KEY_Z=56]="KEY_Z",e[e.Meta=57]="Meta",e[e.ContextMenu=58]="ContextMenu",e[e.F1=59]="F1",e[e.F2=60]="F2",e[e.F3=61]="F3",e[e.F4=62]="F4",e[e.F5=63]="F5",e[e.F6=64]="F6",e[e.F7=65]="F7",e[e.F8=66]="F8",e[e.F9=67]="F9",e[e.F10=68]="F10",e[e.F11=69]="F11",e[e.F12=70]="F12",e[e.F13=71]="F13",e[e.F14=72]="F14",e[e.F15=73]="F15",e[e.F16=74]="F16",e[e.F17=75]="F17",e[e.F18=76]="F18",e[e.F19=77]="F19",e[e.NumLock=78]="NumLock",e[e.ScrollLock=79]="ScrollLock",e[e.US_SEMICOLON=80]="US_SEMICOLON",e[e.US_EQUAL=81]="US_EQUAL",e[e.US_COMMA=82]="US_COMMA",e[e.US_MINUS=83]="US_MINUS",e[e.US_DOT=84]="US_DOT",e[e.US_SLASH=85]="US_SLASH",e[e.US_BACKTICK=86]="US_BACKTICK",e[e.US_OPEN_SQUARE_BRACKET=87]="US_OPEN_SQUARE_BRACKET",e[e.US_BACKSLASH=88]="US_BACKSLASH",e[e.US_CLOSE_SQUARE_BRACKET=89]="US_CLOSE_SQUARE_BRACKET",e[e.US_QUOTE=90]="US_QUOTE",e[e.OEM_8=91]="OEM_8",e[e.OEM_102=92]="OEM_102",e[e.NUMPAD_0=93]="NUMPAD_0",e[e.NUMPAD_1=94]="NUMPAD_1",e[e.NUMPAD_2=95]="NUMPAD_2",e[e.NUMPAD_3=96]="NUMPAD_3",e[e.NUMPAD_4=97]="NUMPAD_4",e[e.NUMPAD_5=98]="NUMPAD_5",e[e.NUMPAD_6=99]="NUMPAD_6",e[e.NUMPAD_7=100]="NUMPAD_7",e[e.NUMPAD_8=101]="NUMPAD_8",e[e.NUMPAD_9=102]="NUMPAD_9",e[e.NUMPAD_MULTIPLY=103]="NUMPAD_MULTIPLY",e[e.NUMPAD_ADD=104]="NUMPAD_ADD",e[e.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",e[e.NUMPAD_SUBTRACT=106]="NUMPAD_SUBTRACT",e[e.NUMPAD_DECIMAL=107]="NUMPAD_DECIMAL",e[e.NUMPAD_DIVIDE=108]="NUMPAD_DIVIDE",e[e.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",e[e.ABNT_C1=110]="ABNT_C1",e[e.ABNT_C2=111]="ABNT_C2",e[e.MAX_VALUE=112]="MAX_VALUE"}(p||(p={}));n(437);var b,y=n(55),v=n(19),w=n(7),_=n(84),S=n(25),C=n(40),x=n(65),k=n(13),T=n(39),O=n(92),N=n(100),L=n(0),I=n(20),E=(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}b(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),D=function(e){function t(t,n,i,o,a){var s=e.call(this)||this;return s._contextKeyService=t,s._commandService=n,s._telemetryService=i,s._statusService=a,s._notificationService=o,s._currentChord=null,s._currentChordChecker=new I.b,s._currentChordStatusMessage=null,s._onDidUpdateKeybindings=s._register(new r.a),s}return E(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"onDidUpdateKeybindings",{get:function(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:r.b.None},enumerable:!0,configurable:!0}),t.prototype.lookupKeybinding=function(e){var t=this._getResolver().lookupPrimaryKeybinding(e);return t?t.resolvedKeybinding:null},t.prototype._enterChordMode=function(e,t){var n=this;this._currentChord={keypress:e,label:t},this._statusService&&(this._currentChordStatusMessage=this._statusService.setStatusMessage(L.a("first.chord","({0}) was pressed. Waiting for second key of chord...",t)));var i=Date.now();this._currentChordChecker.cancelAndSet(function(){n._documentHasFocus()?Date.now()-i>5e3&&n._leaveChordMode():n._leaveChordMode()},500)},t.prototype._leaveChordMode=function(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null},t.prototype._dispatch=function(e,t){var n=this,i=!1,o=this.resolveKeyboardEvent(e);if(o.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;var r=o.getDispatchParts()[0];if(null===r)return i;var a=this._contextKeyService.getContext(t),s=this._currentChord?this._currentChord.keypress:null,l=o.getLabel(),c=this._getResolver().resolve(a,s,r);return c&&c.enterChord?(i=!0,this._enterChordMode(r,l),i):(this._statusService&&this._currentChord&&(c&&c.commandId||(this._statusService.setStatusMessage(L.a("missing.chord","The key combination ({0}, {1}) is not a command.",this._currentChord.label,l),1e4),i=!0)),this._leaveChordMode(),c&&c.commandId&&(c.bubble||(i=!0),"undefined"===typeof c.commandArgs?this._commandService.executeCommand(c.commandId).done(void 0,function(e){return n._notificationService.warn(e)}):this._commandService.executeCommand(c.commandId,c.commandArgs).done(void 0,function(e){return n._notificationService.warn(e)}),this._telemetryService.publicLog("workbenchActionExecuted",{id:c.commandId,from:"keybinding"})),i)},t}(w.a),A=n(190),M=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),P=function(e){function t(t,n){var i=e.call(this)||this;if(i._os=n,null===t)throw new Error("Invalid USLayoutResolvedKeybinding");return 2===t.type?(i._firstPart=t.firstPart,i._chordPart=t.chordPart):(i._firstPart=t,i._chordPart=null),i}return M(t,e),t.prototype._keyCodeToUILabel=function(e){if(2===this._os)switch(e){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return a.b.toString(e)},t.prototype._getUILabelForKeybinding=function(e){return e?e.isDuplicateModifierCase()?"":this._keyCodeToUILabel(e.keyCode):null},t.prototype.getLabel=function(){var e=this._getUILabelForKeybinding(this._firstPart),t=this._getUILabelForKeybinding(this._chordPart);return A.b.toLabel(this._firstPart,e,this._chordPart,t,this._os)},t.prototype._getAriaLabelForKeybinding=function(e){return e?e.isDuplicateModifierCase()?"":a.b.toString(e.keyCode):null},t.prototype.getAriaLabel=function(){var e=this._getAriaLabelForKeybinding(this._firstPart),t=this._getAriaLabelForKeybinding(this._chordPart);return A.a.toLabel(this._firstPart,e,this._chordPart,t,this._os)},t.prototype.isChord=function(){return!!this._chordPart},t.prototype.getParts=function(){return[this._toResolvedKeybindingPart(this._firstPart),this._toResolvedKeybindingPart(this._chordPart)]},t.prototype._toResolvedKeybindingPart=function(e){return e?new a.d(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,this._getUILabelForKeybinding(e),this._getAriaLabelForKeybinding(e)):null},t.prototype.getDispatchParts=function(){return[this._firstPart?t.getDispatchStr(this._firstPart):null,this._chordPart?t.getDispatchStr(this._chordPart):null]},t.getDispatchStr=function(e){if(e.isModifierKey())return null;var t="";return e.ctrlKey&&(t+="ctrl+"),e.shiftKey&&(t+="shift+"),e.altKey&&(t+="alt+"),e.metaKey&&(t+="meta+"),t+=a.b.toString(e.keyCode)},t}(a.c),R=function(){function e(t,n){this._defaultKeybindings=t,this._defaultBoundCommands=new Map;for(var i=0,o=t.length;i<o;i++){var r=t[i].command;this._defaultBoundCommands.set(r,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=e.combine(t,n);for(i=0,o=this._keybindings.length;i<o;i++){var a=this._keybindings[i];null!==a.keypressFirstPart&&this._addKeyPress(a.keypressFirstPart,a)}}return e._isTargetedForRemoval=function(e,t,n,i,o){if(e.command!==i)return!1;if(t&&e.keypressFirstPart!==t)return!1;if(n&&e.keypressChordPart!==n)return!1;if(o){if(!e.when)return!1;if(!o.equals(e.when))return!1}return!0},e.combine=function(e,t){e=e.slice(0);for(var n=[],i=0,o=t.length;i<o;i++){var r=t[i];if(r.command&&0!==r.command.length&&"-"===r.command.charAt(0))for(var a=r.command.substr(1),s=r.keypressFirstPart,l=r.keypressChordPart,c=r.when,u=e.length-1;u>=0;u--)this._isTargetedForRemoval(e[u],s,l,a,c)&&e.splice(u,1);else n.push(r)}return e.concat(n)},e.prototype._addKeyPress=function(t,n){var i=this._map.get(t);if("undefined"===typeof i)return this._map.set(t,[n]),void this._addToLookupMap(n);for(var o=i.length-1;o>=0;o--){var r=i[o];if(r.command!==n.command){var a=null!==r.keypressChordPart,s=null!==n.keypressChordPart;a&&s&&r.keypressChordPart!==n.keypressChordPart||e.whenIsEntirelyIncluded(r.when,n.when)&&this._removeFromLookupMap(r)}}i.push(n),this._addToLookupMap(n)},e.prototype._addToLookupMap=function(e){if(e.command){var t=this._lookupMap.get(e.command);"undefined"===typeof t?(t=[e],this._lookupMap.set(e.command,t)):t.push(e)}},e.prototype._removeFromLookupMap=function(e){var t=this._lookupMap.get(e.command);if("undefined"!==typeof t)for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return void t.splice(n,1)},e.whenIsEntirelyIncluded=function(e,t){if(!t)return!0;if(!e)return!1;for(var n=e instanceof k.a?e.expr:[e],i=t instanceof k.a?t.expr:[t],o=0,r=0;r<i.length;r++){for(var a=i[r],s=!1;!s&&o<n.length;){n[o].equals(a)&&(s=!0),o++}if(!s)return!1}return!0},e.prototype.lookupPrimaryKeybinding=function(e){var t=this._lookupMap.get(e);return"undefined"===typeof t||0===t.length?null:t[t.length-1]},e.prototype.resolve=function(e,t,n){var i=null;if(null!==t){if("undefined"===typeof(s=this._map.get(t)))return null;i=[];for(var o=0,r=s.length;o<r;o++){var a=s[o];a.keypressChordPart===n&&i.push(a)}}else{var s;if("undefined"===typeof(s=this._map.get(n)))return null;i=s}var l=this._findCommand(e,i);return l?null===t&&null!==l.keypressChordPart?{enterChord:!0,commandId:null,commandArgs:null,bubble:!1}:{enterChord:!1,commandId:l.command,commandArgs:l.commandArgs,bubble:l.bubble}:null},e.prototype._findCommand=function(t,n){for(var i=n.length-1;i>=0;i--){var o=n[i];if(e.contextMatchesRules(t,o.when))return o}return null},e.contextMatchesRules=function(e,t){return!t||t.evaluate(e)},e}(),F=n(155),j=n(81),W=n(29),V=n(24),B=n(34),H=n(104),z=n(52),U=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),q=function(){function e(e,t,n){void 0===e&&(e={}),void 0===t&&(t=[]),void 0===n&&(n=[]),this._contents=e,this._keys=t,this._overrides=n,this.isFrozen=!1}return Object.defineProperty(e.prototype,"contents",{get:function(){return this.checkAndFreeze(this._contents)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"overrides",{get:function(){return this.checkAndFreeze(this._overrides)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keys",{get:function(){return this.checkAndFreeze(this._keys)},enumerable:!0,configurable:!0}),e.prototype.getValue=function(e){return e?Object(z.e)(this.contents,e):this.contents},e.prototype.override=function(t){var n=this.getContentsForOverrideIdentifer(t);if(!n||"object"!==typeof n||!Object.keys(n).length)return this;for(var i={},o=0,r=W.d(Object.keys(this.contents).concat(Object.keys(n)));o<r.length;o++){var a=r[o],s=this.contents[a],l=n[a];l&&("object"===typeof s&&"object"===typeof l?(s=B.c(s),this.mergeContents(s,l)):s=l),i[a]=s}return new e(i)},e.prototype.merge=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i=B.c(this.contents),o=B.c(this.overrides),r=this.keys.slice(),a=0,s=t;a<s.length;a++){var l=s[a];this.mergeContents(i,l.contents);for(var c=function(e){var t=o.filter(function(t){return W.e(t.identifiers,e.identifiers)})[0];t?u.mergeContents(t.contents,e.contents):o.push(B.c(e))},u=this,d=0,h=l.overrides;d<h.length;d++){c(h[d])}for(var f=0,p=l.keys;f<p.length;f++){var m=p[f];-1===r.indexOf(m)&&r.push(m)}}return new e(i,r,o)},e.prototype.freeze=function(){return this.isFrozen=!0,this},e.prototype.mergeContents=function(e,t){for(var n=0,i=Object.keys(t);n<i.length;n++){var o=i[n];o in e&&V.g(e[o])&&V.g(t[o])?this.mergeContents(e[o],t[o]):e[o]=B.c(t[o])}},e.prototype.checkAndFreeze=function(e){return this.isFrozen&&!Object.isFrozen(e)?B.d(e):e},e.prototype.getContentsForOverrideIdentifer=function(e){for(var t=0,n=this.overrides;t<n.length;t++){var i=n[t];if(-1!==i.identifiers.indexOf(e))return i.contents}return null},e.prototype.toJSON=function(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}},e.prototype.setValue=function(e,t){this.addKey(e),Object(z.c)(this.contents,e,t,function(e){throw new Error(e)})},e.prototype.removeValue=function(e){this.removeKey(e)&&Object(z.h)(this.contents,e)},e.prototype.addKey=function(e){for(var t=this.keys.length,n=0;n<t;n++)0===e.indexOf(this.keys[n])&&(t=n);this.keys.splice(t,1,e)},e.prototype.removeKey=function(e){var t=this.keys.indexOf(e);return-1!==t&&(this.keys.splice(t,1),!0)},e}(),G=function(e){function t(){for(var t=Object(z.f)(),n=Object(z.d)(),i=[],o=0,r=Object.keys(t);o<r.length;o++){var a=r[o];H.c.test(a)&&i.push({identifiers:[Object(z.g)(a).trim()],contents:Object(z.i)(t[a],function(e){return console.error("Conflict in default settings file: "+e)})})}return e.call(this,t,n,i)||this}return U(t,e),t}(q),K=function(){function e(e,t,n,i,o,r,a){void 0===n&&(n=new q),void 0===i&&(i=new j.b),void 0===o&&(o=new q),void 0===r&&(r=new j.b),void 0===a&&(a=!0),this._defaultConfiguration=e,this._userConfiguration=t,this._workspaceConfiguration=n,this._folderConfigurations=i,this._memoryConfiguration=o,this._memoryConfigurationByResource=r,this._freeze=a,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new j.b}return e.prototype.getValue=function(e,t,n){return this.getConsolidateConfigurationModel(t,n).getValue(e)},e.prototype.updateValue=function(e,t,n){var i;void 0===n&&(n={}),n.resource?(i=this._memoryConfigurationByResource.get(n.resource))||(i=new q,this._memoryConfigurationByResource.set(n.resource,i)):i=this._memoryConfiguration,void 0===t?i.removeValue(e):i.setValue(e,t),n.resource||(this._workspaceConsolidatedConfiguration=null)},e.prototype.getConsolidateConfigurationModel=function(e,t){var n=this.getConsolidatedConfigurationModelForResource(e,t);return e.overrideIdentifier?n.override(e.overrideIdentifier):n},e.prototype.getConsolidatedConfigurationModelForResource=function(e,t){var n=e.resource,i=this.getWorkspaceConsolidatedConfiguration();if(t&&n){var o=t.getFolder(n);o&&(i=this.getFolderConsolidatedConfiguration(o.uri)||i);var r=this._memoryConfigurationByResource.get(n);r&&(i=i.merge(r))}return i},e.prototype.getWorkspaceConsolidatedConfiguration=function(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this._userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration},e.prototype.getFolderConsolidatedConfiguration=function(e){var t=this._foldersConsolidatedConfigurations.get(e);if(!t){var n=this.getWorkspaceConsolidatedConfiguration(),i=this._folderConfigurations.get(e);i?(t=n.merge(i),this._freeze&&(t=t.freeze()),this._foldersConsolidatedConfigurations.set(e,t)):t=n}return t},e}(),Y=n(1),Z=n(54),$=n(85),X=n(41),Q=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},J=function(e,t){return function(n,i){t(n,i,e)}},ee=function(){function e(t,n,i,o){var a=this;this._commandService=i,this._contextKeyService=o,this._menuGroups=[],this._disposables=[],this._onDidChange=new r.a,n.then(function(n){var i,o=X.d.getMenuItems(t),r=new Set;o.sort(e._compareMenuItems);for(var s=0,l=o;s<l.length;s++){var c=l[s],u=c.group;i&&i[0]===u||(i=[u,[]],a._menuGroups.push(i)),i[1].push(c),e._fillInKbExprKeys(c.when,r)}a._disposables.push(a._contextKeyService.onDidChangeContext(function(e){e.affectsSome(r)&&a._onDidChange.fire()})),a._onDidChange.fire(a)})}return e.prototype.dispose=function(){this._disposables=Object(w.d)(this._disposables),this._onDidChange.dispose()},e.prototype.getActions=function(e){for(var t=[],n=0,i=this._menuGroups;n<i.length;n++){for(var o=i[n],r=o[0],a=[],s=0,l=o[1];s<l.length;s++){var c=l[s];if(this._contextKeyService.contextMatchesRules(c.when)){var u=Object(X.f)(c)?new X.c(c.command,c.alt,e,this._contextKeyService,this._commandService):new X.e(c);u.order=c.order,a.push(u)}}a.length>0&&t.push([r,a])}return t},e._fillInKbExprKeys=function(e,t){if(e)for(var n=0,i=e.keys();n<i.length;n++){var o=i[n];t.add(o)}},e._compareMenuItems=function(e,t){var n=e.group,i=t.group;if(n!==i){if(!n)return 1;if(!i)return-1;if("navigation"===n)return-1;if("navigation"===i)return 1;var o=n.localeCompare(i);if(0!==o)return o}var r=e.order||0,a=t.order||0;if(r<a)return-1;if(r>a)return 1;var s="string"===typeof e.command.title?e.command.title:e.command.title.value,l="string"===typeof t.command.title?t.command.title:t.command.title.value;return s.localeCompare(l)},e=Q([J(2,C.b),J(3,k.e)],e)}(),te=function(){return function(e,t,n,i,o){if(this.resolvedKeybinding=e,e){var r=e.getDispatchParts(),a=r[0],s=r[1];this.keypressFirstPart=a,this.keypressChordPart=s}else this.keypressFirstPart=null,this.keypressChordPart=null;this.bubble=!!t&&94===t.charCodeAt(0),this.command=this.bubble?t.substr(1):t,this.commandArgs=n,this.when=i,this.isDefault=o}}(),ne=n(18),ie=n(48),oe=n(127),re=n(12),ae=n(56),se=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),le=function(){function e(e){this.model=e,this._onDispose=new r.a}return Object.defineProperty(e.prototype,"textEditorModel",{get:function(){return this.model},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._onDispose.fire()},e}();var ce=function(){function e(){}return e.prototype.setEditor=function(e){this.editor=e},e.prototype.createModelReference=function(e){var t,n,i,o,r=this;return n=this.editor,i=function(t){return r.findModel(t,e)},o=function(t){return r.findModel(t.getOriginalEditor(),e)||r.findModel(t.getModifiedEditor(),e)},(t=Object(v.d)(n)?i(n):o(n))?u.b.as(new w.b(new le(t))):u.b.as(new w.b(null))},e.prototype.findModel=function(e,t){var n=e.getModel();return n.uri.toString()!==t.toString()?null:n},e}(),ue=function(){function e(){}return e.prototype.showWhile=function(e,t){return null},e}(),de=function(){return function(){}}(),he=function(){function e(){}return e.prototype.info=function(e){return this.notify({severity:N.a.Info,message:e})},e.prototype.warn=function(e){return this.notify({severity:N.a.Warning,message:e})},e.prototype.error=function(e){return this.notify({severity:N.a.Error,message:e})},e.prototype.notify=function(t){switch(t.severity){case N.a.Error:console.error(t.message);break;case N.a.Warning:console.warn(t.message);break;default:console.log(t.message)}return e.NO_OP},e.NO_OP=new ie.b,e}(),fe=function(){function e(e){this._onWillExecuteCommand=new r.a,this._instantiationService=e,this._dynamicCommands=Object.create(null)}return e.prototype.addCommand=function(e){var t=this,n=e.id;return this._dynamicCommands[n]=e,Object(w.f)(function(){delete t._dynamicCommands[n]})},e.prototype.executeCommand=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=C.a.getCommand(e)||this._dynamicCommands[e];if(!i)return u.b.wrapError(new Error("command '"+e+"' not found"));try{this._onWillExecuteCommand.fire({commandId:e});var o=this._instantiationService.invokeFunction.apply(this._instantiationService,[i.handler].concat(t));return u.b.as(o)}catch(e){return u.b.wrapError(e)}},e}(),pe=function(e){function t(t,n,i,o,r){var a=e.call(this,t,n,i,o)||this;return a._cachedResolver=null,a._dynamicKeybindings=[],a._register(Y.g(r,Y.d.KEY_DOWN,function(e){var t=new Z.a(e);a._dispatch(t,t.target)&&t.preventDefault()})),a}return se(t,e),t.prototype.addDynamicKeybinding=function(e,t,n,i){var o=this,r=[];this._dynamicKeybindings.push({keybinding:Object(a.f)(t,ne.a),command:e,when:i,weight1:1e3,weight2:0}),r.push(Object(w.f)(function(){for(var t=0;t<o._dynamicKeybindings.length;t++){if(o._dynamicKeybindings[t].command===e)return o._dynamicKeybindings.splice(t,1),void o.updateResolver({source:x.b.Default})}}));var s=this._commandService;if(!(s instanceof fe))throw new Error("Unknown command service!");return r.push(s.addCommand({id:e,handler:n})),this.updateResolver({source:x.b.Default}),Object(w.c)(r)},t.prototype.updateResolver=function(e){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(e)},t.prototype._getResolver=function(){if(!this._cachedResolver){var e=this._toNormalizedKeybindingItems($.a.getDefaultKeybindings(),!0),t=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new R(e,t)}return this._cachedResolver},t.prototype._documentHasFocus=function(){return document.hasFocus()},t.prototype._toNormalizedKeybindingItems=function(e,t){for(var n=[],i=0,o=0,r=e.length;o<r;o++){var a=e[o],s=a.when?a.when.normalize():null,l=a.keybinding;if(l)for(var c=this.resolveKeybinding(l),u=0;u<c.length;u++)n[i++]=new te(c[u],a.command,a.commandArgs,s,t);else n[i++]=new te(null,a.command,a.commandArgs,s,t)}return n},t.prototype.resolveKeybinding=function(e){return[new P(e,ne.a)]},t.prototype.resolveKeyboardEvent=function(e){var t=new a.e(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,e.keyCode);return new P(t,ne.a)},t}(D);function me(e){return e&&"object"===typeof e&&(!e.overrideIdentifier||"string"===typeof e.overrideIdentifier)&&(!e.resource||e.resource instanceof f.a)}var ge=function(){function e(){this._onDidChangeConfiguration=new r.a,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new K(new G,new q)}return e.prototype.configuration=function(){return this._configuration},e.prototype.getValue=function(e,t){var n="string"===typeof e?e:void 0,i=me(e)?e:me(t)?t:{};return this.configuration().getValue(n,i,null)},e.prototype.updateValue=function(e,t,n,i){return this.configuration().updateValue(e,t),u.b.as(null)},e}(),be=function(){function e(e){var t=this;this.configurationService=e,this._onDidChangeConfigurationEmitter=new r.a,this.configurationService.onDidChangeConfiguration(function(e){t._onDidChangeConfigurationEmitter.fire(e)})}return e.prototype.getValue=function(e,t,n){var i=(s.a.isIPosition(t)?t:null)?"string"===typeof n?n:void 0:"string"===typeof t?t:void 0;return this.configurationService.getValue(i)},e}(),ye=function(){function e(e){this._commandService=e}return e.prototype.createMenu=function(e,t){return new ee(e,u.b.as(!0),this._commandService,t)},e}(),ve=function(){function e(){}return e.prototype.publicLog=function(e,t){return u.b.wrap(null)},e}(),we=function(){function e(){var t=f.a.from({scheme:e.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new F.b({uri:t,name:"",index:0})],name:t.fsPath}}return e.prototype.getWorkspace=function(){return this.workspace},e.prototype.getWorkspaceFolder=function(t){return t&&t.scheme===e.SCHEME?this.workspace.folders[0]:void 0},e}();function _e(e,t,n){t&&e instanceof ge&&Object.keys(t).forEach(function(i){Object(oe.d)(i)&&e.updateValue("editor."+i,t[i]),n&&Object(oe.c)(i)&&e.updateValue("diffEditor."+i,t[i])})}var Se=function(){function e(e){this._modelService=e}return e.prototype.apply=function(e,t){for(var n=new Map,i=0,o=e.edits;i<o.length;i++){var r=o[i];if(!Object(re.A)(r))return u.b.wrapError(new Error("bad edit - only text edits are supported"));var a=this._modelService.getModel(r.resource);if(!a)return u.b.wrapError(new Error("bad edit - model not found"));var s=n.get(a);s||(s=[]),n.set(a,s.concat(r.edits))}var c=0,d=0;return n.forEach(function(e,t){t.applyEdits(e.map(function(e){return ae.a.replaceMove(l.a.lift(e.range),e.text)})),d+=1,c+=e.length}),u.b.as({selection:void 0,ariaSummary:Object(L.a)("summary","Made {0} edits in {1} files",c,d)})},e}(),Ce=function(){function e(){}return e.prototype.getLabel=function(e,t){return"file"===e.scheme?e.fsPath:e.path},e}(),xe=n(152),ke=n(307),Te=n(103),Oe=n(196),Ne=n(22),Le=n(61),Ie=n(28),Ee=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),De=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},Ae=function(e,t){return function(n,i){t(n,i,e)}},Me=0,Pe=!1;var Re=function(e){function t(t,n,i,o,r,a,s,l,c){var u=this;return(n=n||{}).ariaLabel=n.ariaLabel||L.a("editorViewAccessibleLabel","Editor content"),n.ariaLabel=n.ariaLabel+";"+(Ie.k?L.a("accessibilityHelpMessageIE","Press Ctrl+F1 for Accessibility Options."):L.a("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")),u=e.call(this,t,n,{},i,o,r,a,l,c)||this,s instanceof pe&&(u._standaloneKeybindingService=s),Pe||(Pe=!0,Le.b(document.body)),u}return Ee(t,e),t.prototype.addCommand=function(e,t,n){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;var i="DYNAMIC_"+ ++Me,o=k.d.deserialize(n);return this._standaloneKeybindingService.addDynamicKeybinding(i,e,t,o),i},t.prototype.createContextKey=function(e,t){return this._contextKeyService.createKey(e,t)},t.prototype.addAction=function(e){var t=this;if("string"!==typeof e.id||"string"!==typeof e.label||"function"!==typeof e.run)throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),w.a.None;var n=e.id,i=e.label,o=k.d.and(k.d.equals("editorId",this.getId()),k.d.deserialize(e.precondition)),r=e.keybindings,a=k.d.and(o,k.d.deserialize(e.keybindingContext)),s=e.contextMenuGroupId||null,l=e.contextMenuOrder||0,c=function(){var n=e.run(t);return n||u.b.as(void 0)},d=[],h=this.getId()+":"+n;if(d.push(C.a.registerCommand(h,c)),s){var f={command:{id:h,title:i},when:o,group:s,order:l};d.push(X.d.appendMenuItem(X.b.EditorContext,f))}Array.isArray(r)&&(d=d.concat(r.map(function(e){return t._standaloneKeybindingService.addDynamicKeybinding(h,e,c,a)})));var p=new Oe.a(h,i,i,o,c,this._contextKeyService);return this._actions[n]=p,d.push(Object(w.f)(function(){delete t._actions[n]})),Object(w.c)(d)},t=De([Ae(2,S.a),Ae(3,T.a),Ae(4,C.b),Ae(5,k.e),Ae(6,x.a),Ae(7,Ne.c),Ae(8,ie.a)],t)}(xe.a),Fe=function(e){function t(t,n,i,o,r,a,s,l,c,u,d,h){var f=this;_e(h,n,!1),"string"===typeof(n=n||{}).theme&&u.setTheme(n.theme);var p=n.model;if(delete n.model,(f=e.call(this,t,n,o,r,a,s,l,u,d)||this)._contextViewService=c,f._configurationService=h,f._register(i),"undefined"===typeof p?(p=self.monaco.editor.createModel(n.value||"",n.language||"text/plain"),f._ownsModel=!0):f._ownsModel=!1,f._attachModel(p),p){var m={oldModelUrl:null,newModelUrl:p.uri};f._onDidChangeModel.fire(m)}return f}return Ee(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.updateOptions=function(t){_e(this._configurationService,t,!1),e.prototype.updateOptions.call(this,t)},t.prototype._attachModel=function(t){e.prototype._attachModel.call(this,t),this._view&&this._contextViewService.setContainer(this._view.domNode.domNode)},t.prototype._postDetachModelCleanup=function(t){e.prototype._postDetachModelCleanup.call(this,t),t&&this._ownsModel&&(t.dispose(),this._ownsModel=!1)},t=De([Ae(3,S.a),Ae(4,T.a),Ae(5,C.b),Ae(6,k.e),Ae(7,x.a),Ae(8,_.b),Ae(9,Te.a),Ae(10,ie.a),Ae(11,z.b)],t)}(Re),je=function(e){function t(t,n,i,o,r,a,s,l,c,u,d,h){var f=this;return _e(h,n,!0),"string"===typeof(n=n||{}).theme&&(n.theme=u.setTheme(n.theme)),(f=e.call(this,t,n,l,r,o,c,u,d)||this)._contextViewService=s,f._configurationService=h,f._register(i),f._contextViewService.setContainer(f._containerDomElement),f}return Ee(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.updateOptions=function(t){_e(this._configurationService,t,!0),e.prototype.updateOptions.call(this,t)},t.prototype._createInnerEditor=function(e,t,n){return e.createInstance(Re,t,n)},t.prototype.getOriginalEditor=function(){return e.prototype.getOriginalEditor.call(this)},t.prototype.getModifiedEditor=function(){return e.prototype.getModifiedEditor.call(this)},t.prototype.addCommand=function(e,t,n){return this.getModifiedEditor().addCommand(e,t,n)},t.prototype.createContextKey=function(e,t){return this.getModifiedEditor().createContextKey(e,t)},t.prototype.addAction=function(e){return this.getModifiedEditor().addAction(e)},t=De([Ae(3,S.a),Ae(4,k.e),Ae(5,x.a),Ae(6,_.b),Ae(7,O.a),Ae(8,T.a),Ae(9,Te.a),Ae(10,ie.a),Ae(11,z.b)],t)}(ke.a),We=n(45),Ve=(n(443),n(37)),Be=n(44),He=n(80),ze=(n(445),n(76)),Ue=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),qe=function(e){function t(t,n,i){var o=e.call(this,i||"submenu",t,"",!0)||this;return o.entries=n,o}return Ue(t,e),t}(He.a),Ge=function(){function e(e,t,n){void 0===n&&(n={});var i=this;Object(Y.f)(e,"monaco-menu-container"),e.setAttribute("role","presentation");var o=document.createElement("div");Object(Y.f)(o,"monaco-menu"),o.setAttribute("role","presentation"),e.appendChild(o);var r={parent:this};this.actionBar=new ze.a(o,{orientation:ze.c.VERTICAL,actionItemProvider:function(e){return i.doGetActionItem(e,n,r)},context:n.context,actionRunner:n.actionRunner,isMenu:!0,ariaLabel:n.ariaLabel}),this.actionBar.push(t,{icon:!0,label:!0,isMenu:!0})}return e.prototype.doGetActionItem=function(e,t,n){if(e instanceof ze.e)return new ze.b(t.context,e,{icon:!0});if(e instanceof qe)return new Ye(e,e.entries,n,t);var i={};if(t.getKeyBinding){var o=t.getKeyBinding(e);o&&(i.keybinding=o.getLabel())}return new Ke(t.context,e,i)},Object.defineProperty(e.prototype,"onDidCancel",{get:function(){return this.actionBar.onDidCancel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidBlur",{get:function(){return this.actionBar.onDidBlur},enumerable:!0,configurable:!0}),e.prototype.focus=function(e){void 0===e&&(e=!0),this.actionBar&&this.actionBar.focus(e)},e.prototype.dispose=function(){this.actionBar&&(this.actionBar.dispose(),this.actionBar=null),this.listener&&(this.listener.dispose(),this.listener=null)},e}(),Ke=function(e){function t(t,n,i){void 0===i&&(i={});var o=this;return i.isMenu=!0,(o=e.call(this,n,n,i)||this).options=i,o.options.icon=void 0!==i.icon&&i.icon,o.options.label=void 0===i.label||i.label,o.cssClass="",o}return Ue(t,e),t.prototype.render=function(t){e.prototype.render.call(this,t),this.$e=Object(Ve.a)("a.action-menu-item").appendTo(this.builder),this._action.id===ze.e.ID?this.$e.attr({role:"presentation"}):this.$e.attr({role:"menuitem"}),this.$label=Object(Ve.a)("span.action-label").appendTo(this.$e),this.options.label&&this.options.keybinding&&Object(Ve.a)("span.keybinding").text(this.options.keybinding).appendTo(this.$e),this._updateClass(),this._updateLabel(),this._updateTooltip(),this._updateEnabled(),this._updateChecked()},t.prototype._updateLabel=function(){if(this.options.label){var e=this.getAction().label;if(e){var n=t.MNEMONIC_REGEX.exec(e);if(n&&2===n.length){var i=n[1],o=e.replace(t.MNEMONIC_REGEX,i);this.$e.getHTMLElement().accessKey=i.toLocaleLowerCase(),this.$label.attr("aria-label",o)}else this.$label.attr("aria-label",e);e=e.replace(t.MNEMONIC_REGEX,"$1\u0332")}this.$label.text(e)}},t.prototype._updateTooltip=function(){var e=null;this.getAction().tooltip?e=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(e=this.getAction().label,this.options.keybinding&&(e=L.a({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",e,this.options.keybinding))),e&&this.$e.attr({title:e})},t.prototype._updateClass=function(){this.cssClass&&this.$e.removeClass(this.cssClass),this.options.icon?(this.cssClass=this.getAction().class,this.$label.addClass("icon"),this.cssClass&&this.$label.addClass(this.cssClass),this._updateEnabled()):this.$label.removeClass("icon")},t.prototype._updateEnabled=function(){this.getAction().enabled?(this.builder.removeClass("disabled"),this.$e.removeClass("disabled"),this.$e.attr({tabindex:0})):(this.builder.addClass("disabled"),this.$e.addClass("disabled"),Object(Y.H)(this.$e.getHTMLElement()))},t.prototype._updateChecked=function(){this.getAction().checked?this.$label.addClass("checked"):this.$label.removeClass("checked")},t.MNEMONIC_REGEX=/&&(.)/g,t}(ze.d),Ye=function(e){function t(t,n,i,o){var r=e.call(this,t,t,{label:!0,isMenu:!0})||this;return r.submenuActions=n,r.parentData=i,r.submenuOptions=o,r.showScheduler=new I.c(function(){r.mouseOver&&(r.cleanupExistingSubmenu(!1),r.createSubmenu(!1))},250),r.hideScheduler=new I.c(function(){Object(Y.B)(document.activeElement,r.builder.getHTMLElement())||r.parentData.submenu!==r.mysubmenu||(r.parentData.parent.focus(!1),r.cleanupExistingSubmenu(!0))},750),r}return Ue(t,e),t.prototype.render=function(t){var n=this;e.prototype.render.call(this,t),this.$e.addClass("monaco-submenu-item"),this.$e.attr("aria-haspopup","true"),Object(Ve.a)("span.submenu-indicator").text("\u25b6").appendTo(this.$e),Object(Ve.a)(this.builder).on(Y.d.KEY_UP,function(e){new Z.a(e).equals(17)&&(Y.c.stop(e,!0),n.createSubmenu(!0))}),Object(Ve.a)(this.builder).on(Y.d.KEY_DOWN,function(e){new Z.a(e).equals(17)&&Y.c.stop(e,!0)}),Object(Ve.a)(this.builder).on(Y.d.MOUSE_OVER,function(e){n.mouseOver||(n.mouseOver=!0,n.showScheduler.schedule())}),Object(Ve.a)(this.builder).on(Y.d.MOUSE_LEAVE,function(e){n.mouseOver=!1}),Object(Ve.a)(this.builder).on(Y.d.FOCUS_OUT,function(e){Object(Y.B)(document.activeElement,n.builder.getHTMLElement())||n.hideScheduler.schedule()})},t.prototype.onClick=function(e){Y.c.stop(e,!0),this.createSubmenu(!1)},t.prototype.cleanupExistingSubmenu=function(e){this.parentData.submenu&&(e||this.parentData.submenu!==this.mysubmenu)&&(this.parentData.submenu.dispose(),this.parentData.submenu=null,this.submenuContainer&&(this.submenuContainer.dispose(),this.submenuContainer=null))},t.prototype.createSubmenu=function(e){var t=this;void 0===e&&(e=!0),this.parentData.submenu?this.parentData.submenu.focus(!1):(this.submenuContainer=Object(Ve.a)(this.builder).div({class:"monaco-submenu menubar-menu-items-holder context-view"}),Object(Ve.a)(this.submenuContainer).style({left:Object(Ve.a)(this.builder).getClientArea().width+"px"}),Object(Ve.a)(this.submenuContainer).on(Y.d.KEY_UP,function(e){new Z.a(e).equals(15)&&(Y.c.stop(e,!0),t.parentData.parent.focus(),t.parentData.submenu.dispose(),t.parentData.submenu=null,t.submenuContainer.dispose(),t.submenuContainer=null)}),Object(Ve.a)(this.submenuContainer).on(Y.d.KEY_DOWN,function(e){new Z.a(e).equals(15)&&Y.c.stop(e,!0)}),this.parentData.submenu=new Ge(this.submenuContainer.getHTMLElement(),this.submenuActions,this.submenuOptions),this.parentData.submenu.focus(e),this.mysubmenu=this.parentData.submenu)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer.dispose(),this.submenuContainer=null)},t}(Ke),Ze=function(){function e(e,t,n,i){this.setContainer(e),this.contextViewService=t,this.telemetryService=n,this.notificationService=i,this.menuContainerElement=null}return e.prototype.setContainer=function(e){var t=this;this.$el&&(this.$el.off(["click","mousedown"]),this.$el=null),e&&(this.$el=Object(Ve.a)(e),this.$el.on("mousedown",function(e){return t.onMouseDown(e)}))},e.prototype.showContextMenu=function(e){var t=this;e.getActions().done(function(n){n.length&&t.contextViewService.showContextView({getAnchor:function(){return e.getAnchor()},canRelayout:!1,render:function(i){t.menuContainerElement=i;var o=e.getMenuClassName?e.getMenuClassName():"";o&&(i.className+=" "+o);var r=[],a=e.actionRunner||new He.b;a.onDidBeforeRun(t.onActionRun,t,r),a.onDidRun(t.onDidActionRun,t,r);var s=new Ge(i,n,{actionItemProvider:e.getActionItem,context:e.getActionsContext?e.getActionsContext():null,actionRunner:a,getKeyBinding:e.getKeyBinding});return s.onDidCancel(function(){return t.contextViewService.hideContextView(!0)},null,r),s.onDidBlur(function(){return t.contextViewService.hideContextView(!0)},null,r),s.focus(!!e.autoSelectFirstItem),Object(w.c)(r.concat([s]))},onHide:function(n){e.onHide&&e.onHide(n),t.menuContainerElement=null}})})},e.prototype.onActionRun=function(e){this.telemetryService&&this.telemetryService.publicLog("workbenchActionExecuted",{id:e.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1)},e.prototype.onDidActionRun=function(e){e.error&&this.notificationService&&this.notificationService.error(e.error)},e.prototype.onMouseDown=function(e){if(this.menuContainerElement){for(var t=new Be.b(e).target;t;){if(t===this.menuContainerElement)return;t=t.parentElement}this.contextViewService.hideContextView()}},e.prototype.dispose=function(){this.setContainer(null)},e}(),$e=function(){function e(e,t,n,i){this._onDidContextMenu=new r.a,this.contextMenuHandler=new Ze(e,i,t,n)}return e.prototype.dispose=function(){this.contextMenuHandler.dispose()},e.prototype.showContextMenu=function(e){this.contextMenuHandler.showContextMenu(e),this._onDidContextMenu.fire()},e}(),Xe=n(193),Qe=n(109),Je=n(131),et=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},tt=function(e,t){return function(n,i){t(n,i,e)}},nt=function(){function e(e,t,n){this.logService=n,this.contextView=new Xe.b(e)}return e.prototype.dispose=function(){this.contextView.dispose()},e.prototype.setContainer=function(e){this.logService.trace("ContextViewService#setContainer"),this.contextView.setContainer(e)},e.prototype.showContextView=function(e){this.logService.trace("ContextViewService#showContextView"),this.contextView.show(e)},e.prototype.layout=function(){this.contextView.layout()},e.prototype.hideContextView=function(e){this.logService.trace("ContextViewService#hideContextView"),this.contextView.hide(e)},e=et([tt(1,Qe.a),tt(2,Je.a)],e)}(),it=n(15),ot=n(78),rt=Object.prototype.hasOwnProperty;function at(e,t){var n=function(n){if(rt.call(e,n)&&!1===t({key:n,value:e[n]},function(){delete e[n]}))return{value:void 0}};for(var i in e){var o=n(i);if("object"===typeof o)return o.value}}var st,lt=function(){function e(e){this._hashFn=e,this._nodes=Object.create(null)}return e.prototype.roots=function(){var e=[];return at(this._nodes,function(t){Object(V.d)(t.value.outgoing)&&e.push(t.value)}),e},e.prototype.insertEdge=function(e,t){var n=this.lookupOrInsertNode(e),i=this.lookupOrInsertNode(t);n.outgoing[this._hashFn(t)]=i,i.incoming[this._hashFn(e)]=n},e.prototype.removeNode=function(e){var t=this._hashFn(e);delete this._nodes[t],at(this._nodes,function(e){delete e.value.outgoing[t],delete e.value.incoming[t]})},e.prototype.lookupOrInsertNode=function(e){var t=this._hashFn(e),n=this._nodes[t];return n||(n=function(e){return{data:e,incoming:Object.create(null),outgoing:Object.create(null)}}(e),this._nodes[t]=n),n},Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this._nodes).length},enumerable:!0,configurable:!0}),e.prototype.toString=function(){var e=[];return at(this._nodes,function(t){e.push(t.key+", (incoming)["+Object.keys(t.value.incoming).join(", ")+"], (outgoing)["+Object.keys(t.value.outgoing).join(",")+"]")}),e.join("\n")},e}(),ct=function(){return function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.ctor=e,this.staticArguments=t}}(),ut=n(116),dt=function(){function e(e,t){void 0===e&&(e=new ut.a),void 0===t&&(t=!1),this._services=e,this._strict=t,this._services.set(S.a,this)}return e.prototype.createChild=function(t){var n=this;return this._services.forEach(function(e,i){t.has(e)||(i instanceof ct&&(i=n._createAndCacheServiceInstance(e,i)),t.set(e,i))}),new e(t,this._strict)},e.prototype.invokeFunction=function(e){for(var t,n=this,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];try{return t={get:function(e,t){var i=n._getOrCreateServiceInstance(e);if(!i&&t!==S.d)throw new Error("[invokeFunction] unknown service '"+e+"'");return i}},e.apply(void 0,[t].concat(i))}finally{t.get=function(){throw Object(it.c)("service accessor is only valid during the invocation of its target method")}}},e.prototype.createInstance=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e instanceof ct?this._createInstance(e,t):this._createInstance(new ct(e),t)},e.prototype._createInstance=function(e,t){for(var n=e.staticArguments.concat(t),i=S.b.getServiceDependencies(e.ctor).sort(function(e,t){return e.index-t.index}),o=[],r=0,a=i;r<a.length;r++){var s=a[r],l=this._getOrCreateServiceInstance(s.id);if(!l&&this._strict&&!s.optional)throw new Error("[createInstance] "+e.ctor.name+" depends on UNKNOWN service "+s.id+".");o.push(l)}var c=i.length>0?i[0].index:n.length;if(n.length!==c){console.warn("[createInstance] First service dependency of "+e.ctor.name+" at position "+(c+1)+" conflicts with "+n.length+" static arguments");var u=c-n.length;n=u>0?n.concat(new Array(u)):n.slice(0,c)}var d=[e.ctor];return d.push.apply(d,n),d.push.apply(d,o),V.a.apply(null,d)},e.prototype._getOrCreateServiceInstance=function(e){var t=this._services.get(e);return t instanceof ct?this._createAndCacheServiceInstance(e,t):t},e.prototype._createAndCacheServiceInstance=function(e,t){ot.a(this._services.get(e)instanceof ct);var n=new lt(function(e){return e.id.toString()});function i(){var e=new Error("[createInstance] cyclic dependency between services");throw e.message=n.toString(),e}for(var o=0,r=[{id:e,desc:t}];r.length;){var a=r.pop();n.lookupOrInsertNode(a),o++>100&&i();for(var s=0,l=S.b.getServiceDependencies(a.desc.ctor);s<l.length;s++){var c=l[s],u=this._services.get(c.id);if(u||console.warn("[createInstance] "+e+" depends on "+c.id+" which is NOT registered."),u instanceof ct){var d={id:c.id,desc:u};n.insertEdge(a,d),r.push(d)}}}for(;;){var h=n.roots();if(0===h.length){0!==n.length&&i();break}for(var f=0,p=h;f<p.length;f++){var m=p[f],g=this._createInstance(m.data.desc,[]);this._services.set(m.data.id,g),n.removeNode(m.data)}}return this._services.get(e)},e}(),ht=n(66),ft=n(49);!function(e){e.get=function(e,t,n){if(e[t])return e[t][n]},e.set=function(e,t,n,i){e[t]||(e[t]=Object.create(null)),e[t][n]=i},e.remove=function(e,t,n){return!(!e[t]||!e[t][n])&&(delete e[t][n],Object(V.d)(e[t])&&delete e[t],!0)}}(st||(st={}));var pt=function(){function e(e){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=Object.create(null),this._service=e,this._subscription=e.onMarkerChanged(this._update,this)}return e.prototype.dispose=function(){this._subscription.dispose(),this._data=void 0},e.prototype._update=function(e){for(var t=0,n=e;t<n.length;t++){var i=n[t],o=i.toString(),r=this._data[o];r&&this._substract(r);var a=this._resourceStats(i);this._add(a),this._data[o]=a}},e.prototype._resourceStats=function(e){var t={errors:0,warnings:0,infos:0,unknowns:0};if(e.scheme===ht.a.inMemory||e.scheme===ht.a.walkThrough||e.scheme===ht.a.walkThroughSnippet)return t;for(var n=0,i=this._service.read({resource:e});n<i.length;n++){var o=i[n].severity;o===ft.b.Error?t.errors+=1:o===ft.b.Warning?t.warnings+=1:o===ft.b.Info?t.infos+=1:t.unknowns+=1}return t},e.prototype._substract=function(e){this.errors-=e.errors,this.warnings-=e.warnings,this.infos-=e.infos,this.unknowns-=e.unknowns},e.prototype._add=function(e){this.errors+=e.errors,this.warnings+=e.warnings,this.infos+=e.infos,this.unknowns+=e.unknowns},e}(),mt=function(){function e(){this._onMarkerChanged=new r.a,this._onMarkerChangedEvent=Object(r.h)(this._onMarkerChanged.event,e._debouncer,0),this._byResource=Object.create(null),this._byOwner=Object.create(null),this._stats=new pt(this)}return e.prototype.dispose=function(){this._stats.dispose()},Object.defineProperty(e.prototype,"onMarkerChanged",{get:function(){return this._onMarkerChangedEvent},enumerable:!0,configurable:!0}),e.prototype.remove=function(e,t){if(!Object(W.k)(t))for(var n=0,i=t;n<i.length;n++){var o=i[n];this.changeOne(e,o,void 0)}},e.prototype.changeOne=function(t,n,i){if(Object(W.k)(i)){var o=st.remove(this._byResource,n.toString(),t),r=st.remove(this._byOwner,t,n.toString());if(o!==r)throw new Error("invalid marker service state");o&&r&&this._onMarkerChanged.fire([n])}else{for(var a=[],s=0,l=i;s<l.length;s++){var c=l[s],u=e._toMarker(t,n,c);u&&a.push(u)}st.set(this._byResource,n.toString(),t,a),st.set(this._byOwner,t,n.toString(),a),this._onMarkerChanged.fire([n])}},e._toMarker=function(e,t,n){var i=n.code,o=n.severity,r=n.message,a=n.source,s=n.startLineNumber,l=n.startColumn,c=n.endLineNumber,u=n.endColumn,d=n.relatedInformation,h=n.tags;if(r)return{resource:t,owner:e,code:i=i||null,severity:o,message:r,source:a,startLineNumber:s=s>0?s:1,startColumn:l=l>0?l:1,endLineNumber:c=c>=s?c:s,endColumn:u=u>0?u:l,relatedInformation:d,tags:h}},e.prototype.read=function(t){void 0===t&&(t=Object.create(null));var n=t.owner,i=t.resource,o=t.severities,r=t.take;if((!r||r<0)&&(r=-1),n&&i){if(v=st.get(this._byResource,i.toString(),n)){for(var a=[],s=0,l=v;s<l.length;s++){var c=l[s];if(e._accept(c,o)){var u=a.push(c);if(r>0&&u===r)break}}return a}return[]}if(n||i){var d=n?this._byOwner[n]:this._byResource[i.toString()];if(!d)return[];a=[];for(var h in d)for(var f=0,p=d[h];f<p.length;f++){v=p[f];if(e._accept(v,o)){u=a.push(v);if(r>0&&u===r)return a}}return a}var a=[];for(var m in this._byResource)for(var g in this._byResource[m])for(var b=0,y=this._byResource[m][g];b<y.length;b++){var v=y[b];if(e._accept(v,o)){var u=a.push(v);if(r>0&&u===r)return a}}return a},e._accept=function(e,t){return void 0===t||(t&e.severity)===e.severity},e._debouncer=function(t,n){t||(e._dedupeMap=Object.create(null),t=[]);for(var i=0,o=n;i<o.length;i++){var r=o[i];void 0===e._dedupeMap[r.toString()]&&(e._dedupeMap[r.toString()]=!0,t.push(r))}return t},e}(),gt=n(125),bt=n(58),yt=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),vt="$initialize",wt=!1;function _t(e){ne.f&&(wt||(wt=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/Microsoft/monaco-editor#faq")),console.warn(e.message))}var St=function(){function e(e){this._workerId=-1,this._handler=e,this._lastSentReq=0,this._pendingReplies=Object.create(null)}return e.prototype.setWorkerId=function(e){this._workerId=e},e.prototype.sendMessage=function(e,t){var n=String(++this._lastSentReq),i={c:null,e:null},o=new u.b(function(e,t){i.c=e,i.e=t},function(){});return this._pendingReplies[n]=i,this._send({vsWorker:this._workerId,req:n,method:e,args:t}),o},e.prototype.handleMessage=function(e){var t;try{t=JSON.parse(e)}catch(e){}t&&t.vsWorker&&(-1!==this._workerId&&t.vsWorker!==this._workerId||this._handleMessage(t))},e.prototype._handleMessage=function(e){var t=this;if(e.seq){var n=e;if(!this._pendingReplies[n.seq])return void console.warn("Got reply to unknown seq");var i=this._pendingReplies[n.seq];if(delete this._pendingReplies[n.seq],n.err){var o=n.err;return n.err.$isError&&((o=new Error).name=n.err.name,o.message=n.err.message,o.stack=n.err.stack),void i.e(o)}i.c(n.res)}else{var r=e,a=r.req;this._handler.handleMessage(r.method,r.args).then(function(e){t._send({vsWorker:t._workerId,seq:a,res:e,err:void 0})},function(e){e.detail instanceof Error&&(e.detail=Object(it.g)(e.detail)),t._send({vsWorker:t._workerId,seq:a,res:void 0,err:Object(it.g)(e)})})}},e.prototype._send=function(e){var t=JSON.stringify(e);this._handler.sendMessage(t)},e}(),Ct=function(e){function t(t,n){var i=e.call(this)||this,o=null,r=null;i._worker=i._register(t.create("vs/base/common/worker/simpleWorker",function(e){i._protocol.handleMessage(e)},function(e){r(e)})),i._protocol=new St({sendMessage:function(e){i._worker.postMessage(e)},handleMessage:function(e,t){return u.b.as(null)}}),i._protocol.setWorkerId(i._worker.getId());var a=null;"undefined"!==typeof self.require&&"function"===typeof self.require.getConfig?a=self.require.getConfig():"undefined"!==typeof self.requirejs&&(a=self.requirejs.s.contexts._.config),i._lazyProxy=new u.b(function(e,t){o=e,r=t},function(){}),i._onModuleLoaded=i._protocol.sendMessage(vt,[i._worker.getId(),n,a]),i._onModuleLoaded.then(function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=l(e[n],s);o(t)},function(e){r(e),i._onError("Worker failed to load "+n,e)});var s=function(e,t){return i._request(e,t)},l=function(e,t){return function(){var n=Array.prototype.slice.call(arguments,0);return t(e,n)}};return i}return yt(t,e),t.prototype.getProxyObject=function(){return new I.d(this._lazyProxy)},t.prototype._request=function(e,t){var n=this;return new u.b(function(i,o){n._onModuleLoaded.then(function(){n._protocol.sendMessage(e,t).then(i,o)},o)},function(){})},t.prototype._onError=function(e,t){console.error(e),console.info(t)},t}(w.a);!function(){function e(e,t){var n=this;this._requestHandler=t,this._protocol=new St({sendMessage:function(t){e(t)},handleMessage:function(e,t){return n._handleMessage(e,t)}})}e.prototype.onmessage=function(e){this._protocol.handleMessage(e)},e.prototype._handleMessage=function(e,t){if(e===vt)return this.initialize(t[0],t[1],t[2]);if(!this._requestHandler||"function"!==typeof this._requestHandler[e])return u.b.wrapError(new Error("Missing requestHandler or method: "+e));try{return u.b.as(this._requestHandler[e].apply(this._requestHandler,t))}catch(e){return u.b.wrapError(e)}},e.prototype.initialize=function(e,t,n){var i,o,r=this;if(this._protocol.setWorkerId(e),this._requestHandler){var a=[];for(var s in this._requestHandler)"function"===typeof this._requestHandler[s]&&a.push(s);return u.b.as(a)}n&&("undefined"!==typeof n.baseUrl&&delete n.baseUrl,"undefined"!==typeof n.paths&&"undefined"!==typeof n.paths.vs&&delete n.paths.vs,n.catchError=!0,self.require.config(n));var l=new u.b(function(e,t){i=e,o=t});return self.require([t],function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0];r._requestHandler=n.create();var o=[];for(var a in r._requestHandler)"function"===typeof r._requestHandler[a]&&o.push(a);i(o)},o),l}}();var xt=function(){function e(e,t,n,i,o){this.id=t,this.worker=function(e,t){if(ne.b.MonacoEnvironment){if("function"===typeof ne.b.MonacoEnvironment.getWorker)return ne.b.MonacoEnvironment.getWorker(e,t);if("function"===typeof ne.b.MonacoEnvironment.getWorkerUrl)return new Worker(ne.b.MonacoEnvironment.getWorkerUrl(e,t))}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}("workerMain.js",n),this.postMessage(e),this.worker.onmessage=function(e){i(e.data)},"function"===typeof this.worker.addEventListener&&this.worker.addEventListener("error",o)}return e.prototype.getId=function(){return this.id},e.prototype.postMessage=function(e){this.worker&&this.worker.postMessage(e)},e.prototype.dispose=function(){this.worker.terminate(),this.worker=null},e}(),kt=function(){function e(e){this._label=e,this._webWorkerFailedBeforeError=!1}return e.prototype.create=function(t,n,i){var o=this,r=++e.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new xt(t,r,this._label||"anonymous"+r,n,function(e){_t(e),o._webWorkerFailedBeforeError=e,i(e)})},e.LAST_WORKER_ID=0,e}(),Tt=n(63),Ot=n(168),Nt=n(9),Lt=5e3,It=3;function Et(e,t,n,i){return new Ot.a(e,t,n).ComputeDiff(i)}var Dt=function(){function e(t){for(var n=[],i=[],o=0,r=t.length;o<r;o++)n[o]=e._getFirstNonBlankColumn(t[o],1),i[o]=e._getLastNonBlankColumn(t[o],1);this._lines=t,this._startColumns=n,this._endColumns=i}return e.prototype.getLength=function(){return this._lines.length},e.prototype.getElementAtIndex=function(e){return this._lines[e].substring(this._startColumns[e]-1,this._endColumns[e]-1)},e.prototype.getStartLineNumber=function(e){return e+1},e.prototype.getEndLineNumber=function(e){return e+1},e._getFirstNonBlankColumn=function(e,t){var n=Nt.firstNonWhitespaceIndex(e);return-1===n?t:n+1},e._getLastNonBlankColumn=function(e,t){var n=Nt.lastNonWhitespaceIndex(e);return-1===n?t:n+2},e.prototype.getCharSequence=function(e,t,n){for(var i=[],o=[],r=[],a=0,s=t;s<=n;s++)for(var l=this._lines[s],c=e?this._startColumns[s]:1,u=e?this._endColumns[s]:l.length+1,d=c;d<u;d++)i[a]=l.charCodeAt(d-1),o[a]=s+1,r[a]=d,a++;return new At(i,o,r)},e}(),At=function(){function e(e,t,n){this._charCodes=e,this._lineNumbers=t,this._columns=n}return e.prototype.getLength=function(){return this._charCodes.length},e.prototype.getElementAtIndex=function(e){return this._charCodes[e]},e.prototype.getStartLineNumber=function(e){return this._lineNumbers[e]},e.prototype.getStartColumn=function(e){return this._columns[e]},e.prototype.getEndLineNumber=function(e){return this._lineNumbers[e]},e.prototype.getEndColumn=function(e){return this._columns[e]+1},e}(),Mt=function(){function e(e,t,n,i,o,r,a,s){this.originalStartLineNumber=e,this.originalStartColumn=t,this.originalEndLineNumber=n,this.originalEndColumn=i,this.modifiedStartLineNumber=o,this.modifiedStartColumn=r,this.modifiedEndLineNumber=a,this.modifiedEndColumn=s}return e.createFromDiffChange=function(t,n,i){var o,r,a,s,l,c,u,d;return 0===t.originalLength?(o=0,r=0,a=0,s=0):(o=n.getStartLineNumber(t.originalStart),r=n.getStartColumn(t.originalStart),a=n.getEndLineNumber(t.originalStart+t.originalLength-1),s=n.getEndColumn(t.originalStart+t.originalLength-1)),0===t.modifiedLength?(l=0,c=0,u=0,d=0):(l=i.getStartLineNumber(t.modifiedStart),c=i.getStartColumn(t.modifiedStart),u=i.getEndLineNumber(t.modifiedStart+t.modifiedLength-1),d=i.getEndColumn(t.modifiedStart+t.modifiedLength-1)),new e(o,r,a,s,l,c,u,d)},e}();var Pt=function(){function e(e,t,n,i,o){this.originalStartLineNumber=e,this.originalEndLineNumber=t,this.modifiedStartLineNumber=n,this.modifiedEndLineNumber=i,this.charChanges=o}return e.createFromDiffResult=function(t,n,i,o,r,a,s){var l,c,u,d,h;if(0===n.originalLength?(l=i.getStartLineNumber(n.originalStart)-1,c=0):(l=i.getStartLineNumber(n.originalStart),c=i.getEndLineNumber(n.originalStart+n.originalLength-1)),0===n.modifiedLength?(u=o.getStartLineNumber(n.modifiedStart)-1,d=0):(u=o.getStartLineNumber(n.modifiedStart),d=o.getEndLineNumber(n.modifiedStart+n.modifiedLength-1)),a&&0!==n.originalLength&&0!==n.modifiedLength&&r()){var f=i.getCharSequence(t,n.originalStart,n.originalStart+n.originalLength-1),p=o.getCharSequence(t,n.modifiedStart,n.modifiedStart+n.modifiedLength-1),m=Et(f,p,r,!0);s&&(m=function(e){if(e.length<=1)return e;for(var t=[e[0]],n=t[0],i=1,o=e.length;i<o;i++){var r=e[i],a=r.originalStart-(n.originalStart+n.originalLength),s=r.modifiedStart-(n.modifiedStart+n.modifiedLength);Math.min(a,s)<It?(n.originalLength=r.originalStart+r.originalLength-n.originalStart,n.modifiedLength=r.modifiedStart+r.modifiedLength-n.modifiedStart):(t.push(r),n=r)}return t}(m)),h=[];for(var g=0,b=m.length;g<b;g++)h.push(Mt.createFromDiffChange(m[g],f,p))}return new e(l,c,u,d,h)},e}(),Rt=function(){function e(e,t,n){this.shouldComputeCharChanges=n.shouldComputeCharChanges,this.shouldPostProcessCharChanges=n.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=n.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=n.shouldMakePrettyDiff,this.maximumRunTimeMs=Lt,this.originalLines=e,this.modifiedLines=t,this.original=new Dt(e),this.modified=new Dt(t)}return e.prototype.computeDiff=function(){if(1===this.original.getLength()&&0===this.original.getElementAtIndex(0).length)return[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.getLength(),charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}];if(1===this.modified.getLength()&&0===this.modified.getElementAtIndex(0).length)return[{originalStartLineNumber:1,originalEndLineNumber:this.original.getLength(),modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}];this.computationStartTime=(new Date).getTime();var e=Et(this.original,this.modified,this._continueProcessingPredicate.bind(this),this.shouldMakePrettyDiff);if(this.shouldIgnoreTrimWhitespace){for(var t=[],n=0,i=e.length;n<i;n++)t.push(Pt.createFromDiffResult(this.shouldIgnoreTrimWhitespace,e[n],this.original,this.modified,this._continueProcessingPredicate.bind(this),this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return t}for(var o=[],r=0,a=0,s=(n=-1,e.length);n<s;n++){for(var l=n+1<s?e[n+1]:null,c=l?l.originalStart:this.originalLines.length,u=l?l.modifiedStart:this.modifiedLines.length;r<c&&a<u;){var d=this.originalLines[r],h=this.modifiedLines[a];if(d!==h){for(var f=Dt._getFirstNonBlankColumn(d,1),p=Dt._getFirstNonBlankColumn(h,1);f>1&&p>1;){if(d.charCodeAt(f-2)!==h.charCodeAt(p-2))break;f--,p--}(f>1||p>1)&&this._pushTrimWhitespaceCharChange(o,r+1,1,f,a+1,1,p);for(var m=Dt._getLastNonBlankColumn(d,1),g=Dt._getLastNonBlankColumn(h,1),b=d.length+1,y=h.length+1;m<b&&g<y;){if(d.charCodeAt(m-1)!==d.charCodeAt(g-1))break;m++,g++}(m<b||g<y)&&this._pushTrimWhitespaceCharChange(o,r+1,m,b,a+1,g,y)}r++,a++}l&&(o.push(Pt.createFromDiffResult(this.shouldIgnoreTrimWhitespace,l,this.original,this.modified,this._continueProcessingPredicate.bind(this),this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),r+=l.originalLength,a+=l.modifiedLength)}return o},e.prototype._pushTrimWhitespaceCharChange=function(e,t,n,i,o,r,a){var s;this._mergeTrimWhitespaceCharChange(e,t,n,i,o,r,a)||(this.shouldComputeCharChanges&&(s=[new Mt(t,n,t,i,o,r,o,a)]),e.push(new Pt(t,t,o,o,s)))},e.prototype._mergeTrimWhitespaceCharChange=function(e,t,n,i,o,r,a){var s=e.length;if(0===s)return!1;var l=e[s-1];return 0!==l.originalEndLineNumber&&0!==l.modifiedEndLineNumber&&(l.originalEndLineNumber+1===t&&l.modifiedEndLineNumber+1===o&&(l.originalEndLineNumber=t,l.modifiedEndLineNumber=o,this.shouldComputeCharChanges&&l.charChanges.push(new Mt(t,n,t,i,o,r,o,a)),!0))},e.prototype._continueProcessingPredicate=function(){return 0===this.maximumRunTimeMs||(new Date).getTime()-this.computationStartTime<this.maximumRunTimeMs},e}(),Ft=n(164),jt=function(){function e(e,t,n,i){this._uri=e,this._lines=t,this._eol=n,this._versionId=i}return e.prototype.dispose=function(){this._lines.length=0},e.prototype.getText=function(){return this._lines.join(this._eol)},e.prototype.onEvents=function(e){e.eol&&e.eol!==this._eol&&(this._eol=e.eol,this._lineStarts=null);for(var t=e.changes,n=0,i=t.length;n<i;n++){var o=t[n];this._acceptDeleteRange(o.range),this._acceptInsertText(new s.a(o.range.startLineNumber,o.range.startColumn),o.text)}this._versionId=e.versionId},e.prototype._ensureLineStarts=function(){if(!this._lineStarts){for(var e=this._eol.length,t=this._lines.length,n=new Uint32Array(t),i=0;i<t;i++)n[i]=this._lines[i].length+e;this._lineStarts=new Ft.a(n)}},e.prototype._setLineText=function(e,t){this._lines[e]=t,this._lineStarts&&this._lineStarts.changeValue(e,this._lines[e].length+this._eol.length)},e.prototype._acceptDeleteRange=function(e){if(e.startLineNumber!==e.endLineNumber)this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.endLineNumber-1].substring(e.endColumn-1)),this._lines.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(e.startLineNumber,e.endLineNumber-e.startLineNumber);else{if(e.startColumn===e.endColumn)return;this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.startLineNumber-1].substring(e.endColumn-1))}},e.prototype._acceptInsertText=function(e,t){if(0!==t.length){var n=t.split(/\r\n|\r|\n/);if(1!==n.length){n[n.length-1]+=this._lines[e.lineNumber-1].substring(e.column-1),this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+n[0]);for(var i=new Uint32Array(n.length-1),o=1;o<n.length;o++)this._lines.splice(e.lineNumber+o-1,0,n[o]),i[o-1]=n[o].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(e.lineNumber,i)}else this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+n[0]+this._lines[e.lineNumber-1].substring(e.column-1))}},e}(),Wt=n(115),Vt=n(93),Bt=function(){function e(e){for(var t=0,n=0,i=0,o=e.length;i<o;i++){var r=e[i],a=r[0],s=r[1],l=r[2];s>t&&(t=s),a>n&&(n=a),l>n&&(n=l)}t++,n++;var c=new Vt.a(n,t,0);for(i=0,o=e.length;i<o;i++){var u=e[i];a=u[0],s=u[1],l=u[2];c.set(a,s,l)}this._states=c,this._maxCharCode=t}return e.prototype.nextState=function(e,t){return t<0||t>=this._maxCharCode?0:this._states.get(e,t)},e}(),Ht=null;var zt=null;var Ut=function(){function e(){}return e._createLink=function(e,t,n,i,o){var r=o-1;do{var a=t.charCodeAt(r);if(2!==e.get(a))break;r--}while(r>i);if(i>0){var s=t.charCodeAt(i-1),l=t.charCodeAt(r);(40===s&&41===l||91===s&&93===l||123===s&&125===l)&&r--}return{range:{startLineNumber:n,startColumn:i+1,endLineNumber:n,endColumn:r+2},url:t.substring(i,r+1)}},e.computeLinks=function(t){for(var n=(null===Ht&&(Ht=new Bt([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),Ht),i=function(){if(null===zt){zt=new Wt.a(0);for(var e=0;e<" \t<>'\"\u3001\u3002\uff61\uff64\uff0c\uff0e\uff1a\uff1b\uff1f\uff01\uff20\uff03\uff04\uff05\uff06\uff0a\u2018\u201c\u3008\u300a\u300c\u300e\u3010\u3014\uff08\uff3b\uff5b\uff62\uff63\uff5d\uff3d\uff09\u3015\u3011\u300f\u300d\u300b\u3009\u201d\u2019\uff40\uff5e\u2026".length;e++)zt.set(" \t<>'\"\u3001\u3002\uff61\uff64\uff0c\uff0e\uff1a\uff1b\uff1f\uff01\uff20\uff03\uff04\uff05\uff06\uff0a\u2018\u201c\u3008\u300a\u300c\u300e\u3010\u3014\uff08\uff3b\uff5b\uff62\uff63\uff5d\uff3d\uff09\u3015\u3011\u300f\u300d\u300b\u3009\u201d\u2019\uff40\uff5e\u2026".charCodeAt(e),1);for(e=0;e<".,;".length;e++)zt.set(".,;".charCodeAt(e),2)}return zt}(),o=[],r=1,a=t.getLineCount();r<=a;r++){for(var s=t.getLineContent(r),l=s.length,c=0,u=0,d=0,h=1,f=!1,p=!1,m=!1;c<l;){var g=!1,b=s.charCodeAt(c);if(13===h){var y=void 0;switch(b){case 40:f=!0,y=0;break;case 41:y=f?0:1;break;case 91:p=!0,y=0;break;case 93:y=p?0:1;break;case 123:m=!0,y=0;break;case 125:y=m?0:1;break;case 39:y=34===d||96===d?0:1;break;case 34:y=39===d||96===d?0:1;break;case 96:y=39===d||34===d?0:1;break;default:y=i.get(b)}1===y&&(o.push(e._createLink(i,s,r,u,c)),g=!0)}else if(12===h){1===(y=i.get(b))?g=!0:h=13}else 0===(h=n.nextState(h,b))&&(g=!0);g&&(h=1,f=!1,p=!1,m=!1,u=c+1,d=b),c++}13===h&&o.push(e._createLink(i,s,r,u,l))}return o},e}();var qt=function(){function e(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}return e.prototype.navigateValueSet=function(e,t,n,i,o){var r;if(e&&t&&(r=this.doNavigateValueSet(t,o)))return{range:e,value:r};if(n&&i&&(r=this.doNavigateValueSet(i,o)))return{range:n,value:r};return null},e.prototype.doNavigateValueSet=function(e,t){var n=this.numberReplace(e,t);return null!==n?n:this.textReplace(e,t)},e.prototype.numberReplace=function(e,t){var n=Math.pow(10,e.length-(e.lastIndexOf(".")+1)),i=Number(e),o=parseFloat(e);return isNaN(i)||isNaN(o)||i!==o?null:0!==i||t?(i=Math.floor(i*n),i+=t?n:-n,String(i/n)):null},e.prototype.textReplace=function(e,t){return this.valueSetsReplace(this._defaultValueSet,e,t)},e.prototype.valueSetsReplace=function(e,t,n){for(var i=null,o=0,r=e.length;null===i&&o<r;o++)i=this.valueSetReplace(e[o],t,n);return i},e.prototype.valueSetReplace=function(e,t,n){var i=e.indexOf(t);return i>=0?((i+=n?1:-1)<0?i=e.length-1:i%=e.length,e[i]):null},e.INSTANCE=new e,e}(),Gt=n(105),Kt=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Yt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Kt(t,e),Object.defineProperty(t.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return this._versionId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"eol",{get:function(){return this._eol},enumerable:!0,configurable:!0}),t.prototype.getValue=function(){return this.getText()},t.prototype.getLinesContent=function(){return this._lines.slice(0)},t.prototype.getLineCount=function(){return this._lines.length},t.prototype.getLineContent=function(e){return this._lines[e-1]},t.prototype.getWordAtPosition=function(e,t){var n=Object(Gt.d)(e.column,Object(Gt.c)(t),this._lines[e.lineNumber-1],0);return n?new l.a(e.lineNumber,n.startColumn,e.lineNumber,n.endColumn):null},t.prototype.getWordUntilPosition=function(e,t){var n=this.getWordAtPosition(e,t);return n?{word:this._lines[e.lineNumber-1].substring(n.startColumn-1,e.column-1),startColumn:n.startColumn,endColumn:e.column}:{word:"",startColumn:e.column,endColumn:e.column}},t.prototype.createWordIterator=function(e){var t,n=this,i={done:!1,value:""},o=0,r=0,a=[],s=function(){if(r<a.length)i.done=!1,i.value=t.substring(a[r].start,a[r].end),r+=1;else{if(!(o>=n._lines.length))return t=n._lines[o],a=n._wordenize(t,e),r=0,o+=1,s();i.done=!0,i.value=void 0}return i};return{next:s}},t.prototype._wordenize=function(e,t){var n,i=[];for(t.lastIndex=0;(n=t.exec(e))&&0!==n[0].length;)i.push({start:n.index,end:n.index+n[0].length});return i},t.prototype.getValueInRange=function(e){if((e=this._validateRange(e)).startLineNumber===e.endLineNumber)return this._lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1);var t=this._eol,n=e.startLineNumber-1,i=e.endLineNumber-1,o=[];o.push(this._lines[n].substring(e.startColumn-1));for(var r=n+1;r<i;r++)o.push(this._lines[r]);return o.push(this._lines[i].substring(0,e.endColumn-1)),o.join(t)},t.prototype.offsetAt=function(e){return e=this._validatePosition(e),this._ensureLineStarts(),this._lineStarts.getAccumulatedValue(e.lineNumber-2)+(e.column-1)},t.prototype.positionAt=function(e){e=Math.floor(e),e=Math.max(0,e),this._ensureLineStarts();var t=this._lineStarts.getIndexOf(e),n=this._lines[t.index].length;return{lineNumber:1+t.index,column:1+Math.min(t.remainder,n)}},t.prototype._validateRange=function(e){var t=this._validatePosition({lineNumber:e.startLineNumber,column:e.startColumn}),n=this._validatePosition({lineNumber:e.endLineNumber,column:e.endColumn});return t.lineNumber!==e.startLineNumber||t.column!==e.startColumn||n.lineNumber!==e.endLineNumber||n.column!==e.endColumn?{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:n.lineNumber,endColumn:n.column}:e},t.prototype._validatePosition=function(e){if(!s.a.isIPosition(e))throw new Error("bad position");var t=e.lineNumber,n=e.column,i=!1;if(t<1)t=1,n=1,i=!0;else if(t>this._lines.length)t=this._lines.length,n=this._lines[t-1].length+1,i=!0;else{var o=this._lines[t-1].length+1;n<1?(n=1,i=!0):n>o&&(n=o,i=!0)}return i?{lineNumber:t,column:n}:e},t}(jt),Zt=function(e){function t(t){var n=e.call(this,t)||this;return n._models=Object.create(null),n}return Kt(t,e),t.prototype.dispose=function(){this._models=Object.create(null)},t.prototype._getModel=function(e){return this._models[e]},t.prototype._getModels=function(){var e=this,t=[];return Object.keys(this._models).forEach(function(n){return t.push(e._models[n])}),t},t.prototype.acceptNewModel=function(e){this._models[e.url]=new Yt(f.a.parse(e.url),e.lines,e.EOL,e.versionId)},t.prototype.acceptModelChanged=function(e,t){this._models[e]&&this._models[e].onEvents(t)},t.prototype.acceptRemovedModel=function(e){this._models[e]&&delete this._models[e]},t}(function(){function e(e){this._foreignModuleFactory=e,this._foreignModule=null}return e.prototype.computeDiff=function(e,t,n){var i=this._getModel(e),o=this._getModel(t);if(!i||!o)return null;var r=i.getLinesContent(),a=o.getLinesContent(),s=new Rt(r,a,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:n,shouldMakePrettyDiff:!0});return u.b.as(s.computeDiff())},e.prototype.computeMoreMinimalEdits=function(t,n){var i=this._getModel(t);if(!i)return u.b.as(n);for(var o,r=[],a=0,s=n;a<s.length;a++){var c=s[a],d=c.range,h=c.text,f=c.eol;if("number"===typeof f&&(o=f),d){var p=i.getValueInRange(d);if(p!==(h=h.replace(/\r\n|\n|\r/g,i.eol)))if(Math.max(h.length,p.length)>e._diffLimit)r.push({range:d,text:h});else for(var m=Object(Ot.b)(p,h,!1),g=i.offsetAt(l.a.lift(d).getStartPosition()),b=0,y=m;b<y.length;b++){var v=y[b],w=i.positionAt(g+v.originalStart),_=i.positionAt(g+v.originalStart+v.originalLength),S={text:h.substr(v.modifiedStart,v.modifiedLength),range:{startLineNumber:w.lineNumber,startColumn:w.column,endLineNumber:_.lineNumber,endColumn:_.column}};i.getValueInRange(S.range)!==S.text&&r.push(S)}}}return"number"===typeof o&&r.push({eol:o,text:void 0,range:void 0}),u.b.as(r)},e.prototype.computeLinks=function(e){var t=this._getModel(e);return t?u.b.as(function(e){return e&&"function"===typeof e.getLineCount&&"function"===typeof e.getLineContent?Ut.computeLinks(e):[]}(t)):null},e.prototype.textualSuggest=function(t,n,i,o){var r=this._getModel(t);if(r){var a=[],s=new RegExp(i,o),l=r.getWordUntilPosition(n,s).word,c=Object.create(null);c[l]=!0;for(var d=r.createWordIterator(s),h=d.next();!h.done&&a.length<=e._suggestionsLimit;h=d.next()){var f=h.value;c[f]||(c[f]=!0,isNaN(Number(f))&&a.push({type:"text",label:f,insertText:f,noAutoAccept:!0,overwriteBefore:l.length}))}return u.b.as({suggestions:a})}},e.prototype.navigateValueSet=function(e,t,n,i,o){var r=this._getModel(e);if(!r)return null;var a=new RegExp(i,o);t.startColumn===t.endColumn&&(t={startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn+1});var s=r.getValueInRange(t),l=r.getWordAtPosition({lineNumber:t.startLineNumber,column:t.startColumn},a),c=null;null!==l&&(c=r.getValueInRange(l));var d=qt.INSTANCE.navigateValueSet(t,s,l,c,n);return u.b.as(d)},e.prototype.loadForeignModule=function(e,t){var n=this,i={getMirrorModels:function(){return n._getModels()}};if(this._foreignModuleFactory){this._foreignModule=this._foreignModuleFactory(i,t);var o=[];for(var r in this._foreignModule)"function"===typeof this._foreignModule[r]&&o.push(r);return u.b.as(o)}return u.b.wrapError(new Error("Unexpected usage"))},e.prototype.fmr=function(e,t){if(!this._foreignModule||"function"!==typeof this._foreignModule[e])return u.b.wrapError(new Error("Missing requestHandler or method: "+e));try{return u.b.as(this._foreignModule[e].apply(this._foreignModule,t))}catch(e){return u.b.wrapError(e)}},e._diffLimit=1e4,e._suggestionsLimit=1e4,e}());"function"===typeof importScripts&&(ne.b.monaco=g());var $t=n(35),Xt=Object(S.c)("textResourceConfigurationService"),Qt=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Jt=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},en=function(e,t){return function(n,i){t(n,i,e)}},tn=6e4,nn=3e5;function on(e,t){var n=e.getModel(t);return!!n&&!n.isTooLargeForSyncing()}var rn=function(e){function t(t,n){var i=e.call(this)||this;return i._modelService=t,i._workerManager=i._register(new sn(i._modelService)),i._register(re.p.register("*",{provideLinks:function(e,t){return on(i._modelService,e.uri)?Object(I.o)(t,i._workerManager.withWorker().then(function(t){return t.computeLinks(e.uri)})):u.b.as([])}})),i._register(re.u.register("*",new an(i._workerManager,n,i._modelService))),i}return Qt(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.canComputeDiff=function(e,t){return on(this._modelService,e)&&on(this._modelService,t)},t.prototype.computeDiff=function(e,t,n){return this._workerManager.withWorker().then(function(i){return i.computeDiff(e,t,n)})},t.prototype.computeMoreMinimalEdits=function(e,t){return Array.isArray(t)&&0!==t.length&&on(this._modelService,e)?this._workerManager.withWorker().then(function(n){return n.computeMoreMinimalEdits(e,t)}):u.b.as(t)},t.prototype.canNavigateValueSet=function(e){return on(this._modelService,e)},t.prototype.navigateValueSet=function(e,t,n){return this._workerManager.withWorker().then(function(i){return i.navigateValueSet(e,t,n)})},t=Jt([en(0,Tt.a),en(1,Xt)],t)}(w.a),an=function(){function e(e,t,n){this._workerManager=e,this._configurationService=t,this._modelService=n}return e.prototype.provideCompletionItems=function(e,t){if(this._configurationService.getValue(e.uri,t,"editor").wordBasedSuggestions&&on(this._modelService,e.uri))return this._workerManager.withWorker().then(function(n){return n.textualSuggest(e.uri,t)})},e}(),sn=function(e){function t(t){var n=e.call(this)||this;return n._modelService=t,n._editorWorkerClient=null,n._register(new I.b).cancelAndSet(function(){return n._checkStopIdleWorker()},Math.round(nn/2)),n._register(n._modelService.onModelRemoved(function(e){return n._checkStopEmptyWorker()})),n}return Qt(t,e),t.prototype.dispose=function(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),e.prototype.dispose.call(this)},t.prototype._checkStopEmptyWorker=function(){this._editorWorkerClient&&(0===this._modelService.getModels().length&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null))},t.prototype._checkStopIdleWorker=function(){this._editorWorkerClient&&((new Date).getTime()-this._lastWorkerUsedTime>nn&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null))},t.prototype.withWorker=function(){return this._lastWorkerUsedTime=(new Date).getTime(),this._editorWorkerClient||(this._editorWorkerClient=new un(this._modelService,"editorWorkerService")),u.b.as(this._editorWorkerClient)},t}(w.a),ln=function(e){function t(t,n,i){var o=e.call(this)||this;if(o._syncedModels=Object.create(null),o._syncedModelsLastUsedTime=Object.create(null),o._proxy=t,o._modelService=n,!i){var r=new I.b;r.cancelAndSet(function(){return o._checkStopModelSync()},Math.round(tn/2)),o._register(r)}return o}return Qt(t,e),t.prototype.dispose=function(){for(var t in this._syncedModels)Object(w.d)(this._syncedModels[t]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),e.prototype.dispose.call(this)},t.prototype.esureSyncedResources=function(e){for(var t=0;t<e.length;t++){var n=e[t],i=n.toString();this._syncedModels[i]||this._beginModelSync(n),this._syncedModels[i]&&(this._syncedModelsLastUsedTime[i]=(new Date).getTime())}},t.prototype._checkStopModelSync=function(){var e=(new Date).getTime(),t=[];for(var n in this._syncedModelsLastUsedTime){e-this._syncedModelsLastUsedTime[n]>tn&&t.push(n)}for(var i=0;i<t.length;i++)this._stopModelSync(t[i])},t.prototype._beginModelSync=function(e){var t=this,n=this._modelService.getModel(e);if(n&&!n.isTooLargeForSyncing()){var i=e.toString();this._proxy.acceptNewModel({url:n.uri.toString(),lines:n.getLinesContent(),EOL:n.getEOL(),versionId:n.getVersionId()});var o=[];o.push(n.onDidChangeContent(function(e){t._proxy.acceptModelChanged(i.toString(),e)})),o.push(n.onWillDispose(function(){t._stopModelSync(i)})),o.push(Object(w.f)(function(){t._proxy.acceptRemovedModel(i)})),this._syncedModels[i]=o}},t.prototype._stopModelSync=function(e){var t=this._syncedModels[e];delete this._syncedModels[e],delete this._syncedModelsLastUsedTime[e],Object(w.d)(t)},t}(w.a),cn=function(){function e(e){this._instance=e,this._proxyObj=u.b.as(this._instance)}return e.prototype.dispose=function(){this._instance.dispose(),this._instance=null,this._proxyObj=null},e.prototype.getProxyObject=function(){return new I.d(this._proxyObj)},e}(),un=function(e){function t(t,n){var i=e.call(this)||this;return i._modelService=t,i._workerFactory=new kt(n),i._worker=null,i._modelManager=null,i}return Qt(t,e),t.prototype._getOrCreateWorker=function(){if(!this._worker)try{this._worker=this._register(new Ct(this._workerFactory,"vs/editor/common/services/editorSimpleWorker"))}catch(e){_t(e),this._worker=new cn(new Zt(null))}return this._worker},t.prototype._getProxy=function(){var e=this;return new I.d(this._getOrCreateWorker().getProxyObject().then(null,function(t){return _t(t),e._worker=new cn(new Zt(null)),e._getOrCreateWorker().getProxyObject()}))},t.prototype._getOrCreateModelManager=function(e){return this._modelManager||(this._modelManager=this._register(new ln(e,this._modelService,!1))),this._modelManager},t.prototype._withSyncedResources=function(e){var t=this;return this._getProxy().then(function(n){return t._getOrCreateModelManager(n).esureSyncedResources(e),n})},t.prototype.computeDiff=function(e,t,n){return this._withSyncedResources([e,t]).then(function(i){return i.computeDiff(e.toString(),t.toString(),n)})},t.prototype.computeMoreMinimalEdits=function(e,t){return this._withSyncedResources([e]).then(function(n){return n.computeMoreMinimalEdits(e.toString(),t)})},t.prototype.computeLinks=function(e){return this._withSyncedResources([e]).then(function(t){return t.computeLinks(e.toString())})},t.prototype.textualSuggest=function(e,t){var n=this;return this._withSyncedResources([e]).then(function(i){var o=n._modelService.getModel(e);if(!o)return null;var r=$t.a.getWordDefinition(o.getLanguageIdentifier().id),a=r.source,s=(r.global?"g":"")+(r.ignoreCase?"i":"")+(r.multiline?"m":"");return i.textualSuggest(e.toString(),t,a,s)})},t.prototype.navigateValueSet=function(e,t,n){var i=this;return this._withSyncedResources([e]).then(function(o){var r=i._modelService.getModel(e);if(!r)return null;var a=$t.a.getWordDefinition(r.getLanguageIdentifier().id),s=a.source,l=(a.global?"g":"")+(a.ignoreCase?"i":"")+(a.multiline?"m":"");return o.navigateValueSet(e.toString(),t,n,s,l)})},t}(w.a),dn=n(90),hn=function(){function e(e){this._languageIdentifier=e}return e.prototype.getId=function(){return this._languageIdentifier.language},e.prototype.getLanguageIdentifier=function(){return this._languageIdentifier},e}(),fn=n(43),pn=n(192),mn="text/plain",gn="application/unknown",bn=[],yn=[],vn=[];function wn(e,t){void 0===t&&(t=!1);var n=function(e){return{id:e.id,mime:e.mime,filename:e.filename,extension:e.extension,filepattern:e.filepattern,firstline:e.firstline,userConfigured:e.userConfigured,filenameLowercase:e.filename?e.filename.toLowerCase():void 0,extensionLowercase:e.extension?e.extension.toLowerCase():void 0,filepatternLowercase:e.filepattern?e.filepattern.toLowerCase():void 0,filepatternOnPath:!!e.filepattern&&e.filepattern.indexOf(fn.i)>=0}}(e);bn.push(n),n.userConfigured?vn.push(n):yn.push(n),t&&!n.userConfigured&&bn.forEach(function(e){e.mime===n.mime||e.userConfigured||(n.extension&&e.extension===n.extension&&console.warn("Overwriting extension <<"+n.extension+">> to now point to mime <<"+n.mime+">>"),n.filename&&e.filename===n.filename&&console.warn("Overwriting filename <<"+n.filename+">> to now point to mime <<"+n.mime+">>"),n.filepattern&&e.filepattern===n.filepattern&&console.warn("Overwriting filepattern <<"+n.filepattern+">> to now point to mime <<"+n.mime+">>"),n.firstline&&e.firstline===n.firstline&&console.warn("Overwriting firstline <<"+n.firstline+">> to now point to mime <<"+n.mime+">>"))})}function _n(e,t){if(!e)return[gn];e=e.toLowerCase();var n=fn.a(e),i=Sn(e,n,vn);if(i)return[i,mn];var o=Sn(e,n,yn);if(o)return[o,mn];if(t){var r=function(e){Nt.startsWithUTF8BOM(e)&&(e=e.substr(1));if(e.length>0)for(var t=0;t<bn.length;++t){var n=bn[t];if(n.firstline){var i=e.match(n.firstline);if(i&&i.length>0)return n.mime}}return null}(t);if(r)return[r,mn]}return[gn]}function Sn(e,t,n){for(var i,o,r,a=n.length-1;a>=0;a--){var s=n[a];if(t===s.filenameLowercase){i=s;break}if(s.filepattern&&(!o||s.filepattern.length>o.filepattern.length)){var l=s.filepatternOnPath?e:t;Object(pn.a)(s.filepatternLowercase,l)&&(o=s)}s.extension&&(!r||s.extension.length>r.extension.length)&&Nt.endsWith(t,s.extensionLowercase)&&(r=s)}return i?i.mime:o?o.mime:r?r.mime:null}var Cn=n(60),xn=new(function(){function e(){this._onDidAddLanguages=new r.a,this.onDidAddLanguages=this._onDidAddLanguages.event,this._languages=[]}return e.prototype.registerLanguage=function(e){this._languages.push(e),this._onDidAddLanguages.fire([e])},e.prototype.getLanguages=function(){return this._languages.slice(0)},e}());Cn.a.add("editor.modesRegistry",xn);var kn=new re.o("plaintext",1);xn.registerLanguage({id:"plaintext",extensions:[".txt",".gitignore"],aliases:[L.a("plainText.alias","Plain Text"),"text"],mimetypes:["text/plain"]}),$t.a.register(kn,{brackets:[["(",")"],["[","]"],["{","}"]]});var Tn=n(71),On=Object.prototype.hasOwnProperty,Nn=function(){function e(e,t){void 0===e&&(e=!0),void 0===t&&(t=!1);var n=this;this._nextLanguageId=1,this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},this._languageIds=[],this._warnOnOverwrite=t,e&&(this._registerLanguages(xn.getLanguages()),xn.onDidAddLanguages(function(e){return n._registerLanguages(e)}))}return e.prototype._registerLanguages=function(e){var t=this;if(0!==e.length){for(var n=0;n<e.length;n++)this._registerLanguage(e[n]);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(function(e){var n=t._languages[e];n.name&&(t._nameMap[n.name]=n.identifier),n.aliases.forEach(function(e){t._lowercaseNameMap[e.toLowerCase()]=n.identifier}),n.mimetypes.forEach(function(e){t._mimeTypesMap[e]=n.identifier})}),Cn.a.as(H.b.Configuration).registerOverrideIdentifiers(xn.getLanguages().map(function(e){return e.id}))}},e.prototype._registerLanguage=function(e){var t=e.id,n=null;if(On.call(this._languages,t))n=this._languages[t];else{var i=this._nextLanguageId++;n={identifier:new re.o(t,i),name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[]},this._languageIds[i]=t,this._languages[t]=n}this._mergeLanguage(n,e)},e.prototype._mergeLanguage=function(e,t){var n,i=t.id,o=null;if(Array.isArray(t.mimetypes)&&t.mimetypes.length>0&&((n=e.mimetypes).push.apply(n,t.mimetypes),o=t.mimetypes[0]),o||(o="text/x-"+i,e.mimetypes.push(o)),Array.isArray(t.extensions))for(var r=0,a=t.extensions;r<a.length;r++){var s=a[r];wn({id:i,mime:o,extension:s},this._warnOnOverwrite),e.extensions.push(s)}if(Array.isArray(t.filenames))for(var l=0,c=t.filenames;l<c.length;l++){var u=c[l];wn({id:i,mime:o,filename:u},this._warnOnOverwrite),e.filenames.push(u)}if(Array.isArray(t.filenamePatterns))for(var d=0,h=t.filenamePatterns;d<h.length;d++){wn({id:i,mime:o,filepattern:h[d]},this._warnOnOverwrite)}if("string"===typeof t.firstLine&&t.firstLine.length>0){var f=t.firstLine;"^"!==f.charAt(0)&&(f="^"+f);try{var p=new RegExp(f);Nt.regExpLeadsToEndlessLoop(p)||wn({id:i,mime:o,firstline:p},this._warnOnOverwrite)}catch(e){Object(it.e)(e)}}e.aliases.push(i);var m=null;if("undefined"!==typeof t.aliases&&Array.isArray(t.aliases)&&(m=0===t.aliases.length?[null]:t.aliases),null!==m)for(var g=0;g<m.length;g++)m[g]&&0!==m[g].length&&e.aliases.push(m[g]);var b=null!==m&&m.length>0;if(b&&null===m[0]);else{var y=(b?m[0]:null)||i;!b&&e.name||(e.name=y)}t.configuration&&e.configurationFiles.push(t.configuration)},e.prototype.isRegisteredMode=function(e){return!!On.call(this._mimeTypesMap,e)||On.call(this._languages,e)},e.prototype.getModeIdForLanguageNameLowercase=function(e){return On.call(this._lowercaseNameMap,e)?this._lowercaseNameMap[e].language:null},e.prototype.extractModeIds=function(e){var t=this;return e?e.split(",").map(function(e){return e.trim()}).map(function(e){return On.call(t._mimeTypesMap,e)?t._mimeTypesMap[e].language:e}).filter(function(e){return On.call(t._languages,e)}):[]},e.prototype.getLanguageIdentifier=function(e){if(e===Tn.b||0===e)return Tn.a;var t;if("string"===typeof e)t=e;else if(!(t=this._languageIds[e]))return null;return On.call(this._languages,t)?this._languages[t].identifier:null},e.prototype.getModeIdsFromFilenameOrFirstLine=function(e,t){if(!e&&!t)return[];var n=_n(e,t);return this.extractModeIds(n.join(","))},e}(),Ln=function(){function e(e){void 0===e&&(e=!1),this._onDidCreateMode=new r.a,this.onDidCreateMode=this._onDidCreateMode.event,this._instantiatedModes={},this._registry=new Nn(!0,e)}return e.prototype._onReady=function(){return u.b.as(!0)},e.prototype.isRegisteredMode=function(e){return this._registry.isRegisteredMode(e)},e.prototype.getModeIdForLanguageName=function(e){return this._registry.getModeIdForLanguageNameLowercase(e)},e.prototype.getModeIdByFilenameOrFirstLine=function(e,t){var n=this._registry.getModeIdsFromFilenameOrFirstLine(e,t);return n.length>0?n[0]:null},e.prototype.getModeId=function(e){var t=this._registry.extractModeIds(e);return t.length>0?t[0]:null},e.prototype.getLanguageIdentifier=function(e){return this._registry.getLanguageIdentifier(e)},e.prototype.getMode=function(e){for(var t=this._registry.extractModeIds(e),n=!1,i=0;i<t.length;i++){if(this._instantiatedModes.hasOwnProperty(t[i]))return this._instantiatedModes[t[i]];n=n||"plaintext"===t[i]}if(n){var o=null;return this.getOrCreateMode(e).then(function(e){o=e}).done(null,it.e),o}return null},e.prototype.getOrCreateMode=function(e){var t=this;return this._onReady().then(function(){var n=t.getModeId(e);return t._getOrCreateMode(n||"plaintext")})},e.prototype.getOrCreateModeByFilenameOrFirstLine=function(e,t){var n=this;return this._onReady().then(function(){var i=n.getModeIdByFilenameOrFirstLine(e,t);return n._getOrCreateMode(i||"plaintext")})},e.prototype._getOrCreateMode=function(e){if(!this._instantiatedModes.hasOwnProperty(e)){var t=this.getLanguageIdentifier(e);this._instantiatedModes[e]=new hn(t),this._onDidCreateMode.fire(this._instantiatedModes[e])}return this._instantiatedModes[e]},e}(),In=n(73),En=n(30),Dn=n(31),An=n(33),Mn=n(21),Pn=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},Rn=function(e,t){return function(n,i){t(n,i,e)}};function Fn(e){return e.toString()}var jn=function(){function e(e,t,n){this.model=e,this._markerDecorations=[],this._modelEventListeners=[],this._modelEventListeners.push(e.onWillDispose(function(){return t(e)})),this._modelEventListeners.push(e.onDidChangeLanguage(function(t){return n(e,t)}))}return e.prototype.dispose=function(){this._markerDecorations=this.model.deltaDecorations(this._markerDecorations,[]),this._modelEventListeners=Object(w.d)(this._modelEventListeners),this.model=null},e.prototype.acceptMarkerDecorations=function(e){this._markerDecorations=this.model.deltaDecorations(this._markerDecorations,e)},e}(),Wn=function(){function e(){}return e.setMarkers=function(e,t){var n=this,i=t.read({resource:e.model.uri,take:500}).map(function(t){return{range:n._createDecorationRange(e.model,t),options:n._createDecorationOption(t)}});e.acceptMarkerDecorations(i)},e._createDecorationRange=function(e,t){var n=l.a.lift(t);if(t.severity===ft.b.Hint&&l.a.spansMultipleLines(n)&&(n=n.setEndPosition(n.startLineNumber,n.startColumn)),(n=e.validateRange(n)).isEmpty()){var i=e.getWordAtPosition(n.getStartPosition());if(i)n=new l.a(n.startLineNumber,i.startColumn,n.endLineNumber,i.endColumn);else{var o=e.getLineLastNonWhitespaceColumn(n.startLineNumber)||e.getLineMaxColumn(n.startLineNumber);1===o||(n=n.endColumn>=o?new l.a(n.startLineNumber,o-1,n.endLineNumber,o):new l.a(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn+1))}}else if(t.endColumn===Number.MAX_VALUE&&1===t.startColumn&&n.startLineNumber===n.endLineNumber){var r=e.getLineFirstNonWhitespaceColumn(t.startLineNumber);r<n.endColumn&&(n=new l.a(n.startLineNumber,r,n.endLineNumber,n.endColumn),t.startColumn=r)}return n},e._createDecorationOption=function(e){var t,n,i,o,r;switch(e.severity){case ft.b.Hint:t=e.tags&&e.tags.indexOf(ft.c.Unnecessary)>=0?"squiggly-unnecessary":"squiggly-hint",o=0;break;case ft.b.Warning:t="squiggly-warning",n=Object(Ne.f)(An.z),i=Object(Ne.f)(An.z),o=20;break;case ft.b.Info:t="squiggly-info",n=Object(Ne.f)(An.y),i=Object(Ne.f)(An.y),o=10;break;case ft.b.Error:default:t="squiggly-error",n=Object(Ne.f)(An.x),i=Object(Ne.f)(An.x),o=30}e.tags&&-1!==e.tags.indexOf(ft.c.Unnecessary)&&(r="squiggly-inline-unnecessary");var a=null,s=e.message,l=e.source,c=e.relatedInformation;if("string"===typeof s&&(s=s.trim(),l&&(s=/\n/g.test(s)?L.a("diagAndSourceMultiline","[{0}]\n{1}",l,s):L.a("diagAndSource","[{0}] {1}",l,s)),a=(new In.a).appendCodeblock("_",s),!Object(W.k)(c))){a.appendMarkdown("\n");for(var u=0,d=c;u<d.length;u++){var h=d[u],f=h.message,p=h.resource,m=h.startLineNumber,g=h.startColumn;a.appendMarkdown("* ["+Object(fn.a)(p.path)+"("+m+", "+g+")]("+p.toString(!1)+"#"+m+","+g+"): "),a.appendText(""+f),a.appendMarkdown("\n")}a.appendMarkdown("\n")}return{stickiness:Mn.h.NeverGrowsWhenTypingAtEdges,className:t,hoverMessage:a,showIfCollapsed:!0,overviewRuler:{color:n,darkColor:i,position:Mn.f.Right},zIndex:o,inlineClassName:r}},e}(),Vn=ne.c||ne.d?Mn.b.LF:Mn.b.CRLF,Bn=function(){function e(e,t){var n=this;this._markerService=e,this._configurationService=t,this._models={},this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._onModelAdded=new r.a,this._onModelRemoved=new r.a,this._onModelModeChanged=new r.a,this._markerService&&(this._markerServiceSubscription=this._markerService.onMarkerChanged(this._handleMarkerChange,this)),this._configurationServiceSubscription=this._configurationService.onDidChangeConfiguration(function(e){return n._updateModelOptions()}),this._updateModelOptions()}return e._readModelOptions=function(e,t){var n=Dn.c.tabSize;if(e.editor&&"undefined"!==typeof e.editor.tabSize){var i=parseInt(e.editor.tabSize,10);isNaN(i)||(n=i),n<1&&(n=1)}var o=Dn.c.insertSpaces;e.editor&&"undefined"!==typeof e.editor.insertSpaces&&(o="false"!==e.editor.insertSpaces&&Boolean(e.editor.insertSpaces));var r=Vn,a=e.files&&e.files.eol;"\r\n"===a?r=Mn.b.CRLF:"\n"===a&&(r=Mn.b.LF);var s=Dn.c.trimAutoWhitespace;e.editor&&"undefined"!==typeof e.editor.trimAutoWhitespace&&(s="false"!==e.editor.trimAutoWhitespace&&Boolean(e.editor.trimAutoWhitespace));var l=Dn.c.detectIndentation;e.editor&&"undefined"!==typeof e.editor.detectIndentation&&(l="false"!==e.editor.detectIndentation&&Boolean(e.editor.detectIndentation));var c=Dn.c.largeFileOptimizations;return e.editor&&"undefined"!==typeof e.editor.largeFileOptimizations&&(c="false"!==e.editor.largeFileOptimizations&&Boolean(e.editor.largeFileOptimizations)),{isForSimpleWidget:t,tabSize:n,insertSpaces:o,detectIndentation:l,defaultEOL:r,trimAutoWhitespace:s,largeFileOptimizations:c}},e.prototype.getCreationOptions=function(t,n,i){var o=this._modelCreationOptionsByLanguageAndResource[t+n];return o||(o=e._readModelOptions(this._configurationService.getValue({overrideIdentifier:t,resource:n}),i),this._modelCreationOptionsByLanguageAndResource[t+n]=o),o},e.prototype._updateModelOptions=function(){var t=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);for(var n=Object.keys(this._models),i=0,o=n.length;i<o;i++){var r=n[i],a=this._models[r],s=a.model.getLanguageIdentifier().language,l=a.model.uri,c=t[s+l],u=this.getCreationOptions(s,l,a.model.isForSimpleWidget);e._setModelOptionsForModel(a.model,u,c)}},e._setModelOptionsForModel=function(e,t,n){n&&n.detectIndentation===t.detectIndentation&&n.insertSpaces===t.insertSpaces&&n.tabSize===t.tabSize&&n.trimAutoWhitespace===t.trimAutoWhitespace||(t.detectIndentation?(e.detectIndentation(t.insertSpaces,t.tabSize),e.updateOptions({trimAutoWhitespace:t.trimAutoWhitespace})):e.updateOptions({insertSpaces:t.insertSpaces,tabSize:t.tabSize,trimAutoWhitespace:t.trimAutoWhitespace}))},e.prototype.dispose=function(){this._markerServiceSubscription&&this._markerServiceSubscription.dispose(),this._configurationServiceSubscription.dispose()},e.prototype._handleMarkerChange=function(e){var t=this;e.forEach(function(e){var n=Fn(e),i=t._models[n];i&&Wn.setMarkers(i,t._markerService)})},e.prototype._cleanUp=function(e){var t=this;e.uri.scheme!==ht.a.inMemory&&e.uri.scheme!==ht.a.internal&&e.uri.scheme!==ht.a.vscode||this._markerService&&this._markerService.read({resource:e.uri}).map(function(e){return e.owner}).forEach(function(n){return t._markerService.remove(n,[e.uri])}),delete this._modelCreationOptionsByLanguageAndResource[e.getLanguageIdentifier().language+e.uri]},e.prototype._createModelData=function(e,t,n,i){var o=this,r=this.getCreationOptions(t.language,n,i),a=new En.b(e,r,t,n),s=Fn(a.uri);if(this._models[s])throw new Error("ModelService: Cannot add model because it already exists!");var l=new jn(a,function(e){return o._onWillDispose(e)},function(e,t){return o._onDidChangeLanguage(e,t)});return this._models[s]=l,l},e.prototype.createModel=function(e,t,n,i){var o;return void 0===i&&(i=!1),!t||u.b.is(t)?(o=this._createModelData(e,kn,n,i),this.setMode(o.model,t)):o=this._createModelData(e,t.getLanguageIdentifier(),n,i),this._markerService&&Wn.setMarkers(o,this._markerService),this._onModelAdded.fire(o.model),o.model},e.prototype.setMode=function(e,t){t&&(u.b.is(t)?t.then(function(t){e.isDisposed()||e.setMode(t.getLanguageIdentifier())}):e.setMode(t.getLanguageIdentifier()))},e.prototype.getModels=function(){for(var e=[],t=Object.keys(this._models),n=0,i=t.length;n<i;n++){var o=t[n];e.push(this._models[o].model)}return e},e.prototype.getModel=function(e){var t=Fn(e),n=this._models[t];return n?n.model:null},Object.defineProperty(e.prototype,"onModelAdded",{get:function(){return this._onModelAdded?this._onModelAdded.event:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onModelRemoved",{get:function(){return this._onModelRemoved?this._onModelRemoved.event:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onModelModeChanged",{get:function(){return this._onModelModeChanged?this._onModelModeChanged.event:null},enumerable:!0,configurable:!0}),e.prototype._onWillDispose=function(e){var t=Fn(e.uri),n=this._models[t];delete this._models[t],n.dispose(),this._cleanUp(e),this._onModelRemoved.fire(e)},e.prototype._onDidChangeLanguage=function(t,n){var i=n.oldLanguage,o=t.getLanguageIdentifier().language,r=this.getCreationOptions(i,t.uri,t.isForSimpleWidget),a=this.getCreationOptions(o,t.uri,t.isForSimpleWidget);e._setModelOptionsForModel(t,a,r),this._onModelModeChanged.fire({model:t,oldModeId:i})},e=Pn([Rn(0,ft.a),Rn(1,z.b)],e)}(),Hn=function(){function e(){this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._onCodeEditorAdd=new r.a,this._onCodeEditorRemove=new r.a,this._onDiffEditorAdd=new r.a,this._onDiffEditorRemove=new r.a}return e.prototype.addCodeEditor=function(e){this._codeEditors[e.getId()]=e,this._onCodeEditorAdd.fire(e)},Object.defineProperty(e.prototype,"onCodeEditorAdd",{get:function(){return this._onCodeEditorAdd.event},enumerable:!0,configurable:!0}),e.prototype.removeCodeEditor=function(e){delete this._codeEditors[e.getId()]&&this._onCodeEditorRemove.fire(e)},e.prototype.listCodeEditors=function(){var e=this;return Object.keys(this._codeEditors).map(function(t){return e._codeEditors[t]})},e.prototype.addDiffEditor=function(e){this._diffEditors[e.getId()]=e,this._onDiffEditorAdd.fire(e)},e.prototype.removeDiffEditor=function(e){delete this._diffEditors[e.getId()]&&this._onDiffEditorRemove.fire(e)},e.prototype.listDiffEditors=function(){var e=this;return Object.keys(this._diffEditors).map(function(t){return e._diffEditors[t]})},e.prototype.getFocusedCodeEditor=function(){for(var e=null,t=this.listCodeEditors(),n=0;n<t.length;n++){var i=t[n];if(i.hasTextFocus())return i;i.hasWidgetFocus()&&(e=i)}return e},e}(),zn=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Un=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},qn=function(e,t){return function(n,i){t(n,i,e)}},Gn=function(e){function t(t,n){void 0===n&&(n=Y.o());var i=e.call(this)||this;return i._styleSheet=n,i._decorationOptionProviders=Object.create(null),i._themeService=t,i}return zn(t,e),t.prototype.registerDecorationType=function(e,t,n){var i=this._decorationOptionProviders[e];if(!i){var o={styleSheet:this._styleSheet,key:e,parentTypeKey:n,options:t||Object.create(null)};i=n?new Kn(this._themeService,o):new Yn(this._themeService,o),this._decorationOptionProviders[e]=i}i.refCount++},t.prototype.removeDecorationType=function(e){var t=this._decorationOptionProviders[e];t&&(t.refCount--,t.refCount<=0&&(delete this._decorationOptionProviders[e],t.dispose(),this.listCodeEditors().forEach(function(t){return t.removeDecorations(e)})))},t.prototype.resolveDecorationOptions=function(e,t){var n=this._decorationOptionProviders[e];if(!n)throw new Error("Unknown decoration type key: "+e);return n.getOptions(this,t)},t=Un([qn(0,Ne.c)],t)}(Hn),Kn=function(){function e(e,t){this._parentTypeKey=t.parentTypeKey,this.refCount=0,this._beforeContentRules=new $n(3,t,e),this._afterContentRules=new $n(4,t,e)}return e.prototype.getOptions=function(e,t){var n=e.resolveDecorationOptions(this._parentTypeKey,!0);return this._beforeContentRules&&(n.beforeContentClassName=this._beforeContentRules.className),this._afterContentRules&&(n.afterContentClassName=this._afterContentRules.className),n},e.prototype.dispose=function(){this._beforeContentRules&&(this._beforeContentRules.dispose(),this._beforeContentRules=null),this._afterContentRules&&(this._afterContentRules.dispose(),this._afterContentRules=null)},e}(),Yn=function(){function e(e,t){var n=this;this.refCount=0,this._disposables=[];var i=function(i){var o=new $n(i,t,e);if(o.hasContent)return n._disposables.push(o),o.className};this.className=i(0);var o,r=(o=new $n(1,t,e)).hasContent?(n._disposables.push(o),{className:o.className,hasLetterSpacing:o.hasLetterSpacing}):null;r&&(this.inlineClassName=r.className,this.inlineClassNameAffectsLetterSpacing=r.hasLetterSpacing),this.beforeContentClassName=i(3),this.afterContentClassName=i(4),this.glyphMarginClassName=i(2);var a=t.options;this.isWholeLine=Boolean(a.isWholeLine),this.stickiness=a.rangeBehavior;var s=a.light&&a.light.overviewRulerColor||a.overviewRulerColor,l=a.dark&&a.dark.overviewRulerColor||a.overviewRulerColor;"undefined"===typeof s&&"undefined"===typeof l||(this.overviewRuler={color:s||l,darkColor:l||s,position:a.overviewRulerLane||Mn.f.Center})}return e.prototype.getOptions=function(e,t){return t?{inlineClassName:this.inlineClassName,beforeContentClassName:this.beforeContentClassName,afterContentClassName:this.afterContentClassName,className:this.className,glyphMarginClassName:this.glyphMarginClassName,isWholeLine:this.isWholeLine,overviewRuler:this.overviewRuler,stickiness:this.stickiness}:this},e.prototype.dispose=function(){this._disposables=Object(w.d)(this._disposables)},e}(),Zn={color:"color:{0} !important;",opacity:"opacity:{0}; will-change: opacity;",backgroundColor:"background-color:{0};",outline:"outline:{0};",outlineColor:"outline-color:{0};",outlineStyle:"outline-style:{0};",outlineWidth:"outline-width:{0};",border:"border:{0};",borderColor:"border-color:{0};",borderRadius:"border-radius:{0};",borderSpacing:"border-spacing:{0};",borderStyle:"border-style:{0};",borderWidth:"border-width:{0};",fontStyle:"font-style:{0};",fontWeight:"font-weight:{0};",textDecoration:"text-decoration:{0};",cursor:"cursor:{0};",letterSpacing:"letter-spacing:{0};",gutterIconPath:"background:url('{0}') center center no-repeat;",gutterIconSize:"background-size:{0};",contentText:"content:'{0}';",contentIconPath:"content:url('{0}');",margin:"margin:{0};",width:"width:{0};",height:"height:{0};"},$n=function(){function e(e,t,n){var i=this;this._theme=n.getTheme(),this._ruleType=e,this._providerArgs=t,this._usesThemeColors=!1,this._hasContent=!1,this._hasLetterSpacing=!1;var o=Xn.getClassName(this._providerArgs.key,e);this._providerArgs.parentTypeKey&&(o=o+" "+Xn.getClassName(this._providerArgs.parentTypeKey,e)),this._className=o,this._unThemedSelector=Xn.getSelector(this._providerArgs.key,this._providerArgs.parentTypeKey,e),this._buildCSS(),this._usesThemeColors&&(this._themeListener=n.onThemeChange(function(e){i._theme=n.getTheme(),i._removeCSS(),i._buildCSS()}))}return e.prototype.dispose=function(){this._hasContent&&(this._removeCSS(),this._hasContent=!1),this._themeListener&&(this._themeListener.dispose(),this._themeListener=null)},Object.defineProperty(e.prototype,"hasContent",{get:function(){return this._hasContent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasLetterSpacing",{get:function(){return this._hasLetterSpacing},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return this._className},enumerable:!0,configurable:!0}),e.prototype._buildCSS=function(){var e,t,n,i=this._providerArgs.options;switch(this._ruleType){case 0:e=this.getCSSTextForModelDecorationClassName(i),t=this.getCSSTextForModelDecorationClassName(i.light),n=this.getCSSTextForModelDecorationClassName(i.dark);break;case 1:e=this.getCSSTextForModelDecorationInlineClassName(i),t=this.getCSSTextForModelDecorationInlineClassName(i.light),n=this.getCSSTextForModelDecorationInlineClassName(i.dark);break;case 2:e=this.getCSSTextForModelDecorationGlyphMarginClassName(i),t=this.getCSSTextForModelDecorationGlyphMarginClassName(i.light),n=this.getCSSTextForModelDecorationGlyphMarginClassName(i.dark);break;case 3:e=this.getCSSTextForModelDecorationContentClassName(i.before),t=this.getCSSTextForModelDecorationContentClassName(i.light&&i.light.before),n=this.getCSSTextForModelDecorationContentClassName(i.dark&&i.dark.before);break;case 4:e=this.getCSSTextForModelDecorationContentClassName(i.after),t=this.getCSSTextForModelDecorationContentClassName(i.light&&i.light.after),n=this.getCSSTextForModelDecorationContentClassName(i.dark&&i.dark.after);break;default:throw new Error("Unknown rule type: "+this._ruleType)}var o=this._providerArgs.styleSheet.sheet,r=!1;e.length>0&&(o.insertRule(this._unThemedSelector+" {"+e+"}",0),r=!0),t.length>0&&(o.insertRule(".vs"+this._unThemedSelector+" {"+t+"}",0),r=!0),n.length>0&&(o.insertRule(".vs-dark"+this._unThemedSelector+", .hc-black"+this._unThemedSelector+" {"+n+"}",0),r=!0),this._hasContent=r},e.prototype._removeCSS=function(){Y.F(this._unThemedSelector,this._providerArgs.styleSheet)},e.prototype.getCSSTextForModelDecorationClassName=function(e){if(!e)return"";var t=[];return this.collectCSSText(e,["backgroundColor"],t),this.collectCSSText(e,["outline","outlineColor","outlineStyle","outlineWidth"],t),this.collectBorderSettingsCSSText(e,t),t.join("")},e.prototype.getCSSTextForModelDecorationInlineClassName=function(e){if(!e)return"";var t=[];return this.collectCSSText(e,["fontStyle","fontWeight","textDecoration","cursor","color","opacity","letterSpacing"],t),e.letterSpacing&&(this._hasLetterSpacing=!0),t.join("")},e.prototype.getCSSTextForModelDecorationContentClassName=function(e){if(!e)return"";var t=[];if("undefined"!==typeof e){if(this.collectBorderSettingsCSSText(e,t),"undefined"!==typeof e.contentIconPath&&("string"===typeof e.contentIconPath?t.push(Nt.format(Zn.contentIconPath,f.a.file(e.contentIconPath).toString().replace(/'/g,"%27"))):t.push(Nt.format(Zn.contentIconPath,f.a.revive(e.contentIconPath).toString(!0).replace(/'/g,"%27")))),"string"===typeof e.contentText){var n=e.contentText.match(/^.*$/m)[0].replace(/['\\]/g,"\\$&");t.push(Nt.format(Zn.contentText,n))}this.collectCSSText(e,["fontStyle","fontWeight","textDecoration","color","opacity","backgroundColor","margin"],t),this.collectCSSText(e,["width","height"],t)&&t.push("display:inline-block;")}return t.join("")},e.prototype.getCSSTextForModelDecorationGlyphMarginClassName=function(e){if(!e)return"";var t=[];return"undefined"!==typeof e.gutterIconPath&&("string"===typeof e.gutterIconPath?t.push(Nt.format(Zn.gutterIconPath,f.a.file(e.gutterIconPath).toString())):t.push(Nt.format(Zn.gutterIconPath,f.a.revive(e.gutterIconPath).toString(!0).replace(/'/g,"%27"))),"undefined"!==typeof e.gutterIconSize&&t.push(Nt.format(Zn.gutterIconSize,e.gutterIconSize))),t.join("")},e.prototype.collectBorderSettingsCSSText=function(e,t){return!!this.collectCSSText(e,["border","borderColor","borderRadius","borderSpacing","borderStyle","borderWidth"],t)&&(t.push(Nt.format("box-sizing: border-box;")),!0)},e.prototype.collectCSSText=function(e,t,n){for(var i=n.length,o=0,r=t;o<r.length;o++){var a=r[o],s=this.resolveValue(e[a]);"string"===typeof s&&n.push(Nt.format(Zn[a],s))}return n.length!==i},e.prototype.resolveValue=function(e){if(Object(y.c)(e)){this._usesThemeColors=!0;var t=this._theme.getColor(e.id);return t?t.toString():"transparent"}return e},e}(),Xn=function(){function e(){}return e.getClassName=function(e,t){return"ced-"+e+"-"+t},e.getSelector=function(e,t,n){var i=".monaco-editor ."+this.getClassName(e,n);return t&&(i=i+"."+this.getClassName(t,n)),3===n?i+="::before":4===n&&(i+="::after"),i},e}(),Qn=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Jn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Qn(t,e),t.prototype.getActiveCodeEditor=function(){return null},t.prototype.openCodeEditor=function(e,t,n){return t?u.b.as(this.doOpenEditor(t,e)):u.b.as(null)},t.prototype.doOpenEditor=function(e,t){if(!this.findModel(e,t.resource)){if(t.resource){var n=t.resource.scheme;if(n===ht.a.http||n===ht.a.https)return Object(Y.P)(t.resource.toString()),e}return null}var i=t.options.selection;if(i)if("number"===typeof i.endLineNumber&&"number"===typeof i.endColumn)e.setSelection(i),e.revealRangeInCenter(i,1);else{var o={lineNumber:i.startLineNumber,column:i.startColumn};e.setPosition(o),e.revealPositionInCenter(o,1)}return e},t.prototype.findModel=function(e,t){var n=e.getModel();return n.uri.toString()!==t.toString()?null:n},t}(Gn),ei=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ti=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},ni=function(e,t){return function(n,i){t(n,i,e)}},ii="data-keybinding-context",oi=function(){function e(e,t){this._id=e,this._parent=t,this._value=Object.create(null),this._value._contextId=e}return e.prototype.setValue=function(e,t){return this._value[e]!==t&&(this._value[e]=t,!0)},e.prototype.removeValue=function(e){return e in this._value&&(delete this._value[e],!0)},e.prototype.getValue=function(e){var t=this._value[e];return"undefined"===typeof t&&this._parent?this._parent.getValue(e):t},e}(),ri=function(e){function t(t,n,i){var o=e.call(this,t,null)||this;return o._emitter=i,o._configurationService=n,o._subscription=n.onDidChangeConfiguration(o._onConfigurationUpdated,o),o._initFromConfiguration(),o}return ei(t,e),t.prototype.dispose=function(){this._subscription.dispose()},t.prototype._onConfigurationUpdated=function(e){if(e.source===z.a.DEFAULT)this._initFromConfiguration();else for(var t=0,n=e.affectedKeys;t<n.length;t++){var i=n[t],o="config."+i;o in this._value&&(this._value[o]=this._configurationService.getValue(i),this._emitter.fire(o))}},t.prototype._initFromConfiguration=function(){var e=this,t=this._configurationService.getValue(),n=Object.create(null),i=[],o=function(t,r){for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){r.push(a);var s=t[a];if("boolean"===typeof s){var l=r.join("."),c=e._value[l];e._value[l]=s,c!==s?(i.push(l),n[l]=!0):n[l]=!1}else"object"===typeof s&&o(s,r);r.pop()}};for(var r in o(t,["config"]),this._value)0===r.indexOf("config.")&&void 0===n[r]&&(delete this._value[r],n[r]=!0,i.push(r));this._emitter.fire(i)},t}(oi),ai=function(){function e(e,t,n){this._parent=e,this._key=t,this._defaultValue=n,this.reset()}return e.prototype.set=function(e){this._parent.setContext(this._key,e)},e.prototype.reset=function(){"undefined"===typeof this._defaultValue?this._parent.removeContext(this._key):this._parent.setContext(this._key,this._defaultValue)},e.prototype.get=function(){return this._parent.getContextKeyValue(this._key)},e}(),si=function(){function e(){this._keys=[]}return e.prototype.collect=function(e){this._keys=this._keys.concat(e)},e.prototype.affectsSome=function(e){for(var t=0,n=this._keys;t<n.length;t++){var i=n[t];if(e.has(i))return!0}return!1},e}(),li=function(){function e(e){this._myContextId=e,this._onDidChangeContextKey=new r.a}return e.prototype.createKey=function(e,t){return new ai(this,e,t)},Object.defineProperty(e.prototype,"onDidChangeContext",{get:function(){return this._onDidChangeContext||(this._onDidChangeContext=Object(r.h)(this._onDidChangeContextKey.event,function(e,t){return e||(e=new si),e.collect(t),e},25)),this._onDidChangeContext},enumerable:!0,configurable:!0}),e.prototype.createScoped=function(e){return new ui(this,this._onDidChangeContextKey,e)},e.prototype.contextMatchesRules=function(e){var t=this.getContextValuesContainer(this._myContextId);return R.contextMatchesRules(t,e)},e.prototype.getContextKeyValue=function(e){return this.getContextValuesContainer(this._myContextId).getValue(e)},e.prototype.setContext=function(e,t){var n=this.getContextValuesContainer(this._myContextId);n&&n.setValue(e,t)&&this._onDidChangeContextKey.fire(e)},e.prototype.removeContext=function(e){this.getContextValuesContainer(this._myContextId).removeValue(e)&&this._onDidChangeContextKey.fire(e)},e.prototype.getContext=function(e){return this.getContextValuesContainer(function(e){for(;e;){if(e.hasAttribute(ii))return parseInt(e.getAttribute(ii),10);e=e.parentElement}return 0}(e))},e}(),ci=function(e){function t(t){var n=e.call(this,0)||this;n._toDispose=[],n._lastContextId=0,n._contexts=Object.create(null);var i=new ri(n._myContextId,t,n._onDidChangeContextKey);return n._contexts[String(n._myContextId)]=i,n._toDispose.push(i),n}return ei(t,e),t.prototype.dispose=function(){this._toDispose=Object(w.d)(this._toDispose)},t.prototype.getContextValuesContainer=function(e){return this._contexts[String(e)]},t.prototype.createChildContext=function(e){void 0===e&&(e=this._myContextId);var t=++this._lastContextId;return this._contexts[String(t)]=new oi(t,this.getContextValuesContainer(e)),t},t.prototype.disposeContext=function(e){delete this._contexts[String(e)]},t=ti([ni(0,z.b)],t)}(li),ui=function(e){function t(t,n,i){var o=e.call(this,t.createChildContext())||this;return o._parent=t,o._onDidChangeContextKey=n,i&&(o._domNode=i,o._domNode.setAttribute(ii,String(o._myContextId))),o}return ei(t,e),t.prototype.dispose=function(){this._parent.disposeContext(this._myContextId),this._domNode&&(this._domNode.removeAttribute(ii),this._domNode=void 0)},Object.defineProperty(t.prototype,"onDidChangeContext",{get:function(){return this._parent.onDidChangeContext},enumerable:!0,configurable:!0}),t.prototype.getContextValuesContainer=function(e){return this._parent.getContextValuesContainer(e)},t.prototype.createChildContext=function(e){return void 0===e&&(e=this._myContextId),this._parent.createChildContext(e)},t.prototype.disposeContext=function(e){this._parent.disposeContext(e)},t}(li);C.a.registerCommand(k.g,function(e,t,n){e.get(k.e).createKey(String(t),n)});var di=n(17),hi=function(){return function(e,t,n,i,o){this.token=e,this.index=t,this.fontStyle=n,this.foreground=i,this.background=o}}();function fi(e,t){e.sort(function(e,t){var n=function(e,t){if(e<t)return-1;if(e>t)return 1;return 0}(e.token,t.token);return 0!==n?n:e.index-t.index});for(var n=0,i="000000",o="ffffff";e.length>=1&&""===e[0].token;){var r=e.shift();-1!==r.fontStyle&&(n=r.fontStyle),null!==r.foreground&&(i=r.foreground),null!==r.background&&(o=r.background)}for(var a=new mi,s=0,l=t;s<l.length;s++){var c=l[s];a.getId(c)}for(var u=a.getId(i),d=a.getId(o),h=new yi(n,u,d),f=new vi(h),p=0,m=e.length;p<m;p++){var g=e[p];f.insert(g.token,g.fontStyle,a.getId(g.foreground),a.getId(g.background))}return new gi(a,f)}var pi=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/,mi=function(){function e(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}return e.prototype.getId=function(e){if(null===e)return 0;var t=e.match(pi);if(!t)throw new Error("Illegal value for token color: "+e);e=t[1].toUpperCase();var n=this._color2id.get(e);return n||(n=++this._lastColorId,this._color2id.set(e,n),this._id2color[n]=di.a.fromHex("#"+e),n)},e.prototype.getColorMap=function(){return this._id2color.slice(0)},e}(),gi=function(){function e(e,t){this._colorMap=e,this._root=t,this._cache=new Map}return e.createFromRawTokenTheme=function(e,t){return this.createFromParsedTokenTheme(function(e){if(!e||!Array.isArray(e))return[];for(var t=[],n=0,i=0,o=e.length;i<o;i++){var r=e[i],a=-1;if("string"===typeof r.fontStyle){a=0;for(var s=r.fontStyle.split(" "),l=0,c=s.length;l<c;l++)switch(s[l]){case"italic":a|=1;break;case"bold":a|=2;break;case"underline":a|=4}}var u=null;"string"===typeof r.foreground&&(u=r.foreground);var d=null;"string"===typeof r.background&&(d=r.background),t[n++]=new hi(r.token||"",i,a,u,d)}return t}(e),t)},e.createFromParsedTokenTheme=function(e,t){return fi(e,t)},e.prototype.getColorMap=function(){return this._colorMap.getColorMap()},e.prototype._match=function(e){return this._root.match(e)},e.prototype.match=function(e,t){var n=this._cache.get(t);if("undefined"===typeof n){var i=this._match(t),o=function(e){var t=e.match(bi);if(!t)return 0;switch(t[1]){case"comment":return 1;case"string":return 2;case"regex":return 4}throw new Error("Unexpected match for standard token type!")}(t);n=(i.metadata|o<<8)>>>0,this._cache.set(t,n)}return(n|e<<0)>>>0},e}(),bi=/\b(comment|string|regex)\b/;var yi=function(){function e(e,t,n){this._fontStyle=e,this._foreground=t,this._background=n,this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}return e.prototype.clone=function(){return new e(this._fontStyle,this._foreground,this._background)},e.prototype.acceptOverwrite=function(e,t,n){-1!==e&&(this._fontStyle=e),0!==t&&(this._foreground=t),0!==n&&(this._background=n),this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0},e}(),vi=function(){function e(e){this._mainRule=e,this._children=new Map}return e.prototype.match=function(e){if(""===e)return this._mainRule;var t,n,i=e.indexOf(".");-1===i?(t=e,n=""):(t=e.substring(0,i),n=e.substring(i+1));var o=this._children.get(t);return"undefined"!==typeof o?o.match(n):this._mainRule},e.prototype.insert=function(t,n,i,o){if(""!==t){var r,a,s=t.indexOf(".");-1===s?(r=t,a=""):(r=t.substring(0,s),a=t.substring(s+1));var l=this._children.get(r);"undefined"===typeof l&&(l=new e(this._mainRule.clone()),this._children.set(r,l)),l.insert(a,n,i,o)}else this._mainRule.acceptOverwrite(n,i,o)},e}();var wi,_i,Si,Ci=n(8),xi={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"09885A"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"09885A"},{token:"attribute.value.unit",foreground:"09885A"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"FF00FF"}],colors:(wi={},wi[Ci.n]="#FFFFFE",wi[Ci.u]="#000000",wi[Ci.y]="#E5EBF1",wi[An.l]="#D3D3D3",wi[An.a]="#939393",wi[Ci.B]="#ADD6FF4D",wi)},ki={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:(_i={},_i[Ci.n]="#1E1E1E",_i[Ci.u]="#D4D4D4",_i[Ci.y]="#3A3D41",_i[An.l]="#404040",_i[An.a]="#707070",_i[Ci.B]="#ADD6FF26",_i)},Ti={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:(Si={},Si[Ci.n]="#000000",Si[Ci.u]="#FFFFFF",Si[An.l]="#FFFFFF",Si[An.a]="#FFFFFF",Si)},Oi="vs",Ni="vs-dark",Li="hc-black",Ii=Cn.a.as(Ci.a.ColorContribution),Ei=Cn.a.as(Ne.a.ThemingContribution),Di=function(){function e(e,t){this.themeData=t;var n=t.base;e.length>0?(this.id=n+" "+e,this.themeName=e):(this.id=n,this.themeName=n),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}return Object.defineProperty(e.prototype,"base",{get:function(){return this.themeData.base},enumerable:!0,configurable:!0}),e.prototype.notifyBaseUpdated=function(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)},e.prototype.getColors=function(){if(!this.colors){var e=Object.create(null);for(var t in this.themeData.colors)e[t]=di.a.fromHex(this.themeData.colors[t]);if(this.themeData.inherit){var n=Mi(this.themeData.base);for(var t in n.colors)e[t]||(e[t]=di.a.fromHex(n.colors[t]))}this.colors=e}return this.colors},e.prototype.getColor=function(e,t){var n=this.getColors()[e];return n||(!1!==t?this.getDefault(e):null)},e.prototype.getDefault=function(e){var t=this.defaultColors[e];return t||(t=Ii.resolveDefaultColor(e,this),this.defaultColors[e]=t,t)},e.prototype.defines=function(e){return Object.prototype.hasOwnProperty.call(this.getColors(),e)},Object.defineProperty(e.prototype,"type",{get:function(){switch(this.base){case Oi:return"light";case Li:return"hc";default:return"dark"}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tokenTheme",{get:function(){if(!this._tokenTheme){var e=[],t=[];if(this.themeData.inherit){var n=Mi(this.themeData.base);e=n.rules,n.encodedTokensColors&&(t=n.encodedTokensColors)}e=e.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(t=this.themeData.encodedTokensColors),this._tokenTheme=gi.createFromRawTokenTheme(e,t)}return this._tokenTheme},enumerable:!0,configurable:!0}),e}();function Ai(e){return e===Oi||e===Ni||e===Li}function Mi(e){switch(e){case Oi:return xi;case Ni:return ki;case Li:return Ti}}function Pi(e){var t=Mi(e);return new Di(e,t)}var Ri,Fi=function(){function e(){this.environment=Object.create(null),this._onThemeChange=new r.a,this._knownThemes=new Map,this._knownThemes.set(Oi,Pi(Oi)),this._knownThemes.set(Ni,Pi(Ni)),this._knownThemes.set(Li,Pi(Li)),this._styleElement=Y.o(),this._styleElement.className="monaco-colors",this.setTheme(Oi)}return Object.defineProperty(e.prototype,"onThemeChange",{get:function(){return this._onThemeChange.event},enumerable:!0,configurable:!0}),e.prototype.defineTheme=function(e,t){if(!/^[a-z0-9\-]+$/i.test(e))throw new Error("Illegal theme name!");if(!Ai(t.base)&&!Ai(e))throw new Error("Illegal theme base!");this._knownThemes.set(e,new Di(e,t)),Ai(e)&&this._knownThemes.forEach(function(t){t.base===e&&t.notifyBaseUpdated()}),this._theme&&this._theme.themeName===e&&this.setTheme(e)},e.prototype.getTheme=function(){return this._theme},e.prototype.setTheme=function(e){var t,n=this;t=this._knownThemes.has(e)?this._knownThemes.get(e):this._knownThemes.get(Oi),this._theme=t;var i=[],o={},r={addRule:function(e){o[e]||(i.push(e),o[e]=!0)}};Ei.getThemingParticipants().forEach(function(e){return e(t,r,n.environment)});var a=t.tokenTheme.getColorMap();return r.addRule(function(e){for(var t=[],n=1,i=e.length;n<i;n++){var o=e[n];t[n]=".mtk"+n+" { color: "+o+"; }"}return t.push(".mtki { font-style: italic; }"),t.push(".mtkb { font-weight: bold; }"),t.push(".mtku { text-decoration: underline; text-underline-position: under; }"),t.join("\n")}(a)),this._styleElement.innerHTML=i.join("\n"),re.y.setColorMap(a),this._onThemeChange.fire(t),t.id},e}(),ji=Object(S.c)("dialogService"),Wi=n(130),Vi=n(162),Bi=n(198),Hi=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();!function(e){var t=new ut.a,n=function(){function e(e,t){this._serviceId=e,this._factory=t,this._value=null}return Object.defineProperty(e.prototype,"id",{get:function(){return this._serviceId},enumerable:!0,configurable:!0}),e.prototype.get=function(e){if(!this._value){if(e&&(this._value=e[this._serviceId.toString()]),this._value||(this._value=this._factory(e)),!this._value)throw new Error("Service "+this._serviceId+" is missing!");t.set(this._serviceId,this._value)}return this._value},e}();e.LazyStaticService=n;var i=[];function o(e,t){var o=new n(e,t);return i.push(o),o}e.init=function(e){var t=new ut.a;for(var n in e)e.hasOwnProperty(n)&&t.set(Object(S.c)(n),e[n]);i.forEach(function(n){return t.set(n.id,n.get(e))});var o=new dt(t,!0);return t.set(S.a,o),[t,o]},e.instantiationService=o(S.a,function(){return new dt(t,!0)});var r=new ge;e.configurationService=o(z.b,function(){return r}),e.resourceConfigurationService=o(Xt,function(){return new be(r)}),e.contextService=o(F.a,function(){return new we}),e.uriDisplayService=o(Bi.a,function(){return new Ce}),e.telemetryService=o(Qe.a,function(){return new ve}),e.dialogService=o(ji,function(){return new de}),e.notificationService=o(ie.a,function(){return new he}),e.markerService=o(ft.a,function(){return new mt}),e.modeService=o(dn.a,function(e){return new Ln}),e.modelService=o(Tt.a,function(t){return new Bn(e.markerService.get(t),e.configurationService.get(t))}),e.editorWorkerService=o(O.a,function(t){return new rn(e.modelService.get(t),e.resourceConfigurationService.get(t))}),e.standaloneThemeService=o(Te.a,function(){return new Fi}),e.codeEditorService=o(T.a,function(t){return new Jn(e.standaloneThemeService.get(t))}),e.progressService=o(gt.a,function(){return new ue}),e.storageService=o(bt.a,function(){return bt.b}),e.logService=o(Je.a,function(){return new Je.b})}(Ri||(Ri={}));var zi=function(e){function t(t,n){var i=e.call(this)||this,o=Ri.init(n),r=o[0],a=o[1];i._serviceCollection=r,i._instantiationService=a;var s=i.get(z.b),l=i.get(ie.a),c=i.get(Qe.a),u=function(e,t){var o=null;return n&&(o=n[e.toString()]),o||(o=t()),i._serviceCollection.set(e,o),o},d=u(k.e,function(){return i._register(new ci(s))});u(Wi.a,function(){return new Wi.b(d)});var h=u(C.b,function(){return new fe(i._instantiationService)});u(x.a,function(){return i._register(new pe(d,h,c,l,t))});var f=u(_.b,function(){return i._register(new nt(t,c,new Je.b))});return u(_.a,function(){return i._register(new $e(t,c,l,f))}),u(X.a,function(){return new ye(h)}),u(Vi.a,function(){return new Se(Ri.modelService.get(Tt.a))}),i}return Hi(t,e),t.prototype.get=function(e){var t=this._serviceCollection.get(e);if(!t)throw new Error("Missing service "+e);return t},t.prototype.set=function(e,t){this._serviceCollection.set(e,t)},t.prototype.has=function(e){return this._serviceCollection.has(e)},t}(w.a);function Ui(e){var t=JSON.parse(e);return t=function e(t,n){if(!t||n>200)return t;if("object"===typeof t){switch(t.$mid){case 1:return f.a.revive(t);case 2:return new RegExp(t.source,t.flags)}for(var i in t)Object.hasOwnProperty.call(t,i)&&(t[i]=e(t[i],n+1))}return t}(t,0)}var qi=new(function(){function e(){}return e.prototype.publicLog=function(e,t){return u.b.wrap(null)},e.prototype.getTelemetryInfo=function(){return u.b.wrap({instanceId:"someValue.instanceId",sessionId:"someValue.sessionId",machineId:"someValue.machineId"})},e}()),Gi=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},Ki=function(e,t){return function(n,i){t(n,i,e)}},Yi=function(){function e(e,t,n){void 0===n&&(n=qi),this._editorService=e,this._commandService=t,this._telemetryService=n}return e.prototype.open=function(e,t){var n;this._telemetryService.publicLog("openerService",{scheme:e.scheme});var i=e.scheme,o=e.path,r=e.query,a=e.fragment,s=u.b.wrap(void 0);if(i===ht.a.http||i===ht.a.https||i===ht.a.mailto)Y.P(e.toString(!0));else if("command"===i&&C.a.getCommand(o)){var l=[];try{l=Ui(r),Array.isArray(l)||(l=[l])}catch(e){}s=(n=this._commandService).executeCommand.apply(n,[o].concat(l))}else{var c=void 0,d=/^L?(\d+)(?:,(\d+))?/.exec(a);if(d&&(c={startLineNumber:parseInt(d[1]),startColumn:d[2]?parseInt(d[2]):1},e=e.with({fragment:""})),!e.scheme)return u.b.as(void 0);e.scheme===ht.a.file&&(e=e.with({path:Object(fn.h)(e.path)})),s=this._editorService.openCodeEditor({resource:e,options:{selection:c}},this._editorService.getFocusedCodeEditor(),t&&t.openToSide)}return s},e=Gi([Ki(0,T.a),Ki(1,C.b),Ki(2,Object(S.d)(Qe.a))],e)}(),Zi=n(83),$i=n(70),Xi=n(88),Qi=n(57),Ji=function(){function e(){}return e.colorizeElement=function(e,t,n,i){var o=(i=i||{}).theme||"vs",r=i.mimeType||n.getAttribute("lang")||n.getAttribute("data-lang");if(r){e.setTheme(o);var a=n.firstChild.nodeValue;n.className+=" "+o;return this.colorize(t,a,r,i).then(function(e){n.innerHTML=e},function(e){return console.error(e)})}console.error("Mode not detected")},e._tokenizationSupportChangedPromise=function(e){var t=null,n=function(){t&&(t.dispose(),t=null)};return new u.b(function(i,o){t=re.y.onDidChange(function(t){t.changedLanguages.indexOf(e)>=0&&(n(),i(void 0))})},n)},e.colorize=function(e,t,n,i){Nt.startsWithUTF8BOM(t)&&(t=t.substr(1));var o=t.split(/\r\n|\r|\n/),r=e.getModeId(n);"undefined"===typeof(i=i||{}).tabSize&&(i.tabSize=4),e.getOrCreateMode(r);var a=re.y.get(r);return a?u.b.as(eo(o,i.tabSize,a)):u.b.any([this._tokenizationSupportChangedPromise(r),u.b.timeout(500)]).then(function(e){var t=re.y.get(r);return t?eo(o,i.tabSize,t):function(e,t){var n=[],i=new Uint32Array(2);i[0]=0,i[1]=16793600;for(var o=0,r=e.length;o<r;o++){var a=e[o];i[0]=a.length;var s=new Xi.a(i,a),l=Qi.d.isBasicASCII(a,!0),c=Qi.d.containsRTL(a,l,!0),u=Object($i.d)(new $i.b(!1,a,!1,l,c,0,s,[],t,0,-1,"none",!1,!1));(n=n.concat(u.html)).push("<br/>")}return n.join("")}(o,i.tabSize)})},e.colorizeLine=function(e,t,n,i,o){void 0===o&&(o=4);var r=Qi.d.isBasicASCII(e,t),a=Qi.d.containsRTL(e,r,n);return Object($i.d)(new $i.b(!1,e,!1,r,a,0,i,[],o,0,-1,"none",!1,!1)).html},e.colorizeModelLine=function(e,t,n){void 0===n&&(n=4);var i=e.getLineContent(t);e.forceTokenization(t);var o=e.getLineTokens(t).inflate();return this.colorizeLine(i,e.mightContainNonBasicASCII(),e.mightContainRTL(),o,n)},e}();function eo(e,t,n){return function(e,t,n){for(var i=[],o=n.getInitialState(),r=0,a=e.length;r<a;r++){var s=e[r],l=n.tokenize2(s,o,0);Xi.a.convertToEndOffset(l.tokens,s.length);var c=new Xi.a(l.tokens,s),u=Qi.d.isBasicASCII(s,!0),d=Qi.d.containsRTL(s,u,!0),h=Object($i.d)(new $i.b(!1,s,!1,u,d,0,c.inflate(),[],t,0,-1,"none",!1,!1));(i=i.concat(h.html)).push("<br/>"),o=l.endState}return i.join("")}(e,t,n)}var to=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();var no,io,oo=function(e){function t(t,n){var i=e.call(this,t,n.label)||this;return i._foreignModuleId=n.moduleId,i._foreignModuleCreateData=n.createData||null,i._foreignProxy=null,i}return to(t,e),t.prototype._getForeignProxy=function(){var e=this;return this._foreignProxy||(this._foreignProxy=new I.d(this._getProxy().then(function(t){return t.loadForeignModule(e._foreignModuleId,e._foreignModuleCreateData).then(function(n){e._foreignModuleId=null,e._foreignModuleCreateData=null;for(var i=function(e,n){return t.fmr(e,n)},o=function(e,t){return function(){var n=Array.prototype.slice.call(arguments,0);return t(e,n)}},r={},a=0;a<n.length;a++)r[n[a]]=o(n[a],i);return r})}))),this._foreignProxy},t.prototype.getProxy=function(){return this._getForeignProxy()},t.prototype.withSyncedResources=function(e){var t=this;return this._withSyncedResources(e).then(function(e){return t.getProxy()})},t}(un),ro=n(306),ao=n(129),so=n(128),lo=n(38);function co(e,t,n){var i=new zi(e,t),o=null;i.has(ao.a)||(o=new ce,i.set(ao.a,o)),i.has(Zi.a)||i.set(Zi.a,new Yi(i.get(T.a),i.get(C.b)));var r=n(i);return o&&o.setEditor(r),r}function uo(e,t,n){return co(e,n,function(n){return new Fe(e,t,n,n.get(S.a),n.get(T.a),n.get(C.b),n.get(k.e),n.get(x.a),n.get(_.b),n.get(Te.a),n.get(ie.a),n.get(z.b))})}function ho(e){return Ri.codeEditorService.get().onCodeEditorAdd(function(t){e(t)})}function fo(e,t,n){return co(e,n,function(n){return new je(e,t,n,n.get(S.a),n.get(k.e),n.get(x.a),n.get(_.b),n.get(O.a),n.get(T.a),n.get(Te.a),n.get(ie.a),n.get(z.b))})}function po(e,t){return new ro.a(e,t)}function mo(e,t,n){return Ri.modelService.get().createModel(e,t,n)}function go(e,t,n){if(e=e||"",!t){var i=n?n.path:null,o=e.indexOf("\n"),r=e;return-1!==o&&(r=e.substring(0,o)),mo(e,Ri.modeService.get().getOrCreateModeByFilenameOrFirstLine(i,r),n)}return mo(e,Ri.modeService.get().getOrCreateMode(t),n)}function bo(e,t){Ri.modelService.get().setMode(e,Ri.modeService.get().getOrCreateMode(t))}function yo(e,t,n){e&&Ri.markerService.get().changeOne(t,e.uri,n)}function vo(e){return Ri.markerService.get().read(e)}function wo(e){return Ri.modelService.get().getModel(e)}function _o(){return Ri.modelService.get().getModels()}function So(e){return Ri.modelService.get().onModelAdded(e)}function Co(e){return Ri.modelService.get().onModelRemoved(e)}function xo(e){return Ri.modelService.get().onModelModeChanged(function(t){e({model:t.model,oldLanguage:t.oldModeId})})}function ko(e){return function(e,t){return new oo(e,t)}(Ri.modelService.get(),e)}function To(e,t){return Ji.colorizeElement(Ri.standaloneThemeService.get(),Ri.modeService.get(),e,t)}function Oo(e,t,n){return Ji.colorize(Ri.modeService.get(),e,t,n)}function No(e,t,n){return void 0===n&&(n=4),Ji.colorizeModelLine(e,t,n)}function Lo(e,t){Ri.modeService.get().getOrCreateMode(t);for(var n=function(e){var t=re.y.get(e);return t||{getInitialState:function(){return Tn.c},tokenize:function(t,n,i){return Object(Tn.d)(e,t,n,i)},tokenize2:void 0}}(t),i=e.split(/\r\n|\r|\n/),o=[],r=n.getInitialState(),a=0,s=i.length;a<s;a++){var l=i[a],c=n.tokenize(l,r,0);o[a]=c.tokens,r=c.endState}return o}function Io(e,t){Ri.standaloneThemeService.get().defineTheme(e,t)}function Eo(e){Ri.standaloneThemeService.get().setTheme(e)}!function(e){e[e.Smooth=0]="Smooth",e[e.Immediate=1]="Immediate"}(no||(no={})),function(e){e[e.Off=0]="Off",e[e.On=1]="On",e[e.Relative=2]="Relative",e[e.Interval=3]="Interval",e[e.Custom=4]="Custom"}(io||(io={}));var Do=n(47);function Ao(e){return!function(e){return Array.isArray(e)}(e)}function Mo(e){return"string"===typeof e}function Po(e){return!Mo(e)}function Ro(e){return!e}function Fo(e,t){return e.ignoreCase&&t?t.toLowerCase():t}function jo(e){return e.replace(/[&<>'"_]/g,"-")}function Wo(e,t){throw new Error(e.languageId+": "+t)}function Vo(e,t,n,i,o){var r=null;return t.replace(/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,function(t,a,s,l,c,u,d,h,f){return Ro(s)?Ro(l)?!Ro(c)&&c<i.length?Fo(e,i[c]):!Ro(d)&&e&&"string"===typeof e[d]?e[d]:(null===r&&(r=o.split(".")).unshift(o),!Ro(u)&&u<r.length?Fo(e,r[u]):""):Fo(e,n):"$"})}function Bo(e,t){for(;t&&t.length>0;){var n=e.tokenizer[t];if(n)return n;var i=t.lastIndexOf(".");t=i<0?null:t.substr(0,i)}return null}function Ho(e,t,n){return"boolean"===typeof e?e:(n&&(e||void 0===t)&&n(),void 0===t?null:t)}function zo(e,t,n){return"string"===typeof e?e:(n&&(e||void 0===t)&&n(),void 0===t?null:t)}function Uo(e,t){if("string"!==typeof t)return null;for(var n=0;t.indexOf("@")>=0&&n<5;)n++,t=t.replace(/@(\w+)/g,function(n,i){var o="";return"string"===typeof e[i]?o=e[i]:e[i]&&e[i]instanceof RegExp?o=e[i].source:void 0===e[i]?Wo(e,"language definition does not contain attribute '"+i+"', used at: "+t):Wo(e,"attribute reference '"+i+"' must be a string, used at: "+t),Ro(o)?"":"(?:"+o+")"});return new RegExp(t,e.ignoreCase?"i":"")}function qo(e,t,n,i){var o=-1,r=n,a=n.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);a&&(a[3]&&(o=parseInt(a[3]),a[2]&&(o+=100)),r=a[4]);var s,l="~",c=r;if(r&&0!==r.length?/^\w*$/.test(c)?l="==":(a=r.match(/^(@|!@|~|!~|==|!=)(.*)$/))&&(l=a[1],c=a[2]):(l="!=",c=""),"~"!==l&&"!~"!==l||!/^(\w|\|)*$/.test(c))if("@"===l||"!@"===l){var u=e[c];u||Wo(e,"the @ match target '"+c+"' is not defined, in rule: "+t),function(e,t){if(!t)return!1;if(!Array.isArray(t))return!1;for(var n in t)if(t.hasOwnProperty(n)&&!e(t[n]))return!1;return!0}(function(e){return"string"===typeof e},u)||Wo(e,"the @ match target '"+c+"' must be an array of strings, in rule: "+t);var d=B.b(u,e.ignoreCase);s=function(e){return"@"===l?d(e):!d(e)}}else if("~"===l||"!~"===l)if(c.indexOf("$")<0){var h=Uo(e,"^"+c+"$");s=function(e){return"~"===l?h.test(e):!h.test(e)}}else s=function(t,n,i,o){return Uo(e,"^"+Vo(e,c,n,i,o)+"$").test(t)};else if(c.indexOf("$")<0){var f=Fo(e,c);s=function(e){return"=="===l?e===f:e!==f}}else{var p=Fo(e,c);s=function(t,n,i,o,r){var a=Vo(e,p,n,i,o);return"=="===l?t===a:t!==a}}else{var m=B.b(c.split("|"),e.ignoreCase);s=function(e){return"~"===l?m(e):!m(e)}}return-1===o?{name:n,value:i,test:function(e,t,n,i){return s(e,e,t,n,i)}}:{name:n,value:i,test:function(e,t,n,i){var r=function(e,t,n,i){if(i<0)return e;if(i<t.length)return t[i];if(i>=100){i-=100;var o=n.split(".");if(o.unshift(n),i<o.length)return o[i]}return null}(e,t,n,o);return s(r||"",e,t,n,i)}}}var Go=function(){function e(e){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=e}return e.prototype.setRegex=function(e,t){var n;"string"===typeof t?n=t:t instanceof RegExp?n=t.source:Wo(e,"rules must start with a match string or regular expression: "+this.name),this.matchOnlyAtLineStart=n.length>0&&"^"===n[0],this.name=this.name+": "+n,this.regex=Uo(e,"^(?:"+(this.matchOnlyAtLineStart?n.substr(1):n)+")")},e.prototype.setAction=function(e,t){this.action=function e(t,n,i){if(i){if("string"===typeof i)return i;if(i.token||""===i.token){if("string"!==typeof i.token)return Wo(t,"a 'token' attribute must be of type string, in rule: "+n),{token:""};var o={token:i.token};if(i.token.indexOf("$")>=0&&(o.tokenSubst=!0),"string"===typeof i.bracket&&("@open"===i.bracket?o.bracket=1:"@close"===i.bracket?o.bracket=-1:Wo(t,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+n)),i.next)if("string"!==typeof i.next)Wo(t,"the next state must be a string value in rule: "+n);else{var r=i.next;/^(@pop|@push|@popall)$/.test(r)||("@"===r[0]&&(r=r.substr(1)),r.indexOf("$")<0&&(function(e,t){for(;t&&t.length>0;){if(e.stateNames[t])return!0;var n=t.lastIndexOf(".");t=n<0?null:t.substr(0,n)}return!1}(t,Vo(t,r,"",[],""))||Wo(t,"the next state '"+i.next+"' is not defined in rule: "+n))),o.next=r}return"number"===typeof i.goBack&&(o.goBack=i.goBack),"string"===typeof i.switchTo&&(o.switchTo=i.switchTo),"string"===typeof i.log&&(o.log=i.log),"string"===typeof i.nextEmbedded&&(o.nextEmbedded=i.nextEmbedded,t.usesEmbedded=!0),o}if(Array.isArray(i)){var a=[];for(var s in i)i.hasOwnProperty(s)&&(a[s]=e(t,n,i[s]));return{group:a}}if(i.cases){var l=[];for(var c in i.cases)if(i.cases.hasOwnProperty(c)){var u=e(t,n,i.cases[c]);"@default"===c||"@"===c||""===c?l.push({test:null,value:u,name:c}):"@eos"===c?l.push({test:function(e,t,n,i){return i},value:u,name:c}):l.push(qo(t,n,c,u))}var d=t.defaultToken;return{test:function(e,t,n,i){for(var o in l)if(l.hasOwnProperty(o)&&(!l[o].test||l[o].test(e,t,n,i)))return l[o].value;return d}}}return Wo(t,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+n),""}return{token:""}}(e,this.name,t)},e}();var Ko=function(){function e(e){this._maxCacheDepth=e,this._entries=Object.create(null)}return e.create=function(e,t){return this._INSTANCE.create(e,t)},e.prototype.create=function(e,t){if(null!==e&&e.depth>=this._maxCacheDepth)return new Yo(e,t);var n=Yo.getStackElementId(e);n.length>0&&(n+="|"),n+=t;var i=this._entries[n];return i||(i=new Yo(e,t),this._entries[n]=i,i)},e._INSTANCE=new e(5),e}(),Yo=function(){function e(e,t){this.parent=e,this.state=t,this.depth=(this.parent?this.parent.depth:0)+1}return e.getStackElementId=function(e){for(var t="";null!==e;)t.length>0&&(t+="|"),t+=e.state,e=e.parent;return t},e._equals=function(e,t){for(;null!==e&&null!==t;){if(e===t)return!0;if(e.state!==t.state)return!1;e=e.parent,t=t.parent}return null===e&&null===t},e.prototype.equals=function(t){return e._equals(this,t)},e.prototype.push=function(e){return Ko.create(this,e)},e.prototype.pop=function(){return this.parent},e.prototype.popall=function(){for(var e=this;e.parent;)e=e.parent;return e},e.prototype.switchTo=function(e){return Ko.create(this.parent,e)},e}(),Zo=function(){function e(e,t){this.modeId=e,this.state=t}return e.prototype.equals=function(e){return this.modeId===e.modeId&&this.state.equals(e.state)},e.prototype.clone=function(){return this.state.clone()===this.state?this:new e(this.modeId,this.state)},e}(),$o=function(){function e(e){this._maxCacheDepth=e,this._entries=Object.create(null)}return e.create=function(e,t){return this._INSTANCE.create(e,t)},e.prototype.create=function(e,t){if(null!==t)return new Xo(e,t);if(null!==e&&e.depth>=this._maxCacheDepth)return new Xo(e,t);var n=Yo.getStackElementId(e),i=this._entries[n];return i||(i=new Xo(e,null),this._entries[n]=i,i)},e._INSTANCE=new e(5),e}(),Xo=function(){function e(e,t){this.stack=e,this.embeddedModeData=t}return e.prototype.clone=function(){return(this.embeddedModeData?this.embeddedModeData.clone():null)===this.embeddedModeData?this:$o.create(this.stack,this.embeddedModeData)},e.prototype.equals=function(t){return t instanceof e&&(!!this.stack.equals(t.stack)&&(null===this.embeddedModeData&&null===t.embeddedModeData||null!==this.embeddedModeData&&null!==t.embeddedModeData&&this.embeddedModeData.equals(t.embeddedModeData)))},e}(),Qo=Object.hasOwnProperty,Jo=function(){function e(){this._tokens=[],this._language=null,this._lastTokenType=null,this._lastTokenLanguage=null}return e.prototype.enterMode=function(e,t){this._language=t},e.prototype.emit=function(e,t){this._lastTokenType===t&&this._lastTokenLanguage===this._language||(this._lastTokenType=t,this._lastTokenLanguage=this._language,this._tokens.push(new h.a(e,t,this._language)))},e.prototype.nestedModeTokenize=function(e,t,n){var i=t.modeId,o=t.state,r=re.y.get(i);if(!r)return this.enterMode(n,i),this.emit(n,""),o;var a=r.tokenize(e,o,n);return this._tokens=this._tokens.concat(a.tokens),this._lastTokenType=null,this._lastTokenLanguage=null,this._language=null,a.endState},e.prototype.finalize=function(e){return new h.b(this._tokens,e)},e}(),er=function(){function e(e,t){this._modeService=e,this._theme=t,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}return e.prototype.enterMode=function(e,t){this._currentLanguageId=this._modeService.getLanguageIdentifier(t).id},e.prototype.emit=function(e,t){var n=this._theme.match(this._currentLanguageId,t);this._lastTokenMetadata!==n&&(this._lastTokenMetadata=n,this._tokens.push(e),this._tokens.push(n))},e._merge=function(e,t,n){var i=null!==e?e.length:0,o=t.length,r=null!==n?n.length:0;if(0===i&&0===o&&0===r)return new Uint32Array(0);if(0===i&&0===o)return n;if(0===o&&0===r)return e;var a=new Uint32Array(i+o+r);null!==e&&a.set(e);for(var s=0;s<o;s++)a[i+s]=t[s];return null!==n&&a.set(n,i+o),a},e.prototype.nestedModeTokenize=function(t,n,i){var o=n.modeId,r=n.state,a=re.y.get(o);if(!a)return this.enterMode(i,o),this.emit(i,""),r;var s=a.tokenize2(t,r,i);return this._prependTokens=e._merge(this._prependTokens,this._tokens,s.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,s.endState},e.prototype.finalize=function(t){return new h.c(e._merge(this._prependTokens,this._tokens,null),t)},e}(),tr=function(){function e(e,t,n,i){var o=this;this._modeService=e,this._standaloneThemeService=t,this._modeId=n,this._lexer=i,this._embeddedModes=Object.create(null);var r=!1;this._tokenizationRegistryListener=re.y.onDidChange(function(e){if(!r){for(var t=!1,n=0,i=e.changedLanguages.length;n<i;n++){var a=e.changedLanguages[n];if(o._embeddedModes[a]){t=!0;break}}t&&(r=!0,re.y.fire([o._modeId]),r=!1)}})}return e.prototype.dispose=function(){this._tokenizationRegistryListener.dispose()},e.prototype.getInitialState=function(){var e=Ko.create(null,this._lexer.start);return $o.create(e,null)},e.prototype.tokenize=function(e,t,n){var i=new Jo,o=this._tokenize(e,t,n,i);return i.finalize(o)},e.prototype.tokenize2=function(e,t,n){var i=new er(this._modeService,this._standaloneThemeService.getTheme().tokenTheme),o=this._tokenize(e,t,n,i);return i.finalize(o)},e.prototype._tokenize=function(e,t,n,i){return t.embeddedModeData?this._nestedTokenize(e,t,n,i):this._myTokenize(e,t,n,i)},e.prototype._findLeavingNestedModeOffset=function(e,t){var n=this._lexer.tokenizer[t.stack.state];n||(n=Bo(this._lexer,t.stack.state))||Wo(this._lexer,"tokenizer state is not defined: "+t.stack.state);var i=-1,o=!1;for(var r in n)if(Qo.call(n,r)){var a=n[r];if(Po(a.action)&&"@pop"===a.action.nextEmbedded){o=!0;var s=a.regex,l=a.regex.source;"^(?:"===l.substr(0,4)&&")"===l.substr(l.length-1,1)&&(s=new RegExp(l.substr(4,l.length-5),s.ignoreCase?"i":""));var c=e.search(s);-1!==c&&(-1===i||c<i)&&(i=c)}}return o||Wo(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+t.stack.state),i},e.prototype._nestedTokenize=function(e,t,n,i){var o=this._findLeavingNestedModeOffset(e,t);if(-1===o){var r=i.nestedModeTokenize(e,t.embeddedModeData,n);return $o.create(t.stack,new Zo(t.embeddedModeData.modeId,r))}var a=e.substring(0,o);a.length>0&&i.nestedModeTokenize(a,t.embeddedModeData,n);var s=e.substring(o);return this._myTokenize(s,t,n+o,i)},e.prototype._myTokenize=function(e,t,n,i){i.enterMode(n,this._modeId);for(var o,r,a=e.length,s=t.embeddedModeData,l=t.stack,c=0,u=null,d=null,h=null,f=null;c<a;){var p=c,m=l.depth,g=u?u.length:0,b=l.state,y=null,v=null,w=null,_=null,S=null;if(u)y=d,v=h.shift(),w=u.shift(),_=f,0===u.length&&(u=null,d=null,h=null,f=null);else{if(c>=a)break;var C=this._lexer.tokenizer[b];C||(C=Bo(this._lexer,b))||Wo(this._lexer,"tokenizer state is not defined: "+b);var x=e.substr(c);for(var k in C)if(Qo.call(C,k)){var T=C[k];if((0===c||!T.matchOnlyAtLineStart)&&(y=x.match(T.regex))){v=y[0],w=T.action;break}}}for(y||(y=[""],v=""),w||(c<a&&(v=(y=[e.charAt(c)])[0]),w=this._lexer.defaultToken),c+=v.length;Ao(w)&&Po(w)&&w.test;)w=w.test(v,y,b,c===a);var O=null;if("string"===typeof w||Array.isArray(w))O=w;else if(w.group)O=w.group;else if(null!==w.token&&void 0!==w.token){if(O=w.tokenSubst?Vo(this._lexer,w.token,v,y,b):w.token,w.nextEmbedded&&("@pop"===w.nextEmbedded?(s||Wo(this._lexer,"cannot pop embedded mode if not inside one"),s=null):s?Wo(this._lexer,"cannot enter embedded mode from within an embedded mode"):S=Vo(this._lexer,w.nextEmbedded,v,y,b)),w.goBack&&(c=Math.max(0,c-w.goBack)),w.switchTo&&"string"===typeof w.switchTo)"@"===(N=Vo(this._lexer,w.switchTo,v,y,b))[0]&&(N=N.substr(1)),Bo(this._lexer,N)?l=l.switchTo(N):Wo(this._lexer,"trying to switch to a state '"+N+"' that is undefined in rule: "+_.name);else if(w.transform&&"function"===typeof w.transform)Wo(this._lexer,"action.transform not supported");else if(w.next)if("@push"===w.next)l.depth>=this._lexer.maxStack?Wo(this._lexer,"maximum tokenizer stack size reached: ["+l.state+","+l.parent.state+",...]"):l=l.push(b);else if("@pop"===w.next)l.depth<=1?Wo(this._lexer,"trying to pop an empty stack in rule: "+_.name):l=l.pop();else if("@popall"===w.next)l=l.popall();else{var N;"@"===(N=Vo(this._lexer,w.next,v,y,b))[0]&&(N=N.substr(1)),Bo(this._lexer,N)?l=l.push(N):Wo(this._lexer,"trying to set a next state '"+N+"' that is undefined in rule: "+_.name)}w.log&&"string"===typeof w.log&&(o=this._lexer,r=this._lexer.languageId+": "+Vo(this._lexer,w.log,v,y,b),console.log(o.languageId+": "+r))}if(null===O&&Wo(this._lexer,"lexer rule has no well-defined action in rule: "+_.name),Array.isArray(O)){u&&u.length>0&&Wo(this._lexer,"groups cannot be nested: "+_.name),y.length!==O.length+1&&Wo(this._lexer,"matched number of groups does not match the number of actions in rule: "+_.name);for(var L=0,I=1;I<y.length;I++)L+=y[I].length;L!==v.length&&Wo(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+_.name),d=y,h=y.slice(1),u=O.slice(0),f=_,c-=v.length}else{if("@rematch"===O&&(c-=v.length,v="",y=null,O=""),0===v.length){if(m!==l.depth||b!==l.state||(u?u.length:0)!==g)continue;Wo(this._lexer,"no progress in tokenizer in rule: "+_.name),c=a}var E=null;if(Mo(O)&&0===O.indexOf("@brackets")){var D=O.substr("@brackets".length),A=nr(this._lexer,v);A||(Wo(this._lexer,"@brackets token returned but no bracket defined as: "+v),A={token:"",bracketType:0}),E=jo(A.token+D)}else{E=jo(""===O?"":O+this._lexer.tokenPostfix)}if(i.emit(p+n,E),null!==S){var M=this._modeService.getModeIdForLanguageName(S);M&&(S=M);var P=this._getNestedEmbeddedModeData(S);if(c<a){x=e.substr(c);return this._nestedTokenize(x,$o.create(l,P),n+c,i)}return $o.create(l,P)}}}return $o.create(l,s)},e.prototype._getNestedEmbeddedModeData=function(e){var t=this._locateMode(e);if(t){var n=re.y.get(t.getId());if(n)return new Zo(t.getId(),n.getInitialState())}var i=t?t.getId():Tn.b;return new Zo(i,Tn.c)},e.prototype._locateMode=function(e){if(!e||!this._modeService.isRegisteredMode(e))return null;var t=this._modeService.getModeId(e);this._modeService.getOrCreateMode(t);var n=this._modeService.getMode(t);return n?(this._embeddedModes[t]=!0,n):(this._embeddedModes[t]=!0,null)},e}();function nr(e,t){if(!t)return null;t=Fo(e,t);for(var n=e.brackets,i=0;i<n.length;i++){var o=n[i];if(o.open===t)return{token:o.token,bracketType:1};if(o.close===t)return{token:o.token,bracketType:-1}}return null}function ir(e){xn.registerLanguage(e)}function or(){var e=[];return e=e.concat(xn.getLanguages())}function rr(e){var t=Ri.modeService.get().getLanguageIdentifier(e);return t&&t.id}function ar(e,t){var n=Ri.modeService.get().onDidCreateMode(function(i){i.getId()===e&&(n.dispose(),t())});return n}function sr(e,t){var n=Ri.modeService.get().getLanguageIdentifier(e);if(!n)throw new Error("Cannot set configuration for unknown language "+e);return $t.a.register(n,t)}var lr,cr=function(){function e(e){this._actual=e}return e.prototype.getInitialState=function(){return this._actual.getInitialState()},e.prototype.tokenize=function(e,t,n){throw new Error("Not supported!")},e.prototype.tokenize2=function(e,t){var n=this._actual.tokenizeEncoded(e,t);return new h.c(n.tokens,n.endState)},e}(),ur=function(){function e(e,t,n){this._standaloneThemeService=e,this._languageIdentifier=t,this._actual=n}return e.prototype.getInitialState=function(){return this._actual.getInitialState()},e.prototype._toClassicTokens=function(e,t,n){for(var i=[],o=0,r=0,a=e.length;r<a;r++){var s=e[r],l=s.startIndex;0===r?l=0:l<o&&(l=o),i[r]=new h.a(l+n,s.scopes,t),o=l}return i},e.prototype.tokenize=function(e,t,n){var i,o=this._actual.tokenize(e,t),r=this._toClassicTokens(o.tokens,this._languageIdentifier.language,n);return i=o.endState.equals(t)?t:o.endState,new h.b(r,i)},e.prototype._toBinaryTokens=function(e,t){for(var n=this._languageIdentifier.id,i=this._standaloneThemeService.getTheme().tokenTheme,o=[],r=0,a=0,s=0,l=e.length;s<l;s++){var c=e[s],u=i.match(n,c.scopes);if(!(r>0&&o[r-1]===u)){var d=c.startIndex;0===s?d=0:d<a&&(d=a),o[r++]=d+t,o[r++]=u,a=d}}var h=new Uint32Array(r);for(s=0;s<r;s++)h[s]=o[s];return h},e.prototype.tokenize2=function(e,t,n){var i,o=this._actual.tokenize(e,t),r=this._toBinaryTokens(o.tokens,n);return i=o.endState.equals(t)?t:o.endState,new h.c(r,i)},e}();function dr(e,t){var n,i=Ri.modeService.get().getLanguageIdentifier(e);if(!i)throw new Error("Cannot set tokens provider for unknown language "+e);return n=function(e){return e.tokenizeEncoded}(t)?new cr(t):new ur(Ri.standaloneThemeService.get(),i,t),re.y.register(e,n)}function hr(e,t){var n=function(e,t){if(!t||"object"!==typeof t)throw new Error("Monarch: expecting a language definition object");var n={};n.languageId=e,n.noThrow=!1,n.maxStack=100,n.start=zo(t.start),n.ignoreCase=Ho(t.ignoreCase,!1),n.tokenPostfix=zo(t.tokenPostfix,"."+n.languageId),n.defaultToken=zo(t.defaultToken,"source",function(){Wo(n,"the 'defaultToken' must be a string")}),n.usesEmbedded=!1;var i=t;function o(e,r,a){for(var s in a)if(a.hasOwnProperty(s)){var l=a[s],c=l.include;if(c)"string"!==typeof c&&Wo(n,"an 'include' attribute must be a string at: "+e),"@"===c[0]&&(c=c.substr(1)),t.tokenizer[c]||Wo(n,"include target '"+c+"' is not defined at: "+e),o(e+"."+c,r,t.tokenizer[c]);else{var u=new Go(e);if(Array.isArray(l)&&l.length>=1&&l.length<=3)if(u.setRegex(i,l[0]),l.length>=3)if("string"===typeof l[1])u.setAction(i,{token:l[1],next:l[2]});else if("object"===typeof l[1]){var d=l[1];d.next=l[2],u.setAction(i,d)}else Wo(n,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+e);else u.setAction(i,l[1]);else l.regex||Wo(n,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+e),l.name&&(u.name=zo(l.name)),l.matchOnlyAtStart&&(u.matchOnlyAtLineStart=Ho(l.matchOnlyAtLineStart)),u.setRegex(i,l.regex),u.setAction(i,l.action);r.push(u)}}}for(var r in i.languageId=e,i.ignoreCase=n.ignoreCase,i.noThrow=n.noThrow,i.usesEmbedded=n.usesEmbedded,i.stateNames=t.tokenizer,i.defaultToken=n.defaultToken,t.tokenizer&&"object"===typeof t.tokenizer||Wo(n,"a language definition must define the 'tokenizer' attribute as an object"),n.tokenizer=[],t.tokenizer)if(t.tokenizer.hasOwnProperty(r)){n.start||(n.start=r);var a=t.tokenizer[r];n.tokenizer[r]=new Array,o("tokenizer."+r,n.tokenizer[r],a)}n.usesEmbedded=i.usesEmbedded,t.brackets?Array.isArray(t.brackets)||Wo(n,"the 'brackets' attribute must be defined as an array"):t.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];var s=[];for(var l in t.brackets)if(t.brackets.hasOwnProperty(l)){var c=t.brackets[l];c&&Array.isArray(c)&&3===c.length&&(c={token:c[2],open:c[0],close:c[1]}),c.open===c.close&&Wo(n,"open and close brackets in a 'brackets' attribute must be different: "+c.open+"\n hint: use the 'bracket' attribute if matching on equal brackets is required."),"string"===typeof c.open&&"string"===typeof c.token?s.push({token:zo(c.token)+n.tokenPostfix,open:Fo(n,zo(c.open)),close:Fo(n,zo(c.close))}):Wo(n,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return n.brackets=s,n.noThrow=!0,n}(e,t),i=function(e,t,n,i){return new tr(e,t,n,i)}(Ri.modeService.get(),Ri.standaloneThemeService.get(),e,n);return re.y.register(e,i)}function fr(e,t){return re.r.register(e,t)}function pr(e,t){return re.s.register(e,t)}function mr(e,t){return re.t.register(e,t)}function gr(e,t){return re.m.register(e,{provideHover:function(e,n,i){var o=e.getWordAtPosition(n);return Object(I.n)(t.provideHover(e,n,i)).then(function(e){if(e)return!e.range&&o&&(e.range=new l.a(n.lineNumber,o.startColumn,n.lineNumber,o.endColumn)),e.range||(e.range=new l.a(n.lineNumber,n.column,n.lineNumber,n.column)),e})}})}function br(e,t){return re.j.register(e,t)}function yr(e,t){return re.h.register(e,t)}function vr(e,t){return re.e.register(e,t)}function wr(e,t){return re.n.register(e,t)}function _r(e,t){return re.z.register(e,t)}function Sr(e,t){return re.c.register(e,t)}function Cr(e,t){return re.a.register(e,{provideCodeActions:function(e,n,i,o){var r=Ri.markerService.get().read({resource:e.uri}).filter(function(e){return l.a.areIntersectingOrTouching(e,n)});return t.provideCodeActions(e,n,{markers:r,only:i.only},o)}})}function xr(e,t){return re.f.register(e,t)}function kr(e,t){return re.i.register(e,t)}function Tr(e,t){return re.q.register(e,t)}function Or(e,t){return re.p.register(e,t)}function Nr(e,t){var n=new Er(t);return re.u.register(e,{triggerCharacters:t.triggerCharacters,provideCompletionItems:function(e,t,i,o){return n.provideCompletionItems(e,t,i,o)},resolveCompletionItem:function(e,t,i,o){return n.resolveCompletionItem(e,t,i,o)}})}function Lr(e,t){return re.d.register(e,t)}function Ir(e,t){return re.l.register(e,t)}!function(e){e[e.Text=0]="Text",e[e.Method=1]="Method",e[e.Function=2]="Function",e[e.Constructor=3]="Constructor",e[e.Field=4]="Field",e[e.Variable=5]="Variable",e[e.Class=6]="Class",e[e.Interface=7]="Interface",e[e.Module=8]="Module",e[e.Property=9]="Property",e[e.Unit=10]="Unit",e[e.Value=11]="Value",e[e.Enum=12]="Enum",e[e.Keyword=13]="Keyword",e[e.Snippet=14]="Snippet",e[e.Color=15]="Color",e[e.File=16]="File",e[e.Reference=17]="Reference",e[e.Folder=18]="Folder"}(lr||(lr={}));var Er=function(){function e(e){this._provider=e}return e.from=function(e,t,n){var i={_actual:e,label:e.label,insertText:e.label,type:function(e){switch(e){case lr.Method:return"method";case lr.Function:return"function";case lr.Constructor:return"constructor";case lr.Field:return"field";case lr.Variable:return"variable";case lr.Class:return"class";case lr.Interface:return"interface";case lr.Module:return"module";case lr.Property:return"property";case lr.Unit:return"unit";case lr.Value:return"value";case lr.Enum:return"enum";case lr.Keyword:return"keyword";case lr.Snippet:return"snippet";case lr.Text:return"text";case lr.Color:return"color";case lr.File:return"file";case lr.Reference:return"reference";case lr.Folder:return"folder"}return"property"}(e.kind),detail:e.detail,documentation:e.documentation,command:e.command,sortText:e.sortText,filterText:e.filterText,snippetType:"internal",additionalTextEdits:e.additionalTextEdits,commitCharacters:e.commitCharacters},o=e.textEdit?e.textEdit.range:e.range;if(o){if(!(o.startLineNumber===o.endLineNumber)||o.startLineNumber!==t.lineNumber)return console.warn("INVALID range, must be single line and on the same line"),null;i.overwriteBefore=t.column-o.startColumn,i.overwriteAfter=o.endColumn-t.column}else i.overwriteBefore=t.column-n.column,i.overwriteAfter=0;return e.textEdit?i.insertText=e.textEdit.text:"object"===typeof e.insertText&&"string"===typeof e.insertText.value?(i.insertText=e.insertText.value,i.snippetType="textmate"):"string"===typeof e.insertText&&(i.insertText=e.insertText),i},e.prototype.provideCompletionItems=function(t,n,i,o){var r=this._provider.provideCompletionItems(t,n,o,i);return Object(I.n)(r).then(function(i){var o,r={suggestions:[]},a=n,l=t.getWordUntilPosition(n);if(l&&(a=new s.a(a.lineNumber,l.startColumn)),Array.isArray(i))o={items:i,isIncomplete:!1};else if("object"===typeof i&&Array.isArray(i.items))o=i,r.incomplete=o.isIncomplete;else{if(!i)return;console.warn("INVALID result from completion provider. expected CompletionItem-array or CompletionList but got:",i)}for(var c=0;c<o.items.length;c++){var u=o.items[c],d=e.from(u,n,a);d&&r.suggestions.push(d)}return r})},e.prototype.resolveCompletionItem=function(t,n,i,o){if("function"!==typeof this._provider.resolveCompletionItem)return u.b.as(i);var r=i._actual;return r?Object(I.n)(this._provider.resolveCompletionItem(r,o)).then(function(i){var o=n,r=t.getWordUntilPosition(n);return r&&(o=new s.a(o.lineNumber,r.startColumn)),e.from(i,n,o)}):u.b.as(i)},e}();var Dr=function(){function e(e){u.a.is(e)?this._winjsPromise=e:this._winjsPromise=new u.a(function(t,n){var i=!0;e(function(e){i?ne.h(function(){return t(e)}):t(e)},function(e){i?ne.h(function(){return n(e)}):n(e)}),i=!1})}return e.all=function(t){return new e(u.a.join(t).then(null,function(e){for(var t in e)if(e.hasOwnProperty(t))return e[t]}))},e.race=function(t){return new e(u.a.any(t).then(function(e){return e.value},function(e){return e.value}))},e.resolve=function(t){return new e(u.a.wrap(t))},e.reject=function(t){return new e(u.a.wrapError(t))},e.prototype.then=function(t,n){var i=!0,o=new e(this._winjsPromise.then(t&&function(e){i?ne.h(function(){return t(e)}):t(e)},n&&function(e){i?ne.h(function(){return n(e)}):n(e)}));return i=!1,o},e.prototype.catch=function(e){return this.then(null,e)},e}();n.d(t,"CancellationTokenSource",function(){return Pr}),n.d(t,"Emitter",function(){return Rr}),n.d(t,"KeyCode",function(){return Fr}),n.d(t,"KeyMod",function(){return jr}),n.d(t,"Position",function(){return Wr}),n.d(t,"Range",function(){return Vr}),n.d(t,"Selection",function(){return Br}),n.d(t,"SelectionDirection",function(){return Hr}),n.d(t,"MarkerSeverity",function(){return zr}),n.d(t,"MarkerTag",function(){return Ur}),n.d(t,"Promise",function(){return qr}),n.d(t,"Uri",function(){return Gr}),n.d(t,"Token",function(){return Kr}),n.d(t,"editor",function(){return Yr}),n.d(t,"languages",function(){return Zr});var Ar=self;"undefined"===typeof Ar.Promise&&(Ar.Promise=Dr),Dn.a.wrappingIndent=Dn.j.None,Dn.a.viewInfo.glyphMargin=!1,Dn.a.autoIndent=!1;var Mr=g();Mr.editor={create:uo,onDidCreateEditor:ho,createDiffEditor:fo,createDiffNavigator:po,createModel:go,setModelLanguage:bo,setModelMarkers:yo,getModelMarkers:vo,getModels:_o,getModel:wo,onDidCreateModel:So,onWillDisposeModel:Co,onDidChangeModelLanguage:xo,createWebWorker:ko,colorizeElement:To,colorize:Oo,colorizeModelLine:No,tokenize:Lo,defineTheme:Io,setTheme:Eo,ScrollbarVisibility:We.b,WrappingIndent:Dn.j,OverviewRulerLane:Mn.f,EndOfLinePreference:Mn.c,DefaultEndOfLine:Mn.b,EndOfLineSequence:Mn.d,TrackedRangeStickiness:Mn.h,CursorChangeReason:lo.a,MouseTargetType:v.b,TextEditorCursorStyle:Dn.i,TextEditorCursorBlinkingStyle:Dn.h,ContentWidgetPositionPreference:v.a,OverlayWidgetPositionPreference:v.c,RenderMinimap:Dn.g,ScrollType:no,RenderLineNumbersType:io,InternalEditorOptions:Dn.e,BareFontInfo:so.a,FontInfo:so.b,TextModelResolvedOptions:Mn.g,FindMatch:Mn.e,EditorType:y.a},Mr.languages={register:ir,getLanguages:or,onLanguage:ar,getEncodedLanguageId:rr,setLanguageConfiguration:sr,setTokensProvider:dr,setMonarchTokensProvider:hr,registerReferenceProvider:fr,registerRenameProvider:pr,registerCompletionItemProvider:Nr,registerSignatureHelpProvider:mr,registerHoverProvider:gr,registerDocumentSymbolProvider:br,registerDocumentHighlightProvider:yr,registerDefinitionProvider:vr,registerImplementationProvider:wr,registerTypeDefinitionProvider:_r,registerCodeLensProvider:Sr,registerCodeActionProvider:Cr,registerDocumentFormattingEditProvider:xr,registerDocumentRangeFormattingEditProvider:kr,registerOnTypeFormattingEditProvider:Tr,registerLinkProvider:Or,registerColorProvider:Lr,registerFoldingRangeProvider:Ir,DocumentHighlightKind:re.g,CompletionItemKind:lr,SymbolKind:re.w,IndentAction:Do.a,SuggestTriggerKind:re.v,FoldingRangeKind:re.k};var Pr=Mr.CancellationTokenSource,Rr=Mr.Emitter,Fr=Mr.KeyCode,jr=Mr.KeyMod,Wr=Mr.Position,Vr=Mr.Range,Br=Mr.Selection,Hr=Mr.SelectionDirection,zr=Mr.MarkerSeverity,Ur=Mr.MarkerTag,qr=Mr.Promise,Gr=Mr.Uri,Kr=Mr.Token,Yr=Mr.editor,Zr=Mr.languages;Ar.monaco=Mr,"undefined"!==typeof Ar.require&&"function"===typeof Ar.require.config&&Ar.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index"]})},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n.n(i),r=n(114),a=n.n(r),s=n(16),l=function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function s(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((i=i.apply(e,t||[])).next())})},c=function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},u="10a6656f66c8392b4d35",d="repo";function h(e){return"https://github.com/login/oauth/authorize?client_id="+u+"&scope="+d+"&state="+e}var f,p=n(64),m=n.n(p),g=n(14),b=(f=function(e,t){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}f(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return b(t,e),t.prototype.render=function(){var e=this.props,t=e.loading,n=e.onHide,i=e.onExportLy,r=e.onExportMIDI,a=e.onExportPDF,l=e.songURL;return o.a.createElement(m.a,{className:Object(s.css)(g.g.modal),contentLabel:"Download",isOpen:!0,onRequestClose:n,overlayClassName:Object(s.css)(g.g.overlay)},o.a.createElement("div",null,o.a.createElement("div",{className:Object(s.css)(g.g.modalHeader)},"Download or Export",o.a.createElement("button",{"aria-label":"Back to song",onClick:n,className:Object(s.css)(g.g.closeButton)},o.a.createElement("i",{className:"fa-close fa","aria-hidden":!0}))),t&&o.a.createElement("i",{className:"fa fa-spinner fa-spin","aria-hidden":!0}),!t&&o.a.createElement("div",{className:Object(s.css)(g.g.modalBody)},o.a.createElement("div",null,o.a.createElement("a",{href:"javascript:void(0)",onClick:i,className:Object(s.css)(g.b.buttonStyle,g.b.downloadChoiceButton)},o.a.createElement("i",{className:"fa fa-download"})," Download LilyPond file")),o.a.createElement("div",null,o.a.createElement("a",{href:"javascript:void(0)",onClick:a,className:Object(s.css)(g.b.buttonStyle,g.b.downloadChoiceButton)},o.a.createElement("i",{className:"fa fa-file-pdf-o"})," Export PDF")),o.a.createElement("div",null,o.a.createElement("a",{href:"javascript:void(0)",onClick:r,className:Object(s.css)(g.b.buttonStyle,g.b.downloadChoiceButton)},o.a.createElement("i",{className:"fa fa-music"})," Export MIDI")),l&&o.a.createElement("div",null,o.a.createElement("a",{href:l.replace(/\.ly$/,".pdf"),target:"_blank",rel:"noopener noreferrer",className:Object(s.css)(g.b.buttonStyle,g.b.downloadChoiceButton)},o.a.createElement("i",{className:"fa fa-github"})," View on GitHub")))))},t}(o.a.PureComponent),v=n(158),w=n(311),_=n.n(w),S=n(312),C=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){t.toggleSelect(JSON.parse(e.currentTarget.dataset.value||"null"))},t}return C(t,e),t.prototype.render=function(){var e=this,t=this.props.value,n=this.props.buttons.map(function(n,i){var r=Object(s.css)(g.b.buttonStyle,n.value===t&&g.b.selectedStyle);return o.a.createElement("button",{className:r,onClick:e.handleClick,id:String(i),key:String(i),"data-value":JSON.stringify(n.value),title:n.title,type:"button"},n.content||String(n.value))});return o.a.createElement("div",{style:{display:"inline-block"}},n)},t.prototype.toggleSelect=function(e){var t=this.props.value;this.props.allowEmpty?this.props.onChange(t!==e?e:null):this.props.onChange(e)},t.defaultProps={allowEmpty:!0,value:null},t}(o.a.PureComponent),k=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),T=function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function s(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((i=i.apply(e,t||[])).next())})},O=function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},N="view",L="both",I="edit",E=630;var D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={played:!1,player:null,playing:!1,timeInSeconds:0},t.handleFastForward=function(){t.state.player&&t.state.player.seek(t.state.timeInSeconds+4)},t.handlePause=function(){return T(t,void 0,Promise,function(){var e;return O(this,function(t){return this.setState({playing:!1}),(e=this.state.player)&&e.pause(),[2]})})},t.handlePlay=function(){return T(t,void 0,Promise,function(){var e;return O(this,function(t){switch(t.label){case 0:return this.props.midi?this.state.player?(e=this.state.player,[3,4]):[3,1]:(alert("No MIDI data found. Make sure you have a \\midi {} and a \\layout {} in your \\score {}."),[2]);case 1:return[4,Promise.all([n.e(1),n.e(54),n.e(53)]).then(n.t.bind(null,823,7))];case 2:return[4,(0,t.sent().playerFromMIDIBuffer)(this.props.midi,"https://www.hacklily.org/hackmidi/samples/")];case 3:e=t.sent(),this.setState({player:e}),e.addChangeListener(this.handlePlaying),t.label=4;case 4:return e.play(),this.setState({played:!0,playing:!0}),[2]}})})},t.handlePlaying=function(e,n){var i=t.state.playing;t.setState({playing:n,timeInSeconds:e});var o=t.state.player;o?i&&!n&&0===e&&t.setState({player:null},function(){setTimeout(function(){o.destroy()},0)}):console.log("handlePlaying called, but there's no song")},t.handleRewind=function(){t.state.player&&t.state.player.seek(Math.max(0,t.state.timeInSeconds-4))},t.handleShowMakelily=function(){t.props.onShowMakelily()},t}return k(t,e),t.prototype.componentWillReceiveProps=function(e){if(e.midi!==this.props.midi&&this.state.player){var t=this.state.player;this.setState({player:null,playing:!1},function(){t.destroy()})}},t.prototype.render=function(){var e=this.props,t=e.mode,n=e.loggedIn,i=e.onModeChanged,r=e.onShowMenu,a=e.windowWidth,l=this.state,c=l.played,u=l.playing,d=[];a<E&&(d.push({content:o.a.createElement("i",{"aria-hidden":!0,className:"fa fa-eye "+Object(s.css)(g.d.modeItem)}),title:"View",value:N}),d.push({content:o.a.createElement("i",{"aria-hidden":!0,className:"fa fa-pencil "+Object(s.css)(g.d.modeItem)}),title:"Edit",value:I}));var h,f=d.length>0&&o.a.createElement("div",{className:Object(s.css)(g.d.headerGroupWrapper,g.d.miniGroup)},o.a.createElement(x,{value:t,buttons:d,onChange:i})),p=o.a.createElement("div",{className:Object(s.css)(g.d.headerGroupWrapper,g.d.miniGroup)},o.a.createElement("button",{title:u?"Pause":"Play",className:Object(s.css)(g.b.buttonStyle,g.d.playButton),onClick:u?this.handlePause:this.handlePlay},o.a.createElement("i",{className:u?"fa-pause fa":"fa-play fa"}))),m=o.a.createElement("div",{className:Object(s.css)(g.d.headerGroupWrapper,g.d.miniGroup)},o.a.createElement("button",{title:"Lilypond Tools",className:Object(s.css)(g.b.buttonStyle,g.d.playButton),onClick:this.handleShowMakelily},o.a.createElement("i",{className:"fa-briefcase fa"})," Tools")),b=this.renderCommunityToolbar(),y=null;return y=a>=E?o.a.createElement("div",{className:Object(s.css)(g.d.headerGroupWrapper,g.d.songs)},o.a.createElement("button",{title:"Menu",className:Object(s.css)(g.b.buttonStyle,g.d.songsText),onClick:r},!n&&o.a.createElement("span",null,"Hacklily \u2014 "),this.props.song?(h=this.props.song.split("/"),h[h.length-1]).split(".ly")[0]:"untitled",this.props.isDirty?"*":""," ",o.a.createElement("span",{className:Object(s.css)(g.d.srOnly)},": an online LilyPond editor"),o.a.createElement("i",{className:"fa fa-chevron-down","aria-hidden":!0}))):o.a.createElement("div",{className:Object(s.css)(g.d.headerGroupWrapper,g.d.songs)},o.a.createElement("button",{title:"Menu",className:Object(s.css)(g.b.buttonStyle,g.d.songsText),onClick:r},o.a.createElement("i",{className:"fa-bars fa"})," Menu")),o.a.createElement("div",{className:"header"},o.a.createElement("img",{src:S,className:Object(s.css)(g.d.logo),alt:"Frog, Hacklily logo"}),y||o.a.createElement("span",{style:{width:10}}),f,m,c?this.renderTime():p,o.a.createElement("div",{className:Object(s.css)(g.d.headerSpacer)}),b)},t.prototype.renderCommunityToolbar=function(){var e,t,n=this.props,i=n.online,r=n.song,a=n.onShowClone,l=n.onShowNew,c=n.onShowPublish,u=n.isDirty,d=n.windowWidth,h=n.sandboxIsDirty,f=n.inSandbox,p=n.isImmutableSrc,m=d<=750,b=h?"Back to scratchpad":"New song";return f||(e=o.a.createElement("button",{title:"Save As",className:Object(s.css)(g.d.newSong),onClick:a},o.a.createElement("i",{className:"fa fa-clone"})," ",!m&&!p&&o.a.createElement("span",null,"Save As"),!m&&p&&o.a.createElement("span",null,"Import"))),r?u?t=o.a.createElement("span",null,o.a.createElement("i",{className:"fa fa-save"})," ",!m&&o.a.createElement("span",null,"Save updates")):m||(t="All changes saved."):t=o.a.createElement("span",null,o.a.createElement("i",{className:"fa fa-save"})," ",!m&&o.a.createElement("span",null,"Save / share")),u||this.props.song?i?o.a.createElement("div",{className:Object(s.css)(g.d.headerGroupWrapper)},o.a.createElement("button",{title:"Publish",className:Object(s.css)(g.d.newSong),onClick:l},o.a.createElement("i",{className:"fa "+(h?"fa-chevron-left":"fa-plus")})," ",!m&&o.a.createElement("span",null,b)),e,o.a.createElement("button",{title:"Publish",className:Object(s.css)(g.d.publish,u&&g.d.publishActive),onClick:u||!r?c:void 0},t)):o.a.createElement("div",{className:Object(s.css)(g.d.headerGroupWrapper)},o.a.createElement("i",{className:"fa fa-spinner fa-spin","aria-hidden":!0}),o.a.createElement("div",{style:{display:"inline-block",width:10}})):o.a.createElement("div",{className:Object(s.css)(g.d.headerGroupWrapper)},o.a.createElement("button",{title:"Publish",className:Object(s.css)(g.d.newSong)},!m&&o.a.createElement("span",null,"No changes made.")))},t.prototype.renderTime=function(){var e=this.state.timeInSeconds,t=String(Math.floor(100*e)/100),n=this.state.playing;return o.a.createElement("div",{className:Object(s.css)(g.d.headerGroupWrapper,g.d.miniGroup)},o.a.createElement("button",{title:"Rewind",className:Object(s.css)(g.b.buttonStyle,g.d.playButton),onClick:this.handleRewind},o.a.createElement("i",{className:"fa-backward fa"})),o.a.createElement("button",{title:n?"Pause":"Play",className:Object(s.css)(g.b.buttonStyle,g.d.playButton),onClick:n?this.handlePause:this.handlePlay},o.a.createElement("i",{className:n?"fa-pause fa":"fa-play fa"})),o.a.createElement("button",{className:Object(s.css)(g.b.buttonStyle,g.d.playButton,g.d.playTime),disabled:!0},t),o.a.createElement("button",{title:"Fast-forward",className:Object(s.css)(g.b.buttonStyle,g.d.playButton),onClick:this.handleFastForward},o.a.createElement("i",{className:"fa-forward fa"})))},t}(o.a.PureComponent),A=function(){return function(e){var t=this;this.provideCodeLenses=function(e,n){return e.getLinesContent().reduce(function(e,n,i){var o=e;return-1!==n.indexOf("\\clef")&&(o=o.concat([{command:{arguments:[i],id:t.commands.setClef,title:"Tool: Change Clef"},range:{endColumn:1,endLineNumber:i+2,startColumn:1,startLineNumber:i+1}}])),-1!==n.indexOf("\\key")&&(o=o.concat([{command:{arguments:[i],id:t.commands.setKey,title:"Tool: Change Key Signature"},range:{endColumn:1,endLineNumber:i+2,startColumn:1,startLineNumber:i+1}}])),-1!==n.indexOf("\\time")&&(o=o.concat([{command:{arguments:[i],id:t.commands.setTime,title:"Tool: Change Time Signature"},range:{endColumn:1,endLineNumber:i+2,startColumn:1,startLineNumber:i+1}}])),-1!==n.indexOf("\\relative")&&(o=o.concat([{command:{arguments:[i],id:t.commands.insertNotes,title:"Tool: Insert Notes"},range:{endColumn:1,endLineNumber:i+2,startColumn:1,startLineNumber:i+1}}])),o},[])},this.resolveCodeLens=function(e,t,n){return t},this.commands=e}}(),M=function(){function e(e){this.insertNotes="",this.setClef="",this.setKey="",this.setTime="",this.showMakelily=e}return e.prototype.clear=function(){this.insertNotes="",this.setClef="",this.setKey="",this.setTime=""},e.prototype.init=function(e){var t=this;function n(t){e.setPosition({column:1,lineNumber:t+2})}function i(t,n){var i=e.getModel().getLinesContent()[t].match(/^\s*/),o=i?i[0]:"",r={forceMoveMarkers:!1,range:new v.Range(t+1,1,t+2,1),text:""+o+n};e.executeEdits("hacklily",[r])}this.setClef=e.addCommand(0,function(e,o){n(o),t.showMakelily("clef",function(e){i(o,e)})},""),this.setKey=e.addCommand(0,function(e,o){n(o),t.showMakelily("key",function(e){i(o,e)})},""),this.setTime=e.addCommand(0,function(e,o){n(o),t.showMakelily("time",function(e){i(o,e)})},""),this.insertNotes=e.addCommand(0,function(e,i){n(i),t.showMakelily("notes")},"")},e}(),P=/^\\/;var R=[{label:"!",detail:"Accidentals",documentation:"Normally accidentals are printed automatically, but you may also print them manually. A reminder accidental can be forced by adding an exclamation mark\xa0! after the pitch. A cautionary accidental (i.e., an accidental within parentheses) can be obtained by adding the question mark\xa0? after the pitch. These extra accidentals can also be used to produce natural signs.\n\n    cis cis cis! cis? c c c! c?"},{label:'"|"',detail:"Bar and bar number checks",documentation:"It is also possible to redefine the action taken when a bar check or pipe symbol, |, is encountered in the input, so that it does something other than a bar check. This is done by assigning a music expression to \"|\". In the following example | is set to insert a double bar line wherever it appears in the input, rather than checking for end of bar.\n\n    \"|\" = \\bar \"||\"\n    {\n      c'2 c' |\n      c'2 c'\n      c'2 | c'\n      c'2 c'\n    }"},{label:"'",detail:"Absolute octave entry",documentation:"Other octaves may be specified with a single quote\xa0(') or comma\xa0(,) character. Each\xa0' raises the pitch by one octave; each\xa0, lowers the pitch by an octave.\n\n    {\n      \\clef treble\n      c'4 c'' e' g\n      d''4 d' d c\n      \\clef bass\n      c,4 c,, e, g\n      d,,4 d, d c\n    }"},{label:",",detail:"Absolute octave entry",documentation:"Other octaves may be specified with a single quote\xa0(') or comma\xa0(,) character. Each\xa0' raises the pitch by one octave; each\xa0, lowers the pitch by an octave.\n\n    {\n      \\clef treble\n      c'4 c'' e' g\n      d''4 d' d c\n      \\clef bass\n      c,4 c,, e, g\n      d,,4 d, d c\n    }"},{label:"-",detail:"Articulations and ornamentations",documentation:"A variety of symbols that denote articulations, ornamentations, and other performance indications can be attached to a note using this syntax:\n\n    note\\name\n\nThe possible values for name are listed in List of articulations. For example:\n\n    c4\\staccato c\\mordent b2\\turn\n    c1\\fermata"},{label:".",detail:"Durations",documentation:"To obtain dotted note lengths, place a dot (.) after the duration. Double-dotted notes are specified by appending two dots, and so on.\n\n    a4 b c4. b8 a4. b4.. c8.\n\nSome durations cannot be represented with just binary durations and dots; they can be represented only by tying two or more notes together. For details, see Ties.\n\nFor ways of specifying durations for the syllables of lyrics and ways of aligning lyrics to notes, see Vocal music.\n\nOptionally, notes can be spaced strictly proportionately to their duration. For details of this and other settings which control proportional notation, see Proportional notation."},{label:"/",detail:"Extended and altered chords",documentation:"Inversions (putting a pitch other than the root on the bottom of the chord) and added bass notes can be specified by appending /pitch to the chord.\n\n    \\chordmode {\n      c1 c/g c/f\n    }"},{label:"/+",detail:"Extended and altered chords",documentation:"A bass note that is part of the chord can be added, instead of moved as part of an inversion, by using /+pitch.\n\n    \\chordmode {\n      c1 c/g c/+g\n    }\n\nChord modifiers that can be used to produce a variety of standard chords are shown in Common chord modifiers."},{label:":",detail:"Tremolo repeats",documentation:"The same output can be obtained by adding :N after the note, where N indicates the duration of the subdivision (it must be at least 8). If N is 8, one beam is added to the note\u2019s stem. If N is omitted, the last value (stored in tremoloFlags) is used:\n\n    c2:8 c:32\n    c: c:"},{label:"<",detail:"Chorded notes",documentation:"A chord is formed by enclosing a set of pitches between < and >. A chord may be followed by a duration just like simple notes.\n\n    <a c e>1 <a c e>2 <f a c e>4 <a c>8. <g c e>16\n\nChords may also be followed by articulations, again just like simple notes.\n\n    <a c e>1\\fermata <a c e>2-> <f a c e>4\\prall <a c>8.^! <g c e>16-.\n\nThe notes within the chord themselves can also be followed by articulation and ornamentation.\n\n    <a c\\prall e>1 <a-> c-^ e>2 <f-. a c-. e-.>4\n    <a-+ c--\x3e8. <g\\fermata c e\\turn>16\n\nHowever some notation, such as dynamics, hairpins and slurs must be attached to the chord, rather than notes within the chord, otherwise they will not print.\n\n    <a\\f c( e>1 <a c) e>\\f <a\\< c e>( <a\\! c e>)\n    <a c e>\\< <a c e> <a c e>\\!"},{label:"<...>",detail:"Chorded notes",documentation:"A chord is formed by enclosing a set of pitches between < and >. A chord may be followed by a duration just like simple notes.\n\n    <a c e>1 <a c e>2 <f a c e>4 <a c>8. <g c e>16\n\nChords may also be followed by articulations, again just like simple notes.\n\n    <a c e>1\\fermata <a c e>2-> <f a c e>4\\prall <a c>8.^! <g c e>16-.\n\nThe notes within the chord themselves can also be followed by articulation and ornamentation.\n\n    <a c\\prall e>1 <a-> c-^ e>2 <f-. a c-. e-.>4\n    <a-+ c--\x3e8. <g\\fermata c e\\turn>16\n\nHowever some notation, such as dynamics, hairpins and slurs must be attached to the chord, rather than notes within the chord, otherwise they will not print.\n\n    <a\\f c( e>1 <a c) e>\\f <a\\< c e>( <a\\! c e>)\n    <a c e>\\< <a c e> <a c e>\\!"},{label:"=",detail:"Octave checks",documentation:"In relative mode, it is easy to forget an octave changing mark. Octave checks make such errors easier to find by displaying a warning and correcting the octave if a note is found in an unexpected octave.\n\nTo check the octave of a note, specify the absolute octave after the =\xa0symbol. This example will generate a warning (and change the pitch) because the second note is the absolute octave d'' instead of d' as indicated by the octave correction.\n\n    \\relative c'' {\n      c2 d='4 d\n      e2 f\n    }\n\nThe octave of notes may also be checked with the \\octaveCheck\xa0controlpitch command. controlpitch is specified in absolute mode. This checks that the interval between the previous note and the controlpitch is within a fourth (i.e., the normal calculation of relative mode). If this check fails, a warning is printed, but the previous note is not changed. Future notes are relative to the controlpitch.\n\n    \\relative c'' {\n      c2 d\n      \\octaveCheck c'\n      e2 f\n    }\n\nCompare the two bars below. The first and third \\octaveCheck checks fail, but the second one does not fail.\n\n    \\relative c'' {\n      c4 f g f\n      c4\n      \\octaveCheck c'\n      f\n      \\octaveCheck c'\n      g\n      \\octaveCheck c'\n      f\n    }"},{label:">",detail:"Chorded notes",documentation:"A chord is formed by enclosing a set of pitches between < and >. A chord may be followed by a duration just like simple notes.\n\n    <a c e>1 <a c e>2 <f a c e>4 <a c>8. <g c e>16\n\nChords may also be followed by articulations, again just like simple notes.\n\n    <a c e>1\\fermata <a c e>2-> <f a c e>4\\prall <a c>8.^! <g c e>16-.\n\nThe notes within the chord themselves can also be followed by articulation and ornamentation.\n\n    <a c\\prall e>1 <a-> c-^ e>2 <f-. a c-. e-.>4\n    <a-+ c--\x3e8. <g\\fermata c e\\turn>16\n\nHowever some notation, such as dynamics, hairpins and slurs must be attached to the chord, rather than notes within the chord, otherwise they will not print.\n\n    <a\\f c( e>1 <a c) e>\\f <a\\< c e>( <a\\! c e>)\n    <a c e>\\< <a c e> <a c e>\\!"},{label:"?",detail:"Accidentals",documentation:"Normally accidentals are printed automatically, but you may also print them manually. A reminder accidental can be forced by adding an exclamation mark\xa0! after the pitch. A cautionary accidental (i.e., an accidental within parentheses) can be obtained by adding the question mark\xa0? after the pitch. These extra accidentals can also be used to produce natural signs.\n\n    cis cis cis! cis? c c c! c?"},{label:"[",detail:"Manual beams",documentation:"In some cases it may be necessary to override the automatic beaming algorithm. For example, the autobeamer will not put beams over rests or bar lines, and in choral scores the beaming is often set to follow the meter of the lyrics rather than the notes. Such beams can be specified manually by marking the begin and end point with [ and ].\n\n    r4 r8[ g' a r] r g[ | a] r"},{label:"\\!",detail:"Dynamics",documentation:"A crescendo mark is started with \\< and terminated with \\!, an absolute dynamic, or an additional crescendo or decrescendo mark. A decrescendo mark is started with \\> and is also terminated with \\!, an absolute dynamic, or another crescendo or decrescendo mark. \\cr and \\decr may be used instead of \\< and \\>. Hairpins are engraved by default using this notation.\n\n    c2\\< c\\!\n    d2\\< d\\f\n    e2\\< e\\>\n    f2\\> f\\!\n    e2\\> e\\mp\n    d2\\> d\\>\n    c1\\!\n\nA hairpin that is terminated with \\! will end at the right edge of the note that has the \\! assigned to it. In the case where it is terminated with the start of another crescendo or decrescendo mark, it will end at the centre of the note that has the next \\< or \\> assigned to it. The next hairpin will then start at the right edge of the same note instead of the usual left edge had it been terminated with \\! before.\n\n    c1\\< | c4 a c\\< a | c4 a c\\! a\\< | c4 a c a\\!\n\nHairpins that are terminated with absolute dynamic marks instead of \\! will also be engraved in a similar way. However, the length of the absolute dynamic itself can alter where the preceding hairpin ends.\n\n    c1\\< | c4 a c\\mf a | c1\\< | c4 a c\\ffff a"},{label:"\\(",detail:"Phrasing slurs",documentation:"Phrasing slurs (or phrasing marks) that indicate a musical sentence are written using the commands \\( and \\) respectively:\n\n    c4\\( d( e) f(\n    e2) d\\)"},{label:"\\)",detail:"Phrasing slurs",documentation:"Phrasing slurs (or phrasing marks) that indicate a musical sentence are written using the commands \\( and \\) respectively:\n\n    c4\\( d( e) f(\n    e2) d\\)"},{label:"\\<",detail:"Dynamics",documentation:"A crescendo mark is started with \\< and terminated with \\!, an absolute dynamic, or an additional crescendo or decrescendo mark. A decrescendo mark is started with \\> and is also terminated with \\!, an absolute dynamic, or another crescendo or decrescendo mark. \\cr and \\decr may be used instead of \\< and \\>. Hairpins are engraved by default using this notation.\n\n    c2\\< c\\!\n    d2\\< d\\f\n    e2\\< e\\>\n    f2\\> f\\!\n    e2\\> e\\mp\n    d2\\> d\\>\n    c1\\!\n\nA hairpin that is terminated with \\! will end at the right edge of the note that has the \\! assigned to it. In the case where it is terminated with the start of another crescendo or decrescendo mark, it will end at the centre of the note that has the next \\< or \\> assigned to it. The next hairpin will then start at the right edge of the same note instead of the usual left edge had it been terminated with \\! before.\n\n    c1\\< | c4 a c\\< a | c4 a c\\! a\\< | c4 a c a\\!\n\nHairpins that are terminated with absolute dynamic marks instead of \\! will also be engraved in a similar way. However, the length of the absolute dynamic itself can alter where the preceding hairpin ends.\n\n    c1\\< | c4 a c\\mf a | c1\\< | c4 a c\\ffff a"},{label:"\\>",detail:"Dynamics",documentation:"A crescendo mark is started with \\< and terminated with \\!, an absolute dynamic, or an additional crescendo or decrescendo mark. A decrescendo mark is started with \\> and is also terminated with \\!, an absolute dynamic, or another crescendo or decrescendo mark. \\cr and \\decr may be used instead of \\< and \\>. Hairpins are engraved by default using this notation.\n\n    c2\\< c\\!\n    d2\\< d\\f\n    e2\\< e\\>\n    f2\\> f\\!\n    e2\\> e\\mp\n    d2\\> d\\>\n    c1\\!\n\nA hairpin that is terminated with \\! will end at the right edge of the note that has the \\! assigned to it. In the case where it is terminated with the start of another crescendo or decrescendo mark, it will end at the centre of the note that has the next \\< or \\> assigned to it. The next hairpin will then start at the right edge of the same note instead of the usual left edge had it been terminated with \\! before.\n\n    c1\\< | c4 a c\\< a | c4 a c\\! a\\< | c4 a c a\\!\n\nHairpins that are terminated with absolute dynamic marks instead of \\! will also be engraved in a similar way. However, the length of the absolute dynamic itself can alter where the preceding hairpin ends.\n\n    c1\\< | c4 a c\\mf a | c1\\< | c4 a c\\ffff a"},{label:"\\abs-fontsize",detail:"Selecting font and font size",documentation:"The font size can be altered, relative to the global staff size, in a number of different ways\n\nIt can be set to predefined size,\n\n    b1_\\markup { \\huge Sinfonia }\n    b1^\\markup { \\teeny da }\n    b1-\\markup { \\normalsize camera }\n\nIt can be set relative to its previous value,\n\n    b1_\\markup { \\larger Sinfonia }\n    b1^\\markup { \\smaller da }\n    b1-\\markup { \\magnify #0.6  camera }\n\nIt can be increased or decreased relative to the value set by the global staff size,\n\n    b1_\\markup { \\fontsize #-2 Sinfonia }\n    b1^\\markup { \\fontsize #1 da }\n    b1-\\markup { \\fontsize #3 camera }\n\nIt can also be set to a fixed point-size, regardless of the global staff size,\n\n    b1_\\markup { \\abs-fontsize #20 Sinfonia }\n    b1^\\markup { \\abs-fontsize #8 da }\n    b1-\\markup { \\abs-fontsize #14 camera }"},{label:"\\abs-fontsize",detail:"A.10.1 Font",documentation:"Use size as the absolute font size to display arg. Adjusts baseline-skip and word-space accordingly.\n\n    \\markup {\n      default text font size\n      \\hspace #2\n      \\abs-fontsize #16 { text font size 16 }\n      \\hspace #2\n      \\abs-fontsize #12 { text font size 12 }\n    }"},{label:"\\absolute",detail:"Absolute octave entry",documentation:"Music can be marked explicitly as being in absolute octave notation by preceding it with \\absolute:\n\n    \\absolute musicexpr\n\nwill be interpreted in absolute octave entry mode regardless of the context it appears in."},{label:"\\accent",detail:"Articulations and ornamentations",documentation:"A variety of symbols that denote articulations, ornamentations, and other performance indications can be attached to a note using this syntax:\n\n    note\\name\n\nThe possible values for name are listed in List of articulations. For example:\n\n    c4\\staccato c\\mordent b2\\turn\n    c1\\fermata"},{label:"\\accepts",detail:"5.1.6 Defining new contexts",documentation:'Specific contexts, like Staff and Voice, are made from simple building blocks. It is possible to create new types of contexts with different combinations of engraver plug-ins.\n\nThe next example shows how to build a different type of Voice context from scratch. It will be similar to Voice, but only prints centered slash note heads. It can be used to indicate improvisation in jazz pieces,\n\nThese settings are defined within a \\context block inside a \\layout block,\n\n    \\layout {\n      \\context {\n        \u2026\n      }\n    }\n\nIn the following discussion, the example input shown should go in place of the \u2026 in the previous fragment.\n\nFirst it is necessary to define a name for the new context:\n\n    \\name ImproVoice\n\nSince it is similar to the Voice context, we want commands that work in (existing) Voice contexts to continue working. This is achieved by giving the new context an alias of Voice,\n\n    \\alias Voice\n\nThe context will print notes and instructive texts, so we need to add the engravers which provide this functionality, plus the engraver which groups notes, stems and rests which occur at the same musical moment into columns,\n\n    \\consists "Note_heads_engraver"\n    \\consists "Text_engraver"\n    \\consists "Rhythmic_column_engraver"\n\nThe note heads should all be placed on the center line,\n\n    \\consists "Pitch_squash_engraver"\n    squashedPosition = #0\n\nThe Pitch_squash_engraver modifies note heads (created by the Note_heads_engraver) and sets their vertical position to the value of squashedPosition, in this case\xa00, the center line.\n\nThe notes look like a slash, and have no stem,\n\n    \\override NoteHead.style = #\'slash\n    \\hide Stem\n\nAll these plug-ins have to communicate under the control of the context. The mechanisms with which contexts communicate are established by declaring the context \\type. Within a \\layout block, most contexts will be of type Engraver_group. Some special contexts and contexts in \\midi blocks use other context types. Copying and modifying an existing context definition will also fill in the type. Since this example creates a definition from scratch, it needs to be specified explicitly.\n\n    \\type "Engraver_group"\n\nPut together, we get\n\n    \\context {\n      \\name ImproVoice\n      \\type "Engraver_group"\n      \\consists "Note_heads_engraver"\n      \\consists "Text_engraver"\n      \\consists "Rhythmic_column_engraver"\n      \\consists "Pitch_squash_engraver"\n      squashedPosition = #0\n      \\override NoteHead.style = #\'slash\n      \\hide Stem\n      \\alias Voice\n    }'},{label:"\\accepts",detail:"5.1.6 Defining new contexts",documentation:"Contexts form hierarchies. We want to place the ImproVoice context within the Staff context, just like normal Voice contexts. Therefore, we modify the Staff definition with the \\accepts command,\n\n    \\context {\n      \\Staff\n      \\accepts ImproVoice\n    }"},{label:"\\accepts",detail:"5.1.7 Context layout order",documentation:"Contexts are normally positioned in a system from top to bottom in the order in which they are encountered in the input file. When contexts are nested, the outer context will include inner nested contexts as specified in the input file, provided the inner contexts are included in the outer context\u2019s \u201caccepts\u201d list. Nested contexts which are not included in the outer context\u2019s \u201caccepts\u201d list will be repositioned below the outer context rather than nested within it.\n\nThe \u201caccepts\u201d list of a context can be changed with the \\accepts or \\denies commands. \\accepts adds a context to the \u201caccepts\u201d list and \\denies removes a context from the list.\n\nFor example, a square-braced staff group is not usually found within a curved-braced staff with connecting staff bars, and a GrandStaff does not accept a StaffGroup inside it by default.\n\n    \\score {\n      \\new GrandStaff <<\n        \\new StaffGroup <<\n          \\new Staff { c'1 }\n          \\new Staff { d'1 }\n        >>\n        \\new Staff { \\set Staff.instrumentName = bottom f'1 }\n      >>\n    }\n\nHowever, by using the \\accepts command, StaffGroup can be added to the GrandStaff context:\n\n    \\score {\n      \\new GrandStaff <<\n        \\new StaffGroup <<\n          \\new Staff { c'1 }\n          \\new Staff { d'1 }\n        >>\n        \\new Staff { \\set Staff.instrumentName = bottom f'1 }\n      >>\n      \\layout {\n        \\context {\n          \\GrandStaff\n          \\accepts \"StaffGroup\"\n        }\n      }\n    }\n\n\\denies is mainly used when a new context is being based on another, but the required nesting differs. For example, the VaticanaStaff context is based on the Staff context, but with the VaticanaVoice context substituted for the Voice context in the \u201caccepts\u201d list."},{label:"\\acciaccatura",detail:"Grace notes",documentation:"Grace notes are musical ornaments, printed in a smaller font, that take up no additional logical time in a measure.\n\n    c4 \\grace b16 a4(\n    \\grace { b16 c16 } a2)\n\nThere are three other types of grace notes possible; the acciaccatura \u2013 an unmeasured grace note indicated by a slurred note with a slashed stem \u2013 and the appoggiatura, which takes a fixed fraction of the main note it is attached to and prints without the slash. It is also possible to write a grace note with a slashed stem, like the acciaccatura but without the slur, so as to place it between notes that are slurred themselves, using the \\slashedGrace function.\n\n    \\acciaccatura d8 c4\n    \\appoggiatura e8 d4\n    \\acciaccatura { g16 f } e2\n    \\slashedGrace a,8 g4\n    \\slashedGrace b16 a4(\n    \\slashedGrace b8 a2)\n\nThe placement of grace notes is synchronized between different staves. In the following example, there are two sixteenth grace notes for every eighth grace note\n\n    <<\n      \\new Staff { e2 \\grace { c16 d e f } e2 }\n      \\new Staff { c2 \\grace { g8 b } c2 }\n    >>"},{label:"\\accidentalStyle",detail:"Automatic accidentals",documentation:"There are many different conventions on how to typeset accidentals. LilyPond provides a function to specify which accidental style to use. This function is called as follows:\n\n    \\new Staff <<\n      \\accidentalStyle voice\n      { \u2026 }\n    >>\n\nThe accidental style applies to the current Staff by default (with the exception of the styles piano and piano-cautionary, which are explained below). Optionally, the function can take a second argument that determines in which scope the style should be changed. For example, to use the same style in all staves of the current StaffGroup, use:\n\n    \\accidentalStyle StaffGroup.voice\n\nThe following accidental styles are supported. To demonstrate each style, we use the following example:\n\n    musicA = {\n      <<\n        \\relative c' {\n          cis'8 fis, bes4 <a cis>8 f bis4 |\n          cis2. <c, g'>4 |\n        }\n        \\\\\n        \\relative c' {\n          ais'2 cis, |\n          fis8 b a4 cis2 |\n        }\n      >>\n    }\n    musicB = {\n      \\clef bass\n      \\new Voice {\n        \\voiceTwo \\relative c' {\n          <fis, a cis>8[ <fis a cis>\n          \\change Staff = up\n          cis' cis\n          \\change Staff = down\n          <fis, a> <fis a>]\n          \\showStaffSwitch\n          \\change Staff = up\n          dis'4 |\n          \\change Staff = down\n          <fis, a cis>4 gis <f a d>2 |\n        }\n      }\n    }\n    \\new PianoStaff {\n      <<\n        \\context Staff = \"up\" {\n          \\accidentalStyle default\n          \\musicA\n        }\n        \\context Staff = \"down\" {\n          \\accidentalStyle default\n          \\musicB\n        }\n      >>\n    }\n\nNote that the last lines of this example can be replaced by the following, as long as the same accidental style should be used in both staves.\n\n    \\new PianoStaff {\n      <<\n        \\context Staff = \"up\" {\n          %%% change the next line as desired:\n          \\accidentalStyle Score.default\n          \\musicA\n        }\n        \\context Staff = \"down\" {\n          \\musicB\n        }\n      >>\n    }\n\ndefault\nThis is the default typesetting behavior. It corresponds to eighteenth-century common practice: accidentals are remembered to the end of the measure in which they occur and only in their own octave. Thus, in the example below, no natural signs are printed before the\xa0b in the second measure or the last\xa0c:\n\n \n\nvoice\nThe normal behavior is to remember the accidentals at Staff-level. In this style, however, accidentals are typeset individually for each voice. Apart from that, the rule is similar to default.\n\nAs a result, accidentals from one voice do not get canceled in other voices, which is often an unwanted result: in the following example, it is hard to determine whether the second\xa0a should be played natural or sharp. The voice option should therefore be used only if the voices are to be read solely by individual musicians. If the staff is to be used by one musician (e.g., a conductor or in a piano score) then modern or modern-cautionary should be used instead.\n\n \n\nmodern\nThis rule corresponds to the common practice in the twentieth century. It omits some extra natural signs, which were traditionally prefixed to a sharp following a double sharp, or a flat following a double flat. The modern rule prints the same accidentals as default, with two additions that serve to avoid ambiguity: after temporary accidentals, cancellation marks are printed also in the following measure (for notes in the same octave) and, in the same measure, for notes in other octaves. Hence the naturals before the\xa0b and the\xa0c in the second measure of the upper staff:\n\n \n\nmodern-cautionary\nThis rule is similar to modern, but the \u2018extra\u2019 accidentals (the ones not typeset by default) are typeset as cautionary accidentals. They are by default printed with parentheses, but they can also be printed in reduced size by defining the cautionary-style property of AccidentalSuggestion.\n\n \n\nmodern-voice\nThis rule is used for multivoice accidentals to be read both by musicians playing one voice and musicians playing all voices. Accidentals are typeset for each voice, but they are canceled across voices in the same Staff. Hence, the\xa0a in the last measure is canceled because the previous cancellation was in a different voice, and the\xa0d in the lower staff is canceled because of the accidental in a different voice in the previous measure:\n\n \n\nmodern-voice-cautionary\nThis rule is the same as modern-voice, but with the extra accidentals (the ones not typeset by voice) typeset as cautionaries. Even though all accidentals typeset by default are typeset with this rule, some of them are typeset as cautionaries.\n\n \n\npiano\nThis rule reflects twentieth-century practice for piano notation. Its behavior is very similar to modern style, but here accidentals also get canceled across the staves in the same GrandStaff or PianoStaff, hence all the cancellations of the final notes.\n\nThis accidental style applies to the current GrandStaff or PianoStaff by default.\n\n \n\npiano-cautionary\nThis is the same as piano but with the extra accidentals typeset as cautionaries.\n\n \n\nneo-modern\nThis rule reproduces a common practice in contemporary music: accidentals are printed like with modern, but they are printed again if the same note appears later in the same measure \u2013 except if the note is immediately repeated.\n\n \n\nneo-modern-cautionary\nThis rule is similar to neo-modern, but the extra accidentals are printed as cautionary accidentals.\n\n \n\nneo-modern-voice\nThis rule is used for multivoice accidentals to be read both by musicians playing one voice and musicians playing all voices. Accidentals are typeset for each voice as with neo-modern, but they are canceled across voices in the same Staff.\n\n \n\nneo-modern-voice-cautionary\nThis rule is similar to neo-modern-voice, but the extra accidentals are printed as cautionary accidentals.\n\n \n\ndodecaphonic\nThis rule reflects a practice introduced by composers at the beginning of the 20th century, in an attempt to abolish the hierarchy between natural and non-natural notes. With this style, every note gets an accidental sign, including natural signs.\n\n \n\nteaching\nThis rule is intended for students, and makes it easy to create scale sheets with automatically created cautionary accidentals. Accidentals are printed like with modern, but cautionary accidentals are added for all sharp or flat tones specified by the key signature, except if the note is immediately repeated.\n\n \n\nno-reset\nThis is the same as default but with accidentals lasting \u2018forever\u2019 and not only within the same measure:\n\n \n\nforget\nThis is the opposite of no-reset: Accidentals are not remembered at all \u2013 and hence all accidentals are typeset relative to the key signature, regardless of what came before in the music.\n\n \n\n"},{label:"\\addChordShape",detail:"Predefined fret diagrams",documentation:"In addition to fret diagrams, LilyPond stores an internal list of chord shapes. The chord shapes are fret diagrams that can be shifted along the neck to different positions to provide different chords. Chord shapes can be added to the internal list and then used to define predefined fret diagrams. Because they can be moved to various positions on the neck, chord shapes will normally not contain any open strings. Like fret diagrams, chord shapes can be entered as either fret-diagram-terse strings or fret-diagram-verbose marking lists.\n\n    \\include \"predefined-guitar-fretboards.ly\"\n    % Add a new chord shape\n    \\addChordShape #'powerf #guitar-tuning #\"1-1;3-3;3-4;x;x;x;\"\n    % add some new chords based on the power chord shape\n    \\storePredefinedDiagram #default-fret-table\n                            \\chordmode { f'' }\n                            #guitar-tuning\n                            #(chord-shape 'powerf guitar-tuning)\n    \\storePredefinedDiagram #default-fret-table\n                            \\chordmode { g'' }\n                            #guitar-tuning\n                            #(offset-fret 2 (chord-shape 'powerf guitar-tuning))\n    mychords = \\chordmode{\n      f1 f'' g g''\n    }\n    <<\n      \\new ChordNames {\n        \\mychords\n      }\n      \\new FretBoards {\n        \\mychords\n      }\n    >>\n\nThe graphical layout of a fret diagram can be customized according to user preference through the properties of the fret-diagram-interface. Details are found at fret-diagram-interface. For a predefined fret diagram, the interface properties belong to FretBoards.FretBoard."},{label:"\\addInstrumentDefinition",detail:"Instrument names",documentation:'If an instrument switch is needed, \\addInstrumentDefinition may be used in combination with \\instrumentSwitch to create a detailed list of the necessary changes for the switch. The \\addInstrumentDefinition command has two arguments: an identifying string, and an association list of context properties and values to be used for the instrument. It must be placed in the toplevel scope. \\instrumentSwitch is used in the music expression to declare the instrument switch:\n\n    \\addInstrumentDefinition #"contrabassoon"\n      #`((instrumentTransposition . ,(ly:make-pitch -1 0 0))\n         (shortInstrumentName . "Cbsn.")\n         (clefGlyph . "clefs.F")\n         (middleCPosition . 6)\n         (clefPosition . 2)\n         (instrumentCueName . ,(make-bold-markup "cbsn."))\n         (midiInstrument . "bassoon"))\n    \\new Staff \\with {\n      instrumentName = #"Bassoon"\n    }\n    \\relative c\' {\n      \\clef tenor\n      \\compressFullBarRests\n      c2 g\'\n      R1*16\n      \\instrumentSwitch "contrabassoon"\n      c,,2 g \\break\n      c,1 ~ | c1\n    }'},{label:"\\addInstrumentDefinition",detail:"Formatting cue notes",documentation:'The \\killCues command removes cue notes from a music expression, so the same music expression can be used to produce the instrument part with cues and the score. The \\killCues command removes only the notes and events that were quoted by \\cueDuring. Other markup associated with cues, such as clef changes and a label identifying the source instrument, can be tagged for selective inclusion in the score; see Using tags.\n\n    fluteNotes = \\relative c\'\' {\n      r2. c4 d8 c d e fis2 g2 d2\n    }\n    bassoonNotes = \\relative c {\n      \\clef bass\n      R1\n      \\tag #\'part {\n        \\clef treble\n        \\new CueVoice { \\set instrumentCueName = "flute" }\n      }\n      \\cueDuring #"flute" #UP { R1 }\n      \\tag #\'part \\clef bass\n      g4. b8 d2\n    }\n    \\addQuote "flute" { \\fluteNotes }\n    \\new Staff {\n      \\bassoonNotes\n    }\n    \\new StaffGroup <<\n      \\new Staff {\n        \\fluteNotes\n      }\n      \\new Staff {\n        \\removeWithTag #\'part { \\killCues { \\bassoonNotes } }\n      }\n    >>\n\nAlternatively, Clef changes and instrument labels can be collected into an instrument definition for repeated use, using \\addInstrumentDefinition described in Instrument names.'},{label:"\\addlyrics",detail:"Aligning lyrics to a melody",documentation:'Lyrics are printed by interpreting them in the context called Lyrics, see Contexts explained.\n\n    \\new Lyrics \\lyricmode { \u2026 }\n\nLyrics can be aligned with melodies in two main ways:\n\n - Lyrics can be aligned automatically, with the durations of the syllables being taken from another voice of music or (in special circumstances) an associated melody, using \\addlyrics, \\lyricsto, or by setting the associatedVoice property. For more details, see Automatic syllable durations.\n<<\n  \\new Staff <<\n    \\time 2/4\n    \\new Voice = "one" \\relative c\'\' {\n      \\voiceOne\n      c4 b8. a16 g4. r8 a4 ( b ) c2\n    }\n    \\new Voice = "two" \\relative c\' {\n      \\voiceTwo\n       s2 s4. f8 e4 d c2\n    }\n  >>\n\n% takes durations and alignment from notes in "one"\n  \\new Lyrics \\lyricsto "one" {\n    Life is __ _ love, live __ life.\n  }\n\n% takes durations and alignment from notes in "one" initially\n% then switches to "two"\n  \\new Lyrics \\lyricsto "one" {\n    No more let\n    \\set associatedVoice = "two"  % must be set one syllable early\n    sins and sor -- rows grow.\n  }\n>>\n \n\nThe first stanza shows the normal way of entering lyrics.\n\nThe second stanza shows how the voice from which the lyric durations are taken can be changed. This is useful if the words to different stanzas fit the notes in different ways and all the durations are available in Voice contexts. For more details, see Stanzas.\n\n\n - Lyrics can be aligned independently of the duration of any notes if the durations of the syllables are specified explicitly, and entered with \\lyricmode.\n<<\n  \\new Voice = "one" \\relative c\'\' {\n    \\time 2/4\n    c4 b8. a16 g4. f8 e4 d c2\n  }\n\n% uses previous explicit duration of 2;\n  \\new Lyrics \\lyricmode {\n    Joy to the earth!\n  }\n\n% explicit durations, set to a different rhythm\n  \\new Lyrics \\lyricmode {\n    Life4 is love,2. live4 life.2\n  }\n>>\n \n\nThe first stanza is not aligned with the notes because the durations were not specified, and the previous value of 2 is used for each word.\n\nThe second stanza shows how the words can be aligned quite independently from the notes. This is useful if the words to different stanzas fit the notes in different ways and the required durations are not available in a music context. For more details see Manual syllable durations. This technique is also useful when setting dialogue over music; for examples showing this, see Dialogue over music.\n\nWhen entered in this way the words are left-aligned to the notes by default, but may be center-aligned to the notes of a melody by specifying an associated voice, if one exists. For details, see Manual syllable durations.\n\n'},{label:"\\addlyrics",detail:"Automatic syllable durations",documentation:"Lyrics can be automatically aligned to the notes of a melody in three ways:\n\n - by specifying the named Voice context containing the melody with \\lyricsto,\n - by introducing the lyrics with \\addlyrics and placing them immediately after the Voice context containing the melody,\n - by setting the associatedVoice property, the alignment of the lyrics may be switched to a different named Voice context at any musical moment.\n\nIn all three methods hyphens can be drawn between the syllables of a word and extender lines can be drawn beyond the end of a word. For details, see Extenders and hyphens.\n\nThe Voice context containing the melody to which the lyrics are being aligned must not have \u201cdied\u201d, or the lyrics after that point will be lost. This can happen if there are periods when that voice has nothing to do. For methods of keeping contexts alive, see Keeping contexts alive."},{label:"\\addlyrics",detail:"Using \\addlyrics",documentation:'The \\addlyrics command is just a convenient shortcut that can sometimes be used instead of having to set up the lyrics through a more complicated LilyPond structure.\n\n    { MUSIC }\n    \\addlyrics { LYRICS }\n\nis the same as\n\n    \\new Voice = "blah" { MUSIC }\n    \\new Lyrics \\lyricsto "blah" { LYRICS }\n\nHere is an example,\n\n    {\n      \\time 3/4\n      \\relative c\' { c2 e4 g2. }\n      \\addlyrics { play the game }\n    }\n\nMore stanzas can be added by adding more \\addlyrics sections:\n\n    {\n      \\time 3/4\n      \\relative c\' { c2 e4 g2. }\n      \\addlyrics { play the game }\n      \\addlyrics { speel het spel }\n      \\addlyrics { joue le jeu }\n    }\n\nThe command \\addlyrics cannot handle polyphonic settings. Also, it cannot be used to associate lyrics to a TabVoice. For these cases one should use \\lyricsto.'},{label:"\\addQuote",detail:"Quoting other voices",documentation:'It is very common for one voice to use the same notes as those from another voice. For example, first and second violins playing the same phrase during a particular passage of the music. This is done by letting one voice quote the other, without having to re-enter the music all over again for the second voice.\n\nThe \\addQuote command, used in the top level scope, defines a stream of music from which fragments can be quoted.\n\nThe \\quoteDuring command is used to indicate the point where the quotation begins. It is followed by two arguments: the name of the quoted voice, as defined with \\addQuote, and a music expression for the duration of the quote.\n\n    fluteNotes = \\relative c\'\' {\n      a4 gis g gis | b4^"quoted" r8 ais\\p a4( f)\n    }\n    oboeNotes = \\relative c\'\' {\n      c4 cis c b \\quoteDuring #"flute" { s1 }\n    }\n    \\addQuote "flute" { \\fluteNotes }\n    \\score {\n      <<\n        \\new Staff \\with { instrumentName = "Flute" } \\fluteNotes\n        \\new Staff \\with { instrumentName = "Oboe" } \\oboeNotes\n      >>\n    }\n\nIf the music expression used in \\quoteDuring contains notes instead of spacer or multimeasure rests then the quote will appear as polyphony and may produce unexpected results.\n\n    fluteNotes = \\relative c\'\' {\n      a4 gis g gis | b4^"quoted" r8 ais\\p a4( f)\n    }\n    oboeNotes = \\relative c\'\' {\n      c4 cis c b \\quoteDuring #"flute" { e4 r8 ais b4 a }\n    }\n    \\addQuote "flute" { \\fluteNotes }\n    \\score {\n      <<\n        \\new Staff \\with { instrumentName = "Flute" } \\fluteNotes\n        \\new Staff \\with { instrumentName = "Oboe" } \\oboeNotes\n      >>\n    }\n\nThe \\quoteDuring command uses the \\transposition settings of both quoted and quoting parts to produce notes for the quoting part that have the same sounding pitch as those in the quoted part.\n\n    clarinetNotes = \\relative c\'\' {\n      \\transposition bes\n      \\key d \\major\n      b4 ais a ais | cis4^"quoted" r8 bis\\p b4( f)\n    }\n    oboeNotes = \\relative c\'\' {\n      c4 cis c b \\quoteDuring #"clarinet" { s1 }\n    }\n    \\addQuote "clarinet" { \\clarinetNotes }\n    \\score {\n      <<\n        \\new Staff \\with { instrumentName = "Clarinet" } \\clarinetNotes\n        \\new Staff \\with { instrumentName = "Oboe" } \\oboeNotes\n      >>\n    }'},{label:"\\aeolian",detail:"Key signature",documentation:'Here, mode should be \\major or \\minor to get a key signature of pitch-major or pitch-minor, respectively. You may also use the standard mode names, also called church modes: \\ionian, \\dorian, \\phrygian, \\lydian, \\mixolydian, \\aeolian, and \\locrian.\n\n    \\key g \\major\n    fis1\n    f\n    fis\n\nAdditional modes can be defined, by listing the alterations for each scale step when the mode starts on C.\n\n    freygish = #`((0 . ,NATURAL) (1 . ,FLAT) (2 . ,NATURAL)\n        (3 . ,NATURAL) (4 . ,NATURAL) (5 . ,FLAT) (6 . ,FLAT))\n    \\relative c\' {\n      \\key c \\freygish c4 des e f\n      \\bar "||" \\key d \\freygish d es fis g\n    }\n\nAccidentals in the key signature may be printed in octaves other than their traditional positions, or in multiple octaves, by using the flat-positions and sharp-positions properties of KeySignature. Entries in these properties specify the range of staff-positions where accidentals will be printed. If a single position is specified in an entry, the accidentals are placed within the octave ending at that staff position.\n\n    \\override Staff.KeySignature.flat-positions = #\'((-5 . 5))\n    \\override Staff.KeyCancellation.flat-positions = #\'((-5 . 5))\n    \\clef bass \\key es \\major es g bes d\n    \\clef treble \\bar "||" \\key es \\major es g bes d\n    \\override Staff.KeySignature.sharp-positions = #\'(2)\n    \\bar "||" \\key b \\major b fis b2'},{label:"\\afterGrace",detail:"Grace notes",documentation:"If you want to end a note with a grace, use the \\afterGrace command. It takes two arguments: the main note, and the grace notes following the main note.\n\n    c1 \\afterGrace d1 { c16[ d] } c1\n\nThis will put the grace notes after a space lasting 3/4 of the length of the main note. The default fraction 3/4 can be changed by setting afterGraceFraction. The following example shows the results from setting the space at the default, at 15/16, and finally at 1/2 of the main note.\n\n    <<\n      \\new Staff {\n        c1 \\afterGrace d1 { c16[ d] } c1\n      }\n      \\new Staff {\n        #(define afterGraceFraction (cons 15 16))\n        c1 \\afterGrace d1 { c16[ d] } c1\n      }\n      \\new Staff {\n        #(define afterGraceFraction (cons 1 2))\n        c1 \\afterGrace d1 { c16[ d] } c1\n      }\n    >>\n\nThe space between the main note and the grace note may also be specified using spacers. The following example places the grace note after a space lasting 7/8 of the main note.\n\n    \\new Voice {\n      <<\n        { d1^\\trill_( }\n        { s2 s4. \\grace { c16 d } }\n      >>\n      c1)\n    }"},{label:"\\aikenHeads",detail:"Shape note heads",documentation:"In shape note head notation, the shape of the note head corresponds to the harmonic function of a note in the scale. This notation was popular in nineteenth-century American song books. Shape note heads can be produced in Sacred Harp, Southern Harmony, Funk (Harmonica Sacra), Walker, and Aiken (Christian Harmony) styles:\n\n    \\aikenHeads\n    c, d e f g2 a b1 c \\break\n    \\sacredHarpHeads\n    c,4 d e f g2 a b1 c \\break\n    \\southernHarmonyHeads\n    c,4 d e f g2 a b1 c \\break\n    \\funkHeads\n    c,4 d e f g2 a b1 c \\break\n    \\walkerHeads\n    c,4 d e f g2 a b1 c \\break"},{label:"\\aikenHeadsMinor",detail:"Shape note heads",documentation:"Shapes are typeset according to the step in the scale, where the base of the scale is determined by the \\key command. When writing in a minor key, the scale step can be determined from the relative major:\n\n    \\key a \\minor\n    \\aikenHeads\n    a b c d e2 f g1 a \\break\n    \\aikenHeadsMinor\n    a,4 b c d e2 f g1 a \\break\n    \\sacredHarpHeadsMinor\n    a,2 b c d \\break\n    \\southernHarmonyHeadsMinor\n    a2 b c d \\break\n    \\funkHeadsMinor\n    a2 b c d \\break\n    \\walkerHeadsMinor\n    a2 b c d \\break"},{label:"\\alias",detail:"5.1.6 Defining new contexts",documentation:'Specific contexts, like Staff and Voice, are made from simple building blocks. It is possible to create new types of contexts with different combinations of engraver plug-ins.\n\nThe next example shows how to build a different type of Voice context from scratch. It will be similar to Voice, but only prints centered slash note heads. It can be used to indicate improvisation in jazz pieces,\n\nThese settings are defined within a \\context block inside a \\layout block,\n\n    \\layout {\n      \\context {\n        \u2026\n      }\n    }\n\nIn the following discussion, the example input shown should go in place of the \u2026 in the previous fragment.\n\nFirst it is necessary to define a name for the new context:\n\n    \\name ImproVoice\n\nSince it is similar to the Voice context, we want commands that work in (existing) Voice contexts to continue working. This is achieved by giving the new context an alias of Voice,\n\n    \\alias Voice\n\nThe context will print notes and instructive texts, so we need to add the engravers which provide this functionality, plus the engraver which groups notes, stems and rests which occur at the same musical moment into columns,\n\n    \\consists "Note_heads_engraver"\n    \\consists "Text_engraver"\n    \\consists "Rhythmic_column_engraver"\n\nThe note heads should all be placed on the center line,\n\n    \\consists "Pitch_squash_engraver"\n    squashedPosition = #0\n\nThe Pitch_squash_engraver modifies note heads (created by the Note_heads_engraver) and sets their vertical position to the value of squashedPosition, in this case\xa00, the center line.\n\nThe notes look like a slash, and have no stem,\n\n    \\override NoteHead.style = #\'slash\n    \\hide Stem\n\nAll these plug-ins have to communicate under the control of the context. The mechanisms with which contexts communicate are established by declaring the context \\type. Within a \\layout block, most contexts will be of type Engraver_group. Some special contexts and contexts in \\midi blocks use other context types. Copying and modifying an existing context definition will also fill in the type. Since this example creates a definition from scratch, it needs to be specified explicitly.\n\n    \\type "Engraver_group"\n\nPut together, we get\n\n    \\context {\n      \\name ImproVoice\n      \\type "Engraver_group"\n      \\consists "Note_heads_engraver"\n      \\consists "Text_engraver"\n      \\consists "Rhythmic_column_engraver"\n      \\consists "Pitch_squash_engraver"\n      squashedPosition = #0\n      \\override NoteHead.style = #\'slash\n      \\hide Stem\n      \\alias Voice\n    }'},{label:"\\allowPageTurn",detail:"Predefined commands",documentation:""},{label:"\\alterBroken",detail:"Using \\alterBroken",documentation:"When a spanner crosses a line break or breaks, each piece inherits the attributes of the original spanner. Thus, ordinary tweaking of a broken spanner applies the same modifications to each of its segments. In the example below, overriding thickness affects the slur on either side of the line break.\n\n    r2\n    \\once\\override Slur.thickness = 10\n    c8( d e f\n    \\break\n    g8 f e d) r2\n\nIndependently modifying the appearance of individual pieces of a broken spanner is possible with the \\alterBroken command. This command can produce either an \\override or a \\tweak of a spanner property.\n\nThe syntax for \\alterBroken is\n\n    [-]\\alterBroken property values item\n\nThe argument values is a list of values, one for each broken piece. If item is a grob name like Slur or Staff.PianoPedalBracket, the result is an \\override of the specified grob type. If item is a music expression such as \u201c(\u201d or \u201c[\u201d the result is the same music expression with an appropriate tweak applied.\n\nThe leading hyphen must be used with the \\tweak form. Do not add it when \\alterBroken is used as an \\override.\n\nIn its \\override usage, \\alterBroken may be prefaced by \\once or \\temporary and reverted by using \\revert with property.\n\nThe following code applies an independent \\override to each of the slur segments in the previous example:\n\n    r2\n    \\alterBroken thickness #'(10 1) Slur\n    c8( d e f\n    \\break\n    g8 f e d) r2\n\nThe \\alterBroken command may be used with any spanner object, including Tie, PhrasingSlur, Beam and TextSpanner. For example, an editor preparing a scholarly edition may wish to indicate the absence of part of a phrasing slur in a source by dashing only the segment which has been added. The following example illustrates how this can be done, in this case using the \\tweak form of the command:\n\n    % The empty list is conveniently used below, because it is the\n    % default setting of dash-definition, resulting in a solid curve.\n    c2-\\alterBroken dash-definition #'(() ((0 1.0 0.4 0.75))) \\(e\n    \\break\n    g2 e\\)\n\nIt is important to understand that \\alterBroken will set each piece of a broken spanner to the corresponding value in values. When there are fewer values than pieces, any additional piece will be assigned the empty list. This may lead to undesired results if the layout property is not set to the empty list by default. In such cases, each segment should be assigned an appropriate value."},{label:"\\alternative",detail:"1.4.1 Long repeats",documentation:"The syntax for a normal repeat is\n\n    \\repeat volta repeatcount musicexpr\n\nwhere musicexpr is a music expression.\n\nA single repeat without an alternate ending:\n\n    \\repeat volta 2 { c4 d e f }\n    c2 d\n    \\repeat volta 2 { d4 e f g }\n\nAlternative endings can be produced using \\alternative. Each group of alternatives must be themselves, enclosed in a set of braces.\n\n    \\repeat volta repeatcount musicexpr\n    \\alternative {\n      { musicexpr }\n    }\n\nwhere musicexpr is a music expression.\n\nIf there are more repeats than there are alternate endings, the earliest repeats are given the first alternative.\n\nA single repeat with one alternate ending:\n\n    \\repeat volta 2 { c4 d e f | }\n    \\alternative {\n      { c2 e | }\n      { f2 g | }\n    }\n    c1\n\nMultiple repeats with one alternate ending:\n\n    \\repeat volta 4 { c4 d e f | }\n    \\alternative {\n      { c2 e | }\n      { f2 g | }\n    }\n    c1\n\nMultiple repeats with more than one alternate ending:\n\n    \\repeat volta 3 { c4 d e f | }\n    \\alternative {\n      { c2 e | }\n      { f2 g | }\n      { a2 g | }\n    }\n    c1\n\nNote: If there are two or more alternatives, nothing should appear between the closing brace of one and the opening brace of the next in an \\alternative block, otherwise you will not get the expected number of endings.\n\n\n\nNote: If you include \\relative inside a \\repeat without explicitly instantiating the Voice context, extra (unwanted) staves will appear. See An extra staff appears.\n\n"},{label:"\\appendToTag",detail:"Using tags",documentation:"The \\tag #'partA command marks a music expression with the name partA. Expressions tagged in this way can be selected or filtered out by name later, using either \\keepWithTag #'name or \\removeWithTag #'name. The result of applying these filters to tagged music is as follows:\n\nFilter\tResult\nTagged music preceded by \\keepWithTag #'name or \\keepWithTag #'(name1 name2\u2026)\tUntagged music and music tagged with any of the given tag names is included; music tagged with any other tag name is excluded.\nTagged music preceded by \\removeWithTag #'name or \\removeWithTag #'(name1 name2\u2026)\tUntagged music and music not tagged with any of the given tag names is included; music tagged with any of the given tag names is excluded.\nTagged music not preceded by either \\keepWithTag or \\removeWithTag\tAll tagged and untagged music is included.\n\n\nThe arguments of the \\tag, \\keepWithTag and \\removeWithTag commands should be a symbol (such as #'score or #'part), followed by a music expression.\n\nIn the following example, we see two versions of a piece of music, one showing trills with the usual notation, and one with trills explicitly expanded:\n\n    music = \\relative g' {\n      g8. c32 d\n      \\tag #'trills { d8.\\trill }\n      \\tag #'expand { \\repeat unfold 3 { e32 d } }\n      c32 d\n     }\n    \\score {\n      \\keepWithTag #'trills \\music\n    }\n    \\score {\n      \\keepWithTag #'expand \\music\n    }\n\nAlternatively, it is sometimes easier to exclude sections of music:\n\n    music = \\relative g' {\n      g8. c32 d\n      \\tag #'trills { d8.\\trill }\n      \\tag #'expand {\\repeat unfold 3 { e32 d } }\n      c32 d\n     }\n    \\score {\n      \\removeWithTag #'expand\n      \\music\n    }\n    \\score {\n      \\removeWithTag #'trills\n      \\music\n    }\n\nTagged filtering can be applied to articulations, texts, etc. by prepending\n\n    -\\tag #'your-tag\n\nto an articulation. For example, this would define a note with a conditional fingering indication and a note with a conditional annotation:\n\n    c1-\\tag #'finger ^4\n    c1-\\tag #'warn ^\"Watch!\"\n\nMultiple tags may be placed on expressions with multiple \\tag entries, or by combining multiple tags into one symbol list:\n\n    music = \\relative c'' {\n      \\tag #'a \\tag #'both { a4 a a a }\n      \\tag #'(b both) { b4 b b b }\n    }\n    <<\n    \\keepWithTag #'a \\music\n    \\keepWithTag #'b \\music\n    \\keepWithTag #'both \\music\n    >>\n\nMultiple \\removeWithTag filters may be applied to a single music expression to remove several differently named tagged sections. Alternatively, you can use a single \\removeWithTag with a list of tags.\n\n    music = \\relative c'' {\n      \\tag #'A { a4 a a a }\n      \\tag #'B { b4 b b b }\n      \\tag #'C { c4 c c c }\n      \\tag #'D { d4 d d d }\n    }\n    \\new Voice {\n      \\removeWithTag #'B\n      \\removeWithTag #'C\n      \\music\n      \\removeWithTag #'(B C)\n      \\music\n    }\n\nTwo or more \\keepWithTag filters applied to a single music expression will cause all tagged sections to be removed, as the first filter will remove all tagged sections except the one named, and the second filter will remove even that tagged section. Usually you would rather want to use a single \\keepWithTag command with a list of multiple tags: this will only remove tagged sections not given in any of the tags.\n\nSometimes you want to splice some music at a particular place in an existing music expression. You can use \\pushToTag and \\appendToTag for adding material at the front or end of the elements of an existing music construct. Not every music construct has elements, but sequential and simultaneous music are safe bets:\n\n    test = { \\tag #'here { \\tag #'here <<c''>> } }\n    {\n      \\pushToTag #'here c'\n      \\pushToTag #'here e'\n      \\pushToTag #'here g' \\test\n      \\appendToTag #'here c'\n      \\appendToTag #'here e'\n      \\appendToTag #'here g' \\test\n    }\n\nBoth commands get a tag, the material to splice in at every occurence of the tag, and the tagged expression. The commands make sure to copy everything that they change so that the original \\test retains its meaning."},{label:"\\appoggiatura",detail:"Grace notes",documentation:"Grace notes are musical ornaments, printed in a smaller font, that take up no additional logical time in a measure.\n\n    c4 \\grace b16 a4(\n    \\grace { b16 c16 } a2)\n\nThere are three other types of grace notes possible; the acciaccatura \u2013 an unmeasured grace note indicated by a slurred note with a slashed stem \u2013 and the appoggiatura, which takes a fixed fraction of the main note it is attached to and prints without the slash. It is also possible to write a grace note with a slashed stem, like the acciaccatura but without the slur, so as to place it between notes that are slurred themselves, using the \\slashedGrace function.\n\n    \\acciaccatura d8 c4\n    \\appoggiatura e8 d4\n    \\acciaccatura { g16 f } e2\n    \\slashedGrace a,8 g4\n    \\slashedGrace b16 a4(\n    \\slashedGrace b8 a2)\n\nThe placement of grace notes is synchronized between different staves. In the following example, there are two sixteenth grace notes for every eighth grace note\n\n    <<\n      \\new Staff { e2 \\grace { c16 d e f } e2 }\n      \\new Staff { c2 \\grace { g8 b } c2 }\n    >>"},{label:"\\arpeggio",detail:"Arpeggio",documentation:"An arpeggio on a chord (also known as a broken chord) is denoted by appending \\arpeggio to the chord construct:\n\n    <c e g c>1\\arpeggio\n\nDifferent types of arpeggios may be written. \\arpeggioNormal reverts to a normal arpeggio:\n\n    <c e g c>2\\arpeggio\n    \\arpeggioArrowUp\n    <c e g c>2\\arpeggio\n    \\arpeggioArrowDown\n    <c e g c>2\\arpeggio\n    \\arpeggioNormal\n    <c e g c>2\\arpeggio"},{label:"\\arpeggioArrowDown",detail:"Arpeggio",documentation:"An arpeggio on a chord (also known as a broken chord) is denoted by appending \\arpeggio to the chord construct:\n\n    <c e g c>1\\arpeggio\n\nDifferent types of arpeggios may be written. \\arpeggioNormal reverts to a normal arpeggio:\n\n    <c e g c>2\\arpeggio\n    \\arpeggioArrowUp\n    <c e g c>2\\arpeggio\n    \\arpeggioArrowDown\n    <c e g c>2\\arpeggio\n    \\arpeggioNormal\n    <c e g c>2\\arpeggio"},{label:"\\arpeggioArrowUp",detail:"Arpeggio",documentation:"An arpeggio on a chord (also known as a broken chord) is denoted by appending \\arpeggio to the chord construct:\n\n    <c e g c>1\\arpeggio\n\nDifferent types of arpeggios may be written. \\arpeggioNormal reverts to a normal arpeggio:\n\n    <c e g c>2\\arpeggio\n    \\arpeggioArrowUp\n    <c e g c>2\\arpeggio\n    \\arpeggioArrowDown\n    <c e g c>2\\arpeggio\n    \\arpeggioNormal\n    <c e g c>2\\arpeggio"},{label:"\\arpeggioBracket",detail:"Arpeggio",documentation:"Special bracketed arpeggio symbols can be created:\n\n    <c e g c>2\n    \\arpeggioBracket\n    <c e g c>2\\arpeggio\n    \\arpeggioParenthesis\n    <c e g c>2\\arpeggio\n    \\arpeggioParenthesisDashed\n    <c e g c>2\\arpeggio\n    \\arpeggioNormal\n    <c e g c>2\\arpeggio\n\nThe dash properties of the parenthesis arpeggio are controlled with the 'dash-details property, which is described at Slurs.\n\nArpeggios can be explicitly written out with ties. For more information, see Ties."},{label:"\\arpeggioNormal",detail:"Arpeggio",documentation:"An arpeggio on a chord (also known as a broken chord) is denoted by appending \\arpeggio to the chord construct:\n\n    <c e g c>1\\arpeggio\n\nDifferent types of arpeggios may be written. \\arpeggioNormal reverts to a normal arpeggio:\n\n    <c e g c>2\\arpeggio\n    \\arpeggioArrowUp\n    <c e g c>2\\arpeggio\n    \\arpeggioArrowDown\n    <c e g c>2\\arpeggio\n    \\arpeggioNormal\n    <c e g c>2\\arpeggio"},{label:"\\arpeggioParenthesis",detail:"Arpeggio",documentation:"Special bracketed arpeggio symbols can be created:\n\n    <c e g c>2\n    \\arpeggioBracket\n    <c e g c>2\\arpeggio\n    \\arpeggioParenthesis\n    <c e g c>2\\arpeggio\n    \\arpeggioParenthesisDashed\n    <c e g c>2\\arpeggio\n    \\arpeggioNormal\n    <c e g c>2\\arpeggio\n\nThe dash properties of the parenthesis arpeggio are controlled with the 'dash-details property, which is described at Slurs.\n\nArpeggios can be explicitly written out with ties. For more information, see Ties."},{label:"\\arpeggioParenthesisDashed",detail:"Arpeggio",documentation:"Special bracketed arpeggio symbols can be created:\n\n    <c e g c>2\n    \\arpeggioBracket\n    <c e g c>2\\arpeggio\n    \\arpeggioParenthesis\n    <c e g c>2\\arpeggio\n    \\arpeggioParenthesisDashed\n    <c e g c>2\\arpeggio\n    \\arpeggioNormal\n    <c e g c>2\\arpeggio\n\nThe dash properties of the parenthesis arpeggio are controlled with the 'dash-details property, which is described at Slurs.\n\nArpeggios can be explicitly written out with ties. For more information, see Ties."},{label:"\\arrow-head",detail:"Graphic notation inside markup",documentation:"Other graphic elements or symbols may be printed without requiring any text. As with any markup expression, such objects can be combined.\n\n    \\markup {\n      \\combine\n        \\draw-circle #4 #0.4 ##f\n        \\filled-box #'(-4 . 4) #'(-0.5 . 0.5) #1\n      \\hspace #5\n      \\center-column {\n        \\triangle ##t\n        \\combine\n          \\draw-line #'(0 . 4)\n          \\arrow-head #Y #DOWN ##f\n      }\n    }"},{label:"\\arrow-head",detail:"A.10.3 Graphic",documentation:"Produce an arrow head in specified direction and axis. Use the filled head if filled is specified.\n\n    \\markup {\n      \\fontsize #5 {\n        \\general-align #Y #DOWN {\n          \\arrow-head #Y #UP ##t\n          \\arrow-head #Y #DOWN ##f\n          \\hspace #2\n          \\arrow-head #X #RIGHT ##f\n          \\arrow-head #X #LEFT ##f\n        }\n      }\n    }"},{label:"\\ascendens",detail:"Gregorian square neume ligatures",documentation:""},{label:"\\ascendens",detail:"Predefined commands",documentation:""},{label:"\\auctum",detail:"Gregorian square neume ligatures",documentation:""},{label:"\\auctum",detail:"Predefined commands",documentation:""},{label:"\\augmentum",detail:"Predefined commands",documentation:"Use the unary music function \\augmentum to add augmentum dots."},{label:"\\auto-footnote",detail:"A.10.7 Other",documentation:"Have footnote note act as an annotation to the markup mkup.\n\n    \\markup {\n      \\auto-footnote a b\n      \\override #'(padding . 0.2)\n      \\auto-footnote c d\n    }\n\nThe footnote will be annotated automatically.\n\nUsed properties:\n\n - padding (0.0)\n - raise (0.5)"},{label:"\\autoBeamOff",detail:"Automatic beams",documentation:"If these automatic decisions are not satisfactory, beaming can be entered explicitly; see Manual beams. Beams must be entered manually if beams are to be extended over rests.\n\nIf automatic beaming is not required, it may be turned off with \\autoBeamOff and on with \\autoBeamOn:\n\n    c4 c8 c8. c16 c8. c16 c8\n    \\autoBeamOff\n    c4 c8 c8. c16 c8.\n    \\autoBeamOn\n    c16 c8"},{label:"\\autoBeamOff",detail:"Cross-staff stems",documentation:"Chords that cross staves may be produced using the Span_stem_engraver. Care must be taken to ensure that automatic beams do not beam the notes on one staff when it\u2019s not required on the other.\n\n    \\layout {\n      \\context {\n        \\PianoStaff\n        \\consists #Span_stem_engraver\n      }\n    }\n    {\n      \\new PianoStaff <<\n        \\new Staff {\n          <b d'>4 r d'16\\> e'8. g8 r\\!\n          e'8 f' g'4 e'2\n        }\n        \\new Staff {\n          \\clef bass\n          \\voiceOne\n          \\autoBeamOff\n          \\crossStaff { <e g>4 e, g16 a8. c8} d\n          \\autoBeamOn\n          g8 f g4 c2\n        }\n      >>\n    }\n\nFor the time being, this engraver can not be specified by its name in double quotes, but rather prefixing its name with a hash symbol #, due to the way it is implemented."},{label:"\\autoBeamOn",detail:"Automatic beams",documentation:"If these automatic decisions are not satisfactory, beaming can be entered explicitly; see Manual beams. Beams must be entered manually if beams are to be extended over rests.\n\nIf automatic beaming is not required, it may be turned off with \\autoBeamOff and on with \\autoBeamOn:\n\n    c4 c8 c8. c16 c8. c16 c8\n    \\autoBeamOff\n    c4 c8 c8. c16 c8.\n    \\autoBeamOn\n    c16 c8"},{label:"\\autochange",detail:"Changing staff automatically",documentation:'Voices can be made to switch automatically between the top and the bottom staff. The syntax for this is\n\n    \\autochange \u2026music\u2026\n\nThis will create two staves inside the current staff group (usually a PianoStaff), called "up" and "down". The lower staff will be in the bass clef by default. The autochanger switches on the basis of the pitch (middle\xa0C is the turning point), and it looks ahead skipping over rests to switch in advance.\n\n    \\new PianoStaff {\n      \\autochange {\n        g4 a b c\'\n        d\'4 r a g\n      }\n    }'},{label:"\\backslashed-digit",detail:"A.10.7 Other",documentation:"A feta number, with backslash. This is for use in the context of figured bass notation.\n\n    \\markup {\n      \\backslashed-digit #5\n      \\hspace #2\n      \\override #'(thickness . 3)\n      \\backslashed-digit #7\n    }\n\nUsed properties:\n\n - thickness (1.6)\n - font-size (0)"},{label:"\\balloonGrobText",detail:"Balloon help",documentation:"Elements of notation can be marked and named with the help of a square balloon. The primary purpose of this feature is to explain notation.\n\n    \\new Voice \\with { \\consists \"Balloon_engraver\" }\n    {\n      \\balloonGrobText #'Stem #'(3 . 4) \\markup { \"I'm a Stem\" }\n      a8\n      \\balloonGrobText #'Rest #'(-4 . -4) \\markup { \"I'm a rest\" }\n      r\n      <c, g'-\\balloonText #'(-2 . -2) \\markup { \"I'm a note head\" } c>2.\n    }\n\nThere are two music functions, balloonGrobText and balloonText; the former is used like \\once \\override to attach text to any grob, and the latter is used like \\tweak, typically within chords, to attach text to an individual note.\n\nBalloon text does not influence note spacing, but this can be altered:\n\n    \\new Voice \\with { \\consists \"Balloon_engraver\" }\n    {\n      \\balloonGrobText #'Stem #'(3 . 4) \\markup { \"I'm a Stem\" }\n      a8\n      \\balloonGrobText #'Rest #'(-4 . -4) \\markup { \"I'm a rest\" }\n      r\n      \\balloonLengthOn\n      <c, g'-\\balloonText #'(-2 . -2) \\markup { \"I'm a note head\" } c>2.\n    }"},{label:"\\balloonLengthOff",detail:"Balloon help",documentation:"Elements of notation can be marked and named with the help of a square balloon. The primary purpose of this feature is to explain notation.\n\n    \\new Voice \\with { \\consists \"Balloon_engraver\" }\n    {\n      \\balloonGrobText #'Stem #'(3 . 4) \\markup { \"I'm a Stem\" }\n      a8\n      \\balloonGrobText #'Rest #'(-4 . -4) \\markup { \"I'm a rest\" }\n      r\n      <c, g'-\\balloonText #'(-2 . -2) \\markup { \"I'm a note head\" } c>2.\n    }\n\nThere are two music functions, balloonGrobText and balloonText; the former is used like \\once \\override to attach text to any grob, and the latter is used like \\tweak, typically within chords, to attach text to an individual note.\n\nBalloon text does not influence note spacing, but this can be altered:\n\n    \\new Voice \\with { \\consists \"Balloon_engraver\" }\n    {\n      \\balloonGrobText #'Stem #'(3 . 4) \\markup { \"I'm a Stem\" }\n      a8\n      \\balloonGrobText #'Rest #'(-4 . -4) \\markup { \"I'm a rest\" }\n      r\n      \\balloonLengthOn\n      <c, g'-\\balloonText #'(-2 . -2) \\markup { \"I'm a note head\" } c>2.\n    }"},{label:"\\balloonLengthOn",detail:"Balloon help",documentation:"Elements of notation can be marked and named with the help of a square balloon. The primary purpose of this feature is to explain notation.\n\n    \\new Voice \\with { \\consists \"Balloon_engraver\" }\n    {\n      \\balloonGrobText #'Stem #'(3 . 4) \\markup { \"I'm a Stem\" }\n      a8\n      \\balloonGrobText #'Rest #'(-4 . -4) \\markup { \"I'm a rest\" }\n      r\n      <c, g'-\\balloonText #'(-2 . -2) \\markup { \"I'm a note head\" } c>2.\n    }\n\nThere are two music functions, balloonGrobText and balloonText; the former is used like \\once \\override to attach text to any grob, and the latter is used like \\tweak, typically within chords, to attach text to an individual note.\n\nBalloon text does not influence note spacing, but this can be altered:\n\n    \\new Voice \\with { \\consists \"Balloon_engraver\" }\n    {\n      \\balloonGrobText #'Stem #'(3 . 4) \\markup { \"I'm a Stem\" }\n      a8\n      \\balloonGrobText #'Rest #'(-4 . -4) \\markup { \"I'm a rest\" }\n      r\n      \\balloonLengthOn\n      <c, g'-\\balloonText #'(-2 . -2) \\markup { \"I'm a note head\" } c>2.\n    }"},{label:"\\balloonText",detail:"Balloon help",documentation:"Elements of notation can be marked and named with the help of a square balloon. The primary purpose of this feature is to explain notation.\n\n    \\new Voice \\with { \\consists \"Balloon_engraver\" }\n    {\n      \\balloonGrobText #'Stem #'(3 . 4) \\markup { \"I'm a Stem\" }\n      a8\n      \\balloonGrobText #'Rest #'(-4 . -4) \\markup { \"I'm a rest\" }\n      r\n      <c, g'-\\balloonText #'(-2 . -2) \\markup { \"I'm a note head\" } c>2.\n    }\n\nThere are two music functions, balloonGrobText and balloonText; the former is used like \\once \\override to attach text to any grob, and the latter is used like \\tweak, typically within chords, to attach text to an individual note.\n\nBalloon text does not influence note spacing, but this can be altered:\n\n    \\new Voice \\with { \\consists \"Balloon_engraver\" }\n    {\n      \\balloonGrobText #'Stem #'(3 . 4) \\markup { \"I'm a Stem\" }\n      a8\n      \\balloonGrobText #'Rest #'(-4 . -4) \\markup { \"I'm a rest\" }\n      r\n      \\balloonLengthOn\n      <c, g'-\\balloonText #'(-2 . -2) \\markup { \"I'm a note head\" } c>2.\n    }"},{label:"\\bar",detail:"Bar lines",documentation:'Bar lines delimit measures, and are also used to indicate repeats. Normally, simple bar lines are automatically inserted into the printed output at places based on the current time signature.\n\nThe simple bar lines inserted automatically can be changed to other types with the \\bar command. For example, a closing double bar line is usually placed at the end of a piece:\n\n    e4 d c2 \\bar "|."\n\nIt is not invalid if the final note in a measure does not end on the automatically entered bar line: the note is assumed to carry over into the next measure. But if a long sequence of such carry-over measures appears the music can appear compressed or even flowing off the page. This is because automatic line breaks happen only at the end of complete measures, i.e., where all notes end before the end of a measure.\n\nNote: An incorrect duration can cause line breaks to be inhibited, leading to a line of highly compressed music or music which flows off the page.\n\n'},{label:"\\bar",detail:"Bar lines",documentation:'The command \u2018\\bar bartype\u2019 is a shortcut for \u2018\\set Timing.whichBar = bartype\u2019. A bar line is created whenever the whichBar property is set.\n\nThe default bar type used for automatically inserted bar lines is "|". This may be changed at any time with \u2018\\set Timing.defaultBarType = bartype\u2019.'},{label:"\\barNumberCheck",detail:"Bar and bar number checks",documentation:"When copying large pieces of music, it can be helpful to check that the LilyPond bar number corresponds to the original that you are entering from. This can be checked with \\barNumberCheck, for example,\n\n\\barNumberCheck #123\n\n\nwill print a warning if the currentBarNumber is not 123 when it is processed."},{label:"\\beam",detail:"A.10.3 Graphic",documentation:"Create a beam with the specified parameters.\n\n    \\markup {\n      \\beam #5 #1 #2\n    }"},{label:"\\bendAfter",detail:"Falls and doits",documentation:"Falls and doits can be added to notes using the \\bendAfter command. The direction of the fall or doit is indicated with a plus or minus (up or down). The number indicates the pitch interval that the fall or doit will extend beyond the main note.\n\n    c2\\bendAfter #+4\n    c2\\bendAfter #-4\n    c2\\bendAfter #+6.5\n    c2\\bendAfter #-6.5\n    c2\\bendAfter #+8\n    c2\\bendAfter #-8"},{label:"\\bold",detail:"Selecting font and font size",documentation:"Basic font switching is supported in markup mode:\n\n    d1^\\markup {\n      \\bold { Pi\xf9 mosso }\n      \\italic { non troppo \\underline Vivo }\n    }\n    r2 r4 r8\n    d,_\\markup { \\italic quasi \\smallCaps Tromba }\n    f1 d2 r"},{label:"\\bold",detail:"A.10.1 Font",documentation:"Switch to bold font-series.\n\n    \\markup {\n      default\n      \\hspace #2\n      \\bold\n      bold\n    }"},{label:"\\book",detail:"3.1.2 Multiple scores in a book",documentation:"A document may contain multiple pieces of music and text. Examples of these are an etude book, or an orchestral part with multiple movements. Each movement is entered with a \\score block,\n\n    \\score {\n      \u2026music\u2026\n    }\n\nand texts are entered with a \\markup block,\n\n    \\markup {\n      \u2026text\u2026\n    }"},{label:"\\book",detail:"3.1.2 Multiple scores in a book",documentation:'All the movements and texts which appear in the same \u2018.ly\u2019 file will normally be typeset in the form of a single output file.\n\n    \\score {\n      \u2026\n    }\n    \\markup {\n      \u2026\n    }\n    \\score {\n      \u2026\n    }\n\nOne important exception is within lilypond-book documents, where you explicitly have to add a \\book block, otherwise only the first \\score or \\markup will appear in the output.\n\nThe header for each piece of music can be put inside the \\score block. The piece name from the header will be printed before each movement. The title for the entire book can be put inside the \\book, but if it is not present, the \\header which is at the top of the file is inserted.\n\n    \\header {\n      title = "Eight miniatures"\n      composer = "Igor Stravinsky"\n    }\n    \\score {\n      \u2026\n      \\header { piece = "Romanze" }\n    }\n    \\markup {\n       \u2026text of second verse\u2026\n    }\n    \\markup {\n       \u2026text of third verse\u2026\n    }\n    \\score {\n      \u2026\n      \\header { piece = "Menuetto" }\n    }'},{label:"\\book",detail:"3.1.5 File structure",documentation:"A \u2018.ly\u2019 file may contain any number of toplevel expressions, where a toplevel expression is one of the following:\n\n - An output definition, such as \\paper, \\midi, and \\layout. Such a definition at the toplevel changes the default book-wide settings. If more than one such definition of the same type is entered at the top level the definitions are combined, but in conflicting situations the later definitions take precedence. For details of how this affects the \\layout block see The \\layout block.\n - A direct scheme expression, such as #(set-default-paper-size \"a7\" 'landscape) or #(ly:set-option 'point-and-click #f).\n - A \\header block. This sets the global (i.e. the top of file) header block. This is the block containing the default settings of titling fields like composer, title, etc. for all books within the file (see Titles explained).\n - A \\score block. This score will be collected with other toplevel scores, and combined as a single \\book. This behavior can be changed by setting the variable toplevel-score-handler at toplevel. The default handler is defined in the init file \u2018../scm/lily.scm\u2019.\n - A \\book block logically combines multiple movements (i.e., multiple \\score blocks) in one document. If there are a number of \\scores, one output file will be created for each \\book block, in which all corresponding movements are concatenated. The only reason to explicitly specify \\book blocks in a \u2018.ly\u2019 file is if you wish to create multiple output files from a single input file. One exception is within lilypond-book documents, where you explicitly have to add a \\book block if you want more than a single \\score or \\markup in the same example. This behavior can be changed by setting the variable toplevel-book-handler at toplevel. The default handler is defined in the init file \u2018../scm/lily.scm\u2019.\n - A \\bookpart block. A book may be divided into several parts, using \\bookpart blocks, in order to ease the page breaking, or to use different \\paper settings in different parts.\n - A compound music expression, such as\n{ c'4 d' e'2 }\nThis will add the piece in a \\score and format it in a single book together with all other toplevel \\scores and music expressions. In other words, a file containing only the above music expression will be translated into\n\n\\book {\n  \\score {\n    \\new Staff {\n      \\new Voice {\n        { c'4 d' e'2 }\n      }\n    }\n    \\layout { }\n  }\n  \\paper { }\n  \\header { }\n}\nThis behavior can be changed by setting the variable toplevel-music-handler at toplevel. The default handler is defined in the init file \u2018../scm/lily.scm\u2019.\n\n\n - A markup text, a verse for example\n\\markup {\n   2.  The first line verse two.\n}\nMarkup texts are rendered above, between or below the scores or music expressions, wherever they appear.\n\n\n - A variable, such as\nfoo = { c4 d e d }\nThis can be used later on in the file by entering \\foo. The name of a variable should have alphabetic characters only; no numbers, underscores or dashes.\n\n\n\nThe following example shows three things that may be entered at toplevel\n\n    \\layout {\n      % Don't justify the output\n      ragged-right = ##t\n    }\n    \\header {\n       title = \"Do-re-mi\"\n    }\n    { c'4 d' e2 }\n\nAt any point in a file, any of the following lexical instructions can be entered:\n\n - \\version\n - \\include\n - \\sourcefilename\n - \\sourcefileline\n - A single-line comment, introduced by a leading % sign.\n - A multi-line comment delimited by %{ \u2026 %}."},{label:"\\bookOutputName",detail:"3.1.4 Output file names",documentation:'Lilypond provides facilities to allow you to control what file names are used by the various back-ends when producing output files.\n\nIn the previous section, we saw how Lilypond prevents name-clashes when producing several ouputs from a single source file. You also have the ability to specify your own suffixes for each \\book block, so for example you can produce files called \u2018eightminiatures-Romanze.pdf\u2019, \u2018eightminiatures-Menuetto.pdf\u2019 and \u2018eightminiatures-Nocturne.pdf\u2019 by adding a \\bookOutputSuffix declaration inside each \\book block.\n\n    \\book {\n      \\bookOutputSuffix "Romanze"\n      \\score { \u2026 }\n      \\paper { \u2026 }\n    }\n    \\book {\n      \\bookOutputSuffix "Menuetto"\n      \\score { \u2026 }\n      \\paper { \u2026 }\n    }\n    \\book {\n      \\bookOutputSuffix "Nocturne"\n      \\score { \u2026 }\n      \\paper { \u2026 }\n    }\n\nYou can also specify a different output filename for book block, by using \\bookOutputName declarations\n\n    \\book {\n      \\bookOutputName "Romanze"\n      \\score { \u2026 }\n      \\paper { \u2026 }\n    }\n    \\book {\n      \\bookOutputName "Menuetto"\n      \\score { \u2026 }\n      \\paper { \u2026 }\n    }\n    \\book {\n      \\bookOutputName "Nocturne"\n      \\score { \u2026 }\n      \\paper { \u2026 }\n    }\n\nThe file above will produce these output files:\n\n - \u2018Romanze.pdf\u2019,\n - \u2018Menuetto.pdf\u2019 and\n - \u2018Nocturne.pdf\u2019.'},{label:"\\bookOutputSuffix",detail:"3.1.4 Output file names",documentation:'Lilypond provides facilities to allow you to control what file names are used by the various back-ends when producing output files.\n\nIn the previous section, we saw how Lilypond prevents name-clashes when producing several ouputs from a single source file. You also have the ability to specify your own suffixes for each \\book block, so for example you can produce files called \u2018eightminiatures-Romanze.pdf\u2019, \u2018eightminiatures-Menuetto.pdf\u2019 and \u2018eightminiatures-Nocturne.pdf\u2019 by adding a \\bookOutputSuffix declaration inside each \\book block.\n\n    \\book {\n      \\bookOutputSuffix "Romanze"\n      \\score { \u2026 }\n      \\paper { \u2026 }\n    }\n    \\book {\n      \\bookOutputSuffix "Menuetto"\n      \\score { \u2026 }\n      \\paper { \u2026 }\n    }\n    \\book {\n      \\bookOutputSuffix "Nocturne"\n      \\score { \u2026 }\n      \\paper { \u2026 }\n    }\n\nYou can also specify a different output filename for book block, by using \\bookOutputName declarations\n\n    \\book {\n      \\bookOutputName "Romanze"\n      \\score { \u2026 }\n      \\paper { \u2026 }\n    }\n    \\book {\n      \\bookOutputName "Menuetto"\n      \\score { \u2026 }\n      \\paper { \u2026 }\n    }\n    \\book {\n      \\bookOutputName "Nocturne"\n      \\score { \u2026 }\n      \\paper { \u2026 }\n    }\n\nThe file above will produce these output files:\n\n - \u2018Romanze.pdf\u2019,\n - \u2018Menuetto.pdf\u2019 and\n - \u2018Nocturne.pdf\u2019.'},{label:"\\bookpart",detail:"3.1.2 Multiple scores in a book",documentation:'Pieces of music may be grouped into book parts using \\bookpart blocks. Book parts are separated by a page break, and can start with a title, like the book itself, by specifying a \\header block.\n\n    \\bookpart {\n      \\header {\n        title = "Book title"\n        subtitle = "First part"\n      }\n      \\score { \u2026 }\n      \u2026\n    }\n    \\bookpart {\n      \\header {\n        subtitle = "Second part"\n      }\n      \\score { \u2026 }\n      \u2026\n    }'},{label:"\\bookpart",detail:"3.1.5 File structure",documentation:"A \u2018.ly\u2019 file may contain any number of toplevel expressions, where a toplevel expression is one of the following:\n\n - An output definition, such as \\paper, \\midi, and \\layout. Such a definition at the toplevel changes the default book-wide settings. If more than one such definition of the same type is entered at the top level the definitions are combined, but in conflicting situations the later definitions take precedence. For details of how this affects the \\layout block see The \\layout block.\n - A direct scheme expression, such as #(set-default-paper-size \"a7\" 'landscape) or #(ly:set-option 'point-and-click #f).\n - A \\header block. This sets the global (i.e. the top of file) header block. This is the block containing the default settings of titling fields like composer, title, etc. for all books within the file (see Titles explained).\n - A \\score block. This score will be collected with other toplevel scores, and combined as a single \\book. This behavior can be changed by setting the variable toplevel-score-handler at toplevel. The default handler is defined in the init file \u2018../scm/lily.scm\u2019.\n - A \\book block logically combines multiple movements (i.e., multiple \\score blocks) in one document. If there are a number of \\scores, one output file will be created for each \\book block, in which all corresponding movements are concatenated. The only reason to explicitly specify \\book blocks in a \u2018.ly\u2019 file is if you wish to create multiple output files from a single input file. One exception is within lilypond-book documents, where you explicitly have to add a \\book block if you want more than a single \\score or \\markup in the same example. This behavior can be changed by setting the variable toplevel-book-handler at toplevel. The default handler is defined in the init file \u2018../scm/lily.scm\u2019.\n - A \\bookpart block. A book may be divided into several parts, using \\bookpart blocks, in order to ease the page breaking, or to use different \\paper settings in different parts.\n - A compound music expression, such as\n{ c'4 d' e'2 }\nThis will add the piece in a \\score and format it in a single book together with all other toplevel \\scores and music expressions. In other words, a file containing only the above music expression will be translated into\n\n\\book {\n  \\score {\n    \\new Staff {\n      \\new Voice {\n        { c'4 d' e'2 }\n      }\n    }\n    \\layout { }\n  }\n  \\paper { }\n  \\header { }\n}\nThis behavior can be changed by setting the variable toplevel-music-handler at toplevel. The default handler is defined in the init file \u2018../scm/lily.scm\u2019.\n\n\n - A markup text, a verse for example\n\\markup {\n   2.  The first line verse two.\n}\nMarkup texts are rendered above, between or below the scores or music expressions, wherever they appear.\n\n\n - A variable, such as\nfoo = { c4 d e d }\nThis can be used later on in the file by entering \\foo. The name of a variable should have alphabetic characters only; no numbers, underscores or dashes.\n\n\n\nThe following example shows three things that may be entered at toplevel\n\n    \\layout {\n      % Don't justify the output\n      ragged-right = ##t\n    }\n    \\header {\n       title = \"Do-re-mi\"\n    }\n    { c'4 d' e2 }\n\nAt any point in a file, any of the following lexical instructions can be entered:\n\n - \\version\n - \\include\n - \\sourcefilename\n - \\sourcefileline\n - A single-line comment, introduced by a leading % sign.\n - A multi-line comment delimited by %{ \u2026 %}."},{label:"\\bookpart",detail:"4.3.2 Page breaking",documentation:'When a book has many scores and pages, the page breaking problem may be difficult to solve, requiring large processing time and memory. To ease the page breaking process, \\bookpart blocks are used to divide the book into several parts: the page breaking occurs separately on each part. Different page breaking functions may also be used in different book parts.\n\n    \\bookpart {\n      \\header {\n        subtitle = "Preface"\n      }\n      \\paper {\n         %% In a part consisting mostly of text,\n         %% ly:minimal-breaking may be preferred\n         page-breaking = #ly:minimal-breaking\n      }\n      \\markup { \u2026 }\n      \u2026\n    }\n    \\bookpart {\n      %% In this part, consisting of music, the default optimal\n      %% page breaking function is used.\n      \\header {\n        subtitle = "First movement"\n      }\n      \\score { \u2026 }\n      \u2026\n    }'},{label:"\\box",detail:"Graphic notation inside markup",documentation:'Some markup commands allow decoration of text elements with graphics, as demonstrated in the following example.\n\n    \\markup \\fill-line {\n      \\center-column {\n        \\circle Jack\n        \\box "in the box"\n        \\null\n        \\line {\n          Erik Satie\n          \\hspace #3\n          \\bracket "1866 - 1925"\n        }\n        \\null\n        \\rounded-box \\bold Prelude\n      }\n    }'},{label:"\\box",detail:"A.10.1 Font",documentation:"Draw a box round arg. Looks at thickness, box-padding and font-size properties to determine line thickness and padding around the markup.\n\n    \\markup {\n      \\override #'(box-padding . 0.5)\n      \\box\n      \\line { V. S. }\n    }\n\nUsed properties:\n\n - box-padding (0.2)\n - font-size (0)\n - thickness (1)"},{label:"\\bracket",detail:"New dynamic marks",documentation:"In markup mode, editorial dynamics (within parentheses or square brackets) can be created. The syntax for markup mode is described in Formatting text.\n\n    roundF = \\markup {\n        \\center-align \\concat { \\bold { \\italic ( }\n               \\dynamic f \\bold { \\italic ) } } }\n    boxF = \\markup { \\bracket { \\dynamic f } }\n    \\relative c' {\n      c1_\\roundF\n      c1_\\boxF\n    }"},{label:"\\bracket",detail:"Graphic notation inside markup",documentation:'Some markup commands allow decoration of text elements with graphics, as demonstrated in the following example.\n\n    \\markup \\fill-line {\n      \\center-column {\n        \\circle Jack\n        \\box "in the box"\n        \\null\n        \\line {\n          Erik Satie\n          \\hspace #3\n          \\bracket "1866 - 1925"\n        }\n        \\null\n        \\rounded-box \\bold Prelude\n      }\n    }'},{label:"\\bracket",detail:"A.10.3 Graphic",documentation:'Draw vertical brackets around arg.\n\n    \\markup {\n      \\bracket {\n        \\note #"2." #UP\n      }\n    }'},{label:"\\break",detail:"Predefined commands",documentation:"\\break, \\noBreak."},{label:"\\breathe",detail:"Breath marks",documentation:"Breath marks are entered using \\breathe:\n\n    c2. \\breathe d4\n\nA breath mark will end an automatic beam; to override this behavior, see Manual beams.\n\n    c8 \\breathe d e f g2\n\nMusical indicators for breath marks in ancient notation, divisiones, are supported. For details, see Divisiones."},{label:"\\breve",detail:"Durations",documentation:"Durations are designated by numbers and dots. Durations are entered as their reciprocal values. For example, a quarter note is entered using a 4 (since it is a 1/4 note), and a half note is entered using a 2 (since it is a 1/2 note). For notes longer than a whole you must use the \\longa (a double breve) and \\breve commands. Durations as short as 128th notes may be specified. Shorter values are possible, but only as beamed notes.\n\n    \\time 8/1\n    c\\longa c\\breve c1 c2\n    c4 c8 c16 c32 c64 c128 c128\n\nHere are the same durations with automatic beaming turned off.\n\n    \\time 8/1\n    \\autoBeamOff\n    c\\longa c\\breve c1 c2\n    c4 c8 c16 c32 c64 c128 c128\n\nA note with the duration of a quadruple breve may be entered with \\maxima, but this is supported only within ancient music notation. For details, see Ancient notation."},{label:"\\breve",detail:"Rests",documentation:"Rests are entered like notes with the note name r. Durations longer than a whole rest use the following predefined commands:\n\n    \\new Staff {\n      % These two lines are just to prettify this example\n      \\time 16/1\n      \\omit Staff.TimeSignature\n      % Print a maxima rest, equal to four breves\n      r\\maxima\n      % Print a longa rest, equal to two breves\n      r\\longa\n      % Print a breve rest\n      r\\breve\n      r1 r2 r4 r8 r16 r32 r64 r128\n    }"},{label:"\\cadenzaOff",detail:"Unmetered music",documentation:'In metered music bar lines are inserted and bar numbers are calculated automatically. In unmetered music (i.e. cadenzas), this is not desirable and can be \u2018switched off\u2019 using the command \\cadenzaOn, then \u2018switched back on\u2019 at the appropriate place using \\cadenzaOff.\n\n    c4 d e d\n    \\cadenzaOn\n    c4 c d8[ d d] f4 g4.\n    \\cadenzaOff\n    \\bar "|"\n    d4 e d c\n\nBar numbering is resumed at the end of the cadenza.\n\n    % Show all bar numbers\n    \\override Score.BarNumber.break-visibility = #all-visible\n    c4 d e d\n    \\cadenzaOn\n    c4 c d8[ d d] f4 g4.\n    \\cadenzaOff\n    \\bar "|"\n    d4 e d c\n\nInserting a \\bar command within a cadenza does not start a new measure, even if a bar line is printed. So any accidentals \u2013 which are usually assumed to remain in force until the end of the measure \u2013 will still be valid after the bar line printed by \\bar. If subsequent accidentals should be printed, forced accidentals or reminder accidentals need to be inserted manually, see Accidentals.\n\n    c4 d e d\n    \\cadenzaOn\n    cis4 d cis d\n    \\bar "|"\n    % First cis is printed without alteration even if it\'s after a \\bar\n    cis4 d cis! d\n    \\cadenzaOff\n    \\bar "|"\n\nAutomatic beaming is disabled by \\cadenzaOn. Therefore, all beaming in cadenzas must be entered manually. See Manual beams.\n\n    \\repeat unfold 8 { c8 }\n    \\cadenzaOn\n    cis8 c c c c\n    \\bar"|"\n    c8 c c\n    \\cadenzaOff\n    \\repeat unfold 8 { c8 }\n\nThese predefined commands affect all staves in the score, even when placed in just one Voice context. To change this, move the Timing_translator from the Score context to the Staff context. See Polymetric notation.'},{label:"\\cadenzaOn",detail:"Unmetered music",documentation:'In metered music bar lines are inserted and bar numbers are calculated automatically. In unmetered music (i.e. cadenzas), this is not desirable and can be \u2018switched off\u2019 using the command \\cadenzaOn, then \u2018switched back on\u2019 at the appropriate place using \\cadenzaOff.\n\n    c4 d e d\n    \\cadenzaOn\n    c4 c d8[ d d] f4 g4.\n    \\cadenzaOff\n    \\bar "|"\n    d4 e d c\n\nBar numbering is resumed at the end of the cadenza.\n\n    % Show all bar numbers\n    \\override Score.BarNumber.break-visibility = #all-visible\n    c4 d e d\n    \\cadenzaOn\n    c4 c d8[ d d] f4 g4.\n    \\cadenzaOff\n    \\bar "|"\n    d4 e d c\n\nInserting a \\bar command within a cadenza does not start a new measure, even if a bar line is printed. So any accidentals \u2013 which are usually assumed to remain in force until the end of the measure \u2013 will still be valid after the bar line printed by \\bar. If subsequent accidentals should be printed, forced accidentals or reminder accidentals need to be inserted manually, see Accidentals.\n\n    c4 d e d\n    \\cadenzaOn\n    cis4 d cis d\n    \\bar "|"\n    % First cis is printed without alteration even if it\'s after a \\bar\n    cis4 d cis! d\n    \\cadenzaOff\n    \\bar "|"\n\nAutomatic beaming is disabled by \\cadenzaOn. Therefore, all beaming in cadenzas must be entered manually. See Manual beams.\n\n    \\repeat unfold 8 { c8 }\n    \\cadenzaOn\n    cis8 c c c c\n    \\bar"|"\n    c8 c c\n    \\cadenzaOff\n    \\repeat unfold 8 { c8 }\n\nThese predefined commands affect all staves in the score, even when placed in just one Voice context. To change this, move the Timing_translator from the Score context to the Staff context. See Polymetric notation.'},{label:"\\caesura",detail:"Predefined commands",documentation:""},{label:"\\caps",detail:"A.10.1 Font",documentation:"Copy of the \\smallCaps command.\n\n    \\markup {\n      default\n      \\hspace #2\n      \\caps {\n        Text in small caps\n      }\n    }"},{label:"\\cavum",detail:"Gregorian square neume ligatures",documentation:""},{label:"\\cavum",detail:"Predefined commands",documentation:""},{label:"\\center-align",detail:"Text alignment",documentation:"Markup objects may be aligned in different ways. By default, a text indication is aligned on its left edge: in the following example, there is no difference between the first and the second markup.\n\n    d1-\\markup { poco }\n    f\n    d-\\markup { \\left-align poco }\n    f\n    d-\\markup { \\center-align { poco } }\n    f\n    d-\\markup { \\right-align poco }"},{label:"\\center-align",detail:"A.10.2 Align",documentation:"Align arg to its X\xa0center.\n\n    \\markup {\n      \\column {\n        one\n        \\center-align\n        two\n        three\n      }\n    }"},{label:"\\center-column",detail:"Text alignment",documentation:'A markup object may include several lines of text. In the following example, each element or expression is placed on its own line, either left-aligned or centered:\n\n    \\markup {\n      \\column {\n        a\n        "b c"\n        \\line { d e f }\n      }\n      \\hspace #10\n      \\center-column {\n        a\n        "b c"\n        \\line { d e f }\n      }\n    }'},{label:"\\center-column",detail:"A.10.2 Align",documentation:"Put args in a centered column.\n\n    \\markup {\n      \\center-column {\n        one\n        two\n        three\n      }\n    }\n\nUsed properties:\n\n - baseline-skip"},{label:"\\change",detail:"Changing staff manually",documentation:'Voices can be switched between staves manually, using the command\n\n    \\change Staff = staffname\n\nThe string staffname is the name of the staff. It switches the current voice from its current staff to the staff called staffname. Typical values for staffname are "up" and "down", or "RH" and "LH".\n\nThe staff to which the voice is being switched must exist at the time of the switch. If necessary, staves should be \u201ckept alive\u201d, see Keeping contexts alive.\n\nCross-staff notes are beamed automatically:\n\n    \\new PianoStaff <<\n      \\new Staff = "up" {\n        <e\' c\'>8\n        \\change Staff = "down"\n        g8 fis g\n        \\change Staff = "up"\n        <g\'\' c\'\'>8\n        \\change Staff = "down"\n        e8 dis e\n        \\change Staff = "up"\n      }\n      \\new Staff = "down" {\n        \\clef bass\n        % keep staff alive\n        s1\n      }\n    >>\n\nIf the beaming needs to be tweaked, make any changes to the stem directions first. The beam positions are then measured from the center of the staff that is closest to the beam. For a simple example of beam tweaking, see notation Fixing overlapping notation.'},{label:"\\char",detail:"A.10.7 Other",documentation:"Produce a single character. Characters encoded in hexadecimal format require the prefix #x.\n\n    \\markup {\n      \\char #65 \\char ##x00a9\n    }"},{label:"\\chordmode",detail:"Predefined fret diagrams",documentation:'It is common that both chord names and fret diagrams are displayed together. This is achieved by putting a ChordNames context in parallel with a FretBoards context and giving both contexts the same music.\n\n    \\include "predefined-guitar-fretboards.ly"\n    mychords = \\chordmode{\n      c1 f g\n    }\n    <<\n      \\new ChordNames {\n        \\mychords\n      }\n      \\new FretBoards {\n        \\mychords\n      }\n    >>'},{label:"\\chordRepeats",detail:"Default tablatures",documentation:'Chord constructs can be repeated by the chord repetition symbol q. In combination with tabulatures, its behavior of removing string and finger numbers alongside with other events is cumbersome, so you\u2019ll want to run\n\n    \\chordRepeats #\'(string-number-event fingering-event)\n\nexplicitly on music expressions in tabulature using Chord repetition. This particular command is so common that it is available as \\tabChordRepeats.\n\n    guitar = \\relative c\' {\n      r8 <gis-2 cis-3 b-0>~ q4 q8~ q q4\n    }\n    \\new StaffGroup <<\n      \\new Staff {\n        \\clef "treble_8"\n        \\guitar\n      }\n      \\new TabStaff {\n        \\tabChordRepeats \\guitar\n      }\n    >>\n\nTies over a line break are parenthesized by default. The same holds for the second alternative of a repeat.\n\n    ties = \\relative c\' {\n      \\repeat volta 2 {\n        e2. f4~\n        f2 g2~\n      }\n      \\alternative {\n         { g4 f2. }\n         { g4\\repeatTie c,2. }\n      }\n      b1~\n      \\break\n      b1\n      \\bar "|."\n    }\n    \\score {\n      <<\n        \\new StaffGroup  <<\n          \\new Staff {\n            \\clef "treble_8"\n            \\ties\n          }\n          \\new TabStaff {\n            \\ties\n          }\n        >>\n      >>\n      \\layout {\n      indent = #0\n      ragged-right = ##t\n      }\n    }'},{label:"\\circle",detail:"Graphic notation inside markup",documentation:'Some markup commands allow decoration of text elements with graphics, as demonstrated in the following example.\n\n    \\markup \\fill-line {\n      \\center-column {\n        \\circle Jack\n        \\box "in the box"\n        \\null\n        \\line {\n          Erik Satie\n          \\hspace #3\n          \\bracket "1866 - 1925"\n        }\n        \\null\n        \\rounded-box \\bold Prelude\n      }\n    }'},{label:"\\circle",detail:"A.10.3 Graphic",documentation:"Draw a circle around arg. Use thickness, circle-padding and font-size properties to determine line thickness and padding around the markup.\n\n    \\markup {\n      \\circle {\n        Hi\n      }\n    }\n\nUsed properties:\n\n - circle-padding (0.2)\n - font-size (0)\n - thickness (1)"},{label:"\\clef",detail:"Clef",documentation:"The clef may be altered. Middle C is shown in every example. The following clef names can (but do not need to) be enclosed in quotes.\n\n    \\clef treble\n    c2 c\n    \\clef alto\n    c2 c\n    \\clef tenor\n    c2 c\n    \\clef bass\n    c2 c\n\nOther clefs include:\n\n    \\clef french\n    c2 c\n    \\clef soprano\n    c2 c\n    \\clef mezzosoprano\n    c2 c\n    \\clef baritone\n    c2 c\n    \\break\n    \\clef varbaritone\n    c2 c\n    \\clef subbass\n    c2 c\n    \\clef percussion\n    c2 c\n    \\break\n    \\clef G   % synonym for treble\n    c2 c\n    \\clef F   % synonym for bass\n    c2 c\n    \\clef C   % synonym for alto\n    c2 c"},{label:"\\cm",detail:"5.4.3 Distances and measurements",documentation:"Distances in LilyPond are of two types: absolute and scaled.\n\nAbsolute distances are used for specifying margins, indents, and other page layout details, and are by default specified in millimeters. Distances may be specified in other units by following the quantity by \\mm, \\cm, \\in\xa0(inches), or \\pt\xa0(points, 1/72.27 of an inch). Page layout distances can also be specified in scalable units (see the following paragraph) by appending \\staff-space to the quantity. Page layout is described in detail in Page layout.\n\nScaled distances are always specified in units of the staff-space or, rarely, the half staff-space. The staff-space is the distance between two adjacent staff lines. The default value can be changed globally by setting the global staff size, or it can be overridden locally by changing the staff-space property of StaffSymbol. Scaled distances automatically scale with any change to the either the global staff size or the staff-space property of StaffSymbol, but fonts scale automatically only with changes to the global staff size. The global staff size thus enables the overall size of a rendered score to be easily varied. For the methods of setting the global staff size see Setting the staff size."},{label:"\\coda",detail:"Articulations and ornamentations",documentation:"A variety of symbols that denote articulations, ornamentations, and other performance indications can be attached to a note using this syntax:\n\n    note\\name\n\nThe possible values for name are listed in List of articulations. For example:\n\n    c4\\staccato c\\mordent b2\\turn\n    c1\\fermata"},{label:"\\column",detail:"Text alignment",documentation:'A markup object may include several lines of text. In the following example, each element or expression is placed on its own line, either left-aligned or centered:\n\n    \\markup {\n      \\column {\n        a\n        "b c"\n        \\line { d e f }\n      }\n      \\hspace #10\n      \\center-column {\n        a\n        "b c"\n        \\line { d e f }\n      }\n    }'},{label:"\\column",detail:"A.10.2 Align",documentation:"Stack the markups in args vertically. The property baseline-skip determines the space between markups in args.\n\n    \\markup {\n      \\column {\n        one\n        two\n        three\n      }\n    }\n\nUsed properties:\n\n - baseline-skip"},{label:"\\column-lines",detail:"A.11 Text markup list commands",documentation:"Like \\column, but return a list of lines instead of a single markup. baseline-skip determines the space between each markup in args.\n\nUsed properties:\n\n - baseline-skip"},{label:"\\combine",detail:"Graphic notation inside markup",documentation:"Other graphic elements or symbols may be printed without requiring any text. As with any markup expression, such objects can be combined.\n\n    \\markup {\n      \\combine\n        \\draw-circle #4 #0.4 ##f\n        \\filled-box #'(-4 . 4) #'(-0.5 . 0.5) #1\n      \\hspace #5\n      \\center-column {\n        \\triangle ##t\n        \\combine\n          \\draw-line #'(0 . 4)\n          \\arrow-head #Y #DOWN ##f\n      }\n    }"},{label:"\\combine",detail:"A.10.2 Align",documentation:"Print two markups on top of each other.\n\nNote: \\combine cannot take a list of markups enclosed in curly braces as an argument; the follow example will not compile:\n\n    \\combine { a list }\n\n    \\markup {\n      \\fontsize #5\n      \\override #'(thickness . 2)\n      \\combine\n        \\draw-line #'(0 . 4)\n        \\arrow-head #Y #DOWN ##f\n    }"},{label:"\\compoundMeter",detail:"Different time signatures with unequal-length measures",documentation:"These are created using the \\compoundMeter function. The syntax for this is:\n\n    \\compoundMeter #'(list of lists)\n\nThe simplest construction is a single list, where the last number indicates the bottom number of the time signature and those that come before it, the top numbers.\n\n    \\relative c' {\n      \\compoundMeter #'((2 2 2 8))\n      \\repeat unfold 6 c8 \\repeat unfold 12 c16\n    }\n\nMore complex meters can be constructed using additional lists. Also, automatic beaming settings will be adjusted depending on the values.\n\n    \\relative c' {\n      \\compoundMeter #'((1 4) (3 8))\n      \\repeat unfold 5 c8 \\repeat unfold 10 c16\n    }\n    \\relative c' {\n      \\compoundMeter #'((1 2 3 8) (3 4))\n      \\repeat unfold 12 c8\n    }"},{label:"\\compressFullBarRests",detail:"Full measure rests",documentation:"By default a multi-measure rest is expanded in the printed score to show all the rest measures explicitly. Alternatively, a multi-measure rest can be shown as a single measure containing a multi-measure rest symbol, with the number of measures of rest printed above the measure:\n\n    % Default behavior\n    \\time 3/4 r2. | R2.*2 |\n    \\time 2/4 R2 |\n    \\time 4/4\n    % Rest measures contracted to single measure\n    \\compressFullBarRests\n    r1 | R1*17 | R1*4 |\n    % Rest measures expanded\n    \\expandFullBarRests\n    \\time 3/4\n    R2.*2 |"},{label:"\\compressFullBarRests",detail:"Full measure rests",documentation:"\\textLengthOn, \\textLengthOff, \\fermataMarkup, \\compressFullBarRests, \\expandFullBarRests."},{label:"\\concat",detail:"A.10.2 Align",documentation:'Concatenate args in a horizontal line, without spaces in between. Strings and simple markups are concatenated on the input level, allowing ligatures. For example, \\concat { "f" \\simple #"i" } is equivalent to "fi".\n\n    \\markup {\n      \\concat {\n        one\n        two\n        three\n      }\n    }'},{label:"\\consists",detail:"5.1.6 Defining new contexts",documentation:'Specific contexts, like Staff and Voice, are made from simple building blocks. It is possible to create new types of contexts with different combinations of engraver plug-ins.\n\nThe next example shows how to build a different type of Voice context from scratch. It will be similar to Voice, but only prints centered slash note heads. It can be used to indicate improvisation in jazz pieces,\n\nThese settings are defined within a \\context block inside a \\layout block,\n\n    \\layout {\n      \\context {\n        \u2026\n      }\n    }\n\nIn the following discussion, the example input shown should go in place of the \u2026 in the previous fragment.\n\nFirst it is necessary to define a name for the new context:\n\n    \\name ImproVoice\n\nSince it is similar to the Voice context, we want commands that work in (existing) Voice contexts to continue working. This is achieved by giving the new context an alias of Voice,\n\n    \\alias Voice\n\nThe context will print notes and instructive texts, so we need to add the engravers which provide this functionality, plus the engraver which groups notes, stems and rests which occur at the same musical moment into columns,\n\n    \\consists "Note_heads_engraver"\n    \\consists "Text_engraver"\n    \\consists "Rhythmic_column_engraver"\n\nThe note heads should all be placed on the center line,\n\n    \\consists "Pitch_squash_engraver"\n    squashedPosition = #0\n\nThe Pitch_squash_engraver modifies note heads (created by the Note_heads_engraver) and sets their vertical position to the value of squashedPosition, in this case\xa00, the center line.\n\nThe notes look like a slash, and have no stem,\n\n    \\override NoteHead.style = #\'slash\n    \\hide Stem\n\nAll these plug-ins have to communicate under the control of the context. The mechanisms with which contexts communicate are established by declaring the context \\type. Within a \\layout block, most contexts will be of type Engraver_group. Some special contexts and contexts in \\midi blocks use other context types. Copying and modifying an existing context definition will also fill in the type. Since this example creates a definition from scratch, it needs to be specified explicitly.\n\n    \\type "Engraver_group"\n\nPut together, we get\n\n    \\context {\n      \\name ImproVoice\n      \\type "Engraver_group"\n      \\consists "Note_heads_engraver"\n      \\consists "Text_engraver"\n      \\consists "Rhythmic_column_engraver"\n      \\consists "Pitch_squash_engraver"\n      squashedPosition = #0\n      \\override NoteHead.style = #\'slash\n      \\hide Stem\n      \\alias Voice\n    }'},{label:"\\context",detail:"5.1.2 Creating and referencing contexts",documentation:'LilyPond will create lower-level contexts automatically if a music expression is encountered before a suitable context exists, but this is usually successful only for simple scores or music fragments like the ones in the documentation. For more complex scores it is advisable to specify all contexts explicitly with either the \\new or \\context command. The syntax of these two commands is very similar:\n\n    [\\new | \\context] Context [ = name] [music-expression]\n\nwhere either \\new or \\context may be specified. Context is the type of context which is to be created, name is an optional name to be given to the particular context being created and music-expression is a single music expression that is to be interpreted by the engravers and performers in this context.\n\nThe \\new prefix without a name is commonly used to create scores with many staves:\n\n    <<\n      \\new Staff {\n        % leave the Voice context to be created implicitly\n        c4 c\n      }\n      \\new Staff {\n        d4 d\n      }\n    >>\n\nand to place several voices into one staff:\n\n    <<\n      \\new Staff <<\n        \\new Voice {\n          \\voiceOne\n          c8 c c4 c c\n        }\n        \\new Voice {\n          \\voiceTwo\n          g4 g g g\n        }\n      >>\n    >>\n\n\\new should always be used to specify unnamed contexts.\n\nThe difference between \\new and \\context is in the action taken:\n\n - \\new with or without a name will always create a fresh, distinct, context, even if one with the same name already exists:\n<<\n  \\new Staff <<\n    \\new Voice = "A" {\n      \\voiceOne\n      c8 c c4 c c\n    }\n    \\new Voice = "A" {\n      \\voiceTwo\n      g4 g g g\n    }\n  >>\n>>\n \n\n\n - \\context with a name specified will create a distinct context only if a context of the same type with the same name in the same context hierarchy does not already exist. Otherwise it will be taken as a reference to that previously created context, and its music expression will be passed to that context for interpretation.\nOne application of named contexts is in separating the score layout from the musical content. Either of these two forms is valid:\n\n\\score {\n  <<\n    % score layout\n    \\new Staff <<\n      \\new Voice = "one" {\n        \\voiceOne\n      }\n      \\new Voice = "two" {\n        \\voiceTwo\n      }\n    >>\n\n    % musical content\n    \\context Voice = "one" {\n      \\relative c\'\' {\n        c4 c c c\n      }\n    }\n    \\context Voice = "two" {\n      \\relative c\'\' {\n        g8 g g4 g g\n      }\n    }\n  >>\n}\n \n\n\\score {\n  <<\n    % score layout\n    \\new Staff <<\n      \\context Voice = "one" {\n        \\voiceOne\n      }\n      \\context Voice = "two" {\n        \\voiceTwo\n      }\n    >>\n\n    % musical content\n    \\context Voice = "one" {\n      \\relative c\'\' {\n        c4 c c c\n      }\n    }\n    \\context Voice = "two" {\n      \\relative c\'\' {\n        g8 g g4 g g\n      }\n    }\n  >>\n}\n \n\nAlternatively, variables may be employed to similar effect. See Organizing pieces with variables.\n\n\n - \\context with no name will match the first of any previously created contexts of the same type in the same context heirarchy, even one that has been given a name, and its music expression will be passed to that context for interpretation. This form is rarely useful. However, \\context with no name and no music expression is used to set the context in which a Scheme procedure specified with \\applyContext is executed:\n\\new Staff \\relative c\' {\n  c1\n  \\context Timing\n  \\applyContext #(lambda (ctx)\n                   (newline)\n                   (display (ly:context-current-moment ctx)))\n  c1\n}\n\n\nA context must be named if it is to be referenced later, for example when lyrics are associated with music:\n\n    \\new Voice = "tenor" music\n    \u2026\n    \\new Lyrics \\lyricsto "tenor" lyrics\n\nFor details of associating lyrics with music see Automatic syllable durations.\n\nThe properties of all contexts of a particular type can be modified in a \\layout block (with a different syntax), see Changing all contexts of the same type. This construct also provides a means of keeping layout instructions separate from the musical content. If a single context is to be modified, a \\with block must be used, see Changing just one specific context.'},{label:"\\context",detail:"Changing all contexts of the same type",documentation:"The default context settings which are to be used for typesetting in Score, Staff, Voice and other contexts may be specified in a \\context block within any \\layout block.\n\nSettings for Midi output as opposed to typesetting will have to be separately specified in \\midi blocks (see Output definitions - blueprints for contexts).\n\nThe \\layout block should be placed within the \\score block to which it is to apply, after the music.\n\n    \\layout {\n      \\context {\n        \\Voice\n        [context settings for all Voice contexts]\n      }\n      \\context {\n        \\Staff\n        [context settings for all Staff contexts]\n      }\n    }\n\nThe following types of settings may be specified:\n\n - An \\override command, but with the context name omitted\n\\score {\n  \\relative c'' {\n    a4^\"Thicker stems\" a a a\n    a4 a a\\ff a\n  }\n  \\layout {\n    \\context {\n      \\Staff\n      \\override Stem.thickness = #4.0\n    }\n  }\n}\n \n\n\n - Directly setting a context property\n\\score {\n  \\relative c'' {\n    a4^\"Smaller font\" a a a\n    a4 a a\\ff a\n  }\n  \\layout {\n    \\context {\n      \\Staff\n      fontSize = #-4\n    }\n  }\n}\n \n\n\n - A predefined command such as \\dynamicUp or a music expression like \\accidentalStyle dodecaphonic\n\\score {\n  \\relative c'' {\n    a4^\"Dynamics above\" a a a\n    a4 a a\\ff a\n  }\n  \\layout {\n    \\context {\n      \\Voice\n      \\dynamicUp\n    }\n    \\context {\n      \\Staff\n      \\accidentalStyle dodecaphonic\n    }\n  }\n}\n \n\n\n - A user-defined variable containing a \\with block; for details of the \\with block see Changing just one specific context.\nStaffDefaults = \\with {\n  fontSize = #-4\n}\n\n\\score {\n  \\new Staff {\n    \\relative c'' {\n      a4^\"Smaller font\" a a a\n      a4 a a a\n    }\n  }\n  \\layout {\n    \\context {\n      \\Staff\n      \\StaffDefaults\n    }\n  }\n}\n \n\n\n\nProperty-setting commands can be placed in a \\layout block without being enclosed in a \\context block. Such settings are equivalent to including the same property-setting commands at the start of every context of the type specified. If no context is specified every bottom-level context is affected, see Bottom-level contexts - voices. The syntax of a property-setting command in a \\layout block is the same as the same command written in the music stream.\n\n    \\score {\n      \\new Staff {\n        \\relative c'' {\n          a4^\"Smaller font\" a a a\n          a4 a a a\n        }\n      }\n      \\layout {\n        \\accidentalStyle dodecaphonic\n        \\set fontSize = #-4\n        \\override Voice.Stem.thickness = #4.0\n      }\n    }"},{label:"\\cr",detail:"Dynamics",documentation:"A crescendo mark is started with \\< and terminated with \\!, an absolute dynamic, or an additional crescendo or decrescendo mark. A decrescendo mark is started with \\> and is also terminated with \\!, an absolute dynamic, or another crescendo or decrescendo mark. \\cr and \\decr may be used instead of \\< and \\>. Hairpins are engraved by default using this notation.\n\n    c2\\< c\\!\n    d2\\< d\\f\n    e2\\< e\\>\n    f2\\> f\\!\n    e2\\> e\\mp\n    d2\\> d\\>\n    c1\\!\n\nA hairpin that is terminated with \\! will end at the right edge of the note that has the \\! assigned to it. In the case where it is terminated with the start of another crescendo or decrescendo mark, it will end at the centre of the note that has the next \\< or \\> assigned to it. The next hairpin will then start at the right edge of the same note instead of the usual left edge had it been terminated with \\! before.\n\n    c1\\< | c4 a c\\< a | c4 a c\\! a\\< | c4 a c a\\!\n\nHairpins that are terminated with absolute dynamic marks instead of \\! will also be engraved in a similar way. However, the length of the absolute dynamic itself can alter where the preceding hairpin ends.\n\n    c1\\< | c4 a c\\mf a | c1\\< | c4 a c\\ffff a"},{label:"\\cresc",detail:"Dynamics",documentation:"Textual crescendo marks begin with \\cresc. Textual decrescendos begin with \\decresc or \\dim. Extender lines are engraved as required.\n\n    g8\\cresc a b c b c d e\\mf |\n    f8\\decresc e d c e\\> d c b |\n    a1\\dim ~ |\n    a2. r4\\! |"},{label:"\\crescHairpin",detail:"Dynamics",documentation:"Textual marks for dynamic changes can also replace hairpins:\n\n    \\crescTextCresc\n    c4\\< d e f\\! |\n    \\dimTextDecresc\n    g4\\> e d c\\! |\n    \\dimTextDecr\n    e4\\> d c b\\! |\n    \\dimTextDim\n    d4\\> c b a\\! |\n    \\crescHairpin\n    \\dimHairpin\n    c4\\< d\\! e\\> d\\! |\n\nTo create new absolute dynamic marks or text that should be aligned with dynamics, see New dynamic marks."},{label:"\\crescTextCresc",detail:"Dynamics",documentation:"Textual marks for dynamic changes can also replace hairpins:\n\n    \\crescTextCresc\n    c4\\< d e f\\! |\n    \\dimTextDecresc\n    g4\\> e d c\\! |\n    \\dimTextDecr\n    e4\\> d c b\\! |\n    \\dimTextDim\n    d4\\> c b a\\! |\n    \\crescHairpin\n    \\dimHairpin\n    c4\\< d\\! e\\> d\\! |\n\nTo create new absolute dynamic marks or text that should be aligned with dynamics, see New dynamic marks."},{label:"\\crossStaff",detail:"Cross-staff stems",documentation:"Chords that cross staves may be produced using the Span_stem_engraver. Care must be taken to ensure that automatic beams do not beam the notes on one staff when it\u2019s not required on the other.\n\n    \\layout {\n      \\context {\n        \\PianoStaff\n        \\consists #Span_stem_engraver\n      }\n    }\n    {\n      \\new PianoStaff <<\n        \\new Staff {\n          <b d'>4 r d'16\\> e'8. g8 r\\!\n          e'8 f' g'4 e'2\n        }\n        \\new Staff {\n          \\clef bass\n          \\voiceOne\n          \\autoBeamOff\n          \\crossStaff { <e g>4 e, g16 a8. c8} d\n          \\autoBeamOn\n          g8 f g4 c2\n        }\n      >>\n    }\n\nFor the time being, this engraver can not be specified by its name in double quotes, but rather prefixing its name with a hash symbol #, due to the way it is implemented."},{label:"\\cueClef",detail:"Formatting cue notes",documentation:'The simplest way to format cue notes is to explicitly create a CueVoice context within the part.\n\nR1\n<<\n  { e2\\rest r4. e8 }\n  \\new CueVoice {\n    \\stemUp d\'8^"flute" c d e fis2\n  }\n>>\nd,4 r a r\n\n\nThe \\cueClef command can also be used with an explict CueVoice context if a change of clef is required and will print an appropriately sized clef for the cue notes. The \\cueClefUnset command can then be used to switch back to the original clef, again with an appropriately sized clef.\n\n\\clef "bass"\nR1\n<<\n  { e2\\rest r4. \\cueClefUnset e,8 }\n  \\new CueVoice {\n    \\cueClef "treble" \\stemUp d\'\'8^"flute" c d e fis2\n  }\n>>\nd,,4 r a r\n\n\nThe \\cueClef and \\cueClefUnset command can also be used without a CueVoice if required.\n\n\\clef "bass"\nR1\n\\cueClef "treble"\nd\'8^"flute" c d e fis2\n\\cueClefUnset\nd,,4 r a r\n\n\nFor more complex cue note placement, e.g including transposition, or inserting cue notes from multiple music sources the \\cueDuring or \\cueDuringWithClef commands can be used. These are more specialized form of \\quoteDuring, see Quoting other voices in the previous section.\n\nThe syntax is:\n\n    \\cueDuring #quotename #direction #music\n\nand\n\n    \\cueDuringWithClef #quotename #direction #clef #music\n\nThe music from the corresponding measures of the quote name is added as a CueVoice context and occurs simultaneously with the music, which then creates a polyphonic situation. The direction takes the argument UP or DOWN, and corresponds to the first and second voices respectively, determining how the cue notes are printed in relation to the other voice.\n\n    fluteNotes = \\relative c\'\' {\n      r2. c4 | d8 c d e fis2 | g2 d |\n    }\n    oboeNotes = \\relative c\'\' {\n      R1\n      \\new CueVoice { \\set instrumentCueName = "flute" }\n      \\cueDuring #"flute" #UP { R1 }\n      g2 c,\n    }\n    \\addQuote "flute" { \\fluteNotes }\n    \\new Staff {\n      \\oboeNotes\n    }\n\nIt is possible to adjust which aspects of the music are quoted with \\cueDuring by setting the quotedCueEventTypes property. Its default value is \'(note-event rest-event tie-event beam-event tuplet-span-event), which means that only notes, rests, ties, beams and tuplets are quoted, but not articulations, dynamic marks, markup etc.\n\nNote: When a Voice starts with cueDuring, as in the following example, the Voice context must be explicitly declared, or else the entire music expression would belong to the CueVoice context.\n\n\n\n    oboeNotes = \\relative c\'\' {\n      r2 r8 d16(\\f f e g f a)\n      g8 g16 g g2.\n    }\n    \\addQuote "oboe" { \\oboeNotes }\n    \\new Voice \\relative c\'\' {\n      \\set Score.quotedCueEventTypes = #\'(note-event rest-event tie-event\n                                          beam-event tuplet-span-event\n                                          dynamic-event slur-event)\n      \\cueDuring #"oboe" #UP { R1 }\n      g2 c,\n    }\n\nThe name of the instrument playing the cue can be printed by setting the instrumentCueName property in a temporary CueVoice context. The placement and style of the instrumentCueName is controlled by the InstrumentSwitch object, see Instrument names. If the cue notes require a change in clef, this can be done manually but the original clef should also be restored manually at the end of the cue notes.\n\n    fluteNotes = \\relative c\'\' {\n      r2. c4 d8 c d e fis2 g2 d2\n    }\n    bassoonNotes = \\relative c {\n      \\clef bass\n      R1\n      \\clef treble\n      \\new CueVoice { \\set instrumentCueName = "flute" }\n      \\cueDuring #"flute" #UP { R1 }\n      \\clef bass\n      g4. b8 d2\n    }\n    \\addQuote "flute" { \\fluteNotes }\n    \\new Staff {\n      \\bassoonNotes\n    }\n\nAlternatively, the \\cueDuringWithClef function can be used instead. This command takes an extra argument to specify the change of clef that needs to be printed for the cue notes but will automatically print the original clef once the cue notes have finished.\n\n    fluteNotes = \\relative c\'\' {\n      r2. c4 d8 c d e fis2 g2 d2\n    }\n    bassoonNotes = \\relative c {\n      \\clef bass\n      R1\n      \\new CueVoice { \\set instrumentCueName = "flute" }\n      \\cueDuringWithClef #"flute" #UP #"treble" { R1 }\n      g4. b8 d2\n    }\n    \\addQuote "flute" { \\fluteNotes }\n    \\new Staff {\n      \\bassoonNotes\n    }'},{label:"\\cueDuring",detail:"Formatting cue notes",documentation:'The simplest way to format cue notes is to explicitly create a CueVoice context within the part.\n\nR1\n<<\n  { e2\\rest r4. e8 }\n  \\new CueVoice {\n    \\stemUp d\'8^"flute" c d e fis2\n  }\n>>\nd,4 r a r\n\n\nThe \\cueClef command can also be used with an explict CueVoice context if a change of clef is required and will print an appropriately sized clef for the cue notes. The \\cueClefUnset command can then be used to switch back to the original clef, again with an appropriately sized clef.\n\n\\clef "bass"\nR1\n<<\n  { e2\\rest r4. \\cueClefUnset e,8 }\n  \\new CueVoice {\n    \\cueClef "treble" \\stemUp d\'\'8^"flute" c d e fis2\n  }\n>>\nd,,4 r a r\n\n\nThe \\cueClef and \\cueClefUnset command can also be used without a CueVoice if required.\n\n\\clef "bass"\nR1\n\\cueClef "treble"\nd\'8^"flute" c d e fis2\n\\cueClefUnset\nd,,4 r a r\n\n\nFor more complex cue note placement, e.g including transposition, or inserting cue notes from multiple music sources the \\cueDuring or \\cueDuringWithClef commands can be used. These are more specialized form of \\quoteDuring, see Quoting other voices in the previous section.\n\nThe syntax is:\n\n    \\cueDuring #quotename #direction #music\n\nand\n\n    \\cueDuringWithClef #quotename #direction #clef #music\n\nThe music from the corresponding measures of the quote name is added as a CueVoice context and occurs simultaneously with the music, which then creates a polyphonic situation. The direction takes the argument UP or DOWN, and corresponds to the first and second voices respectively, determining how the cue notes are printed in relation to the other voice.\n\n    fluteNotes = \\relative c\'\' {\n      r2. c4 | d8 c d e fis2 | g2 d |\n    }\n    oboeNotes = \\relative c\'\' {\n      R1\n      \\new CueVoice { \\set instrumentCueName = "flute" }\n      \\cueDuring #"flute" #UP { R1 }\n      g2 c,\n    }\n    \\addQuote "flute" { \\fluteNotes }\n    \\new Staff {\n      \\oboeNotes\n    }\n\nIt is possible to adjust which aspects of the music are quoted with \\cueDuring by setting the quotedCueEventTypes property. Its default value is \'(note-event rest-event tie-event beam-event tuplet-span-event), which means that only notes, rests, ties, beams and tuplets are quoted, but not articulations, dynamic marks, markup etc.\n\nNote: When a Voice starts with cueDuring, as in the following example, the Voice context must be explicitly declared, or else the entire music expression would belong to the CueVoice context.\n\n\n\n    oboeNotes = \\relative c\'\' {\n      r2 r8 d16(\\f f e g f a)\n      g8 g16 g g2.\n    }\n    \\addQuote "oboe" { \\oboeNotes }\n    \\new Voice \\relative c\'\' {\n      \\set Score.quotedCueEventTypes = #\'(note-event rest-event tie-event\n                                          beam-event tuplet-span-event\n                                          dynamic-event slur-event)\n      \\cueDuring #"oboe" #UP { R1 }\n      g2 c,\n    }\n\nThe name of the instrument playing the cue can be printed by setting the instrumentCueName property in a temporary CueVoice context. The placement and style of the instrumentCueName is controlled by the InstrumentSwitch object, see Instrument names. If the cue notes require a change in clef, this can be done manually but the original clef should also be restored manually at the end of the cue notes.\n\n    fluteNotes = \\relative c\'\' {\n      r2. c4 d8 c d e fis2 g2 d2\n    }\n    bassoonNotes = \\relative c {\n      \\clef bass\n      R1\n      \\clef treble\n      \\new CueVoice { \\set instrumentCueName = "flute" }\n      \\cueDuring #"flute" #UP { R1 }\n      \\clef bass\n      g4. b8 d2\n    }\n    \\addQuote "flute" { \\fluteNotes }\n    \\new Staff {\n      \\bassoonNotes\n    }\n\nAlternatively, the \\cueDuringWithClef function can be used instead. This command takes an extra argument to specify the change of clef that needs to be printed for the cue notes but will automatically print the original clef once the cue notes have finished.\n\n    fluteNotes = \\relative c\'\' {\n      r2. c4 d8 c d e fis2 g2 d2\n    }\n    bassoonNotes = \\relative c {\n      \\clef bass\n      R1\n      \\new CueVoice { \\set instrumentCueName = "flute" }\n      \\cueDuringWithClef #"flute" #UP #"treble" { R1 }\n      g4. b8 d2\n    }\n    \\addQuote "flute" { \\fluteNotes }\n    \\new Staff {\n      \\bassoonNotes\n    }'},{label:"\\cueDuringWithClef",detail:"Formatting cue notes",documentation:'The simplest way to format cue notes is to explicitly create a CueVoice context within the part.\n\nR1\n<<\n  { e2\\rest r4. e8 }\n  \\new CueVoice {\n    \\stemUp d\'8^"flute" c d e fis2\n  }\n>>\nd,4 r a r\n\n\nThe \\cueClef command can also be used with an explict CueVoice context if a change of clef is required and will print an appropriately sized clef for the cue notes. The \\cueClefUnset command can then be used to switch back to the original clef, again with an appropriately sized clef.\n\n\\clef "bass"\nR1\n<<\n  { e2\\rest r4. \\cueClefUnset e,8 }\n  \\new CueVoice {\n    \\cueClef "treble" \\stemUp d\'\'8^"flute" c d e fis2\n  }\n>>\nd,,4 r a r\n\n\nThe \\cueClef and \\cueClefUnset command can also be used without a CueVoice if required.\n\n\\clef "bass"\nR1\n\\cueClef "treble"\nd\'8^"flute" c d e fis2\n\\cueClefUnset\nd,,4 r a r\n\n\nFor more complex cue note placement, e.g including transposition, or inserting cue notes from multiple music sources the \\cueDuring or \\cueDuringWithClef commands can be used. These are more specialized form of \\quoteDuring, see Quoting other voices in the previous section.\n\nThe syntax is:\n\n    \\cueDuring #quotename #direction #music\n\nand\n\n    \\cueDuringWithClef #quotename #direction #clef #music\n\nThe music from the corresponding measures of the quote name is added as a CueVoice context and occurs simultaneously with the music, which then creates a polyphonic situation. The direction takes the argument UP or DOWN, and corresponds to the first and second voices respectively, determining how the cue notes are printed in relation to the other voice.\n\n    fluteNotes = \\relative c\'\' {\n      r2. c4 | d8 c d e fis2 | g2 d |\n    }\n    oboeNotes = \\relative c\'\' {\n      R1\n      \\new CueVoice { \\set instrumentCueName = "flute" }\n      \\cueDuring #"flute" #UP { R1 }\n      g2 c,\n    }\n    \\addQuote "flute" { \\fluteNotes }\n    \\new Staff {\n      \\oboeNotes\n    }\n\nIt is possible to adjust which aspects of the music are quoted with \\cueDuring by setting the quotedCueEventTypes property. Its default value is \'(note-event rest-event tie-event beam-event tuplet-span-event), which means that only notes, rests, ties, beams and tuplets are quoted, but not articulations, dynamic marks, markup etc.\n\nNote: When a Voice starts with cueDuring, as in the following example, the Voice context must be explicitly declared, or else the entire music expression would belong to the CueVoice context.\n\n\n\n    oboeNotes = \\relative c\'\' {\n      r2 r8 d16(\\f f e g f a)\n      g8 g16 g g2.\n    }\n    \\addQuote "oboe" { \\oboeNotes }\n    \\new Voice \\relative c\'\' {\n      \\set Score.quotedCueEventTypes = #\'(note-event rest-event tie-event\n                                          beam-event tuplet-span-event\n                                          dynamic-event slur-event)\n      \\cueDuring #"oboe" #UP { R1 }\n      g2 c,\n    }\n\nThe name of the instrument playing the cue can be printed by setting the instrumentCueName property in a temporary CueVoice context. The placement and style of the instrumentCueName is controlled by the InstrumentSwitch object, see Instrument names. If the cue notes require a change in clef, this can be done manually but the original clef should also be restored manually at the end of the cue notes.\n\n    fluteNotes = \\relative c\'\' {\n      r2. c4 d8 c d e fis2 g2 d2\n    }\n    bassoonNotes = \\relative c {\n      \\clef bass\n      R1\n      \\clef treble\n      \\new CueVoice { \\set instrumentCueName = "flute" }\n      \\cueDuring #"flute" #UP { R1 }\n      \\clef bass\n      g4. b8 d2\n    }\n    \\addQuote "flute" { \\fluteNotes }\n    \\new Staff {\n      \\bassoonNotes\n    }\n\nAlternatively, the \\cueDuringWithClef function can be used instead. This command takes an extra argument to specify the change of clef that needs to be printed for the cue notes but will automatically print the original clef once the cue notes have finished.\n\n    fluteNotes = \\relative c\'\' {\n      r2. c4 d8 c d e fis2 g2 d2\n    }\n    bassoonNotes = \\relative c {\n      \\clef bass\n      R1\n      \\new CueVoice { \\set instrumentCueName = "flute" }\n      \\cueDuringWithClef #"flute" #UP #"treble" { R1 }\n      g4. b8 d2\n    }\n    \\addQuote "flute" { \\fluteNotes }\n    \\new Staff {\n      \\bassoonNotes\n    }'},{label:"\\customTabClef",detail:"A.10.4 Music",documentation:"Draw a tab clef sans-serif style."},{label:"\\decr",detail:"Dynamics",documentation:"A crescendo mark is started with \\< and terminated with \\!, an absolute dynamic, or an additional crescendo or decrescendo mark. A decrescendo mark is started with \\> and is also terminated with \\!, an absolute dynamic, or another crescendo or decrescendo mark. \\cr and \\decr may be used instead of \\< and \\>. Hairpins are engraved by default using this notation.\n\n    c2\\< c\\!\n    d2\\< d\\f\n    e2\\< e\\>\n    f2\\> f\\!\n    e2\\> e\\mp\n    d2\\> d\\>\n    c1\\!\n\nA hairpin that is terminated with \\! will end at the right edge of the note that has the \\! assigned to it. In the case where it is terminated with the start of another crescendo or decrescendo mark, it will end at the centre of the note that has the next \\< or \\> assigned to it. The next hairpin will then start at the right edge of the same note instead of the usual left edge had it been terminated with \\! before.\n\n    c1\\< | c4 a c\\< a | c4 a c\\! a\\< | c4 a c a\\!\n\nHairpins that are terminated with absolute dynamic marks instead of \\! will also be engraved in a similar way. However, the length of the absolute dynamic itself can alter where the preceding hairpin ends.\n\n    c1\\< | c4 a c\\mf a | c1\\< | c4 a c\\ffff a"},{label:"\\decresc",detail:"Dynamics",documentation:"Textual crescendo marks begin with \\cresc. Textual decrescendos begin with \\decresc or \\dim. Extender lines are engraved as required.\n\n    g8\\cresc a b c b c d e\\mf |\n    f8\\decresc e d c e\\> d c b |\n    a1\\dim ~ |\n    a2. r4\\! |"},{label:"\\defaultchild",detail:"5.1.7 Context layout order",documentation:"Note that a context will be silently created implicitly if a command is encountered when there is no suitable context available to contain it.\n\nWithin a context definition, the type of subcontext to be implicitly created is specified using \\defaultchild. A number of music events require a \u2018Bottom\u2019 context: when such an event is encountered, subcontexts are created recursively until reaching a context with no \u2018defaultchild\u2019 setting.\n\nImplicit context creation can at times give rise to unexpected new staves or scores. Using \\new to create contexts explicitly avoids those problems."},{label:"\\defaultTimeSignature",detail:"Time signature",documentation:"The time signature symbol that is used in 2/2 and 4/4 time can be changed to a numeric style:\n\n    % Default style\n    \\time 4/4 c1\n    \\time 2/2 c1\n    % Change to numeric style\n    \\numericTimeSignature\n    \\time 4/4 c1\n    \\time 2/2 c1\n    % Revert to default style\n    \\defaultTimeSignature\n    \\time 4/4 c1\n    \\time 2/2 c1\n\nMensural time signatures are covered in Mensural time signatures."},{label:"\\defineBarLine",detail:"Bar lines",documentation:'New bar line types can be defined with \\defineBarLine:\n\n    \\defineBarLine bartype #\'(end begin span)\n\nThe \\defineBarline variables can include the \u2018empty\u2019 string "", which is equivalent to an invisible bar line being printed. Or they can be set to #f which prints no bar line at all.\n\nAfter the definiton, the new bar line can be used by \\bar bartype.\n\nThere are currently ten bar line elements available:\n\n    \\defineBarLine ":" #\'("" ":" "")\n    \\defineBarLine "=" #\'("=" "" "")\n    \\defineBarLine "[" #\'("" "[" "")\n    \\defineBarLine "]" #\'("]" "" "")\n    \\new Staff {\n      s1 \\bar "|"\n      s1 \\bar "."\n      s1 \\bar "!"\n      s1 \\bar ";"\n      s1 \\bar ":"\n      s1 \\bar "k"\n      s1 \\bar "S"\n      s1 \\bar "="\n      s1 \\bar "["\n      s1 \\bar "]"\n      s1 \\bar ""\n    }\n\nThe "=" bar line provides the double span bar line, used in combination with the segno sign. Do not use it as a standalone double thin bar line; here, \\bar "||" is preferred.\n\nThe "-" sign starts annotations to bar lines which are useful to distinguish those with identical appearance but different behavior at line breaks and/or different span bars. The part following the "-" sign is not used for building up the bar line.\n\n    \\defineBarLine "||-dashedSpan" #\'("||" "" "!!")\n    \\new StaffGroup <<\n      \\new Staff {\n        c1 \\bar "||"\n        c1 \\bar "||-dashedSpan"\n        c1\n      }\n      \\new Staff {\n        c1\n        c1\n        c1\n      }\n    >>\n\nFurthermore, the space character " " serves as a placeholder for defining span bars correctly aligned to the main bar lines:\n\n    \\defineBarLine ":|.-wrong" #\'(":|." "" "|.")\n    \\defineBarLine ":|.-right" #\'(":|." "" " |.")\n    \\new StaffGroup <<\n      \\new Staff {\n        c1 \\bar ":|.-wrong"\n        c1 \\bar ":|.-right"\n        c1\n      }\n      \\new Staff {\n        c1\n        c1\n        c1\n      }\n    >>\n\nIf additional elements are needed, LilyPond provides a simple way to define them. For more informations on modifying or adding bar lines, see file \u2018scm/bar-line.scm\u2019.\n\nIn scores with many staves, a \\bar command in one staff is automatically applied to all staves. The resulting bar lines are connected between different staves of a StaffGroup, PianoStaff, or GrandStaff.\n\n    <<\n      \\new StaffGroup <<\n        \\new Staff {\n          e4 d\n          \\bar "||"\n          f4 e\n        }\n        \\new Staff { \\clef bass c4 g e g }\n      >>\n      \\new Staff { \\clef bass c2 c2 }\n    >>'},{label:"\\deminutum",detail:"Gregorian square neume ligatures",documentation:""},{label:"\\deminutum",detail:"Predefined commands",documentation:""},{label:"\\denies",detail:"5.1.6 Defining new contexts",documentation:'Specific contexts, like Staff and Voice, are made from simple building blocks. It is possible to create new types of contexts with different combinations of engraver plug-ins.\n\nThe next example shows how to build a different type of Voice context from scratch. It will be similar to Voice, but only prints centered slash note heads. It can be used to indicate improvisation in jazz pieces,\n\nThese settings are defined within a \\context block inside a \\layout block,\n\n    \\layout {\n      \\context {\n        \u2026\n      }\n    }\n\nIn the following discussion, the example input shown should go in place of the \u2026 in the previous fragment.\n\nFirst it is necessary to define a name for the new context:\n\n    \\name ImproVoice\n\nSince it is similar to the Voice context, we want commands that work in (existing) Voice contexts to continue working. This is achieved by giving the new context an alias of Voice,\n\n    \\alias Voice\n\nThe context will print notes and instructive texts, so we need to add the engravers which provide this functionality, plus the engraver which groups notes, stems and rests which occur at the same musical moment into columns,\n\n    \\consists "Note_heads_engraver"\n    \\consists "Text_engraver"\n    \\consists "Rhythmic_column_engraver"\n\nThe note heads should all be placed on the center line,\n\n    \\consists "Pitch_squash_engraver"\n    squashedPosition = #0\n\nThe Pitch_squash_engraver modifies note heads (created by the Note_heads_engraver) and sets their vertical position to the value of squashedPosition, in this case\xa00, the center line.\n\nThe notes look like a slash, and have no stem,\n\n    \\override NoteHead.style = #\'slash\n    \\hide Stem\n\nAll these plug-ins have to communicate under the control of the context. The mechanisms with which contexts communicate are established by declaring the context \\type. Within a \\layout block, most contexts will be of type Engraver_group. Some special contexts and contexts in \\midi blocks use other context types. Copying and modifying an existing context definition will also fill in the type. Since this example creates a definition from scratch, it needs to be specified explicitly.\n\n    \\type "Engraver_group"\n\nPut together, we get\n\n    \\context {\n      \\name ImproVoice\n      \\type "Engraver_group"\n      \\consists "Note_heads_engraver"\n      \\consists "Text_engraver"\n      \\consists "Rhythmic_column_engraver"\n      \\consists "Pitch_squash_engraver"\n      squashedPosition = #0\n      \\override NoteHead.style = #\'slash\n      \\hide Stem\n      \\alias Voice\n    }'},{label:"\\denies",detail:"5.1.6 Defining new contexts",documentation:'The opposite of \\accepts is \\denies, which is sometimes needed when reusing existing context definitions.\n\nPutting both into a \\layout block, like\n\n    \\layout {\n      \\context {\n        \\name ImproVoice\n        \u2026\n      }\n      \\context {\n        \\Staff\n        \\accepts "ImproVoice"\n      }\n    }\n\nThen the output at the start of this subsection can be entered as\n\n    \\relative c\'\' {\n      a4 d8 bes8\n      \\new ImproVoice {\n        c4^"ad lib" c\n        c4 c^"undress"\n        c c_"while playing :)"\n      }\n      a1\n    }\n\nTo complete this example, changes affecting the context hierarchy should be repeated in a \\midi block so that Midi output depends on the same context relations.'},{label:"\\denies",detail:"5.1.7 Context layout order",documentation:"Contexts are normally positioned in a system from top to bottom in the order in which they are encountered in the input file. When contexts are nested, the outer context will include inner nested contexts as specified in the input file, provided the inner contexts are included in the outer context\u2019s \u201caccepts\u201d list. Nested contexts which are not included in the outer context\u2019s \u201caccepts\u201d list will be repositioned below the outer context rather than nested within it.\n\nThe \u201caccepts\u201d list of a context can be changed with the \\accepts or \\denies commands. \\accepts adds a context to the \u201caccepts\u201d list and \\denies removes a context from the list.\n\nFor example, a square-braced staff group is not usually found within a curved-braced staff with connecting staff bars, and a GrandStaff does not accept a StaffGroup inside it by default.\n\n    \\score {\n      \\new GrandStaff <<\n        \\new StaffGroup <<\n          \\new Staff { c'1 }\n          \\new Staff { d'1 }\n        >>\n        \\new Staff { \\set Staff.instrumentName = bottom f'1 }\n      >>\n    }\n\nHowever, by using the \\accepts command, StaffGroup can be added to the GrandStaff context:\n\n    \\score {\n      \\new GrandStaff <<\n        \\new StaffGroup <<\n          \\new Staff { c'1 }\n          \\new Staff { d'1 }\n        >>\n        \\new Staff { \\set Staff.instrumentName = bottom f'1 }\n      >>\n      \\layout {\n        \\context {\n          \\GrandStaff\n          \\accepts \"StaffGroup\"\n        }\n      }\n    }\n\n\\denies is mainly used when a new context is being based on another, but the required nesting differs. For example, the VaticanaStaff context is based on the Staff context, but with the VaticanaVoice context substituted for the Voice context in the \u201caccepts\u201d list."},{label:"\\descendens",detail:"Gregorian square neume ligatures",documentation:""},{label:"\\descendens",detail:"Predefined commands",documentation:""},{label:"\\dim",detail:"Dynamics",documentation:"Textual crescendo marks begin with \\cresc. Textual decrescendos begin with \\decresc or \\dim. Extender lines are engraved as required.\n\n    g8\\cresc a b c b c d e\\mf |\n    f8\\decresc e d c e\\> d c b |\n    a1\\dim ~ |\n    a2. r4\\! |"},{label:"\\dimHairpin",detail:"Dynamics",documentation:"Textual marks for dynamic changes can also replace hairpins:\n\n    \\crescTextCresc\n    c4\\< d e f\\! |\n    \\dimTextDecresc\n    g4\\> e d c\\! |\n    \\dimTextDecr\n    e4\\> d c b\\! |\n    \\dimTextDim\n    d4\\> c b a\\! |\n    \\crescHairpin\n    \\dimHairpin\n    c4\\< d\\! e\\> d\\! |\n\nTo create new absolute dynamic marks or text that should be aligned with dynamics, see New dynamic marks."},{label:"\\dimTextDecr",detail:"Dynamics",documentation:"Textual marks for dynamic changes can also replace hairpins:\n\n    \\crescTextCresc\n    c4\\< d e f\\! |\n    \\dimTextDecresc\n    g4\\> e d c\\! |\n    \\dimTextDecr\n    e4\\> d c b\\! |\n    \\dimTextDim\n    d4\\> c b a\\! |\n    \\crescHairpin\n    \\dimHairpin\n    c4\\< d\\! e\\> d\\! |\n\nTo create new absolute dynamic marks or text that should be aligned with dynamics, see New dynamic marks."},{label:"\\dimTextDecresc",detail:"Dynamics",documentation:"Textual marks for dynamic changes can also replace hairpins:\n\n    \\crescTextCresc\n    c4\\< d e f\\! |\n    \\dimTextDecresc\n    g4\\> e d c\\! |\n    \\dimTextDecr\n    e4\\> d c b\\! |\n    \\dimTextDim\n    d4\\> c b a\\! |\n    \\crescHairpin\n    \\dimHairpin\n    c4\\< d\\! e\\> d\\! |\n\nTo create new absolute dynamic marks or text that should be aligned with dynamics, see New dynamic marks."},{label:"\\dimTextDim",detail:"Dynamics",documentation:"Textual marks for dynamic changes can also replace hairpins:\n\n    \\crescTextCresc\n    c4\\< d e f\\! |\n    \\dimTextDecresc\n    g4\\> e d c\\! |\n    \\dimTextDecr\n    e4\\> d c b\\! |\n    \\dimTextDim\n    d4\\> c b a\\! |\n    \\crescHairpin\n    \\dimHairpin\n    c4\\< d\\! e\\> d\\! |\n\nTo create new absolute dynamic marks or text that should be aligned with dynamics, see New dynamic marks."},{label:"\\dir-column",detail:"A.10.2 Align",documentation:"Make a column of args, going up or down, depending on the setting of the direction layout property.\n\n    \\markup {\n      \\override #`(direction . ,UP) {\n        \\dir-column {\n          going up\n        }\n      }\n      \\hspace #1\n      \\dir-column {\n        going down\n      }\n      \\hspace #1\n      \\override #'(direction . 1) {\n        \\dir-column {\n          going up\n        }\n      }\n    }\n\nUsed properties:\n\n - baseline-skip\n - direction"},{label:"\\discant",detail:"A.10.6 Accordion Registers",documentation:"\\discant name generates a discant accordion register symbol.\n\nTo make it available,\n\n    #(use-modules (scm accreg))\n\nis required near the top of your input file.\n\nThe register names in the default \\discant register set have modeled after numeric Swiss notation like depicted in http://de.wikipedia.org/wiki/Register_%28Akkordeon%29, omitting the slashes and dropping leading zeros.\n\nThe string name is basically a three-digit number with the lowest digit specifying the number of 16\u2019 reeds, the tens the number of 8\u2019 reeds, and the hundreds specifying the number of 4\u2019 reeds. Without modification, the specified number of reeds in 8\u2019 is centered in the symbol. Newer instruments may have registrations where 8\u2019 can be used either within or without a tone chamber, \u2018cassotto\u2019. Notationally, the central dot then indicates use of cassotto. One can suffix the tens\u2019 digits \u20181\u2019 and \u20182\u2019 with \u2018+\u2019 or \u2018-\u2019 to indicate clustering the dots at the right or left respectively rather than centered.\n\nSome examples are\n\nUsed properties:\n\n - font-size (0)"},{label:"\\displayLilyMusic",detail:"3.6.1 Displaying LilyPond notation",documentation:"Displaying a music expression in LilyPond notation can be done with the music function \\displayLilyMusic. To see the output, you will typically want to call LilyPond using the command line. For example,\n\n    {\n      \\displayLilyMusic \\transpose c a, { c4 e g a bes }\n    }\n\nwill display\n\n    { a,4 cis e fis g }\n\nBy default, LilyPond will print these messages to the console along with all the other LilyPond compilation messages. To split up these messages and save the results of \\displayLilyMusic, redirect the output to a file.\n\n    lilypond file.ly >display.txt"},{label:"\\divisioMaior",detail:"Predefined commands",documentation:""},{label:"\\divisioMaxima",detail:"Predefined commands",documentation:""},{label:"\\divisioMinima",detail:"Predefined commands",documentation:""},{label:"\\dorian",detail:"Key signature",documentation:'Here, mode should be \\major or \\minor to get a key signature of pitch-major or pitch-minor, respectively. You may also use the standard mode names, also called church modes: \\ionian, \\dorian, \\phrygian, \\lydian, \\mixolydian, \\aeolian, and \\locrian.\n\n    \\key g \\major\n    fis1\n    f\n    fis\n\nAdditional modes can be defined, by listing the alterations for each scale step when the mode starts on C.\n\n    freygish = #`((0 . ,NATURAL) (1 . ,FLAT) (2 . ,NATURAL)\n        (3 . ,NATURAL) (4 . ,NATURAL) (5 . ,FLAT) (6 . ,FLAT))\n    \\relative c\' {\n      \\key c \\freygish c4 des e f\n      \\bar "||" \\key d \\freygish d es fis g\n    }\n\nAccidentals in the key signature may be printed in octaves other than their traditional positions, or in multiple octaves, by using the flat-positions and sharp-positions properties of KeySignature. Entries in these properties specify the range of staff-positions where accidentals will be printed. If a single position is specified in an entry, the accidentals are placed within the octave ending at that staff position.\n\n    \\override Staff.KeySignature.flat-positions = #\'((-5 . 5))\n    \\override Staff.KeyCancellation.flat-positions = #\'((-5 . 5))\n    \\clef bass \\key es \\major es g bes d\n    \\clef treble \\bar "||" \\key es \\major es g bes d\n    \\override Staff.KeySignature.sharp-positions = #\'(2)\n    \\bar "||" \\key b \\major b fis b2'},{label:"\\dotsDown",detail:"Durations",documentation:"Dots are normally moved up to avoid staff lines, except in polyphonic situations. Dots may be manually placed above or below the staff; see Direction and placement."},{label:"\\dotsNeutral",detail:"Durations",documentation:"Dots are normally moved up to avoid staff lines, except in polyphonic situations. Dots may be manually placed above or below the staff; see Direction and placement."},{label:"\\dotsUp",detail:"Durations",documentation:"Dots are normally moved up to avoid staff lines, except in polyphonic situations. Dots may be manually placed above or below the staff; see Direction and placement."},{label:"\\doubleflat",detail:"A.10.4 Music",documentation:"Draw a double flat symbol.\n\n    \\markup {\n      \\doubleflat\n    }"},{label:"\\doublesharp",detail:"A.10.4 Music",documentation:"Draw a double sharp symbol.\n\n    \\markup {\n      \\doublesharp\n    }"},{label:"\\downbow",detail:"Articulations and ornamentations",documentation:"A variety of symbols that denote articulations, ornamentations, and other performance indications can be attached to a note using this syntax:\n\n    note\\name\n\nThe possible values for name are listed in List of articulations. For example:\n\n    c4\\staccato c\\mordent b2\\turn\n    c1\\fermata"},{label:"\\downbow",detail:"Bowing indications",documentation:'Bowing indications are created as articulations, which are described in Articulations and ornamentations.\n\nThe bowing commands, \\upbow and \\downbow, are used with slurs as follows:\n\n    c4(\\downbow d) e(\\upbow f)\n\nand the following example shows three ways in which an open A string on a violin might be indicated:\n\n    a4 \\open\n    a^\\markup { \\teeny "II" }\n    a2^\\markup { \\small "sul A" }'},{label:"\\downmordent",detail:"Articulations and ornamentations",documentation:"A variety of symbols that denote articulations, ornamentations, and other performance indications can be attached to a note using this syntax:\n\n    note\\name\n\nThe possible values for name are listed in List of articulations. For example:\n\n    c4\\staccato c\\mordent b2\\turn\n    c1\\fermata"},{label:"\\downprall",detail:"Articulations and ornamentations",documentation:"A variety of symbols that denote articulations, ornamentations, and other performance indications can be attached to a note using this syntax:\n\n    note\\name\n\nThe possible values for name are listed in List of articulations. For example:\n\n    c4\\staccato c\\mordent b2\\turn\n    c1\\fermata"},{label:"\\draw-circle",detail:"Graphic notation inside markup",documentation:"Other graphic elements or symbols may be printed without requiring any text. As with any markup expression, such objects can be combined.\n\n    \\markup {\n      \\combine\n        \\draw-circle #4 #0.4 ##f\n        \\filled-box #'(-4 . 4) #'(-0.5 . 0.5) #1\n      \\hspace #5\n      \\center-column {\n        \\triangle ##t\n        \\combine\n          \\draw-line #'(0 . 4)\n          \\arrow-head #Y #DOWN ##f\n      }\n    }"},{label:"\\draw-circle",detail:"A.10.3 Graphic",documentation:"A circle of radius radius and thickness thickness, optionally filled.\n\n    \\markup {\n      \\draw-circle #2 #0.5 ##f\n      \\hspace #2\n      \\draw-circle #2 #0 ##t\n    }"},{label:"\\draw-dashed-line",detail:"A.10.3 Graphic",documentation:"A dashed line.\n\nIf full-length is set to #t (default) the dashed-line extends to the whole length given by dest, without white space at beginning or end. off will then be altered to fit. To insist on the given (or default) values of on, off use \\override #'(full-length . #f) Manual settings for on,off and phase are possible.\n\n    \\markup {\n      \\draw-dashed-line #'(5.1 . 2.3)\n      \\override #'(on . 0.3)\n      \\override #'(off . 0.5)\n      \\draw-dashed-line #'(5.1 . 2.3)\n    }\n\nUsed properties:\n\n - full-length (#t)\n - phase (0)\n - off (1)\n - on (1)\n - thickness (1)"},{label:"\\draw-dotted-line",detail:"A.10.3 Graphic",documentation:"A dotted line.\n\nThe dotted-line always extends to the whole length given by dest, without white space at beginning or end. Manual settings for off are possible to get larger or smaller space between the dots. The given (or default) value of off will be altered to fit the line-length.\n\n    \\markup {\n      \\draw-dotted-line #'(5.1 . 2.3)\n      \\override #'(thickness . 2)\n      \\override #'(off . 0.2)\n      \\draw-dotted-line #'(5.1 . 2.3)\n    }\n\nUsed properties:\n\n - phase (0)\n - off (1)\n - thickness (1)"},{label:"\\draw-hline",detail:"A.10.3 Graphic",documentation:"Draws a line across a page, where the property span-factor controls what fraction of the page is taken up.\n\n    \\markup {\n      \\column {\n        \\draw-hline\n        \\override #'(span-factor . 1/3)\n        \\draw-hline\n      }\n    }\n\nUsed properties:\n\n - span-factor (1)\n - line-width\n - draw-line-markup"},{label:"\\draw-line",detail:"Graphic notation inside markup",documentation:"Other graphic elements or symbols may be printed without requiring any text. As with any markup expression, such objects can be combined.\n\n    \\markup {\n      \\combine\n        \\draw-circle #4 #0.4 ##f\n        \\filled-box #'(-4 . 4) #'(-0.5 . 0.5) #1\n      \\hspace #5\n      \\center-column {\n        \\triangle ##t\n        \\combine\n          \\draw-line #'(0 . 4)\n          \\arrow-head #Y #DOWN ##f\n      }\n    }"},{label:"\\draw-line",detail:"A.10.3 Graphic",documentation:"A simple line.\n\n    \\markup {\n      \\draw-line #'(4 . 4)\n      \\override #'(thickness . 5)\n      \\draw-line #'(-3 . 0)\n    }\n\nUsed properties:\n\n - thickness (1)"},{label:"\\drummode",detail:"Instantiating new staves",documentation:"Staves (singular: staff) are created with the \\new or \\context commands. For details, see Creating and referencing contexts.\n\nThe basic staff context is Staff:\n\n    \\new Staff { c4 d e f }\n\nThe DrumStaff context creates a five-line staff set up for a typical drum set. Each instrument is shown with a different symbol. The instruments are entered in drum mode following a \\drummode command, with each instrument specified by name. For details, see Percussion staves.\n\n    \\new DrumStaff {\n      \\drummode { cymc hh ss tomh }\n    }\n\nRhythmicStaff creates a single-line staff that only displays the rhythmic values of the input. Real durations are preserved. For details, see Showing melody rhythms.\n\n    \\new RhythmicStaff { c4 d e f }\n\nTabStaff creates a tablature with six strings in standard guitar tuning. For details, see Default tablatures.\n\n    \\new TabStaff { c4 d e f }\n\nThere are two staff contexts specific for the notation of ancient music: MensuralStaff and VaticanaStaff. They are described in Pre-defined contexts.\n\nThe GregorianTranscriptionStaff context creates a staff to notate modern Gregorian chant. It does not show bar lines.\n\n    \\new GregorianTranscriptionStaff { c4 d e f e d }\n\nNew single staff contexts may be defined. For details, see Defining new contexts."},{label:"\\dynamic",detail:"New dynamic marks",documentation:"In markup mode, editorial dynamics (within parentheses or square brackets) can be created. The syntax for markup mode is described in Formatting text.\n\n    roundF = \\markup {\n        \\center-align \\concat { \\bold { \\italic ( }\n               \\dynamic f \\bold { \\italic ) } } }\n    boxF = \\markup { \\bracket { \\dynamic f } }\n    \\relative c' {\n      c1_\\roundF\n      c1_\\boxF\n    }"},{label:"\\dynamic",detail:"A.10.1 Font",documentation:"Use the dynamic font. This font only contains s, f, m, z, p, and r. When producing phrases, like \u2018pi\xf9\xa0f\u2019, the normal words (like \u2018pi\xf9\u2019) should be done in a different font. The recommended font for this is bold and italic.\n\n    \\markup {\n      \\dynamic {\n        sfzp\n      }\n    }"},{label:"\\dynamicDown",detail:"Dynamics",documentation:""},{label:"\\dynamicNeutral",detail:"Dynamics",documentation:""},{label:"\\dynamicUp",detail:"Dynamics",documentation:""},{label:"\\easyHeadsOff",detail:"Easy notation note heads",documentation:"The \u2018easy play\u2019 note head includes a note name inside the head. It is used in music for beginners. To make the letters readable, it should be printed in a large font size. To print with a larger font, see Setting the staff size.\n\n    #(set-global-staff-size 26)\n    \\relative c' {\n      \\easyHeadsOn\n      c2 e4 f\n      g1\n      \\easyHeadsOff\n      c,1\n    }"},{label:"\\easyHeadsOn",detail:"Easy notation note heads",documentation:"The \u2018easy play\u2019 note head includes a note name inside the head. It is used in music for beginners. To make the letters readable, it should be printed in a large font size. To print with a larger font, see Setting the staff size.\n\n    #(set-global-staff-size 26)\n    \\relative c' {\n      \\easyHeadsOn\n      c2 e4 f\n      g1\n      \\easyHeadsOff\n      c,1\n    }"},{label:"\\ellipse",detail:"A.10.3 Graphic",documentation:"Draw an ellipse around arg. Use thickness, x-padding, y-padding and font-size properties to determine line thickness and padding around the markup.\n\n    \\markup {\n      \\ellipse {\n        Hi\n      }\n    }\n\nUsed properties:\n\n - y-padding (0.2)\n - x-padding (0.2)\n - font-size (0)\n - thickness (1)"},{label:"\\epsfile",detail:"Graphic notation inside markup",documentation:'Advanced graphic features include the ability to include external image files converted to the Encapsulated PostScript format (eps), or to directly embed graphics into the input file, using native PostScript code. In such a case, it may be useful to explicitly specify the size of the drawing, as demonstrated below:\n\n    c1^\\markup {\n      \\combine\n        \\epsfile #X #10 #"./context-example.eps"\n        \\with-dimensions #\'(0 . 6) #\'(0 . 10)\n        \\postscript #"\n          -2 3 translate\n          2.7 2 scale\n          newpath\n          2 -1 moveto\n          4 -2 4 1 1 arct\n          4 2 3 3 1 arct\n          0 4 0 3 1 arct\n          0 0 1 -1 1 arct\n          closepath\n          stroke"\n      }\n    c\n\nAn exhaustive list of graphics-specific commands can be found in Graphic.'},{label:"\\epsfile",detail:"A.10.3 Graphic",documentation:'Inline an EPS image. The image is scaled along axis to size.\n\n    \\markup {\n      \\general-align #Y #DOWN {\n        \\epsfile #X #20 #"context-example.eps"\n        \\epsfile #Y #20 #"context-example.eps"\n      }\n    }'},{label:"\\espressivo",detail:"Articulations and ornamentations",documentation:"A variety of symbols that denote articulations, ornamentations, and other performance indications can be attached to a note using this syntax:\n\n    note\\name\n\nThe possible values for name are listed in List of articulations. For example:\n\n    c4\\staccato c\\mordent b2\\turn\n    c1\\fermata"},{label:"\\espressivo",detail:"Dynamics",documentation:"The \\espressivo command can be used to indicate a crescendo and decrescendo on the same note. However, be warned that this is implemented as an articulation, not a dynamic.\n\n    c2 b4 a\n    g1\\espressivo"},{label:"\\expandFullBarRests",detail:"Full measure rests",documentation:"By default a multi-measure rest is expanded in the printed score to show all the rest measures explicitly. Alternatively, a multi-measure rest can be shown as a single measure containing a multi-measure rest symbol, with the number of measures of rest printed above the measure:\n\n    % Default behavior\n    \\time 3/4 r2. | R2.*2 |\n    \\time 2/4 R2 |\n    \\time 4/4\n    % Rest measures contracted to single measure\n    \\compressFullBarRests\n    r1 | R1*17 | R1*4 |\n    % Rest measures expanded\n    \\expandFullBarRests\n    \\time 3/4\n    R2.*2 |"},{label:"\\expandFullBarRests",detail:"Full measure rests",documentation:"\\textLengthOn, \\textLengthOff, \\fermataMarkup, \\compressFullBarRests, \\expandFullBarRests."},{label:"\\eyeglasses",detail:"A.10.7 Other",documentation:"Prints out eyeglasses, indicating strongly to look at the conductor.\n\n    \\markup { \\eyeglasses }"},{label:"\\f",detail:"Dynamics",documentation:"Absolute dynamic marks are specified using a command after a note, such as c4\\ff. The available dynamic marks are \\ppppp, \\pppp, \\ppp, \\pp, \\p, \\mp, \\mf, \\f, \\ff, \\fff, \\ffff, \\fffff, \\fp, \\sf, \\sff, \\sp, \\spp, \\sfz, and \\rfz. Dynamic marks may be manually placed above or below the staff; see Direction and placement.\n\n    c2\\ppp c\\mp\n    c2\\rfz c^\\mf\n    c2_\\spp c^\\ff"},{label:"\\featherDurations",detail:"Feathered beams",documentation:"Feathered beams are used to indicate that a small group of notes should be played at an increasing (or decreasing) tempo, without changing the overall tempo of the piece. The extent of the feathered beam must be indicated manually using [ and ], and the beam feathering is turned on by specifying a direction to the Beam property grow-direction.\n\nIf the placement of the notes and the sound in the MIDI output is to reflect the ritardando or accelerando indicated by the feathered beam the notes must be grouped as a music expression delimited by braces and preceded by a featherDurations command which specifies the ratio between the durations of the first and last notes in the group.\n\nThe square brackets show the extent of the beam and the braces show which notes are to have their durations modified. Normally these would delimit the same group of notes, but this is not required: the two commands are independent.\n\nIn the following example the eight 16th notes occupy exactly the same time as a half note, but the first note is one half as long as the last one, with the intermediate notes gradually lengthening. The first four 32nd notes gradually speed up, while the last four 32nd notes are at a constant tempo.\n\n    \\override Beam.grow-direction = #LEFT\n    \\featherDurations #(ly:make-moment 2/1)\n    { c16[ c c c c c c c] }\n    \\override Beam.grow-direction = #RIGHT\n    \\featherDurations #(ly:make-moment 2/3)\n    { c32[ d e f] }\n    % revert to non-feathered beams\n    \\override Beam.grow-direction = #'()\n    { g32[ a b c] }\n\nThe spacing in the printed output represents the note durations only approximately, but the MIDI output is exact."},{label:"\\fermata",detail:"Articulations and ornamentations",documentation:"A variety of symbols that denote articulations, ornamentations, and other performance indications can be attached to a note using this syntax:\n\n    note\\name\n\nThe possible values for name are listed in List of articulations. For example:\n\n    c4\\staccato c\\mordent b2\\turn\n    c1\\fermata"},{label:"\\fermata",detail:"A.10.4 Music",documentation:"Create a fermata glyph. When direction is DOWN, use an inverted glyph. Note that within music, one would usually use the \\fermata articulation instead of a markup.\n\n     { c1^\\markup \\fermata d1_\\markup \\fermata }\n    \\markup { \\fermata \\override #`(direction . ,DOWN) \\fermata }\n\nUsed properties:\n\n - direction (1)"},{label:"\\fermataMarkup",detail:"Full measure rests",documentation:'Markups can be added to multi-measure rests. The predefined command \\fermataMarkup is provided for adding fermatas.\n\n    \\compressFullBarRests\n    \\time 3/4\n    R2.*10^\\markup { \\italic "ad lib." }\n    R2.^\\fermataMarkup\n\nNote: Markups attached to a multi-measure rest are objects of type MultiMeasureRestText, not TextScript. Overrides must be directed to the correct object, or they will be ignored. See the following example:\n\n\n\n    % This fails, as the wrong object name is specified\n    \\override TextScript.padding = #5\n    R1^"wrong"\n    % This is the correct object name to be specified\n    \\override MultiMeasureRestText.padding = #5\n    R1^"right"\n\nWhen a multi-measure rest immediately follows a \\partial setting, resulting bar-check warnings may not be displayed.'},{label:"\\fermataMarkup",detail:"Full measure rests",documentation:"\\textLengthOn, \\textLengthOff, \\fermataMarkup, \\compressFullBarRests, \\expandFullBarRests."},{label:"\\fermataMarkup",detail:"Articulations and ornamentations",documentation:"A variety of symbols that denote articulations, ornamentations, and other performance indications can be attached to a note using this syntax:\n\n    note\\name\n\nThe possible values for name are listed in List of articulations. For example:\n\n    c4\\staccato c\\mordent b2\\turn\n    c1\\fermata"},{label:"\\ff",detail:"Dynamics",documentation:"Absolute dynamic marks are specified using a command after a note, such as c4\\ff. The available dynamic marks are \\ppppp, \\pppp, \\ppp, \\pp, \\p, \\mp, \\mf, \\f, \\ff, \\fff, \\ffff, \\fffff, \\fp, \\sf, \\sff, \\sp, \\spp, \\sfz, and \\rfz. Dynamic marks may be manually placed above or below the staff; see Direction and placement.\n\n    c2\\ppp c\\mp\n    c2\\rfz c^\\mf\n    c2_\\spp c^\\ff"},{label:"\\fff",detail:"Dynamics",documentation:"Absolute dynamic marks are specified using a command after a note, such as c4\\ff. The available dynamic marks are \\ppppp, \\pppp, \\ppp, \\pp, \\p, \\mp, \\mf, \\f, \\ff, \\fff, \\ffff, \\fffff, \\fp, \\sf, \\sff, \\sp, \\spp, \\sfz, and \\rfz. Dynamic marks may be manually placed above or below the staff; see Direction and placement.\n\n    c2\\ppp c\\mp\n    c2\\rfz c^\\mf\n    c2_\\spp c^\\ff"},{label:"\\ffff",detail:"Dynamics",documentation:"Absolute dynamic marks are specified using a command after a note, such as c4\\ff. The available dynamic marks are \\ppppp, \\pppp, \\ppp, \\pp, \\p, \\mp, \\mf, \\f, \\ff, \\fff, \\ffff, \\fffff, \\fp, \\sf, \\sff, \\sp, \\spp, \\sfz, and \\rfz. Dynamic marks may be manually placed above or below the staff; see Direction and placement.\n\n    c2\\ppp c\\mp\n    c2\\rfz c^\\mf\n    c2_\\spp c^\\ff"},{label:"\\fffff",detail:"Dynamics",documentation:"Absolute dynamic marks are specified using a command after a note, such as c4\\ff. The available dynamic marks are \\ppppp, \\pppp, \\ppp, \\pp, \\p, \\mp, \\mf, \\f, \\ff, \\fff, \\ffff, \\fffff, \\fp, \\sf, \\sff, \\sp, \\spp, \\sfz, and \\rfz. Dynamic marks may be manually placed above or below the staff; see Direction and placement.\n\n    c2\\ppp c\\mp\n    c2\\rfz c^\\mf\n    c2_\\spp c^\\ff"},{label:"\\fill-line",detail:"Text alignment",documentation:'Similarly, a list of elements or expressions may be spread to fill the entire horizontal line width (if there is only one element, it will be centered on the page). These expressions can, in turn, include multi-line text or any other markup expression:\n\n    \\markup {\n      \\fill-line {\n        \\line { William S. Gilbert }\n        \\center-column {\n          \\huge \\smallCaps "The Mikado"\n          or\n          \\smallCaps "The Town of Titipu"\n        }\n        \\line { Sir Arthur Sullivan }\n      }\n    }\n    \\markup {\n      \\fill-line { 1885 }\n    }'},{label:"\\fill-line",detail:"A.10.2 Align",documentation:"Put markups in a horizontal line of width line-width. The markups are spaced or flushed to fill the entire line. If there are no arguments, return an empty stencil.\n\n    \\markup {\n      \\column {\n        \\fill-line {\n          Words evenly spaced across the page\n        }\n        \\null\n        \\fill-line {\n          \\line { Text markups }\n          \\line {\n            \\italic { evenly spaced }\n          }\n          \\line { across the page }\n        }\n      }\n    }\n\nUsed properties:\n\n - line-width (#f)\n - word-space (0.6)\n - text-direction (1)"},{label:"\\fill-with-pattern",detail:"A.10.2 Align",documentation:'Put left and right in a horizontal line of width line-width with a line of markups pattern in between. Patterns are spaced apart by space. Patterns are aligned to the dir markup.\n\n    \\markup \\column {\n      "right-aligned :"\n      \\fill-with-pattern #1 #RIGHT . first right\n      \\fill-with-pattern #1 #RIGHT . second right\n      \\null\n      "center-aligned :"\n      \\fill-with-pattern #1.5 #CENTER - left right\n      \\null\n      "left-aligned :"\n      \\override #\'(line-width . 50)\n      \\fill-with-pattern #2 #LEFT : left first\n      \\override #\'(line-width . 50)\n      \\fill-with-pattern #2 #LEFT : left second\n    }\n\nUsed properties:\n\n - line-width\n - word-space'},{label:"\\filled-box",detail:"Graphic notation inside markup",documentation:"Other graphic elements or symbols may be printed without requiring any text. As with any markup expression, such objects can be combined.\n\n    \\markup {\n      \\combine\n        \\draw-circle #4 #0.4 ##f\n        \\filled-box #'(-4 . 4) #'(-0.5 . 0.5) #1\n      \\hspace #5\n      \\center-column {\n        \\triangle ##t\n        \\combine\n          \\draw-line #'(0 . 4)\n          \\arrow-head #Y #DOWN ##f\n      }\n    }"},{label:"\\filled-box",detail:"A.10.3 Graphic",documentation:"Draw a box with rounded corners of dimensions xext and yext. For example,\n\n\\filled-box #'(-.3 . 1.8) #'(-.3 . 1.8) #0\n\n\ncreates a box extending horizontally from -0.3 to 1.8 and vertically from -0.3 up to 1.8, with corners formed from a circle of diameter\xa00 (i.e., sharp corners).\n\n    \\markup {\n      \\filled-box #'(0 . 4) #'(0 . 4) #0\n      \\filled-box #'(0 . 2) #'(-4 . 2) #0.4\n      \\filled-box #'(1 . 8) #'(0 . 7) #0.2\n      \\with-color #white\n      \\filled-box #'(-4.5 . -2.5) #'(3.5 . 5.5) #0.7\n    }"},{label:"\\finalis",detail:"Predefined commands",documentation:""},{label:"\\finger",detail:"Fingering instructions",documentation:'Fingering instructions can be entered using \u2018note-digit\u2019:\n\n    c4-1 d-2 f-4 e-3\n\nMarkup texts or strings may be used for finger changes.\n\n    c4-1 d-2 f\\finger \\markup \\tied-lyric #"4~3" c\\finger "2 - 3"'},{label:"\\finger",detail:"A.10.1 Font",documentation:"Set arg as small numbers.\n\n    \\markup {\n      \\finger {\n        1 2 3 4 5\n      }\n    }"},{label:"\\flageolet",detail:"Articulations and ornamentations",documentation:"A variety of symbols that denote articulations, ornamentations, and other performance indications can be attached to a note using this syntax:\n\n    note\\name\n\nThe possible values for name are listed in List of articulations. For example:\n\n    c4\\staccato c\\mordent b2\\turn\n    c1\\fermata"},{label:"\\flat",detail:"A.10.4 Music",documentation:"Draw a flat symbol.\n\n    \\markup {\n      \\flat\n    }"},{label:"\\flexa",detail:"Predefined commands",documentation:"Two adjacent heads can be tied together with the \\pes and \\flexa infix commands for a rising and falling line of melody, respectively."},{label:"\\fontCaps",detail:"A.10.1 Font",documentation:"Set font-shape to caps\n\nNote: \\fontCaps requires the installation and selection of fonts which support the caps font shape."},{label:"\\fontsize",detail:"Selecting font and font size",documentation:"The font size can be altered, relative to the global staff size, in a number of different ways\n\nIt can be set to predefined size,\n\n    b1_\\markup { \\huge Sinfonia }\n    b1^\\markup { \\teeny da }\n    b1-\\markup { \\normalsize camera }\n\nIt can be set relative to its previous value,\n\n    b1_\\markup { \\larger Sinfonia }\n    b1^\\markup { \\smaller da }\n    b1-\\markup { \\magnify #0.6  camera }\n\nIt can be increased or decreased relative to the value set by the global staff size,\n\n    b1_\\markup { \\fontsize #-2 Sinfonia }\n    b1^\\markup { \\fontsize #1 da }\n    b1-\\markup { \\fontsize #3 camera }\n\nIt can also be set to a fixed point-size, regardless of the global staff size,\n\n    b1_\\markup { \\abs-fontsize #20 Sinfonia }\n    b1^\\markup { \\abs-fontsize #8 da }\n    b1-\\markup { \\abs-fontsize #14 camera }"},{label:"\\fontsize",detail:"A.10.1 Font",documentation:"Add increment to the font-size. Adjusts baseline-skip accordingly.\n\n    \\markup {\n      default\n      \\hspace #2\n      \\fontsize #-1.5\n      smaller\n    }\n\nUsed properties:\n\n - baseline-skip (2)\n - word-space (1)\n - font-size (0)"},{label:"\\footnote",detail:"Footnotes in music expressions",documentation:"Footnotes in music expressions fall into two categories:\n\nEvent-based footnotes\nare attached to a particular event. Examples for such events are single notes, articulations (like fingering indications, accents, dynamics), and post-events (like slurs and manual beams). The general form for event-based footnotes is as follows:\n\n[direction] \\footnote [mark] offset footnote music\nTime-based footnotes\nare bound to a particular point of time in a musical context. Some commands like \\time and \\clef don\u2019t actually use events for creating objects like time signatures and clefs. Neither does a chord create an event of its own: its stem or flag is created at the end of a time step (nominally through one of the note events inside). Exactly which of a chord\u2019s multiple note events will be deemed the root cause of a stem or flag is undefined. So for annotating those, time-based footnotes are preferable as well.\n\nA time-based footnote allows such layout objects to be annotated without referring to an event. The general form for Time-based footnotes is:\n\n\\footnote [mark] offset footnote [Context].GrobName\n\n\nThe elements for both forms are:\n\ndirection\nIf (and only if) the \\footnote is being applied to a post-event or articulation, it must be preceded with a direction indicator (-, _, ^) in order to attach music (with a footnote mark) to the preceding note or rest.\n\nmark\nis a markup or string specifying the footnote mark which is used for marking both the reference point and the footnote itself at the bottom of the page. It may be omitted (or equivalently replaced with \\default) in which case a number in sequence will be generated automatically. Such numerical sequences restart on each page containing a footnote.\n\noffset\nis a number pair such as \u2018#(2 . 1)\u2019 specifying the X and Y\xa0offsets in units of staff-spaces from the boundary of the object where the mark should be placed. Positive values of the offsets are taken from the right/top edge, negative values from the left/bottom edge and zero implies the mark is centered on the edge.\n\nContext\nis the context in which the grob being footnoted is created. It may be omitted if the grob is in a bottom context, e.g. a Voice context.\n\nGrobName\nspecifies a type of grob to mark (like \u2018Flag\u2019). If it is specified, the footnote is not attached to a music expression in particular, but rather to all grobs of the type specified which occur at that moment of musical time.\n\nfootnote\nis the markup or string specifying the footnote text to use at the bottom of the page.\n\nmusic\nis the music event or post-event or articulation that is being annotated.\n\n"},{label:"\\footnote",detail:"A.10.7 Other",documentation:"Have footnote note act as an annotation to the markup mkup.\n\n    \\markup {\n      \\auto-footnote a b\n      \\override #'(padding . 0.2)\n      \\auto-footnote c d\n    }\n\nThe footnote will not be annotated automatically."},{label:"\\fp",detail:"Dynamics",documentation:"Absolute dynamic marks are specified using a command after a note, such as c4\\ff. The available dynamic marks are \\ppppp, \\pppp, \\ppp, \\pp, \\p, \\mp, \\mf, \\f, \\ff, \\fff, \\ffff, \\fffff, \\fp, \\sf, \\sff, \\sp, \\spp, \\sfz, and \\rfz. Dynamic marks may be manually placed above or below the staff; see Direction and placement.\n\n    c2\\ppp c\\mp\n    c2\\rfz c^\\mf\n    c2_\\spp c^\\ff"},{label:"\\fraction",detail:"A.10.7 Other",documentation:"Make a fraction of two markups.\n\n    \\markup {\n      \u03c0 \u2248\n      \\fraction 355 113\n    }\n\nUsed properties:\n\n - font-size (0)"},{label:"\\freeBass",detail:"A.10.6 Accordion Registers",documentation:"\\freeBass name generates a free bass/converter accordion register symbol for the usual two-reed layout.\n\nTo make it available,\n\n    #(use-modules (scm accreg))\n\nis required near the top of your input file.\n\nAvailable registrations are\n\nUsed properties:\n\n - font-size (0)"},{label:"\\frenchChords",detail:"Predefined commands",documentation:""},{label:"\\fret-diagram",detail:"Fret diagram markups",documentation:'The size of the fret diagram, and the number of frets in the diagram can be changed in the fret-diagram markup string.\n\n    <<\n      \\new ChordNames {\n         \\chordmode {\n           f1 g\n         }\n      }\n      \\new Staff {\n        \\clef "treble_8"\n        <f, c f a c\' f\'>1^\\markup {\n          \\fret-diagram #"s:1.5;c:6-1-1;6-1;5-3;4-3;3-2;2-1;1-1;"\n        }\n        <g, b, d g b g\'>1^\\markup {\n          \\fret-diagram #"h:6;6-3;5-2;4-o;3-o;2-o;1-3;"\n        }\n      }\n    >>\n\nThe number of strings in a fret diagram can be changed to accommodate different instruments such as banjos and ukuleles with the fret-diagram markup string.\n\n    <<\n      \\new ChordNames {\n        \\chordmode {\n          a1\n        }\n      }\n      \\new Staff {\n        % An \'A\' chord for ukulele\n        a\'1^\\markup {\n          \\fret-diagram #"w:4;4-2-2;3-1-1;2-o;1-o;"\n        }\n      }\n    >>\n\nFingering indications can be added, and the location of fingering labels can be controlled by the fret-diagram markup string.\n\n    <<\n      \\new ChordNames {\n        \\chordmode {\n          c1 d:m\n        }\n      }\n      \\new Staff {\n        \\clef "treble_8"\n        <c e g c\' e\'>1^\\markup {\n          \\fret-diagram #"f:1;6-x;5-3-3;4-2-2;3-o;2-1-1;1-o;"\n        }\n        <d a d\' f\'>1^\\markup {\n          \\fret-diagram #"f:2;6-x;5-x;4-o;3-2-2;2-3-3;1-1-1;"\n        }\n      }\n    >>\n\nDot radius and dot position can be controlled with the fret-diagram markup string.\n\n    <<\n      \\new ChordNames {\n        \\chordmode {\n          c1 d:m\n        }\n      }\n      \\new Staff {\n        \\clef "treble_8"\n        <c e g c\' e\'>1^\\markup {\n          \\fret-diagram #"d:0.35;6-x;5-3;4-2;3-o;2-1;1-o;"\n        }\n        <d a d\' f\'>1^\\markup {\n          \\fret-diagram #"p:0.2;6-x;5-x;4-o;3-2;2-3;1-1;"\n        }\n      }\n    >>'},{label:"\\fret-diagram",detail:"A.10.5 Instrument Specific Markup",documentation:'Make a (guitar) fret diagram. For example, say\n\n    \\markup \\fret-diagram #"s:0.75;6-x;5-x;4-o;3-2;2-3;1-2;"\n\nfor fret spacing 3/4 of staff space, D chord diagram\n\nSyntax rules for definition-string:\n\n - - Diagram items are separated by semicolons.\n - - Possible items:\ns:number \u2013 Set the fret spacing of the diagram (in staff spaces). Default:\xa01.\nt:number \u2013 Set the line thickness (relative to normal line thickness). Default:\xa00.5.\nh:number \u2013 Set the height of the diagram in frets. Default:\xa04.\nw:number \u2013 Set the width of the diagram in strings. Default:\xa06.\nf:number \u2013 Set fingering label type (0\xa0= none, 1\xa0= in circle on string, 2\xa0= below string). Default:\xa00.\nd:number \u2013 Set radius of dot, in terms of fret spacing. Default:\xa00.25.\np:number \u2013 Set the position of the dot in the fret space. 0.5 is centered; 1\xa0is on lower fret bar, 0\xa0is on upper fret bar. Default:\xa00.6.\nc:string1-string2-fret \u2013 Include a barre mark from string1 to string2 on fret.\nstring-fret \u2013 Place a dot on string at fret. If fret is \u2018o\u2019, string is identified as open. If fret is \u2018x\u2019, string is identified as muted.\nstring-fret-fingering \u2013 Place a dot on string at fret, and label with fingering as defined by the f: code.\n\n - - Note: There is no limit to the number of fret indications per string.\n\nUsed properties:\n\n - thickness (0.5)\n - fret-diagram-details\n - size (1.0)\n - align-dir (-0.4)'},{label:"\\fret-diagram-terse",detail:"Fret diagram markups",documentation:'The fret-diagram-terse markup string omits string numbers; the string number is implied by the presence of semicolons. There is one semicolon for each string in the diagram. The first semicolon corresponds to the highest string number and the last semicolon corresponds to the first string. Mute strings, open strings, and fret numbers can be indicated.\n\n    <<\n      \\new ChordNames {\n        \\chordmode {\n          c1 d:m\n        }\n      }\n      \\new Staff {\n        \\clef "treble_8"\n        <c e g c\' e\'>1^\\markup {\n          \\fret-diagram-terse #"x;3;2;o;1;o;"\n        }\n        <d a d\' f\'>1^\\markup {\n          \\fret-diagram-terse #"x;x;o;2;3;1;"\n        }\n      }\n    >>\n\nBarre indicators can be included in the fret-diagram-terse markup string.\n\n    <<\n      \\new ChordNames {\n        \\chordmode {\n          f1 g\n        }\n      }\n      \\new Staff {\n        \\clef "treble_8"\n        <f, c f a c\' f\'>1^\\markup {\n          \\fret-diagram-terse #"1-(;3;3;2;1;1-);"\n        }\n        <g, d g b d\' g\'>1^\\markup {\n          \\fret-diagram-terse #"3-(;5;5;4;3;3-);"\n        }\n      }\n    >>\n\nFingering indications can be included in the fret-diagram-terse markup string.\n\n    <<\n      \\new ChordNames {\n        \\chordmode {\n          c1 d:m\n        }\n      }\n      \\new Staff {\n        \\override Voice.TextScript.fret-diagram-details.finger-code = #\'below-string\n        \\clef "treble_8"\n        <c e g c\' e\'>1^\\markup {\n          \\fret-diagram-terse #"x;3-3;2-2;o;1-1;o;"\n        }\n        <d a d\' f\'>1^\\markup {\n          \\fret-diagram-terse #"x;x;o;2-2;3-3;1-1;"\n        }\n      }\n    >>\n\nOther fret diagram properties must be adjusted using \\override when using the fret-diagram-terse markup.'},{label:"\\fret-diagram-terse",detail:"A.10.5 Instrument Specific Markup",documentation:'Make a fret diagram markup using terse string-based syntax.\n\nHere is an example\n\n    \\markup \\fret-diagram-terse #"x;x;o;2;3;2;"\n\nfor a D\xa0chord diagram.\n\nSyntax rules for definition-string:\n\n - Strings are terminated by semicolons; the number of semicolons is the number of strings in the diagram.\n - Mute strings are indicated by \u2018x\u2019.\n - Open strings are indicated by \u2018o\u2019.\n - A number indicates a fret indication at that fret.\n - If there are multiple fret indicators desired on a string, they should be separated by spaces.\n - Fingerings are given by following the fret number with a -, followed by the finger indicator, e.g. \u20183-2\u2019 for playing the third fret with the second finger.\n - Where a barre indicator is desired, follow the fret (or fingering) symbol with -( to start a barre and -) to end the barre.\n\nUsed properties:\n\n - thickness (0.5)\n - fret-diagram-details\n - size (1.0)\n - align-dir (-0.4)'},{label:"\\fret-diagram-verbose",detail:"Fret diagram markups",documentation:"The fret-diagram-verbose markup string is in the format of a Scheme list. Each element of the list indicates an item to be placed on the fret diagram.\n\n    <<\n        \\new ChordNames {\n          \\chordmode {\n            c1 d:m\n          }\n        }\n      \\new Staff {\n        \\clef \"treble_8\"\n        <c e g c' e'>1^\\markup {\n          \\fret-diagram-verbose #'(\n            (mute 6)\n            (place-fret 5 3)\n            (place-fret 4 2)\n            (open 3)\n            (place-fret 2 1)\n            (open 1)\n          )\n        }\n        <d a d' f'>1^\\markup {\n          \\fret-diagram-verbose #'(\n            (mute 6)\n            (mute 5)\n            (open 4)\n            (place-fret 3 2)\n            (place-fret 2 3)\n            (place-fret 1 1)\n          )\n        }\n      }\n    >>\n\nFingering indications and barres can be included in a fret-diagram-verbose markup string. Unique to the fret-diagram-verbose interface is a capo indication that can be placed on the fret diagram. The capo indication is a thick bar that covers all strings. The fret with the capo will be the lowest fret in the fret diagram.\n\n    <<\n        \\new ChordNames {\n          \\chordmode {\n            f1 g c\n          }\n        }\n      \\new Staff {\n        \\clef \"treble_8\"\n        \\override Voice.TextScript.fret-diagram-details.finger-code = #'below-string\n        <f, c f a c' f'>1^\\markup {\n          \\fret-diagram-verbose #'(\n            (place-fret 6 1)\n            (place-fret 5 3)\n            (place-fret 4 3)\n            (place-fret 3 2)\n            (place-fret 2 1)\n            (place-fret 1 1)\n            (barre 6 1 1)\n          )\n        }\n        <g, b, d g b g'>1^\\markup {\n          \\fret-diagram-verbose #'(\n            (place-fret 6 3 2)\n            (place-fret 5 2 1)\n            (open 4)\n            (open 3)\n            (open 2)\n            (place-fret 1 3 3)\n          )\n        }\n        <c g c' e' g'>1^\\markup {\n          \\fret-diagram-verbose #'(\n            (capo 3)\n            (mute 6)\n            (place-fret 4 5 1)\n            (place-fret 3 5 2)\n            (place-fret 2 5 3)\n          )\n        }\n      }\n    >>\n\nAll other fret diagram properties must be adjusted using \\override when using the fret-diagram-verbose markup."},{label:"\\fret-diagram-verbose",detail:"A.10.5 Instrument Specific Markup",documentation:"Make a fret diagram containing the symbols indicated in marking-list.\n\nFor example,\n\n    \\markup \\fret-diagram-verbose\n      #'((mute 6) (mute 5) (open 4)\n         (place-fret 3 2) (place-fret 2 3) (place-fret 1 2))\n\nproduces a standard D\xa0chord diagram without fingering indications.\n\nPossible elements in marking-list:\n\n(mute string-number)\nPlace a small \u2018x\u2019 at the top of string string-number.\n\n(open string-number)\nPlace a small \u2018o\u2019 at the top of string string-number.\n\n(barre start-string end-string fret-number)\nPlace a barre indicator (much like a tie) from string start-string to string end-string at fret fret-number.\n\n(capo fret-number)\nPlace a capo indicator (a large solid bar) across the entire fretboard at fret location fret-number. Also, set fret fret-number to be the lowest fret on the fret diagram.\n\n(place-fret string-number fret-number [finger-value [color-modifier]])\nPlace a fret playing indication on string string-number at fret fret-number with an optional fingering label finger-value, and an optional color modifier color-modifier. By default, the fret playing indicator is a solid dot. This can be globally changed by setting the value of the variable dot-color. Setting color-modifier to inverted inverts the dot color for a specific fingering. If the finger part of the place-fret element is present, finger-value will be displayed according to the setting of the variable finger-code. There is no limit to the number of fret indications per string.\n\n\n\nUsed properties:\n\n - thickness (0.5)\n - fret-diagram-details\n - size (1.0)\n - align-dir (-0.4)"},{label:"\\fromproperty",detail:"A.10.7 Other",documentation:'Read the symbol from property settings, and produce a stencil from the markup contained within. If symbol is not defined, it returns an empty markup.\n\n    \\header {\n      myTitle = "myTitle"\n      title = \\markup {\n        from\n        \\italic\n        \\fromproperty #\'header:myTitle\n      }\n    }\n    \\markup {\n      \\null\n    }'},{label:"\\funkHeads",detail:"Shape note heads",documentation:"In shape note head notation, the shape of the note head corresponds to the harmonic function of a note in the scale. This notation was popular in nineteenth-century American song books. Shape note heads can be produced in Sacred Harp, Southern Harmony, Funk (Harmonica Sacra), Walker, and Aiken (Christian Harmony) styles:\n\n    \\aikenHeads\n    c, d e f g2 a b1 c \\break\n    \\sacredHarpHeads\n    c,4 d e f g2 a b1 c \\break\n    \\southernHarmonyHeads\n    c,4 d e f g2 a b1 c \\break\n    \\funkHeads\n    c,4 d e f g2 a b1 c \\break\n    \\walkerHeads\n    c,4 d e f g2 a b1 c \\break"},{label:"\\funkHeadsMinor",detail:"Shape note heads",documentation:"Shapes are typeset according to the step in the scale, where the base of the scale is determined by the \\key command. When writing in a minor key, the scale step can be determined from the relative major:\n\n    \\key a \\minor\n    \\aikenHeads\n    a b c d e2 f g1 a \\break\n    \\aikenHeadsMinor\n    a,4 b c d e2 f g1 a \\break\n    \\sacredHarpHeadsMinor\n    a,2 b c d \\break\n    \\southernHarmonyHeadsMinor\n    a2 b c d \\break\n    \\funkHeadsMinor\n    a2 b c d \\break\n    \\walkerHeadsMinor\n    a2 b c d \\break"},{label:"\\general-align",detail:"Text alignment",documentation:'Some commands can affect both the horizontal and vertical alignment of text objects in markup mode. Any object affected by these commands must be preceded with an anchor point:\n\n    d2^\\markup {\n      Acte I\n      \\translate #\'(-1 . 2) "Sc\xe8ne 1"\n    }\n    a\'\n    g_\\markup {\n      \\null\n      \\general-align #Y #3.2 \\bold "Tr\xe8s mod\xe9r\xe9"\n    }\n    a\n    d,^\\markup {\n      \\null\n      \\translate-scaled #\'(-1 . 2) \\teeny "Une for\xeat."\n    }\n    a\'4 a g2 a'},{label:"\\general-align",detail:"A.10.2 Align",documentation:"Align arg in axis direction to the dir side.\n\n    \\markup {\n      \\column {\n        one\n        \\general-align #X #LEFT\n        two\n        three\n        \\null\n        one\n        \\general-align #X #CENTER\n        two\n        three\n        \\null\n        \\line {\n          one\n          \\general-align #Y #UP\n          two\n          three\n        }\n        \\null\n        \\line {\n          one\n          \\general-align #Y #3.2\n          two\n          three\n        }\n      }\n    }"},{label:"\\germanChords",detail:"Predefined commands",documentation:""},{label:"\\glissando",detail:"Glissando",documentation:"A glissando is created by appending \\glissando to a note:\n\n    g2\\glissando g'\n    c2\\glissando c,\n    \\afterGrace f,1\\glissando f'16\n\nA glissando can connect notes across staves:\n\n    \\new PianoStaff <<\n      \\new Staff = \"right\" {\n        e'''2\\glissando\n        \\change Staff = \"left\"\n        a,,4\\glissando\n        \\change Staff = \"right\"\n        b''8 r |\n      }\n      \\new Staff = \"left\" {\n        \\clef bass\n        s1\n      }\n    >>\n\nA glissando can connect notes in chords. If anything other than a direct one-to-one pairing of the notes in the two chords is required the connections between the notes are defined by setting \\glissandoMap, where the notes of a chord are assumed to be numbered from zero in the order in which they appear in the input \u2018.ly\u2019 file.\n\n    <c, e>1\\glissando g' |\n    <c, e>1\\glissando |\n    <g' b> |\n    \\break\n    \\set glissandoMap = #'((0 . 1) (1 . 0))\n    <c, g'>1\\glissando |\n    <d a'> |\n    \\set glissandoMap = #'((0 . 0) (0 . 1) (0 . 2))\n    c1\\glissando |\n    <d f a> |\n    \\set glissandoMap = #'((2 . 0) (1 . 0) (0 . 1))\n    <f d a'>1\\glissando |\n    <c c'> |\n\nDifferent styles of glissandi can be created. For details, see Line styles."},{label:"\\grace",detail:"Grace notes",documentation:"Grace notes are musical ornaments, printed in a smaller font, that take up no additional logical time in a measure.\n\n    c4 \\grace b16 a4(\n    \\grace { b16 c16 } a2)\n\nThere are three other types of grace notes possible; the acciaccatura \u2013 an unmeasured grace note indicated by a slurred note with a slashed stem \u2013 and the appoggiatura, which takes a fixed fraction of the main note it is attached to and prints without the slash. It is also possible to write a grace note with a slashed stem, like the acciaccatura but without the slur, so as to place it between notes that are slurred themselves, using the \\slashedGrace function.\n\n    \\acciaccatura d8 c4\n    \\appoggiatura e8 d4\n    \\acciaccatura { g16 f } e2\n    \\slashedGrace a,8 g4\n    \\slashedGrace b16 a4(\n    \\slashedGrace b8 a2)\n\nThe placement of grace notes is synchronized between different staves. In the following example, there are two sixteenth grace notes for every eighth grace note\n\n    <<\n      \\new Staff { e2 \\grace { c16 d e f } e2 }\n      \\new Staff { c2 \\grace { g8 b } c2 }\n    >>"},{label:"\\halfopen",detail:"Articulations and ornamentations",documentation:"A variety of symbols that denote articulations, ornamentations, and other performance indications can be attached to a note using this syntax:\n\n    note\\name\n\nThe possible values for name are listed in List of articulations. For example:\n\n    c4\\staccato c\\mordent b2\\turn\n    c1\\fermata"},{label:"\\halign",detail:"Text alignment",documentation:"Horizontal alignment may be fine-tuned using a numeric value:\n\n    a1-\\markup { \\halign #-1 poco }\n    e'\n    a,-\\markup { \\halign #0 poco }\n    e'\n    a,-\\markup { \\halign #0.5 poco }\n    e'\n    a,-\\markup { \\halign #2 poco }\n\nSome objects may have alignment procedures of their own, and therefore are not affected by these commands. It is possible to move such markup objects as a whole, as shown for instance in Text marks."},{label:"\\halign",detail:"A.10.2 Align",documentation:"Set horizontal alignment. If dir is -1, then it is left-aligned, while +1 is right. Values in between interpolate alignment accordingly.\n\n    \\markup {\n      \\column {\n        one\n        \\halign #LEFT\n        two\n        three\n        \\null\n        one\n        \\halign #CENTER\n        two\n        three\n        \\null\n        one\n        \\halign #RIGHT\n        two\n        three\n        \\null\n        one\n        \\halign #-5\n        two\n        three\n      }\n    }"},{label:"\\harmonic",detail:"Harmonics",documentation:"Natural harmonics"},{label:"\\harmonic",detail:"Default tablatures",documentation:"Harmonic indications can be added to tablature notation as sounding pitches:\n\n    \\layout { \\omit Voice.StringNumber }\n    firstHarmonic = {\n      d'4\\4\\harmonic\n      g'4\\3\\harmonic\n      b'2\\2\\harmonic\n    }\n    \\score {\n      <<\n        \\new Staff {\n          \\clef \"treble_8\"\n          \\firstHarmonic\n        }\n        \\new TabStaff { \\firstHarmonic }\n      >>\n    }\n\nNote that the command \\harmonic must always be attached to single notes (possibly inside of a chord) instead of whole chords. It only makes sense for open-string harmonics in the 12th fret. All other harmonics should be calculated by LilyPond. This can be achieved by indicating the fret where a finger of the fretting hand should touch a string.\n\n    fretHarmonics = {\n      \\harmonicByFret #5 d16\\4\n      \\harmonicByFret #4 d16\\4\n      \\harmonicByFret #3 d8\\4\n      \\harmonicByFret #5 <g\\3 b\\2>2.\n    }\n    \\score {\n      <<\n        \\new Staff {\n          \\clef \"treble_8\"\n          \\fretHarmonics\n        }\n        \\new TabStaff { \\fretHarmonics }\n      >>\n    }\n\nAlternatively, harmonics can be computed by defining the ratio of string lengths above and below the harmonic fingering.\n\n    ratioHarmonics = {\n      \\harmonicByRatio #1/2 <g\\3 b\\2 e'\\1>4\n      \\harmonicByRatio #1/3 <g\\3 b\\2 e'\\1>4\n      \\harmonicByRatio #1/4 { g8\\3 b8\\2 e'4\\1 }\n    }\n    \\score {\n      <<\n        \\new Staff {\n          \\clef \"treble_8\"\n          \\ratioHarmonics\n        }\n        \\new TabStaff { \\ratioHarmonics }\n      >>\n    }"},{label:"\\harmonicByFret",detail:"Default tablatures",documentation:"Harmonic indications can be added to tablature notation as sounding pitches:\n\n    \\layout { \\omit Voice.StringNumber }\n    firstHarmonic = {\n      d'4\\4\\harmonic\n      g'4\\3\\harmonic\n      b'2\\2\\harmonic\n    }\n    \\score {\n      <<\n        \\new Staff {\n          \\clef \"treble_8\"\n          \\firstHarmonic\n        }\n        \\new TabStaff { \\firstHarmonic }\n      >>\n    }\n\nNote that the command \\harmonic must always be attached to single notes (possibly inside of a chord) instead of whole chords. It only makes sense for open-string harmonics in the 12th fret. All other harmonics should be calculated by LilyPond. This can be achieved by indicating the fret where a finger of the fretting hand should touch a string.\n\n    fretHarmonics = {\n      \\harmonicByFret #5 d16\\4\n      \\harmonicByFret #4 d16\\4\n      \\harmonicByFret #3 d8\\4\n      \\harmonicByFret #5 <g\\3 b\\2>2.\n    }\n    \\score {\n      <<\n        \\new Staff {\n          \\clef \"treble_8\"\n          \\fretHarmonics\n        }\n        \\new TabStaff { \\fretHarmonics }\n      >>\n    }\n\nAlternatively, harmonics can be computed by defining the ratio of string lengths above and below the harmonic fingering.\n\n    ratioHarmonics = {\n      \\harmonicByRatio #1/2 <g\\3 b\\2 e'\\1>4\n      \\harmonicByRatio #1/3 <g\\3 b\\2 e'\\1>4\n      \\harmonicByRatio #1/4 { g8\\3 b8\\2 e'4\\1 }\n    }\n    \\score {\n      <<\n        \\new Staff {\n          \\clef \"treble_8\"\n          \\ratioHarmonics\n        }\n        \\new TabStaff { \\ratioHarmonics }\n      >>\n    }"},{label:"\\harmonicByRatio",detail:"Default tablatures",documentation:"Harmonic indications can be added to tablature notation as sounding pitches:\n\n    \\layout { \\omit Voice.StringNumber }\n    firstHarmonic = {\n      d'4\\4\\harmonic\n      g'4\\3\\harmonic\n      b'2\\2\\harmonic\n    }\n    \\score {\n      <<\n        \\new Staff {\n          \\clef \"treble_8\"\n          \\firstHarmonic\n        }\n        \\new TabStaff { \\firstHarmonic }\n      >>\n    }\n\nNote that the command \\harmonic must always be attached to single notes (possibly inside of a chord) instead of whole chords. It only makes sense for open-string harmonics in the 12th fret. All other harmonics should be calculated by LilyPond. This can be achieved by indicating the fret where a finger of the fretting hand should touch a string.\n\n    fretHarmonics = {\n      \\harmonicByFret #5 d16\\4\n      \\harmonicByFret #4 d16\\4\n      \\harmonicByFret #3 d8\\4\n      \\harmonicByFret #5 <g\\3 b\\2>2.\n    }\n    \\score {\n      <<\n        \\new Staff {\n          \\clef \"treble_8\"\n          \\fretHarmonics\n        }\n        \\new TabStaff { \\fretHarmonics }\n      >>\n    }\n\nAlternatively, harmonics can be computed by defining the ratio of string lengths above and below the harmonic fingering.\n\n    ratioHarmonics = {\n      \\harmonicByRatio #1/2 <g\\3 b\\2 e'\\1>4\n      \\harmonicByRatio #1/3 <g\\3 b\\2 e'\\1>4\n      \\harmonicByRatio #1/4 { g8\\3 b8\\2 e'4\\1 }\n    }\n    \\score {\n      <<\n        \\new Staff {\n          \\clef \"treble_8\"\n          \\ratioHarmonics\n        }\n        \\new TabStaff { \\ratioHarmonics }\n      >>\n    }"},{label:"\\harmonicsOff",detail:"Harmonics",documentation:"Natural harmonics can be notated in several ways. A diamond-shaped note head generally means to touch the string where you would stop the note if it were not a diamond.\n\n    d4 e4.\n    \\harmonicsOn\n    d8 e e\n    d4 e4.\n    \\harmonicsOff\n    d8 e e\n\nAlternatively a normal note head is shown at the pitch to be sounded together with a small circle to indicate it should be played as a harmonic:\n\n    d2^\\flageolet d_\\flageolet\n\nA smaller circle may be created, see the snippet list in References for unfretted strings.\n\nArtificial harmonics"},{label:"\\harmonicsOn",detail:"Harmonics",documentation:"Natural harmonics can be notated in several ways. A diamond-shaped note head generally means to touch the string where you would stop the note if it were not a diamond.\n\n    d4 e4.\n    \\harmonicsOn\n    d8 e e\n    d4 e4.\n    \\harmonicsOff\n    d8 e e\n\nAlternatively a normal note head is shown at the pitch to be sounded together with a small circle to indicate it should be played as a harmonic:\n\n    d2^\\flageolet d_\\flageolet\n\nA smaller circle may be created, see the snippet list in References for unfretted strings.\n\nArtificial harmonics"},{label:"\\harp-pedal",detail:"A.10.5 Instrument Specific Markup",documentation:"Make a harp pedal diagram.\n\nPossible elements in definition-string:\n\n^\npedal is up\n\n-\npedal is neutral\n\nv\npedal is down\n\n|\nvertical divider line\n\no\nthe following pedal should be circled (indicating a change)\n\n\n\nThe function also checks if the string has the typical form of three pedals, then the divider and then the remaining four pedals. If not it prints out a warning. However, in any case, it will also print each symbol in the order as given. This means you can place the divider (even multiple dividers) anywhere you want, but you\u2019ll have to live with the warnings.\n\nThe appearance of the diagram can be tweaked inter alia using the size property of the TextScript grob (\\override Voice.TextScript #'size = #0.3) for the overall, the thickness property (\\override Voice.TextScript #'thickness = #3) for the line thickness of the horizontal line and the divider. The remaining configuration (box sizes, offsets and spaces) is done by the harp-pedal-details list of properties (\\override Voice.TextScript #'harp-pedal-details #'box-width = #1). It contains the following settings: box-offset (vertical shift of the box center for up/down pedals), box-width, box-height, space-before-divider (the spacing between two boxes before the divider) and space-after-divider (box spacing after the divider).\n\n    \\markup \\harp-pedal #\"^-v|--ov^\"\n\nUsed properties:\n\n - thickness (0.5)\n - harp-pedal-details (\u2019())\n - size (1.2)"},{label:"\\hbracket",detail:"Graphic notation inside markup",documentation:'Some markup commands allow decoration of text elements with graphics, as demonstrated in the following example.\n\n    \\markup \\fill-line {\n      \\center-column {\n        \\circle Jack\n        \\box "in the box"\n        \\null\n        \\line {\n          Erik Satie\n          \\hspace #3\n          \\bracket "1866 - 1925"\n        }\n        \\null\n        \\rounded-box \\bold Prelude\n      }\n    }'},{label:"\\hbracket",detail:"A.10.3 Graphic",documentation:"Draw horizontal brackets around arg.\n\n    \\markup {\n      \\hbracket {\n        \\line {\n          one two three\n        }\n      }\n    }"},{label:"\\hcenter-in",detail:"A.10.2 Align",documentation:"Center arg horizontally within a box of extending length/2 to the left and right.\n\n    \\new StaffGroup <<\n      \\new Staff {\n        \\set Staff.instrumentName = \\markup {\n          \\hcenter-in #12\n          Oboe\n        }\n        c''1\n      }\n      \\new Staff {\n        \\set Staff.instrumentName = \\markup {\n          \\hcenter-in #12\n          Bassoon\n        }\n        \\clef tenor\n        c'1\n      }\n    >>"},{label:"\\header",detail:"3.1.5 File structure",documentation:"A \u2018.ly\u2019 file may contain any number of toplevel expressions, where a toplevel expression is one of the following:\n\n - An output definition, such as \\paper, \\midi, and \\layout. Such a definition at the toplevel changes the default book-wide settings. If more than one such definition of the same type is entered at the top level the definitions are combined, but in conflicting situations the later definitions take precedence. For details of how this affects the \\layout block see The \\layout block.\n - A direct scheme expression, such as #(set-default-paper-size \"a7\" 'landscape) or #(ly:set-option 'point-and-click #f).\n - A \\header block. This sets the global (i.e. the top of file) header block. This is the block containing the default settings of titling fields like composer, title, etc. for all books within the file (see Titles explained).\n - A \\score block. This score will be collected with other toplevel scores, and combined as a single \\book. This behavior can be changed by setting the variable toplevel-score-handler at toplevel. The default handler is defined in the init file \u2018../scm/lily.scm\u2019.\n - A \\book block logically combines multiple movements (i.e., multiple \\score blocks) in one document. If there are a number of \\scores, one output file will be created for each \\book block, in which all corresponding movements are concatenated. The only reason to explicitly specify \\book blocks in a \u2018.ly\u2019 file is if you wish to create multiple output files from a single input file. One exception is within lilypond-book documents, where you explicitly have to add a \\book block if you want more than a single \\score or \\markup in the same example. This behavior can be changed by setting the variable toplevel-book-handler at toplevel. The default handler is defined in the init file \u2018../scm/lily.scm\u2019.\n - A \\bookpart block. A book may be divided into several parts, using \\bookpart blocks, in order to ease the page breaking, or to use different \\paper settings in different parts.\n - A compound music expression, such as\n{ c'4 d' e'2 }\nThis will add the piece in a \\score and format it in a single book together with all other toplevel \\scores and music expressions. In other words, a file containing only the above music expression will be translated into\n\n\\book {\n  \\score {\n    \\new Staff {\n      \\new Voice {\n        { c'4 d' e'2 }\n      }\n    }\n    \\layout { }\n  }\n  \\paper { }\n  \\header { }\n}\nThis behavior can be changed by setting the variable toplevel-music-handler at toplevel. The default handler is defined in the init file \u2018../scm/lily.scm\u2019.\n\n\n - A markup text, a verse for example\n\\markup {\n   2.  The first line verse two.\n}\nMarkup texts are rendered above, between or below the scores or music expressions, wherever they appear.\n\n\n - A variable, such as\nfoo = { c4 d e d }\nThis can be used later on in the file by entering \\foo. The name of a variable should have alphabetic characters only; no numbers, underscores or dashes.\n\n\n\nThe following example shows three things that may be entered at toplevel\n\n    \\layout {\n      % Don't justify the output\n      ragged-right = ##t\n    }\n    \\header {\n       title = \"Do-re-mi\"\n    }\n    { c'4 d' e2 }\n\nAt any point in a file, any of the following lexical instructions can be entered:\n\n - \\version\n - \\include\n - \\sourcefilename\n - \\sourcefileline\n - A single-line comment, introduced by a leading % sign.\n - A multi-line comment delimited by %{ \u2026 %}."},{label:"\\hide",detail:"Making objects transparent",documentation:"Every layout object has a transparent property which by default is set to #f. If set to #t the object still occupies space but is made invisible.\n\n    a4 a\n    \\once \\override NoteHead.transparent = ##t\n    a a\n\nThis rather common operation has a shortcut \\hide:\n\n    a4 a\n    \\once \\hide NoteHead\n    a a"},{label:"\\hideKeySignature",detail:"Bagpipe definitions",documentation:'LilyPond contains special definitions for Scottish, Highland Bagpipe music; to use them, add\n\n    \\include "bagpipe.ly"\n\nto the top of your input file. This lets you add the special grace notes common to bagpipe music with short commands. For example, you could write \\taor instead of\n\n    \\grace { \\small G32[ d G e] }\n\n\u2018bagpipe.ly\u2019 also contains pitch definitions for the bagpipe notes in the appropriate octaves, so you do not need to worry about \\relative or \\transpose.\n\n    \\include "bagpipe.ly"\n    { \\grg G4 \\grg a \\grg b \\grg c \\grg d \\grg e \\grg f \\grA g A }\n\nBagpipe music nominally uses the key of D Major (even though that isn\u2019t really true). However, since that is the only key that can be used, the key signature is normally not written out. To set this up correctly, always start your music with \\hideKeySignature. If you for some reason want to show the key signature, you can use \\showKeySignature instead.\n\nSome modern music use cross fingering on c and f to flatten those notes. This can be indicated by cflat or fflat. Similarly, the piobaireachd high g can be written gflat when it occurs in light music.'},{label:"\\hideNotes",detail:"Hidden notes",documentation:"Hidden (or invisible or transparent) notes can be useful in preparing theory or composition exercises.\n\n    c4 d\n    \\hideNotes\n    e4 f\n    \\unHideNotes\n    g a\n    \\hideNotes\n    b\n    \\unHideNotes\n    c\n\nNote heads, stems, and flags, and rests are invisible. Beams are invisible if they start on a hidden note. Objects that are attached to invisible notes are still visible.\n\n    e8(\\p f g a)--\n    \\hideNotes\n    e8(\\p f g a)--"},{label:"\\hideSplitTiedTabNotes",detail:"Default tablatures",documentation:'The command \\hideSplitTiedTabNotes cancels the behavior of engraving fret numbers in parentheses:\n\n    ties = \\relative c\' {\n      \\repeat volta 2 {\n        e2. f4~\n        f2 g2~ }\n      \\alternative {\n        { g4 f2. }\n        { g4\\repeatTie c,2. }\n      }\n      b1~\n      \\break\n      b1\n      \\bar "|."\n    }\n    \\score {\n      <<\n        \\new StaffGroup  <<\n          \\new Staff {\n            \\clef "treble_8"\n            \\ties\n          }\n          \\new TabStaff {\n          \\hideSplitTiedTabNotes\n            \\ties\n          }\n        >>\n      >>\n      \\layout {\n      indent = #0\n      ragged-right = ##t\n      }\n    }'},{label:"\\hideStaffSwitch",detail:"Staff-change lines",documentation:'Whenever a voice switches to another staff, a line connecting the notes can be printed automatically:\n\n    \\new PianoStaff <<\n      \\new Staff = "one" {\n        \\showStaffSwitch\n        c1\n        \\change Staff = "two"\n        b2 a\n      }\n      \\new Staff = "two" {\n        \\clef bass\n        s1*2\n      }\n    >>'},{label:"\\hspace",detail:"A.10.2 Align",documentation:"Create an invisible object taking up horizontal space amount.\n\n    \\markup {\n      one\n      \\hspace #2\n      two\n      \\hspace #8\n      three\n    }"},{label:"\\huge",detail:"Selecting notation font size",documentation:"The font size of notation elements may be altered. It does not change the size of variable symbols, such as beams or slurs.\n\nNote: For font sizes of text, see Selecting font and font size.\n\n\n\n    \\huge\n    c4.-> d8---3\n    \\large\n    c4.-> d8---3\n    \\normalsize\n    c4.-> d8---3\n    \\small\n    c4.-> d8---3\n    \\tiny\n    c4.-> d8---3\n    \\teeny\n    c4.-> d8---3\n\nInternally, this sets the fontSize property. This in turn causes the font-size property to be set in all layout objects. The value of font-size is a number indicating the size relative to the standard size for the current staff height. Each step up is an increase of approximately 12% of the font size. Six steps is exactly a factor of two. The Scheme function magstep converts a font-size number to a scaling factor. The font-size property can also be set directly, so that only certain layout objects are affected.\n\n    \\set fontSize = #3\n    c4.-> d8---3\n    \\override NoteHead.font-size = #-4\n    c4.-> d8---3\n    \\override Script.font-size = #2\n    c4.-> d8---3\n    \\override Stem.font-size = #-5\n    c4.-> d8---3"},{label:"\\huge",detail:"Selecting font and font size",documentation:"\\teeny, \\tiny, \\small, \\normalsize, \\large, \\huge, \\smaller, \\larger."},{label:"\\huge",detail:"A.10.1 Font",documentation:"Set font size to +2.\n\n    \\markup {\n      default\n      \\hspace #2\n      \\huge\n      huge\n    }"},{label:"\\improvisationOff",detail:"Improvisation",documentation:'Improvisation is sometimes denoted with slashed note heads, where the performer may choose any pitch but should play the specified rhythm. Such note heads can be created:\n\n    \\new Voice \\with {\n      \\consists "Pitch_squash_engraver"\n    } {\n      e8 e g a a16( bes) a8 g\n      \\improvisationOn\n      e8 ~\n      e2 ~ e8 f4 f8 ~\n      f2\n      \\improvisationOff\n      a16( bes) a8 g e\n    }'},{label:"\\improvisationOff",detail:"Showing melody rhythms",documentation:"Guitar chord charts often show the strumming rhythms. This can be done with the Pitch_squash_engraver and \\improvisationOn.\n\n    <<\n      \\new ChordNames {\n        \\chordmode {\n          c1 f g c\n        }\n      }\n      \\new Voice \\with {\n        \\consists \"Pitch_squash_engraver\"\n      } \\relative c'' {\n        \\improvisationOn\n        c4 c8 c c4 c8 c\n        f4 f8 f f4 f8 f\n        g4 g8 g g4 g8 g\n        c4 c8 c c4 c8 c\n      }\n    >>"},{label:"\\improvisationOn",detail:"Improvisation",documentation:'Improvisation is sometimes denoted with slashed note heads, where the performer may choose any pitch but should play the specified rhythm. Such note heads can be created:\n\n    \\new Voice \\with {\n      \\consists "Pitch_squash_engraver"\n    } {\n      e8 e g a a16( bes) a8 g\n      \\improvisationOn\n      e8 ~\n      e2 ~ e8 f4 f8 ~\n      f2\n      \\improvisationOff\n      a16( bes) a8 g e\n    }'},{label:"\\improvisationOn",detail:"Showing melody rhythms",documentation:"Guitar chord charts often show the strumming rhythms. This can be done with the Pitch_squash_engraver and \\improvisationOn.\n\n    <<\n      \\new ChordNames {\n        \\chordmode {\n          c1 f g c\n        }\n      }\n      \\new Voice \\with {\n        \\consists \"Pitch_squash_engraver\"\n      } \\relative c'' {\n        \\improvisationOn\n        c4 c8 c c4 c8 c\n        f4 f8 f f4 f8 f\n        g4 g8 g g4 g8 g\n        c4 c8 c c4 c8 c\n      }\n    >>"},{label:"\\in",detail:"5.4.3 Distances and measurements",documentation:"Distances in LilyPond are of two types: absolute and scaled.\n\nAbsolute distances are used for specifying margins, indents, and other page layout details, and are by default specified in millimeters. Distances may be specified in other units by following the quantity by \\mm, \\cm, \\in\xa0(inches), or \\pt\xa0(points, 1/72.27 of an inch). Page layout distances can also be specified in scalable units (see the following paragraph) by appending \\staff-space to the quantity. Page layout is described in detail in Page layout.\n\nScaled distances are always specified in units of the staff-space or, rarely, the half staff-space. The staff-space is the distance between two adjacent staff lines. The default value can be changed globally by setting the global staff size, or it can be overridden locally by changing the staff-space property of StaffSymbol. Scaled distances automatically scale with any change to the either the global staff size or the staff-space property of StaffSymbol, but fonts scale automatically only with changes to the global staff size. The global staff size thus enables the overall size of a rendered score to be easily varied. For the methods of setting the global staff size see Setting the staff size."},{label:"\\inclinatum",detail:"Gregorian square neume ligatures",documentation:""},{label:"\\inclinatum",detail:"Predefined commands",documentation:""},{label:"\\include",detail:"3.3.1 Including LilyPond files",documentation:'A large project may be split up into separate files. To refer to another file, use\n\n    \\include "otherfile.ly"\n\nThe line \\include "otherfile.ly" is equivalent to pasting the contents of \u2018otherfile.ly\u2019 into the current file at the place where the \\include appears. For example, in a large project you might write separate files for each instrument part and create a \u201cfull score\u201d file which brings together the individual instrument files. Normally the included file will define a number of variables which then become available for use in the full score file. Tagged sections can be marked in included files to assist in making them usable in different places in a score, see Different editions from one source.\n\nFiles in the current working directory may be referenced by specifying just the file name after the \\include command. Files in other locations may be included by giving either a full path reference or a relative path reference (but use the UNIX forward slash, /, rather than the DOS/Windows back slash, \\, as the directory separator.) For example, if \u2018stuff.ly\u2019 is located one directory higher than the current working directory, use\n\n    \\include "../stuff.ly"\n\nor if the included orchestral parts files are all located in a subdirectory called \u2018parts\u2019 within the current directory, use\n\n    \\include "parts/VI.ly"\n    \\include "parts/VII.ly"\n    \u2026 etc\n\nFiles which are to be included can also contain \\include statements of their own. By default, these second-level \\include statements are not interpreted until they have been brought into the main file, so the file names they specify must all be relative to the directory containing the main file, not the directory containing the included file. However, this behavior can be changed globally by passing the option \u2018-drelative-includes\u2019 option at the command line (or by adding #(ly:set-option \'relative-includes #t) at the top of the main input file).\n\nWhen relative-includes is set to #t, the path for each \\include command will be taken relative to the file containing that command. This behavior is recommended and it will become the default behavior in a future version of lilypond.\n\nFiles relative to the main directory and files relative to some other directory may both be \\included by setting relative-includes to #t or #f at appropriate places in the files. For example, if a general library, libA, has been created which itself uses sub-files which are \\included by the entry file of that library, those \\include statements will need to be preceded by #(ly:set-option #relative-includes #t) so they are interpreted correctly when brought into the main .ly file, like this:\n\n    libA/\n      libA.ly\n      A1.ly\n      A2.ly\n      \u2026\n\nthen the entry file, libA.ly, will contain\n\n    #(ly:set-option \'relative-includes #t)\n    \\include "A1.ly"\n    \\include "A2.ly"\n    \u2026\n    % return to default setting\n    #(ly:set-option \'relative-includes #f)\n\nAny \u2018.ly\u2019 file can then include the entire library simply with\n\n    \\include "~/libA/libA.ly"\n\nMore complex file structures may be devised by switching at appropriate places.\n\nFiles can also be included from a directory in a search path specified as an option when invoking LilyPond from the command line. The included files are then specified using just their file name. For example, to compile \u2018main.ly\u2019 which includes files located in a subdirectory called \u2018parts\u2019 by this method, cd to the directory containing \u2018main.ly\u2019 and enter\n\n    lilypond --include=parts main.ly\n\nand in main.ly write\n\n    \\include "VI.ly"\n    \\include "VII.ly"\n    \u2026 etc\n\nFiles which are to be included in many scores may be placed in the LilyPond directory \u2018../ly\u2019. (The location of this directory is installation-dependent - see Other sources of information). These files can then be included simply by naming them on an \\include statement. This is how the language-dependent files like \u2018english.ly\u2019 are included.\n\nLilyPond includes a number of files by default when you start the program. These includes are not apparent to the user, but the files may be identified by running lilypond --verbose from the command line. This will display a list of paths and files that LilyPond uses, along with much other information. Alternatively, the more important of these files are discussed in Other sources of information. These files may be edited, but changes to them will be lost on installing a new version of LilyPond.\n\nSome simple examples of using \\include are shown in Scores and parts.'},{label:"\\inStaffSegno",detail:"Normal repeats",documentation:'The \\inStaffSegno command can be used to generate a composite bar line incorporating the segno symbol with the appropriate repeat bar line when used with the \\repeat volta command. The correct type of repeat bar line, viz. start repeat, end repeat or double repeat, is selected automatically. Note that the corresponding \u201cD.S.\u201d mark must be added manually.\n\nAway from a repeat:\n\n    e1\n    \\inStaffSegno\n    f2 g a b\n    c1_"D.S." \\bar "|."\n\nAt the start of a repeat:\n\n    e1\n    \\repeat volta 2 {\n      \\inStaffSegno  % start repeat\n      f2 g a b\n    }\n    c1_"D.S." \\bar "|."\n\nAt the end of a repeat:\n\n    e1\n    \\repeat volta 2 {\n      f2 g a b\n      \\inStaffSegno  % end repeat\n    }\n    f2 g a b\n    c1_"D.S." \\bar "|."\n\nBetween two repeats:\n\n    e1\n    \\repeat volta 2 {\n      f2 g a b\n    }\n    \\inStaffSegno  % double repeat\n    \\repeat volta 2 {\n      f2 g a b\n    }\n    c1_"D.S." \\bar "|."\n\nAlternative bar line symbols can be obtained by setting (in the Score context) the properties segnoType, startRepeatSegnoType, endRepeatSegnoType or doubleRepeatSegnoType to the required bar line type. The alternative bar line types must be selected from the pre-defined types or types previously defined with the \\defineBarLine command (see Bar lines).\n\n    \\defineBarLine ":|.S[" #\'(":|." "S[" "")\n    \\defineBarLine "]" #\'("]" "" "")\n    e1\n    \\repeat volta 2 {\n      f2 g a b\n      \\once \\set Score.endRepeatSegnoType = ":|.S["\n      \\inStaffSegno\n    }\n    f2 g \\bar "]" a b\n    c1_"D.S." \\bar "|."'},{label:"\\instrumentSwitch",detail:"Instrument names",documentation:'If an instrument switch is needed, \\addInstrumentDefinition may be used in combination with \\instrumentSwitch to create a detailed list of the necessary changes for the switch. The \\addInstrumentDefinition command has two arguments: an identifying string, and an association list of context properties and values to be used for the instrument. It must be placed in the toplevel scope. \\instrumentSwitch is used in the music expression to declare the instrument switch:\n\n    \\addInstrumentDefinition #"contrabassoon"\n      #`((instrumentTransposition . ,(ly:make-pitch -1 0 0))\n         (shortInstrumentName . "Cbsn.")\n         (clefGlyph . "clefs.F")\n         (middleCPosition . 6)\n         (clefPosition . 2)\n         (instrumentCueName . ,(make-bold-markup "cbsn."))\n         (midiInstrument . "bassoon"))\n    \\new Staff \\with {\n      instrumentName = #"Bassoon"\n    }\n    \\relative c\' {\n      \\clef tenor\n      \\compressFullBarRests\n      c2 g\'\n      R1*16\n      \\instrumentSwitch "contrabassoon"\n      c,,2 g \\break\n      c,1 ~ | c1\n    }'},{label:"\\inversion",detail:"Inversion",documentation:"A music expression can be inverted and transposed in a single operation with:\n\n    \\inversion around-pitch to-pitch musicexpr\n\nThe musicexpr is inverted interval-by-interval around around-pitch, and then transposed so that around-pitch is mapped to to-pitch.\n\n    music = \\relative c' { c d e f }\n    \\new Staff {\n      \\music\n      \\inversion d' d' \\music\n      \\inversion d' ees' \\music\n    }\n\nNote: Motifs to be inverted should be expressed in absolute form or be first converted to absolute form by enclosing them in a relative block.\n\n"},{label:"\\ionian",detail:"Key signature",documentation:'Here, mode should be \\major or \\minor to get a key signature of pitch-major or pitch-minor, respectively. You may also use the standard mode names, also called church modes: \\ionian, \\dorian, \\phrygian, \\lydian, \\mixolydian, \\aeolian, and \\locrian.\n\n    \\key g \\major\n    fis1\n    f\n    fis\n\nAdditional modes can be defined, by listing the alterations for each scale step when the mode starts on C.\n\n    freygish = #`((0 . ,NATURAL) (1 . ,FLAT) (2 . ,NATURAL)\n        (3 . ,NATURAL) (4 . ,NATURAL) (5 . ,FLAT) (6 . ,FLAT))\n    \\relative c\' {\n      \\key c \\freygish c4 des e f\n      \\bar "||" \\key d \\freygish d es fis g\n    }\n\nAccidentals in the key signature may be printed in octaves other than their traditional positions, or in multiple octaves, by using the flat-positions and sharp-positions properties of KeySignature. Entries in these properties specify the range of staff-positions where accidentals will be printed. If a single position is specified in an entry, the accidentals are placed within the octave ending at that staff position.\n\n    \\override Staff.KeySignature.flat-positions = #\'((-5 . 5))\n    \\override Staff.KeyCancellation.flat-positions = #\'((-5 . 5))\n    \\clef bass \\key es \\major es g bes d\n    \\clef treble \\bar "||" \\key es \\major es g bes d\n    \\override Staff.KeySignature.sharp-positions = #\'(2)\n    \\bar "||" \\key b \\major b fis b2'},{label:"\\italianChords",detail:"Predefined commands",documentation:""},{label:"\\italic",detail:"Selecting font and font size",documentation:"Basic font switching is supported in markup mode:\n\n    d1^\\markup {\n      \\bold { Pi\xf9 mosso }\n      \\italic { non troppo \\underline Vivo }\n    }\n    r2 r4 r8\n    d,_\\markup { \\italic quasi \\smallCaps Tromba }\n    f1 d2 r"},{label:"\\italic",detail:"A.10.1 Font",documentation:"Use italic font-shape for arg.\n\n    \\markup {\n      default\n      \\hspace #2\n      \\italic\n      italic\n    }"},{label:"\\justified-lines",detail:"Multi-page markup",documentation:"Although standard markup objects are not breakable, a specific syntax makes it possible to enter lines of text that can spread over multiple pages:\n\n    \\markuplist {\n      \\justified-lines {\n        A very long text of justified lines.\n        ...\n      }\n      \\wordwrap-lines {\n        Another very long paragraph.\n        ...\n      }\n      ...\n    }\n\nThis syntax accepts a list of markups, that can be\n\n - the result of a markup list command,\n - a list of markups,\n - a list of markup lists.\n\nAn exhaustive list of markup list commands can be found in Text markup list commands."},{label:"\\justified-lines",detail:"A.11 Text markup list commands",documentation:"Like \\justify, but return a list of lines instead of a single markup. Use \\override-lines #'(line-width . X) to set the line width; X\xa0is the number of staff spaces.\n\nUsed properties:\n\n - text-direction (1)\n - word-space\n - line-width (#f)\n - baseline-skip"},{label:"\\justify",detail:"Text alignment",documentation:"Long text indications can also be automatically wrapped accordingly to the given line width. These will be either left-aligned or justified, as shown in the following example.\n\n    \\markup {\n      \\column {\n        \\line  \\smallCaps { La vida breve }\n        \\line \\bold { Acto I }\n        \\wordwrap \\italic {\n          (La escena representa el corral de una casa de\n          gitanos en el Albaic\xedn de Granada.  Al fondo una\n          puerta por la que se ve el negro interior de\n          una Fragua, iluminado por los rojos resplandores\n          del fuego.)\n        }\n        \\hspace #0\n        \\line \\bold { Acto II }\n        \\override #'(line-width . 50)\n        \\justify \\italic {\n          (Calle de Granada.  Fachada de la casa de Carmela\n          y su hermano Manuel con grandes ventanas abiertas\n          a trav\xe9s de las que se ve el patio\n          donde se celebra una alegre fiesta)\n        }\n      }\n    }"},{label:"\\justify",detail:"A.10.2 Align",documentation:"Like \\wordwrap, but with lines stretched to justify the margins. Use \\override #'(line-width . X) to set the line width; X\xa0is the number of staff spaces.\n\n    \\markup {\n      \\justify {\n        Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed\n        do eiusmod tempor incididunt ut labore et dolore magna aliqua.\n        Ut enim ad minim veniam, quis nostrud exercitation ullamco\n        laboris nisi ut aliquip ex ea commodo consequat.\n      }\n    }\n\nUsed properties:\n\n - text-direction (1)\n - word-space\n - line-width (#f)\n - baseline-skip"},{label:"\\justify-field",detail:"A.10.2 Align",documentation:'Justify the data which has been assigned to symbol.\n\n    \\header {\n      title = "My title"\n      myText = "Lorem ipsum dolor sit amet, consectetur adipisicing\n        elit, sed do eiusmod tempor incididunt ut labore et dolore magna\n        aliqua.  Ut enim ad minim veniam, quis nostrud exercitation ullamco\n        laboris nisi ut aliquip ex ea commodo consequat."\n    }\n    \\paper {\n      bookTitleMarkup = \\markup {\n        \\column {\n          \\fill-line { \\fromproperty #\'header:title }\n          \\null\n          \\justify-field #\'header:myText\n        }\n      }\n    }\n    \\markup {\n      \\null\n    }'},{label:"\\justify-string",detail:"A.10.2 Align",documentation:'Justify a string. Paragraphs may be separated with double newlines\n\n    \\markup {\n      \\override #\'(line-width . 40)\n      \\justify-string #"Lorem ipsum dolor sit amet, consectetur\n          adipisicing elit, sed do eiusmod tempor incididunt ut labore\n          et dolore magna aliqua.\n          Ut enim ad minim veniam, quis nostrud exercitation ullamco\n          laboris nisi ut aliquip ex ea commodo consequat.\n          Excepteur sint occaecat cupidatat non proident, sunt in culpa\n          qui officia deserunt mollit anim id est laborum"\n    }\n\nUsed properties:\n\n - text-direction (1)\n - word-space\n - line-width\n - baseline-skip'},{label:"\\keepWithTag",detail:"Using tags",documentation:"The \\tag #'partA command marks a music expression with the name partA. Expressions tagged in this way can be selected or filtered out by name later, using either \\keepWithTag #'name or \\removeWithTag #'name. The result of applying these filters to tagged music is as follows:\n\nFilter\tResult\nTagged music preceded by \\keepWithTag #'name or \\keepWithTag #'(name1 name2\u2026)\tUntagged music and music tagged with any of the given tag names is included; music tagged with any other tag name is excluded.\nTagged music preceded by \\removeWithTag #'name or \\removeWithTag #'(name1 name2\u2026)\tUntagged music and music not tagged with any of the given tag names is included; music tagged with any of the given tag names is excluded.\nTagged music not preceded by either \\keepWithTag or \\removeWithTag\tAll tagged and untagged music is included.\n\n\nThe arguments of the \\tag, \\keepWithTag and \\removeWithTag commands should be a symbol (such as #'score or #'part), followed by a music expression.\n\nIn the following example, we see two versions of a piece of music, one showing trills with the usual notation, and one with trills explicitly expanded:\n\n    music = \\relative g' {\n      g8. c32 d\n      \\tag #'trills { d8.\\trill }\n      \\tag #'expand { \\repeat unfold 3 { e32 d } }\n      c32 d\n     }\n    \\score {\n      \\keepWithTag #'trills \\music\n    }\n    \\score {\n      \\keepWithTag #'expand \\music\n    }\n\nAlternatively, it is sometimes easier to exclude sections of music:\n\n    music = \\relative g' {\n      g8. c32 d\n      \\tag #'trills { d8.\\trill }\n      \\tag #'expand {\\repeat unfold 3 { e32 d } }\n      c32 d\n     }\n    \\score {\n      \\removeWithTag #'expand\n      \\music\n    }\n    \\score {\n      \\removeWithTag #'trills\n      \\music\n    }\n\nTagged filtering can be applied to articulations, texts, etc. by prepending\n\n    -\\tag #'your-tag\n\nto an articulation. For example, this would define a note with a conditional fingering indication and a note with a conditional annotation:\n\n    c1-\\tag #'finger ^4\n    c1-\\tag #'warn ^\"Watch!\"\n\nMultiple tags may be placed on expressions with multiple \\tag entries, or by combining multiple tags into one symbol list:\n\n    music = \\relative c'' {\n      \\tag #'a \\tag #'both { a4 a a a }\n      \\tag #'(b both) { b4 b b b }\n    }\n    <<\n    \\keepWithTag #'a \\music\n    \\keepWithTag #'b \\music\n    \\keepWithTag #'both \\music\n    >>\n\nMultiple \\removeWithTag filters may be applied to a single music expression to remove several differently named tagged sections. Alternatively, you can use a single \\removeWithTag with a list of tags.\n\n    music = \\relative c'' {\n      \\tag #'A { a4 a a a }\n      \\tag #'B { b4 b b b }\n      \\tag #'C { c4 c c c }\n      \\tag #'D { d4 d d d }\n    }\n    \\new Voice {\n      \\removeWithTag #'B\n      \\removeWithTag #'C\n      \\music\n      \\removeWithTag #'(B C)\n      \\music\n    }\n\nTwo or more \\keepWithTag filters applied to a single music expression will cause all tagged sections to be removed, as the first filter will remove all tagged sections except the one named, and the second filter will remove even that tagged section. Usually you would rather want to use a single \\keepWithTag command with a list of multiple tags: this will only remove tagged sections not given in any of the tags.\n\nSometimes you want to splice some music at a particular place in an existing music expression. You can use \\pushToTag and \\appendToTag for adding material at the front or end of the elements of an existing music construct. Not every music construct has elements, but sequential and simultaneous music are safe bets:\n\n    test = { \\tag #'here { \\tag #'here <<c''>> } }\n    {\n      \\pushToTag #'here c'\n      \\pushToTag #'here e'\n      \\pushToTag #'here g' \\test\n      \\appendToTag #'here c'\n      \\appendToTag #'here e'\n      \\appendToTag #'here g' \\test\n    }\n\nBoth commands get a tag, the material to splice in at every occurence of the tag, and the tagged expression. The commands make sure to copy everything that they change so that the original \\test retains its meaning."},{label:"\\key",detail:"Key signature",documentation:"The key signature indicates the tonality in which a piece is played. It is denoted by a set of alterations (flats or sharps) at the start of the staff. The key signature may be altered:\n\n    \\key pitch mode"},{label:"\\key",detail:"Shape note heads",documentation:"Shapes are typeset according to the step in the scale, where the base of the scale is determined by the \\key command. When writing in a minor key, the scale step can be determined from the relative major:\n\n    \\key a \\minor\n    \\aikenHeads\n    a b c d e2 f g1 a \\break\n    \\aikenHeadsMinor\n    a,4 b c d e2 f g1 a \\break\n    \\sacredHarpHeadsMinor\n    a,2 b c d \\break\n    \\southernHarmonyHeadsMinor\n    a2 b c d \\break\n    \\funkHeadsMinor\n    a2 b c d \\break\n    \\walkerHeadsMinor\n    a2 b c d \\break"},{label:"\\killCues",detail:"Formatting cue notes",documentation:'The \\killCues command removes cue notes from a music expression, so the same music expression can be used to produce the instrument part with cues and the score. The \\killCues command removes only the notes and events that were quoted by \\cueDuring. Other markup associated with cues, such as clef changes and a label identifying the source instrument, can be tagged for selective inclusion in the score; see Using tags.\n\n    fluteNotes = \\relative c\'\' {\n      r2. c4 d8 c d e fis2 g2 d2\n    }\n    bassoonNotes = \\relative c {\n      \\clef bass\n      R1\n      \\tag #\'part {\n        \\clef treble\n        \\new CueVoice { \\set instrumentCueName = "flute" }\n      }\n      \\cueDuring #"flute" #UP { R1 }\n      \\tag #\'part \\clef bass\n      g4. b8 d2\n    }\n    \\addQuote "flute" { \\fluteNotes }\n    \\new Staff {\n      \\bassoonNotes\n    }\n    \\new StaffGroup <<\n      \\new Staff {\n        \\fluteNotes\n      }\n      \\new Staff {\n        \\removeWithTag #\'part { \\killCues { \\bassoonNotes } }\n      }\n    >>\n\nAlternatively, Clef changes and instrument labels can be collected into an instrument definition for repeated use, using \\addInstrumentDefinition described in Instrument names.'},{label:"\\label",detail:"Predefined commands",documentation:"\\label, \\page-ref."},{label:"\\laissezVibrer",detail:"Ties",documentation:"L.v. ties (laissez vibrer) indicate that notes must not be damped at the end. It is used in notation for piano, harp and other string and percussion instruments. They can be entered as follows:\n\n    <c f g>1\\laissezVibrer"},{label:"\\large",detail:"Selecting notation font size",documentation:"The font size of notation elements may be altered. It does not change the size of variable symbols, such as beams or slurs.\n\nNote: For font sizes of text, see Selecting font and font size.\n\n\n\n    \\huge\n    c4.-> d8---3\n    \\large\n    c4.-> d8---3\n    \\normalsize\n    c4.-> d8---3\n    \\small\n    c4.-> d8---3\n    \\tiny\n    c4.-> d8---3\n    \\teeny\n    c4.-> d8---3\n\nInternally, this sets the fontSize property. This in turn causes the font-size property to be set in all layout objects. The value of font-size is a number indicating the size relative to the standard size for the current staff height. Each step up is an increase of approximately 12% of the font size. Six steps is exactly a factor of two. The Scheme function magstep converts a font-size number to a scaling factor. The font-size property can also be set directly, so that only certain layout objects are affected.\n\n    \\set fontSize = #3\n    c4.-> d8---3\n    \\override NoteHead.font-size = #-4\n    c4.-> d8---3\n    \\override Script.font-size = #2\n    c4.-> d8---3\n    \\override Stem.font-size = #-5\n    c4.-> d8---3"},{label:"\\large",detail:"Selecting font and font size",documentation:"\\teeny, \\tiny, \\small, \\normalsize, \\large, \\huge, \\smaller, \\larger."},{label:"\\large",detail:"A.10.1 Font",documentation:"Set font size to +1.\n\n    \\markup {\n      default\n      \\hspace #2\n      \\large\n      large\n    }"},{label:"\\larger",detail:"Selecting font and font size",documentation:"The font size can be altered, relative to the global staff size, in a number of different ways\n\nIt can be set to predefined size,\n\n    b1_\\markup { \\huge Sinfonia }\n    b1^\\markup { \\teeny da }\n    b1-\\markup { \\normalsize camera }\n\nIt can be set relative to its previous value,\n\n    b1_\\markup { \\larger Sinfonia }\n    b1^\\markup { \\smaller da }\n    b1-\\markup { \\magnify #0.6  camera }\n\nIt can be increased or decreased relative to the value set by the global staff size,\n\n    b1_\\markup { \\fontsize #-2 Sinfonia }\n    b1^\\markup { \\fontsize #1 da }\n    b1-\\markup { \\fontsize #3 camera }\n\nIt can also be set to a fixed point-size, regardless of the global staff size,\n\n    b1_\\markup { \\abs-fontsize #20 Sinfonia }\n    b1^\\markup { \\abs-fontsize #8 da }\n    b1-\\markup { \\abs-fontsize #14 camera }"},{label:"\\larger",detail:"Selecting font and font size",documentation:"\\teeny, \\tiny, \\small, \\normalsize, \\large, \\huge, \\smaller, \\larger."},{label:"\\larger",detail:"A.10.1 Font",documentation:"Increase the font size relative to the current setting.\n\n    \\markup {\n      default\n      \\hspace #2\n      \\larger\n      larger\n    }"},{label:"\\layout",detail:"3.1.5 File structure",documentation:"A \u2018.ly\u2019 file may contain any number of toplevel expressions, where a toplevel expression is one of the following:\n\n - An output definition, such as \\paper, \\midi, and \\layout. Such a definition at the toplevel changes the default book-wide settings. If more than one such definition of the same type is entered at the top level the definitions are combined, but in conflicting situations the later definitions take precedence. For details of how this affects the \\layout block see The \\layout block.\n - A direct scheme expression, such as #(set-default-paper-size \"a7\" 'landscape) or #(ly:set-option 'point-and-click #f).\n - A \\header block. This sets the global (i.e. the top of file) header block. This is the block containing the default settings of titling fields like composer, title, etc. for all books within the file (see Titles explained).\n - A \\score block. This score will be collected with other toplevel scores, and combined as a single \\book. This behavior can be changed by setting the variable toplevel-score-handler at toplevel. The default handler is defined in the init file \u2018../scm/lily.scm\u2019.\n - A \\book block logically combines multiple movements (i.e., multiple \\score blocks) in one document. If there are a number of \\scores, one output file will be created for each \\book block, in which all corresponding movements are concatenated. The only reason to explicitly specify \\book blocks in a \u2018.ly\u2019 file is if you wish to create multiple output files from a single input file. One exception is within lilypond-book documents, where you explicitly have to add a \\book block if you want more than a single \\score or \\markup in the same example. This behavior can be changed by setting the variable toplevel-book-handler at toplevel. The default handler is defined in the init file \u2018../scm/lily.scm\u2019.\n - A \\bookpart block. A book may be divided into several parts, using \\bookpart blocks, in order to ease the page breaking, or to use different \\paper settings in different parts.\n - A compound music expression, such as\n{ c'4 d' e'2 }\nThis will add the piece in a \\score and format it in a single book together with all other toplevel \\scores and music expressions. In other words, a file containing only the above music expression will be translated into\n\n\\book {\n  \\score {\n    \\new Staff {\n      \\new Voice {\n        { c'4 d' e'2 }\n      }\n    }\n    \\layout { }\n  }\n  \\paper { }\n  \\header { }\n}\nThis behavior can be changed by setting the variable toplevel-music-handler at toplevel. The default handler is defined in the init file \u2018../scm/lily.scm\u2019.\n\n\n - A markup text, a verse for example\n\\markup {\n   2.  The first line verse two.\n}\nMarkup texts are rendered above, between or below the scores or music expressions, wherever they appear.\n\n\n - A variable, such as\nfoo = { c4 d e d }\nThis can be used later on in the file by entering \\foo. The name of a variable should have alphabetic characters only; no numbers, underscores or dashes.\n\n\n\nThe following example shows three things that may be entered at toplevel\n\n    \\layout {\n      % Don't justify the output\n      ragged-right = ##t\n    }\n    \\header {\n       title = \"Do-re-mi\"\n    }\n    { c'4 d' e2 }\n\nAt any point in a file, any of the following lexical instructions can be entered:\n\n - \\version\n - \\include\n - \\sourcefilename\n - \\sourcefileline\n - A single-line comment, introduced by a leading % sign.\n - A multi-line comment delimited by %{ \u2026 %}."},{label:"\\layout",detail:"4.2.1 The \\layout block",documentation:"While the \\paper block contains settings that relate to the page formatting of the whole document, the \\layout block contains settings for score-specific layout. To set score layout options globally, enter them in a toplevel \\layout block. To set layout options for an individual score, enter them in a \\layout block inside the \\score block, after the music. Settings that can appear in a \\layout block include:\n\n - the layout-set-staff-size scheme function,\n - context modifications in \\context blocks, and\n - \\paper variables that affect score layout.\n\nThe layout-set-staff-size function is discussed in the next section, Setting the staff size. Context modifications are discussed in a separate chapter; see Modifying context plug-ins and Changing context default settings. The \\paper variables that can appear in a \\layout block are:\n\n - line-width, ragged-right and ragged-last (see \\paper variables for widths and margins)\n - indent and short-indent (see \\paper variables for shifts and indents)\n - system-count (see \\paper variables for line breaking)\n\nHere is an example \\layout block:\n\n    \\layout {\n      indent = 2\\cm\n      \\context {\n        \\StaffGroup\n        \\override StaffGrouper.staff-staff-spacing.basic-distance = #8\n      }\n      \\context {\n        \\Voice\n        \\override TextScript.padding = #1\n        \\override Glissando.thickness = #3\n      }\n    }\n\nMultiple \\layout blocks can be entered as toplevel expressions. This can, for example, be useful if different settings are stored in separate files and included optionally. Internally, when a \\layout block is evaluated, a copy of the current \\layout configuration is made, then any changes defined within the block are applied and the result is saved as the new current configuration. From the user\u2019s perspective the \\layout blocks are combined, but in conflicting situations (when the same property is changed in different blocks) the later definitions take precedence.\n\nFor example, if this block:\n\n    \\layout {\n      \\context {\n        \\Voice\n        \\override TextScript.color = #magenta\n        \\override Glissando.thickness = #1.5\n      }\n    }\n\nis placed after the one from the preceding example the 'padding and 'color overrides for TextScript are combined, but the later 'thickness override for Glissando replaces (or hides) the earlier one.\n\n\\layout blocks may be assigned to variables for reuse later, but the way this works is slightly but significantly different from writing them literally.\n\nIf a variable is defined like this:\n\n    layoutVariable = \\layout {\n      \\context {\n        \\Voice\n        \\override NoteHead.font-size = #4\n      }\n    }\n\nit will hold the current \\layout configuration with the NoteHead.font-size override added, but this combination is not saved as the new current configuration. Be aware that the \u2018current configuration\u2019 is read when the variable is defined and not when it is used, so the content of the variable is dependent on its position in the source.\n\nThe variable can then be used inside another \\layout block, for example:\n\n    \\layout {\n      \\layoutVariable\n      \\context {\n        \\Voice\n        \\override NoteHead.color = #red\n      }\n    }\n\nA \\layout block containing a variable, as in the example above, does not copy the current configuration but instead uses the content of \\layoutVariable as the base configuration for the further additions. This means that any changes defined between the definition and the use of the variable are lost.\n\nIf layoutVariable is defined (or \\included) immediately before being used, its content is just the current configuration plus the overrides defined within it. So in the example above showing the use of \\layoutVariable the final \\layout block would consist of:\n\n      TextScript.padding = #1\n      TextScript.color = #magenta\n      Glissando.thickness = #1.5\n      NoteHead.font-size = #4\n      NoteHead.color = #red\n\nplus the indent and the StaffGrouper overrides.\n\nBut if the variable had already been defined before the first \\layout block the current configuration would now contain only\n\n      NoteHead.font-size = #4 % (written in the variable definition)\n      NoteHead.color = #red % (added after the use of the variable)\n\nIf carefully planned, \\layout variables can be a valuable tool to structure the layout design of sources, and also to reset the \\layout configuration to a known state."},{label:"\\layout",detail:"Output definitions - blueprints for contexts",documentation:"While music written in a file may refer to context types and names, contexts are created only when the music is actually being interpreted. LilyPond interprets music under control of an \u2018output definition\u2019 and may do so for several different output definitions, resulting in different output. The output definition relevant for printing music is specified using \\layout."},{label:"\\layout",detail:"Changing all contexts of the same type",documentation:"The default context settings which are to be used for typesetting in Score, Staff, Voice and other contexts may be specified in a \\context block within any \\layout block.\n\nSettings for Midi output as opposed to typesetting will have to be separately specified in \\midi blocks (see Output definitions - blueprints for contexts).\n\nThe \\layout block should be placed within the \\score block to which it is to apply, after the music.\n\n    \\layout {\n      \\context {\n        \\Voice\n        [context settings for all Voice contexts]\n      }\n      \\context {\n        \\Staff\n        [context settings for all Staff contexts]\n      }\n    }\n\nThe following types of settings may be specified:\n\n - An \\override command, but with the context name omitted\n\\score {\n  \\relative c'' {\n    a4^\"Thicker stems\" a a a\n    a4 a a\\ff a\n  }\n  \\layout {\n    \\context {\n      \\Staff\n      \\override Stem.thickness = #4.0\n    }\n  }\n}\n \n\n\n - Directly setting a context property\n\\score {\n  \\relative c'' {\n    a4^\"Smaller font\" a a a\n    a4 a a\\ff a\n  }\n  \\layout {\n    \\context {\n      \\Staff\n      fontSize = #-4\n    }\n  }\n}\n \n\n\n - A predefined command such as \\dynamicUp or a music expression like \\accidentalStyle dodecaphonic\n\\score {\n  \\relative c'' {\n    a4^\"Dynamics above\" a a a\n    a4 a a\\ff a\n  }\n  \\layout {\n    \\context {\n      \\Voice\n      \\dynamicUp\n    }\n    \\context {\n      \\Staff\n      \\accidentalStyle dodecaphonic\n    }\n  }\n}\n \n\n\n - A user-defined variable containing a \\with block; for details of the \\with block see Changing just one specific context.\nStaffDefaults = \\with {\n  fontSize = #-4\n}\n\n\\score {\n  \\new Staff {\n    \\relative c'' {\n      a4^\"Smaller font\" a a a\n      a4 a a a\n    }\n  }\n  \\layout {\n    \\context {\n      \\Staff\n      \\StaffDefaults\n    }\n  }\n}\n \n\n\n\nProperty-setting commands can be placed in a \\layout block without being enclosed in a \\context block. Such settings are equivalent to including the same property-setting commands at the start of every context of the type specified. If no context is specified every bottom-level context is affected, see Bottom-level contexts - voices. The syntax of a property-setting command in a \\layout block is the same as the same command written in the music stream.\n\n    \\score {\n      \\new Staff {\n        \\relative c'' {\n          a4^\"Smaller font\" a a a\n          a4 a a a\n        }\n      }\n      \\layout {\n        \\accidentalStyle dodecaphonic\n        \\set fontSize = #-4\n        \\override Voice.Stem.thickness = #4.0\n      }\n    }"},{label:"\\left-align",detail:"Text alignment",documentation:"Markup objects may be aligned in different ways. By default, a text indication is aligned on its left edge: in the following example, there is no difference between the first and the second markup.\n\n    d1-\\markup { poco }\n    f\n    d-\\markup { \\left-align poco }\n    f\n    d-\\markup { \\center-align { poco } }\n    f\n    d-\\markup { \\right-align poco }"},{label:"\\left-align",detail:"A.10.2 Align",documentation:"Align arg on its left edge.\n\n    \\markup {\n      \\column {\n        one\n        \\left-align\n        two\n        three\n      }\n    }"},{label:"\\left-brace",detail:"A.10.7 Other",documentation:"A feta brace in point size size.\n\n    \\markup {\n      \\left-brace #35\n      \\hspace #2\n      \\left-brace #45\n    }"},{label:"\\left-column",detail:"A.10.2 Align",documentation:"Put args in a left-aligned column.\n\n    \\markup {\n      \\left-column {\n        one\n        two\n        three\n      }\n    }\n\nUsed properties:\n\n - baseline-skip"},{label:"\\lheel",detail:"Articulations and ornamentations",documentation:"A variety of symbols that denote articulations, ornamentations, and other performance indications can be attached to a note using this syntax:\n\n    note\\name\n\nThe possible values for name are listed in List of articulations. For example:\n\n    c4\\staccato c\\mordent b2\\turn\n    c1\\fermata"},{label:"\\line",detail:"A.10.2 Align",documentation:"Put args in a horizontal line. The property word-space determines the space between markups in args.\n\n    \\markup {\n      \\line {\n        one two three\n      }\n    }\n\nUsed properties:\n\n - text-direction (1)\n - word-space"},{label:"\\linea",detail:"Gregorian square neume ligatures",documentation:""},{label:"\\linea",detail:"Predefined commands",documentation:""},{label:"\\lineprall",detail:"Articulations and ornamentations",documentation:"A variety of symbols that denote articulations, ornamentations, and other performance indications can be attached to a note using this syntax:\n\n    note\\name\n\nThe possible values for name are listed in List of articulations. For example:\n\n    c4\\staccato c\\mordent b2\\turn\n    c1\\fermata"},{label:"\\locrian",detail:"Key signature",documentation:'Here, mode should be \\major or \\minor to get a key signature of pitch-major or pitch-minor, respectively. You may also use the standard mode names, also called church modes: \\ionian, \\dorian, \\phrygian, \\lydian, \\mixolydian, \\aeolian, and \\locrian.\n\n    \\key g \\major\n    fis1\n    f\n    fis\n\nAdditional modes can be defined, by listing the alterations for each scale step when the mode starts on C.\n\n    freygish = #`((0 . ,NATURAL) (1 . ,FLAT) (2 . ,NATURAL)\n        (3 . ,NATURAL) (4 . ,NATURAL) (5 . ,FLAT) (6 . ,FLAT))\n    \\relative c\' {\n      \\key c \\freygish c4 des e f\n      \\bar "||" \\key d \\freygish d es fis g\n    }\n\nAccidentals in the key signature may be printed in octaves other than their traditional positions, or in multiple octaves, by using the flat-positions and sharp-positions properties of KeySignature. Entries in these properties specify the range of staff-positions where accidentals will be printed. If a single position is specified in an entry, the accidentals are placed within the octave ending at that staff position.\n\n    \\override Staff.KeySignature.flat-positions = #\'((-5 . 5))\n    \\override Staff.KeyCancellation.flat-positions = #\'((-5 . 5))\n    \\clef bass \\key es \\major es g bes d\n    \\clef treble \\bar "||" \\key es \\major es g bes d\n    \\override Staff.KeySignature.sharp-positions = #\'(2)\n    \\bar "||" \\key b \\major b fis b2'},{label:"\\longa",detail:"Durations",documentation:"Durations are designated by numbers and dots. Durations are entered as their reciprocal values. For example, a quarter note is entered using a 4 (since it is a 1/4 note), and a half note is entered using a 2 (since it is a 1/2 note). For notes longer than a whole you must use the \\longa (a double breve) and \\breve commands. Durations as short as 128th notes may be specified. Shorter values are possible, but only as beamed notes.\n\n    \\time 8/1\n    c\\longa c\\breve c1 c2\n    c4 c8 c16 c32 c64 c128 c128\n\nHere are the same durations with automatic beaming turned off.\n\n    \\time 8/1\n    \\autoBeamOff\n    c\\longa c\\breve c1 c2\n    c4 c8 c16 c32 c64 c128 c128\n\nA note with the duration of a quadruple breve may be entered with \\maxima, but this is supported only within ancient music notation. For details, see Ancient notation."},{label:"\\longa",detail:"Rests",documentation:"Rests are entered like notes with the note name r. Durations longer than a whole rest use the following predefined commands:\n\n    \\new Staff {\n      % These two lines are just to prettify this example\n      \\time 16/1\n      \\omit Staff.TimeSignature\n      % Print a maxima rest, equal to four breves\n      r\\maxima\n      % Print a longa rest, equal to two breves\n      r\\longa\n      % Print a breve rest\n      r\\breve\n      r1 r2 r4 r8 r16 r32 r64 r128\n    }"},{label:"\\longfermata",detail:"Articulations and ornamentations",documentation:"A variety of symbols that denote articulations, ornamentations, and other performance indications can be attached to a note using this syntax:\n\n    note\\name\n\nThe possible values for name are listed in List of articulations. For example:\n\n    c4\\staccato c\\mordent b2\\turn\n    c1\\fermata"},{label:"\\lookup",detail:"A.10.7 Other",documentation:'Lookup a glyph by name.\n\n    \\markup {\n      \\override #\'(font-encoding . fetaBraces) {\n        \\lookup #"brace200"\n        \\hspace #2\n        \\rotate #180\n        \\lookup #"brace180"\n      }\n    }'},{label:"\\lower",detail:"Text alignment",documentation:"Vertical alignment is a bit more complex. As stated above, markup objects can be moved as a whole; however, it is also possible to move specific elements inside a markup block. In this case, the element to be moved needs to be preceded with an anchor point, that can be another markup element or an invisible object. The following example demonstrates these two possibilities; the last markup in this example has no anchor point, and therefore is not moved.\n\n    d2^\\markup {\n      Acte I\n      \\raise #2 { Sc\xe8ne 1 }\n    }\n    a'\n    g_\\markup {\n      \\null\n      \\lower #4 \\bold { Tr\xe8s mod\xe9r\xe9 }\n    }\n    a\n    d,^\\markup {\n      \\raise #4 \\italic { Une for\xeat. }\n    }\n    a'4 a g2 a"},{label:"\\lower",detail:"A.10.2 Align",documentation:"Lower arg by the distance amount. A negative amount indicates raising; see also \\raise.\n\n    \\markup {\n      one\n      \\lower #3\n      two\n      three\n    }"},{label:"\\ltoe",detail:"Articulations and ornamentations",documentation:"A variety of symbols that denote articulations, ornamentations, and other performance indications can be attached to a note using this syntax:\n\n    note\\name\n\nThe possible values for name are listed in List of articulations. For example:\n\n    c4\\staccato c\\mordent b2\\turn\n    c1\\fermata"},{label:"\\lydian",detail:"Key signature",documentation:'Here, mode should be \\major or \\minor to get a key signature of pitch-major or pitch-minor, respectively. You may also use the standard mode names, also called church modes: \\ionian, \\dorian, \\phrygian, \\lydian, \\mixolydian, \\aeolian, and \\locrian.\n\n    \\key g \\major\n    fis1\n    f\n    fis\n\nAdditional modes can be defined, by listing the alterations for each scale step when the mode starts on C.\n\n    freygish = #`((0 . ,NATURAL) (1 . ,FLAT) (2 . ,NATURAL)\n        (3 . ,NATURAL) (4 . ,NATURAL) (5 . ,FLAT) (6 . ,FLAT))\n    \\relative c\' {\n      \\key c \\freygish c4 des e f\n      \\bar "||" \\key d \\freygish d es fis g\n    }\n\nAccidentals in the key signature may be printed in octaves other than their traditional positions, or in multiple octaves, by using the flat-positions and sharp-positions properties of KeySignature. Entries in these properties specify the range of staff-positions where accidentals will be printed. If a single position is specified in an entry, the accidentals are placed within the octave ending at that staff position.\n\n    \\override Staff.KeySignature.flat-positions = #\'((-5 . 5))\n    \\override Staff.KeyCancellation.flat-positions = #\'((-5 . 5))\n    \\clef bass \\key es \\major es g bes d\n    \\clef treble \\bar "||" \\key es \\major es g bes d\n    \\override Staff.KeySignature.sharp-positions = #\'(2)\n    \\bar "||" \\key b \\major b fis b2'},{label:"\\lyricmode",detail:"Entering lyrics",documentation:'Lyrics are entered in a special input mode, which can be introduced by the keyword \\lyricmode, or by using \\addlyrics or \\lyricsto. In this special input mode, the input d is not parsed as the pitch D, but rather as a one-letter syllable of text. In other words, syllables are entered like notes but with pitches replaced by text.\n\nFor example:\n\n    \\lyricmode { Three4 blind mice,2 three4 blind mice2 }\n\nThere are two main methods for specifying the horizontal placement of the syllables, either by specifying the duration of each syllable explicitly, as in the example above, or by leaving the lyrics to be aligned automatically to a melody or other voice of music, using \\addlyrics or \\lyricsto. The former method is described below in Manual syllable durations. The latter method is described in Automatic syllable durations.\n\nA word or syllable of lyrics begins with an alphabetic character (plus some other characters, see below) and is terminated by any white space or a digit. Later characters in the syllable can be any character that is not a digit or white space.\n\nBecause any character that is not a digit or white space is regarded as part of the syllable, a word is valid even if it ends with }, which often leads to the following mistake:\n\n    \\lyricmode { lah lah lah}\n\nIn this example, the } is included in the final syllable, so the opening brace is not balanced and the input file will probably not compile. Instead, braces should always be surrounded with white space:\n\n    \\lyricmode { lah lah lah }\n\nPunctuation, lyrics with accented characters, characters from non-English languages, or special characters (such as the heart symbol or slanted quotes), may simply be inserted directly into the input file, providing it is saved with UTF-8 encoding. For more information, see Special characters.\n\n    \\relative c\'\' { d8 c16 a bes8 f e\' d c4 }\n    \\addlyrics { \u201eSchad\u2019 um das sch\xf6 -- ne gr\xfc -- ne Band, }\n\nNormal quotes may be used in lyrics, but they have to be preceded with a backslash character and the whole syllable has to be enclosed between additional quotes. For example,\n\n    \\relative c\' { \\time 3/4 e4 e4. e8 d4 e d c2. }\n    \\addlyrics { "\\"I" am so lone -- "ly,\\"" said she }\n\nThe full definition of a word start in lyrics mode is somewhat more complex. A word in lyrics mode is one that begins with an alphabetic character, _, ?, !, :, \', the control characters ^A through ^F, ^Q through ^W, ^Y, ^^, any 8-bit character with an ASCII code over 127, or a two-character combination of a backslash followed by one of `, \', ", or ^.\n\nGreat control over the appearance of lyrics comes from using \\markup inside the lyrics themselves. For explanation of many options, see Formatting text.'},{label:"\\lyricmode",detail:"Aligning lyrics to a melody",documentation:'Lyrics are printed by interpreting them in the context called Lyrics, see Contexts explained.\n\n    \\new Lyrics \\lyricmode { \u2026 }\n\nLyrics can be aligned with melodies in two main ways:\n\n - Lyrics can be aligned automatically, with the durations of the syllables being taken from another voice of music or (in special circumstances) an associated melody, using \\addlyrics, \\lyricsto, or by setting the associatedVoice property. For more details, see Automatic syllable durations.\n<<\n  \\new Staff <<\n    \\time 2/4\n    \\new Voice = "one" \\relative c\'\' {\n      \\voiceOne\n      c4 b8. a16 g4. r8 a4 ( b ) c2\n    }\n    \\new Voice = "two" \\relative c\' {\n      \\voiceTwo\n       s2 s4. f8 e4 d c2\n    }\n  >>\n\n% takes durations and alignment from notes in "one"\n  \\new Lyrics \\lyricsto "one" {\n    Life is __ _ love, live __ life.\n  }\n\n% takes durations and alignment from notes in "one" initially\n% then switches to "two"\n  \\new Lyrics \\lyricsto "one" {\n    No more let\n    \\set associatedVoice = "two"  % must be set one syllable early\n    sins and sor -- rows grow.\n  }\n>>\n \n\nThe first stanza shows the normal way of entering lyrics.\n\nThe second stanza shows how the voice from which the lyric durations are taken can be changed. This is useful if the words to different stanzas fit the notes in different ways and all the durations are available in Voice contexts. For more details, see Stanzas.\n\n\n - Lyrics can be aligned independently of the duration of any notes if the durations of the syllables are specified explicitly, and entered with \\lyricmode.\n<<\n  \\new Voice = "one" \\relative c\'\' {\n    \\time 2/4\n    c4 b8. a16 g4. f8 e4 d c2\n  }\n\n% uses previous explicit duration of 2;\n  \\new Lyrics \\lyricmode {\n    Joy to the earth!\n  }\n\n% explicit durations, set to a different rhythm\n  \\new Lyrics \\lyricmode {\n    Life4 is love,2. live4 life.2\n  }\n>>\n \n\nThe first stanza is not aligned with the notes because the durations were not specified, and the previous value of 2 is used for each word.\n\nThe second stanza shows how the words can be aligned quite independently from the notes. This is useful if the words to different stanzas fit the notes in different ways and the required durations are not available in a music context. For more details see Manual syllable durations. This technique is also useful when setting dialogue over music; for examples showing this, see Dialogue over music.\n\nWhen entered in this way the words are left-aligned to the notes by default, but may be center-aligned to the notes of a melody by specifying an associated voice, if one exists. For details, see Manual syllable durations.\n\n'},{label:"\\lyricsto",detail:"Aligning lyrics to a melody",documentation:'Lyrics are printed by interpreting them in the context called Lyrics, see Contexts explained.\n\n    \\new Lyrics \\lyricmode { \u2026 }\n\nLyrics can be aligned with melodies in two main ways:\n\n - Lyrics can be aligned automatically, with the durations of the syllables being taken from another voice of music or (in special circumstances) an associated melody, using \\addlyrics, \\lyricsto, or by setting the associatedVoice property. For more details, see Automatic syllable durations.\n<<\n  \\new Staff <<\n    \\time 2/4\n    \\new Voice = "one" \\relative c\'\' {\n      \\voiceOne\n      c4 b8. a16 g4. r8 a4 ( b ) c2\n    }\n    \\new Voice = "two" \\relative c\' {\n      \\voiceTwo\n       s2 s4. f8 e4 d c2\n    }\n  >>\n\n% takes durations and alignment from notes in "one"\n  \\new Lyrics \\lyricsto "one" {\n    Life is __ _ love, live __ life.\n  }\n\n% takes durations and alignment from notes in "one" initially\n% then switches to "two"\n  \\new Lyrics \\lyricsto "one" {\n    No more let\n    \\set associatedVoice = "two"  % must be set one syllable early\n    sins and sor -- rows grow.\n  }\n>>\n \n\nThe first stanza shows the normal way of entering lyrics.\n\nThe second stanza shows how the voice from which the lyric durations are taken can be changed. This is useful if the words to different stanzas fit the notes in different ways and all the durations are available in Voice contexts. For more details, see Stanzas.\n\n\n - Lyrics can be aligned independently of the duration of any notes if the durations of the syllables are specified explicitly, and entered with \\lyricmode.\n<<\n  \\new Voice = "one" \\relative c\'\' {\n    \\time 2/4\n    c4 b8. a16 g4. f8 e4 d c2\n  }\n\n% uses previous explicit duration of 2;\n  \\new Lyrics \\lyricmode {\n    Joy to the earth!\n  }\n\n% explicit durations, set to a different rhythm\n  \\new Lyrics \\lyricmode {\n    Life4 is love,2. live4 life.2\n  }\n>>\n \n\nThe first stanza is not aligned with the notes because the durations were not specified, and the previous value of 2 is used for each word.\n\nThe second stanza shows how the words can be aligned quite independently from the notes. This is useful if the words to different stanzas fit the notes in different ways and the required durations are not available in a music context. For more details see Manual syllable durations. This technique is also useful when setting dialogue over music; for examples showing this, see Dialogue over music.\n\nWhen entered in this way the words are left-aligned to the notes by default, but may be center-aligned to the notes of a melody by specifying an associated voice, if one exists. For details, see Manual syllable durations.\n\n'},{label:"\\lyricsto",detail:"Automatic syllable durations",documentation:"Lyrics can be automatically aligned to the notes of a melody in three ways:\n\n - by specifying the named Voice context containing the melody with \\lyricsto,\n - by introducing the lyrics with \\addlyrics and placing them immediately after the Voice context containing the melody,\n - by setting the associatedVoice property, the alignment of the lyrics may be switched to a different named Voice context at any musical moment.\n\nIn all three methods hyphens can be drawn between the syllables of a word and extender lines can be drawn beyond the end of a word. For details, see Extenders and hyphens.\n\nThe Voice context containing the melody to which the lyrics are being aligned must not have \u201cdied\u201d, or the lyrics after that point will be lost. This can happen if there are periods when that voice has nothing to do. For methods of keeping contexts alive, see Keeping contexts alive."},{label:"\\lyricsto",detail:"Using \\lyricsto",documentation:'Lyrics can be aligned under a melody automatically by specifying the named Voice context containing the melody with \\lyricsto:\n\n    <<\n      \\new Voice = "melody" {\n        a1 a4. a8 a2\n      }\n      \\new Lyrics \\lyricsto "melody" {\n        These are the words\n      }\n    >>\n\nThis aligns the lyrics to the notes of the named Voice context, which must already exist. Therefore normally the Voice context is specified first, followed by the Lyrics context. The lyrics themselves follow the \\lyricsto command. The \\lyricsto command invokes lyric mode automatically, so the \\lyricmode keyword may be omitted. By default, the lyrics are placed underneath the notes. For other placements, see Placing lyrics vertically.'},{label:"\\magnify",detail:"Selecting font and font size",documentation:"The font size can be altered, relative to the global staff size, in a number of different ways\n\nIt can be set to predefined size,\n\n    b1_\\markup { \\huge Sinfonia }\n    b1^\\markup { \\teeny da }\n    b1-\\markup { \\normalsize camera }\n\nIt can be set relative to its previous value,\n\n    b1_\\markup { \\larger Sinfonia }\n    b1^\\markup { \\smaller da }\n    b1-\\markup { \\magnify #0.6  camera }\n\nIt can be increased or decreased relative to the value set by the global staff size,\n\n    b1_\\markup { \\fontsize #-2 Sinfonia }\n    b1^\\markup { \\fontsize #1 da }\n    b1-\\markup { \\fontsize #3 camera }\n\nIt can also be set to a fixed point-size, regardless of the global staff size,\n\n    b1_\\markup { \\abs-fontsize #20 Sinfonia }\n    b1^\\markup { \\abs-fontsize #8 da }\n    b1-\\markup { \\abs-fontsize #14 camera }"},{label:"\\magnify",detail:"A.10.1 Font",documentation:"Set the font magnification for its argument. In the following example, the middle\xa0A is 10% larger:\n\n    A \\magnify #1.1 { A } A\n\nNote: Magnification only works if a font name is explicitly selected. Use \\fontsize otherwise.\n\n    \\markup {\n      default\n      \\hspace #2\n      \\magnify #1.5 {\n        50% larger\n      }\n    }"},{label:"\\major",detail:"Key signature",documentation:'Here, mode should be \\major or \\minor to get a key signature of pitch-major or pitch-minor, respectively. You may also use the standard mode names, also called church modes: \\ionian, \\dorian, \\phrygian, \\lydian, \\mixolydian, \\aeolian, and \\locrian.\n\n    \\key g \\major\n    fis1\n    f\n    fis\n\nAdditional modes can be defined, by listing the alterations for each scale step when the mode starts on C.\n\n    freygish = #`((0 . ,NATURAL) (1 . ,FLAT) (2 . ,NATURAL)\n        (3 . ,NATURAL) (4 . ,NATURAL) (5 . ,FLAT) (6 . ,FLAT))\n    \\relative c\' {\n      \\key c \\freygish c4 des e f\n      \\bar "||" \\key d \\freygish d es fis g\n    }\n\nAccidentals in the key signature may be printed in octaves other than their traditional positions, or in multiple octaves, by using the flat-positions and sharp-positions properties of KeySignature. Entries in these properties specify the range of staff-positions where accidentals will be printed. If a single position is specified in an entry, the accidentals are placed within the octave ending at that staff position.\n\n    \\override Staff.KeySignature.flat-positions = #\'((-5 . 5))\n    \\override Staff.KeyCancellation.flat-positions = #\'((-5 . 5))\n    \\clef bass \\key es \\major es g bes d\n    \\clef treble \\bar "||" \\key es \\major es g bes d\n    \\override Staff.KeySignature.sharp-positions = #\'(2)\n    \\bar "||" \\key b \\major b fis b2'},{label:"\\makeClusters",detail:"Clusters",documentation:"A cluster indicates a continuous range of pitches to be played. They can be denoted as the envelope of a set of notes. They are entered by applying the function \\makeClusters to a sequence of chords, e.g.,\n\n    \\makeClusters { <g b>2 <c g'> }\n\nOrdinary notes and clusters can be put together in the same staff, even simultaneously. In such a case no attempt is made to automatically avoid collisions between ordinary notes and clusters."},{label:"\\map-markup-commands",detail:"A.11 Text markup list commands",documentation:"This applies the function compose to every markup in args (including elements of markup list command calls) in order to produce a new markup list. Since the return value from a markup list command call is not a markup list but rather a list of stencils, this requires passing those stencils off as the results of individual markup calls. That way, the results should work out as long as no markups rely on side effects."},{label:"\\marcato",detail:"Articulations and ornamentations",documentation:"A variety of symbols that denote articulations, ornamentations, and other performance indications can be attached to a note using this syntax:\n\n    note\\name\n\nThe possible values for name are listed in List of articulations. For example:\n\n    c4\\staccato c\\mordent b2\\turn\n    c1\\fermata"},{label:"\\mark",detail:"Rehearsal marks",documentation:"To print a rehearsal mark, use the \\mark command.\n\n    c1 \\mark \\default\n    c1 \\mark \\default\n    c1 \\mark \\default\n    c1 \\mark \\default\n\nThe mark is incremented automatically if you use \\mark \\default, but you can also use an integer argument to set the mark manually. The value to use is stored in the property rehearsalMark.\n\n    c1 \\mark \\default\n    c1 \\mark \\default\n    c1 \\mark #8\n    c1 \\mark \\default\n    c1 \\mark \\default\n\nThe letter\xa0\u2018I\u2019 is skipped in accordance with engraving traditions. If you wish to include the letter \u2018I\u2019, then use one of the following commands, depending on which style of rehearsal mark you want (letters only, letters in a hollow box, or letters in a hollow circle).\n\n    \\set Score.markFormatter = #format-mark-alphabet\n    \\set Score.markFormatter = #format-mark-box-alphabet\n    \\set Score.markFormatter = #format-mark-circle-alphabet\n\n    \\set Score.markFormatter = #format-mark-box-alphabet\n    c1 \\mark \\default\n    c1 \\mark \\default\n    c1 \\mark #8\n    c1 \\mark \\default\n    c1 \\mark \\default"},{label:"\\mark",detail:"Text marks",documentation:'Various text elements may be added to a score using the syntax described in Rehearsal marks:\n\n    c4\n    \\mark "Allegro"\n    c c c\n\nThis syntax makes it possible to put any text on a bar line; more complex text formatting may be added using a \\markup block, as described in Formatting text:\n\n    <c e>1\n    \\mark \\markup { \\italic { colla parte } }\n    <d f>2 <e g>\n    <c f aes>1\n\nThis syntax also allows to print special signs, like coda, segno or fermata, by specifying the appropriate symbol name as explained in Music notation inside markup:\n\n    <bes f>2 <aes d>\n    \\mark \\markup { \\musicglyph #"scripts.ufermata" }\n    <e g>1\n\nSuch objects are only typeset above the top staff of the score; depending on whether they are specified at the end or the middle of a bar, they can be placed above the bar line or between notes. When specified at a line break, the mark will be printed at the beginning of the next line.\n\n    \\mark "Allegro"\n    c1 c\n    \\mark "assai" \\break\n    c  c'},{label:"\\markalphabet",detail:"A.10.7 Other",documentation:"Make a markup letter for num. The letters start with A to\xa0Z and continue with double letters.\n\n    \\markup {\n      \\markalphabet #8\n      \\hspace #2\n      \\markalphabet #26\n    }"},{label:"\\markLengthOff",detail:"Metronome marks",documentation:'In a part for an instrument with long periods of rests, tempo indications sometimes follow each other closely. The command \\markLengthOn provides extra horizontal space to prevent tempo indications from overlapping, and \\markLengthOff restores the default behavior of ignoring tempo marks for horizontal spacing.\n\n    \\compressFullBarRests\n    \\markLengthOn\n    \\tempo "Molto vivace"\n    R1*12\n    \\tempo "Meno mosso"\n    R1*16\n    \\markLengthOff\n    \\tempo "Tranquillo"\n    R1*20'},{label:"\\markLengthOff",detail:"Text marks",documentation:"\\markLengthOn, \\markLengthOff."},{label:"\\markLengthOn",detail:"Metronome marks",documentation:'In a part for an instrument with long periods of rests, tempo indications sometimes follow each other closely. The command \\markLengthOn provides extra horizontal space to prevent tempo indications from overlapping, and \\markLengthOff restores the default behavior of ignoring tempo marks for horizontal spacing.\n\n    \\compressFullBarRests\n    \\markLengthOn\n    \\tempo "Molto vivace"\n    R1*12\n    \\tempo "Meno mosso"\n    R1*16\n    \\markLengthOff\n    \\tempo "Tranquillo"\n    R1*20'},{label:"\\markLengthOn",detail:"Text marks",documentation:"\\markLengthOn, \\markLengthOff."},{label:"\\markletter",detail:"A.10.7 Other",documentation:"Make a markup letter for num. The letters start with A to\xa0Z (skipping letter\xa0I), and continue with double letters.\n\n    \\markup {\n      \\markletter #8\n      \\hspace #2\n      \\markletter #26\n    }"},{label:"\\markup",detail:"Text marks",documentation:'Various text elements may be added to a score using the syntax described in Rehearsal marks:\n\n    c4\n    \\mark "Allegro"\n    c c c\n\nThis syntax makes it possible to put any text on a bar line; more complex text formatting may be added using a \\markup block, as described in Formatting text:\n\n    <c e>1\n    \\mark \\markup { \\italic { colla parte } }\n    <d f>2 <e g>\n    <c f aes>1\n\nThis syntax also allows to print special signs, like coda, segno or fermata, by specifying the appropriate symbol name as explained in Music notation inside markup:\n\n    <bes f>2 <aes d>\n    \\mark \\markup { \\musicglyph #"scripts.ufermata" }\n    <e g>1\n\nSuch objects are only typeset above the top staff of the score; depending on whether they are specified at the end or the middle of a bar, they can be placed above the bar line or between notes. When specified at a line break, the mark will be printed at the beginning of the next line.\n\n    \\mark "Allegro"\n    c1 c\n    \\mark "assai" \\break\n    c  c'},{label:"\\markup",detail:"Separate text",documentation:"A \\markup block can exist by itself, outside of any \\score block, as a \u201ctop-level expression\u201d. This syntax is described in File structure.\n\n    \\markup {\n      Tomorrow, and tomorrow, and tomorrow...\n    }\n\nThis allows printing text separately from the music, which is particularly useful when the input file contains several music pieces, as described in Multiple scores in a book.\n\n    \\score {\n      c'1\n    }\n    \\markup {\n      Tomorrow, and tomorrow, and tomorrow...\n    }\n    \\score {\n      c'1\n    }\n\nSeparate text blocks can be spread over multiple pages, making it possible to print text documents or books entirely within LilyPond. This feature, and the specific syntax it requires, are described in Multi-page markup."},{label:"\\markup",detail:"Separate text",documentation:"\\markup, \\markuplist."},{label:"\\markup",detail:"Text markup introduction",documentation:"A \\markup block is used to typeset text with an extensible syntax called \u201cmarkup mode\u201d."},{label:"\\markuplist",detail:"Separate text",documentation:"\\markup, \\markuplist."},{label:"\\markuplist",detail:"Multi-page markup",documentation:"Although standard markup objects are not breakable, a specific syntax makes it possible to enter lines of text that can spread over multiple pages:\n\n    \\markuplist {\n      \\justified-lines {\n        A very long text of justified lines.\n        ...\n      }\n      \\wordwrap-lines {\n        Another very long paragraph.\n        ...\n      }\n      ...\n    }\n\nThis syntax accepts a list of markups, that can be\n\n - the result of a markup list command,\n - a list of markups,\n - a list of markup lists.\n\nAn exhaustive list of markup list commands can be found in Text markup list commands."},{label:"\\maxima",detail:"Durations",documentation:"Durations are designated by numbers and dots. Durations are entered as their reciprocal values. For example, a quarter note is entered using a 4 (since it is a 1/4 note), and a half note is entered using a 2 (since it is a 1/2 note). For notes longer than a whole you must use the \\longa (a double breve) and \\breve commands. Durations as short as 128th notes may be specified. Shorter values are possible, but only as beamed notes.\n\n    \\time 8/1\n    c\\longa c\\breve c1 c2\n    c4 c8 c16 c32 c64 c128 c128\n\nHere are the same durations with automatic beaming turned off.\n\n    \\time 8/1\n    \\autoBeamOff\n    c\\longa c\\breve c1 c2\n    c4 c8 c16 c32 c64 c128 c128\n\nA note with the duration of a quadruple breve may be entered with \\maxima, but this is supported only within ancient music notation. For details, see Ancient notation."},{label:"\\maxima",detail:"Rests",documentation:"Rests are entered like notes with the note name r. Durations longer than a whole rest use the following predefined commands:\n\n    \\new Staff {\n      % These two lines are just to prettify this example\n      \\time 16/1\n      \\omit Staff.TimeSignature\n      % Print a maxima rest, equal to four breves\n      r\\maxima\n      % Print a longa rest, equal to two breves\n      r\\longa\n      % Print a breve rest\n      r\\breve\n      r1 r2 r4 r8 r16 r32 r64 r128\n    }"},{label:"\\medium",detail:"A.10.1 Font",documentation:"Switch to medium font-series (in contrast to bold).\n\n    \\markup {\n      \\bold {\n        some bold text\n        \\hspace #2\n        \\medium {\n          medium font series\n        }\n        \\hspace #2\n        bold again\n      }\n    }"},{label:"\\melisma",detail:"Multiple notes to one syllable",documentation:'Sometimes, particularly in Medieval and baroque music, several notes are sung on one syllable; this is called melisma, see melisma. The syllable to a melisma is usually left-aligned with the first note of the melisma.\n\nWhen a melisma occurs on a syllable other than the last one in a word, that syllable is usually joined to the following one with a hyphenated line. This is indicated by placing a double hyphen, --, immediately after the syllable.\n\nAlternatively, when a melisma occurs on the last or only syllable in a word an extender line is usually drawn from the end of the syllable to the last note of the melisma. This is indicated by placing a double underscore, __, immediately after the word.\n\nThere are five ways in which melismata can be indicated:\n\n - Melismata are created automatically over notes which are tied together:\n<<\n  \\new Voice = "melody" {\n    \\time 3/4\n    f4 g2 ~ |\n    g4 e2 ~ |\n    e8\n  }\n  \\new Lyrics \\lyricsto "melody" {\n    Ky -- ri -- e __\n  }\n>>\n \n\n\n - Melismata can be created automatically from the music by placing slurs over the notes of each melisma. This is the usual way of entering lyrics:\n<<\n  \\new Voice = "melody" {\n    \\time 3/4\n    f4 g8 ( f e f )\n    e8 ( d e2 )\n  }\n  \\new Lyrics \\lyricsto "melody" {\n    Ky -- ri -- e __\n  }\n>>\n \n\nNote that phrasing slurs do not affect the creation of melismata.\n\n\n - Notes are considered a melisma if they are manually beamed, providing automatic beaming is switched off. See Setting automatic beam behavior.\n<<\n  \\new Voice = "melody" {\n    \\time 3/4\n    \\autoBeamOff\n    f4 g8[ f e f]\n    e2.\n  }\n  \\new Lyrics \\lyricsto "melody" {\n    Ky -- ri -- e\n  }\n>>\n \n\nClearly this is not suited to melismata over notes which are longer than eighth notes.\n\n\n - An unslurred group of notes will be treated as a melisma if they are bracketed between \\melisma and \\melismaEnd.\n<<\n  \\new Voice = "melody" {\n    \\time 3/4\n    f4 g8\n    \\melisma\n    f e f\n    \\melismaEnd\n    e2.\n  }\n  \\new Lyrics \\lyricsto "melody" {\n    Ky -- ri -- e\n  }\n>>\n \n\n\n - A melisma can be defined entirely in the lyrics by entering a single underscore character, _, for every extra note that has to be added to the melisma.\n<<\n  \\new Voice = "melody" {\n    \\time 3/4\n    f4 g8 f e f\n    e8 d e2\n  }\n  \\new Lyrics \\lyricsto "melody" {\n    Ky -- ri -- _ _ _ e __ _ _\n  }\n>>\n \n\n\n\nIt is possible to have ties, slurs and manual beams in the melody without their indicating melismata. To do this, set melismaBusyProperties:\n\n    <<\n      \\new Voice = "melody" {\n        \\time 3/4\n        \\set melismaBusyProperties = #\'()\n        c4 d ( e )\n        g8 [ f ] f4 ~ f\n      }\n      \\new Lyrics \\lyricsto "melody" {\n        Ky -- ri -- e e -- le -- i -- son\n      }\n    >>\n\nOther settings for melismaBusyProperties can be used to selectively include or exclude ties, slurs, and beams from the automatic detection of melismata; see melismaBusyProperties in Tunable context properties.\n\nAlternatively, if all melismata indications are to be ignored, ignoreMelismata may be set true; see Stanzas with different rhythms.\n\nIf a melisma is required during a passage in which melismaBusyProperties is active, it may be indicated by placing a single underscore in the lyrics for each note which should be included in the melisma:\n\n    <<\n      \\new Voice = "melody" {\n        \\time 3/4\n        \\set melismaBusyProperties = #\'()\n        c4 d ( e )\n        g8 [ f ] ~ f4 ~ f\n      }\n      \\new Lyrics \\lyricsto "melody" {\n        Ky -- ri -- _ e __ _ _ _\n      }\n    >>'},{label:"\\melismaEnd",detail:"Multiple notes to one syllable",documentation:'Sometimes, particularly in Medieval and baroque music, several notes are sung on one syllable; this is called melisma, see melisma. The syllable to a melisma is usually left-aligned with the first note of the melisma.\n\nWhen a melisma occurs on a syllable other than the last one in a word, that syllable is usually joined to the following one with a hyphenated line. This is indicated by placing a double hyphen, --, immediately after the syllable.\n\nAlternatively, when a melisma occurs on the last or only syllable in a word an extender line is usually drawn from the end of the syllable to the last note of the melisma. This is indicated by placing a double underscore, __, immediately after the word.\n\nThere are five ways in which melismata can be indicated:\n\n - Melismata are created automatically over notes which are tied together:\n<<\n  \\new Voice = "melody" {\n    \\time 3/4\n    f4 g2 ~ |\n    g4 e2 ~ |\n    e8\n  }\n  \\new Lyrics \\lyricsto "melody" {\n    Ky -- ri -- e __\n  }\n>>\n \n\n\n - Melismata can be created automatically from the music by placing slurs over the notes of each melisma. This is the usual way of entering lyrics:\n<<\n  \\new Voice = "melody" {\n    \\time 3/4\n    f4 g8 ( f e f )\n    e8 ( d e2 )\n  }\n  \\new Lyrics \\lyricsto "melody" {\n    Ky -- ri -- e __\n  }\n>>\n \n\nNote that phrasing slurs do not affect the creation of melismata.\n\n\n - Notes are considered a melisma if they are manually beamed, providing automatic beaming is switched off. See Setting automatic beam behavior.\n<<\n  \\new Voice = "melody" {\n    \\time 3/4\n    \\autoBeamOff\n    f4 g8[ f e f]\n    e2.\n  }\n  \\new Lyrics \\lyricsto "melody" {\n    Ky -- ri -- e\n  }\n>>\n \n\nClearly this is not suited to melismata over notes which are longer than eighth notes.\n\n\n - An unslurred group of notes will be treated as a melisma if they are bracketed between \\melisma and \\melismaEnd.\n<<\n  \\new Voice = "melody" {\n    \\time 3/4\n    f4 g8\n    \\melisma\n    f e f\n    \\melismaEnd\n    e2.\n  }\n  \\new Lyrics \\lyricsto "melody" {\n    Ky -- ri -- e\n  }\n>>\n \n\n\n - A melisma can be defined entirely in the lyrics by entering a single underscore character, _, for every extra note that has to be added to the melisma.\n<<\n  \\new Voice = "melody" {\n    \\time 3/4\n    f4 g8 f e f\n    e8 d e2\n  }\n  \\new Lyrics \\lyricsto "melody" {\n    Ky -- ri -- _ _ _ e __ _ _\n  }\n>>\n \n\n\n\nIt is possible to have ties, slurs and manual beams in the melody without their indicating melismata. To do this, set melismaBusyProperties:\n\n    <<\n      \\new Voice = "melody" {\n        \\time 3/4\n        \\set melismaBusyProperties = #\'()\n        c4 d ( e )\n        g8 [ f ] f4 ~ f\n      }\n      \\new Lyrics \\lyricsto "melody" {\n        Ky -- ri -- e e -- le -- i -- son\n      }\n    >>\n\nOther settings for melismaBusyProperties can be used to selectively include or exclude ties, slurs, and beams from the automatic detection of melismata; see melismaBusyProperties in Tunable context properties.\n\nAlternatively, if all melismata indications are to be ignored, ignoreMelismata may be set true; see Stanzas with different rhythms.\n\nIf a melisma is required during a passage in which melismaBusyProperties is active, it may be indicated by placing a single underscore in the lyrics for each note which should be included in the melisma:\n\n    <<\n      \\new Voice = "melody" {\n        \\time 3/4\n        \\set melismaBusyProperties = #\'()\n        c4 d ( e )\n        g8 [ f ] ~ f4 ~ f\n      }\n      \\new Lyrics \\lyricsto "melody" {\n        Ky -- ri -- _ e __ _ _ _\n      }\n    >>'},{label:"\\mergeDifferentlyDottedOff",detail:"Collision resolution",documentation:"The note heads of notes in different voices with the same pitch, same note head and opposite stem direction are automatically merged, but notes with different note heads or the same stem direction are not. Rests opposite a stem in a different voice are shifted vertically. The following example shows three different circumstances, on beats 1 and 3 in bar 1 and beat 1 in bar 2, where the automatic merging fails.\n\n    <<\n      {\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nNotes with different note heads may be merged as shown below. In this example the note heads on beat 1 of bar 1 are now merged:\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nQuarter and half notes are not merged in this way, since it would be difficult to tell them apart.\n\nNote heads with different dots as shown in beat 3 of bar 1 may be also be merged:\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        \\mergeDifferentlyDottedOn\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nThe half note and eighth note at the start of the second measure are incorrectly merged because the automatic merge cannot successfully complete the merge when three or more notes line up in the same note column, and in this case the merged note head is incorrect. To allow the merge to select the correct note head a \\shift must be applied to the note that should not be merged. Here, \\shiftOn is applied to move the top g out of the column, and \\mergeDifferentlyHeadedOn then works properly.\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        \\mergeDifferentlyDottedOn\n        c8 d e d c d c4\n        \\shiftOn\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nThe \\shiftOn command allows (but does not force) the notes in a voice to be shifted. When \\shiftOn is applied to a voice, a note or chord in that voice is shifted only if its stem would otherwise collide with a stem from another voice, and only if the colliding stems point in the same direction. The \\shiftOff command prevents this type of shifting from occurring.\n\nBy default, the outer voices (normally voices one and two) have \\shiftOff specified, while the inner voices (three and above) have \\shiftOn specified. When a shift is applied, voices with upstems (odd-numbered voices) are shifted to the right, and voices with downstems (even-numbered voices) are shifted to the left.\n\nHere is an example to help you visualize how an abbreviated polyphonic expression would be expanded internally.\n\nNote: Note that with three or more voices, the vertical order of voices in your input file should not be the same as the vertical order of voices on the staff!\n\n\n\n    \\new Staff \\relative c'' {\n      %% abbreviated entry\n      <<\n        { f2  }  % 1: highest\n        \\\\\n        { g,2 }  % 2: lowest\n        \\\\\n        { d'2 }  % 3: upper middle\n        \\\\\n        { b2  }  % 4: lower middle\n      >>\n      %% internal expansion of the above\n      <<\n        \\new Voice = \"1\" { \\voiceOne   \\shiftOff f'2 }\n        \\new Voice = \"2\" { \\voiceTwo   \\shiftOff g,2 }\n        \\new Voice = \"3\" { \\voiceThree \\shiftOn  d'2 } % shifts right\n        \\new Voice = \"4\" { \\voiceFour  \\shiftOn  b2  } % shifts left\n      >>\n    }\n\nTwo additional commands, \\shiftOnn and \\shiftOnnn provide further shift levels which may be specified temporarily to resolve collisions in complex situations \u2013 see Real music example.\n\nNotes are only merged if they have opposing stem directions (as they have, for example, in voices one and two by default or when the stems are explicitly set in opposite directions)."},{label:"\\mergeDifferentlyDottedOn",detail:"Collision resolution",documentation:"The note heads of notes in different voices with the same pitch, same note head and opposite stem direction are automatically merged, but notes with different note heads or the same stem direction are not. Rests opposite a stem in a different voice are shifted vertically. The following example shows three different circumstances, on beats 1 and 3 in bar 1 and beat 1 in bar 2, where the automatic merging fails.\n\n    <<\n      {\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nNotes with different note heads may be merged as shown below. In this example the note heads on beat 1 of bar 1 are now merged:\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nQuarter and half notes are not merged in this way, since it would be difficult to tell them apart.\n\nNote heads with different dots as shown in beat 3 of bar 1 may be also be merged:\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        \\mergeDifferentlyDottedOn\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nThe half note and eighth note at the start of the second measure are incorrectly merged because the automatic merge cannot successfully complete the merge when three or more notes line up in the same note column, and in this case the merged note head is incorrect. To allow the merge to select the correct note head a \\shift must be applied to the note that should not be merged. Here, \\shiftOn is applied to move the top g out of the column, and \\mergeDifferentlyHeadedOn then works properly.\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        \\mergeDifferentlyDottedOn\n        c8 d e d c d c4\n        \\shiftOn\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nThe \\shiftOn command allows (but does not force) the notes in a voice to be shifted. When \\shiftOn is applied to a voice, a note or chord in that voice is shifted only if its stem would otherwise collide with a stem from another voice, and only if the colliding stems point in the same direction. The \\shiftOff command prevents this type of shifting from occurring.\n\nBy default, the outer voices (normally voices one and two) have \\shiftOff specified, while the inner voices (three and above) have \\shiftOn specified. When a shift is applied, voices with upstems (odd-numbered voices) are shifted to the right, and voices with downstems (even-numbered voices) are shifted to the left.\n\nHere is an example to help you visualize how an abbreviated polyphonic expression would be expanded internally.\n\nNote: Note that with three or more voices, the vertical order of voices in your input file should not be the same as the vertical order of voices on the staff!\n\n\n\n    \\new Staff \\relative c'' {\n      %% abbreviated entry\n      <<\n        { f2  }  % 1: highest\n        \\\\\n        { g,2 }  % 2: lowest\n        \\\\\n        { d'2 }  % 3: upper middle\n        \\\\\n        { b2  }  % 4: lower middle\n      >>\n      %% internal expansion of the above\n      <<\n        \\new Voice = \"1\" { \\voiceOne   \\shiftOff f'2 }\n        \\new Voice = \"2\" { \\voiceTwo   \\shiftOff g,2 }\n        \\new Voice = \"3\" { \\voiceThree \\shiftOn  d'2 } % shifts right\n        \\new Voice = \"4\" { \\voiceFour  \\shiftOn  b2  } % shifts left\n      >>\n    }\n\nTwo additional commands, \\shiftOnn and \\shiftOnnn provide further shift levels which may be specified temporarily to resolve collisions in complex situations \u2013 see Real music example.\n\nNotes are only merged if they have opposing stem directions (as they have, for example, in voices one and two by default or when the stems are explicitly set in opposite directions)."},{label:"\\mergeDifferentlyHeadedOff",detail:"Collision resolution",documentation:"The note heads of notes in different voices with the same pitch, same note head and opposite stem direction are automatically merged, but notes with different note heads or the same stem direction are not. Rests opposite a stem in a different voice are shifted vertically. The following example shows three different circumstances, on beats 1 and 3 in bar 1 and beat 1 in bar 2, where the automatic merging fails.\n\n    <<\n      {\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nNotes with different note heads may be merged as shown below. In this example the note heads on beat 1 of bar 1 are now merged:\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nQuarter and half notes are not merged in this way, since it would be difficult to tell them apart.\n\nNote heads with different dots as shown in beat 3 of bar 1 may be also be merged:\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        \\mergeDifferentlyDottedOn\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nThe half note and eighth note at the start of the second measure are incorrectly merged because the automatic merge cannot successfully complete the merge when three or more notes line up in the same note column, and in this case the merged note head is incorrect. To allow the merge to select the correct note head a \\shift must be applied to the note that should not be merged. Here, \\shiftOn is applied to move the top g out of the column, and \\mergeDifferentlyHeadedOn then works properly.\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        \\mergeDifferentlyDottedOn\n        c8 d e d c d c4\n        \\shiftOn\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nThe \\shiftOn command allows (but does not force) the notes in a voice to be shifted. When \\shiftOn is applied to a voice, a note or chord in that voice is shifted only if its stem would otherwise collide with a stem from another voice, and only if the colliding stems point in the same direction. The \\shiftOff command prevents this type of shifting from occurring.\n\nBy default, the outer voices (normally voices one and two) have \\shiftOff specified, while the inner voices (three and above) have \\shiftOn specified. When a shift is applied, voices with upstems (odd-numbered voices) are shifted to the right, and voices with downstems (even-numbered voices) are shifted to the left.\n\nHere is an example to help you visualize how an abbreviated polyphonic expression would be expanded internally.\n\nNote: Note that with three or more voices, the vertical order of voices in your input file should not be the same as the vertical order of voices on the staff!\n\n\n\n    \\new Staff \\relative c'' {\n      %% abbreviated entry\n      <<\n        { f2  }  % 1: highest\n        \\\\\n        { g,2 }  % 2: lowest\n        \\\\\n        { d'2 }  % 3: upper middle\n        \\\\\n        { b2  }  % 4: lower middle\n      >>\n      %% internal expansion of the above\n      <<\n        \\new Voice = \"1\" { \\voiceOne   \\shiftOff f'2 }\n        \\new Voice = \"2\" { \\voiceTwo   \\shiftOff g,2 }\n        \\new Voice = \"3\" { \\voiceThree \\shiftOn  d'2 } % shifts right\n        \\new Voice = \"4\" { \\voiceFour  \\shiftOn  b2  } % shifts left\n      >>\n    }\n\nTwo additional commands, \\shiftOnn and \\shiftOnnn provide further shift levels which may be specified temporarily to resolve collisions in complex situations \u2013 see Real music example.\n\nNotes are only merged if they have opposing stem directions (as they have, for example, in voices one and two by default or when the stems are explicitly set in opposite directions)."},{label:"\\mergeDifferentlyHeadedOn",detail:"Collision resolution",documentation:"The note heads of notes in different voices with the same pitch, same note head and opposite stem direction are automatically merged, but notes with different note heads or the same stem direction are not. Rests opposite a stem in a different voice are shifted vertically. The following example shows three different circumstances, on beats 1 and 3 in bar 1 and beat 1 in bar 2, where the automatic merging fails.\n\n    <<\n      {\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nNotes with different note heads may be merged as shown below. In this example the note heads on beat 1 of bar 1 are now merged:\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nQuarter and half notes are not merged in this way, since it would be difficult to tell them apart.\n\nNote heads with different dots as shown in beat 3 of bar 1 may be also be merged:\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        \\mergeDifferentlyDottedOn\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nThe half note and eighth note at the start of the second measure are incorrectly merged because the automatic merge cannot successfully complete the merge when three or more notes line up in the same note column, and in this case the merged note head is incorrect. To allow the merge to select the correct note head a \\shift must be applied to the note that should not be merged. Here, \\shiftOn is applied to move the top g out of the column, and \\mergeDifferentlyHeadedOn then works properly.\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        \\mergeDifferentlyDottedOn\n        c8 d e d c d c4\n        \\shiftOn\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nThe \\shiftOn command allows (but does not force) the notes in a voice to be shifted. When \\shiftOn is applied to a voice, a note or chord in that voice is shifted only if its stem would otherwise collide with a stem from another voice, and only if the colliding stems point in the same direction. The \\shiftOff command prevents this type of shifting from occurring.\n\nBy default, the outer voices (normally voices one and two) have \\shiftOff specified, while the inner voices (three and above) have \\shiftOn specified. When a shift is applied, voices with upstems (odd-numbered voices) are shifted to the right, and voices with downstems (even-numbered voices) are shifted to the left.\n\nHere is an example to help you visualize how an abbreviated polyphonic expression would be expanded internally.\n\nNote: Note that with three or more voices, the vertical order of voices in your input file should not be the same as the vertical order of voices on the staff!\n\n\n\n    \\new Staff \\relative c'' {\n      %% abbreviated entry\n      <<\n        { f2  }  % 1: highest\n        \\\\\n        { g,2 }  % 2: lowest\n        \\\\\n        { d'2 }  % 3: upper middle\n        \\\\\n        { b2  }  % 4: lower middle\n      >>\n      %% internal expansion of the above\n      <<\n        \\new Voice = \"1\" { \\voiceOne   \\shiftOff f'2 }\n        \\new Voice = \"2\" { \\voiceTwo   \\shiftOff g,2 }\n        \\new Voice = \"3\" { \\voiceThree \\shiftOn  d'2 } % shifts right\n        \\new Voice = \"4\" { \\voiceFour  \\shiftOn  b2  } % shifts left\n      >>\n    }\n\nTwo additional commands, \\shiftOnn and \\shiftOnnn provide further shift levels which may be specified temporarily to resolve collisions in complex situations \u2013 see Real music example.\n\nNotes are only merged if they have opposing stem directions (as they have, for example, in voices one and two by default or when the stems are explicitly set in opposite directions)."},{label:"\\mf",detail:"Dynamics",documentation:"Absolute dynamic marks are specified using a command after a note, such as c4\\ff. The available dynamic marks are \\ppppp, \\pppp, \\ppp, \\pp, \\p, \\mp, \\mf, \\f, \\ff, \\fff, \\ffff, \\fffff, \\fp, \\sf, \\sff, \\sp, \\spp, \\sfz, and \\rfz. Dynamic marks may be manually placed above or below the staff; see Direction and placement.\n\n    c2\\ppp c\\mp\n    c2\\rfz c^\\mf\n    c2_\\spp c^\\ff"},{label:"\\midi",detail:"3.1.5 File structure",documentation:"A \u2018.ly\u2019 file may contain any number of toplevel expressions, where a toplevel expression is one of the following:\n\n - An output definition, such as \\paper, \\midi, and \\layout. Such a definition at the toplevel changes the default book-wide settings. If more than one such definition of the same type is entered at the top level the definitions are combined, but in conflicting situations the later definitions take precedence. For details of how this affects the \\layout block see The \\layout block.\n - A direct scheme expression, such as #(set-default-paper-size \"a7\" 'landscape) or #(ly:set-option 'point-and-click #f).\n - A \\header block. This sets the global (i.e. the top of file) header block. This is the block containing the default settings of titling fields like composer, title, etc. for all books within the file (see Titles explained).\n - A \\score block. This score will be collected with other toplevel scores, and combined as a single \\book. This behavior can be changed by setting the variable toplevel-score-handler at toplevel. The default handler is defined in the init file \u2018../scm/lily.scm\u2019.\n - A \\book block logically combines multiple movements (i.e., multiple \\score blocks) in one document. If there are a number of \\scores, one output file will be created for each \\book block, in which all corresponding movements are concatenated. The only reason to explicitly specify \\book blocks in a \u2018.ly\u2019 file is if you wish to create multiple output files from a single input file. One exception is within lilypond-book documents, where you explicitly have to add a \\book block if you want more than a single \\score or \\markup in the same example. This behavior can be changed by setting the variable toplevel-book-handler at toplevel. The default handler is defined in the init file \u2018../scm/lily.scm\u2019.\n - A \\bookpart block. A book may be divided into several parts, using \\bookpart blocks, in order to ease the page breaking, or to use different \\paper settings in different parts.\n - A compound music expression, such as\n{ c'4 d' e'2 }\nThis will add the piece in a \\score and format it in a single book together with all other toplevel \\scores and music expressions. In other words, a file containing only the above music expression will be translated into\n\n\\book {\n  \\score {\n    \\new Staff {\n      \\new Voice {\n        { c'4 d' e'2 }\n      }\n    }\n    \\layout { }\n  }\n  \\paper { }\n  \\header { }\n}\nThis behavior can be changed by setting the variable toplevel-music-handler at toplevel. The default handler is defined in the init file \u2018../scm/lily.scm\u2019.\n\n\n - A markup text, a verse for example\n\\markup {\n   2.  The first line verse two.\n}\nMarkup texts are rendered above, between or below the scores or music expressions, wherever they appear.\n\n\n - A variable, such as\nfoo = { c4 d e d }\nThis can be used later on in the file by entering \\foo. The name of a variable should have alphabetic characters only; no numbers, underscores or dashes.\n\n\n\nThe following example shows three things that may be entered at toplevel\n\n    \\layout {\n      % Don't justify the output\n      ragged-right = ##t\n    }\n    \\header {\n       title = \"Do-re-mi\"\n    }\n    { c'4 d' e2 }\n\nAt any point in a file, any of the following lexical instructions can be entered:\n\n - \\version\n - \\include\n - \\sourcefilename\n - \\sourcefileline\n - A single-line comment, introduced by a leading % sign.\n - A multi-line comment delimited by %{ \u2026 %}."},{label:"\\midi",detail:"Output definitions - blueprints for contexts",documentation:"A much simpler output definition used for producing Midi output is specified using \\midi. Several other output definitions are used by LilyPond internally, like when using the part combiner (Automatic part combining) or creating music quotes (Quoting other voices).\n\nOutput definitions define the relation between contexts as well as their respective default settings. While most changes will usually be made inside of a \\layout block, Midi-related settings will only have an effect when made within a \\midi block."},{label:"\\minor",detail:"Key signature",documentation:'Here, mode should be \\major or \\minor to get a key signature of pitch-major or pitch-minor, respectively. You may also use the standard mode names, also called church modes: \\ionian, \\dorian, \\phrygian, \\lydian, \\mixolydian, \\aeolian, and \\locrian.\n\n    \\key g \\major\n    fis1\n    f\n    fis\n\nAdditional modes can be defined, by listing the alterations for each scale step when the mode starts on C.\n\n    freygish = #`((0 . ,NATURAL) (1 . ,FLAT) (2 . ,NATURAL)\n        (3 . ,NATURAL) (4 . ,NATURAL) (5 . ,FLAT) (6 . ,FLAT))\n    \\relative c\' {\n      \\key c \\freygish c4 des e f\n      \\bar "||" \\key d \\freygish d es fis g\n    }\n\nAccidentals in the key signature may be printed in octaves other than their traditional positions, or in multiple octaves, by using the flat-positions and sharp-positions properties of KeySignature. Entries in these properties specify the range of staff-positions where accidentals will be printed. If a single position is specified in an entry, the accidentals are placed within the octave ending at that staff position.\n\n    \\override Staff.KeySignature.flat-positions = #\'((-5 . 5))\n    \\override Staff.KeyCancellation.flat-positions = #\'((-5 . 5))\n    \\clef bass \\key es \\major es g bes d\n    \\clef treble \\bar "||" \\key es \\major es g bes d\n    \\override Staff.KeySignature.sharp-positions = #\'(2)\n    \\bar "||" \\key b \\major b fis b2'},{label:"\\mixolydian",detail:"Key signature",documentation:'Here, mode should be \\major or \\minor to get a key signature of pitch-major or pitch-minor, respectively. You may also use the standard mode names, also called church modes: \\ionian, \\dorian, \\phrygian, \\lydian, \\mixolydian, \\aeolian, and \\locrian.\n\n    \\key g \\major\n    fis1\n    f\n    fis\n\nAdditional modes can be defined, by listing the alterations for each scale step when the mode starts on C.\n\n    freygish = #`((0 . ,NATURAL) (1 . ,FLAT) (2 . ,NATURAL)\n        (3 . ,NATURAL) (4 . ,NATURAL) (5 . ,FLAT) (6 . ,FLAT))\n    \\relative c\' {\n      \\key c \\freygish c4 des e f\n      \\bar "||" \\key d \\freygish d es fis g\n    }\n\nAccidentals in the key signature may be printed in octaves other than their traditional positions, or in multiple octaves, by using the flat-positions and sharp-positions properties of KeySignature. Entries in these properties specify the range of staff-positions where accidentals will be printed. If a single position is specified in an entry, the accidentals are placed within the octave ending at that staff position.\n\n    \\override Staff.KeySignature.flat-positions = #\'((-5 . 5))\n    \\override Staff.KeyCancellation.flat-positions = #\'((-5 . 5))\n    \\clef bass \\key es \\major es g bes d\n    \\clef treble \\bar "||" \\key es \\major es g bes d\n    \\override Staff.KeySignature.sharp-positions = #\'(2)\n    \\bar "||" \\key b \\major b fis b2'},{label:"\\mm",detail:"5.4.3 Distances and measurements",documentation:"Distances in LilyPond are of two types: absolute and scaled.\n\nAbsolute distances are used for specifying margins, indents, and other page layout details, and are by default specified in millimeters. Distances may be specified in other units by following the quantity by \\mm, \\cm, \\in\xa0(inches), or \\pt\xa0(points, 1/72.27 of an inch). Page layout distances can also be specified in scalable units (see the following paragraph) by appending \\staff-space to the quantity. Page layout is described in detail in Page layout.\n\nScaled distances are always specified in units of the staff-space or, rarely, the half staff-space. The staff-space is the distance between two adjacent staff lines. The default value can be changed globally by setting the global staff size, or it can be overridden locally by changing the staff-space property of StaffSymbol. Scaled distances automatically scale with any change to the either the global staff size or the staff-space property of StaffSymbol, but fonts scale automatically only with changes to the global staff size. The global staff size thus enables the overall size of a rendered score to be easily varied. For the methods of setting the global staff size see Setting the staff size."},{label:"\\modalInversion",detail:"Modal inversion",documentation:"A motif can be inverted within a given scale around a given pivot note and transposed in a single operation with:\n\n    \\modalInversion around-pitch to-pitch scale motif\n\nThe notes of motif are placed the same number of scale degrees from the around-pitch note within the scale, but in the opposite direction, and the result is then shifted within the scale by the number of scale degrees given by the interval between to-pitch and around-pitch.\n\nSo to simply invert around a note in the scale use the same value for around-pitch and to-pitch:\n\n    octatonicScale = \\relative c' { ees f fis gis a b c d }\n    motif = \\relative c' { c8. ees16 fis8. a16 b8. gis16 f8. d16 }\n    \\new Staff {\n      \\motif\n      \\modalInversion fis' fis' \\octatonicScale \\motif\n    }\n\nTo invert around a pivot between two notes in the scale, invert around one of the notes and then transpose by one scale degree. The two notes specified can be interpreted as bracketing the pivot point:\n\n    scale = \\relative c' { c g' }\n    motive = \\relative c' { c c g' c, }\n    \\new Staff {\n      \\motive\n      \\modalInversion c' g' \\scale \\motive\n    }\n\nThe combined operation of inversion and retrograde produce the retrograde-inversion:\n\n    octatonicScale = \\relative c' { ees f fis gis a b c d }\n    motif = \\relative c' { c8. ees16 fis8. a16 b8. gis16 f8. d16 }\n    \\new Staff {\n      \\motif\n      \\retrograde \\modalInversion c' c' \\octatonicScale \\motif\n    }"},{label:"\\modalTranspose",detail:"Modal transposition",documentation:"A motif can be transposed within a given scale with:\n\n    \\modalTranspose from-pitch to-pitch scale motif\n\nThe notes of motif are shifted within the scale by the number of scale degrees given by the interval between to-pitch and from-pitch:\n\n    diatonicScale = \\relative c' { c d e f g a b }\n    motif = \\relative c' { c8 d e f g a b c }\n    \\new Staff {\n      \\motif\n      \\modalTranspose c f \\diatonicScale \\motif\n      \\modalTranspose c b, \\diatonicScale \\motif\n    }\n\nAn ascending scale of any length and with any intervals may be specified:\n\n    pentatonicScale = \\relative c' { ges aes bes des ees }\n    motif = \\relative c' { ees8 des ges,4 <ges' bes,> <ges bes,> }\n    \\new Staff {\n      \\motif\n      \\modalTranspose ges ees' \\pentatonicScale \\motif\n    }\n\nWhen used with a chromatic scale \\modalTranspose has a similar effect to \\transpose, but with the ability to specify the names of the notes to be used:\n\n    chromaticScale = \\relative c' { c cis d dis e f fis g gis a ais b }\n    motif = \\relative c' { c8 d e f g a b c }\n    \\new Staff {\n      \\motif\n      \\transpose c f \\motif\n      \\modalTranspose c f \\chromaticScale \\motif\n    }"},{label:"\\mordent",detail:"Articulations and ornamentations",documentation:"A variety of symbols that denote articulations, ornamentations, and other performance indications can be attached to a note using this syntax:\n\n    note\\name\n\nThe possible values for name are listed in List of articulations. For example:\n\n    c4\\staccato c\\mordent b2\\turn\n    c1\\fermata"},{label:"\\mp",detail:"Dynamics",documentation:"Absolute dynamic marks are specified using a command after a note, such as c4\\ff. The available dynamic marks are \\ppppp, \\pppp, \\ppp, \\pp, \\p, \\mp, \\mf, \\f, \\ff, \\fff, \\ffff, \\fffff, \\fp, \\sf, \\sff, \\sp, \\spp, \\sfz, and \\rfz. Dynamic marks may be manually placed above or below the staff; see Direction and placement.\n\n    c2\\ppp c\\mp\n    c2\\rfz c^\\mf\n    c2_\\spp c^\\ff"},{label:"\\musicglyph",detail:"Rehearsal marks",documentation:'Music glyphs (such as the segno sign) may be printed inside a \\mark\n\n    c1 \\mark \\markup { \\musicglyph #"scripts.segno" }\n    c1 \\mark \\markup { \\musicglyph #"scripts.coda" }\n    c1 \\mark \\markup { \\musicglyph #"scripts.ufermata" }\n    c1\n\nSee The Feta font, for a list of symbols which may be printed with \\musicglyph.\n\nFor common tweaks to the positioning of rehearsal marks, see Formatting text. For more precise control, see break-alignable-interface in Aligning objects.\n\nThe file \u2018scm/translation-functions.scm\u2019 contains the definitions of format-mark-numbers and format-mark-letters. They can be used as inspiration for other formatting functions.'},{label:"\\musicglyph",detail:"A.10.4 Music",documentation:'glyph-name is converted to a musical symbol; for example, \\musicglyph #"accidentals.natural" selects the natural sign from the music font. See The Feta font for a complete listing of the possible glyphs.\n\n    \\markup {\n      \\musicglyph #"f"\n      \\musicglyph #"rests.2"\n      \\musicglyph #"clefs.G_change"\n    }'},{label:"\\name",detail:"5.1.6 Defining new contexts",documentation:'Specific contexts, like Staff and Voice, are made from simple building blocks. It is possible to create new types of contexts with different combinations of engraver plug-ins.\n\nThe next example shows how to build a different type of Voice context from scratch. It will be similar to Voice, but only prints centered slash note heads. It can be used to indicate improvisation in jazz pieces,\n\nThese settings are defined within a \\context block inside a \\layout block,\n\n    \\layout {\n      \\context {\n        \u2026\n      }\n    }\n\nIn the following discussion, the example input shown should go in place of the \u2026 in the previous fragment.\n\nFirst it is necessary to define a name for the new context:\n\n    \\name ImproVoice\n\nSince it is similar to the Voice context, we want commands that work in (existing) Voice contexts to continue working. This is achieved by giving the new context an alias of Voice,\n\n    \\alias Voice\n\nThe context will print notes and instructive texts, so we need to add the engravers which provide this functionality, plus the engraver which groups notes, stems and rests which occur at the same musical moment into columns,\n\n    \\consists "Note_heads_engraver"\n    \\consists "Text_engraver"\n    \\consists "Rhythmic_column_engraver"\n\nThe note heads should all be placed on the center line,\n\n    \\consists "Pitch_squash_engraver"\n    squashedPosition = #0\n\nThe Pitch_squash_engraver modifies note heads (created by the Note_heads_engraver) and sets their vertical position to the value of squashedPosition, in this case\xa00, the center line.\n\nThe notes look like a slash, and have no stem,\n\n    \\override NoteHead.style = #\'slash\n    \\hide Stem\n\nAll these plug-ins have to communicate under the control of the context. The mechanisms with which contexts communicate are established by declaring the context \\type. Within a \\layout block, most contexts will be of type Engraver_group. Some special contexts and contexts in \\midi blocks use other context types. Copying and modifying an existing context definition will also fill in the type. Since this example creates a definition from scratch, it needs to be specified explicitly.\n\n    \\type "Engraver_group"\n\nPut together, we get\n\n    \\context {\n      \\name ImproVoice\n      \\type "Engraver_group"\n      \\consists "Note_heads_engraver"\n      \\consists "Text_engraver"\n      \\consists "Rhythmic_column_engraver"\n      \\consists "Pitch_squash_engraver"\n      squashedPosition = #0\n      \\override NoteHead.style = #\'slash\n      \\hide Stem\n      \\alias Voice\n    }'},{label:"\\natural",detail:"A.10.4 Music",documentation:"Draw a natural symbol.\n\n    \\markup {\n      \\natural\n    }"},{label:"\\new",detail:"5.1.2 Creating and referencing contexts",documentation:'LilyPond will create lower-level contexts automatically if a music expression is encountered before a suitable context exists, but this is usually successful only for simple scores or music fragments like the ones in the documentation. For more complex scores it is advisable to specify all contexts explicitly with either the \\new or \\context command. The syntax of these two commands is very similar:\n\n    [\\new | \\context] Context [ = name] [music-expression]\n\nwhere either \\new or \\context may be specified. Context is the type of context which is to be created, name is an optional name to be given to the particular context being created and music-expression is a single music expression that is to be interpreted by the engravers and performers in this context.\n\nThe \\new prefix without a name is commonly used to create scores with many staves:\n\n    <<\n      \\new Staff {\n        % leave the Voice context to be created implicitly\n        c4 c\n      }\n      \\new Staff {\n        d4 d\n      }\n    >>\n\nand to place several voices into one staff:\n\n    <<\n      \\new Staff <<\n        \\new Voice {\n          \\voiceOne\n          c8 c c4 c c\n        }\n        \\new Voice {\n          \\voiceTwo\n          g4 g g g\n        }\n      >>\n    >>\n\n\\new should always be used to specify unnamed contexts.\n\nThe difference between \\new and \\context is in the action taken:\n\n - \\new with or without a name will always create a fresh, distinct, context, even if one with the same name already exists:\n<<\n  \\new Staff <<\n    \\new Voice = "A" {\n      \\voiceOne\n      c8 c c4 c c\n    }\n    \\new Voice = "A" {\n      \\voiceTwo\n      g4 g g g\n    }\n  >>\n>>\n \n\n\n - \\context with a name specified will create a distinct context only if a context of the same type with the same name in the same context hierarchy does not already exist. Otherwise it will be taken as a reference to that previously created context, and its music expression will be passed to that context for interpretation.\nOne application of named contexts is in separating the score layout from the musical content. Either of these two forms is valid:\n\n\\score {\n  <<\n    % score layout\n    \\new Staff <<\n      \\new Voice = "one" {\n        \\voiceOne\n      }\n      \\new Voice = "two" {\n        \\voiceTwo\n      }\n    >>\n\n    % musical content\n    \\context Voice = "one" {\n      \\relative c\'\' {\n        c4 c c c\n      }\n    }\n    \\context Voice = "two" {\n      \\relative c\'\' {\n        g8 g g4 g g\n      }\n    }\n  >>\n}\n \n\n\\score {\n  <<\n    % score layout\n    \\new Staff <<\n      \\context Voice = "one" {\n        \\voiceOne\n      }\n      \\context Voice = "two" {\n        \\voiceTwo\n      }\n    >>\n\n    % musical content\n    \\context Voice = "one" {\n      \\relative c\'\' {\n        c4 c c c\n      }\n    }\n    \\context Voice = "two" {\n      \\relative c\'\' {\n        g8 g g4 g g\n      }\n    }\n  >>\n}\n \n\nAlternatively, variables may be employed to similar effect. See Organizing pieces with variables.\n\n\n - \\context with no name will match the first of any previously created contexts of the same type in the same context heirarchy, even one that has been given a name, and its music expression will be passed to that context for interpretation. This form is rarely useful. However, \\context with no name and no music expression is used to set the context in which a Scheme procedure specified with \\applyContext is executed:\n\\new Staff \\relative c\' {\n  c1\n  \\context Timing\n  \\applyContext #(lambda (ctx)\n                   (newline)\n                   (display (ly:context-current-moment ctx)))\n  c1\n}\n\n\nA context must be named if it is to be referenced later, for example when lyrics are associated with music:\n\n    \\new Voice = "tenor" music\n    \u2026\n    \\new Lyrics \\lyricsto "tenor" lyrics\n\nFor details of associating lyrics with music see Automatic syllable durations.\n\nThe properties of all contexts of a particular type can be modified in a \\layout block (with a different syntax), see Changing all contexts of the same type. This construct also provides a means of keeping layout instructions separate from the musical content. If a single context is to be modified, a \\with block must be used, see Changing just one specific context.'},{label:"\\newSpacingSection",detail:"4.5.2 New spacing area",documentation:"New sections with different spacing parameters can be started with newSpacingSection. This is useful when there are sections with a different notions of long and short notes.\n\nIn the following example, the time signature change introduces a new section, and hence the 16ths notes are automatically spaced slightly wider.\n\n    \\time 2/4\n    c4 c8 c\n    c8 c c4 c16[ c c8] c4\n    \\newSpacingSection\n    \\time 4/16\n    c16[ c c8]\n\nThe \\newSpacingSection command creates a new SpacingSpanner object at that musical moment. If the automatic spacing adjustments do not give the required spacing, manual \\overrides may be applied to its properties. These must be applied at the same musical moment as the \\newSpacingSection command itself. They will then affect the spacing of all the following music until the properties are changed in a new spacing section, for example,\n\n    \\time 4/16\n    c16[ c c8]\n    \\newSpacingSection\n    \\override Score.SpacingSpanner.spacing-increment = #2\n    c16[ c c8]\n    \\newSpacingSection\n    \\revert Score.SpacingSpanner.spacing-increment\n    c16[ c c8]"},{label:"\\noBeam",detail:"Manual beams",documentation:"Individual notes may be marked with \\noBeam to prevent them from being beamed:\n\n    \\time 2/4\n    c8 c\\noBeam c c\n\nGrace note beams and normal note beams can occur simultaneously. Unbeamed grace notes are not put into normal note beams.\n\n    c4 d8[\n    \\grace { e32 d c d }\n    e8] e[ e\n    \\grace { f16 }\n    e8 e]"},{label:"\\noBreak",detail:"Predefined commands",documentation:""},{label:"\\noPageBreak",detail:"Predefined commands",documentation:""},{label:"\\noPageTurn",detail:"Predefined commands",documentation:""},{label:"\\normal-size-sub",detail:"A.10.1 Font",documentation:"Set arg in subscript with a normal font size.\n\n    \\markup {\n      default\n      \\normal-size-sub {\n        subscript in standard size\n      }\n    }\n\nUsed properties:\n\n - baseline-skip"},{label:"\\normal-size-super",detail:"Selecting font and font size",documentation:"Text may be printed as subscript or superscript. By default these are printed in a smaller size, but a normal size can be used as well:\n\n    \\markup {\n      \\column {\n        \\line { 1 \\super st movement }\n        \\line { 1 \\normal-size-super st movement\n          \\sub { (part two) }  }\n      }\n    }"},{label:"\\normal-size-super",detail:"A.10.1 Font",documentation:"Set arg in superscript with a normal font size.\n\n    \\markup {\n      default\n      \\normal-size-super {\n        superscript in standard size\n      }\n    }\n\nUsed properties:\n\n - baseline-skip"},{label:"\\normal-text",detail:"A.10.1 Font",documentation:"Set all font related properties (except the size) to get the default normal text font, no matter what font was used earlier.\n\n    \\markup {\n      \\huge \\bold \\sans \\caps {\n        huge bold sans caps\n        \\hspace #2\n        \\normal-text {\n          huge normal\n        }\n        \\hspace #2\n        as before\n      }\n    }"},{label:"\\normalsize",detail:"Selecting notation font size",documentation:"The font size of notation elements may be altered. It does not change the size of variable symbols, such as beams or slurs.\n\nNote: For font sizes of text, see Selecting font and font size.\n\n\n\n    \\huge\n    c4.-> d8---3\n    \\large\n    c4.-> d8---3\n    \\normalsize\n    c4.-> d8---3\n    \\small\n    c4.-> d8---3\n    \\tiny\n    c4.-> d8---3\n    \\teeny\n    c4.-> d8---3\n\nInternally, this sets the fontSize property. This in turn causes the font-size property to be set in all layout objects. The value of font-size is a number indicating the size relative to the standard size for the current staff height. Each step up is an increase of approximately 12% of the font size. Six steps is exactly a factor of two. The Scheme function magstep converts a font-size number to a scaling factor. The font-size property can also be set directly, so that only certain layout objects are affected.\n\n    \\set fontSize = #3\n    c4.-> d8---3\n    \\override NoteHead.font-size = #-4\n    c4.-> d8---3\n    \\override Script.font-size = #2\n    c4.-> d8---3\n    \\override Stem.font-size = #-5\n    c4.-> d8---3"},{label:"\\normalsize",detail:"Selecting font and font size",documentation:"\\teeny, \\tiny, \\small, \\normalsize, \\large, \\huge, \\smaller, \\larger."},{label:"\\normalsize",detail:"A.10.1 Font",documentation:"Set font size to default.\n\n    \\markup {\n      \\teeny {\n        this is very small\n        \\hspace #2\n        \\normalsize {\n          normal size\n        }\n        \\hspace #2\n        teeny again\n      }\n    }"},{label:"\\note",detail:"A.10.4 Music",documentation:'This produces a note with a stem pointing in dir direction, with the duration for the note head type and augmentation dots. For example, \\note #"4." #-0.75 creates a dotted quarter note, with a shortened down stem.\n\n    \\markup {\n      \\override #\'(style . cross) {\n        \\note #"4.." #UP\n      }\n      \\hspace #2\n      \\note #"breve" #0\n    }\n\nUsed properties:\n\n - style (\u2019())\n - flag-style (\u2019())\n - font-size (0)'},{label:"\\note-by-number",detail:"A.10.4 Music",documentation:"Construct a note symbol, with stem and flag. By using fractional values for dir, longer or shorter stems can be obtained. Supports all note-head-styles. Supported flag-styles are default, old-straight-flag, modern-straight-flag and flat-flag.\n\n    \\markup {\n      \\note-by-number #3 #0 #DOWN\n      \\hspace #2\n      \\note-by-number #1 #2 #0.8\n    }\n\nUsed properties:\n\n - style (\u2019())\n - flag-style (\u2019())\n - font-size (0)"},{label:"\\null",detail:"Text alignment",documentation:"Vertical alignment is a bit more complex. As stated above, markup objects can be moved as a whole; however, it is also possible to move specific elements inside a markup block. In this case, the element to be moved needs to be preceded with an anchor point, that can be another markup element or an invisible object. The following example demonstrates these two possibilities; the last markup in this example has no anchor point, and therefore is not moved.\n\n    d2^\\markup {\n      Acte I\n      \\raise #2 { Sc\xe8ne 1 }\n    }\n    a'\n    g_\\markup {\n      \\null\n      \\lower #4 \\bold { Tr\xe8s mod\xe9r\xe9 }\n    }\n    a\n    d,^\\markup {\n      \\raise #4 \\italic { Une for\xeat. }\n    }\n    a'4 a g2 a"},{label:"\\null",detail:"A.10.7 Other",documentation:"An empty markup with extents of a single point.\n\n    \\markup {\n      \\null\n    }"},{label:"\\number",detail:"A.10.1 Font",documentation:"Set font family to number, which yields the font used for time signatures and fingerings. This font contains numbers and some punctuation; it has no letters.\n\n    \\markup {\n      \\number {\n        0 1 2 3 4 5 6 7 8 9 . ,\n      }\n    }"},{label:"\\numericTimeSignature",detail:"Time signature",documentation:"The time signature symbol that is used in 2/2 and 4/4 time can be changed to a numeric style:\n\n    % Default style\n    \\time 4/4 c1\n    \\time 2/2 c1\n    % Change to numeric style\n    \\numericTimeSignature\n    \\time 4/4 c1\n    \\time 2/2 c1\n    % Revert to default style\n    \\defaultTimeSignature\n    \\time 4/4 c1\n    \\time 2/2 c1\n\nMensural time signatures are covered in Mensural time signatures."},{label:"\\octaveCheck",detail:"Octave checks",documentation:"In relative mode, it is easy to forget an octave changing mark. Octave checks make such errors easier to find by displaying a warning and correcting the octave if a note is found in an unexpected octave.\n\nTo check the octave of a note, specify the absolute octave after the =\xa0symbol. This example will generate a warning (and change the pitch) because the second note is the absolute octave d'' instead of d' as indicated by the octave correction.\n\n    \\relative c'' {\n      c2 d='4 d\n      e2 f\n    }\n\nThe octave of notes may also be checked with the \\octaveCheck\xa0controlpitch command. controlpitch is specified in absolute mode. This checks that the interval between the previous note and the controlpitch is within a fourth (i.e., the normal calculation of relative mode). If this check fails, a warning is printed, but the previous note is not changed. Future notes are relative to the controlpitch.\n\n    \\relative c'' {\n      c2 d\n      \\octaveCheck c'\n      e2 f\n    }\n\nCompare the two bars below. The first and third \\octaveCheck checks fail, but the second one does not fail.\n\n    \\relative c'' {\n      c4 f g f\n      c4\n      \\octaveCheck c'\n      f\n      \\octaveCheck c'\n      g\n      \\octaveCheck c'\n      f\n    }"},{label:"\\omit",detail:"Removing the stencil",documentation:"Every layout object has a stencil property. By default this is set to the specific function which draws that object. If this property is overridden to #f no function will be called and the object will not be drawn. The default action can be recovered with \\revert.\n\n    a1 a\n    \\override Score.BarLine.stencil = ##f\n    a a\n    \\revert Score.BarLine.stencil\n    a a a\n\nThis rather common operation has a shortcut \\omit:\n\n    a1 a\n    \\omit Score.BarLine\n    a a\n    \\undo \\omit Score.BarLine\n    a a a"},{label:"\\on-the-fly",detail:"Custom layout for headers and footers",documentation:"The \\markup command \\on-the-fly can be used to add markup conditionally to header and footer text defined within the \\paper block, using the following syntax:\n\n    variable = \\markup {\n      \u2026\n      \\on-the-fly  \\procedure  markup\n      \u2026\n    }\n\nThe procedure is called each time the \\markup command in which it appears is evaluated. The procedure should test for a particular condition and interpret (i.e. print) the markup argument if and only if the condition is true.\n\nA number of ready-made procedures for testing various conditions are provided:\n\n    Procedure name\n    Condition tested\n    print-page-number-check-first\n    should this page number be printed?\n    create-page-number-stencil\n    print-page-numbers true?\n    print-all-headers\n    print-all-headers true?\n    first-page\n    first page in the book?\n    (on-page nmbr)\n    page number = nmbr?\n    last-page\n    last page in the book?\n    not-first-page\n    not first page in the book?\n    part-first-page\n    first page in the book part?\n    part-last-page\n    last page in the book part?\n    not-single-page\n    pages in book part > 1?\n\nThe following example centers page numbers at the bottom of every page. First, the default settings for oddHeaderMarkup and evenHeaderMarkup are removed by defining each as a null markup. Then, oddFooterMarkup is redefined with the page number centered. Finally, evenFooterMarkup is given the same layout by defining it as \\oddFooterMarkup:\n\n    \\book {\n      \\paper {\n        print-page-number = ##t\n        print-first-page-number = ##t\n        oddHeaderMarkup = \\markup \\null\n        evenHeaderMarkup = \\markup \\null\n        oddFooterMarkup = \\markup {\n          \\fill-line {\n            \\on-the-fly \\print-page-number-check-first\n            \\fromproperty #'page:page-number-string\n          }\n        }\n        evenFooterMarkup = \\oddFooterMarkup\n      }\n      \\score {\n        \\new Staff { s1 \\break s1 \\break s1 }\n      }\n    }\n\nSeveral \\on-the-fly conditions can be combined with an \u2018and\u2019 operation, for example,\n\n      \\on-the-fly \\first-page\n      \\on-the-fly \\last-page\n      { \\markup \u2026 \\fromproperty #'header: \u2026 }\n\ndetermines if the output is a single page."},{label:"\\on-the-fly",detail:"A.10.7 Other",documentation:"Apply the procedure markup command to arg. procedure should take a single argument."},{label:"\\once",detail:"5.3.3 The \\override command",documentation:"\\once can be used with \\override to affect only the current time step:\n\n    {\n      <<\n        {\n          \\override Stem.thickness = #3.0\n          e4 e e e\n        } \\\\ {\n          c4\n          \\once \\override Stem.thickness = #3.0\n          c4 c c\n        }\n      >>\n    }"},{label:"\\oneVoice",detail:"Single-staff polyphony",documentation:'The basic structure needed to achieve multiple independent voices in a single staff is illustrated in the following example:\n\n    \\new Staff <<\n      \\new Voice = "first"\n        { \\voiceOne r8 r16 g e8. f16 g8[ c,] f e16 d }\n      \\new Voice= "second"\n        { \\voiceTwo d16 c d8~ d16 b c8~ c16 b c8~ c16 b8. }\n    >>\n\nHere, voices are instantiated explicitly and are given names. The \\voiceOne \u2026 \\voiceFour commands set up the voices so that first and third voices get stems up, second and fourth voices get stems down, third and fourth voice note heads are horizontally shifted, and rests in the respective voices are automatically moved to avoid collisions. The \\oneVoice command returns all the voice settings to the neutral default directions.'},{label:"\\open",detail:"Articulations and ornamentations",documentation:"A variety of symbols that denote articulations, ornamentations, and other performance indications can be attached to a note using this syntax:\n\n    note\\name\n\nThe possible values for name are listed in List of articulations. For example:\n\n    c4\\staccato c\\mordent b2\\turn\n    c1\\fermata"},{label:"\\open",detail:"Bowing indications",documentation:'Bowing indications are created as articulations, which are described in Articulations and ornamentations.\n\nThe bowing commands, \\upbow and \\downbow, are used with slurs as follows:\n\n    c4(\\downbow d) e(\\upbow f)\n\nand the following example shows three ways in which an open A string on a violin might be indicated:\n\n    a4 \\open\n    a^\\markup { \\teeny "II" }\n    a2^\\markup { \\small "sul A" }'},{label:"\\oriscus",detail:"Gregorian square neume ligatures",documentation:""},{label:"\\oriscus",detail:"Predefined commands",documentation:""},{label:"\\ottava",detail:"Ottava brackets",documentation:"Ottava brackets introduce an extra transposition of an octave for the staff:\n\n    a2 b\n    \\ottava #-2\n    a2 b\n    \\ottava #-1\n    a2 b\n    \\ottava #0\n    a2 b\n    \\ottava #1\n    a2 b\n    \\ottava #2\n    a2 b"},{label:"\\oval",detail:"A.10.3 Graphic",documentation:"Draw an oval around arg. Use thickness, x-padding, x-padding and font-size properties to determine line thickness and padding around the markup.\n\n    \\markup {\n      \\oval {\n        Hi\n      }\n    }\n\nUsed properties:\n\n - y-padding (0.75)\n - x-padding (0.75)\n - font-size (0)\n - thickness (1)"},{label:"\\override",detail:"5.3.3 The \\override command",documentation:'There is a special type of context property: the grob description. Grob descriptions are named in StudlyCaps (starting with capital letters). They contain the \u2018default settings\u2019 for a particular kind of grob as an association list. See \u2018scm/define-grobs.scm\u2019 to see the settings for each grob description. Grob descriptions are modified with \\override.\n\nThe syntax for the \\override command is\n\n    \\override [context.]GrobName.property = #value\n\nFor example, we can increase the thickness of a note stem by overriding the thickness property of the Stem object:\n\n    c4 c\n    \\override Voice.Stem.thickness = #3.0\n    c4 c\n\nIf no context is specified in an \\override, the bottom context is used:\n\n    { \\override Staff.Stem.thickness = #3.0\n      <<\n        {\n          e4 e\n          \\override Stem.thickness = #0.5\n          e4 e\n        } \\\\ {\n          c4 c c c\n        }\n      >>\n    }\n\nSome tweakable options are called \u2018subproperties\u2019 and reside inside properties. To tweak those, use commands in the form\n\n    \\override Stem.details.beamed-lengths = #\'(4 4 3)\n\nor to modify the ends of spanners, use a form like these\n\n    \\override TextSpanner.bound-details.left.text = #"left text"\n    \\override TextSpanner.bound-details.right.text = #"right text"'},{label:"\\override",detail:"5.3.5 \\set vs. \\override",documentation:"Both \\set and \\override manipulate properties associated with contexts. In either case, properties heed the hierarchy of contexts: properties not set in a context itself show the values of the respective parent context.\n\nValues and lifetime of context properties are dynamic and only available when music is being interpreted, \u2018iterated\u2019. At the time of context creation, properties are initialized from the corresponding context definition and possible context modifications. Afterwards, changes are achieved with property-setting commands in the music itself.\n\nNow grob definitions are a special category of context properties. Since their structure, bookkeeping and use is different from ordinary context properties, they are accessed with a different set of commands, and treated separately in the documentation.\n\nAs opposed to plain context properties, grob definitions are subdivided into grob properties. A \u201cgrob\u201d (graphical object) is usually created by an engraver at the time of interpreting a music expression and receives its initial properties from the current grob definition of the engraver\u2019s context. The engraver (or other \u2018backend\u2019 parts of LilyPond) may subsequently add or change properties to the grob, but that does not affect the context\u2019s grob definition.\n\nWhat we call \u2018grob properties\u2019 in the context of user-level tweaking are actually the properties of a context\u2019s grob definition. In contrast to ordinary context properties, grob definitions have the bookkeeping required to keep track of its parts, the individual grob properties (and even subproperties of them) separately so that it is possible to define those parts in different contexts and have the overall grob definition at the time of grob creation be assembled from pieces provided in different contexts among the current context and its parents.\n\nGrob definitions are manipulated using \\override and \\revert and have a name starting with a capital letter (like \u2018NoteHead\u2019) whereas ordinary context properties are manipulated using \\set and \\unset and are named starting with a lowercase letter."},{label:"\\override",detail:"A.10.7 Other",documentation:"Add the argument new-prop to the property list. Properties may be any property supported by font-interface, text-interface and instrument-specific-markup-interface.\n\n    \\markup {\n      \\line {\n        \\column {\n          default\n          baseline-skip\n        }\n        \\hspace #2\n        \\override #'(baseline-skip . 4) {\n          \\column {\n            increased\n            baseline-skip\n          }\n        }\n      }\n    }"},{label:"\\override-lines",detail:"A.11 Text markup list commands",documentation:"Like \\override, for markup lists."},{label:"\\overrideProperty",detail:"5.3.5 \\set vs. \\override",documentation:"The special commands \\tweak and \\overrideProperty change grob properties bypassing context properties completely. Instead they catch grobs as they are being created and then directly set properties on them when they originate from a tweaked music event or are of a particular kind, respectively."},{label:"\\overrideTimeSignatureSettings",detail:"Time signature",documentation:"In addition to setting the printed time signature, the \\time command also sets the values of the time-signature-based properties baseMoment, beatStructure, and beamExceptions. The predefined default values for these properties can be found in \u2018scm/time-signature-settings.scm\u2019.\n\nThe default value of beatStructure can be overridden in the \\time command itself by supplying it as the optional first argument:\n\n    \\score {\n      \\new Staff {\n        \\relative c' {\n          \\time #'(2 2 3) 7/8\n          \\repeat unfold 7 { c8 } |\n          \\time #'(3 2 2) 7/8\n          \\repeat unfold 7 { c8 } |\n        }\n      }\n    }\n\nAlternatively, the default values of all these time-signature-based variables, including baseMoment and beamExceptions, can be set together. The values can be set independently for several different time signatures. The new values take effect when a subsequent \\time command with the same value of the time signature is executed:\n\n    \\score {\n      \\new Staff {\n        \\relative c' {\n          \\overrideTimeSignatureSettings\n            4/4        % timeSignatureFraction\n            1/4        % baseMomentFraction\n            #'(3 1)    % beatStructure\n            #'()       % beamExceptions\n          \\time 4/4\n          \\repeat unfold 8 { c8 } |\n        }\n      }\n    }\n\n\\overrideTimeSignatureSettings takes four arguments:\n\ntimeSignatureFraction, a fraction describing the time signature to which these values apply.\nbaseMomentFraction, a fraction containing the numerator and denominator of the basic timing unit for the time signature.\nbeatStructure, a Scheme list indicating the structure of the beats in the measure, in units of the base moment.\nbeamExceptions, an alist containing any beaming rules for the time signature that go beyond ending at every beat, as described in Setting automatic beam behavior.\n"},{label:"\\p",detail:"Dynamics",documentation:"Absolute dynamic marks are specified using a command after a note, such as c4\\ff. The available dynamic marks are \\ppppp, \\pppp, \\ppp, \\pp, \\p, \\mp, \\mf, \\f, \\ff, \\fff, \\ffff, \\fffff, \\fp, \\sf, \\sff, \\sp, \\spp, \\sfz, and \\rfz. Dynamic marks may be manually placed above or below the staff; see Direction and placement.\n\n    c2\\ppp c\\mp\n    c2\\rfz c^\\mf\n    c2_\\spp c^\\ff"},{label:"\\pad-around",detail:"Graphic notation inside markup",documentation:'Some commands may require an increase in the padding around the text; this is achieved with some markup commands exhaustively described in Align.\n\n    \\markup \\fill-line {\n      \\center-column {\n        \\box "Charles Ives (1874 - 1954)"\n        \\null\n        \\box \\pad-markup #2 "THE UNANSWERED QUESTION"\n        \\box \\pad-x #8 "A Cosmic Landscape"\n        \\null\n      }\n    }\n    \\markup \\column {\n      \\line {\n        \\hspace #10\n        \\box \\pad-to-box #\'(-5 . 20) #\'(0 . 5)\n          \\bold "Largo to Presto"\n      }\n      \\pad-around #3\n          "String quartet keeps very even time,\n    Flute quartet keeps very uneven time."\n    }'},{label:"\\pad-around",detail:"A.10.2 Align",documentation:"Add padding amount all around arg.\n\n    \\markup {\n      \\box {\n        default\n      }\n      \\hspace #2\n      \\box {\n        \\pad-around #0.5 {\n          padded\n        }\n      }\n    }"},{label:"\\pad-markup",detail:"Graphic notation inside markup",documentation:'Some commands may require an increase in the padding around the text; this is achieved with some markup commands exhaustively described in Align.\n\n    \\markup \\fill-line {\n      \\center-column {\n        \\box "Charles Ives (1874 - 1954)"\n        \\null\n        \\box \\pad-markup #2 "THE UNANSWERED QUESTION"\n        \\box \\pad-x #8 "A Cosmic Landscape"\n        \\null\n      }\n    }\n    \\markup \\column {\n      \\line {\n        \\hspace #10\n        \\box \\pad-to-box #\'(-5 . 20) #\'(0 . 5)\n          \\bold "Largo to Presto"\n      }\n      \\pad-around #3\n          "String quartet keeps very even time,\n    Flute quartet keeps very uneven time."\n    }'},{label:"\\pad-markup",detail:"A.10.2 Align",documentation:"Add space around a markup object. Identical to pad-around.\n\n    \\markup {\n      \\box {\n        default\n      }\n      \\hspace #2\n      \\box {\n        \\pad-markup #1 {\n          padded\n        }\n      }\n    }"},{label:"\\pad-to-box",detail:"Graphic notation inside markup",documentation:'Some commands may require an increase in the padding around the text; this is achieved with some markup commands exhaustively described in Align.\n\n    \\markup \\fill-line {\n      \\center-column {\n        \\box "Charles Ives (1874 - 1954)"\n        \\null\n        \\box \\pad-markup #2 "THE UNANSWERED QUESTION"\n        \\box \\pad-x #8 "A Cosmic Landscape"\n        \\null\n      }\n    }\n    \\markup \\column {\n      \\line {\n        \\hspace #10\n        \\box \\pad-to-box #\'(-5 . 20) #\'(0 . 5)\n          \\bold "Largo to Presto"\n      }\n      \\pad-around #3\n          "String quartet keeps very even time,\n    Flute quartet keeps very uneven time."\n    }'},{label:"\\pad-to-box",detail:"A.10.2 Align",documentation:"Make arg take at least x-ext, y-ext space.\n\n    \\markup {\n      \\box {\n        default\n      }\n      \\hspace #4\n      \\box {\n        \\pad-to-box #'(0 . 10) #'(0 . 3) {\n          padded\n        }\n      }\n    }"},{label:"\\pad-x",detail:"Graphic notation inside markup",documentation:'Some commands may require an increase in the padding around the text; this is achieved with some markup commands exhaustively described in Align.\n\n    \\markup \\fill-line {\n      \\center-column {\n        \\box "Charles Ives (1874 - 1954)"\n        \\null\n        \\box \\pad-markup #2 "THE UNANSWERED QUESTION"\n        \\box \\pad-x #8 "A Cosmic Landscape"\n        \\null\n      }\n    }\n    \\markup \\column {\n      \\line {\n        \\hspace #10\n        \\box \\pad-to-box #\'(-5 . 20) #\'(0 . 5)\n          \\bold "Largo to Presto"\n      }\n      \\pad-around #3\n          "String quartet keeps very even time,\n    Flute quartet keeps very uneven time."\n    }'},{label:"\\pad-x",detail:"A.10.2 Align",documentation:"Add padding amount around arg in the X\xa0direction.\n\n    \\markup {\n      \\box {\n        default\n      }\n      \\hspace #4\n      \\box {\n        \\pad-x #2 {\n          padded\n        }\n      }\n    }"},{label:"\\page-link",detail:"A.10.7 Other",documentation:"Add a link to the page page-number around arg. This only works in the PDF backend.\n\n    \\markup {\n      \\page-link #2  { \\italic { This links to page 2... } }\n    }"},{label:"\\page-ref",detail:"Predefined commands",documentation:""},{label:"\\page-ref",detail:"A.10.7 Other",documentation:"Reference to a page number. label is the label set on the referenced page (using the \\label command), gauge a markup used to estimate the maximum width of the page number, and default the value to display when label is not found."},{label:"\\pageBreak",detail:"Predefined commands",documentation:"\\pageBreak, \\noPageBreak."},{label:"\\pageTurn",detail:"Predefined commands",documentation:"\\pageTurn, \\noPageTurn, \\allowPageTurn."},{label:"\\paper",detail:"3.1.5 File structure",documentation:"A \u2018.ly\u2019 file may contain any number of toplevel expressions, where a toplevel expression is one of the following:\n\n - An output definition, such as \\paper, \\midi, and \\layout. Such a definition at the toplevel changes the default book-wide settings. If more than one such definition of the same type is entered at the top level the definitions are combined, but in conflicting situations the later definitions take precedence. For details of how this affects the \\layout block see The \\layout block.\n - A direct scheme expression, such as #(set-default-paper-size \"a7\" 'landscape) or #(ly:set-option 'point-and-click #f).\n - A \\header block. This sets the global (i.e. the top of file) header block. This is the block containing the default settings of titling fields like composer, title, etc. for all books within the file (see Titles explained).\n - A \\score block. This score will be collected with other toplevel scores, and combined as a single \\book. This behavior can be changed by setting the variable toplevel-score-handler at toplevel. The default handler is defined in the init file \u2018../scm/lily.scm\u2019.\n - A \\book block logically combines multiple movements (i.e., multiple \\score blocks) in one document. If there are a number of \\scores, one output file will be created for each \\book block, in which all corresponding movements are concatenated. The only reason to explicitly specify \\book blocks in a \u2018.ly\u2019 file is if you wish to create multiple output files from a single input file. One exception is within lilypond-book documents, where you explicitly have to add a \\book block if you want more than a single \\score or \\markup in the same example. This behavior can be changed by setting the variable toplevel-book-handler at toplevel. The default handler is defined in the init file \u2018../scm/lily.scm\u2019.\n - A \\bookpart block. A book may be divided into several parts, using \\bookpart blocks, in order to ease the page breaking, or to use different \\paper settings in different parts.\n - A compound music expression, such as\n{ c'4 d' e'2 }\nThis will add the piece in a \\score and format it in a single book together with all other toplevel \\scores and music expressions. In other words, a file containing only the above music expression will be translated into\n\n\\book {\n  \\score {\n    \\new Staff {\n      \\new Voice {\n        { c'4 d' e'2 }\n      }\n    }\n    \\layout { }\n  }\n  \\paper { }\n  \\header { }\n}\nThis behavior can be changed by setting the variable toplevel-music-handler at toplevel. The default handler is defined in the init file \u2018../scm/lily.scm\u2019.\n\n\n - A markup text, a verse for example\n\\markup {\n   2.  The first line verse two.\n}\nMarkup texts are rendered above, between or below the scores or music expressions, wherever they appear.\n\n\n - A variable, such as\nfoo = { c4 d e d }\nThis can be used later on in the file by entering \\foo. The name of a variable should have alphabetic characters only; no numbers, underscores or dashes.\n\n\n\nThe following example shows three things that may be entered at toplevel\n\n    \\layout {\n      % Don't justify the output\n      ragged-right = ##t\n    }\n    \\header {\n       title = \"Do-re-mi\"\n    }\n    { c'4 d' e2 }\n\nAt any point in a file, any of the following lexical instructions can be entered:\n\n - \\version\n - \\include\n - \\sourcefilename\n - \\sourcefileline\n - A single-line comment, introduced by a leading % sign.\n - A multi-line comment delimited by %{ \u2026 %}."},{label:"\\paper",detail:"4.1.2 Paper size and automatic scaling",documentation:'\u2018A4\u2019 is the default value when no explicit paper size is set. However, there are two functions that can be used to change it:\n\nset-default-paper-size\n#(set-default-paper-size "quarto")\nwhich must always be placed at the toplevel scope, and\n\nset-paper-size\n\\paper {\n  #(set-paper-size "tabloid")\n}\nwhich must always be placed in a \\paper block.\n\n\n\nIf the set-default-paper-size function is used in the toplevel scope, it must come before any \\paper block. set-default-paper-size sets the paper size for all pages, whereas set-paper-size only sets the paper size for the pages that the \\paper block applies to. For example, if the \\paper block is at the top of the file, then it will apply the paper size to all pages. If the \\paper block is inside a \\book, then the paper size will only apply to that book.\n\nWhen the set-paper-size function is used, it must be placed before any other functions used within the same \\paper block. See Automatic scaling to paper size.\n\nPaper sizes are defined in \u2018scm/paper.scm\u2019, and while it is possible to add custom sizes, they will be overwritten on subsequent software updates. The available paper sizes are listed in Predefined paper sizes.\n\nThe following command can be used in the file to add a custom paper size which can then be used with set-default-paper-size or set-paper-size as appropriate,\n\n    #(set! paper-alist (cons \'("my size" . (cons (* 15 in) (* 3 in))) paper-alist))\n    \\paper {\n      #(set-paper-size "my size")\n    }\n\nThe units in (inches), cm (centimeters) and mm (millimeters) can all be used.'},{label:"\\parallelMusic",detail:"Writing music in parallel",documentation:"Music for multiple parts can be interleaved in input code. The function \\parallelMusic accepts a list with the names of a number of variables to be created, and a musical expression. The content of alternate measures from the expression become the value of the respective variables, so you can use them afterwards to print the music.\n\nNote: Bar checks | must be used, and the measures must be of the same length.\n\n\n\n    \\parallelMusic #'(voiceA voiceB voiceC) {\n      % Bar 1\n      r8 g'16 c'' e'' g' c'' e'' r8 g'16 c'' e'' g' c'' e'' |\n      r16 e'8.~   e'4            r16 e'8.~   e'4            |\n      c'2                        c'2                        |\n      % Bar 2\n      r8 a'16 d'' f'' a' d'' f'' r8 a'16 d'' f'' a' d'' f'' |\n      r16 d'8.~   d'4            r16 d'8.~   d'4            |\n      c'2                        c'2                        |\n    }\n    \\new StaffGroup <<\n      \\new Staff << \\voiceA \\\\ \\voiceB >>\n      \\new Staff { \\clef bass \\voiceC }\n    >>\n\nRelative mode may be used. Note that the \\relative command is not used inside \\parallelMusic itself. The notes are relative to the preceding note in the voice, not to the previous note in the input \u2013 in other words, relative notes for voiceA ignore the notes in voiceB.\n\n    \\parallelMusic #'(voiceA voiceB voiceC) {\n      % Bar 1\n      r8 g16 c e g, c e r8 g,16 c e g, c e  |\n      r16 e8.~ e4       r16 e8.~  e4        |\n      c2                c                   |\n      % Bar 2\n      r8 a,16 d f a, d f r8 a,16 d f a, d f |\n      r16 d8.~  d4       r16 d8.~  d4       |\n      c2                 c                  |\n     }\n    \\new StaffGroup <<\n      \\new Staff << \\relative c'' \\voiceA \\\\ \\relative c' \\voiceB >>\n      \\new Staff \\relative c' { \\clef bass \\voiceC }\n    >>\n\nThis works quite well for piano music. This example maps four consecutive measures to four variables:\n\n    global = {\n      \\key g \\major\n      \\time 2/4\n    }\n    \\parallelMusic #'(voiceA voiceB voiceC voiceD) {\n      % Bar 1\n      a8    b     c   d     |\n      d4          e         |\n      c16 d e fis d e fis g |\n      a4          a         |\n      % Bar 2\n      e8      fis  g     a   |\n      fis4         g         |\n      e16 fis g  a fis g a b |\n      a4           a         |\n      % Bar 3 ...\n    }\n    \\score {\n      \\new PianoStaff <<\n         \\new Staff {\n           \\global\n           <<\n             \\relative c'' \\voiceA\n             \\\\\n             \\relative c'  \\voiceB\n           >>\n         }\n         \\new Staff {\n           \\global \\clef bass\n           <<\n             \\relative c \\voiceC\n             \\\\\n             \\relative c \\voiceD\n           >>\n         }\n      >>\n    }"},{label:"\\parenthesize",detail:"Parentheses",documentation:"Objects may be parenthesized by prefixing \\parenthesize to the music event. When prefixed to a chord, it parenthesizes every note. Individual notes inside a chord may also be parenthesized.\n\n    c2 \\parenthesize d\n    c2 \\parenthesize <c e g>\n    c2 <c \\parenthesize e g>\n\nNon-note objects may be parenthesized as well. For articulations, a hyphen is needed before the \\parenthesize command.\n\n    c2-\\parenthesize -. d\n    c2 \\parenthesize r"},{label:"\\parenthesize",detail:"A.10.3 Graphic",documentation:"Draw parentheses around arg. This is useful for parenthesizing a column containing several lines of text.\n\n    \\markup {\n      \\line {\n        \\parenthesize {\n          \\column {\n            foo\n            bar\n          }\n        }\n        \\override #'(angularity . 2) {\n          \\parenthesize {\n            \\column {\n              bah\n              baz\n            }\n          }\n        }\n      }\n    }\n\nUsed properties:\n\n - width (0.25)\n - thickness (1)\n - size (1)\n - padding\n - angularity (0)"},{label:"\\partcombine",detail:"Automatic part combining",documentation:"Automatic part combining is used to merge two separate parts of music onto a single staff. This can be especially helpful when typesetting orchestral scores. A single Voice is printed while the two parts of music are the same, but in places where they differ, a second Voice is printed. Stem directions are set up & down accordingly while Solo and a due parts are also identified and marked appropriately.\n\nThe syntax for automatic part combining is:\n\n    \\partcombine musicexpr1 musicexpr2\n\nThe following example demonstrates the basic functionality, putting parts on a single staff as polyphony and setting stem directions accordingly. The same variables are used for the independent parts and the combined staff.\n\n    instrumentOne = \\relative c' {\n      c4 d e f |\n      R1 |\n      d'4 c b a |\n      b4 g2 f4 |\n      e1 |\n    }\n    instrumentTwo = \\relative g' {\n      R1 |\n      g4 a b c |\n      d4 c b a |\n      g4 f( e) d |\n      e1 |\n    }\n    <<\n      \\new Staff \\instrumentOne\n      \\new Staff \\instrumentTwo\n      \\new Staff \\partcombine \\instrumentOne \\instrumentTwo\n    >>\n\nBoth parts have identical notes in the third measure, so only one instance of the notes is printed. Stem, slur, and tie directions are set automatically, depending on whether the parts are playing solo or in unison. When needed in polyphony situations, the first part (with context called one) gets \u201cup\u201d stems, while the second (called two) always gets \u201cdown\u201d stems. In solo situations, the first and second parts get marked with \u201cSolo\u201d and \u201cSolo II\u201d, respectively. The unison (a due) parts are marked with the text \u201ca2\u201d.\n\nBoth arguments to \\partcombine will be interpreted as separate Voice contexts, so if the music is being specified in relative mode then both parts must contain a \\relative function, i.e.,\n\n    \\partcombine\n      \\relative \u2026 musicexpr1\n      \\relative \u2026 musicexpr2\n\nA \\relative section that encloses a \\partcombine has no effect on the pitches of musicexpr1 or musicexpr2."},{label:"\\partcombine",detail:"Polyphony with shared lyrics",documentation:'When two voices with different rhythms share the same lyrics, aligning the lyrics to one of the voices may lead to problems in the other voice. For example, the second lyric extender below is too short, since the lyrics are aligned only to the top voice:\n\n    soprano = \\relative { b\'8( c d c) d2 }\n    alto = \\relative { g\'2 b8( a g a) }\n    words = \\lyricmode { la __ la __ }\n    \\new Staff <<\n      \\new Voice = "sopranoVoice" { \\voiceOne \\soprano }\n      \\new Voice { \\voiceTwo \\alto }\n      \\new Lyrics \\lyricsto "sopranoVoice" \\words\n    >>\n\nTo get the desired result, align the lyrics to a new NullVoice context containing a suitable combination of the two voices. The notes of the NullVoice context do not appear on the printed page, but can be used to align the lyrics appropriately:\n\n    soprano = \\relative { b\'8( c d c) d2 }\n    alto = \\relative { g\'2 b8( a g a) }\n    aligner = \\relative { b\'8( c d c) b( a g a) }\n    words = \\lyricmode { la __ la __ }\n    \\new Staff <<\n      \\new Voice { \\voiceOne \\soprano }\n      \\new Voice { \\voiceTwo \\alto }\n      \\new NullVoice = "aligner" \\aligner\n      \\new Lyrics \\lyricsto "aligner" \\words\n    >>\n\nThe NullVoice context must be placed within a Staff context and contain notes that are already being displayed in that staff and that are also in the same octave. Otherwise the NullVoice may interact with the printed voices in unexpected ways. For example, arbitrary notes in the NullVoice may cause accidentals to appear (or disappear) on the staff.\n\nThis method also can be used with the \\partcombine function, which does not allow lyrics on its own:\n\n    soprano = \\relative { b\'8( c d c) d2 }\n    alto = \\relative { g\'2 b8( a g a) }\n    aligner = \\relative { b\'8( c d c) b( a g a) }\n    words = \\lyricmode { la __ la __ }\n    \\new Staff <<\n      \\new Voice \\partcombine \\soprano \\alto\n      \\new NullVoice = "aligner" \\aligner\n      \\new Lyrics \\lyricsto "aligner" \\words\n    >>'},{label:"\\partcombineApart",detail:"Automatic part combining",documentation:'In professional scores, voices are often kept apart from each other for long passages of music even if some of the notes are the same in both voices, and could just as easily be printed as unison. Combining notes into a chord, or showing one voice as solo is, therefore, not ideal as the \\partcombine function considers each note separately. In this case the \\partcombine function can be overriden with the following commands:\n\nCommands ending in \u2026Once apply only to the next note in the music expression.\n\n - \\partcombineApart and \\partcombineApartOnce keep the notes as two separate voices, even if they can be combined into a chord or unison.\n - \\partcombineChords and \\partcombineChordsOnce combine the notes into a chord.\n - \\partcombineUnisono and \\partcombineUnisonoOnce combine both voices as \u201cunison\u201d.\n - \\partcombineSoloI and \\partcombineSoloIOnce print only voice one, and mark it as a \u201cSolo\u201d.\n - \\partcombineSoloII or \\partcombineSoloIIOnce print only voice two and mark it as a \u201cSolo\u201d.\n - \\partcombineAutomatic and \\partcombineAutomaticOnce end the functions of the commands above, and revert back to the standard \\partcombine functionality.\n\n    instrumentOne = \\relative c\' {\n      \\partcombineApart c2^"apart" e |\n      \\partcombineAutomatic e2^"auto" e |\n      \\partcombineChords e\'2^"chord" e |\n      \\partcombineAutomatic c2^"auto" c |\n      \\partcombineApart c2^"apart" \\partcombineChordsOnce e^"chord once" |\n      c2 c |\n    }\n    instrumentTwo = \\relative c\' {\n      c2 c |\n      e2 e |\n      a,2 c |\n      c2 c\' |\n      c2 c |\n      c2 c |\n    }\n    <<\n      \\new Staff { \\instrumentOne }\n      \\new Staff { \\instrumentTwo }\n      \\new Staff { \\partcombine \\instrumentOne \\instrumentTwo }\n    >>'},{label:"\\partcombineAutomatic",detail:"Automatic part combining",documentation:'In professional scores, voices are often kept apart from each other for long passages of music even if some of the notes are the same in both voices, and could just as easily be printed as unison. Combining notes into a chord, or showing one voice as solo is, therefore, not ideal as the \\partcombine function considers each note separately. In this case the \\partcombine function can be overriden with the following commands:\n\nCommands ending in \u2026Once apply only to the next note in the music expression.\n\n - \\partcombineApart and \\partcombineApartOnce keep the notes as two separate voices, even if they can be combined into a chord or unison.\n - \\partcombineChords and \\partcombineChordsOnce combine the notes into a chord.\n - \\partcombineUnisono and \\partcombineUnisonoOnce combine both voices as \u201cunison\u201d.\n - \\partcombineSoloI and \\partcombineSoloIOnce print only voice one, and mark it as a \u201cSolo\u201d.\n - \\partcombineSoloII or \\partcombineSoloIIOnce print only voice two and mark it as a \u201cSolo\u201d.\n - \\partcombineAutomatic and \\partcombineAutomaticOnce end the functions of the commands above, and revert back to the standard \\partcombine functionality.\n\n    instrumentOne = \\relative c\' {\n      \\partcombineApart c2^"apart" e |\n      \\partcombineAutomatic e2^"auto" e |\n      \\partcombineChords e\'2^"chord" e |\n      \\partcombineAutomatic c2^"auto" c |\n      \\partcombineApart c2^"apart" \\partcombineChordsOnce e^"chord once" |\n      c2 c |\n    }\n    instrumentTwo = \\relative c\' {\n      c2 c |\n      e2 e |\n      a,2 c |\n      c2 c\' |\n      c2 c |\n      c2 c |\n    }\n    <<\n      \\new Staff { \\instrumentOne }\n      \\new Staff { \\instrumentTwo }\n      \\new Staff { \\partcombine \\instrumentOne \\instrumentTwo }\n    >>'},{label:"\\partcombineChords",detail:"Automatic part combining",documentation:'In professional scores, voices are often kept apart from each other for long passages of music even if some of the notes are the same in both voices, and could just as easily be printed as unison. Combining notes into a chord, or showing one voice as solo is, therefore, not ideal as the \\partcombine function considers each note separately. In this case the \\partcombine function can be overriden with the following commands:\n\nCommands ending in \u2026Once apply only to the next note in the music expression.\n\n - \\partcombineApart and \\partcombineApartOnce keep the notes as two separate voices, even if they can be combined into a chord or unison.\n - \\partcombineChords and \\partcombineChordsOnce combine the notes into a chord.\n - \\partcombineUnisono and \\partcombineUnisonoOnce combine both voices as \u201cunison\u201d.\n - \\partcombineSoloI and \\partcombineSoloIOnce print only voice one, and mark it as a \u201cSolo\u201d.\n - \\partcombineSoloII or \\partcombineSoloIIOnce print only voice two and mark it as a \u201cSolo\u201d.\n - \\partcombineAutomatic and \\partcombineAutomaticOnce end the functions of the commands above, and revert back to the standard \\partcombine functionality.\n\n    instrumentOne = \\relative c\' {\n      \\partcombineApart c2^"apart" e |\n      \\partcombineAutomatic e2^"auto" e |\n      \\partcombineChords e\'2^"chord" e |\n      \\partcombineAutomatic c2^"auto" c |\n      \\partcombineApart c2^"apart" \\partcombineChordsOnce e^"chord once" |\n      c2 c |\n    }\n    instrumentTwo = \\relative c\' {\n      c2 c |\n      e2 e |\n      a,2 c |\n      c2 c\' |\n      c2 c |\n      c2 c |\n    }\n    <<\n      \\new Staff { \\instrumentOne }\n      \\new Staff { \\instrumentTwo }\n      \\new Staff { \\partcombine \\instrumentOne \\instrumentTwo }\n    >>'},{label:"\\partcombineSoloI",detail:"Automatic part combining",documentation:'In professional scores, voices are often kept apart from each other for long passages of music even if some of the notes are the same in both voices, and could just as easily be printed as unison. Combining notes into a chord, or showing one voice as solo is, therefore, not ideal as the \\partcombine function considers each note separately. In this case the \\partcombine function can be overriden with the following commands:\n\nCommands ending in \u2026Once apply only to the next note in the music expression.\n\n - \\partcombineApart and \\partcombineApartOnce keep the notes as two separate voices, even if they can be combined into a chord or unison.\n - \\partcombineChords and \\partcombineChordsOnce combine the notes into a chord.\n - \\partcombineUnisono and \\partcombineUnisonoOnce combine both voices as \u201cunison\u201d.\n - \\partcombineSoloI and \\partcombineSoloIOnce print only voice one, and mark it as a \u201cSolo\u201d.\n - \\partcombineSoloII or \\partcombineSoloIIOnce print only voice two and mark it as a \u201cSolo\u201d.\n - \\partcombineAutomatic and \\partcombineAutomaticOnce end the functions of the commands above, and revert back to the standard \\partcombine functionality.\n\n    instrumentOne = \\relative c\' {\n      \\partcombineApart c2^"apart" e |\n      \\partcombineAutomatic e2^"auto" e |\n      \\partcombineChords e\'2^"chord" e |\n      \\partcombineAutomatic c2^"auto" c |\n      \\partcombineApart c2^"apart" \\partcombineChordsOnce e^"chord once" |\n      c2 c |\n    }\n    instrumentTwo = \\relative c\' {\n      c2 c |\n      e2 e |\n      a,2 c |\n      c2 c\' |\n      c2 c |\n      c2 c |\n    }\n    <<\n      \\new Staff { \\instrumentOne }\n      \\new Staff { \\instrumentTwo }\n      \\new Staff { \\partcombine \\instrumentOne \\instrumentTwo }\n    >>'},{label:"\\partcombineSoloII",detail:"Automatic part combining",documentation:'In professional scores, voices are often kept apart from each other for long passages of music even if some of the notes are the same in both voices, and could just as easily be printed as unison. Combining notes into a chord, or showing one voice as solo is, therefore, not ideal as the \\partcombine function considers each note separately. In this case the \\partcombine function can be overriden with the following commands:\n\nCommands ending in \u2026Once apply only to the next note in the music expression.\n\n - \\partcombineApart and \\partcombineApartOnce keep the notes as two separate voices, even if they can be combined into a chord or unison.\n - \\partcombineChords and \\partcombineChordsOnce combine the notes into a chord.\n - \\partcombineUnisono and \\partcombineUnisonoOnce combine both voices as \u201cunison\u201d.\n - \\partcombineSoloI and \\partcombineSoloIOnce print only voice one, and mark it as a \u201cSolo\u201d.\n - \\partcombineSoloII or \\partcombineSoloIIOnce print only voice two and mark it as a \u201cSolo\u201d.\n - \\partcombineAutomatic and \\partcombineAutomaticOnce end the functions of the commands above, and revert back to the standard \\partcombine functionality.\n\n    instrumentOne = \\relative c\' {\n      \\partcombineApart c2^"apart" e |\n      \\partcombineAutomatic e2^"auto" e |\n      \\partcombineChords e\'2^"chord" e |\n      \\partcombineAutomatic c2^"auto" c |\n      \\partcombineApart c2^"apart" \\partcombineChordsOnce e^"chord once" |\n      c2 c |\n    }\n    instrumentTwo = \\relative c\' {\n      c2 c |\n      e2 e |\n      a,2 c |\n      c2 c\' |\n      c2 c |\n      c2 c |\n    }\n    <<\n      \\new Staff { \\instrumentOne }\n      \\new Staff { \\instrumentTwo }\n      \\new Staff { \\partcombine \\instrumentOne \\instrumentTwo }\n    >>'},{label:"\\partcombineUnisono",detail:"Automatic part combining",documentation:'In professional scores, voices are often kept apart from each other for long passages of music even if some of the notes are the same in both voices, and could just as easily be printed as unison. Combining notes into a chord, or showing one voice as solo is, therefore, not ideal as the \\partcombine function considers each note separately. In this case the \\partcombine function can be overriden with the following commands:\n\nCommands ending in \u2026Once apply only to the next note in the music expression.\n\n - \\partcombineApart and \\partcombineApartOnce keep the notes as two separate voices, even if they can be combined into a chord or unison.\n - \\partcombineChords and \\partcombineChordsOnce combine the notes into a chord.\n - \\partcombineUnisono and \\partcombineUnisonoOnce combine both voices as \u201cunison\u201d.\n - \\partcombineSoloI and \\partcombineSoloIOnce print only voice one, and mark it as a \u201cSolo\u201d.\n - \\partcombineSoloII or \\partcombineSoloIIOnce print only voice two and mark it as a \u201cSolo\u201d.\n - \\partcombineAutomatic and \\partcombineAutomaticOnce end the functions of the commands above, and revert back to the standard \\partcombine functionality.\n\n    instrumentOne = \\relative c\' {\n      \\partcombineApart c2^"apart" e |\n      \\partcombineAutomatic e2^"auto" e |\n      \\partcombineChords e\'2^"chord" e |\n      \\partcombineAutomatic c2^"auto" c |\n      \\partcombineApart c2^"apart" \\partcombineChordsOnce e^"chord once" |\n      c2 c |\n    }\n    instrumentTwo = \\relative c\' {\n      c2 c |\n      e2 e |\n      a,2 c |\n      c2 c\' |\n      c2 c |\n      c2 c |\n    }\n    <<\n      \\new Staff { \\instrumentOne }\n      \\new Staff { \\instrumentTwo }\n      \\new Staff { \\partcombine \\instrumentOne \\instrumentTwo }\n    >>'},{label:"\\partial",detail:"Upbeats",documentation:"Partial or pick-up measures, such as an anacrusis or an upbeat, are entered using the \\partial command,\n\n    \\partial duration\n\nwhere duration is the remaining length of the partial measure before the start of the next full measure.\n\n    \\time 3/4\n    \\partial 8\n    e8 | a4 c8 b c4 |\n\nThe duration can be any value less than a full measure:\n\n    \\time 3/4\n    \\partial 4.\n    r4 e8 | a4 c8 b c4 |\n\n\\partial duration can also be written as:\n\n    \\set Timing.measurePosition -duration\n\nSo the first example above could be written:\n\n    \\time 3/4\n    \\set Timing.measurePosition = #(ly:make-moment -1/8)\n    e8 | a4 c8 b c4 |\n\nThe property measurePosition contains a rational number, which is usually positive and indicates how much of the measure has passed at this point. The \\partial duration command sets it to a negative number, when it has a different meaning: it then says that the current (first) bar will be preceded by a bar 0 (the partial bar) with a duration given by duration."},{label:"\\partial",detail:"1.4.1 Long repeats",documentation:"The syntax for a normal repeat is\n\n    \\repeat volta repeatcount musicexpr\n\nwhere musicexpr is a music expression.\n\nA single repeat without an alternate ending:\n\n    \\repeat volta 2 { c4 d e f }\n    c2 d\n    \\repeat volta 2 { d4 e f g }\n\nAlternative endings can be produced using \\alternative. Each group of alternatives must be themselves, enclosed in a set of braces.\n\n    \\repeat volta repeatcount musicexpr\n    \\alternative {\n      { musicexpr }\n    }\n\nwhere musicexpr is a music expression.\n\nIf there are more repeats than there are alternate endings, the earliest repeats are given the first alternative.\n\nA single repeat with one alternate ending:\n\n    \\repeat volta 2 { c4 d e f | }\n    \\alternative {\n      { c2 e | }\n      { f2 g | }\n    }\n    c1\n\nMultiple repeats with one alternate ending:\n\n    \\repeat volta 4 { c4 d e f | }\n    \\alternative {\n      { c2 e | }\n      { f2 g | }\n    }\n    c1\n\nMultiple repeats with more than one alternate ending:\n\n    \\repeat volta 3 { c4 d e f | }\n    \\alternative {\n      { c2 e | }\n      { f2 g | }\n      { a2 g | }\n    }\n    c1\n\nNote: If there are two or more alternatives, nothing should appear between the closing brace of one and the opening brace of the next in an \\alternative block, otherwise you will not get the expected number of endings.\n\n\n\nNote: If you include \\relative inside a \\repeat without explicitly instantiating the Voice context, extra (unwanted) staves will appear. See An extra staff appears.\n\n"},{label:"\\partial",detail:"Normal repeats",documentation:"If a repeat starts in the middle of a measure and has no alternate endings, normally the end of the repeat will also fall in the middle of a measure, so that the two ends add up to one complete measure. In such cases, the repeat signs do not constitute true bar lines. Do not use \\partial commands or bar checks where these repeat signs are printed:\n\n    % no \\partial here\n    c4 e g  % no bar check here\n    % no \\partial here\n    \\repeat volta 4 {\n      e4 |\n      c2 e |\n      % no \\partial here\n      g4 g g  % no bar check here\n    }\n    % no \\partial here\n    g4 |\n    a2 a |\n    g1 |\n\nSimilarly, if a repeat begins with the initial partial measure of a score and has no alternate endings, the same conditions apply as in the above example, except that in this case the \\partial command is required at the beginning of the score:\n\n    \\partial 4  % required\n    \\repeat volta 4 {\n      e4 |\n      c2 e |\n      % no \\partial here\n      g4 g g  % no bar check here\n    }\n    % no \\partial here\n    g4 |\n    a2 a |\n    g1 |\n\nWhen alternate endings are added to a repeat that begins with an incomplete measure, it becomes necessary to set the Timing.measureLength context property manually, in the following specific places:\n\n - at the start of any incomplete measures in the \\alternative block, which normally occur at the end of each alternative, except (in most cases) the last.\n - at the start of each alternative, except the first.\n\n    \\partial 4\n    \\repeat volta 2 { e4 | c2 e | }\n    \\alternative {\n      {\n        f2 d |\n        \\set Timing.measureLength = #(ly:make-moment 3/4)\n        g4 g g  % optional bar check is allowed here\n      }\n      {\n        \\set Timing.measureLength = #(ly:make-moment 4/4)\n        a2 a |\n      }\n    }\n    g1 |\n\nThe measureLength property is described in Time administration."},{label:"\\path",detail:"A.10.3 Graphic",documentation:"Draws a path with line thickness according to the directions given in commands. commands is a list of lists where the car of each sublist is a drawing command and the cdr comprises the associated arguments for each command.\n\nThere are seven commands available to use in the list commands: moveto, rmoveto, lineto, rlineto, curveto, rcurveto, and closepath. Note that the commands that begin with r are the relative variants of the other three commands.\n\nThe commands moveto, rmoveto, lineto, and rlineto take 2 arguments; they are the X and Y coordinates for the destination point.\n\nThe commands curveto and rcurveto create cubic B\xe9zier curves, and take 6 arguments; the first two are the X and Y coordinates for the first control point, the second two are the X and Y coordinates for the second control point, and the last two are the X and Y coordinates for the destination point.\n\nThe closepath command takes zero arguments and closes the current subpath in the active path.\n\nNote that a sequence of commands must begin with a moveto or rmoveto to work with the SVG output.\n\nLine-cap styles and line-join styles may be customized by overriding the line-cap-style and line-join-style properties, respectively. Available line-cap styles are 'butt, 'round, and 'square. Available line-join styles are 'miter, 'round, and 'bevel.\n\nThe property filled specifies whether or not the path is filled with color.\n\n    samplePath =\n      #'((moveto 0 0)\n         (lineto -1 1)\n         (lineto 1 1)\n         (lineto 1 -1)\n         (curveto -5 -5 -5 5 -1 0)\n         (closepath))\n    \\markup {\n      \\path #0.25 #samplePath\n      \\override #'(line-join-style . miter) \\path #0.25 #samplePath\n      \\override #'(filled . #t) \\path #0.25 #samplePath\n    }\n\nUsed properties:\n\n - filled (#f)\n - line-join-style (round)\n - line-cap-style (round)"},{label:"\\pattern",detail:"A.10.7 Other",documentation:'Prints count times a pattern markup. Patterns are spaced apart by space. Patterns are distributed on axis.\n\n    \\markup \\column {\n      "Horizontally repeated :"\n      \\pattern #7 #X #2 \\flat\n      \\null\n      "Vertically repeated :"\n      \\pattern #3 #Y #0.5 \\flat\n    }'},{label:"\\pes",detail:"Predefined commands",documentation:"Two adjacent heads can be tied together with the \\pes and \\flexa infix commands for a rising and falling line of melody, respectively."},{label:"\\phrasingSlurDashed",detail:"Phrasing slurs",documentation:"Phrasing slurs can be solid, dotted, or dashed. Solid is the default style for phrasing slurs:\n\n    c4\\( e g2\\)\n    \\phrasingSlurDashed\n    g4\\( e c2\\)\n    \\phrasingSlurDotted\n    c4\\( e g2\\)\n    \\phrasingSlurSolid\n    g4\\( e c2\\)"},{label:"\\phrasingSlurDashPattern",detail:"Phrasing slurs",documentation:"Custom dash patterns for phrasing slurs can be defined:\n\n    c4\\( e g2\\)\n    \\phrasingSlurDashPattern #0.7 #0.75\n    g4\\( e c2\\)\n    \\phrasingSlurDashPattern #0.5 #2.0\n    c4\\( e g2\\)\n    \\phrasingSlurSolid\n    g4\\( e c2\\)\n\nDash pattern definitions for phrasing slurs have the same structure as dash pattern definitions for slurs. For more information about complex dash patterns, see the snippets under Slurs."},{label:"\\phrasingSlurDotted",detail:"Phrasing slurs",documentation:"Phrasing slurs can be solid, dotted, or dashed. Solid is the default style for phrasing slurs:\n\n    c4\\( e g2\\)\n    \\phrasingSlurDashed\n    g4\\( e c2\\)\n    \\phrasingSlurDotted\n    c4\\( e g2\\)\n    \\phrasingSlurSolid\n    g4\\( e c2\\)"},{label:"\\phrasingSlurDown",detail:"Phrasing slurs",documentation:"Typographically, a phrasing slur behaves almost exactly like a normal slur. However, they are treated as different objects; a \\slurUp will have no effect on a phrasing slur. Phrasing may be manually placed above or below the staff; see Direction and placement."},{label:"\\phrasingSlurHalfDashed",detail:"Phrasing slurs",documentation:"Phrasing slurs can also be made half-dashed (the first half dashed, the second half solid) or half-solid (the first half solid, the second half dashed):\n\n    c4\\( e g2\\)\n    \\phrasingSlurHalfDashed\n    g4\\( e c2\\)\n    \\phrasingSlurHalfSolid\n    c4\\( e g2\\)\n    \\phrasingSlurSolid\n    g4\\( e c2\\)"},{label:"\\phrasingSlurHalfSolid",detail:"Phrasing slurs",documentation:"Phrasing slurs can also be made half-dashed (the first half dashed, the second half solid) or half-solid (the first half solid, the second half dashed):\n\n    c4\\( e g2\\)\n    \\phrasingSlurHalfDashed\n    g4\\( e c2\\)\n    \\phrasingSlurHalfSolid\n    c4\\( e g2\\)\n    \\phrasingSlurSolid\n    g4\\( e c2\\)"},{label:"\\phrasingSlurNeutral",detail:"Phrasing slurs",documentation:"Typographically, a phrasing slur behaves almost exactly like a normal slur. However, they are treated as different objects; a \\slurUp will have no effect on a phrasing slur. Phrasing may be manually placed above or below the staff; see Direction and placement."},{label:"\\phrasingSlurSolid",detail:"Phrasing slurs",documentation:"Phrasing slurs can be solid, dotted, or dashed. Solid is the default style for phrasing slurs:\n\n    c4\\( e g2\\)\n    \\phrasingSlurDashed\n    g4\\( e c2\\)\n    \\phrasingSlurDotted\n    c4\\( e g2\\)\n    \\phrasingSlurSolid\n    g4\\( e c2\\)"},{label:"\\phrasingSlurUp",detail:"Phrasing slurs",documentation:"Typographically, a phrasing slur behaves almost exactly like a normal slur. However, they are treated as different objects; a \\slurUp will have no effect on a phrasing slur. Phrasing may be manually placed above or below the staff; see Direction and placement."},{label:"\\phrygian",detail:"Key signature",documentation:'Here, mode should be \\major or \\minor to get a key signature of pitch-major or pitch-minor, respectively. You may also use the standard mode names, also called church modes: \\ionian, \\dorian, \\phrygian, \\lydian, \\mixolydian, \\aeolian, and \\locrian.\n\n    \\key g \\major\n    fis1\n    f\n    fis\n\nAdditional modes can be defined, by listing the alterations for each scale step when the mode starts on C.\n\n    freygish = #`((0 . ,NATURAL) (1 . ,FLAT) (2 . ,NATURAL)\n        (3 . ,NATURAL) (4 . ,NATURAL) (5 . ,FLAT) (6 . ,FLAT))\n    \\relative c\' {\n      \\key c \\freygish c4 des e f\n      \\bar "||" \\key d \\freygish d es fis g\n    }\n\nAccidentals in the key signature may be printed in octaves other than their traditional positions, or in multiple octaves, by using the flat-positions and sharp-positions properties of KeySignature. Entries in these properties specify the range of staff-positions where accidentals will be printed. If a single position is specified in an entry, the accidentals are placed within the octave ending at that staff position.\n\n    \\override Staff.KeySignature.flat-positions = #\'((-5 . 5))\n    \\override Staff.KeyCancellation.flat-positions = #\'((-5 . 5))\n    \\clef bass \\key es \\major es g bes d\n    \\clef treble \\bar "||" \\key es \\major es g bes d\n    \\override Staff.KeySignature.sharp-positions = #\'(2)\n    \\bar "||" \\key b \\major b fis b2'},{label:"\\pitchedTrill",detail:"Trills",documentation:"Trills that require an auxiliary note with an explicit pitch can be typeset with the \\pitchedTrill command. The first argument is the main note, and the second is the trilled note, printed as a stemless note head in parentheses.\n\n    \\pitchedTrill\n    d2\\startTrillSpan fis\n    d2\n    c2\\stopTrillSpan\n    r2"},{label:"\\portato",detail:"Articulations and ornamentations",documentation:"A variety of symbols that denote articulations, ornamentations, and other performance indications can be attached to a note using this syntax:\n\n    note\\name\n\nThe possible values for name are listed in List of articulations. For example:\n\n    c4\\staccato c\\mordent b2\\turn\n    c1\\fermata"},{label:"\\postscript",detail:"Graphic notation inside markup",documentation:'Advanced graphic features include the ability to include external image files converted to the Encapsulated PostScript format (eps), or to directly embed graphics into the input file, using native PostScript code. In such a case, it may be useful to explicitly specify the size of the drawing, as demonstrated below:\n\n    c1^\\markup {\n      \\combine\n        \\epsfile #X #10 #"./context-example.eps"\n        \\with-dimensions #\'(0 . 6) #\'(0 . 10)\n        \\postscript #"\n          -2 3 translate\n          2.7 2 scale\n          newpath\n          2 -1 moveto\n          4 -2 4 1 1 arct\n          4 2 3 3 1 arct\n          0 4 0 3 1 arct\n          0 0 1 -1 1 arct\n          closepath\n          stroke"\n      }\n    c\n\nAn exhaustive list of graphics-specific commands can be found in Graphic.'},{label:"\\postscript",detail:"A.10.3 Graphic",documentation:"This inserts str directly into the output as a PostScript command string.\n\n    ringsps = #\"\n      0.15 setlinewidth\n      0.9 0.6 moveto\n      0.4 0.6 0.5 0 361 arc\n      stroke\n      1.0 0.6 0.5 0 361 arc\n      stroke\n      \"\n    rings = \\markup {\n      \\with-dimensions #'(-0.2 . 1.6) #'(0 . 1.2)\n      \\postscript #ringsps\n    }\n    \\relative c'' {\n      c2^\\rings\n      a2_\\rings\n    }"},{label:"\\powerChords",detail:"Indicating power chords",documentation:'Power chords and their symbols can be engraved in chord mode or as chord constructs:\n\n    ChordsAndSymbols = {\n      \\chordmode {\n        \\powerChords\n        e,,1:1.5\n        a,,1:1.5.8\n        \\set minimumFret = #8\n        c,1:1.5\n        f,1:1.5.8\n      }\n      \\set minimumFret = #5\n      <a, e>1\n      <g d\' g\'>1\n    }\n    \\score {\n      <<\n        \\new ChordNames {\n        \\ChordsAndSymbols\n        }\n        \\new Staff {\n          \\clef "treble_8"\n          \\ChordsAndSymbols\n        }\n        \\new TabStaff {\n          \\ChordsAndSymbols\n        }\n      >>\n    }\n\nPower chord symbols are automatically switched off as soon as one of the other common chord modifier is used:\n\n    mixedChords = \\chordmode {\n      c,1\n      \\powerChords\n      b,,1:1.5\n      fis,,1:1.5.8\n      g,,1:m\n    }\n    \\score {\n      <<\n        \\new ChordNames {\n          \\mixedChords\n        }\n        \\new Staff {\n          \\clef "treble_8"\n          \\mixedChords\n        }\n        \\new TabStaff {\n          \\mixedChords\n        }\n      >>\n    }'},{label:"\\pp",detail:"Dynamics",documentation:"Absolute dynamic marks are specified using a command after a note, such as c4\\ff. The available dynamic marks are \\ppppp, \\pppp, \\ppp, \\pp, \\p, \\mp, \\mf, \\f, \\ff, \\fff, \\ffff, \\fffff, \\fp, \\sf, \\sff, \\sp, \\spp, \\sfz, and \\rfz. Dynamic marks may be manually placed above or below the staff; see Direction and placement.\n\n    c2\\ppp c\\mp\n    c2\\rfz c^\\mf\n    c2_\\spp c^\\ff"},{label:"\\ppp",detail:"Dynamics",documentation:"Absolute dynamic marks are specified using a command after a note, such as c4\\ff. The available dynamic marks are \\ppppp, \\pppp, \\ppp, \\pp, \\p, \\mp, \\mf, \\f, \\ff, \\fff, \\ffff, \\fffff, \\fp, \\sf, \\sff, \\sp, \\spp, \\sfz, and \\rfz. Dynamic marks may be manually placed above or below the staff; see Direction and placement.\n\n    c2\\ppp c\\mp\n    c2\\rfz c^\\mf\n    c2_\\spp c^\\ff"},{label:"\\pppp",detail:"Dynamics",documentation:"Absolute dynamic marks are specified using a command after a note, such as c4\\ff. The available dynamic marks are \\ppppp, \\pppp, \\ppp, \\pp, \\p, \\mp, \\mf, \\f, \\ff, \\fff, \\ffff, \\fffff, \\fp, \\sf, \\sff, \\sp, \\spp, \\sfz, and \\rfz. Dynamic marks may be manually placed above or below the staff; see Direction and placement.\n\n    c2\\ppp c\\mp\n    c2\\rfz c^\\mf\n    c2_\\spp c^\\ff"},{label:"\\ppppp",detail:"Dynamics",documentation:"Absolute dynamic marks are specified using a command after a note, such as c4\\ff. The available dynamic marks are \\ppppp, \\pppp, \\ppp, \\pp, \\p, \\mp, \\mf, \\f, \\ff, \\fff, \\ffff, \\fffff, \\fp, \\sf, \\sff, \\sp, \\spp, \\sfz, and \\rfz. Dynamic marks may be manually placed above or below the staff; see Direction and placement.\n\n    c2\\ppp c\\mp\n    c2\\rfz c^\\mf\n    c2_\\spp c^\\ff"},{label:"\\prall",detail:"Articulations and ornamentations",documentation:"A variety of symbols that denote articulations, ornamentations, and other performance indications can be attached to a note using this syntax:\n\n    note\\name\n\nThe possible values for name are listed in List of articulations. For example:\n\n    c4\\staccato c\\mordent b2\\turn\n    c1\\fermata"},{label:"\\pralldown",detail:"Articulations and ornamentations",documentation:"A variety of symbols that denote articulations, ornamentations, and other performance indications can be attached to a note using this syntax:\n\n    note\\name\n\nThe possible values for name are listed in List of articulations. For example:\n\n    c4\\staccato c\\mordent b2\\turn\n    c1\\fermata"},{label:"\\prallmordent",detail:"Articulations and ornamentations",documentation:"A variety of symbols that denote articulations, ornamentations, and other performance indications can be attached to a note using this syntax:\n\n    note\\name\n\nThe possible values for name are listed in List of articulations. For example:\n\n    c4\\staccato c\\mordent b2\\turn\n    c1\\fermata"},{label:"\\prallprall",detail:"Articulations and ornamentations",documentation:"A variety of symbols that denote articulations, ornamentations, and other performance indications can be attached to a note using this syntax:\n\n    note\\name\n\nThe possible values for name are listed in List of articulations. For example:\n\n    c4\\staccato c\\mordent b2\\turn\n    c1\\fermata"},{label:"\\prallup",detail:"Articulations and ornamentations",documentation:"A variety of symbols that denote articulations, ornamentations, and other performance indications can be attached to a note using this syntax:\n\n    note\\name\n\nThe possible values for name are listed in List of articulations. For example:\n\n    c4\\staccato c\\mordent b2\\turn\n    c1\\fermata"},{label:"\\predefinedFretboardsOff",detail:"Automatic fret diagrams",documentation:"As no predefined diagrams are loaded by default, automatic calculation of fret diagrams is the default behavior. Once default diagrams are loaded, automatic calculation can be enabled and disabled with predefined commands:\n\n    \\storePredefinedDiagram #default-fret-table\n                            <c e g c' e'>\n                            #guitar-tuning\n                            #\"x;3-1-(;5-2;5-3;5-4;3-1-1-);\"\n    <<\n      \\new ChordNames {\n        \\chordmode {\n          c1 c c\n        }\n      }\n      \\new FretBoards {\n        <c e g c' e'>1\n        \\predefinedFretboardsOff\n        <c e g c' e'>1\n        \\predefinedFretboardsOn\n        <c e g c' e'>1\n      }\n      \\new Staff {\n        \\clef \"treble_8\"\n        <c e g c' e'>1\n        <c e g c' e'>1\n        <c e g c' e'>1\n      }\n    >>\n\nSometimes the fretboard calculator will be unable to find an acceptable diagram. This can often be remedied by manually assigning a note to a string. In many cases, only one note need be manually placed on a string; the rest of the notes will then be placed appropriately by the FretBoards context."},{label:"\\predefinedFretboardsOn",detail:"Automatic fret diagrams",documentation:"As no predefined diagrams are loaded by default, automatic calculation of fret diagrams is the default behavior. Once default diagrams are loaded, automatic calculation can be enabled and disabled with predefined commands:\n\n    \\storePredefinedDiagram #default-fret-table\n                            <c e g c' e'>\n                            #guitar-tuning\n                            #\"x;3-1-(;5-2;5-3;5-4;3-1-1-);\"\n    <<\n      \\new ChordNames {\n        \\chordmode {\n          c1 c c\n        }\n      }\n      \\new FretBoards {\n        <c e g c' e'>1\n        \\predefinedFretboardsOff\n        <c e g c' e'>1\n        \\predefinedFretboardsOn\n        <c e g c' e'>1\n      }\n      \\new Staff {\n        \\clef \"treble_8\"\n        <c e g c' e'>1\n        <c e g c' e'>1\n        <c e g c' e'>1\n      }\n    >>\n\nSometimes the fretboard calculator will be unable to find an acceptable diagram. This can often be remedied by manually assigning a note to a string. In many cases, only one note need be manually placed on a string; the rest of the notes will then be placed appropriately by the FretBoards context."},{label:"\\property-recursive",detail:"A.10.7 Other",documentation:"Print out a warning when a header field markup contains some recursive markup definition."},{label:"\\pt",detail:"5.4.3 Distances and measurements",documentation:"Distances in LilyPond are of two types: absolute and scaled.\n\nAbsolute distances are used for specifying margins, indents, and other page layout details, and are by default specified in millimeters. Distances may be specified in other units by following the quantity by \\mm, \\cm, \\in\xa0(inches), or \\pt\xa0(points, 1/72.27 of an inch). Page layout distances can also be specified in scalable units (see the following paragraph) by appending \\staff-space to the quantity. Page layout is described in detail in Page layout.\n\nScaled distances are always specified in units of the staff-space or, rarely, the half staff-space. The staff-space is the distance between two adjacent staff lines. The default value can be changed globally by setting the global staff size, or it can be overridden locally by changing the staff-space property of StaffSymbol. Scaled distances automatically scale with any change to the either the global staff size or the staff-space property of StaffSymbol, but fonts scale automatically only with changes to the global staff size. The global staff size thus enables the overall size of a rendered score to be easily varied. For the methods of setting the global staff size see Setting the staff size."},{label:"\\pushToTag",detail:"Using tags",documentation:"The \\tag #'partA command marks a music expression with the name partA. Expressions tagged in this way can be selected or filtered out by name later, using either \\keepWithTag #'name or \\removeWithTag #'name. The result of applying these filters to tagged music is as follows:\n\nFilter\tResult\nTagged music preceded by \\keepWithTag #'name or \\keepWithTag #'(name1 name2\u2026)\tUntagged music and music tagged with any of the given tag names is included; music tagged with any other tag name is excluded.\nTagged music preceded by \\removeWithTag #'name or \\removeWithTag #'(name1 name2\u2026)\tUntagged music and music not tagged with any of the given tag names is included; music tagged with any of the given tag names is excluded.\nTagged music not preceded by either \\keepWithTag or \\removeWithTag\tAll tagged and untagged music is included.\n\n\nThe arguments of the \\tag, \\keepWithTag and \\removeWithTag commands should be a symbol (such as #'score or #'part), followed by a music expression.\n\nIn the following example, we see two versions of a piece of music, one showing trills with the usual notation, and one with trills explicitly expanded:\n\n    music = \\relative g' {\n      g8. c32 d\n      \\tag #'trills { d8.\\trill }\n      \\tag #'expand { \\repeat unfold 3 { e32 d } }\n      c32 d\n     }\n    \\score {\n      \\keepWithTag #'trills \\music\n    }\n    \\score {\n      \\keepWithTag #'expand \\music\n    }\n\nAlternatively, it is sometimes easier to exclude sections of music:\n\n    music = \\relative g' {\n      g8. c32 d\n      \\tag #'trills { d8.\\trill }\n      \\tag #'expand {\\repeat unfold 3 { e32 d } }\n      c32 d\n     }\n    \\score {\n      \\removeWithTag #'expand\n      \\music\n    }\n    \\score {\n      \\removeWithTag #'trills\n      \\music\n    }\n\nTagged filtering can be applied to articulations, texts, etc. by prepending\n\n    -\\tag #'your-tag\n\nto an articulation. For example, this would define a note with a conditional fingering indication and a note with a conditional annotation:\n\n    c1-\\tag #'finger ^4\n    c1-\\tag #'warn ^\"Watch!\"\n\nMultiple tags may be placed on expressions with multiple \\tag entries, or by combining multiple tags into one symbol list:\n\n    music = \\relative c'' {\n      \\tag #'a \\tag #'both { a4 a a a }\n      \\tag #'(b both) { b4 b b b }\n    }\n    <<\n    \\keepWithTag #'a \\music\n    \\keepWithTag #'b \\music\n    \\keepWithTag #'both \\music\n    >>\n\nMultiple \\removeWithTag filters may be applied to a single music expression to remove several differently named tagged sections. Alternatively, you can use a single \\removeWithTag with a list of tags.\n\n    music = \\relative c'' {\n      \\tag #'A { a4 a a a }\n      \\tag #'B { b4 b b b }\n      \\tag #'C { c4 c c c }\n      \\tag #'D { d4 d d d }\n    }\n    \\new Voice {\n      \\removeWithTag #'B\n      \\removeWithTag #'C\n      \\music\n      \\removeWithTag #'(B C)\n      \\music\n    }\n\nTwo or more \\keepWithTag filters applied to a single music expression will cause all tagged sections to be removed, as the first filter will remove all tagged sections except the one named, and the second filter will remove even that tagged section. Usually you would rather want to use a single \\keepWithTag command with a list of multiple tags: this will only remove tagged sections not given in any of the tags.\n\nSometimes you want to splice some music at a particular place in an existing music expression. You can use \\pushToTag and \\appendToTag for adding material at the front or end of the elements of an existing music construct. Not every music construct has elements, but sequential and simultaneous music are safe bets:\n\n    test = { \\tag #'here { \\tag #'here <<c''>> } }\n    {\n      \\pushToTag #'here c'\n      \\pushToTag #'here e'\n      \\pushToTag #'here g' \\test\n      \\appendToTag #'here c'\n      \\appendToTag #'here e'\n      \\appendToTag #'here g' \\test\n    }\n\nBoth commands get a tag, the material to splice in at every occurence of the tag, and the tagged expression. The commands make sure to copy everything that they change so that the original \\test retains its meaning."},{label:"\\put-adjacent",detail:"A.10.2 Align",documentation:"Put arg2 next to arg1, without moving arg1."},{label:"\\quilisma",detail:"Gregorian square neume ligatures",documentation:""},{label:"\\quilisma",detail:"Predefined commands",documentation:""},{label:"\\quoteDuring",detail:"Quoting other voices",documentation:'It is very common for one voice to use the same notes as those from another voice. For example, first and second violins playing the same phrase during a particular passage of the music. This is done by letting one voice quote the other, without having to re-enter the music all over again for the second voice.\n\nThe \\addQuote command, used in the top level scope, defines a stream of music from which fragments can be quoted.\n\nThe \\quoteDuring command is used to indicate the point where the quotation begins. It is followed by two arguments: the name of the quoted voice, as defined with \\addQuote, and a music expression for the duration of the quote.\n\n    fluteNotes = \\relative c\'\' {\n      a4 gis g gis | b4^"quoted" r8 ais\\p a4( f)\n    }\n    oboeNotes = \\relative c\'\' {\n      c4 cis c b \\quoteDuring #"flute" { s1 }\n    }\n    \\addQuote "flute" { \\fluteNotes }\n    \\score {\n      <<\n        \\new Staff \\with { instrumentName = "Flute" } \\fluteNotes\n        \\new Staff \\with { instrumentName = "Oboe" } \\oboeNotes\n      >>\n    }\n\nIf the music expression used in \\quoteDuring contains notes instead of spacer or multimeasure rests then the quote will appear as polyphony and may produce unexpected results.\n\n    fluteNotes = \\relative c\'\' {\n      a4 gis g gis | b4^"quoted" r8 ais\\p a4( f)\n    }\n    oboeNotes = \\relative c\'\' {\n      c4 cis c b \\quoteDuring #"flute" { e4 r8 ais b4 a }\n    }\n    \\addQuote "flute" { \\fluteNotes }\n    \\score {\n      <<\n        \\new Staff \\with { instrumentName = "Flute" } \\fluteNotes\n        \\new Staff \\with { instrumentName = "Oboe" } \\oboeNotes\n      >>\n    }\n\nThe \\quoteDuring command uses the \\transposition settings of both quoted and quoting parts to produce notes for the quoting part that have the same sounding pitch as those in the quoted part.\n\n    clarinetNotes = \\relative c\'\' {\n      \\transposition bes\n      \\key d \\major\n      b4 ais a ais | cis4^"quoted" r8 bis\\p b4( f)\n    }\n    oboeNotes = \\relative c\'\' {\n      c4 cis c b \\quoteDuring #"clarinet" { s1 }\n    }\n    \\addQuote "clarinet" { \\clarinetNotes }\n    \\score {\n      <<\n        \\new Staff \\with { instrumentName = "Clarinet" } \\clarinetNotes\n        \\new Staff \\with { instrumentName = "Oboe" } \\oboeNotes\n      >>\n    }'},{label:"\\quoteDuring",detail:"Formatting cue notes",documentation:'The simplest way to format cue notes is to explicitly create a CueVoice context within the part.\n\nR1\n<<\n  { e2\\rest r4. e8 }\n  \\new CueVoice {\n    \\stemUp d\'8^"flute" c d e fis2\n  }\n>>\nd,4 r a r\n\n\nThe \\cueClef command can also be used with an explict CueVoice context if a change of clef is required and will print an appropriately sized clef for the cue notes. The \\cueClefUnset command can then be used to switch back to the original clef, again with an appropriately sized clef.\n\n\\clef "bass"\nR1\n<<\n  { e2\\rest r4. \\cueClefUnset e,8 }\n  \\new CueVoice {\n    \\cueClef "treble" \\stemUp d\'\'8^"flute" c d e fis2\n  }\n>>\nd,,4 r a r\n\n\nThe \\cueClef and \\cueClefUnset command can also be used without a CueVoice if required.\n\n\\clef "bass"\nR1\n\\cueClef "treble"\nd\'8^"flute" c d e fis2\n\\cueClefUnset\nd,,4 r a r\n\n\nFor more complex cue note placement, e.g including transposition, or inserting cue notes from multiple music sources the \\cueDuring or \\cueDuringWithClef commands can be used. These are more specialized form of \\quoteDuring, see Quoting other voices in the previous section.\n\nThe syntax is:\n\n    \\cueDuring #quotename #direction #music\n\nand\n\n    \\cueDuringWithClef #quotename #direction #clef #music\n\nThe music from the corresponding measures of the quote name is added as a CueVoice context and occurs simultaneously with the music, which then creates a polyphonic situation. The direction takes the argument UP or DOWN, and corresponds to the first and second voices respectively, determining how the cue notes are printed in relation to the other voice.\n\n    fluteNotes = \\relative c\'\' {\n      r2. c4 | d8 c d e fis2 | g2 d |\n    }\n    oboeNotes = \\relative c\'\' {\n      R1\n      \\new CueVoice { \\set instrumentCueName = "flute" }\n      \\cueDuring #"flute" #UP { R1 }\n      g2 c,\n    }\n    \\addQuote "flute" { \\fluteNotes }\n    \\new Staff {\n      \\oboeNotes\n    }\n\nIt is possible to adjust which aspects of the music are quoted with \\cueDuring by setting the quotedCueEventTypes property. Its default value is \'(note-event rest-event tie-event beam-event tuplet-span-event), which means that only notes, rests, ties, beams and tuplets are quoted, but not articulations, dynamic marks, markup etc.\n\nNote: When a Voice starts with cueDuring, as in the following example, the Voice context must be explicitly declared, or else the entire music expression would belong to the CueVoice context.\n\n\n\n    oboeNotes = \\relative c\'\' {\n      r2 r8 d16(\\f f e g f a)\n      g8 g16 g g2.\n    }\n    \\addQuote "oboe" { \\oboeNotes }\n    \\new Voice \\relative c\'\' {\n      \\set Score.quotedCueEventTypes = #\'(note-event rest-event tie-event\n                                          beam-event tuplet-span-event\n                                          dynamic-event slur-event)\n      \\cueDuring #"oboe" #UP { R1 }\n      g2 c,\n    }\n\nThe name of the instrument playing the cue can be printed by setting the instrumentCueName property in a temporary CueVoice context. The placement and style of the instrumentCueName is controlled by the InstrumentSwitch object, see Instrument names. If the cue notes require a change in clef, this can be done manually but the original clef should also be restored manually at the end of the cue notes.\n\n    fluteNotes = \\relative c\'\' {\n      r2. c4 d8 c d e fis2 g2 d2\n    }\n    bassoonNotes = \\relative c {\n      \\clef bass\n      R1\n      \\clef treble\n      \\new CueVoice { \\set instrumentCueName = "flute" }\n      \\cueDuring #"flute" #UP { R1 }\n      \\clef bass\n      g4. b8 d2\n    }\n    \\addQuote "flute" { \\fluteNotes }\n    \\new Staff {\n      \\bassoonNotes\n    }\n\nAlternatively, the \\cueDuringWithClef function can be used instead. This command takes an extra argument to specify the change of clef that needs to be printed for the cue notes but will automatically print the original clef once the cue notes have finished.\n\n    fluteNotes = \\relative c\'\' {\n      r2. c4 d8 c d e fis2 g2 d2\n    }\n    bassoonNotes = \\relative c {\n      \\clef bass\n      R1\n      \\new CueVoice { \\set instrumentCueName = "flute" }\n      \\cueDuringWithClef #"flute" #UP #"treble" { R1 }\n      g4. b8 d2\n    }\n    \\addQuote "flute" { \\fluteNotes }\n    \\new Staff {\n      \\bassoonNotes\n    }'},{label:"\\raise",detail:"Text alignment",documentation:"Vertical alignment is a bit more complex. As stated above, markup objects can be moved as a whole; however, it is also possible to move specific elements inside a markup block. In this case, the element to be moved needs to be preceded with an anchor point, that can be another markup element or an invisible object. The following example demonstrates these two possibilities; the last markup in this example has no anchor point, and therefore is not moved.\n\n    d2^\\markup {\n      Acte I\n      \\raise #2 { Sc\xe8ne 1 }\n    }\n    a'\n    g_\\markup {\n      \\null\n      \\lower #4 \\bold { Tr\xe8s mod\xe9r\xe9 }\n    }\n    a\n    d,^\\markup {\n      \\raise #4 \\italic { Une for\xeat. }\n    }\n    a'4 a g2 a"},{label:"\\raise",detail:"A.10.2 Align",documentation:"Raise arg by the distance amount. A negative amount indicates lowering, see also \\lower.\n\nThe argument to \\raise is the vertical displacement amount, measured in (global) staff spaces. \\raise and \\super raise objects in relation to their surrounding markups.\n\nIf the text object itself is positioned above or below the staff, then \\raise cannot be used to move it, since the mechanism that positions it next to the staff cancels any shift made with \\raise. For vertical positioning, use the padding and/or extra-offset properties.\n\n    \\markup {\n      C\n      \\small\n      \\bold\n      \\raise #1.0\n      9/7+\n    }"},{label:"\\relative",detail:"Relative octave entry",documentation:"Absolute octave entry requires specifying the octave for every single note. Relative octave entry, in contrast, specifies each octave in relation to the last note: changing one note\u2019s octave will affect all of the following notes.\n\nRelative note mode has to be entered explicitly using the \\relative command:\n\n    \\relative startpitch musicexpr\n\nIn relative mode, each note is assumed to be as close to the previous note as possible. This means that the octave of each pitch inside musicexpr is calculated as follows:\n\n - If no octave changing mark is used on a pitch, its octave is calculated so that the interval with the previous note is less than a fifth. This interval is determined without considering accidentals.\n - An octave changing mark\xa0' or\xa0, can be added to respectively raise or lower a pitch by an extra octave, relative to the pitch calculated without an octave mark.\n - Multiple octave changing marks can be used. For example, ''\xa0and\xa0,, will alter the pitch by two octaves.\n - The pitch of the first note is relative to startpitch. startpitch is specified in absolute octave mode. Which choices are meaningful?\nan octave of c\nIdentifying middle C with c' is quite basic, so finding octaves of c tends to be straightforward. If your music starts with gis above c''', you\u2019d write something like \\relative c''' { gis' \u2026 }\n\nan octave of the first note inside\nWriting \\relative gis''' { gis \u2026 } makes it easy to determine the absolute pitch of the first note inside.\n\nno explicit starting pitch\nThis (namely writing \\relative { gis''' \u2026 }) can be viewed as a compact version of the previous option: the first note inside is written in absolute pitch itself. This happens to be equivalent to choosing f as the reference pitch.\n\nThe documentation will usually employ the first option.\n\n\n\nHere is the relative mode shown in action:\n\n    \\relative c {\n      \\clef bass\n      c d e f\n      g a b c\n      d e f g\n    }\n\nOctave changing marks are used for intervals greater than a fourth:\n\n    \\relative c'' {\n      c g c f,\n      c' a, e'' c\n    }\n\nA note sequence without a single octave mark can nevertheless span large intervals:\n\n    \\relative c {\n      c f b e\n      a d g c\n    }\n\nWhen \\relative blocks are nested, the innermost \\relative block applies.\n\n    \\relative c' {\n      c d e f\n      \\relative c'' {\n        c d e f\n      }\n    }\n\n\\relative has no effect on \\chordmode blocks.\n\n    \\new Staff {\n      \\relative c''' {\n        \\chordmode { c1 }\n      }\n      \\chordmode { c1 }\n    }\n\n\\relative is not allowed inside of \\chordmode blocks.\n\nMusic inside a \\transpose block is absolute unless a \\relative is included.\n\n    \\relative c' {\n      d e\n      \\transpose f g {\n        d e\n        \\relative c' {\n          d e\n        }\n      }\n    }"},{label:"\\relative",detail:"Changing staff automatically",documentation:'A \\relative section that is outside of \\autochange has no effect on the pitches of the music, so if necessary, put \\relative inside \\autochange.\n\nIf additional control is needed over the individual staves, they can be created manually with the names "up" and "down". The \\autochange command will then switch its voice between the existing staves.\n\nNote: If staves are created manually, they must be named "up" and "down".\n\n\n\nFor example, staves must be created manually in order to place a key signature in the lower staff:\n\n    \\new PianoStaff <<\n      \\new Staff = "up" {\n        \\new Voice = "melOne" {\n          \\key g \\major\n          \\autochange \\relative c\' {\n            g8 b a c b d c e\n            d8 r fis, g a2\n          }\n        }\n      }\n      \\new Staff = "down" {\n        \\key g \\major\n        \\clef bass\n      }\n    >>'},{label:"\\RemoveEmptyStaves",detail:"Hiding staves",documentation:"Staff lines can be hidden by removing the Staff_symbol_engraver from the Staff context. As an alternative, \\stopStaff may be used.\n\n    \\new Staff \\with {\n      \\remove \"Staff_symbol_engraver\"\n    }\n    \\relative c''' { a8 f e16 d c b a2 }\n\nEmpty staves can be hidden by setting the \\Staff \\RemoveEmptyStaves command in the \\layout block. In orchestral scores, this style is known as \u2018Frenched Score\u2019. By default, this command hides and removes all empty staves in a score except for those in the first system.\n\nNote: A staff is considered empty when it contains only multi-measure rests, rests, skips, spacer rests, or a combination of these elements.\n\n\n\n    \\layout {\n      \\context {\n        \\Staff \\RemoveEmptyStaves\n      }\n    }\n    \\relative c' <<\n      \\new Staff {\n        e4 f g a \\break\n        b1 \\break\n        a4 b c2\n      }\n      \\new Staff {\n        c,4 d e f \\break\n        R1 \\break\n        f4 g c,2\n      }\n    >>"},{label:"\\RemoveEmptyStaves",detail:"Hiding staves",documentation:"The \\VaticanaStaff \\RemoveEmptyStaves command may be used to hide empty staves in ancient music contexts. Similarly, \\RhythmicStaff \\RemoveEmptyStaves may be used to hide empty RhythmicStaff contexts."},{label:"\\removeWithTag",detail:"Using tags",documentation:"The \\tag #'partA command marks a music expression with the name partA. Expressions tagged in this way can be selected or filtered out by name later, using either \\keepWithTag #'name or \\removeWithTag #'name. The result of applying these filters to tagged music is as follows:\n\nFilter\tResult\nTagged music preceded by \\keepWithTag #'name or \\keepWithTag #'(name1 name2\u2026)\tUntagged music and music tagged with any of the given tag names is included; music tagged with any other tag name is excluded.\nTagged music preceded by \\removeWithTag #'name or \\removeWithTag #'(name1 name2\u2026)\tUntagged music and music not tagged with any of the given tag names is included; music tagged with any of the given tag names is excluded.\nTagged music not preceded by either \\keepWithTag or \\removeWithTag\tAll tagged and untagged music is included.\n\n\nThe arguments of the \\tag, \\keepWithTag and \\removeWithTag commands should be a symbol (such as #'score or #'part), followed by a music expression.\n\nIn the following example, we see two versions of a piece of music, one showing trills with the usual notation, and one with trills explicitly expanded:\n\n    music = \\relative g' {\n      g8. c32 d\n      \\tag #'trills { d8.\\trill }\n      \\tag #'expand { \\repeat unfold 3 { e32 d } }\n      c32 d\n     }\n    \\score {\n      \\keepWithTag #'trills \\music\n    }\n    \\score {\n      \\keepWithTag #'expand \\music\n    }\n\nAlternatively, it is sometimes easier to exclude sections of music:\n\n    music = \\relative g' {\n      g8. c32 d\n      \\tag #'trills { d8.\\trill }\n      \\tag #'expand {\\repeat unfold 3 { e32 d } }\n      c32 d\n     }\n    \\score {\n      \\removeWithTag #'expand\n      \\music\n    }\n    \\score {\n      \\removeWithTag #'trills\n      \\music\n    }\n\nTagged filtering can be applied to articulations, texts, etc. by prepending\n\n    -\\tag #'your-tag\n\nto an articulation. For example, this would define a note with a conditional fingering indication and a note with a conditional annotation:\n\n    c1-\\tag #'finger ^4\n    c1-\\tag #'warn ^\"Watch!\"\n\nMultiple tags may be placed on expressions with multiple \\tag entries, or by combining multiple tags into one symbol list:\n\n    music = \\relative c'' {\n      \\tag #'a \\tag #'both { a4 a a a }\n      \\tag #'(b both) { b4 b b b }\n    }\n    <<\n    \\keepWithTag #'a \\music\n    \\keepWithTag #'b \\music\n    \\keepWithTag #'both \\music\n    >>\n\nMultiple \\removeWithTag filters may be applied to a single music expression to remove several differently named tagged sections. Alternatively, you can use a single \\removeWithTag with a list of tags.\n\n    music = \\relative c'' {\n      \\tag #'A { a4 a a a }\n      \\tag #'B { b4 b b b }\n      \\tag #'C { c4 c c c }\n      \\tag #'D { d4 d d d }\n    }\n    \\new Voice {\n      \\removeWithTag #'B\n      \\removeWithTag #'C\n      \\music\n      \\removeWithTag #'(B C)\n      \\music\n    }\n\nTwo or more \\keepWithTag filters applied to a single music expression will cause all tagged sections to be removed, as the first filter will remove all tagged sections except the one named, and the second filter will remove even that tagged section. Usually you would rather want to use a single \\keepWithTag command with a list of multiple tags: this will only remove tagged sections not given in any of the tags.\n\nSometimes you want to splice some music at a particular place in an existing music expression. You can use \\pushToTag and \\appendToTag for adding material at the front or end of the elements of an existing music construct. Not every music construct has elements, but sequential and simultaneous music are safe bets:\n\n    test = { \\tag #'here { \\tag #'here <<c''>> } }\n    {\n      \\pushToTag #'here c'\n      \\pushToTag #'here e'\n      \\pushToTag #'here g' \\test\n      \\appendToTag #'here c'\n      \\appendToTag #'here e'\n      \\appendToTag #'here g' \\test\n    }\n\nBoth commands get a tag, the material to splice in at every occurence of the tag, and the tagged expression. The commands make sure to copy everything that they change so that the original \\test retains its meaning."},{label:"\\repeat",detail:"1.4.1 Long repeats",documentation:"The syntax for a normal repeat is\n\n    \\repeat volta repeatcount musicexpr\n\nwhere musicexpr is a music expression.\n\nA single repeat without an alternate ending:\n\n    \\repeat volta 2 { c4 d e f }\n    c2 d\n    \\repeat volta 2 { d4 e f g }\n\nAlternative endings can be produced using \\alternative. Each group of alternatives must be themselves, enclosed in a set of braces.\n\n    \\repeat volta repeatcount musicexpr\n    \\alternative {\n      { musicexpr }\n    }\n\nwhere musicexpr is a music expression.\n\nIf there are more repeats than there are alternate endings, the earliest repeats are given the first alternative.\n\nA single repeat with one alternate ending:\n\n    \\repeat volta 2 { c4 d e f | }\n    \\alternative {\n      { c2 e | }\n      { f2 g | }\n    }\n    c1\n\nMultiple repeats with one alternate ending:\n\n    \\repeat volta 4 { c4 d e f | }\n    \\alternative {\n      { c2 e | }\n      { f2 g | }\n    }\n    c1\n\nMultiple repeats with more than one alternate ending:\n\n    \\repeat volta 3 { c4 d e f | }\n    \\alternative {\n      { c2 e | }\n      { f2 g | }\n      { a2 g | }\n    }\n    c1\n\nNote: If there are two or more alternatives, nothing should appear between the closing brace of one and the opening brace of the next in an \\alternative block, otherwise you will not get the expected number of endings.\n\n\n\nNote: If you include \\relative inside a \\repeat without explicitly instantiating the Voice context, extra (unwanted) staves will appear. See An extra staff appears.\n\n"},{label:"\\repeat percent",detail:"Percent repeats",documentation:"Repeated short patterns are printed once, and the repeated pattern is replaced with a special sign.\n\nThe syntax is\n\n    \\repeat percent number musicexpr\n\nwhere musicexpr is a music expression.\n\nPatterns that are shorter than one measure are replaced by slashes.\n\n    \\repeat percent 4 { c128 d e f }\n    \\repeat percent 4 { c64 d e f }\n    \\repeat percent 5 { c32 d e f }\n    \\repeat percent 4 { c16 d e f }\n    \\repeat percent 4 { c8 d }\n    \\repeat percent 4 { c4 }\n    \\repeat percent 2 { c2 }\n\nPatterns of one or two measures are replaced by percent-like symbols.\n\n    \\repeat percent 2 { c4 d e f }\n    \\repeat percent 2 { c2 d }\n    \\repeat percent 2 { c1 }\n\n    \\repeat percent 3 { c4 d e f | c2 g' }\n\nPatterns that are shorter than one measure but contain mixed durations use a double-percent symbol.\n\n    \\repeat percent 4 { c8. <d f>16 }\n    \\repeat percent 2 { \\tuplet 3/2 { r8 c d } e4 }"},{label:"\\repeat tremolo",detail:"Tremolo repeats",documentation:"Tremolos can take two forms: alternation between two chords or two notes, and rapid repetition of a single note or chord. Tremolos consisting of an alternation are indicated by adding beams between the notes or chords being alternated, while tremolos consisting of the rapid repetition of a single note are indicated by adding beams or slashes to a single note.\n\nTo place tremolo marks between notes, use \\repeat with tremolo style:\n\n    \\repeat tremolo 8 { c16 d }\n    \\repeat tremolo 6 { c16 d }\n    \\repeat tremolo 2 { c16 d }\n\nThe \\repeat tremolo syntax expects exactly two notes within the braces, and the number of repetitions must correspond to a note value that can be expressed with plain or dotted notes. Thus, \\repeat tremolo 7 is valid and produces a double dotted note, but \\repeat tremolo 9 is not.\n\nThe duration of the tremolo equals the duration of the braced expression multiplied by the number of repeats: \\repeat tremolo 8 { c16 d16 } gives a whole note tremolo, notated as two whole notes joined by tremolo beams.\n\nThere are two ways to put tremolo marks on a single note. The \\repeat tremolo syntax is also used here, in which case the note should not be surrounded by braces:\n\n    \\repeat tremolo 4 c'16"},{label:"\\repeatTie",detail:"Ties",documentation:"When a second alternative of a repeat starts with a tied note, you have to specify the repeated tie as follows:\n\n    \\repeat volta 2 { c g <c e>2~ }\n    \\alternative {\n      % First alternative: following note is tied normally\n      { <c e>2. r4 }\n      % Second alternative: following note has a repeated tie\n      { <c e>2\\repeatTie d4 c } }"},{label:"\\repeatTie",detail:"Normal repeats",documentation:"Ties may be added to a second ending:\n\n    c1\n    \\repeat volta 2 { c4 d e f~ }\n    \\alternative {\n      { f2 d }\n      { f2\\repeatTie f, }\n    }"},{label:"\\repeatTie",detail:"Repeats with alternative endings",documentation:'When a note is tied over into two or more alternative endings a tie is used to carry the note into the first alternative ending and a \\repeatTie is used in the second and subsequent endings. This structure causes difficult alignment problems when lyrics are involved and increasing the length of the alternative sections so the tied notes are contained wholly within them may give a more acceptable result.\n\nThe tie creates a melisma into the first alternative, but not into the second and subsequent alternatives, so to align the lyrics correctly it is necessary to disable the automatic creation of melismata over the volta section and insert manual skips.\n\n    \\score {\n      <<\n        \\new Staff {\n          \\time 2/4\n          \\new Voice = "melody" {\n            \\relative c\'\' {\n              \\set melismaBusyProperties = #\'()\n              \\repeat volta 2 { b4 b ~}\n              \\alternative { { b b } { b \\repeatTie c } }\n              \\unset melismaBusyProperties\n              c4 c\n            }\n          }\n        }\n        \\new Lyrics {\n          \\lyricsto "melody" {\n            \\repeat volta 2 { Here\'s a __ }\n            \\alternative {\n              { \\skip 1 verse }\n              { \\skip 1 sec }\n            }\n            ond one.\n          }\n        }\n      >>\n    }\n\nNote that if \\unfoldRepeats is used around a section containing \\repeatTie, the \\repeatTie should be removed to avoid both types of tie being printed.\n\nWhen the repeated section has different words a \\repeat cannot be used around the lyrics and \\skip commands need to be inserted manually, as before.\n\n    \\score {\n      <<\n        \\new Staff {\n          \\time 2/4\n          \\new Voice = "melody" {\n            \\relative c\'\' {\n              \\repeat volta 2 { b4 b ~}\n              \\alternative { { b b } { b \\repeatTie c } }\n              c4 c\n            }\n          }\n        }\n        \\new Lyrics {\n          \\lyricsto "melody" {\n            Here\'s a __ verse.\n            \\repeat unfold 2 { \\skip 1 }\n          }\n        }\n        \\new Lyrics {\n          \\lyricsto "melody" {\n            Here\'s one\n            \\repeat unfold 2 { \\skip 1 }\n            more to sing.\n          }\n        }\n      >>\n    }\n\nIf you wish to show extenders and hyphens into and out of alternative sections these must be inserted manually.\n\n    \\score {\n      <<\n        \\new Staff {\n          \\time 2/4\n          \\new Voice = "melody" {\n            \\relative c\'\' {\n              \\repeat volta 2 { b4 b ~}\n              \\alternative { { b b } { b \\repeatTie c } }\n              c4 c\n            }\n          }\n        }\n        \\new Lyrics {\n          \\lyricsto "melody" {\n            Here\'s a __ verse.\n            \\repeat unfold 2 { \\skip 1 }\n          }\n        }\n        \\new Lyrics {\n          \\lyricsto "melody" {\n            Here\'s "a_"\n            \\skip 1\n            "_" sec -- ond one.\n          }\n        }\n      >>\n    }'},{label:"\\replace",detail:"A.10.1 Font",documentation:'Used to automatically replace a string by another in the markup arg. Each pair of the alist replacements specifies what should be replaced. The key is the string to be replaced by the value string.\n\n    \\markup \\replace #\'(("thx" . "Thanks!")) thx'},{label:"\\rest",detail:"Rests",documentation:"Rests are entered like notes with the note name r. Durations longer than a whole rest use the following predefined commands:\n\n    \\new Staff {\n      % These two lines are just to prettify this example\n      \\time 16/1\n      \\omit Staff.TimeSignature\n      % Print a maxima rest, equal to four breves\n      r\\maxima\n      % Print a longa rest, equal to two breves\n      r\\longa\n      % Print a breve rest\n      r\\breve\n      r1 r2 r4 r8 r16 r32 r64 r128\n    }"},{label:"\\rest",detail:"A.10.4 Music",documentation:'This produces a rest, with the duration for the rest type and augmentation dots. "breve", "longa" and "maxima" are valid input-strings.\n\nPrinting MultiMeasureRests could be enabled with \\override #\'(multi-measure-rest . #t) If MultiMeasureRests are taken, the MultiMeasureRestNumber is printed above. This is enabled for all styles using default-glyphs. Could be disabled with \\override #\'(multi-measure-rest-number . #f)\n\n    \\markup {\n      \\rest #"4.."\n      \\hspace #2\n      \\rest #"breve"\n      \\hspace #2\n      \\override #\'(multi-measure-rest . #t)\n      {\n      \\rest #"7"\n      \\hspace #2\n      \\override #\'(multi-measure-rest-number . #f)\n      \\rest #"7"\n      }\n    }\n\nUsed properties:\n\n - word-space (0.6)\n - multi-measure-rest-number (#t)\n - multi-measure-rest (#f)\n - style (\u2019())'},{label:"\\rest-by-number",detail:"A.10.4 Music",documentation:"A rest or multi-measure-rest symbol.\n\n    \\markup {\n      \\rest-by-number #3 #2\n      \\hspace #2\n      \\rest-by-number #0 #1\n      \\hspace #2\n      \\override #'(multi-measure-rest . #t)\n      \\rest-by-number #0 #0\n    }\n\nUsed properties:\n\n - multi-measure-rest (#f)\n - style (\u2019())\n - font-size (0)"},{label:"\\retrograde",detail:"Retrograde",documentation:"A music expression can be reversed to produce its retrograde:\n\n    music = \\relative c' { c8. ees16( fis8. a16 b8.) gis16 f8. d16 }\n    \\new Staff {\n      \\music\n      \\retrograde \\music\n    }"},{label:"\\reverseturn",detail:"Articulations and ornamentations",documentation:"A variety of symbols that denote articulations, ornamentations, and other performance indications can be attached to a note using this syntax:\n\n    note\\name\n\nThe possible values for name are listed in List of articulations. For example:\n\n    c4\\staccato c\\mordent b2\\turn\n    c1\\fermata"},{label:"\\revert",detail:"5.3.3 The \\override command",documentation:"The effects of \\override can be undone by \\revert.\n\nThe syntax for the \\revert command is\n\n    \\revert [context.]GrobName.property\n\nFor example,\n\n    c4\n    \\override Voice.Stem.thickness = #3.0\n    c4 c\n    \\revert Voice.Stem.thickness\n    c4\n\nThe effects of \\override and \\revert apply to all grobs in the affected context from the current time forward:\n\n    {\n      <<\n        {\n          e4\n          \\override Staff.Stem.thickness = #3.0\n          e4 e e\n        } \\\\ {\n          c4 c c\n          \\revert Staff.Stem.thickness\n          c4\n        }\n      >>\n    }"},{label:"\\revertTimeSignatureSettings",detail:"Time signature",documentation:"Changed values of default time signature properties can be restored to the original values:\n\n    \\score{\n      \\relative c' {\n        \\repeat unfold 8 { c8 } |\n        \\overrideTimeSignatureSettings\n          4/4        % timeSignatureFraction\n          1/4        % baseMomentFraction\n          #'(3 1)    % beatStructure\n          #'()       % beamExceptions\n        \\time 4/4\n        \\repeat unfold 8 { c8 } |\n        \\revertTimeSignatureSettings 4/4\n        \\time 4/4\n        \\repeat unfold 8 { c8 } |\n      }\n    }\n\nDifferent values of default time signature properties can be established for different staves by moving the Timing_translator and the Default_bar_line_engraver from the Score context to the Staff context.\n\n    \\score {\n      \\new StaffGroup <<\n         \\new Staff {\n            \\overrideTimeSignatureSettings\n              4/4        % timeSignatureFraction\n              1/4        % baseMomentFraction\n              #'(3 1)    % beatStructure\n              #'()       % beamExceptions\n            \\time 4/4\n            \\repeat unfold 8 {c''8}\n         }\n         \\new Staff {\n            \\overrideTimeSignatureSettings\n              4/4        % timeSignatureFraction\n              1/4        % baseMomentFraction\n              #'(1 3)    % beatStructure\n              #'()       % beamExceptions\n            \\time 4/4\n            \\repeat unfold 8 {c''8}\n         }\n      >>\n      \\layout {\n        \\context {\n          \\Score\n          \\remove \"Timing_translator\"\n          \\remove \"Default_bar_line_engraver\"\n        }\n        \\context {\n          \\Staff\n          \\consists \"Timing_translator\"\n          \\consists \"Default_bar_line_engraver\"\n        }\n      }\n    }\n\nA further method of changing these time-signature-related variables, which avoids reprinting the time signature at the time of the change, is shown in Setting automatic beam behavior."},{label:"\\rfz",detail:"Dynamics",documentation:"Absolute dynamic marks are specified using a command after a note, such as c4\\ff. The available dynamic marks are \\ppppp, \\pppp, \\ppp, \\pp, \\p, \\mp, \\mf, \\f, \\ff, \\fff, \\ffff, \\fffff, \\fp, \\sf, \\sff, \\sp, \\spp, \\sfz, and \\rfz. Dynamic marks may be manually placed above or below the staff; see Direction and placement.\n\n    c2\\ppp c\\mp\n    c2\\rfz c^\\mf\n    c2_\\spp c^\\ff"},{label:"\\rheel",detail:"Articulations and ornamentations",documentation:"A variety of symbols that denote articulations, ornamentations, and other performance indications can be attached to a note using this syntax:\n\n    note\\name\n\nThe possible values for name are listed in List of articulations. For example:\n\n    c4\\staccato c\\mordent b2\\turn\n    c1\\fermata"},{label:"\\right-align",detail:"Text alignment",documentation:"Markup objects may be aligned in different ways. By default, a text indication is aligned on its left edge: in the following example, there is no difference between the first and the second markup.\n\n    d1-\\markup { poco }\n    f\n    d-\\markup { \\left-align poco }\n    f\n    d-\\markup { \\center-align { poco } }\n    f\n    d-\\markup { \\right-align poco }"},{label:"\\right-align",detail:"A.10.2 Align",documentation:"Align arg on its right edge.\n\n    \\markup {\n      \\column {\n        one\n        \\right-align\n        two\n        three\n      }\n    }"},{label:"\\right-brace",detail:"A.10.7 Other",documentation:"A feta brace in point size size, rotated 180 degrees.\n\n    \\markup {\n      \\right-brace #45\n      \\hspace #2\n      \\right-brace #35\n    }"},{label:"\\right-column",detail:"A.10.2 Align",documentation:"Put args in a right-aligned column.\n\n    \\markup {\n      \\right-column {\n        one\n        two\n        three\n      }\n    }\n\nUsed properties:\n\n - baseline-skip"},{label:"\\rightHandFinger",detail:"Right-hand fingerings",documentation:'Right-hand fingerings p-i-m-a must be entered using \\rightHandFinger followed by a number.\n\nNote: If the number is entered in Scheme notation, remember to append a space before following it with a closing > or similar.\n\n\n\n    \\clef "treble_8"\n    c4\\rightHandFinger #1\n    e\\rightHandFinger #2\n    g\\rightHandFinger #3\n    c\\rightHandFinger #4\n    <c,\\rightHandFinger #1 e\\rightHandFinger #2\n     g\\rightHandFinger #3 c\\rightHandFinger #4 >1\n\nFor convenience, you can abbreviate \\rightHandFinger to something short, for example RH,\n\n    RH=#rightHandFinger'},{label:"\\roman",detail:"A.10.1 Font",documentation:"Set font family to roman.\n\n    \\markup {\n      \\sans \\bold {\n        sans serif, bold\n        \\hspace #2\n        \\roman {\n          text in roman font family\n        }\n        \\hspace #2\n        return to sans\n      }\n    }"},{label:"\\rotate",detail:"A.10.2 Align",documentation:"Rotate object with ang degrees around its center.\n\n    \\markup {\n      default\n      \\hspace #2\n      \\rotate #45\n      \\line {\n        rotated 45\xb0\n      }\n    }"},{label:"\\rounded-box",detail:"Graphic notation inside markup",documentation:'Some markup commands allow decoration of text elements with graphics, as demonstrated in the following example.\n\n    \\markup \\fill-line {\n      \\center-column {\n        \\circle Jack\n        \\box "in the box"\n        \\null\n        \\line {\n          Erik Satie\n          \\hspace #3\n          \\bracket "1866 - 1925"\n        }\n        \\null\n        \\rounded-box \\bold Prelude\n      }\n    }'},{label:"\\rounded-box",detail:"A.10.3 Graphic",documentation:"Draw a box with rounded corners around arg. Looks at thickness, box-padding and font-size properties to determine line thickness and padding around the markup; the corner-radius property makes it possible to define another shape for the corners (default is 1).\n\n    c4^\\markup {\n      \\rounded-box {\n        Overtura\n      }\n    }\n    c,8. c16 c4 r\n\nUsed properties:\n\n - box-padding (0.5)\n - font-size (0)\n - corner-radius (1)\n - thickness (1)"},{label:"\\rtoe",detail:"Articulations and ornamentations",documentation:"A variety of symbols that denote articulations, ornamentations, and other performance indications can be attached to a note using this syntax:\n\n    note\\name\n\nThe possible values for name are listed in List of articulations. For example:\n\n    c4\\staccato c\\mordent b2\\turn\n    c1\\fermata"},{label:"\\sacredHarpHeads",detail:"Shape note heads",documentation:"In shape note head notation, the shape of the note head corresponds to the harmonic function of a note in the scale. This notation was popular in nineteenth-century American song books. Shape note heads can be produced in Sacred Harp, Southern Harmony, Funk (Harmonica Sacra), Walker, and Aiken (Christian Harmony) styles:\n\n    \\aikenHeads\n    c, d e f g2 a b1 c \\break\n    \\sacredHarpHeads\n    c,4 d e f g2 a b1 c \\break\n    \\southernHarmonyHeads\n    c,4 d e f g2 a b1 c \\break\n    \\funkHeads\n    c,4 d e f g2 a b1 c \\break\n    \\walkerHeads\n    c,4 d e f g2 a b1 c \\break"},{label:"\\sacredHarpHeadsMinor",detail:"Shape note heads",documentation:"Shapes are typeset according to the step in the scale, where the base of the scale is determined by the \\key command. When writing in a minor key, the scale step can be determined from the relative major:\n\n    \\key a \\minor\n    \\aikenHeads\n    a b c d e2 f g1 a \\break\n    \\aikenHeadsMinor\n    a,4 b c d e2 f g1 a \\break\n    \\sacredHarpHeadsMinor\n    a,2 b c d \\break\n    \\southernHarmonyHeadsMinor\n    a2 b c d \\break\n    \\funkHeadsMinor\n    a2 b c d \\break\n    \\walkerHeadsMinor\n    a2 b c d \\break"},{label:"\\sans",detail:"A.10.1 Font",documentation:"Switch to the sans serif font family.\n\n    \\markup {\n      default\n      \\hspace #2\n      \\sans {\n        sans serif\n      }\n    }"},{label:"\\scale",detail:"A.10.3 Graphic",documentation:"Scale arg. factor-pair is a pair of numbers representing the scaling-factor in the X and Y axes. Negative values may be used to produce mirror images.\n\n    \\markup {\n      \\line {\n        \\scale #'(2 . 1)\n        stretched\n        \\scale #'(1 . -1)\n        mirrored\n      }\n    }"},{label:"\\scaleDurations",detail:"Scaling durations",documentation:"Longer stretches of music may be compressed by a fraction in the same way, as if every note, chord or rest had the fraction as a multiplier. This leaves the appearance of the music unchanged but the internal duration of the notes will be multiplied by the fraction num/den. Here is an example showing how music can be compressed and expanded:\n\n    \\time 2/4\n    % Normal durations\n    <c a>4 c8 a\n    % Scale music by *2/3\n    \\scaleDurations 2/3 {\n      <c a f>4. c8 a f\n    }\n    % Scale music by *2\n    \\scaleDurations 2/1 {\n      <c' a>4 c8 b\n    }\n\nOne application of this command is in polymetric notation, see Polymetric notation."},{label:"\\scaleDurations",detail:"Polymetric notation",documentation:"Polymetric notation is supported explicitly or by manually modifying the visible time signature symbol and/or scaling note durations."},{label:"\\score",detail:"3.1.1 Structure of a score",documentation:"A \\score block must contain a single music expression delimited by curly brackets:\n\n    \\score {\n      \u2026\n    }\n\nNote: There must be only one outer music expression in a score block, and it must be surrounded by curly brackets.\n\n\n\nThis single music expression may be of any size, and may contain other music expressions to any complexity. All of these examples are music expressions:\n\n    { c'4 c' c' c' }\n\n    {\n      { c'4 c' c' c' }\n      { d'4 d' d' d' }\n    }\n\n    <<\n      \\new Staff { c'4 c' c' c' }\n      \\new Staff { d'4 d' d' d' }\n    >>\n\n    {\n      \\new GrandStaff <<\n        \\new StaffGroup <<\n          \\new Staff { \\flute }\n          \\new Staff { \\oboe }\n        >>\n        \\new StaffGroup <<\n          \\new Staff { \\violinI }\n          \\new Staff { \\violinII }\n        >>\n      >>\n    }\n\nComments are one exception to this general rule. (For others see File structure.) Both single-line comments and comments delimited by %{ \u2026 %} may be placed anywhere within an input file. They may be placed inside or outside a \\score block, and inside or outside the single music expression within a \\score block.\n\nRemember that even in a file containing only a \\score block, it is implicitly enclosed in a \\book block. A \\book block in a source file produces at least one output file, and by default the name of the output file produced is derived from the name of the input file, so \u2018fandangoforelephants.ly\u2019 will produce \u2018fandangoforelephants.pdf\u2019.\n\n(For more details about \\book blocks, see Multiple scores in a book, Multiple output files from one input file File structure.)"},{label:"\\score",detail:"3.1.5 File structure",documentation:"A \u2018.ly\u2019 file may contain any number of toplevel expressions, where a toplevel expression is one of the following:\n\n - An output definition, such as \\paper, \\midi, and \\layout. Such a definition at the toplevel changes the default book-wide settings. If more than one such definition of the same type is entered at the top level the definitions are combined, but in conflicting situations the later definitions take precedence. For details of how this affects the \\layout block see The \\layout block.\n - A direct scheme expression, such as #(set-default-paper-size \"a7\" 'landscape) or #(ly:set-option 'point-and-click #f).\n - A \\header block. This sets the global (i.e. the top of file) header block. This is the block containing the default settings of titling fields like composer, title, etc. for all books within the file (see Titles explained).\n - A \\score block. This score will be collected with other toplevel scores, and combined as a single \\book. This behavior can be changed by setting the variable toplevel-score-handler at toplevel. The default handler is defined in the init file \u2018../scm/lily.scm\u2019.\n - A \\book block logically combines multiple movements (i.e., multiple \\score blocks) in one document. If there are a number of \\scores, one output file will be created for each \\book block, in which all corresponding movements are concatenated. The only reason to explicitly specify \\book blocks in a \u2018.ly\u2019 file is if you wish to create multiple output files from a single input file. One exception is within lilypond-book documents, where you explicitly have to add a \\book block if you want more than a single \\score or \\markup in the same example. This behavior can be changed by setting the variable toplevel-book-handler at toplevel. The default handler is defined in the init file \u2018../scm/lily.scm\u2019.\n - A \\bookpart block. A book may be divided into several parts, using \\bookpart blocks, in order to ease the page breaking, or to use different \\paper settings in different parts.\n - A compound music expression, such as\n{ c'4 d' e'2 }\nThis will add the piece in a \\score and format it in a single book together with all other toplevel \\scores and music expressions. In other words, a file containing only the above music expression will be translated into\n\n\\book {\n  \\score {\n    \\new Staff {\n      \\new Voice {\n        { c'4 d' e'2 }\n      }\n    }\n    \\layout { }\n  }\n  \\paper { }\n  \\header { }\n}\nThis behavior can be changed by setting the variable toplevel-music-handler at toplevel. The default handler is defined in the init file \u2018../scm/lily.scm\u2019.\n\n\n - A markup text, a verse for example\n\\markup {\n   2.  The first line verse two.\n}\nMarkup texts are rendered above, between or below the scores or music expressions, wherever they appear.\n\n\n - A variable, such as\nfoo = { c4 d e d }\nThis can be used later on in the file by entering \\foo. The name of a variable should have alphabetic characters only; no numbers, underscores or dashes.\n\n\n\nThe following example shows three things that may be entered at toplevel\n\n    \\layout {\n      % Don't justify the output\n      ragged-right = ##t\n    }\n    \\header {\n       title = \"Do-re-mi\"\n    }\n    { c'4 d' e2 }\n\nAt any point in a file, any of the following lexical instructions can be entered:\n\n - \\version\n - \\include\n - \\sourcefilename\n - \\sourcefileline\n - A single-line comment, introduced by a leading % sign.\n - A multi-line comment delimited by %{ \u2026 %}."},{label:"\\score",detail:"A.10.4 Music",documentation:"Inline an image of music. The reference point (usually the middle staff line) of the lowest staff in the top system is placed on the baseline.\n\n    \\markup {\n      \\score {\n        \\new PianoStaff <<\n          \\new Staff \\relative c' {\n            \\key f \\major\n            \\time 3/4\n            \\mark \\markup { Allegro }\n            f2\\p( a4)\n            c2( a4)\n            bes2( g'4)\n            f8( e) e4 r\n          }\n          \\new Staff \\relative c {\n            \\clef bass\n            \\key f \\major\n            \\time 3/4\n            f8( a c a c a\n            f c' es c es c)\n            f,( bes d bes d bes)\n            f( g bes g bes g)\n          }\n        >>\n        \\layout {\n          indent = 0.0\\cm\n          \\context {\n            \\Score\n            \\override RehearsalMark\n              #'break-align-symbols = #'(time-signature key-signature)\n            \\override RehearsalMark\n              #'self-alignment-X = #LEFT\n          }\n          \\context {\n            \\Staff\n            \\override TimeSignature\n              #'break-align-anchor-alignment = #LEFT\n          }\n        }\n      }\n    }\n\nUsed properties:\n\n - baseline-skip"},{label:"\\segno",detail:"Articulations and ornamentations",documentation:"A variety of symbols that denote articulations, ornamentations, and other performance indications can be attached to a note using this syntax:\n\n    note\\name\n\nThe possible values for name are listed in List of articulations. For example:\n\n    c4\\staccato c\\mordent b2\\turn\n    c1\\fermata"},{label:"\\semiflat",detail:"A.10.4 Music",documentation:"Draw a semiflat symbol.\n\n    \\markup {\n      \\semiflat\n    }"},{label:"\\semiGermanChords",detail:"Predefined commands",documentation:""},{label:"\\semisharp",detail:"A.10.4 Music",documentation:"Draw a semisharp symbol.\n\n    \\markup {\n      \\semisharp\n    }"},{label:"\\sesquiflat",detail:"A.10.4 Music",documentation:"Draw a 3/2 flat symbol.\n\n    \\markup {\n      \\sesquiflat\n    }"},{label:"\\sesquisharp",detail:"A.10.4 Music",documentation:"Draw a 3/2 sharp symbol.\n\n    \\markup {\n      \\sesquisharp\n    }"},{label:"\\set",detail:"Setting automatic beam behavior",documentation:"When automatic beaming is enabled, the placement of automatic beams is determined by three context properties: baseMoment, beatStructure, and beamExceptions. The default values of these variables may be overridden as described below, or alternatively the default values themselves may be changed as explained in Time signature.\n\nIf a beamExceptions rule is defined for the time signature in force, that rule alone is used to determine the beam placement; the values of baseMoment and beatStructure are ignored.\n\nIf no beamExceptions rule is defined for the time signature in force, the beam placement is determined by the values of baseMoment and beatStructure."},{label:"\\set",detail:"5.3.2 The \\set command",documentation:"Each context has a set of properties, variables contained in that context. Context properties are changed with the \\set command, which has the following syntax:\n\n    \\set context.property = #value\n\nvalue is a Scheme object, which is why it must be preceded by the #\xa0character.\n\nContexts properties are usually named in studlyCaps. They mostly control the translation from music to notation, e.g. localKeySignature (for determining whether to print accidentals), or measurePosition (for determining when to print a bar line). Context properties can change value over time while interpreting a piece of music; measurePosition is an obvious example of this. Context properties are modified with \\set.\n\nFor example, multimeasure rests will be combined into a single bar if the context property skipBars is set to #t:\n\n    R1*2\n    \\set Score.skipBars = ##t\n    R1*2\n\nIf the context argument is left out, then the property will be set in the current bottom context (typically ChordNames, Voice, TabVoice, or Lyrics).\n\n    \\set Score.autoBeaming = ##f\n    <<\n      {\n        e8 e e e\n        \\set autoBeaming = ##t\n        e8 e e e\n      } \\\\ {\n        c8 c c c c8 c c c\n      }\n    >>\n\nThe change is applied \u2018on-the-fly\u2019, during the music, so that the setting only affects the second group of eighth notes.\n\nNote that the bottom-most context does not always contain the property that you wish to change \u2013 for example, attempting to set the skipBars property of the default bottom context, in this case Voice, will have no effect, because skipBars is a property of the Score context.\n\n    R1*2\n    \\set skipBars = ##t\n    R1*2\n\nContexts are hierarchical, so if an enclosing context was specified, for example Staff, then the change would also apply to all Voices in the current staff."},{label:"\\set",detail:"5.3.5 \\set vs. \\override",documentation:"Both \\set and \\override manipulate properties associated with contexts. In either case, properties heed the hierarchy of contexts: properties not set in a context itself show the values of the respective parent context.\n\nValues and lifetime of context properties are dynamic and only available when music is being interpreted, \u2018iterated\u2019. At the time of context creation, properties are initialized from the corresponding context definition and possible context modifications. Afterwards, changes are achieved with property-setting commands in the music itself.\n\nNow grob definitions are a special category of context properties. Since their structure, bookkeeping and use is different from ordinary context properties, they are accessed with a different set of commands, and treated separately in the documentation.\n\nAs opposed to plain context properties, grob definitions are subdivided into grob properties. A \u201cgrob\u201d (graphical object) is usually created by an engraver at the time of interpreting a music expression and receives its initial properties from the current grob definition of the engraver\u2019s context. The engraver (or other \u2018backend\u2019 parts of LilyPond) may subsequently add or change properties to the grob, but that does not affect the context\u2019s grob definition.\n\nWhat we call \u2018grob properties\u2019 in the context of user-level tweaking are actually the properties of a context\u2019s grob definition. In contrast to ordinary context properties, grob definitions have the bookkeeping required to keep track of its parts, the individual grob properties (and even subproperties of them) separately so that it is possible to define those parts in different contexts and have the overall grob definition at the time of grob creation be assembled from pieces provided in different contexts among the current context and its parents.\n\nGrob definitions are manipulated using \\override and \\revert and have a name starting with a capital letter (like \u2018NoteHead\u2019) whereas ordinary context properties are manipulated using \\set and \\unset and are named starting with a lowercase letter."},{label:"\\sf",detail:"Dynamics",documentation:"Absolute dynamic marks are specified using a command after a note, such as c4\\ff. The available dynamic marks are \\ppppp, \\pppp, \\ppp, \\pp, \\p, \\mp, \\mf, \\f, \\ff, \\fff, \\ffff, \\fffff, \\fp, \\sf, \\sff, \\sp, \\spp, \\sfz, and \\rfz. Dynamic marks may be manually placed above or below the staff; see Direction and placement.\n\n    c2\\ppp c\\mp\n    c2\\rfz c^\\mf\n    c2_\\spp c^\\ff"},{label:"\\sff",detail:"Dynamics",documentation:"Absolute dynamic marks are specified using a command after a note, such as c4\\ff. The available dynamic marks are \\ppppp, \\pppp, \\ppp, \\pp, \\p, \\mp, \\mf, \\f, \\ff, \\fff, \\ffff, \\fffff, \\fp, \\sf, \\sff, \\sp, \\spp, \\sfz, and \\rfz. Dynamic marks may be manually placed above or below the staff; see Direction and placement.\n\n    c2\\ppp c\\mp\n    c2\\rfz c^\\mf\n    c2_\\spp c^\\ff"},{label:"\\sfz",detail:"Dynamics",documentation:"Absolute dynamic marks are specified using a command after a note, such as c4\\ff. The available dynamic marks are \\ppppp, \\pppp, \\ppp, \\pp, \\p, \\mp, \\mf, \\f, \\ff, \\fff, \\ffff, \\fffff, \\fp, \\sf, \\sff, \\sp, \\spp, \\sfz, and \\rfz. Dynamic marks may be manually placed above or below the staff; see Direction and placement.\n\n    c2\\ppp c\\mp\n    c2\\rfz c^\\mf\n    c2_\\spp c^\\ff"},{label:"\\shape",detail:"Specifying displacements from current control points",documentation:"In this example the automatic placement of the tie is not optimum, and \\tieDown would not help.\n\n    <<\n      { e1~ e }\n    \\\\\n      { r4 <g c,> <g c,> <g c,> }\n    >>\n\nAdjusting the control points of the tie with \\shape allows the collisions to be avoided.\n\nThe syntax of \\shape is\n\n    [-]\\shape displacements item\n\nThis will reposition the control-points of item by the amounts given by displacements. The displacements argument is a list of number pairs or a list of such lists. Each element of a pair represents the displacement of one of the coordinates of a control-point. If item is a string, the result is \\once\\override for the specified grob type. If item is a music expression, the result is the same music expression with an appropriate tweak applied.\n\nIn other words, the \\shape function can act as either a \\once\\override command or a \\tweak command depending on whether the item argument is a grob name, like \u201cSlur\u201d, or a music expression, like \u201c(\u201d. The displacements argument specifies the displacements of the four control points as a list of four pairs of (dx . dy) values in units of staff-spaces (or a list of such lists if the curve has more than one segment).\n\nThe leading hyphen is required if and only if the \\tweak form is being used.\n\nSo, using the same example as above and the \\once\\override form of \\shape, this will raise the tie by half a staff-space:\n\n    <<\n      {\n        \\shape #'((0 . 0.5) (0 . 0.5) (0 . 0.5) (0 . 0.5)) Tie\n        e1~ e\n      }\n    \\\\\n      { r4 <g c,> <g c,> <g c,> }\n    >>\n\nThis positioning of the tie is better, but maybe it should be raised more in the center. The following example does this, this time using the alternative \\tweak form:\n\n    <<\n      {\n        e1-\\shape #'((0 . 0.5) (0 . 1) (0 . 1) (0 . 0.5)) ~ e\n      }\n    \\\\\n      { r4 <g c,> <g c,> <g c,> }\n    >>\n\nChanges to the horizontal positions of the control points may be made in the same way, and two different curves starting at the same musical moment may also be shaped:\n\n    c8(\\( a) a'4 e c\\)\n    \\shape #'((0.7 . -0.4) (0.5 . -0.4) (0.3 . -0.3) (0 . -0.2)) Slur\n    \\shape #'((0 . 0) (0 . 0.5) (0 . 0.5) (0 . 0)) PhrasingSlur\n    c8(\\( a) a'4 e c\\)\n\nThe \\shape function can also displace the control points of curves which stretch across line breaks. Each piece of the broken curve can be given its own list of offsets. If changes to a particular segment are not needed, the empty list can serve as a placeholder. In this example the line break makes the single slur look like two:\n\n    c4( f g c\n    \\break\n    d,4 c' f, c)\n\nChanging the shapes of the two halves of the slur makes it clearer that the slur continues over the line break:\n\n    % () may be used as a shorthand for ((0 . 0) (0 . 0) (0 . 0) (0 . 0))\n    % if any of the segments does not need to be changed\n    \\shape #'(\n               (( 0 . 0) (0 . 0) (0 . 0) (0 . 1))\n               ((0.5 . 1.5) (1 . 0) (0 . 0) (0 . -1.5))\n             ) Slur\n    c4( f g c\n    \\break\n    d,4 c' f, c)\n\nIf an S-shaped curve is required the control points must always be adjusted manually \u2014 LilyPond will never select such shapes automatically.\n\n    c8( e b-> f d' a e-> g)\n    \\shape #'((0 . -1) (5.5 . -0.5) (-5.5 . -10.5) (0 . -5.5)) PhrasingSlur\n    c8\\( e b-> f d' a e-> g\\)"},{label:"\\sharp",detail:"A.10.4 Music",documentation:"Draw a sharp symbol.\n\n    \\markup {\n      \\sharp\n    }"},{label:"\\shiftOff",detail:"Collision resolution",documentation:"The note heads of notes in different voices with the same pitch, same note head and opposite stem direction are automatically merged, but notes with different note heads or the same stem direction are not. Rests opposite a stem in a different voice are shifted vertically. The following example shows three different circumstances, on beats 1 and 3 in bar 1 and beat 1 in bar 2, where the automatic merging fails.\n\n    <<\n      {\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nNotes with different note heads may be merged as shown below. In this example the note heads on beat 1 of bar 1 are now merged:\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nQuarter and half notes are not merged in this way, since it would be difficult to tell them apart.\n\nNote heads with different dots as shown in beat 3 of bar 1 may be also be merged:\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        \\mergeDifferentlyDottedOn\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nThe half note and eighth note at the start of the second measure are incorrectly merged because the automatic merge cannot successfully complete the merge when three or more notes line up in the same note column, and in this case the merged note head is incorrect. To allow the merge to select the correct note head a \\shift must be applied to the note that should not be merged. Here, \\shiftOn is applied to move the top g out of the column, and \\mergeDifferentlyHeadedOn then works properly.\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        \\mergeDifferentlyDottedOn\n        c8 d e d c d c4\n        \\shiftOn\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nThe \\shiftOn command allows (but does not force) the notes in a voice to be shifted. When \\shiftOn is applied to a voice, a note or chord in that voice is shifted only if its stem would otherwise collide with a stem from another voice, and only if the colliding stems point in the same direction. The \\shiftOff command prevents this type of shifting from occurring.\n\nBy default, the outer voices (normally voices one and two) have \\shiftOff specified, while the inner voices (three and above) have \\shiftOn specified. When a shift is applied, voices with upstems (odd-numbered voices) are shifted to the right, and voices with downstems (even-numbered voices) are shifted to the left.\n\nHere is an example to help you visualize how an abbreviated polyphonic expression would be expanded internally.\n\nNote: Note that with three or more voices, the vertical order of voices in your input file should not be the same as the vertical order of voices on the staff!\n\n\n\n    \\new Staff \\relative c'' {\n      %% abbreviated entry\n      <<\n        { f2  }  % 1: highest\n        \\\\\n        { g,2 }  % 2: lowest\n        \\\\\n        { d'2 }  % 3: upper middle\n        \\\\\n        { b2  }  % 4: lower middle\n      >>\n      %% internal expansion of the above\n      <<\n        \\new Voice = \"1\" { \\voiceOne   \\shiftOff f'2 }\n        \\new Voice = \"2\" { \\voiceTwo   \\shiftOff g,2 }\n        \\new Voice = \"3\" { \\voiceThree \\shiftOn  d'2 } % shifts right\n        \\new Voice = \"4\" { \\voiceFour  \\shiftOn  b2  } % shifts left\n      >>\n    }\n\nTwo additional commands, \\shiftOnn and \\shiftOnnn provide further shift levels which may be specified temporarily to resolve collisions in complex situations \u2013 see Real music example.\n\nNotes are only merged if they have opposing stem directions (as they have, for example, in voices one and two by default or when the stems are explicitly set in opposite directions)."},{label:"\\shiftOn",detail:"Collision resolution",documentation:"The note heads of notes in different voices with the same pitch, same note head and opposite stem direction are automatically merged, but notes with different note heads or the same stem direction are not. Rests opposite a stem in a different voice are shifted vertically. The following example shows three different circumstances, on beats 1 and 3 in bar 1 and beat 1 in bar 2, where the automatic merging fails.\n\n    <<\n      {\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nNotes with different note heads may be merged as shown below. In this example the note heads on beat 1 of bar 1 are now merged:\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nQuarter and half notes are not merged in this way, since it would be difficult to tell them apart.\n\nNote heads with different dots as shown in beat 3 of bar 1 may be also be merged:\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        \\mergeDifferentlyDottedOn\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nThe half note and eighth note at the start of the second measure are incorrectly merged because the automatic merge cannot successfully complete the merge when three or more notes line up in the same note column, and in this case the merged note head is incorrect. To allow the merge to select the correct note head a \\shift must be applied to the note that should not be merged. Here, \\shiftOn is applied to move the top g out of the column, and \\mergeDifferentlyHeadedOn then works properly.\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        \\mergeDifferentlyDottedOn\n        c8 d e d c d c4\n        \\shiftOn\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nThe \\shiftOn command allows (but does not force) the notes in a voice to be shifted. When \\shiftOn is applied to a voice, a note or chord in that voice is shifted only if its stem would otherwise collide with a stem from another voice, and only if the colliding stems point in the same direction. The \\shiftOff command prevents this type of shifting from occurring.\n\nBy default, the outer voices (normally voices one and two) have \\shiftOff specified, while the inner voices (three and above) have \\shiftOn specified. When a shift is applied, voices with upstems (odd-numbered voices) are shifted to the right, and voices with downstems (even-numbered voices) are shifted to the left.\n\nHere is an example to help you visualize how an abbreviated polyphonic expression would be expanded internally.\n\nNote: Note that with three or more voices, the vertical order of voices in your input file should not be the same as the vertical order of voices on the staff!\n\n\n\n    \\new Staff \\relative c'' {\n      %% abbreviated entry\n      <<\n        { f2  }  % 1: highest\n        \\\\\n        { g,2 }  % 2: lowest\n        \\\\\n        { d'2 }  % 3: upper middle\n        \\\\\n        { b2  }  % 4: lower middle\n      >>\n      %% internal expansion of the above\n      <<\n        \\new Voice = \"1\" { \\voiceOne   \\shiftOff f'2 }\n        \\new Voice = \"2\" { \\voiceTwo   \\shiftOff g,2 }\n        \\new Voice = \"3\" { \\voiceThree \\shiftOn  d'2 } % shifts right\n        \\new Voice = \"4\" { \\voiceFour  \\shiftOn  b2  } % shifts left\n      >>\n    }\n\nTwo additional commands, \\shiftOnn and \\shiftOnnn provide further shift levels which may be specified temporarily to resolve collisions in complex situations \u2013 see Real music example.\n\nNotes are only merged if they have opposing stem directions (as they have, for example, in voices one and two by default or when the stems are explicitly set in opposite directions)."},{label:"\\shiftOnn",detail:"Collision resolution",documentation:"The note heads of notes in different voices with the same pitch, same note head and opposite stem direction are automatically merged, but notes with different note heads or the same stem direction are not. Rests opposite a stem in a different voice are shifted vertically. The following example shows three different circumstances, on beats 1 and 3 in bar 1 and beat 1 in bar 2, where the automatic merging fails.\n\n    <<\n      {\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nNotes with different note heads may be merged as shown below. In this example the note heads on beat 1 of bar 1 are now merged:\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nQuarter and half notes are not merged in this way, since it would be difficult to tell them apart.\n\nNote heads with different dots as shown in beat 3 of bar 1 may be also be merged:\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        \\mergeDifferentlyDottedOn\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nThe half note and eighth note at the start of the second measure are incorrectly merged because the automatic merge cannot successfully complete the merge when three or more notes line up in the same note column, and in this case the merged note head is incorrect. To allow the merge to select the correct note head a \\shift must be applied to the note that should not be merged. Here, \\shiftOn is applied to move the top g out of the column, and \\mergeDifferentlyHeadedOn then works properly.\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        \\mergeDifferentlyDottedOn\n        c8 d e d c d c4\n        \\shiftOn\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nThe \\shiftOn command allows (but does not force) the notes in a voice to be shifted. When \\shiftOn is applied to a voice, a note or chord in that voice is shifted only if its stem would otherwise collide with a stem from another voice, and only if the colliding stems point in the same direction. The \\shiftOff command prevents this type of shifting from occurring.\n\nBy default, the outer voices (normally voices one and two) have \\shiftOff specified, while the inner voices (three and above) have \\shiftOn specified. When a shift is applied, voices with upstems (odd-numbered voices) are shifted to the right, and voices with downstems (even-numbered voices) are shifted to the left.\n\nHere is an example to help you visualize how an abbreviated polyphonic expression would be expanded internally.\n\nNote: Note that with three or more voices, the vertical order of voices in your input file should not be the same as the vertical order of voices on the staff!\n\n\n\n    \\new Staff \\relative c'' {\n      %% abbreviated entry\n      <<\n        { f2  }  % 1: highest\n        \\\\\n        { g,2 }  % 2: lowest\n        \\\\\n        { d'2 }  % 3: upper middle\n        \\\\\n        { b2  }  % 4: lower middle\n      >>\n      %% internal expansion of the above\n      <<\n        \\new Voice = \"1\" { \\voiceOne   \\shiftOff f'2 }\n        \\new Voice = \"2\" { \\voiceTwo   \\shiftOff g,2 }\n        \\new Voice = \"3\" { \\voiceThree \\shiftOn  d'2 } % shifts right\n        \\new Voice = \"4\" { \\voiceFour  \\shiftOn  b2  } % shifts left\n      >>\n    }\n\nTwo additional commands, \\shiftOnn and \\shiftOnnn provide further shift levels which may be specified temporarily to resolve collisions in complex situations \u2013 see Real music example.\n\nNotes are only merged if they have opposing stem directions (as they have, for example, in voices one and two by default or when the stems are explicitly set in opposite directions)."},{label:"\\shiftOnnn",detail:"Collision resolution",documentation:"The note heads of notes in different voices with the same pitch, same note head and opposite stem direction are automatically merged, but notes with different note heads or the same stem direction are not. Rests opposite a stem in a different voice are shifted vertically. The following example shows three different circumstances, on beats 1 and 3 in bar 1 and beat 1 in bar 2, where the automatic merging fails.\n\n    <<\n      {\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nNotes with different note heads may be merged as shown below. In this example the note heads on beat 1 of bar 1 are now merged:\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nQuarter and half notes are not merged in this way, since it would be difficult to tell them apart.\n\nNote heads with different dots as shown in beat 3 of bar 1 may be also be merged:\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        \\mergeDifferentlyDottedOn\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nThe half note and eighth note at the start of the second measure are incorrectly merged because the automatic merge cannot successfully complete the merge when three or more notes line up in the same note column, and in this case the merged note head is incorrect. To allow the merge to select the correct note head a \\shift must be applied to the note that should not be merged. Here, \\shiftOn is applied to move the top g out of the column, and \\mergeDifferentlyHeadedOn then works properly.\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        \\mergeDifferentlyDottedOn\n        c8 d e d c d c4\n        \\shiftOn\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nThe \\shiftOn command allows (but does not force) the notes in a voice to be shifted. When \\shiftOn is applied to a voice, a note or chord in that voice is shifted only if its stem would otherwise collide with a stem from another voice, and only if the colliding stems point in the same direction. The \\shiftOff command prevents this type of shifting from occurring.\n\nBy default, the outer voices (normally voices one and two) have \\shiftOff specified, while the inner voices (three and above) have \\shiftOn specified. When a shift is applied, voices with upstems (odd-numbered voices) are shifted to the right, and voices with downstems (even-numbered voices) are shifted to the left.\n\nHere is an example to help you visualize how an abbreviated polyphonic expression would be expanded internally.\n\nNote: Note that with three or more voices, the vertical order of voices in your input file should not be the same as the vertical order of voices on the staff!\n\n\n\n    \\new Staff \\relative c'' {\n      %% abbreviated entry\n      <<\n        { f2  }  % 1: highest\n        \\\\\n        { g,2 }  % 2: lowest\n        \\\\\n        { d'2 }  % 3: upper middle\n        \\\\\n        { b2  }  % 4: lower middle\n      >>\n      %% internal expansion of the above\n      <<\n        \\new Voice = \"1\" { \\voiceOne   \\shiftOff f'2 }\n        \\new Voice = \"2\" { \\voiceTwo   \\shiftOff g,2 }\n        \\new Voice = \"3\" { \\voiceThree \\shiftOn  d'2 } % shifts right\n        \\new Voice = \"4\" { \\voiceFour  \\shiftOn  b2  } % shifts left\n      >>\n    }\n\nTwo additional commands, \\shiftOnn and \\shiftOnnn provide further shift levels which may be specified temporarily to resolve collisions in complex situations \u2013 see Real music example.\n\nNotes are only merged if they have opposing stem directions (as they have, for example, in voices one and two by default or when the stems are explicitly set in opposite directions)."},{label:"\\shortfermata",detail:"Articulations and ornamentations",documentation:"A variety of symbols that denote articulations, ornamentations, and other performance indications can be attached to a note using this syntax:\n\n    note\\name\n\nThe possible values for name are listed in List of articulations. For example:\n\n    c4\\staccato c\\mordent b2\\turn\n    c1\\fermata"},{label:"\\showKeySignature",detail:"Bagpipe definitions",documentation:'LilyPond contains special definitions for Scottish, Highland Bagpipe music; to use them, add\n\n    \\include "bagpipe.ly"\n\nto the top of your input file. This lets you add the special grace notes common to bagpipe music with short commands. For example, you could write \\taor instead of\n\n    \\grace { \\small G32[ d G e] }\n\n\u2018bagpipe.ly\u2019 also contains pitch definitions for the bagpipe notes in the appropriate octaves, so you do not need to worry about \\relative or \\transpose.\n\n    \\include "bagpipe.ly"\n    { \\grg G4 \\grg a \\grg b \\grg c \\grg d \\grg e \\grg f \\grA g A }\n\nBagpipe music nominally uses the key of D Major (even though that isn\u2019t really true). However, since that is the only key that can be used, the key signature is normally not written out. To set this up correctly, always start your music with \\hideKeySignature. If you for some reason want to show the key signature, you can use \\showKeySignature instead.\n\nSome modern music use cross fingering on c and f to flatten those notes. This can be indicated by cflat or fflat. Similarly, the piobaireachd high g can be written gflat when it occurs in light music.'},{label:"\\showStaffSwitch",detail:"Staff-change lines",documentation:'Whenever a voice switches to another staff, a line connecting the notes can be printed automatically:\n\n    \\new PianoStaff <<\n      \\new Staff = "one" {\n        \\showStaffSwitch\n        c1\n        \\change Staff = "two"\n        b2 a\n      }\n      \\new Staff = "two" {\n        \\clef bass\n        s1*2\n      }\n    >>'},{label:"\\signumcongruentiae",detail:"Articulations and ornamentations",documentation:"A variety of symbols that denote articulations, ornamentations, and other performance indications can be attached to a note using this syntax:\n\n    note\\name\n\nThe possible values for name are listed in List of articulations. For example:\n\n    c4\\staccato c\\mordent b2\\turn\n    c1\\fermata"},{label:"\\simple",detail:"A.10.1 Font",documentation:'A simple text string; \\markup { foo } is equivalent with \\markup { \\simple #"foo" }.\n\nNote: for creating standard text markup or defining new markup commands, the use of \\simple is unnecessary.\n\n    \\markup {\n      \\simple #"simple"\n      \\simple #"text"\n      \\simple #"strings"\n    }'},{label:"\\skip",detail:"Invisible rests",documentation:"An invisible rest (also called a \u2018spacer rest\u2019) can be entered like a note with the note name\xa0s:\n\n    c4 c s c\n    s2 c"},{label:"\\skip",detail:"Repeats with alternative endings",documentation:'But when the repeated section has different words, a repeat construct cannot be used around the words and \\skip commands have to be inserted manually to skip over the notes in the alternative sections which do not apply.\n\nNote: do not use an underscore, _, to skip notes \u2013 an underscore indicates a melisma, causing the preceding syllable to be left-aligned.\n\nNote: The \\skip command must be followed by a number, but this number is ignored in lyrics which derive their durations from the notes in an associated melody through addlyrics or lyricsto. Each \\skip skips a single note of any value, irrespective of the value of the following number.\n\n\n\n    \\score {\n      <<\n        \\new Staff {\n          \\time 2/4\n          \\new Voice = "melody" {\n            \\relative c\'\' {\n              \\repeat volta 2 { b4 b }\n              \\alternative { { b b } { b c } }\n              c4 c\n            }\n          }\n        }\n        \\new Lyrics {\n          \\lyricsto "melody" {\n            The first time words.\n            \\repeat unfold 2 { \\skip 1 }\n            End here.\n          }\n        }\n        \\new Lyrics {\n          \\lyricsto "melody" {\n            Sec -- ond\n            \\repeat unfold 2 { \\skip 1 }\n            time words.\n          }\n        }\n      >>\n    }'},{label:"\\slashed-digit",detail:"A.10.7 Other",documentation:"A feta number, with slash. This is for use in the context of figured bass notation.\n\n    \\markup {\n      \\slashed-digit #5\n      \\hspace #2\n      \\override #'(thickness . 3)\n      \\slashed-digit #7\n    }\n\nUsed properties:\n\n - thickness (1.6)\n - font-size (0)"},{label:"\\slashedGrace",detail:"Grace notes",documentation:"Grace notes are musical ornaments, printed in a smaller font, that take up no additional logical time in a measure.\n\n    c4 \\grace b16 a4(\n    \\grace { b16 c16 } a2)\n\nThere are three other types of grace notes possible; the acciaccatura \u2013 an unmeasured grace note indicated by a slurred note with a slashed stem \u2013 and the appoggiatura, which takes a fixed fraction of the main note it is attached to and prints without the slash. It is also possible to write a grace note with a slashed stem, like the acciaccatura but without the slur, so as to place it between notes that are slurred themselves, using the \\slashedGrace function.\n\n    \\acciaccatura d8 c4\n    \\appoggiatura e8 d4\n    \\acciaccatura { g16 f } e2\n    \\slashedGrace a,8 g4\n    \\slashedGrace b16 a4(\n    \\slashedGrace b8 a2)\n\nThe placement of grace notes is synchronized between different staves. In the following example, there are two sixteenth grace notes for every eighth grace note\n\n    <<\n      \\new Staff { e2 \\grace { c16 d e f } e2 }\n      \\new Staff { c2 \\grace { g8 b } c2 }\n    >>"},{label:"\\slurDashed",detail:"Slurs",documentation:"Slurs can be solid, dotted, or dashed. Solid is the default slur style:\n\n    c4( e g2)\n    \\slurDashed\n    g4( e c2)\n    \\slurDotted\n    c4( e g2)\n    \\slurSolid\n    g4( e c2)"},{label:"\\slurDashPattern",detail:"Slurs",documentation:"Custom dash patterns for slurs can be defined:\n\n    c4( e g2)\n    \\slurDashPattern #0.7 #0.75\n    g4( e c2)\n    \\slurDashPattern #0.5 #2.0\n    c4( e g2)\n    \\slurSolid\n    g4( e c2)"},{label:"\\slurDotted",detail:"Slurs",documentation:"Slurs can be solid, dotted, or dashed. Solid is the default slur style:\n\n    c4( e g2)\n    \\slurDashed\n    g4( e c2)\n    \\slurDotted\n    c4( e g2)\n    \\slurSolid\n    g4( e c2)"},{label:"\\slurDown",detail:"Slurs",documentation:"Slurs may be manually placed above or below the staff; see Direction and placement."},{label:"\\slurHalfDashed",detail:"Slurs",documentation:"Slurs can also be made half-dashed (the first half dashed, the second half solid) or half-solid (the first half solid, the second half dashed):\n\n    c4( e g2)\n    \\slurHalfDashed\n    g4( e c2)\n    \\slurHalfSolid\n    c4( e g2)\n    \\slurSolid\n    g4( e c2)"},{label:"\\slurHalfSolid",detail:"Slurs",documentation:"Slurs can also be made half-dashed (the first half dashed, the second half solid) or half-solid (the first half solid, the second half dashed):\n\n    c4( e g2)\n    \\slurHalfDashed\n    g4( e c2)\n    \\slurHalfSolid\n    c4( e g2)\n    \\slurSolid\n    g4( e c2)"},{label:"\\slurNeutral",detail:"Slurs",documentation:"Slurs may be manually placed above or below the staff; see Direction and placement."},{label:"\\slurSolid",detail:"Slurs",documentation:"Slurs can be solid, dotted, or dashed. Solid is the default slur style:\n\n    c4( e g2)\n    \\slurDashed\n    g4( e c2)\n    \\slurDotted\n    c4( e g2)\n    \\slurSolid\n    g4( e c2)"},{label:"\\slurUp",detail:"Slurs",documentation:"\\slurUp, \\slurDown, \\slurNeutral, \\slurDashed, \\slurDotted, \\slurHalfDashed, \\slurHalfSolid, \\slurDashPattern, \\slurSolid."},{label:"\\small",detail:"Selecting notation font size",documentation:"The font size of notation elements may be altered. It does not change the size of variable symbols, such as beams or slurs.\n\nNote: For font sizes of text, see Selecting font and font size.\n\n\n\n    \\huge\n    c4.-> d8---3\n    \\large\n    c4.-> d8---3\n    \\normalsize\n    c4.-> d8---3\n    \\small\n    c4.-> d8---3\n    \\tiny\n    c4.-> d8---3\n    \\teeny\n    c4.-> d8---3\n\nInternally, this sets the fontSize property. This in turn causes the font-size property to be set in all layout objects. The value of font-size is a number indicating the size relative to the standard size for the current staff height. Each step up is an increase of approximately 12% of the font size. Six steps is exactly a factor of two. The Scheme function magstep converts a font-size number to a scaling factor. The font-size property can also be set directly, so that only certain layout objects are affected.\n\n    \\set fontSize = #3\n    c4.-> d8---3\n    \\override NoteHead.font-size = #-4\n    c4.-> d8---3\n    \\override Script.font-size = #2\n    c4.-> d8---3\n    \\override Stem.font-size = #-5\n    c4.-> d8---3"},{label:"\\small",detail:"Selecting font and font size",documentation:"\\teeny, \\tiny, \\small, \\normalsize, \\large, \\huge, \\smaller, \\larger."},{label:"\\small",detail:"A.10.1 Font",documentation:"Set font size to -1.\n\n    \\markup {\n      default\n      \\hspace #2\n      \\small\n      small\n    }"},{label:"\\smallCaps",detail:"A.10.1 Font",documentation:"Emit arg as small caps.\n\nNote: \\smallCaps does not support accented characters.\n\n    \\markup {\n      default\n      \\hspace #2\n      \\smallCaps {\n        Text in small caps\n      }\n    }"},{label:"\\smaller",detail:"Selecting font and font size",documentation:"The font size can be altered, relative to the global staff size, in a number of different ways\n\nIt can be set to predefined size,\n\n    b1_\\markup { \\huge Sinfonia }\n    b1^\\markup { \\teeny da }\n    b1-\\markup { \\normalsize camera }\n\nIt can be set relative to its previous value,\n\n    b1_\\markup { \\larger Sinfonia }\n    b1^\\markup { \\smaller da }\n    b1-\\markup { \\magnify #0.6  camera }\n\nIt can be increased or decreased relative to the value set by the global staff size,\n\n    b1_\\markup { \\fontsize #-2 Sinfonia }\n    b1^\\markup { \\fontsize #1 da }\n    b1-\\markup { \\fontsize #3 camera }\n\nIt can also be set to a fixed point-size, regardless of the global staff size,\n\n    b1_\\markup { \\abs-fontsize #20 Sinfonia }\n    b1^\\markup { \\abs-fontsize #8 da }\n    b1-\\markup { \\abs-fontsize #14 camera }"},{label:"\\smaller",detail:"Selecting font and font size",documentation:"\\teeny, \\tiny, \\small, \\normalsize, \\large, \\huge, \\smaller, \\larger."},{label:"\\smaller",detail:"A.10.1 Font",documentation:"Decrease the font size relative to the current setting.\n\n    \\markup {\n      \\fontsize #3.5 {\n        some large text\n        \\hspace #2\n        \\smaller {\n          a bit smaller\n        }\n        \\hspace #2\n        more large text\n      }\n    }"},{label:"\\snappizzicato",detail:"Articulations and ornamentations",documentation:"A variety of symbols that denote articulations, ornamentations, and other performance indications can be attached to a note using this syntax:\n\n    note\\name\n\nThe possible values for name are listed in List of articulations. For example:\n\n    c4\\staccato c\\mordent b2\\turn\n    c1\\fermata"},{label:"\\sostenutoOff",detail:"Piano pedals",documentation:"Pianos generally have three pedals that alter the way sound is produced: sustain, sostenuto (sos.), and una corda (U.C.). Sustain pedals are also found on vibraphones and celestas.\n\n    c4\\sustainOn d e g\n    <c, f a>1\\sustainOff\n    c4\\sostenutoOn e g c,\n    <bes d f>1\\sostenutoOff\n    c4\\unaCorda d e g\n    <d fis a>1\\treCorde"},{label:"\\sostenutoOn",detail:"Piano pedals",documentation:"Pianos generally have three pedals that alter the way sound is produced: sustain, sostenuto (sos.), and una corda (U.C.). Sustain pedals are also found on vibraphones and celestas.\n\n    c4\\sustainOn d e g\n    <c, f a>1\\sustainOff\n    c4\\sostenutoOn e g c,\n    <bes d f>1\\sostenutoOff\n    c4\\unaCorda d e g\n    <d fis a>1\\treCorde"},{label:"\\southernHarmonyHeads",detail:"Shape note heads",documentation:"In shape note head notation, the shape of the note head corresponds to the harmonic function of a note in the scale. This notation was popular in nineteenth-century American song books. Shape note heads can be produced in Sacred Harp, Southern Harmony, Funk (Harmonica Sacra), Walker, and Aiken (Christian Harmony) styles:\n\n    \\aikenHeads\n    c, d e f g2 a b1 c \\break\n    \\sacredHarpHeads\n    c,4 d e f g2 a b1 c \\break\n    \\southernHarmonyHeads\n    c,4 d e f g2 a b1 c \\break\n    \\funkHeads\n    c,4 d e f g2 a b1 c \\break\n    \\walkerHeads\n    c,4 d e f g2 a b1 c \\break"},{label:"\\southernHarmonyHeadsMinor",detail:"Shape note heads",documentation:"Shapes are typeset according to the step in the scale, where the base of the scale is determined by the \\key command. When writing in a minor key, the scale step can be determined from the relative major:\n\n    \\key a \\minor\n    \\aikenHeads\n    a b c d e2 f g1 a \\break\n    \\aikenHeadsMinor\n    a,4 b c d e2 f g1 a \\break\n    \\sacredHarpHeadsMinor\n    a,2 b c d \\break\n    \\southernHarmonyHeadsMinor\n    a2 b c d \\break\n    \\funkHeadsMinor\n    a2 b c d \\break\n    \\walkerHeadsMinor\n    a2 b c d \\break"},{label:"\\sp",detail:"Dynamics",documentation:"Absolute dynamic marks are specified using a command after a note, such as c4\\ff. The available dynamic marks are \\ppppp, \\pppp, \\ppp, \\pp, \\p, \\mp, \\mf, \\f, \\ff, \\fff, \\ffff, \\fffff, \\fp, \\sf, \\sff, \\sp, \\spp, \\sfz, and \\rfz. Dynamic marks may be manually placed above or below the staff; see Direction and placement.\n\n    c2\\ppp c\\mp\n    c2\\rfz c^\\mf\n    c2_\\spp c^\\ff"},{label:"\\spp",detail:"Dynamics",documentation:"Absolute dynamic marks are specified using a command after a note, such as c4\\ff. The available dynamic marks are \\ppppp, \\pppp, \\ppp, \\pp, \\p, \\mp, \\mf, \\f, \\ff, \\fff, \\ffff, \\fffff, \\fp, \\sf, \\sff, \\sp, \\spp, \\sfz, and \\rfz. Dynamic marks may be manually placed above or below the staff; see Direction and placement.\n\n    c2\\ppp c\\mp\n    c2\\rfz c^\\mf\n    c2_\\spp c^\\ff"},{label:"\\staccatissimo",detail:"Articulations and ornamentations",documentation:"A variety of symbols that denote articulations, ornamentations, and other performance indications can be attached to a note using this syntax:\n\n    note\\name\n\nThe possible values for name are listed in List of articulations. For example:\n\n    c4\\staccato c\\mordent b2\\turn\n    c1\\fermata"},{label:"\\staccato",detail:"Articulations and ornamentations",documentation:"A variety of symbols that denote articulations, ornamentations, and other performance indications can be attached to a note using this syntax:\n\n    note\\name\n\nThe possible values for name are listed in List of articulations. For example:\n\n    c4\\staccato c\\mordent b2\\turn\n    c1\\fermata"},{label:"\\startGroup",detail:"Analysis brackets",documentation:"Brackets are used in musical analysis to indicate structure in musical pieces. Simple horizontal brackets are supported.\n\n    \\layout {\n      \\context {\n        \\Voice\n        \\consists \"Horizontal_bracket_engraver\"\n      }\n    }\n    \\relative c'' {\n      c2\\startGroup\n      d\\stopGroup\n    }\n\nAnalysis brackets may be nested.\n\n    \\layout {\n      \\context {\n        \\Voice\n        \\consists \"Horizontal_bracket_engraver\"\n      }\n    }\n    \\relative c'' {\n      c4\\startGroup\\startGroup\n      d4\\stopGroup\n      e4\\startGroup\n      d4\\stopGroup\\stopGroup\n    }"},{label:"\\startStaff",detail:"Staff symbol",documentation:"The \\stopStaff and \\startStaff commands can be used to stop or (re)start the staff lines respectively, from being printed at any point witin a score.\n\n    \\stopStaff f4 d \\startStaff g, e\n    f'4 d \\stopStaff g, e\n    f'4 d \\startStaff g, e"},{label:"\\startStaff",detail:"Ossia staves",documentation:'Ossia staves can be set by creating a new simultaneous staff in the appropriate location:\n\n    \\new Staff \\relative c\'\' {\n      c4 b d c\n      <<\n        { c4 b d c }\n        \\new Staff { e4 d f e }\n      >>\n      c4 b c2\n    }\n\nHowever, the above example is not what is usually desired. To create ossia staves that are above the original staff, have no time signature or clef, and have a smaller font size, tweaks must be used. The Learning Manual describes a specific technique to achieve this goal, beginning with Nesting music expressions.\n\nThe following example uses the alignAboveContext property to align the ossia staff. This method is most appropriate when only a few ossia staves are needed.\n\n    \\new Staff = "main" \\relative c\'\' {\n      c4 b d c\n      <<\n        { c4 b d c }\n        \\new Staff \\with {\n          \\remove "Time_signature_engraver"\n          alignAboveContext = #"main"\n          fontSize = #-3\n          \\override StaffSymbol.staff-space = #(magstep -3)\n          \\override StaffSymbol.thickness = #(magstep -3)\n          firstClef = ##f\n        }\n        { e4 d f e }\n      >>\n      c4 b c2\n    }\n\nIf many isolated ossia staves are needed, creating an empty Staff context with a specific context id may be more appropriate; the ossia staves may then be created by calling this context and using \\startStaff and \\stopStaff at the desired locations. The benefits of this method are more apparent if the piece is longer than the following example.\n\n    <<\n      \\new Staff = "ossia" \\with {\n        \\remove "Time_signature_engraver"\n        \\hide Clef\n        fontSize = #-3\n        \\override StaffSymbol.staff-space = #(magstep -3)\n        \\override StaffSymbol.thickness = #(magstep -3)\n      }\n      { \\stopStaff s1*6 }\n      \\new Staff \\relative c\' {\n        c4 b c2\n        <<\n          { e4 f e2 }\n          \\context Staff = "ossia" {\n            \\startStaff e4 g8 f e2 \\stopStaff\n          }\n        >>\n        g4 a g2 \\break\n        c4 b c2\n        <<\n          { g4 a g2 }\n          \\context Staff = "ossia" {\n            \\startStaff g4 e8 f g2 \\stopStaff\n          }\n        >>\n        e4 d c2\n      }\n    >>\n\nUsing the \\Staff \\RemoveEmptyStaves command to create ossia staves may be used as an alternative. This method is most convenient when ossia staves occur immediately following a line break. For more information about \\Staff \\RemoveEmptyStaves, see Hiding staves.\n\n    <<\n      \\new Staff = "ossia" \\with {\n        \\remove "Time_signature_engraver"\n        \\hide Clef\n        fontSize = #-3\n        \\override StaffSymbol.staff-space = #(magstep -3)\n        \\override StaffSymbol.thickness = #(magstep -3)\n      } \\relative c\'\' {\n        R1*3\n        c4 e8 d c2\n      }\n      \\new Staff \\relative c\' {\n        c4 b c2\n        e4 f e2\n        g4 a g2 \\break\n        c4 b c2\n        g4 a g2\n        e4 d c2\n      }\n    >>\n    \\layout {\n      \\context {\n        \\Staff \\RemoveEmptyStaves\n        \\override VerticalAxisGroup.remove-first = ##t\n      }\n    }'},{label:"\\startTrillSpan",detail:"Trills",documentation:"Short trills without an extender line are printed with \\trill; see Articulations and ornamentations.\n\nLonger trills with an extender line are made with \\startTrillSpan and \\stopTrillSpan:\n\n    d1\\startTrillSpan\n    d1\n    c2\\stopTrillSpan\n    r2\n\nA trill spanner crossing a line break will restart exactly above the first note on the new line.\n\n    d1\\startTrillSpan\n    \\break\n    d1\n    c2\\stopTrillSpan\n    r2\n\nConsecutive trill spans will work without explicit \\stopTrillSpan commands, since successive trill spanners will automatically become the right bound of the previous trill.\n\n    d1\\startTrillSpan\n    d1\n    b1\\startTrillSpan\n    d2\\stopTrillSpan\n    r2\n\nTrills can also be combined with grace notes. The syntax of this construct and the method to precisely position the grace notes are described in Grace notes.\n\n    d1~\\afterGrace\n    d1\\startTrillSpan { c32[ d]\\stopTrillSpan }\n    c2 r2"},{label:"\\stdBass",detail:"A.10.6 Accordion Registers",documentation:"\\stdBass name generates a standard bass accordion register symbol.\n\nTo make it available,\n\n    #(use-modules (scm accreg))\n\nis required near the top of your input file.\n\nThe default bass register definitions have been modeled after the article http://www.accordions.com/index/art/stradella.shtml originally appearing in Accord Magazine.\n\nThe underlying register model is\n\nThis kind of overlapping arrangement is common for Italian instruments though the exact location of the octave breaks differ.\n\nWhen not composing for a particular target instrument, using the five reed definitions makes more sense than using a four reed layout: in that manner, the \u2018Master\u2019 register is unambiguous. This is rather the rule in literature bothering about bass registrations at all.\n\nAvailable registrations are\n\nUsed properties:\n\n - font-size (0)"},{label:"\\stdBassIV",detail:"A.10.6 Accordion Registers",documentation:"\\stdBassIV name generates a standard bass accordion register symbol.\n\nTo make it available,\n\n    #(use-modules (scm accreg))\n\nis required near the top of your input file.\n\nThe main use is for four-reed standard bass instruments with reedbank layout\n\nNotable instruments are Morino models with MIII (the others are five-reed instead) and the Atlantic\xa0IV. Most of those models have three register switches. Some newer Morinos with MIII might have five or even seven.\n\nThe prevalent three-register layout uses the middle three switches \u2018Tenor\u2019, \u2018Master\u2019, \u2018Soft Bass\u2019. Note that the sound is quite darker than the same registrations of \u2018c,\u2019-based instruments.\n\nAvailable registrations are\n\nUsed properties:\n\n - font-size (0)"},{label:"\\stdBassV",detail:"A.10.6 Accordion Registers",documentation:"\\stdBassV name generates a standard bass accordion register symbol.\n\nTo make it available,\n\n    #(use-modules (scm accreg))\n\nis required near the top of your input file.\n\nThe main use is for five-reed standard bass instruments with reedbank layout\n\nThis tends to be the bass layout for Hohner\u2019s Morino series without convertor or MIII manual.\n\nWith the exception of the rather new 7-register layout, the highest two chord reeds are usually sounded together. The Older instruments offer 5 or 3 bass registers. The Tango\xa0VM offers an additional \u2018Solo Bass\u2019 setting that mutes the chord reeds. The symbol on the register buttons of the Tango\xa0VM would actually match the physical five-octave layout reflected here, but it is not used in literature.\n\nComposers should likely prefer the five-reed versions of these symbols. The mismatch of a four-reed instrument with five-reed symbols is easier to resolve for the player than the other way round.\n\nAvailable registrations are\n\nUsed properties:\n\n - font-size (0)"},{label:"\\stdBassVI",detail:"A.10.6 Accordion Registers",documentation:"\\stdBassVI name generates a standard bass accordion register symbol for six reed basses.\n\nTo make it available,\n\n    #(use-modules (scm accreg))\n\nis required near the top of your input file.\n\nThis is primarily the register layout for the Hohner \u201cGola\u201d model. The layout is\n\nThe registers are effectively quite similar to that of \\stdBass. An additional bass reed at alto pitch is omitted for esthetical reasons from the \u2018Master\u2019 setting, so the symbols are almost the same except for the \u2018Alto/Soprano\u2019 register with bass notes at Alto pitch and chords at Soprano pitch.\n\nAvailable registrations are\n\nUsed properties:\n\n - font-size (0)"},{label:"\\stemDown",detail:"Stems",documentation:"Whenever a note is found, a Stem object is created automatically. For whole notes and rests, they are also created but made invisible.\n\nStems may be manually placed to point up or down; see Direction and placement."},{label:"\\stemNeutral",detail:"Stems",documentation:"Whenever a note is found, a Stem object is created automatically. For whole notes and rests, they are also created but made invisible.\n\nStems may be manually placed to point up or down; see Direction and placement."},{label:"\\stemUp",detail:"Stems",documentation:"Whenever a note is found, a Stem object is created automatically. For whole notes and rests, they are also created but made invisible.\n\nStems may be manually placed to point up or down; see Direction and placement."},{label:"\\stencil",detail:"A.10.7 Other",documentation:"Use a stencil as markup.\n\n    \\markup {\n      \\stencil #(make-circle-stencil 2 0 #t)\n    }"},{label:"\\stopGroup",detail:"Analysis brackets",documentation:"Brackets are used in musical analysis to indicate structure in musical pieces. Simple horizontal brackets are supported.\n\n    \\layout {\n      \\context {\n        \\Voice\n        \\consists \"Horizontal_bracket_engraver\"\n      }\n    }\n    \\relative c'' {\n      c2\\startGroup\n      d\\stopGroup\n    }\n\nAnalysis brackets may be nested.\n\n    \\layout {\n      \\context {\n        \\Voice\n        \\consists \"Horizontal_bracket_engraver\"\n      }\n    }\n    \\relative c'' {\n      c4\\startGroup\\startGroup\n      d4\\stopGroup\n      e4\\startGroup\n      d4\\stopGroup\\stopGroup\n    }"},{label:"\\stopped",detail:"Articulations and ornamentations",documentation:"A variety of symbols that denote articulations, ornamentations, and other performance indications can be attached to a note using this syntax:\n\n    note\\name\n\nThe possible values for name are listed in List of articulations. For example:\n\n    c4\\staccato c\\mordent b2\\turn\n    c1\\fermata"},{label:"\\stopStaff",detail:"Staff symbol",documentation:"The \\stopStaff and \\startStaff commands can be used to stop or (re)start the staff lines respectively, from being printed at any point witin a score.\n\n    \\stopStaff f4 d \\startStaff g, e\n    f'4 d \\stopStaff g, e\n    f'4 d \\startStaff g, e"},{label:"\\stopStaff",detail:"Ossia staves",documentation:'Ossia staves can be set by creating a new simultaneous staff in the appropriate location:\n\n    \\new Staff \\relative c\'\' {\n      c4 b d c\n      <<\n        { c4 b d c }\n        \\new Staff { e4 d f e }\n      >>\n      c4 b c2\n    }\n\nHowever, the above example is not what is usually desired. To create ossia staves that are above the original staff, have no time signature or clef, and have a smaller font size, tweaks must be used. The Learning Manual describes a specific technique to achieve this goal, beginning with Nesting music expressions.\n\nThe following example uses the alignAboveContext property to align the ossia staff. This method is most appropriate when only a few ossia staves are needed.\n\n    \\new Staff = "main" \\relative c\'\' {\n      c4 b d c\n      <<\n        { c4 b d c }\n        \\new Staff \\with {\n          \\remove "Time_signature_engraver"\n          alignAboveContext = #"main"\n          fontSize = #-3\n          \\override StaffSymbol.staff-space = #(magstep -3)\n          \\override StaffSymbol.thickness = #(magstep -3)\n          firstClef = ##f\n        }\n        { e4 d f e }\n      >>\n      c4 b c2\n    }\n\nIf many isolated ossia staves are needed, creating an empty Staff context with a specific context id may be more appropriate; the ossia staves may then be created by calling this context and using \\startStaff and \\stopStaff at the desired locations. The benefits of this method are more apparent if the piece is longer than the following example.\n\n    <<\n      \\new Staff = "ossia" \\with {\n        \\remove "Time_signature_engraver"\n        \\hide Clef\n        fontSize = #-3\n        \\override StaffSymbol.staff-space = #(magstep -3)\n        \\override StaffSymbol.thickness = #(magstep -3)\n      }\n      { \\stopStaff s1*6 }\n      \\new Staff \\relative c\' {\n        c4 b c2\n        <<\n          { e4 f e2 }\n          \\context Staff = "ossia" {\n            \\startStaff e4 g8 f e2 \\stopStaff\n          }\n        >>\n        g4 a g2 \\break\n        c4 b c2\n        <<\n          { g4 a g2 }\n          \\context Staff = "ossia" {\n            \\startStaff g4 e8 f g2 \\stopStaff\n          }\n        >>\n        e4 d c2\n      }\n    >>\n\nUsing the \\Staff \\RemoveEmptyStaves command to create ossia staves may be used as an alternative. This method is most convenient when ossia staves occur immediately following a line break. For more information about \\Staff \\RemoveEmptyStaves, see Hiding staves.\n\n    <<\n      \\new Staff = "ossia" \\with {\n        \\remove "Time_signature_engraver"\n        \\hide Clef\n        fontSize = #-3\n        \\override StaffSymbol.staff-space = #(magstep -3)\n        \\override StaffSymbol.thickness = #(magstep -3)\n      } \\relative c\'\' {\n        R1*3\n        c4 e8 d c2\n      }\n      \\new Staff \\relative c\' {\n        c4 b c2\n        e4 f e2\n        g4 a g2 \\break\n        c4 b c2\n        g4 a g2\n        e4 d c2\n      }\n    >>\n    \\layout {\n      \\context {\n        \\Staff \\RemoveEmptyStaves\n        \\override VerticalAxisGroup.remove-first = ##t\n      }\n    }'},{label:"\\stopStaff",detail:"Hiding staves",documentation:"Staff lines can be hidden by removing the Staff_symbol_engraver from the Staff context. As an alternative, \\stopStaff may be used.\n\n    \\new Staff \\with {\n      \\remove \"Staff_symbol_engraver\"\n    }\n    \\relative c''' { a8 f e16 d c b a2 }\n\nEmpty staves can be hidden by setting the \\Staff \\RemoveEmptyStaves command in the \\layout block. In orchestral scores, this style is known as \u2018Frenched Score\u2019. By default, this command hides and removes all empty staves in a score except for those in the first system.\n\nNote: A staff is considered empty when it contains only multi-measure rests, rests, skips, spacer rests, or a combination of these elements.\n\n\n\n    \\layout {\n      \\context {\n        \\Staff \\RemoveEmptyStaves\n      }\n    }\n    \\relative c' <<\n      \\new Staff {\n        e4 f g a \\break\n        b1 \\break\n        a4 b c2\n      }\n      \\new Staff {\n        c,4 d e f \\break\n        R1 \\break\n        f4 g c,2\n      }\n    >>"},{label:"\\stopTrillSpan",detail:"Trills",documentation:"Short trills without an extender line are printed with \\trill; see Articulations and ornamentations.\n\nLonger trills with an extender line are made with \\startTrillSpan and \\stopTrillSpan:\n\n    d1\\startTrillSpan\n    d1\n    c2\\stopTrillSpan\n    r2\n\nA trill spanner crossing a line break will restart exactly above the first note on the new line.\n\n    d1\\startTrillSpan\n    \\break\n    d1\n    c2\\stopTrillSpan\n    r2\n\nConsecutive trill spans will work without explicit \\stopTrillSpan commands, since successive trill spanners will automatically become the right bound of the previous trill.\n\n    d1\\startTrillSpan\n    d1\n    b1\\startTrillSpan\n    d2\\stopTrillSpan\n    r2\n\nTrills can also be combined with grace notes. The syntax of this construct and the method to precisely position the grace notes are described in Grace notes.\n\n    d1~\\afterGrace\n    d1\\startTrillSpan { c32[ d]\\stopTrillSpan }\n    c2 r2"},{label:"\\storePredefinedDiagram",detail:"Predefined fret diagrams",documentation:"In addition to fret diagrams, LilyPond stores an internal list of chord shapes. The chord shapes are fret diagrams that can be shifted along the neck to different positions to provide different chords. Chord shapes can be added to the internal list and then used to define predefined fret diagrams. Because they can be moved to various positions on the neck, chord shapes will normally not contain any open strings. Like fret diagrams, chord shapes can be entered as either fret-diagram-terse strings or fret-diagram-verbose marking lists.\n\n    \\include \"predefined-guitar-fretboards.ly\"\n    % Add a new chord shape\n    \\addChordShape #'powerf #guitar-tuning #\"1-1;3-3;3-4;x;x;x;\"\n    % add some new chords based on the power chord shape\n    \\storePredefinedDiagram #default-fret-table\n                            \\chordmode { f'' }\n                            #guitar-tuning\n                            #(chord-shape 'powerf guitar-tuning)\n    \\storePredefinedDiagram #default-fret-table\n                            \\chordmode { g'' }\n                            #guitar-tuning\n                            #(offset-fret 2 (chord-shape 'powerf guitar-tuning))\n    mychords = \\chordmode{\n      f1 f'' g g''\n    }\n    <<\n      \\new ChordNames {\n        \\mychords\n      }\n      \\new FretBoards {\n        \\mychords\n      }\n    >>\n\nThe graphical layout of a fret diagram can be customized according to user preference through the properties of the fret-diagram-interface. Details are found at fret-diagram-interface. For a predefined fret diagram, the interface properties belong to FretBoards.FretBoard."},{label:"\\stringTuning",detail:"Custom tablatures",documentation:"Any desired string tuning can be created. The \\stringTuning function can be used to define a string tuning which can be used to set stringTunings for the current context.\n\nIts argument is a chord construct defining the pitches of each string in the tuning. The chord construct must be in absolute octave mode, see Absolute octave entry. The string with the highest number (generally the lowest string) must come first in the chord. For example, we can define a string tuning for a four-string instrument with pitches of a'', d'', g', and c':\n\n    mynotes = {\n      c'4 e' g' c'' |\n      e''4 g'' b'' c'''\n    }\n    <<\n      \\new Staff {\n        \\clef treble\n        \\mynotes\n      }\n      \\new TabStaff {\n        \\set Staff.stringTunings = \\stringTuning <c' g' d'' a''>\n        \\mynotes\n      }\n    >>\n\nThe stringTunings property is also used by FretBoards to calculate automatic fret diagrams.\n\nString tunings are used as part of the hash key for predefined fret diagrams (see Predefined fret diagrams).\n\nThe previous example could also be written as follows:\n\n    custom-tuning = \\stringTuning <c' g' d'' a''>\n    mynotes = {\n      c'4 e' g' c'' |\n      e''4 g'' b'' c'''\n    }\n    <<\n      \\new Staff {\n        \\clef treble\n        \\mynotes\n      }\n      \\new TabStaff {\n        \\set TabStaff.stringTunings = #custom-tuning\n        \\mynotes\n      }\n    >>\n\nInternally, a string tuning is a Scheme list of string pitches, one for each string, ordered by string number from 1 to N, where string 1 is at the top of the tablature staff and string N is at the bottom. This ordinarily results in ordering from highest pitch to lowest pitch, but some instruments (e.g. ukulele) do not have strings ordered by pitch.\n\nA string pitch in a string tuning list is a LilyPond pitch object. Pitch objects are created with the Scheme function ly:make-pitch (see Scheme functions).\n\n\\stringTuning creates such an object from chord input.\n\nLilyPond automatically calculates the number of lines in the TabStaff and the number of strings in an automatically calculated FretBoard as the number of elements in stringTunings.\n\nTo let all TabStaff contexts use the same custom tuning by default, you can use\n\n    \\layout {\n      \\context {\n        \\TabStaff\n        stringTunings = \\stringTuning <c' g' d'' a''>\n      }\n    }"},{label:"\\stropha",detail:"Gregorian square neume ligatures",documentation:""},{label:"\\stropha",detail:"Predefined commands",documentation:""},{label:"\\strut",detail:"A.10.7 Other",documentation:"Create a box of the same height as the space in the current font."},{label:"\\sub",detail:"Selecting font and font size",documentation:"Text may be printed as subscript or superscript. By default these are printed in a smaller size, but a normal size can be used as well:\n\n    \\markup {\n      \\column {\n        \\line { 1 \\super st movement }\n        \\line { 1 \\normal-size-super st movement\n          \\sub { (part two) }  }\n      }\n    }"},{label:"\\sub",detail:"A.10.1 Font",documentation:"Set arg in subscript.\n\n    \\markup {\n      \\concat {\n        H\n        \\sub {\n          2\n        }\n        O\n      }\n    }\n\nUsed properties:\n\n - baseline-skip\n - font-size (0)"},{label:"\\super",detail:"Selecting font and font size",documentation:"Text may be printed as subscript or superscript. By default these are printed in a smaller size, but a normal size can be used as well:\n\n    \\markup {\n      \\column {\n        \\line { 1 \\super st movement }\n        \\line { 1 \\normal-size-super st movement\n          \\sub { (part two) }  }\n      }\n    }"},{label:"\\super",detail:"A.10.1 Font",documentation:"Set arg in superscript.\n\n    \\markup {\n      E =\n      \\concat {\n        mc\n        \\super\n        2\n      }\n    }\n\nUsed properties:\n\n - baseline-skip\n - font-size (0)"},{label:"\\sustainOff",detail:"Piano pedals",documentation:"Pianos generally have three pedals that alter the way sound is produced: sustain, sostenuto (sos.), and una corda (U.C.). Sustain pedals are also found on vibraphones and celestas.\n\n    c4\\sustainOn d e g\n    <c, f a>1\\sustainOff\n    c4\\sostenutoOn e g c,\n    <bes d f>1\\sostenutoOff\n    c4\\unaCorda d e g\n    <d fis a>1\\treCorde"},{label:"\\sustainOn",detail:"Piano pedals",documentation:"Pianos generally have three pedals that alter the way sound is produced: sustain, sostenuto (sos.), and una corda (U.C.). Sustain pedals are also found on vibraphones and celestas.\n\n    c4\\sustainOn d e g\n    <c, f a>1\\sustainOff\n    c4\\sostenutoOn e g c,\n    <bes d f>1\\sostenutoOff\n    c4\\unaCorda d e g\n    <d fis a>1\\treCorde"},{label:"\\tabChordRepeats",detail:"Default tablatures",documentation:'Chord constructs can be repeated by the chord repetition symbol q. In combination with tabulatures, its behavior of removing string and finger numbers alongside with other events is cumbersome, so you\u2019ll want to run\n\n    \\chordRepeats #\'(string-number-event fingering-event)\n\nexplicitly on music expressions in tabulature using Chord repetition. This particular command is so common that it is available as \\tabChordRepeats.\n\n    guitar = \\relative c\' {\n      r8 <gis-2 cis-3 b-0>~ q4 q8~ q q4\n    }\n    \\new StaffGroup <<\n      \\new Staff {\n        \\clef "treble_8"\n        \\guitar\n      }\n      \\new TabStaff {\n        \\tabChordRepeats \\guitar\n      }\n    >>\n\nTies over a line break are parenthesized by default. The same holds for the second alternative of a repeat.\n\n    ties = \\relative c\' {\n      \\repeat volta 2 {\n        e2. f4~\n        f2 g2~\n      }\n      \\alternative {\n         { g4 f2. }\n         { g4\\repeatTie c,2. }\n      }\n      b1~\n      \\break\n      b1\n      \\bar "|."\n    }\n    \\score {\n      <<\n        \\new StaffGroup  <<\n          \\new Staff {\n            \\clef "treble_8"\n            \\ties\n          }\n          \\new TabStaff {\n            \\ties\n          }\n        >>\n      >>\n      \\layout {\n      indent = #0\n      ragged-right = ##t\n      }\n    }'},{label:"\\tabFullNotation",detail:"Default tablatures",documentation:'If all musical symbols used in traditional notation should also show up in tablature one has to apply the command \\tabFullNotation in a TabStaff-context. Please bear in mind that half notes are double-stemmed in tablature in order to distinguish them from quarter notes.\n\n    symbols = {\n      \\time 3/4\n      c4-.^"Allegro" d( e)\n      f4-.\\f g a^\\fermata\n      \\mark \\default\n      c8_.\\<\\( c16 c~ c2\\!\n      c\'2.\\prall\\)\n    }\n    \\score {\n      \\new TabStaff {\n        \\tabFullNotation\n        \\symbols\n      }\n    }'},{label:"\\table-of-contents",detail:"Predefined commands",documentation:"\\table-of-contents, \\tocItem."},{label:"\\table-of-contents",detail:"A.11 Text markup list commands",documentation:""},{label:"\\tag",detail:"Using tags",documentation:"The \\tag #'partA command marks a music expression with the name partA. Expressions tagged in this way can be selected or filtered out by name later, using either \\keepWithTag #'name or \\removeWithTag #'name. The result of applying these filters to tagged music is as follows:\n\nFilter\tResult\nTagged music preceded by \\keepWithTag #'name or \\keepWithTag #'(name1 name2\u2026)\tUntagged music and music tagged with any of the given tag names is included; music tagged with any other tag name is excluded.\nTagged music preceded by \\removeWithTag #'name or \\removeWithTag #'(name1 name2\u2026)\tUntagged music and music not tagged with any of the given tag names is included; music tagged with any of the given tag names is excluded.\nTagged music not preceded by either \\keepWithTag or \\removeWithTag\tAll tagged and untagged music is included.\n\n\nThe arguments of the \\tag, \\keepWithTag and \\removeWithTag commands should be a symbol (such as #'score or #'part), followed by a music expression.\n\nIn the following example, we see two versions of a piece of music, one showing trills with the usual notation, and one with trills explicitly expanded:\n\n    music = \\relative g' {\n      g8. c32 d\n      \\tag #'trills { d8.\\trill }\n      \\tag #'expand { \\repeat unfold 3 { e32 d } }\n      c32 d\n     }\n    \\score {\n      \\keepWithTag #'trills \\music\n    }\n    \\score {\n      \\keepWithTag #'expand \\music\n    }\n\nAlternatively, it is sometimes easier to exclude sections of music:\n\n    music = \\relative g' {\n      g8. c32 d\n      \\tag #'trills { d8.\\trill }\n      \\tag #'expand {\\repeat unfold 3 { e32 d } }\n      c32 d\n     }\n    \\score {\n      \\removeWithTag #'expand\n      \\music\n    }\n    \\score {\n      \\removeWithTag #'trills\n      \\music\n    }\n\nTagged filtering can be applied to articulations, texts, etc. by prepending\n\n    -\\tag #'your-tag\n\nto an articulation. For example, this would define a note with a conditional fingering indication and a note with a conditional annotation:\n\n    c1-\\tag #'finger ^4\n    c1-\\tag #'warn ^\"Watch!\"\n\nMultiple tags may be placed on expressions with multiple \\tag entries, or by combining multiple tags into one symbol list:\n\n    music = \\relative c'' {\n      \\tag #'a \\tag #'both { a4 a a a }\n      \\tag #'(b both) { b4 b b b }\n    }\n    <<\n    \\keepWithTag #'a \\music\n    \\keepWithTag #'b \\music\n    \\keepWithTag #'both \\music\n    >>\n\nMultiple \\removeWithTag filters may be applied to a single music expression to remove several differently named tagged sections. Alternatively, you can use a single \\removeWithTag with a list of tags.\n\n    music = \\relative c'' {\n      \\tag #'A { a4 a a a }\n      \\tag #'B { b4 b b b }\n      \\tag #'C { c4 c c c }\n      \\tag #'D { d4 d d d }\n    }\n    \\new Voice {\n      \\removeWithTag #'B\n      \\removeWithTag #'C\n      \\music\n      \\removeWithTag #'(B C)\n      \\music\n    }\n\nTwo or more \\keepWithTag filters applied to a single music expression will cause all tagged sections to be removed, as the first filter will remove all tagged sections except the one named, and the second filter will remove even that tagged section. Usually you would rather want to use a single \\keepWithTag command with a list of multiple tags: this will only remove tagged sections not given in any of the tags.\n\nSometimes you want to splice some music at a particular place in an existing music expression. You can use \\pushToTag and \\appendToTag for adding material at the front or end of the elements of an existing music construct. Not every music construct has elements, but sequential and simultaneous music are safe bets:\n\n    test = { \\tag #'here { \\tag #'here <<c''>> } }\n    {\n      \\pushToTag #'here c'\n      \\pushToTag #'here e'\n      \\pushToTag #'here g' \\test\n      \\appendToTag #'here c'\n      \\appendToTag #'here e'\n      \\appendToTag #'here g' \\test\n    }\n\nBoth commands get a tag, the material to splice in at every occurence of the tag, and the tagged expression. The commands make sure to copy everything that they change so that the original \\test retains its meaning."},{label:"\\taor",detail:"Bagpipe definitions",documentation:'LilyPond contains special definitions for Scottish, Highland Bagpipe music; to use them, add\n\n    \\include "bagpipe.ly"\n\nto the top of your input file. This lets you add the special grace notes common to bagpipe music with short commands. For example, you could write \\taor instead of\n\n    \\grace { \\small G32[ d G e] }\n\n\u2018bagpipe.ly\u2019 also contains pitch definitions for the bagpipe notes in the appropriate octaves, so you do not need to worry about \\relative or \\transpose.\n\n    \\include "bagpipe.ly"\n    { \\grg G4 \\grg a \\grg b \\grg c \\grg d \\grg e \\grg f \\grA g A }\n\nBagpipe music nominally uses the key of D Major (even though that isn\u2019t really true). However, since that is the only key that can be used, the key signature is normally not written out. To set this up correctly, always start your music with \\hideKeySignature. If you for some reason want to show the key signature, you can use \\showKeySignature instead.\n\nSome modern music use cross fingering on c and f to flatten those notes. This can be indicated by cflat or fflat. Similarly, the piobaireachd high g can be written gflat when it occurs in light music.'},{label:"\\teeny",detail:"Selecting notation font size",documentation:"The font size of notation elements may be altered. It does not change the size of variable symbols, such as beams or slurs.\n\nNote: For font sizes of text, see Selecting font and font size.\n\n\n\n    \\huge\n    c4.-> d8---3\n    \\large\n    c4.-> d8---3\n    \\normalsize\n    c4.-> d8---3\n    \\small\n    c4.-> d8---3\n    \\tiny\n    c4.-> d8---3\n    \\teeny\n    c4.-> d8---3\n\nInternally, this sets the fontSize property. This in turn causes the font-size property to be set in all layout objects. The value of font-size is a number indicating the size relative to the standard size for the current staff height. Each step up is an increase of approximately 12% of the font size. Six steps is exactly a factor of two. The Scheme function magstep converts a font-size number to a scaling factor. The font-size property can also be set directly, so that only certain layout objects are affected.\n\n    \\set fontSize = #3\n    c4.-> d8---3\n    \\override NoteHead.font-size = #-4\n    c4.-> d8---3\n    \\override Script.font-size = #2\n    c4.-> d8---3\n    \\override Stem.font-size = #-5\n    c4.-> d8---3"},{label:"\\teeny",detail:"Selecting font and font size",documentation:"\\teeny, \\tiny, \\small, \\normalsize, \\large, \\huge, \\smaller, \\larger."},{label:"\\teeny",detail:"A.10.1 Font",documentation:"Set font size to -3.\n\n    \\markup {\n      default\n      \\hspace #2\n      \\teeny\n      teeny\n    }"},{label:"\\tempo",detail:"Metronome marks",documentation:'A basic metronome mark is simple to write:\n\n    \\tempo 4 = 120\n    c2 d\n    e4. d8 c2\n\nMetronome marks may also be printed as a range of two numbers:\n\n    \\tempo 4 = 40 - 46\n    c4. e8 a4 g\n    b,2 d4 r\n\nTempo indications with text can be used instead:\n\n    \\tempo "Allegretto"\n    c4 e d c\n    b4. a16 b c4 r4\n\nCombining a metronome mark and text will automatically place the metronome mark within parentheses:\n\n    \\tempo "Allegro" 4 = 160\n    g4 c d e\n    d4 b g2\n\nIn general, the text can be any markup object:\n\n    \\tempo \\markup { \\italic Faster } 4 = 132\n    a8-. r8 b-. r gis-. r a-. r\n\nA parenthesized metronome mark with no textual indication may be written by including an empty string in the input:\n\n    \\tempo "" 8 = 96\n    d4 g e c'},{label:"\\tenuto",detail:"Articulations and ornamentations",documentation:"A variety of symbols that denote articulations, ornamentations, and other performance indications can be attached to a note using this syntax:\n\n    note\\name\n\nThe possible values for name are listed in List of articulations. For example:\n\n    c4\\staccato c\\mordent b2\\turn\n    c1\\fermata"},{label:"\\text",detail:"A.10.1 Font",documentation:"Use a text font instead of music symbol or music alphabet font.\n\n    \\markup {\n      \\number {\n        1, 2,\n        \\text {\n          three, four,\n        }\n        5\n      }\n    }"},{label:"\\textLengthOff",detail:"Full measure rests",documentation:"\\textLengthOn, \\textLengthOff, \\fermataMarkup, \\compressFullBarRests, \\expandFullBarRests."},{label:"\\textLengthOff",detail:"Text scripts",documentation:"\\textLengthOn, \\textLengthOff."},{label:"\\textLengthOn",detail:"Full measure rests",documentation:"\\textLengthOn, \\textLengthOff, \\fermataMarkup, \\compressFullBarRests, \\expandFullBarRests."},{label:"\\textLengthOn",detail:"Text scripts",documentation:"\\textLengthOn, \\textLengthOff."},{label:"\\textSpannerDown",detail:"Text spanners",documentation:"\\textSpannerUp, \\textSpannerDown, \\textSpannerNeutral."},{label:"\\textSpannerNeutral",detail:"Text spanners",documentation:"\\textSpannerUp, \\textSpannerDown, \\textSpannerNeutral."},{label:"\\textSpannerUp",detail:"Text spanners",documentation:"\\textSpannerUp, \\textSpannerDown, \\textSpannerNeutral."},{label:"\\thumb",detail:"Articulations and ornamentations",documentation:"A variety of symbols that denote articulations, ornamentations, and other performance indications can be attached to a note using this syntax:\n\n    note\\name\n\nThe possible values for name are listed in List of articulations. For example:\n\n    c4\\staccato c\\mordent b2\\turn\n    c1\\fermata"},{label:"\\thumb",detail:"Fingering instructions",documentation:"A thumb-script can be added (e.g. cello music) to indicate that a note should be played with the thumb.\n\n    <a_\\thumb a'-3>2 <b_\\thumb b'-3>"},{label:"\\tied-lyric",detail:"A.10.4 Music",documentation:'Like simple-markup, but use tie characters for \u2018~\u2019 tilde symbols.\n\n    \\markup \\column {\n      \\tied-lyric #"Siam navi~all\'onde~algenti Lasciate~in abbandono"\n      \\tied-lyric #"Impetuosi venti I nostri~affetti sono"\n      \\tied-lyric #"Ogni diletto~e scoglio Tutta la vita~e~un mar."\n    }\n\nUsed properties:\n\n - word-space'},{label:"\\tieDashed",detail:"Ties",documentation:"Ties may be made dashed, dotted, or a combination of solid and dashed.\n\n    \\tieDotted\n    c2~ c\n    \\tieDashed\n    c2~ c\n    \\tieHalfDashed\n    c2~ c\n    \\tieHalfSolid\n    c2~ c\n    \\tieSolid\n    c2~ c\n\nCustom dash patterns can be specified:\n\n    \\tieDashPattern #0.3 #0.75\n    c2~ c\n    \\tieDashPattern #0.7 #1.5\n    c2~ c\n    \\tieSolid\n    c2~ c\n\nDash pattern definitions for ties have the same structure as dash pattern definitions for slurs. For more information about complex dash patterns, see Slurs.\n\nOverride whiteout and layer layout properties for ties that collide with other objects in a staff.\n\n    \\override Tie.layer = #-2\n    \\override Staff.TimeSignature.layer = #-1\n    \\override Staff.KeySignature.layer = #-1\n    \\override Staff.TimeSignature.whiteout = ##t\n    \\override Staff.KeySignature.whiteout = ##t\n    b2 b~\n    \\time 3/4\n    \\key a \\major\n    b r4"},{label:"\\tieDotted",detail:"Ties",documentation:"Ties may be made dashed, dotted, or a combination of solid and dashed.\n\n    \\tieDotted\n    c2~ c\n    \\tieDashed\n    c2~ c\n    \\tieHalfDashed\n    c2~ c\n    \\tieHalfSolid\n    c2~ c\n    \\tieSolid\n    c2~ c\n\nCustom dash patterns can be specified:\n\n    \\tieDashPattern #0.3 #0.75\n    c2~ c\n    \\tieDashPattern #0.7 #1.5\n    c2~ c\n    \\tieSolid\n    c2~ c\n\nDash pattern definitions for ties have the same structure as dash pattern definitions for slurs. For more information about complex dash patterns, see Slurs.\n\nOverride whiteout and layer layout properties for ties that collide with other objects in a staff.\n\n    \\override Tie.layer = #-2\n    \\override Staff.TimeSignature.layer = #-1\n    \\override Staff.KeySignature.layer = #-1\n    \\override Staff.TimeSignature.whiteout = ##t\n    \\override Staff.KeySignature.whiteout = ##t\n    b2 b~\n    \\time 3/4\n    \\key a \\major\n    b r4"},{label:"\\tieDown",detail:"Ties",documentation:"Ties may be made to curve up or down manually; see Direction and placement."},{label:"\\tieNeutral",detail:"Ties",documentation:"Ties may be made to curve up or down manually; see Direction and placement."},{label:"\\tieSolid",detail:"Ties",documentation:"Ties may be made dashed, dotted, or a combination of solid and dashed.\n\n    \\tieDotted\n    c2~ c\n    \\tieDashed\n    c2~ c\n    \\tieHalfDashed\n    c2~ c\n    \\tieHalfSolid\n    c2~ c\n    \\tieSolid\n    c2~ c\n\nCustom dash patterns can be specified:\n\n    \\tieDashPattern #0.3 #0.75\n    c2~ c\n    \\tieDashPattern #0.7 #1.5\n    c2~ c\n    \\tieSolid\n    c2~ c\n\nDash pattern definitions for ties have the same structure as dash pattern definitions for slurs. For more information about complex dash patterns, see Slurs.\n\nOverride whiteout and layer layout properties for ties that collide with other objects in a staff.\n\n    \\override Tie.layer = #-2\n    \\override Staff.TimeSignature.layer = #-1\n    \\override Staff.KeySignature.layer = #-1\n    \\override Staff.TimeSignature.whiteout = ##t\n    \\override Staff.KeySignature.whiteout = ##t\n    b2 b~\n    \\time 3/4\n    \\key a \\major\n    b r4"},{label:"\\tieUp",detail:"Ties",documentation:"Ties may be made to curve up or down manually; see Direction and placement."},{label:"\\time",detail:"Time signature",documentation:"The time signature is set as follows:\n\n    \\time 2/4 c2\n    \\time 3/4 c2."},{label:"\\time",detail:"Setting automatic beam behavior",documentation:"When automatic beaming is enabled, the placement of automatic beams is determined by three context properties: baseMoment, beatStructure, and beamExceptions. The default values of these variables may be overridden as described below, or alternatively the default values themselves may be changed as explained in Time signature.\n\nIf a beamExceptions rule is defined for the time signature in force, that rule alone is used to determine the beam placement; the values of baseMoment and beatStructure are ignored.\n\nIf no beamExceptions rule is defined for the time signature in force, the beam placement is determined by the values of baseMoment and beatStructure."},{label:"\\tiny",detail:"Selecting notation font size",documentation:"The font size of notation elements may be altered. It does not change the size of variable symbols, such as beams or slurs.\n\nNote: For font sizes of text, see Selecting font and font size.\n\n\n\n    \\huge\n    c4.-> d8---3\n    \\large\n    c4.-> d8---3\n    \\normalsize\n    c4.-> d8---3\n    \\small\n    c4.-> d8---3\n    \\tiny\n    c4.-> d8---3\n    \\teeny\n    c4.-> d8---3\n\nInternally, this sets the fontSize property. This in turn causes the font-size property to be set in all layout objects. The value of font-size is a number indicating the size relative to the standard size for the current staff height. Each step up is an increase of approximately 12% of the font size. Six steps is exactly a factor of two. The Scheme function magstep converts a font-size number to a scaling factor. The font-size property can also be set directly, so that only certain layout objects are affected.\n\n    \\set fontSize = #3\n    c4.-> d8---3\n    \\override NoteHead.font-size = #-4\n    c4.-> d8---3\n    \\override Script.font-size = #2\n    c4.-> d8---3\n    \\override Stem.font-size = #-5\n    c4.-> d8---3"},{label:"\\tiny",detail:"Selecting font and font size",documentation:"\\teeny, \\tiny, \\small, \\normalsize, \\large, \\huge, \\smaller, \\larger."},{label:"\\tiny",detail:"A.10.1 Font",documentation:"Set font size to -2.\n\n    \\markup {\n      default\n      \\hspace #2\n      \\tiny\n      tiny\n    }"},{label:"\\tocItem",detail:"Predefined commands",documentation:""},{label:"\\translate",detail:"Text alignment",documentation:'Some commands can affect both the horizontal and vertical alignment of text objects in markup mode. Any object affected by these commands must be preceded with an anchor point:\n\n    d2^\\markup {\n      Acte I\n      \\translate #\'(-1 . 2) "Sc\xe8ne 1"\n    }\n    a\'\n    g_\\markup {\n      \\null\n      \\general-align #Y #3.2 \\bold "Tr\xe8s mod\xe9r\xe9"\n    }\n    a\n    d,^\\markup {\n      \\null\n      \\translate-scaled #\'(-1 . 2) \\teeny "Une for\xeat."\n    }\n    a\'4 a g2 a'},{label:"\\translate",detail:"A.10.2 Align",documentation:"Translate arg relative to its surroundings. offset is a pair of numbers representing the displacement in the X and Y axis.\n\n    \\markup {\n      *\n      \\translate #'(2 . 3)\n      \\line { translated two spaces right, three up }\n    }"},{label:"\\translate-scaled",detail:"Text alignment",documentation:'Some commands can affect both the horizontal and vertical alignment of text objects in markup mode. Any object affected by these commands must be preceded with an anchor point:\n\n    d2^\\markup {\n      Acte I\n      \\translate #\'(-1 . 2) "Sc\xe8ne 1"\n    }\n    a\'\n    g_\\markup {\n      \\null\n      \\general-align #Y #3.2 \\bold "Tr\xe8s mod\xe9r\xe9"\n    }\n    a\n    d,^\\markup {\n      \\null\n      \\translate-scaled #\'(-1 . 2) \\teeny "Une for\xeat."\n    }\n    a\'4 a g2 a'},{label:"\\translate-scaled",detail:"A.10.2 Align",documentation:"Translate arg by offset, scaling the offset by the font-size.\n\n    \\markup {\n      \\fontsize #5 {\n        * \\translate #'(2 . 3) translate\n        \\hspace #2\n        * \\translate-scaled #'(2 . 3) translate-scaled\n      }\n    }\n\nUsed properties:\n\n - font-size (0)"},{label:"\\transparent",detail:"A.10.7 Other",documentation:"Make arg transparent.\n\n    \\markup {\n      \\transparent {\n        invisible text\n      }\n    }"},{label:"\\transpose",detail:"Transpose",documentation:"A music expression can be transposed with \\transpose. The syntax is\n\n    \\transpose frompitch topitch musicexpr\n\nThis means that musicexpr is transposed by the interval between the pitches frompitch and topitch: any note with pitch frompitch is changed to topitch and any other note is transposed by the same interval. Both pitches are entered in absolute mode.\n\nNote: Music inside a \\transpose block is absolute unless a \\relative is included in the block.\n\n\n\nConsider a piece written in the key of D-major. It can be transposed up to E-major; note that the key signature is automatically transposed as well.\n\n    \\transpose d e {\n      \\relative c' {\n        \\key d \\major\n        d4 fis a d\n      }\n    }"},{label:"\\transposedCueDuring",detail:"Formatting cue notes",documentation:'Like \\quoteDuring, \\cueDuring takes instrument transpositions into account. Cue notes are produced at the pitches that would be written for the instrument receiving the cue to produce the sounding pitches of the source instrument.\n\nTo transpose cue notes differently, use \\transposedCueDuring. This command takes an extra argument to specify (in absolute mode) the printed pitch that you want to represent the sound of a concert middle C. This is useful for taking cues from an instrument in a completely different register.\n\n    piccoloNotes = \\relative c\'\'\' {\n      \\clef "treble^8"\n      R1\n      c8 c c e g2\n      c4 g g2\n    }\n    bassClarinetNotes = \\relative c\' {\n      \\key d \\major\n      \\transposition bes,\n      d4 r a r\n      \\transposedCueDuring #"piccolo" #UP d { R1 }\n      d4 r a r\n    }\n    \\addQuote "piccolo" { \\piccoloNotes }\n    <<\n      \\new Staff \\piccoloNotes\n      \\new Staff \\bassClarinetNotes\n    >>'},{label:"\\transposition",detail:"Instrument transpositions",documentation:'When typesetting scores that involve transposing instruments, some parts can be typeset in a different pitch than the concert pitch. In these cases, the key of the transposing instrument should be specified; otherwise the MIDI output and cues in other parts will produce incorrect pitches. For more information about quotations, see Quoting other voices.\n\n    \\transposition pitch\n\nThe pitch to use for \\transposition should correspond to the real sound heard when a\xa0c\' written on the staff is played by the transposing instrument. This pitch is entered in absolute mode, so an instrument that produces a real sound which is one tone higher than the printed music should use \\transposition d\'. \\transposition should only be used if the pitches are not being entered in concert pitch.\n\nHere are a few notes for violin and B-flat clarinet where the parts have been entered using the notes and key as they appear in each part of the conductor\u2019s score. The two instruments are playing in unison.\n\n    \\new GrandStaff <<\n      \\new Staff = "violin" {\n        \\relative c\'\' {\n          \\set Staff.instrumentName = #"Vln"\n          \\set Staff.midiInstrument = #"violin"\n          % not strictly necessary, but a good reminder\n          \\transposition c\'\n          \\key c \\major\n          g4( c8) r c r c4\n        }\n      }\n      \\new Staff = "clarinet" {\n        \\relative c\'\' {\n          \\set Staff.instrumentName = \\markup { Cl (B\\flat) }\n          \\set Staff.midiInstrument = #"clarinet"\n          \\transposition bes\n          \\key d \\major\n          a4( d8) r d r d4\n        }\n      }\n    >>\n\nThe \\transposition may be changed during a piece. For example, a clarinetist may be required to switch from an A clarinet to a B-flat clarinet.\n\n    flute = \\relative c\'\' {\n      \\key f \\major\n      \\cueDuring #"clarinet" #DOWN {\n        R1 _\\markup\\tiny "clarinet"\n        c4 f e d\n        R1 _\\markup\\tiny "clarinet"\n      }\n    }\n    clarinet = \\relative c\'\' {\n      \\key aes \\major\n      \\transposition a\n      aes4 bes c des\n      R1^\\markup { muta in B\\flat }\n      \\key g \\major\n      \\transposition bes\n      d2 g,\n    }\n    \\addQuote "clarinet" \\clarinet\n    <<\n      \\new Staff \\with { instrumentName = #"Flute" }\n        \\flute\n      \\new Staff \\with { instrumentName = #"Cl (A)" }\n        \\clarinet\n    >>'},{label:"\\transposition",detail:"Quoting other voices",documentation:'It is very common for one voice to use the same notes as those from another voice. For example, first and second violins playing the same phrase during a particular passage of the music. This is done by letting one voice quote the other, without having to re-enter the music all over again for the second voice.\n\nThe \\addQuote command, used in the top level scope, defines a stream of music from which fragments can be quoted.\n\nThe \\quoteDuring command is used to indicate the point where the quotation begins. It is followed by two arguments: the name of the quoted voice, as defined with \\addQuote, and a music expression for the duration of the quote.\n\n    fluteNotes = \\relative c\'\' {\n      a4 gis g gis | b4^"quoted" r8 ais\\p a4( f)\n    }\n    oboeNotes = \\relative c\'\' {\n      c4 cis c b \\quoteDuring #"flute" { s1 }\n    }\n    \\addQuote "flute" { \\fluteNotes }\n    \\score {\n      <<\n        \\new Staff \\with { instrumentName = "Flute" } \\fluteNotes\n        \\new Staff \\with { instrumentName = "Oboe" } \\oboeNotes\n      >>\n    }\n\nIf the music expression used in \\quoteDuring contains notes instead of spacer or multimeasure rests then the quote will appear as polyphony and may produce unexpected results.\n\n    fluteNotes = \\relative c\'\' {\n      a4 gis g gis | b4^"quoted" r8 ais\\p a4( f)\n    }\n    oboeNotes = \\relative c\'\' {\n      c4 cis c b \\quoteDuring #"flute" { e4 r8 ais b4 a }\n    }\n    \\addQuote "flute" { \\fluteNotes }\n    \\score {\n      <<\n        \\new Staff \\with { instrumentName = "Flute" } \\fluteNotes\n        \\new Staff \\with { instrumentName = "Oboe" } \\oboeNotes\n      >>\n    }\n\nThe \\quoteDuring command uses the \\transposition settings of both quoted and quoting parts to produce notes for the quoting part that have the same sounding pitch as those in the quoted part.\n\n    clarinetNotes = \\relative c\'\' {\n      \\transposition bes\n      \\key d \\major\n      b4 ais a ais | cis4^"quoted" r8 bis\\p b4( f)\n    }\n    oboeNotes = \\relative c\'\' {\n      c4 cis c b \\quoteDuring #"clarinet" { s1 }\n    }\n    \\addQuote "clarinet" { \\clarinetNotes }\n    \\score {\n      <<\n        \\new Staff \\with { instrumentName = "Clarinet" } \\clarinetNotes\n        \\new Staff \\with { instrumentName = "Oboe" } \\oboeNotes\n      >>\n    }'},{label:"\\treCorde",detail:"Piano pedals",documentation:"Pianos generally have three pedals that alter the way sound is produced: sustain, sostenuto (sos.), and una corda (U.C.). Sustain pedals are also found on vibraphones and celestas.\n\n    c4\\sustainOn d e g\n    <c, f a>1\\sustainOff\n    c4\\sostenutoOn e g c,\n    <bes d f>1\\sostenutoOff\n    c4\\unaCorda d e g\n    <d fis a>1\\treCorde"},{label:"\\triangle",detail:"Graphic notation inside markup",documentation:"Other graphic elements or symbols may be printed without requiring any text. As with any markup expression, such objects can be combined.\n\n    \\markup {\n      \\combine\n        \\draw-circle #4 #0.4 ##f\n        \\filled-box #'(-4 . 4) #'(-0.5 . 0.5) #1\n      \\hspace #5\n      \\center-column {\n        \\triangle ##t\n        \\combine\n          \\draw-line #'(0 . 4)\n          \\arrow-head #Y #DOWN ##f\n      }\n    }"},{label:"\\triangle",detail:"A.10.3 Graphic",documentation:"A triangle, either filled or empty.\n\n    \\markup {\n      \\triangle ##t\n      \\hspace #2\n      \\triangle ##f\n    }\n\nUsed properties:\n\n - baseline-skip (2)\n - font-size (0)\n - thickness (0.1)"},{label:"\\trill",detail:"Articulations and ornamentations",documentation:"A variety of symbols that denote articulations, ornamentations, and other performance indications can be attached to a note using this syntax:\n\n    note\\name\n\nThe possible values for name are listed in List of articulations. For example:\n\n    c4\\staccato c\\mordent b2\\turn\n    c1\\fermata"},{label:"\\trill",detail:"Trills",documentation:"Short trills without an extender line are printed with \\trill; see Articulations and ornamentations.\n\nLonger trills with an extender line are made with \\startTrillSpan and \\stopTrillSpan:\n\n    d1\\startTrillSpan\n    d1\n    c2\\stopTrillSpan\n    r2\n\nA trill spanner crossing a line break will restart exactly above the first note on the new line.\n\n    d1\\startTrillSpan\n    \\break\n    d1\n    c2\\stopTrillSpan\n    r2\n\nConsecutive trill spans will work without explicit \\stopTrillSpan commands, since successive trill spanners will automatically become the right bound of the previous trill.\n\n    d1\\startTrillSpan\n    d1\n    b1\\startTrillSpan\n    d2\\stopTrillSpan\n    r2\n\nTrills can also be combined with grace notes. The syntax of this construct and the method to precisely position the grace notes are described in Grace notes.\n\n    d1~\\afterGrace\n    d1\\startTrillSpan { c32[ d]\\stopTrillSpan }\n    c2 r2"},{label:"\\tuplet",detail:"Tuplets",documentation:"Tuplets are made from a music expression with the \\tuplet command, multiplying the speed of the music expression by a fraction:\n\n    \\tuplet fraction { music }\n\nThe fraction\u2019s numerator will be printed over or under the notes, optionally with a bracket. The most common tuplets are triplets: 3\xa0notes sound within the duration normally allowed for\xa02:\n\n    a2 \\tuplet 3/2 { b4 b b }\n    c4 c \\tuplet 3/2 { b4 a g }"},{label:"\\tuplet",detail:"Polymetric notation",documentation:"Polymetric notation is supported explicitly or by manually modifying the visible time signature symbol and/or scaling note durations."},{label:"\\tupletDown",detail:"Tuplets",documentation:"Tuplet brackets may be manually placed above or below the staff; see Direction and placement.\n\nTuplets may be nested:\n\n    \\autoBeamOff\n    c4 \\tuplet 5/4 { f8 e f \\tuplet 3/2 { e[ f g] } } f4\n\nModifying nested tuplets which begin at the same musical moment must be done with \\tweak.\n\nTo modify the duration of notes without printing a tuplet bracket, see Scaling durations."},{label:"\\tupletNeutral",detail:"Tuplets",documentation:"Tuplet brackets may be manually placed above or below the staff; see Direction and placement.\n\nTuplets may be nested:\n\n    \\autoBeamOff\n    c4 \\tuplet 5/4 { f8 e f \\tuplet 3/2 { e[ f g] } } f4\n\nModifying nested tuplets which begin at the same musical moment must be done with \\tweak.\n\nTo modify the duration of notes without printing a tuplet bracket, see Scaling durations."},{label:"\\tupletUp",detail:"Tuplets",documentation:"Tuplet brackets may be manually placed above or below the staff; see Direction and placement.\n\nTuplets may be nested:\n\n    \\autoBeamOff\n    c4 \\tuplet 5/4 { f8 e f \\tuplet 3/2 { e[ f g] } } f4\n\nModifying nested tuplets which begin at the same musical moment must be done with \\tweak.\n\nTo modify the duration of notes without printing a tuplet bracket, see Scaling durations."},{label:"\\turn",detail:"Articulations and ornamentations",documentation:"A variety of symbols that denote articulations, ornamentations, and other performance indications can be attached to a note using this syntax:\n\n    note\\name\n\nThe possible values for name are listed in List of articulations. For example:\n\n    c4\\staccato c\\mordent b2\\turn\n    c1\\fermata"},{label:"\\tweak",detail:"5.3.4 The \\tweak command",documentation:"Changing grob properties with \\override causes the changes to apply to all of the given grobs in the context at the moment the change applies. Sometimes, however, it is desirable to have changes apply to just one grob, rather than to all grobs in the affected context. This is accomplished with the \\tweak command, which has the following syntax:\n\n    \\tweak [layout-object.]grob-property value\n\nSpecifying layout-object is optional. The \\tweak command applies to the music object that immediately follows value in the music stream.\n\nFor an introduction to the syntax and uses of the tweak command see Tweaking methods.\n\nWhen several similar items are placed at the same musical moment, the \\override command cannot be used to modify just one of them \u2013 this is where the \\tweak command must be used. Items which may appear more than once at the same musical moment include the following:\n\n - note heads of notes inside a chord\n - articulation signs on a single note\n - ties between notes in a chord\n - tuplet brackets starting at the same time"},{label:"\\tweak",detail:"5.3.5 \\set vs. \\override",documentation:"The special commands \\tweak and \\overrideProperty change grob properties bypassing context properties completely. Instead they catch grobs as they are being created and then directly set properties on them when they originate from a tweaked music event or are of a particular kind, respectively."},{label:"\\type",detail:"5.1.6 Defining new contexts",documentation:'Specific contexts, like Staff and Voice, are made from simple building blocks. It is possible to create new types of contexts with different combinations of engraver plug-ins.\n\nThe next example shows how to build a different type of Voice context from scratch. It will be similar to Voice, but only prints centered slash note heads. It can be used to indicate improvisation in jazz pieces,\n\nThese settings are defined within a \\context block inside a \\layout block,\n\n    \\layout {\n      \\context {\n        \u2026\n      }\n    }\n\nIn the following discussion, the example input shown should go in place of the \u2026 in the previous fragment.\n\nFirst it is necessary to define a name for the new context:\n\n    \\name ImproVoice\n\nSince it is similar to the Voice context, we want commands that work in (existing) Voice contexts to continue working. This is achieved by giving the new context an alias of Voice,\n\n    \\alias Voice\n\nThe context will print notes and instructive texts, so we need to add the engravers which provide this functionality, plus the engraver which groups notes, stems and rests which occur at the same musical moment into columns,\n\n    \\consists "Note_heads_engraver"\n    \\consists "Text_engraver"\n    \\consists "Rhythmic_column_engraver"\n\nThe note heads should all be placed on the center line,\n\n    \\consists "Pitch_squash_engraver"\n    squashedPosition = #0\n\nThe Pitch_squash_engraver modifies note heads (created by the Note_heads_engraver) and sets their vertical position to the value of squashedPosition, in this case\xa00, the center line.\n\nThe notes look like a slash, and have no stem,\n\n    \\override NoteHead.style = #\'slash\n    \\hide Stem\n\nAll these plug-ins have to communicate under the control of the context. The mechanisms with which contexts communicate are established by declaring the context \\type. Within a \\layout block, most contexts will be of type Engraver_group. Some special contexts and contexts in \\midi blocks use other context types. Copying and modifying an existing context definition will also fill in the type. Since this example creates a definition from scratch, it needs to be specified explicitly.\n\n    \\type "Engraver_group"\n\nPut together, we get\n\n    \\context {\n      \\name ImproVoice\n      \\type "Engraver_group"\n      \\consists "Note_heads_engraver"\n      \\consists "Text_engraver"\n      \\consists "Rhythmic_column_engraver"\n      \\consists "Pitch_squash_engraver"\n      squashedPosition = #0\n      \\override NoteHead.style = #\'slash\n      \\hide Stem\n      \\alias Voice\n    }'},{label:"\\typewriter",detail:"A.10.1 Font",documentation:"Use font-family typewriter for arg.\n\n    \\markup {\n      default\n      \\hspace #2\n      \\typewriter\n      typewriter\n    }"},{label:"\\unaCorda",detail:"Piano pedals",documentation:"Pianos generally have three pedals that alter the way sound is produced: sustain, sostenuto (sos.), and una corda (U.C.). Sustain pedals are also found on vibraphones and celestas.\n\n    c4\\sustainOn d e g\n    <c, f a>1\\sustainOff\n    c4\\sostenutoOn e g c,\n    <bes d f>1\\sostenutoOff\n    c4\\unaCorda d e g\n    <d fis a>1\\treCorde"},{label:"\\underline",detail:"Selecting font and font size",documentation:"Basic font switching is supported in markup mode:\n\n    d1^\\markup {\n      \\bold { Pi\xf9 mosso }\n      \\italic { non troppo \\underline Vivo }\n    }\n    r2 r4 r8\n    d,_\\markup { \\italic quasi \\smallCaps Tromba }\n    f1 d2 r"},{label:"\\underline",detail:"A.10.1 Font",documentation:'Underline arg. Looks at thickness to determine line thickness, and offset to determine line y-offset.\n\n    \\markup \\fill-line {\n      \\underline "underlined"\n      \\override #\'(offset . 5)\n      \\override #\'(thickness . 1)\n      \\underline "underlined"\n      \\override #\'(offset . 1)\n      \\override #\'(thickness . 5)\n      \\underline "underlined"\n    }\n\nUsed properties:\n\n - offset (2)\n - thickness (1)'},{label:"\\unfoldRepeats",detail:"3.5.4 Repeats in MIDI",documentation:"With a few minor additions, all types of repeats can be represented in the MIDI output. This is achieved by applying the \\unfoldRepeats music function. This function changes all repeats to unfold repeats.\n\n    \\unfoldRepeats {\n      \\repeat tremolo 8 { c'32 e' }\n      \\repeat percent 2 { c''8 d'' }\n      \\repeat volta 2 { c'4 d' e' f' }\n      \\alternative {\n        { g' a' a' g' }\n        { f' e' d' c' }\n      }\n    }\n    \\bar \"|.\"\n\nIn scores containing multiple voices, unfolding of repeats in MIDI output will only occur correctly if each voice contains fully notated repeat indications.\n\nWhen creating a score file using \\unfoldRepeats for MIDI, it is necessary to make two \\score blocks: one for MIDI (with unfolded repeats) and one for notation (with volta, tremolo, and percent repeats). For example,\n\n    \\score {\n      \u2026music\u2026\n      \\layout { \u2026 }\n    }\n    \\score {\n      \\unfoldRepeats \u2026music\u2026\n      \\midi { \u2026 }\n    }"},{label:"\\unHideNotes",detail:"Hidden notes",documentation:"Hidden (or invisible or transparent) notes can be useful in preparing theory or composition exercises.\n\n    c4 d\n    \\hideNotes\n    e4 f\n    \\unHideNotes\n    g a\n    \\hideNotes\n    b\n    \\unHideNotes\n    c\n\nNote heads, stems, and flags, and rests are invisible. Beams are invisible if they start on a hidden note. Objects that are attached to invisible notes are still visible.\n\n    e8(\\p f g a)--\n    \\hideNotes\n    e8(\\p f g a)--"},{label:"\\unset",detail:"5.3.2 The \\set command",documentation:"The \\unset command:\n\n    \\unset context.property\n\nis used to remove the definition of property from context. This command removes the definition only if it is set in context. Properties that have been set in enclosing contexts will not be altered by an unset in an enclosed context:\n\n    \\set Score.autoBeaming = ##t\n    <<\n      {\n        \\unset autoBeaming\n        e8 e e e\n        \\unset Score.autoBeaming\n        e8 e e e\n      } \\\\ {\n        c8 c c c c8 c c c\n      }\n    >>\n\nLike \\set, the context argument does not have to be specified for a bottom context, so the two statements\n\n    \\set Voice.autoBeaming = ##t\n    \\set autoBeaming = ##t\n\nare equivalent if the current bottom context is Voice."},{label:"\\upbow",detail:"Articulations and ornamentations",documentation:"A variety of symbols that denote articulations, ornamentations, and other performance indications can be attached to a note using this syntax:\n\n    note\\name\n\nThe possible values for name are listed in List of articulations. For example:\n\n    c4\\staccato c\\mordent b2\\turn\n    c1\\fermata"},{label:"\\upbow",detail:"Bowing indications",documentation:'Bowing indications are created as articulations, which are described in Articulations and ornamentations.\n\nThe bowing commands, \\upbow and \\downbow, are used with slurs as follows:\n\n    c4(\\downbow d) e(\\upbow f)\n\nand the following example shows three ways in which an open A string on a violin might be indicated:\n\n    a4 \\open\n    a^\\markup { \\teeny "II" }\n    a2^\\markup { \\small "sul A" }'},{label:"\\upmordent",detail:"Articulations and ornamentations",documentation:"A variety of symbols that denote articulations, ornamentations, and other performance indications can be attached to a note using this syntax:\n\n    note\\name\n\nThe possible values for name are listed in List of articulations. For example:\n\n    c4\\staccato c\\mordent b2\\turn\n    c1\\fermata"},{label:"\\upprall",detail:"Articulations and ornamentations",documentation:"A variety of symbols that denote articulations, ornamentations, and other performance indications can be attached to a note using this syntax:\n\n    note\\name\n\nThe possible values for name are listed in List of articulations. For example:\n\n    c4\\staccato c\\mordent b2\\turn\n    c1\\fermata"},{label:"\\upright",detail:"A.10.1 Font",documentation:"Set font-shape to upright. This is the opposite of italic.\n\n    \\markup {\n      \\italic {\n        italic text\n        \\hspace #2\n        \\upright {\n          upright text\n        }\n        \\hspace #2\n        italic again\n      }\n    }"},{label:"\\varcoda",detail:"Articulations and ornamentations",documentation:"A variety of symbols that denote articulations, ornamentations, and other performance indications can be attached to a note using this syntax:\n\n    note\\name\n\nThe possible values for name are listed in List of articulations. For example:\n\n    c4\\staccato c\\mordent b2\\turn\n    c1\\fermata"},{label:"\\vcenter",detail:"A.10.2 Align",documentation:"Align arg to its Y\xa0center.\n\n    \\markup {\n      one\n      \\vcenter\n      two\n      three\n    }"},{label:"\\verbatim-file",detail:"A.10.7 Other",documentation:'Read the contents of file name, and include it verbatim.\n\n    \\markup {\n      \\verbatim-file #"simple.ly"\n    }'},{label:"\\verylongfermata",detail:"Articulations and ornamentations",documentation:"A variety of symbols that denote articulations, ornamentations, and other performance indications can be attached to a note using this syntax:\n\n    note\\name\n\nThe possible values for name are listed in List of articulations. For example:\n\n    c4\\staccato c\\mordent b2\\turn\n    c1\\fermata"},{label:"\\virga",detail:"Gregorian square neume ligatures",documentation:""},{label:"\\virga",detail:"Predefined commands",documentation:""},{label:"\\virgula",detail:"Predefined commands",documentation:"\\virgula, \\caesura, \\divisioMinima, \\divisioMaior, \\divisioMaxima, \\finalis."},{label:"\\voiceFourStyle",detail:"Voice styles",documentation:"Voices may be given distinct colors and shapes, allowing them to be easily identified:\n\n    <<\n      { \\voiceOneStyle d4 c2 b4 }\n      \\\\\n      { \\voiceTwoStyle e,2 e }\n      \\\\\n      { \\voiceThreeStyle b2. c4 }\n      \\\\\n      { \\voiceFourStyle g'2 g }\n    >>\n\nThe \\voiceNeutralStyle command is used to revert to the standard presentation."},{label:"\\voiceNeutralStyle",detail:"Voice styles",documentation:"Voices may be given distinct colors and shapes, allowing them to be easily identified:\n\n    <<\n      { \\voiceOneStyle d4 c2 b4 }\n      \\\\\n      { \\voiceTwoStyle e,2 e }\n      \\\\\n      { \\voiceThreeStyle b2. c4 }\n      \\\\\n      { \\voiceFourStyle g'2 g }\n    >>\n\nThe \\voiceNeutralStyle command is used to revert to the standard presentation."},{label:"\\voiceOne",detail:"Single-staff polyphony",documentation:'The basic structure needed to achieve multiple independent voices in a single staff is illustrated in the following example:\n\n    \\new Staff <<\n      \\new Voice = "first"\n        { \\voiceOne r8 r16 g e8. f16 g8[ c,] f e16 d }\n      \\new Voice= "second"\n        { \\voiceTwo d16 c d8~ d16 b c8~ c16 b c8~ c16 b8. }\n    >>\n\nHere, voices are instantiated explicitly and are given names. The \\voiceOne \u2026 \\voiceFour commands set up the voices so that first and third voices get stems up, second and fourth voices get stems down, third and fourth voice note heads are horizontally shifted, and rests in the respective voices are automatically moved to avoid collisions. The \\oneVoice command returns all the voice settings to the neutral default directions.'},{label:"\\voiceOne ... \\voiceFour",detail:"Single-staff polyphony",documentation:'The basic structure needed to achieve multiple independent voices in a single staff is illustrated in the following example:\n\n    \\new Staff <<\n      \\new Voice = "first"\n        { \\voiceOne r8 r16 g e8. f16 g8[ c,] f e16 d }\n      \\new Voice= "second"\n        { \\voiceTwo d16 c d8~ d16 b c8~ c16 b c8~ c16 b8. }\n    >>\n\nHere, voices are instantiated explicitly and are given names. The \\voiceOne \u2026 \\voiceFour commands set up the voices so that first and third voices get stems up, second and fourth voices get stems down, third and fourth voice note heads are horizontally shifted, and rests in the respective voices are automatically moved to avoid collisions. The \\oneVoice command returns all the voice settings to the neutral default directions.'},{label:"\\voiceOneStyle",detail:"Voice styles",documentation:"Voices may be given distinct colors and shapes, allowing them to be easily identified:\n\n    <<\n      { \\voiceOneStyle d4 c2 b4 }\n      \\\\\n      { \\voiceTwoStyle e,2 e }\n      \\\\\n      { \\voiceThreeStyle b2. c4 }\n      \\\\\n      { \\voiceFourStyle g'2 g }\n    >>\n\nThe \\voiceNeutralStyle command is used to revert to the standard presentation."},{label:"\\voiceThreeStyle",detail:"Voice styles",documentation:"Voices may be given distinct colors and shapes, allowing them to be easily identified:\n\n    <<\n      { \\voiceOneStyle d4 c2 b4 }\n      \\\\\n      { \\voiceTwoStyle e,2 e }\n      \\\\\n      { \\voiceThreeStyle b2. c4 }\n      \\\\\n      { \\voiceFourStyle g'2 g }\n    >>\n\nThe \\voiceNeutralStyle command is used to revert to the standard presentation."},{label:"\\voiceTwoStyle",detail:"Voice styles",documentation:"Voices may be given distinct colors and shapes, allowing them to be easily identified:\n\n    <<\n      { \\voiceOneStyle d4 c2 b4 }\n      \\\\\n      { \\voiceTwoStyle e,2 e }\n      \\\\\n      { \\voiceThreeStyle b2. c4 }\n      \\\\\n      { \\voiceFourStyle g'2 g }\n    >>\n\nThe \\voiceNeutralStyle command is used to revert to the standard presentation."},{label:"\\void",detail:"3.6.1 Displaying LilyPond notation",documentation:"Note that Lilypond does not just display the music expression, but also interprets it (since \\displayLilyMusic returns it in addition to displaying it). This is convenient since you can just insert \\displayLilyMusic into existing music in order to get information about it. If you don\u2019t actually want Lilypond to interpret the displayed music as well as display it, use \\void in order to have it ignored:\n\n    {\n      \\void \\displayLilyMusic \\transpose c a, { c4 e g a bes }\n    }"},{label:"\\vspace",detail:"A.10.2 Align",documentation:"Create an invisible object taking up vertical space of amount multiplied by 3.\n\n    \\markup {\n        \\center-column {\n        one\n        \\vspace #2\n        two\n        \\vspace #5\n        three\n      }\n    }"},{label:"\\walkerHeads",detail:"Shape note heads",documentation:"In shape note head notation, the shape of the note head corresponds to the harmonic function of a note in the scale. This notation was popular in nineteenth-century American song books. Shape note heads can be produced in Sacred Harp, Southern Harmony, Funk (Harmonica Sacra), Walker, and Aiken (Christian Harmony) styles:\n\n    \\aikenHeads\n    c, d e f g2 a b1 c \\break\n    \\sacredHarpHeads\n    c,4 d e f g2 a b1 c \\break\n    \\southernHarmonyHeads\n    c,4 d e f g2 a b1 c \\break\n    \\funkHeads\n    c,4 d e f g2 a b1 c \\break\n    \\walkerHeads\n    c,4 d e f g2 a b1 c \\break"},{label:"\\walkerHeadsMinor",detail:"Shape note heads",documentation:"Shapes are typeset according to the step in the scale, where the base of the scale is determined by the \\key command. When writing in a minor key, the scale step can be determined from the relative major:\n\n    \\key a \\minor\n    \\aikenHeads\n    a b c d e2 f g1 a \\break\n    \\aikenHeadsMinor\n    a,4 b c d e2 f g1 a \\break\n    \\sacredHarpHeadsMinor\n    a,2 b c d \\break\n    \\southernHarmonyHeadsMinor\n    a2 b c d \\break\n    \\funkHeadsMinor\n    a2 b c d \\break\n    \\walkerHeadsMinor\n    a2 b c d \\break"},{label:"\\whiteout",detail:"A.10.7 Other",documentation:"Provide a white background for arg.\n\n    \\markup {\n      \\combine\n        \\filled-box #'(-1 . 10) #'(-3 . 4) #1\n        \\whiteout whiteout\n    }"},{label:"\\with",detail:"5.1.4 Modifying context plug-ins",documentation:'where the \u2026 should be the name of an engraver. Here is a simple example which removes Time_signature_engraver and Clef_engraver from a Staff context,\n\n    <<\n      \\new Staff {\n        f2 g\n      }\n      \\new Staff \\with {\n         \\remove "Time_signature_engraver"\n         \\remove "Clef_engraver"\n      } {\n        f2 g2\n      }\n    >>\n\nIn the second staff there are no time signature or clef symbols. This is a rather crude method of making objects disappear since it will affect the entire staff. This method also influences the spacing, which may or may not be desirable. More sophisticated methods of blanking objects are shown in Visibility and color of objects.\n\nThe next example shows a practical application. Bar lines and time signatures are normally synchronized across the score. This is done by the Timing_translator and Default_bar_line_engraver. This plug-in keeps an administration of time signature, location within the measure, etc. By moving these engraver from Score to Staff context, we can have a score where each staff has its own time signature.'},{label:"\\with",detail:"Changing just one specific context",documentation:"The context properties of just one specific context instance can be changed in a \\with block. All other context instances of the same type retain the default settings built into LilyPond and modified by any \\layout block within scope. The \\with block must be placed immediately after the \\new context-type command:\n\n    \\new Staff \\with { [context settings for this context instance only] }\n    {\n      \u2026\n    }\n\nSince such a \u2018context modification\u2019 is specified inside of music, it will affect all outputs (typesetting and Midi) as opposed to changes within an output definition.\n\nThe following types of settings may be specified:\n\n - An \\override command, but with the context name omitted\n\\score {\n  \\new Staff {\n    \\new Voice \\with { \\override Stem.thickness = #4.0 }\n    {\n      \\relative c'' {\n        a4^\"Thick stems\" a a a\n        a4 a a a\n      }\n    }\n  }\n}\n \n\n\n - Directly setting a context property\n\\score {\n  <<\n    \\new Staff {\n      \\relative c'' {\n        a4^\"Default font\" a a a\n        a4 a a a\n      }\n    }\n    \\new Staff \\with { fontSize = #-4 }\n    {\n      \\relative c'' {\n        a4^\"Smaller font\" a a a\n        a4 a a a\n      }\n    }\n  >>\n}\n \n\n\n - A predefined command such as \\dynamicUp\n\\score {\n  <<\n    \\new Staff {\n      \\new Voice {\n        \\relative c'' {\n          a4^\"Dynamics below\" a a a\n          a4 a a\\ff a\n        }\n      }\n    }\n    \\new Staff \\with { \\accidentalStyle dodecaphonic }\n    {\n      \\new Voice \\with { \\dynamicUp }\n      {\n        \\relative c'' {\n          a4^\"Dynamics above\" a a a\n          a4 a a\\ff a\n        }\n      }\n    }\n  >>\n}\n \n\n"},{label:"\\with-color",detail:"Coloring objects",documentation:'Individual objects may be assigned colors. Valid color names are listed in the List of colors.\n\n    \\override NoteHead.color = #red\n    c4 c\n    \\override NoteHead.color = #(x11-color \'LimeGreen)\n    d\n    \\override Stem.color = #blue\n    e\n\nThe full range of colors defined for X11 can be accessed by using the Scheme function x11-color. The function takes one argument; this can be a symbol in the form \'FooBar or a string in the form "FooBar". The first form is quicker to write and is more efficient. However, using the second form it is possible to access X11 colors by the multi-word form of its name.\n\nIf x11-color cannot make sense of the parameter then the color returned defaults to black.\n\n    \\override Staff.StaffSymbol.color = #(x11-color \'SlateBlue2)\n    \\set Staff.instrumentName = \\markup {\n      \\with-color #(x11-color \'navy) "Clarinet"\n    }\n    gis8 a\n    \\override Beam.color = #(x11-color "medium turquoise")\n    gis a\n    \\override Accidental.color = #(x11-color \'DarkRed)\n    gis a\n    \\override NoteHead.color = #(x11-color "LimeGreen")\n    gis a\n    % this is deliberate nonsense; note that the stems remain black\n    \\override Stem.color = #(x11-color \'Boggle)\n    b2 cis'},{label:"\\with-color",detail:"A.10.7 Other",documentation:"Draw arg in color specified by color.\n\n    \\markup {\n      \\with-color #red\n      red\n      \\hspace #2\n      \\with-color #green\n      green\n      \\hspace #2\n      \\with-color #blue\n      blue\n    }"},{label:"\\with-dimensions",detail:"A.10.7 Other",documentation:"Set the dimensions of arg to x and\xa0y."},{label:"\\with-link",detail:"A.10.7 Other",documentation:"Add a link to the page holding label label around arg. This only works in the PDF backend.\n\n    \\markup {\n      \\with-link #'label {\n        \\italic { This links to the page containing the label... }\n      }\n    }"},{label:"\\with-url",detail:"A.10.3 Graphic",documentation:'Add a link to URL url around arg. This only works in the PDF backend.\n\n    \\markup {\n      \\with-url #"http://lilypond.org/" {\n        LilyPond ... \\italic {\n          music notation for everyone\n        }\n      }\n    }'},{label:"\\woodwind-diagram",detail:"A.10.5 Instrument Specific Markup",documentation:"Make a woodwind-instrument diagram. For example, say\n\n    \\markup \\woodwind-diagram\n      #'oboe #'((lh . (d ees)) (cc . (five3qT1q)) (rh . (gis)))\n\nfor an oboe with the left-hand d key, left-hand ees key, and right-hand gis key depressed while the five-hole of the central column effectuates a trill between 1/4 and 3/4 closed.\n\nThe following instruments are supported:\n\n - - piccolo\n - - flute\n - - oboe\n - - clarinet\n - - bass-clarinet\n - - saxophone\n - - bassoon\n - - contrabassoon\n\nTo see all of the callable keys for a given instrument, include the function (print-keys 'instrument) in your .ly file, where instrument is the instrument whose keys you want to print.\n\nCertain keys allow for special configurations. The entire gamut of configurations possible is as follows:\n\n - - 1q (1/4 covered)\n - - 1h (1/2 covered)\n - - 3q (3/4 covered)\n - - R (ring depressed)\n - - F (fully covered; the default if no state put)\n\nAdditionally, these configurations can be used in trills. So, for example, three3qTR effectuates a trill between 3/4 full and ring depressed on the three hole. As another example, threeRT effectuates a trill between R and open, whereas threeTR effectuates a trill between open and shut. To see all of the possibilities for all of the keys of a given instrument, invoke (print-keys-verbose 'instrument).\n\nLastly, substituting an empty list for the pressed-key alist will result in a diagram with all of the keys drawn but none filled, for example:\n\n    \\markup \\woodwind-diagram #'oboe #'()\n\nUsed properties:\n\n - graphical (#t)\n - thickness (0.1)\n - size (1)"},{label:"\\wordwrap",detail:"Text alignment",documentation:"Long text indications can also be automatically wrapped accordingly to the given line width. These will be either left-aligned or justified, as shown in the following example.\n\n    \\markup {\n      \\column {\n        \\line  \\smallCaps { La vida breve }\n        \\line \\bold { Acto I }\n        \\wordwrap \\italic {\n          (La escena representa el corral de una casa de\n          gitanos en el Albaic\xedn de Granada.  Al fondo una\n          puerta por la que se ve el negro interior de\n          una Fragua, iluminado por los rojos resplandores\n          del fuego.)\n        }\n        \\hspace #0\n        \\line \\bold { Acto II }\n        \\override #'(line-width . 50)\n        \\justify \\italic {\n          (Calle de Granada.  Fachada de la casa de Carmela\n          y su hermano Manuel con grandes ventanas abiertas\n          a trav\xe9s de las que se ve el patio\n          donde se celebra una alegre fiesta)\n        }\n      }\n    }"},{label:"\\wordwrap",detail:"A.10.2 Align",documentation:"Simple wordwrap. Use \\override #'(line-width . X) to set the line width, where X is the number of staff spaces.\n\n    \\markup {\n      \\wordwrap {\n        Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed\n        do eiusmod tempor incididunt ut labore et dolore magna aliqua.\n        Ut enim ad minim veniam, quis nostrud exercitation ullamco\n        laboris nisi ut aliquip ex ea commodo consequat.\n      }\n    }\n\nUsed properties:\n\n - text-direction (1)\n - word-space\n - line-width (#f)\n - baseline-skip"},{label:"\\wordwrap-field",detail:"A.10.2 Align",documentation:'Wordwrap the data which has been assigned to symbol.\n\n    \\header {\n      title = "My title"\n      myText = "Lorem ipsum dolor sit amet, consectetur adipisicing\n        elit, sed do eiusmod tempor incididunt ut labore et dolore\n        magna aliqua.  Ut enim ad minim veniam, quis nostrud\n        exercitation ullamco laboris nisi ut aliquip ex ea commodo\n        consequat."\n    }\n    \\paper {\n      bookTitleMarkup = \\markup {\n        \\column {\n          \\fill-line { \\fromproperty #\'header:title }\n          \\null\n          \\wordwrap-field #\'header:myText\n        }\n      }\n    }\n    \\markup {\n      \\null\n    }'},{label:"\\wordwrap-internal",detail:"A.11 Text markup list commands",documentation:"Internal markup list command used to define \\justify and \\wordwrap.\n\nUsed properties:\n\n - text-direction (1)\n - word-space\n - line-width (#f)"},{label:"\\wordwrap-lines",detail:"Multi-page markup",documentation:"Although standard markup objects are not breakable, a specific syntax makes it possible to enter lines of text that can spread over multiple pages:\n\n    \\markuplist {\n      \\justified-lines {\n        A very long text of justified lines.\n        ...\n      }\n      \\wordwrap-lines {\n        Another very long paragraph.\n        ...\n      }\n      ...\n    }\n\nThis syntax accepts a list of markups, that can be\n\n - the result of a markup list command,\n - a list of markups,\n - a list of markup lists.\n\nAn exhaustive list of markup list commands can be found in Text markup list commands."},{label:"\\wordwrap-lines",detail:"A.11 Text markup list commands",documentation:"Like \\wordwrap, but return a list of lines instead of a single markup. Use \\override-lines #'(line-width . X) to set the line width, where X is the number of staff spaces.\n\nUsed properties:\n\n - text-direction (1)\n - word-space\n - line-width (#f)\n - baseline-skip"},{label:"\\wordwrap-string",detail:"A.10.2 Align",documentation:'Wordwrap a string. Paragraphs may be separated with double newlines.\n\n    \\markup {\n      \\override #\'(line-width . 40)\n      \\wordwrap-string #"Lorem ipsum dolor sit amet, consectetur\n          adipisicing elit, sed do eiusmod tempor incididunt ut labore\n          et dolore magna aliqua.\n          Ut enim ad minim veniam, quis nostrud exercitation ullamco\n          laboris nisi ut aliquip ex ea commodo consequat.\n          Excepteur sint occaecat cupidatat non proident, sunt in culpa\n          qui officia deserunt mollit anim id est laborum"\n    }\n\nUsed properties:\n\n - text-direction (1)\n - word-space\n - line-width\n - baseline-skip'},{label:"\\wordwrap-string-internal",detail:"A.11 Text markup list commands",documentation:"Internal markup list command used to define \\justify-string and \\wordwrap-string.\n\nUsed properties:\n\n - text-direction (1)\n - word-space\n - line-width"},{label:"]",detail:"Manual beams",documentation:"In some cases it may be necessary to override the automatic beaming algorithm. For example, the autobeamer will not put beams over rests or bar lines, and in choral scores the beaming is often set to follow the meter of the lyrics rather than the notes. Such beams can be specified manually by marking the begin and end point with [ and ].\n\n    r4 r8[ g' a r] r g[ | a] r"},{label:"^",detail:"Extended and altered chords",documentation:"Following any steps to be added, a series of steps to be removed is introduced in a modifier string with a prefix of ^. If more than one step is to be removed, the steps to be removed are separated by . following the initial ^.\n\n    \\chordmode {\n      c1^3 c:7^5 c:9^3 c:9^3.5 c:13.11^3.7\n    }"},{label:"_",detail:"Multiple syllables to one note",documentation:"In order to assign more than one syllable to a single note with spaces between the syllables, you can surround the phrase with quotes or use a _ character. Alternatively, you can use the tilde symbol (~) to get a lyric tie.\n\n    {\n      { \\autoBeamOff\n        r8 b c fis, fis c' b e,\n      }\n      \\addlyrics\n      {\n        \\override LyricHyphen.minimum-distance = #1.0 % Ensure hyphens are visible\n        Che_in ques -- ta_e_in quel -- l'al -- tr'on -- da\n      }\n      \\addlyrics { \"Che in\" ques -- \"ta e in\" quel -- l'al -- tr'on -- da }\n      \\addlyrics { Che~in ques -- ta~e~in quel -- l'al -- tr'on -- da }\n    }"},{label:"|",detail:"Bar and bar number checks",documentation:"Bar checks help detect errors in the entered durations. A bar check may be entered using the bar symbol, |, at any place where a bar line is expected to fall. If bar check lines are encountered at other places, a list of warnings is printed in the log file, showing the line numbers and lines in which the bar checks failed. In the next example, the second bar check will signal an error.\n\n    \\time 3/4 c2 e4 | g2 |\n\nBar checks can also be used in lyrics:\n\n    \\lyricmode {\n      \\time 2/4\n      Twin -- kle | Twin -- kle |\n    }\n\nAn incorrect duration can result in a completely garbled score, especially if the score is polyphonic, so a good place to start correcting input is by scanning for failed bar checks and incorrect durations.\n\nIf successive bar checks are off by the same musical interval, only the first warning message is displayed. This allows the warning to focus on the source of the timing error."},{label:"|",detail:"Bar and bar number checks",documentation:"It is also possible to redefine the action taken when a bar check or pipe symbol, |, is encountered in the input, so that it does something other than a bar check. This is done by assigning a music expression to \"|\". In the following example | is set to insert a double bar line wherever it appears in the input, rather than checking for end of bar.\n\n    \"|\" = \\bar \"||\"\n    {\n      c'2 c' |\n      c'2 c'\n      c'2 | c'\n      c'2 c'\n    }"},{label:"~",detail:"Ties",documentation:'A tie connects two adjacent note heads of the same pitch. The tie in effect extends the duration of a note.\n\nNote: Ties should not be confused with slurs, which indicate articulation, or phrasing slurs, which indicate musical phrasing. A tie is just a way of extending a note duration, similar to the augmentation dot.\n\n\n\nA tie is entered by appending a tilde symbol (~) to the first of each pair of notes being tied. This indicates that the note should be tied to the following note, which must be at the same pitch.\n\n    a2~ a4~ a16 r r8\n\nTies are used either when the note crosses a bar line, or when dots cannot be used to denote the rhythm. Ties should also be used when note values cross larger subdivisions of the measure:\n\n    \\relative c\' {\n      r8 c~ c2 r4 |\n      r8^"not" c2~ c8 r4\n    }\n\nIf you need to tie many notes across bar lines, it may be easier to use automatic note splitting, see Automatic note splitting. This mechanism automatically splits long notes, and ties them across bar lines.'},{label:"\\absolute",detail:"Absolute octave entry",documentation:"Music can be marked explicitly as being in absolute octave notation by preceding it with \\absolute:\n\n    \\absolute musicexpr\n\nwill be interpreted in absolute octave entry mode regardless of the context it appears in."},{label:"\\absolute",detail:"A.18 Available music functions",documentation:"Make music absolute. This does not actually change the music itself but rather hides it from surrounding \\relative commands."},{label:"\\accepts",detail:"5.1.6 Defining new contexts",documentation:'Specific contexts, like Staff and Voice, are made from simple building blocks. It is possible to create new types of contexts with different combinations of engraver plug-ins.\n\nThe next example shows how to build a different type of Voice context from scratch. It will be similar to Voice, but only prints centered slash note heads. It can be used to indicate improvisation in jazz pieces,\n\nThese settings are defined within a \\context block inside a \\layout block,\n\n    \\layout {\n      \\context {\n        \u2026\n      }\n    }\n\nIn the following discussion, the example input shown should go in place of the \u2026 in the previous fragment.\n\nFirst it is necessary to define a name for the new context:\n\n    \\name ImproVoice\n\nSince it is similar to the Voice context, we want commands that work in (existing) Voice contexts to continue working. This is achieved by giving the new context an alias of Voice,\n\n    \\alias Voice\n\nThe context will print notes and instructive texts, so we need to add the engravers which provide this functionality, plus the engraver which groups notes, stems and rests which occur at the same musical moment into columns,\n\n    \\consists "Note_heads_engraver"\n    \\consists "Text_engraver"\n    \\consists "Rhythmic_column_engraver"\n\nThe note heads should all be placed on the center line,\n\n    \\consists "Pitch_squash_engraver"\n    squashedPosition = #0\n\nThe Pitch_squash_engraver modifies note heads (created by the Note_heads_engraver) and sets their vertical position to the value of squashedPosition, in this case\xa00, the center line.\n\nThe notes look like a slash, and have no stem,\n\n    \\override NoteHead.style = #\'slash\n    \\hide Stem\n\nAll these plug-ins have to communicate under the control of the context. The mechanisms with which contexts communicate are established by declaring the context \\type. Within a \\layout block, most contexts will be of type Engraver_group. Some special contexts and contexts in \\midi blocks use other context types. Copying and modifying an existing context definition will also fill in the type. Since this example creates a definition from scratch, it needs to be specified explicitly.\n\n    \\type "Engraver_group"\n\nPut together, we get\n\n    \\context {\n      \\name ImproVoice\n      \\type "Engraver_group"\n      \\consists "Note_heads_engraver"\n      \\consists "Text_engraver"\n      \\consists "Rhythmic_column_engraver"\n      \\consists "Pitch_squash_engraver"\n      squashedPosition = #0\n      \\override NoteHead.style = #\'slash\n      \\hide Stem\n      \\alias Voice\n    }'},{label:"\\acciaccatura",detail:"A.18 Available music functions",documentation:"Create an acciaccatura from the following music expression"},{label:"\\accidentalStyle",detail:"A.18 Available music functions",documentation:"Set accidental style to symbol list style in the form \u2018piano-cautionary\u2019. If style has a form like \u2018Staff.piano-cautionary\u2019, the settings are applied to that context. Otherwise, the context defaults to \u2018Staff\u2019, except for piano styles, which use \u2018GrandStaff\u2019 as a context."},{label:"\\addChordShape",detail:"Predefined fret diagrams",documentation:"In addition to fret diagrams, LilyPond stores an internal list of chord shapes. The chord shapes are fret diagrams that can be shifted along the neck to different positions to provide different chords. Chord shapes can be added to the internal list and then used to define predefined fret diagrams. Because they can be moved to various positions on the neck, chord shapes will normally not contain any open strings. Like fret diagrams, chord shapes can be entered as either fret-diagram-terse strings or fret-diagram-verbose marking lists.\n\n    \\include \"predefined-guitar-fretboards.ly\"\n    % Add a new chord shape\n    \\addChordShape #'powerf #guitar-tuning #\"1-1;3-3;3-4;x;x;x;\"\n    % add some new chords based on the power chord shape\n    \\storePredefinedDiagram #default-fret-table\n                            \\chordmode { f'' }\n                            #guitar-tuning\n                            #(chord-shape 'powerf guitar-tuning)\n    \\storePredefinedDiagram #default-fret-table\n                            \\chordmode { g'' }\n                            #guitar-tuning\n                            #(offset-fret 2 (chord-shape 'powerf guitar-tuning))\n    mychords = \\chordmode{\n      f1 f'' g g''\n    }\n    <<\n      \\new ChordNames {\n        \\mychords\n      }\n      \\new FretBoards {\n        \\mychords\n      }\n    >>\n\nThe graphical layout of a fret diagram can be customized according to user preference through the properties of the fret-diagram-interface. Details are found at fret-diagram-interface. For a predefined fret diagram, the interface properties belong to FretBoards.FretBoard."},{label:"\\addChordShape",detail:"A.18 Available music functions",documentation:"Add chord shape shape-definition to the chord-shape-table hash with the key (cons key-symbol tuning)."},{label:"\\addInstrumentDefinition",detail:"Instrument names",documentation:'If an instrument switch is needed, \\addInstrumentDefinition may be used in combination with \\instrumentSwitch to create a detailed list of the necessary changes for the switch. The \\addInstrumentDefinition command has two arguments: an identifying string, and an association list of context properties and values to be used for the instrument. It must be placed in the toplevel scope. \\instrumentSwitch is used in the music expression to declare the instrument switch:\n\n    \\addInstrumentDefinition #"contrabassoon"\n      #`((instrumentTransposition . ,(ly:make-pitch -1 0 0))\n         (shortInstrumentName . "Cbsn.")\n         (clefGlyph . "clefs.F")\n         (middleCPosition . 6)\n         (clefPosition . 2)\n         (instrumentCueName . ,(make-bold-markup "cbsn."))\n         (midiInstrument . "bassoon"))\n    \\new Staff \\with {\n      instrumentName = #"Bassoon"\n    }\n    \\relative c\' {\n      \\clef tenor\n      \\compressFullBarRests\n      c2 g\'\n      R1*16\n      \\instrumentSwitch "contrabassoon"\n      c,,2 g \\break\n      c,1 ~ | c1\n    }'},{label:"\\addInstrumentDefinition",detail:"Formatting cue notes",documentation:'The \\killCues command removes cue notes from a music expression, so the same music expression can be used to produce the instrument part with cues and the score. The \\killCues command removes only the notes and events that were quoted by \\cueDuring. Other markup associated with cues, such as clef changes and a label identifying the source instrument, can be tagged for selective inclusion in the score; see Using tags.\n\n    fluteNotes = \\relative c\'\' {\n      r2. c4 d8 c d e fis2 g2 d2\n    }\n    bassoonNotes = \\relative c {\n      \\clef bass\n      R1\n      \\tag #\'part {\n        \\clef treble\n        \\new CueVoice { \\set instrumentCueName = "flute" }\n      }\n      \\cueDuring #"flute" #UP { R1 }\n      \\tag #\'part \\clef bass\n      g4. b8 d2\n    }\n    \\addQuote "flute" { \\fluteNotes }\n    \\new Staff {\n      \\bassoonNotes\n    }\n    \\new StaffGroup <<\n      \\new Staff {\n        \\fluteNotes\n      }\n      \\new Staff {\n        \\removeWithTag #\'part { \\killCues { \\bassoonNotes } }\n      }\n    >>\n\nAlternatively, Clef changes and instrument labels can be collected into an instrument definition for repeated use, using \\addInstrumentDefinition described in Instrument names.'},{label:"\\addInstrumentDefinition",detail:"A.18 Available music functions",documentation:"Create instrument name with properties list."},{label:"\\additionalPitchPrefix",detail:"Customizing chord names",documentation:""},{label:"\\addQuote",detail:"Quoting other voices",documentation:'It is very common for one voice to use the same notes as those from another voice. For example, first and second violins playing the same phrase during a particular passage of the music. This is done by letting one voice quote the other, without having to re-enter the music all over again for the second voice.\n\nThe \\addQuote command, used in the top level scope, defines a stream of music from which fragments can be quoted.\n\nThe \\quoteDuring command is used to indicate the point where the quotation begins. It is followed by two arguments: the name of the quoted voice, as defined with \\addQuote, and a music expression for the duration of the quote.\n\n    fluteNotes = \\relative c\'\' {\n      a4 gis g gis | b4^"quoted" r8 ais\\p a4( f)\n    }\n    oboeNotes = \\relative c\'\' {\n      c4 cis c b \\quoteDuring #"flute" { s1 }\n    }\n    \\addQuote "flute" { \\fluteNotes }\n    \\score {\n      <<\n        \\new Staff \\with { instrumentName = "Flute" } \\fluteNotes\n        \\new Staff \\with { instrumentName = "Oboe" } \\oboeNotes\n      >>\n    }\n\nIf the music expression used in \\quoteDuring contains notes instead of spacer or multimeasure rests then the quote will appear as polyphony and may produce unexpected results.\n\n    fluteNotes = \\relative c\'\' {\n      a4 gis g gis | b4^"quoted" r8 ais\\p a4( f)\n    }\n    oboeNotes = \\relative c\'\' {\n      c4 cis c b \\quoteDuring #"flute" { e4 r8 ais b4 a }\n    }\n    \\addQuote "flute" { \\fluteNotes }\n    \\score {\n      <<\n        \\new Staff \\with { instrumentName = "Flute" } \\fluteNotes\n        \\new Staff \\with { instrumentName = "Oboe" } \\oboeNotes\n      >>\n    }\n\nThe \\quoteDuring command uses the \\transposition settings of both quoted and quoting parts to produce notes for the quoting part that have the same sounding pitch as those in the quoted part.\n\n    clarinetNotes = \\relative c\'\' {\n      \\transposition bes\n      \\key d \\major\n      b4 ais a ais | cis4^"quoted" r8 bis\\p b4( f)\n    }\n    oboeNotes = \\relative c\'\' {\n      c4 cis c b \\quoteDuring #"clarinet" { s1 }\n    }\n    \\addQuote "clarinet" { \\clarinetNotes }\n    \\score {\n      <<\n        \\new Staff \\with { instrumentName = "Clarinet" } \\clarinetNotes\n        \\new Staff \\with { instrumentName = "Oboe" } \\oboeNotes\n      >>\n    }'},{label:"\\addQuote",detail:"A.18 Available music functions",documentation:"Define music as a quotable music expression named name"},{label:"\\aeolian",detail:"Key signature",documentation:'Here, mode should be \\major or \\minor to get a key signature of pitch-major or pitch-minor, respectively. You may also use the standard mode names, also called church modes: \\ionian, \\dorian, \\phrygian, \\lydian, \\mixolydian, \\aeolian, and \\locrian.\n\n    \\key g \\major\n    fis1\n    f\n    fis\n\nAdditional modes can be defined, by listing the alterations for each scale step when the mode starts on C.\n\n    freygish = #`((0 . ,NATURAL) (1 . ,FLAT) (2 . ,NATURAL)\n        (3 . ,NATURAL) (4 . ,NATURAL) (5 . ,FLAT) (6 . ,FLAT))\n    \\relative c\' {\n      \\key c \\freygish c4 des e f\n      \\bar "||" \\key d \\freygish d es fis g\n    }\n\nAccidentals in the key signature may be printed in octaves other than their traditional positions, or in multiple octaves, by using the flat-positions and sharp-positions properties of KeySignature. Entries in these properties specify the range of staff-positions where accidentals will be printed. If a single position is specified in an entry, the accidentals are placed within the octave ending at that staff position.\n\n    \\override Staff.KeySignature.flat-positions = #\'((-5 . 5))\n    \\override Staff.KeyCancellation.flat-positions = #\'((-5 . 5))\n    \\clef bass \\key es \\major es g bes d\n    \\clef treble \\bar "||" \\key es \\major es g bes d\n    \\override Staff.KeySignature.sharp-positions = #\'(2)\n    \\bar "||" \\key b \\major b fis b2'},{label:"\\afterGrace",detail:"Grace notes",documentation:"If you want to end a note with a grace, use the \\afterGrace command. It takes two arguments: the main note, and the grace notes following the main note.\n\n    c1 \\afterGrace d1 { c16[ d] } c1\n\nThis will put the grace notes after a space lasting 3/4 of the length of the main note. The default fraction 3/4 can be changed by setting afterGraceFraction. The following example shows the results from setting the space at the default, at 15/16, and finally at 1/2 of the main note.\n\n    <<\n      \\new Staff {\n        c1 \\afterGrace d1 { c16[ d] } c1\n      }\n      \\new Staff {\n        #(define afterGraceFraction (cons 15 16))\n        c1 \\afterGrace d1 { c16[ d] } c1\n      }\n      \\new Staff {\n        #(define afterGraceFraction (cons 1 2))\n        c1 \\afterGrace d1 { c16[ d] } c1\n      }\n    >>\n\nThe space between the main note and the grace note may also be specified using spacers. The following example places the grace note after a space lasting 7/8 of the main note.\n\n    \\new Voice {\n      <<\n        { d1^\\trill_( }\n        { s2 s4. \\grace { c16 d } }\n      >>\n      c1)\n    }"},{label:"\\afterGrace",detail:"A.18 Available music functions",documentation:"Create grace note(s) after a main music expression."},{label:"\\aikenHeads",detail:"Shape note heads",documentation:"In shape note head notation, the shape of the note head corresponds to the harmonic function of a note in the scale. This notation was popular in nineteenth-century American song books. Shape note heads can be produced in Sacred Harp, Southern Harmony, Funk (Harmonica Sacra), Walker, and Aiken (Christian Harmony) styles:\n\n    \\aikenHeads\n    c, d e f g2 a b1 c \\break\n    \\sacredHarpHeads\n    c,4 d e f g2 a b1 c \\break\n    \\southernHarmonyHeads\n    c,4 d e f g2 a b1 c \\break\n    \\funkHeads\n    c,4 d e f g2 a b1 c \\break\n    \\walkerHeads\n    c,4 d e f g2 a b1 c \\break"},{label:"\\aikenHeadsMinor",detail:"Shape note heads",documentation:"Shapes are typeset according to the step in the scale, where the base of the scale is determined by the \\key command. When writing in a minor key, the scale step can be determined from the relative major:\n\n    \\key a \\minor\n    \\aikenHeads\n    a b c d e2 f g1 a \\break\n    \\aikenHeadsMinor\n    a,4 b c d e2 f g1 a \\break\n    \\sacredHarpHeadsMinor\n    a,2 b c d \\break\n    \\southernHarmonyHeadsMinor\n    a2 b c d \\break\n    \\funkHeadsMinor\n    a2 b c d \\break\n    \\walkerHeadsMinor\n    a2 b c d \\break"},{label:"\\alias",detail:"5.1.6 Defining new contexts",documentation:'Specific contexts, like Staff and Voice, are made from simple building blocks. It is possible to create new types of contexts with different combinations of engraver plug-ins.\n\nThe next example shows how to build a different type of Voice context from scratch. It will be similar to Voice, but only prints centered slash note heads. It can be used to indicate improvisation in jazz pieces,\n\nThese settings are defined within a \\context block inside a \\layout block,\n\n    \\layout {\n      \\context {\n        \u2026\n      }\n    }\n\nIn the following discussion, the example input shown should go in place of the \u2026 in the previous fragment.\n\nFirst it is necessary to define a name for the new context:\n\n    \\name ImproVoice\n\nSince it is similar to the Voice context, we want commands that work in (existing) Voice contexts to continue working. This is achieved by giving the new context an alias of Voice,\n\n    \\alias Voice\n\nThe context will print notes and instructive texts, so we need to add the engravers which provide this functionality, plus the engraver which groups notes, stems and rests which occur at the same musical moment into columns,\n\n    \\consists "Note_heads_engraver"\n    \\consists "Text_engraver"\n    \\consists "Rhythmic_column_engraver"\n\nThe note heads should all be placed on the center line,\n\n    \\consists "Pitch_squash_engraver"\n    squashedPosition = #0\n\nThe Pitch_squash_engraver modifies note heads (created by the Note_heads_engraver) and sets their vertical position to the value of squashedPosition, in this case\xa00, the center line.\n\nThe notes look like a slash, and have no stem,\n\n    \\override NoteHead.style = #\'slash\n    \\hide Stem\n\nAll these plug-ins have to communicate under the control of the context. The mechanisms with which contexts communicate are established by declaring the context \\type. Within a \\layout block, most contexts will be of type Engraver_group. Some special contexts and contexts in \\midi blocks use other context types. Copying and modifying an existing context definition will also fill in the type. Since this example creates a definition from scratch, it needs to be specified explicitly.\n\n    \\type "Engraver_group"\n\nPut together, we get\n\n    \\context {\n      \\name ImproVoice\n      \\type "Engraver_group"\n      \\consists "Note_heads_engraver"\n      \\consists "Text_engraver"\n      \\consists "Rhythmic_column_engraver"\n      \\consists "Pitch_squash_engraver"\n      squashedPosition = #0\n      \\override NoteHead.style = #\'slash\n      \\hide Stem\n      \\alias Voice\n    }'},{label:"\\alignAboveContext",detail:"5.1.7 Context layout order",documentation:'Sometimes a context is required to exist for just a brief period, a good example being the staff context for an ossia. This is usually achieved by introducing the context definition at the appropriate place in parallel with corresponding section of the main music. By default, the temporary context will be placed below all the existing contexts. To reposition it above the context called \u201cmain\u201d, it should be defined like this:\n\n    \\new Staff \\with { alignAboveContext = #"main" } \n\nA similar situation arises when positioning a temporary lyrics context within a multi-staved layout such as a ChoirStaff, for example, when adding a second verse to a repeated section. By default the temporary lyrics context will be placed beneath the lower staves. By defining the temporary lyrics context with alignBelowContext it can be positioned correctly beneath the (named) lyrics context containing the first verse.\n\nExamples showing this repositioning of temporary contexts can be found elsewhere \u2014 see Nesting music expressions, Modifying single staves and Techniques specific to lyrics.'},{label:"\\alignBelowContext",detail:"Simple repeats",documentation:'However, if this construct is embedded within a multi-staved context such as a ChoirStaff the lyrics of the second and third verses will appear beneath the bottom staff.\n\nTo position them correctly use alignBelowContext:\n\n    \\score {\n      <<\n        \\new Staff {\n          \\new Voice = "melody" {\n            \\relative c\'\' {\n    \t  a4 a a a\n    \t  \\repeat volta 3 { b4 b b b }\n              c4 c c c\n    \t}\n          }\n        }\n        \\new Lyrics = "firstVerse" \\lyricsto "melody" {\n          Not re -- peat -- ed.\n          <<\n            { The first time words.\t}\n    \t\\new Lyrics = "secondVerse"\n            \\with { alignBelowContext = #"firstVerse" } {\n    \t  \\set associatedVoice = "melody"\n    \t  Sec -- ond time words.\n    \t}\n    \t\\new Lyrics = "thirdVerse"\n            \\with { alignBelowContext = #"secondVerse" } {\n    \t  \\set associatedVoice = "melody"\n    \t  The third time words.\n    \t}\n          >>\n          The end sec -- tion.\n        }\n        \\new Voice = "harmony" {\n          \\relative c\' {\n            f4 f f f \\repeat volta 2 { g8 g g4 g2 } a4 a8. a16 a2\n          }\n        }\n      >>\n    }'},{label:"\\alignBelowContext",detail:"5.1.7 Context layout order",documentation:'Sometimes a context is required to exist for just a brief period, a good example being the staff context for an ossia. This is usually achieved by introducing the context definition at the appropriate place in parallel with corresponding section of the main music. By default, the temporary context will be placed below all the existing contexts. To reposition it above the context called \u201cmain\u201d, it should be defined like this:\n\n    \\new Staff \\with { alignAboveContext = #"main" } \n\nA similar situation arises when positioning a temporary lyrics context within a multi-staved layout such as a ChoirStaff, for example, when adding a second verse to a repeated section. By default the temporary lyrics context will be placed beneath the lower staves. By defining the temporary lyrics context with alignBelowContext it can be positioned correctly beneath the (named) lyrics context containing the first verse.\n\nExamples showing this repositioning of temporary contexts can be found elsewhere \u2014 see Nesting music expressions, Modifying single staves and Techniques specific to lyrics.'},{label:"\\allowPageTurn",detail:"A.18 Available music functions",documentation:"Allow a page turn. May be used at toplevel (ie between scores or markups), or inside a score."},{label:"\\allowVoltaHook",detail:"A.18 Available music functions",documentation:"(undocumented; fixme)"},{label:"\\alterBroken",detail:"A.18 Available music functions",documentation:"Override property for pieces of broken spanner item with values arg. item may either be music in the form of a starting spanner event, or a symbol list in the form \u2018Context.Grob\u2019 or just \u2018Grob\u2019. Iff item is in the form of a spanner event, property may also have the form \u2018Grob.property\u2019 for specifying a directed tweak."},{label:"\\annotate-spacing",detail:"4.6.1 Displaying spacing",documentation:"To graphically display the dimensions of vertical layout variables that may be altered for page formatting, set annotate-spacing in the \\paper block:\n\n    \\book {\n      \\score { { c4 } }\n      \\paper { annotate-spacing = ##t }\n    }\n\nAll layout dimensions are displayed in staff-spaces, regardless of the units specified in the \\paper or \\layout block. In the above example, paper-height has a value of 59.75 staff-spaces, and the staff-size is 20 points (the default value). Note that:\n\n1 point\t= (25.4/72.27) mm\n1 staff-space\t= (staff-size)/4 pts\n= (staff-size)/4 * (25.4/72.27) mm\n\n\nIn this case, one staff-space is approximately equal to 1.757mm. Thus the paper-height measurement of 59.75 staff-spaces is equivalent to 105 millimeters, the height of a6 paper in landscape orientation. The pairs (a,b) are intervals, where a is the lower edge and b the upper edge of the interval."},{label:"\\appendToTag",detail:"A.18 Available music functions",documentation:"Append more to the elements of all music expressions in music that are tagged with tag."},{label:"\\applyContext",detail:"A.18 Available music functions",documentation:"Modify context properties with Scheme procedure proc."},{label:"\\applyMusic",detail:"A.18 Available music functions",documentation:"Apply procedure func to music."},{label:"\\applyOutput",detail:"A.18 Available music functions",documentation:"Apply function proc to every layout object in context ctx"},{label:"\\appoggiatura",detail:"A.18 Available music functions",documentation:"Create an appoggiatura from music"},{label:"\\arpeggio",detail:"Arpeggio",documentation:"An arpeggio on a chord (also known as a broken chord) is denoted by appending \\arpeggio to the chord construct:\n\n    <c e g c>1\\arpeggio\n\nDifferent types of arpeggios may be written. \\arpeggioNormal reverts to a normal arpeggio:\n\n    <c e g c>2\\arpeggio\n    \\arpeggioArrowUp\n    <c e g c>2\\arpeggio\n    \\arpeggioArrowDown\n    <c e g c>2\\arpeggio\n    \\arpeggioNormal\n    <c e g c>2\\arpeggio"},{label:"\\arpeggioArrowDown",detail:"Arpeggio",documentation:"An arpeggio on a chord (also known as a broken chord) is denoted by appending \\arpeggio to the chord construct:\n\n    <c e g c>1\\arpeggio\n\nDifferent types of arpeggios may be written. \\arpeggioNormal reverts to a normal arpeggio:\n\n    <c e g c>2\\arpeggio\n    \\arpeggioArrowUp\n    <c e g c>2\\arpeggio\n    \\arpeggioArrowDown\n    <c e g c>2\\arpeggio\n    \\arpeggioNormal\n    <c e g c>2\\arpeggio"},{label:"\\arpeggioArrowUp",detail:"Arpeggio",documentation:"An arpeggio on a chord (also known as a broken chord) is denoted by appending \\arpeggio to the chord construct:\n\n    <c e g c>1\\arpeggio\n\nDifferent types of arpeggios may be written. \\arpeggioNormal reverts to a normal arpeggio:\n\n    <c e g c>2\\arpeggio\n    \\arpeggioArrowUp\n    <c e g c>2\\arpeggio\n    \\arpeggioArrowDown\n    <c e g c>2\\arpeggio\n    \\arpeggioNormal\n    <c e g c>2\\arpeggio"},{label:"\\arpeggioBracket",detail:"Arpeggio",documentation:"Special bracketed arpeggio symbols can be created:\n\n    <c e g c>2\n    \\arpeggioBracket\n    <c e g c>2\\arpeggio\n    \\arpeggioParenthesis\n    <c e g c>2\\arpeggio\n    \\arpeggioParenthesisDashed\n    <c e g c>2\\arpeggio\n    \\arpeggioNormal\n    <c e g c>2\\arpeggio\n\nThe dash properties of the parenthesis arpeggio are controlled with the 'dash-details property, which is described at Slurs.\n\nArpeggios can be explicitly written out with ties. For more information, see Ties."},{label:"\\arpeggioNormal",detail:"Arpeggio",documentation:"An arpeggio on a chord (also known as a broken chord) is denoted by appending \\arpeggio to the chord construct:\n\n    <c e g c>1\\arpeggio\n\nDifferent types of arpeggios may be written. \\arpeggioNormal reverts to a normal arpeggio:\n\n    <c e g c>2\\arpeggio\n    \\arpeggioArrowUp\n    <c e g c>2\\arpeggio\n    \\arpeggioArrowDown\n    <c e g c>2\\arpeggio\n    \\arpeggioNormal\n    <c e g c>2\\arpeggio"},{label:"\\arpeggioParenthesis",detail:"Arpeggio",documentation:"Special bracketed arpeggio symbols can be created:\n\n    <c e g c>2\n    \\arpeggioBracket\n    <c e g c>2\\arpeggio\n    \\arpeggioParenthesis\n    <c e g c>2\\arpeggio\n    \\arpeggioParenthesisDashed\n    <c e g c>2\\arpeggio\n    \\arpeggioNormal\n    <c e g c>2\\arpeggio\n\nThe dash properties of the parenthesis arpeggio are controlled with the 'dash-details property, which is described at Slurs.\n\nArpeggios can be explicitly written out with ties. For more information, see Ties."},{label:"\\arpeggioParenthesisDashed",detail:"Arpeggio",documentation:"Special bracketed arpeggio symbols can be created:\n\n    <c e g c>2\n    \\arpeggioBracket\n    <c e g c>2\\arpeggio\n    \\arpeggioParenthesis\n    <c e g c>2\\arpeggio\n    \\arpeggioParenthesisDashed\n    <c e g c>2\\arpeggio\n    \\arpeggioNormal\n    <c e g c>2\\arpeggio\n\nThe dash properties of the parenthesis arpeggio are controlled with the 'dash-details property, which is described at Slurs.\n\nArpeggios can be explicitly written out with ties. For more information, see Ties."},{label:"\\arrow-head",detail:"Graphic notation inside markup",documentation:"Other graphic elements or symbols may be printed without requiring any text. As with any markup expression, such objects can be combined.\n\n    \\markup {\n      \\combine\n        \\draw-circle #4 #0.4 ##f\n        \\filled-box #'(-4 . 4) #'(-0.5 . 0.5) #1\n      \\hspace #5\n      \\center-column {\n        \\triangle ##t\n        \\combine\n          \\draw-line #'(0 . 4)\n          \\arrow-head #Y #DOWN ##f\n      }\n    }"},{label:"\\assertBeamQuant",detail:"A.18 Available music functions",documentation:"Testing function: check whether the beam quants l and r are correct"},{label:"\\assertBeamSlope",detail:"A.18 Available music functions",documentation:"Testing function: check whether the slope of the beam is the same as comp"},{label:"\\aug",detail:"Common chords",documentation:"The table below shows the actions of the quality modifiers on triads and seventh chords. The default seventh step added to chords is a minor or flatted seventh, which makes the dominant seventh the basic seventh chord. All alterations are relative to the dominant seventh. A more complete table of modifier usage is found at Common chord modifiers.\n\nModifier\tAction\tExample\nNone\tThe default action; produces a major triad.\t\n \n\nm, m7\tThe minor chord. This modifier lowers the 3rd.\t\n \n\ndim, dim7\tThe diminished chord. This modifier lowers the 3rd, 5th and (if present) the 7th step.\t\n \n\naug\tThe augmented chord. This modifier raises the 5th step.\t\n \n\nmaj, maj7\tThe major 7th chord. This modifier adds a raised 7th step. The 7 following maj is optional. Do NOT use this modifier to create a major triad.\t\n \n\n"},{label:"\\auto-first-page-number",detail:"\\paper variables for page numbering",documentation:"The page breaking algorithm is affected by the first page number being odd or even. If set to true, the page breaking algorithm will decide whether to start with an odd or even number. This will result in the first page number remaining as is or being increased by one. Default: #f."},{label:"\\autoBeaming",detail:"Setting automatic beam behavior",documentation:"When automatic beaming is enabled, the placement of automatic beams is determined by three context properties: baseMoment, beatStructure, and beamExceptions. The default values of these variables may be overridden as described below, or alternatively the default values themselves may be changed as explained in Time signature.\n\nIf a beamExceptions rule is defined for the time signature in force, that rule alone is used to determine the beam placement; the values of baseMoment and beatStructure are ignored.\n\nIf no beamExceptions rule is defined for the time signature in force, the beam placement is determined by the values of baseMoment and beatStructure."},{label:"\\autoBeaming",detail:"Output definitions - blueprints for contexts",documentation:"Some settings affect several outputs: for example, if autoBeaming is turned off in some context, beams count as melismata for the purpose of matching music to lyrics as described in Automatic syllable durations. This matching is done both for printed output as well as for Midi. If changes made to autoBeaming within a context definition of a \\layout block are not repeated in the corresponding \\midi block, lyrics and music will get out of sync in Midi."},{label:"\\autoBeamOff",detail:"Automatic beams",documentation:"If these automatic decisions are not satisfactory, beaming can be entered explicitly; see Manual beams. Beams must be entered manually if beams are to be extended over rests.\n\nIf automatic beaming is not required, it may be turned off with \\autoBeamOff and on with \\autoBeamOn:\n\n    c4 c8 c8. c16 c8. c16 c8\n    \\autoBeamOff\n    c4 c8 c8. c16 c8.\n    \\autoBeamOn\n    c16 c8"},{label:"\\autoBeamOn",detail:"Automatic beams",documentation:"If these automatic decisions are not satisfactory, beaming can be entered explicitly; see Manual beams. Beams must be entered manually if beams are to be extended over rests.\n\nIf automatic beaming is not required, it may be turned off with \\autoBeamOff and on with \\autoBeamOn:\n\n    c4 c8 c8. c16 c8. c16 c8\n    \\autoBeamOff\n    c4 c8 c8. c16 c8.\n    \\autoBeamOn\n    c16 c8"},{label:"\\autochange",detail:"Changing staff automatically",documentation:'Voices can be made to switch automatically between the top and the bottom staff. The syntax for this is\n\n    \\autochange \u2026music\u2026\n\nThis will create two staves inside the current staff group (usually a PianoStaff), called "up" and "down". The lower staff will be in the bass clef by default. The autochanger switches on the basis of the pitch (middle\xa0C is the turning point), and it looks ahead skipping over rests to switch in advance.\n\n    \\new PianoStaff {\n      \\autochange {\n        g4 a b c\'\n        d\'4 r a g\n      }\n    }'},{label:"\\autochange",detail:"A.18 Available music functions",documentation:"Make voices that switch between staves automatically"},{label:"\\balloonGrobText",detail:"Balloon help",documentation:"Elements of notation can be marked and named with the help of a square balloon. The primary purpose of this feature is to explain notation.\n\n    \\new Voice \\with { \\consists \"Balloon_engraver\" }\n    {\n      \\balloonGrobText #'Stem #'(3 . 4) \\markup { \"I'm a Stem\" }\n      a8\n      \\balloonGrobText #'Rest #'(-4 . -4) \\markup { \"I'm a rest\" }\n      r\n      <c, g'-\\balloonText #'(-2 . -2) \\markup { \"I'm a note head\" } c>2.\n    }\n\nThere are two music functions, balloonGrobText and balloonText; the former is used like \\once \\override to attach text to any grob, and the latter is used like \\tweak, typically within chords, to attach text to an individual note.\n\nBalloon text does not influence note spacing, but this can be altered:\n\n    \\new Voice \\with { \\consists \"Balloon_engraver\" }\n    {\n      \\balloonGrobText #'Stem #'(3 . 4) \\markup { \"I'm a Stem\" }\n      a8\n      \\balloonGrobText #'Rest #'(-4 . -4) \\markup { \"I'm a rest\" }\n      r\n      \\balloonLengthOn\n      <c, g'-\\balloonText #'(-2 . -2) \\markup { \"I'm a note head\" } c>2.\n    }"},{label:"\\balloonGrobText",detail:"A.18 Available music functions",documentation:"Attach text to grob-name at offset offset (use like \\once)"},{label:"\\balloonLengthOff",detail:"Balloon help",documentation:"Elements of notation can be marked and named with the help of a square balloon. The primary purpose of this feature is to explain notation.\n\n    \\new Voice \\with { \\consists \"Balloon_engraver\" }\n    {\n      \\balloonGrobText #'Stem #'(3 . 4) \\markup { \"I'm a Stem\" }\n      a8\n      \\balloonGrobText #'Rest #'(-4 . -4) \\markup { \"I'm a rest\" }\n      r\n      <c, g'-\\balloonText #'(-2 . -2) \\markup { \"I'm a note head\" } c>2.\n    }\n\nThere are two music functions, balloonGrobText and balloonText; the former is used like \\once \\override to attach text to any grob, and the latter is used like \\tweak, typically within chords, to attach text to an individual note.\n\nBalloon text does not influence note spacing, but this can be altered:\n\n    \\new Voice \\with { \\consists \"Balloon_engraver\" }\n    {\n      \\balloonGrobText #'Stem #'(3 . 4) \\markup { \"I'm a Stem\" }\n      a8\n      \\balloonGrobText #'Rest #'(-4 . -4) \\markup { \"I'm a rest\" }\n      r\n      \\balloonLengthOn\n      <c, g'-\\balloonText #'(-2 . -2) \\markup { \"I'm a note head\" } c>2.\n    }"},{label:"\\balloonLengthOn",detail:"Balloon help",documentation:"Elements of notation can be marked and named with the help of a square balloon. The primary purpose of this feature is to explain notation.\n\n    \\new Voice \\with { \\consists \"Balloon_engraver\" }\n    {\n      \\balloonGrobText #'Stem #'(3 . 4) \\markup { \"I'm a Stem\" }\n      a8\n      \\balloonGrobText #'Rest #'(-4 . -4) \\markup { \"I'm a rest\" }\n      r\n      <c, g'-\\balloonText #'(-2 . -2) \\markup { \"I'm a note head\" } c>2.\n    }\n\nThere are two music functions, balloonGrobText and balloonText; the former is used like \\once \\override to attach text to any grob, and the latter is used like \\tweak, typically within chords, to attach text to an individual note.\n\nBalloon text does not influence note spacing, but this can be altered:\n\n    \\new Voice \\with { \\consists \"Balloon_engraver\" }\n    {\n      \\balloonGrobText #'Stem #'(3 . 4) \\markup { \"I'm a Stem\" }\n      a8\n      \\balloonGrobText #'Rest #'(-4 . -4) \\markup { \"I'm a rest\" }\n      r\n      \\balloonLengthOn\n      <c, g'-\\balloonText #'(-2 . -2) \\markup { \"I'm a note head\" } c>2.\n    }"},{label:"\\balloonText",detail:"Balloon help",documentation:"Elements of notation can be marked and named with the help of a square balloon. The primary purpose of this feature is to explain notation.\n\n    \\new Voice \\with { \\consists \"Balloon_engraver\" }\n    {\n      \\balloonGrobText #'Stem #'(3 . 4) \\markup { \"I'm a Stem\" }\n      a8\n      \\balloonGrobText #'Rest #'(-4 . -4) \\markup { \"I'm a rest\" }\n      r\n      <c, g'-\\balloonText #'(-2 . -2) \\markup { \"I'm a note head\" } c>2.\n    }\n\nThere are two music functions, balloonGrobText and balloonText; the former is used like \\once \\override to attach text to any grob, and the latter is used like \\tweak, typically within chords, to attach text to an individual note.\n\nBalloon text does not influence note spacing, but this can be altered:\n\n    \\new Voice \\with { \\consists \"Balloon_engraver\" }\n    {\n      \\balloonGrobText #'Stem #'(3 . 4) \\markup { \"I'm a Stem\" }\n      a8\n      \\balloonGrobText #'Rest #'(-4 . -4) \\markup { \"I'm a rest\" }\n      r\n      \\balloonLengthOn\n      <c, g'-\\balloonText #'(-2 . -2) \\markup { \"I'm a note head\" } c>2.\n    }"},{label:"\\balloonText",detail:"A.18 Available music functions",documentation:"Attach text at offset (use like \\tweak)"},{label:"Balloon_engraver",detail:"Balloon help",documentation:"Elements of notation can be marked and named with the help of a square balloon. The primary purpose of this feature is to explain notation.\n\n    \\new Voice \\with { \\consists \"Balloon_engraver\" }\n    {\n      \\balloonGrobText #'Stem #'(3 . 4) \\markup { \"I'm a Stem\" }\n      a8\n      \\balloonGrobText #'Rest #'(-4 . -4) \\markup { \"I'm a rest\" }\n      r\n      <c, g'-\\balloonText #'(-2 . -2) \\markup { \"I'm a note head\" } c>2.\n    }\n\nThere are two music functions, balloonGrobText and balloonText; the former is used like \\once \\override to attach text to any grob, and the latter is used like \\tweak, typically within chords, to attach text to an individual note.\n\nBalloon text does not influence note spacing, but this can be altered:\n\n    \\new Voice \\with { \\consists \"Balloon_engraver\" }\n    {\n      \\balloonGrobText #'Stem #'(3 . 4) \\markup { \"I'm a Stem\" }\n      a8\n      \\balloonGrobText #'Rest #'(-4 . -4) \\markup { \"I'm a rest\" }\n      r\n      \\balloonLengthOn\n      <c, g'-\\balloonText #'(-2 . -2) \\markup { \"I'm a note head\" } c>2.\n    }"},{label:"\\banjo-c-tuning",detail:"Banjo tablatures",documentation:"A number of common tunings for the five-string banjo are predefined: banjo-c-tuning (gCGBD), banjo-modal-tuning (gDGCD), banjo-open-d-tuning (aDF#AD) and banjo-open-dm-tuning (aDFAD).\n\nThese may be converted to four-string tunings using the four-string-banjo function:\n\n    \\set TabStaff.stringTunings = #(four-string-banjo banjo-c-tuning)"},{label:"\\banjo-modal-tuning",detail:"Banjo tablatures",documentation:"A number of common tunings for the five-string banjo are predefined: banjo-c-tuning (gCGBD), banjo-modal-tuning (gDGCD), banjo-open-d-tuning (aDF#AD) and banjo-open-dm-tuning (aDFAD).\n\nThese may be converted to four-string tunings using the four-string-banjo function:\n\n    \\set TabStaff.stringTunings = #(four-string-banjo banjo-c-tuning)"},{label:"\\banjo-open-d-tuning",detail:"Banjo tablatures",documentation:"A number of common tunings for the five-string banjo are predefined: banjo-c-tuning (gCGBD), banjo-modal-tuning (gDGCD), banjo-open-d-tuning (aDF#AD) and banjo-open-dm-tuning (aDFAD).\n\nThese may be converted to four-string tunings using the four-string-banjo function:\n\n    \\set TabStaff.stringTunings = #(four-string-banjo banjo-c-tuning)"},{label:"\\banjo-open-dm-tuning",detail:"Banjo tablatures",documentation:"A number of common tunings for the five-string banjo are predefined: banjo-c-tuning (gCGBD), banjo-modal-tuning (gDGCD), banjo-open-d-tuning (aDF#AD) and banjo-open-dm-tuning (aDFAD).\n\nThese may be converted to four-string tunings using the four-string-banjo function:\n\n    \\set TabStaff.stringTunings = #(four-string-banjo banjo-c-tuning)"},{label:"\\bar",detail:"Bar lines",documentation:'Bar lines delimit measures, and are also used to indicate repeats. Normally, simple bar lines are automatically inserted into the printed output at places based on the current time signature.\n\nThe simple bar lines inserted automatically can be changed to other types with the \\bar command. For example, a closing double bar line is usually placed at the end of a piece:\n\n    e4 d c2 \\bar "|."\n\nIt is not invalid if the final note in a measure does not end on the automatically entered bar line: the note is assumed to carry over into the next measure. But if a long sequence of such carry-over measures appears the music can appear compressed or even flowing off the page. This is because automatic line breaks happen only at the end of complete measures, i.e., where all notes end before the end of a measure.\n\nNote: An incorrect duration can cause line breaks to be inhibited, leading to a line of highly compressed music or music which flows off the page.\n\n'},{label:"\\bar",detail:"Bar lines",documentation:'The command \u2018\\bar bartype\u2019 is a shortcut for \u2018\\set Timing.whichBar = bartype\u2019. A bar line is created whenever the whichBar property is set.\n\nThe default bar type used for automatically inserted bar lines is "|". This may be changed at any time with \u2018\\set Timing.defaultBarType = bartype\u2019.'},{label:"\\bar",detail:"A.18 Available music functions",documentation:"Insert a bar line of type type"},{label:"\\barCheckSynchronize",detail:"Bar and bar number checks",documentation:"Bar checks help detect errors in the entered durations. A bar check may be entered using the bar symbol, |, at any place where a bar line is expected to fall. If bar check lines are encountered at other places, a list of warnings is printed in the log file, showing the line numbers and lines in which the bar checks failed. In the next example, the second bar check will signal an error.\n\n    \\time 3/4 c2 e4 | g2 |\n\nBar checks can also be used in lyrics:\n\n    \\lyricmode {\n      \\time 2/4\n      Twin -- kle | Twin -- kle |\n    }\n\nAn incorrect duration can result in a completely garbled score, especially if the score is polyphonic, so a good place to start correcting input is by scanning for failed bar checks and incorrect durations.\n\nIf successive bar checks are off by the same musical interval, only the first warning message is displayed. This allows the warning to focus on the source of the timing error."},{label:"BarNumber",detail:"Bar numbers",documentation:'Bar numbers can be typeset at regular intervals instead of just at the beginning of every line. To do this the default behavior must be overridden to permit bar numbers to be printed at places other than the start of a line. This is controlled by the break-visibility property of BarNumber. This takes three values which may be set to #t or #f to specify whether the corresponding bar number is visible or not. The order of the three values is end of line visible, middle of line visible, beginning of line visible. In the following example bar numbers are printed at all possible places:\n\n    \\override Score.BarNumber.break-visibility = ##(#t #t #t)\n    \\set Score.currentBarNumber = #11\n    % Permit first bar number to be printed\n    \\bar ""\n    c1 | c | c | c\n    \\break\n    c1 | c | c | c'},{label:"\\barNumberCheck",detail:"Bar and bar number checks",documentation:"When copying large pieces of music, it can be helpful to check that the LilyPond bar number corresponds to the original that you are entering from. This can be checked with \\barNumberCheck, for example,\n\n\\barNumberCheck #123\n\n\nwill print a warning if the currentBarNumber is not 123 when it is processed."},{label:"\\barNumberCheck",detail:"A.18 Available music functions",documentation:"Print a warning if the current bar number is not n."},{label:"\\barNumberVisibility",detail:"Bar numbers",documentation:'Bar numbers can be typeset at regular intervals instead of just at the beginning of every line. To do this the default behavior must be overridden to permit bar numbers to be printed at places other than the start of a line. This is controlled by the break-visibility property of BarNumber. This takes three values which may be set to #t or #f to specify whether the corresponding bar number is visible or not. The order of the three values is end of line visible, middle of line visible, beginning of line visible. In the following example bar numbers are printed at all possible places:\n\n    \\override Score.BarNumber.break-visibility = ##(#t #t #t)\n    \\set Score.currentBarNumber = #11\n    % Permit first bar number to be printed\n    \\bar ""\n    c1 | c | c | c\n    \\break\n    c1 | c | c | c'},{label:"\\bartype",detail:"Bar lines",documentation:'The command \u2018\\bar bartype\u2019 is a shortcut for \u2018\\set Timing.whichBar = bartype\u2019. A bar line is created whenever the whichBar property is set.\n\nThe default bar type used for automatically inserted bar lines is "|". This may be changed at any time with \u2018\\set Timing.defaultBarType = bartype\u2019.'},{label:"\\base-shortest-duration",detail:"4.5.1 Horizontal spacing overview",documentation:"Notes that are even shorter than the common shortest note are followed by a space that is proportional to their duration relative to the common shortest note. So if we were to add only a few 16th notes to the example above, they would be followed by half a NHW:\n\n    c2 c4. c8 | c4. c16[ c] c4. c8 | c8 c c4 c c\n\nIn the Essay on automated music engraving, it was explained that stem directions influence spacing (see Optical spacing). This is controlled with the stem-spacing-correction property in the NoteSpacing, object. These are generated for every Voice context. The StaffSpacing object (generated in Staff context) contains the same property for controlling the stem/bar line spacing. The following example shows these corrections, once with default settings, and once with exaggerated corrections:\n\nProportional notation is supported; see Proportional notation."},{label:"\\baseMoment",detail:"Setting automatic beam behavior",documentation:"When automatic beaming is enabled, the placement of automatic beams is determined by three context properties: baseMoment, beatStructure, and beamExceptions. The default values of these variables may be overridden as described below, or alternatively the default values themselves may be changed as explained in Time signature.\n\nIf a beamExceptions rule is defined for the time signature in force, that rule alone is used to determine the beam placement; the values of baseMoment and beatStructure are ignored.\n\nIf no beamExceptions rule is defined for the time signature in force, the beam placement is determined by the values of baseMoment and beatStructure."},{label:"\\beamExceptions",detail:"Setting automatic beam behavior",documentation:"When automatic beaming is enabled, the placement of automatic beams is determined by three context properties: baseMoment, beatStructure, and beamExceptions. The default values of these variables may be overridden as described below, or alternatively the default values themselves may be changed as explained in Time signature.\n\nIf a beamExceptions rule is defined for the time signature in force, that rule alone is used to determine the beam placement; the values of baseMoment and beatStructure are ignored.\n\nIf no beamExceptions rule is defined for the time signature in force, the beam placement is determined by the values of baseMoment and beatStructure."},{label:"\\beatStructure",detail:"Setting automatic beam behavior",documentation:"When automatic beaming is enabled, the placement of automatic beams is determined by three context properties: baseMoment, beatStructure, and beamExceptions. The default values of these variables may be overridden as described below, or alternatively the default values themselves may be changed as explained in Time signature.\n\nIf a beamExceptions rule is defined for the time signature in force, that rule alone is used to determine the beam placement; the values of baseMoment and beatStructure are ignored.\n\nIf no beamExceptions rule is defined for the time signature in force, the beam placement is determined by the values of baseMoment and beatStructure."},{label:"\\bendAfter",detail:"Falls and doits",documentation:"Falls and doits can be added to notes using the \\bendAfter command. The direction of the fall or doit is indicated with a plus or minus (up or down). The number indicates the pitch interval that the fall or doit will extend beyond the main note.\n\n    c2\\bendAfter #+4\n    c2\\bendAfter #-4\n    c2\\bendAfter #+6.5\n    c2\\bendAfter #-6.5\n    c2\\bendAfter #+8\n    c2\\bendAfter #-8"},{label:"\\bendAfter",detail:"A.18 Available music functions",documentation:"Create a fall or doit of pitch interval delta."},{label:"\\binding-offset",detail:"\\paper variables for two-sided mode",documentation:"The amount inner-margin is increased to make sure nothing will be hidden by the binding. If the paper size is modified, this dimension\u2019s default value is scaled accordingly. Works only with two-sided set to true."},{label:"\\blank-after-score-page-penalty",detail:"\\paper variables for page breaking",documentation:"The penalty for having a blank page after the end of one score and before the next. By default, this is smaller than blank-page-penalty, so that blank pages after scores are inserted in preference to blank pages within a score. Default: 2."},{label:"\\blank-last-page-penalty",detail:"\\paper variables for page breaking",documentation:"The penalty for ending the score on an even-numbered page. If blank-last-page-penalty is large and ly:page-turn-breaking is selected, then LilyPond will be less likely to produce a score in which the last page is even-numbered. Instead, it will adjust the spacing in order to use one page more or one page less. Default: 0."},{label:"\\blank-page-penalty",detail:"\\paper variables for page breaking",documentation:"The penalty for having a blank page in the middle of a score. If blank-page-penalty is large and ly:page-turn-breaking is selected, then LilyPond will be less likely to insert a page in the middle of a score. Instead, it will space out the music further to fill the blank page and the following one. Default: 5."},{label:"\\bold",detail:"Selecting font and font size",documentation:"Basic font switching is supported in markup mode:\n\n    d1^\\markup {\n      \\bold { Pi\xf9 mosso }\n      \\italic { non troppo \\underline Vivo }\n    }\n    r2 r4 r8\n    d,_\\markup { \\italic quasi \\smallCaps Tromba }\n    f1 d2 r"},{label:"\\bookOutputName",detail:"A.18 Available music functions",documentation:"Direct output for the current book block to newfilename."},{label:"\\bookOutputSuffix",detail:"A.18 Available music functions",documentation:"Set the output filename suffix for the current book block to newsuffix."},{label:"\\bookTitleMarkup",detail:"Custom layout for titles",documentation:'\\markup commands in the \\header block are useful for simple text formatting, but they do not allow precise control over the placement of titles. To customize the placement of the text fields, change either or both of the following \\paper variables:\n\n - bookTitleMarkup\n - scoreTitleMarkup\n\nThe placement of titles when using the default values of these \\markup variables is shown in the examples in Default layout of bookpart and score titles.\n\nThe default settings for scoreTitleMarkup as defined in \u2018ly/titling-init.ly\u2019 are:\n\n    scoreTitleMarkup = \\markup { \\column {\n      \\on-the-fly \\print-all-headers { \\bookTitleMarkup \\hspace #1 }\n      \\fill-line {\n        \\fromproperty #\'header:piece\n        \\fromproperty #\'header:opus\n      }\n    }\n    }\n\nThis places the piece and opus text fields at opposite ends of the same line:\n\n    \\score {\n      { s1 }\n      \\header {\n        piece = "PRAELUDIUM I"\n        opus = "BWV 846"\n      }\n    }\n\nThis example redefines scoreTitleMarkup so that the piece text field is centered and in a large, bold font.\n\n    \\book {\n      \\paper {\n        indent = 0\\mm\n        scoreTitleMarkup = \\markup {\n          \\fill-line {\n            \\null\n            \\fontsize #4 \\bold \\fromproperty #\'header:piece\n            \\fromproperty #\'header:opus\n          }\n        }\n      }\n      \\header { tagline = ##f }\n      \\score {\n        { s1 }\n        \\header {\n          piece = "PRAELUDIUM I"\n          opus = "BWV 846"\n        }\n      }\n    }\n\nText fields not normally effective in score \\header blocks can be printed in the Score Title area if print-all-headers is placed inside the \\paper block. A disadvantage of using this method is that text fields that are intended specifically for the Bookpart Title area need to be manually suppressed in every \\score block. See Titles explained.\n\nTo avoid this, add the desired text field to the scoreTitleMarkup definition. In the following example, the composer text field (normally associated with bookTitleMarkup) is added to scoreTitleMarkup, allowing each score to list a different composer:\n\n    \\book {\n      \\paper {\n        indent = 0\\mm\n        scoreTitleMarkup = \\markup {\n          \\fill-line {\n            \\null\n            \\fontsize #4 \\bold \\fromproperty #\'header:piece\n            \\fromproperty #\'header:composer\n          }\n        }\n      }\n      \\header { tagline = ##f }\n      \\score {\n        { s1 }\n        \\header {\n          piece = "MENUET"\n          composer = "Christian Petzold"\n        }\n      }\n      \\score {\n        { s1 }\n        \\header {\n          piece = "RONDEAU"\n          composer = "Fran\xe7ois Couperin"\n        }\n      }\n    }\n\nIt is also possible to create your own custom text fields, and refer to them in the markup definition.\n\n    \\book {\n      \\paper {\n        indent = 0\\mm\n        scoreTitleMarkup = \\markup {\n          \\fill-line {\n            \\null\n            \\override #`(direction . ,UP) {\n              \\dir-column {\n                \\center-align \\fontsize #-1 \\bold\n                  \\fromproperty #\'header:mycustomtext %% User-defined field\n                \\center-align \\fontsize #4 \\bold\n                  \\fromproperty #\'header:piece\n              }\n            }\n            \\fromproperty #\'header:opus\n          }\n        }\n      }\n      \\header { tagline = ##f }\n      \\score {\n        { s1 }\n        \\header {\n          piece = "FUGA I"\n          mycustomtext = "A 4 VOCI" %% User-defined field\n          opus = "BWV 846"\n        }\n      }\n    }'},{label:"\\bottom-margin",detail:"4.1.3 Fixed vertical spacing \\paper variables",documentation:"The margin between the bottom of the printable area and the bottom of the page. If the paper size is modified, this dimension\u2019s default value is scaled accordingly."},{label:"\\box",detail:"Graphic notation inside markup",documentation:'Some markup commands allow decoration of text elements with graphics, as demonstrated in the following example.\n\n    \\markup \\fill-line {\n      \\center-column {\n        \\circle Jack\n        \\box "in the box"\n        \\null\n        \\line {\n          Erik Satie\n          \\hspace #3\n          \\bracket "1866 - 1925"\n        }\n        \\null\n        \\rounded-box \\bold Prelude\n      }\n    }'},{label:"\\bracket",detail:"New dynamic marks",documentation:"In markup mode, editorial dynamics (within parentheses or square brackets) can be created. The syntax for markup mode is described in Formatting text.\n\n    roundF = \\markup {\n        \\center-align \\concat { \\bold { \\italic ( }\n               \\dynamic f \\bold { \\italic ) } } }\n    boxF = \\markup { \\bracket { \\dynamic f } }\n    \\relative c' {\n      c1_\\roundF\n      c1_\\boxF\n    }"},{label:"\\bracket",detail:"Graphic notation inside markup",documentation:'Some markup commands allow decoration of text elements with graphics, as demonstrated in the following example.\n\n    \\markup \\fill-line {\n      \\center-column {\n        \\circle Jack\n        \\box "in the box"\n        \\null\n        \\line {\n          Erik Satie\n          \\hspace #3\n          \\bracket "1866 - 1925"\n        }\n        \\null\n        \\rounded-box \\bold Prelude\n      }\n    }'},{label:"\\bracket",detail:"Piano pedals",documentation:"There are three styles of pedal indications: text, bracket, and mixed. The sustain pedal and the una corda pedal use the text style by default while the sostenuto pedal uses mixed by default.\n\n    c4\\sustainOn g c2\\sustainOff\n    \\set Staff.pedalSustainStyle = #'mixed\n    c4\\sustainOn g c d\n    d\\sustainOff\\sustainOn g, c2\\sustainOff\n    \\set Staff.pedalSustainStyle = #'bracket\n    c4\\sustainOn g c d\n    d\\sustainOff\\sustainOn g, c2\n    \\bar \"|.\"\n\nThe placement of the pedal commands matches the physical movement of the sustain pedal during piano performance. Pedalling to the final bar line is indicated by omitting the final pedal off command.\n\nPedal indications may be placed in a Dynamics context, which aligns them on a horizontal line."},{label:"\\breakable",detail:"Predefined commands",documentation:"Beams across line breaks\n\nLine breaks are normally forbidden when beams cross bar lines. This behavior can be changed as shown:\n\n    \\relative c'' {\n      \\override Beam.breakable = ##t\n      c8 c[ c] c[ c] c[ c] c[ \\break\n      c8] c[ c] c[ c] c[ c] c\n    }\n\nChanging beam knee gap\n\nKneed beams are inserted automatically when a large gap is detected between the note heads. This behavior can be tuned through the auto-knee-gap property. A kneed beam is drawn if the gap is larger than the value of auto-knee-gap plus the width of the beam object (which depends on the duration of the notes and the slope of the beam). By default auto-knee-gap is set to 5.5 staff spaces.\n\n    {\n      f8 f''8 f8 f''8\n      \\override Beam.auto-knee-gap = #6\n      f8 f''8 f8 f''8\n    }"},{label:"\\breathe",detail:"Breath marks",documentation:"Breath marks are entered using \\breathe:\n\n    c2. \\breathe d4\n\nA breath mark will end an automatic beam; to override this behavior, see Manual beams.\n\n    c8 \\breathe d e f g2\n\nMusical indicators for breath marks in ancient notation, divisiones, are supported. For details, see Divisiones."},{label:"\\breathe",detail:"A.18 Available music functions",documentation:"Insert a breath mark."},{label:"\\breve",detail:"Durations",documentation:"Durations are designated by numbers and dots. Durations are entered as their reciprocal values. For example, a quarter note is entered using a 4 (since it is a 1/4 note), and a half note is entered using a 2 (since it is a 1/2 note). For notes longer than a whole you must use the \\longa (a double breve) and \\breve commands. Durations as short as 128th notes may be specified. Shorter values are possible, but only as beamed notes.\n\n    \\time 8/1\n    c\\longa c\\breve c1 c2\n    c4 c8 c16 c32 c64 c128 c128\n\nHere are the same durations with automatic beaming turned off.\n\n    \\time 8/1\n    \\autoBeamOff\n    c\\longa c\\breve c1 c2\n    c4 c8 c16 c32 c64 c128 c128\n\nA note with the duration of a quadruple breve may be entered with \\maxima, but this is supported only within ancient music notation. For details, see Ancient notation."},{label:"\\breve",detail:"Rests",documentation:"Rests are entered like notes with the note name r. Durations longer than a whole rest use the following predefined commands:\n\n    \\new Staff {\n      % These two lines are just to prettify this example\n      \\time 16/1\n      \\omit Staff.TimeSignature\n      % Print a maxima rest, equal to four breves\n      r\\maxima\n      % Print a longa rest, equal to two breves\n      r\\longa\n      % Print a breve rest\n      r\\breve\n      r1 r2 r4 r8 r16 r32 r64 r128\n    }"},{label:"\\cadenzaOff",detail:"Unmetered music",documentation:'In metered music bar lines are inserted and bar numbers are calculated automatically. In unmetered music (i.e. cadenzas), this is not desirable and can be \u2018switched off\u2019 using the command \\cadenzaOn, then \u2018switched back on\u2019 at the appropriate place using \\cadenzaOff.\n\n    c4 d e d\n    \\cadenzaOn\n    c4 c d8[ d d] f4 g4.\n    \\cadenzaOff\n    \\bar "|"\n    d4 e d c\n\nBar numbering is resumed at the end of the cadenza.\n\n    % Show all bar numbers\n    \\override Score.BarNumber.break-visibility = #all-visible\n    c4 d e d\n    \\cadenzaOn\n    c4 c d8[ d d] f4 g4.\n    \\cadenzaOff\n    \\bar "|"\n    d4 e d c\n\nInserting a \\bar command within a cadenza does not start a new measure, even if a bar line is printed. So any accidentals \u2013 which are usually assumed to remain in force until the end of the measure \u2013 will still be valid after the bar line printed by \\bar. If subsequent accidentals should be printed, forced accidentals or reminder accidentals need to be inserted manually, see Accidentals.\n\n    c4 d e d\n    \\cadenzaOn\n    cis4 d cis d\n    \\bar "|"\n    % First cis is printed without alteration even if it\'s after a \\bar\n    cis4 d cis! d\n    \\cadenzaOff\n    \\bar "|"\n\nAutomatic beaming is disabled by \\cadenzaOn. Therefore, all beaming in cadenzas must be entered manually. See Manual beams.\n\n    \\repeat unfold 8 { c8 }\n    \\cadenzaOn\n    cis8 c c c c\n    \\bar"|"\n    c8 c c\n    \\cadenzaOff\n    \\repeat unfold 8 { c8 }\n\nThese predefined commands affect all staves in the score, even when placed in just one Voice context. To change this, move the Timing_translator from the Score context to the Staff context. See Polymetric notation.'},{label:"\\cadenzaOn",detail:"Unmetered music",documentation:'In metered music bar lines are inserted and bar numbers are calculated automatically. In unmetered music (i.e. cadenzas), this is not desirable and can be \u2018switched off\u2019 using the command \\cadenzaOn, then \u2018switched back on\u2019 at the appropriate place using \\cadenzaOff.\n\n    c4 d e d\n    \\cadenzaOn\n    c4 c d8[ d d] f4 g4.\n    \\cadenzaOff\n    \\bar "|"\n    d4 e d c\n\nBar numbering is resumed at the end of the cadenza.\n\n    % Show all bar numbers\n    \\override Score.BarNumber.break-visibility = #all-visible\n    c4 d e d\n    \\cadenzaOn\n    c4 c d8[ d d] f4 g4.\n    \\cadenzaOff\n    \\bar "|"\n    d4 e d c\n\nInserting a \\bar command within a cadenza does not start a new measure, even if a bar line is printed. So any accidentals \u2013 which are usually assumed to remain in force until the end of the measure \u2013 will still be valid after the bar line printed by \\bar. If subsequent accidentals should be printed, forced accidentals or reminder accidentals need to be inserted manually, see Accidentals.\n\n    c4 d e d\n    \\cadenzaOn\n    cis4 d cis d\n    \\bar "|"\n    % First cis is printed without alteration even if it\'s after a \\bar\n    cis4 d cis! d\n    \\cadenzaOff\n    \\bar "|"\n\nAutomatic beaming is disabled by \\cadenzaOn. Therefore, all beaming in cadenzas must be entered manually. See Manual beams.\n\n    \\repeat unfold 8 { c8 }\n    \\cadenzaOn\n    cis8 c c c c\n    \\bar"|"\n    c8 c c\n    \\cadenzaOff\n    \\repeat unfold 8 { c8 }\n\nThese predefined commands affect all staves in the score, even when placed in just one Voice context. To change this, move the Timing_translator from the Score context to the Staff context. See Polymetric notation.'},{label:"\\center-align",detail:"Text alignment",documentation:"Markup objects may be aligned in different ways. By default, a text indication is aligned on its left edge: in the following example, there is no difference between the first and the second markup.\n\n    d1-\\markup { poco }\n    f\n    d-\\markup { \\left-align poco }\n    f\n    d-\\markup { \\center-align { poco } }\n    f\n    d-\\markup { \\right-align poco }"},{label:"\\center-column",detail:"Text alignment",documentation:'A markup object may include several lines of text. In the following example, each element or expression is placed on its own line, either left-aligned or centered:\n\n    \\markup {\n      \\column {\n        a\n        "b c"\n        \\line { d e f }\n      }\n      \\hspace #10\n      \\center-column {\n        a\n        "b c"\n        \\line { d e f }\n      }\n    }'},{label:"\\change",detail:"Changing staff manually",documentation:'Voices can be switched between staves manually, using the command\n\n    \\change Staff = staffname\n\nThe string staffname is the name of the staff. It switches the current voice from its current staff to the staff called staffname. Typical values for staffname are "up" and "down", or "RH" and "LH".\n\nThe staff to which the voice is being switched must exist at the time of the switch. If necessary, staves should be \u201ckept alive\u201d, see Keeping contexts alive.\n\nCross-staff notes are beamed automatically:\n\n    \\new PianoStaff <<\n      \\new Staff = "up" {\n        <e\' c\'>8\n        \\change Staff = "down"\n        g8 fis g\n        \\change Staff = "up"\n        <g\'\' c\'\'>8\n        \\change Staff = "down"\n        e8 dis e\n        \\change Staff = "up"\n      }\n      \\new Staff = "down" {\n        \\clef bass\n        % keep staff alive\n        s1\n      }\n    >>\n\nIf the beaming needs to be tweaked, make any changes to the stem directions first. The beam positions are then measured from the center of the staff that is closest to the beam. For a simple example of beam tweaking, see notation Fixing overlapping notation.'},{label:"\\check-consistency",detail:"\\paper variables for widths and margins",documentation:"If set to true, print a warning if left-margin, line-width, and right-margin do not exactly add up to paper-width, and replace each of these (except paper-width) with its default value (scaled to the paper size if necessary). If set to false, ignore any inconsistencies and allow systems to run off the edge of the page."},{label:"\\chordChanges",detail:"Selected Snippets",documentation:"Showing chords at changes\n\nChord names can be displayed only at the start of lines and when the chord changes.\n\n    harmonies = \\chordmode {\n      c1:m c:m \\break c:m c:m d\n    }\n    <<\n      \\new ChordNames {\n        \\set chordChanges = ##t\n        \\harmonies\n      }\n      \\new Staff {\n        \\relative c' { \\harmonies }\n      }\n    >>\n\nSimple lead sheet\n\nWhen put together, chord names, a melody, and lyrics form a lead sheet:\n\n    <<\n      \\chords { c2 g:sus4 f e }\n      \\relative c'' {\n        a4 e c8 e r4\n        b2 c4( d)\n      }\n      \\addlyrics { One day this shall be free __ }\n    >>"},{label:"\\chordmode",detail:"Predefined fret diagrams",documentation:'It is common that both chord names and fret diagrams are displayed together. This is achieved by putting a ChordNames context in parallel with a FretBoards context and giving both contexts the same music.\n\n    \\include "predefined-guitar-fretboards.ly"\n    mychords = \\chordmode{\n      c1 f g\n    }\n    <<\n      \\new ChordNames {\n        \\mychords\n      }\n      \\new FretBoards {\n        \\mychords\n      }\n    >>'},{label:"\\chordNameExceptions",detail:"Customizing chord names",documentation:""},{label:"\\chordNameLowercaseMinor",detail:"Customizing chord names",documentation:'German songbooks may indicate minor chords as lowercase letters, without any m suffix. This can be obtained by setting the chordNameLowercaseMinor property:\n\n    \\chords {\n      \\set chordNameLowercaseMinor = ##t\n      c2 d:m e:m f\n    }\n\nIf none of the existing settings give the desired output, the chord name display can be tuned through the following properties.\n\nchordRootNamer\nThe chord name is usually printed as a letter for the root with an optional alteration. The transformation from pitch to letter is done by this function. Special note names (for example, the German \u2018H\u2019 for a B-chord) can be produced by storing a new function in this property.\n\nmajorSevenSymbol\nThis property contains the markup object used to follow the output of chordRootNamer to identify a major 7 chord. Predefined options are whiteTriangleMarkup and blackTriangleMarkup.\n\nadditionalPitchPrefix\nWhen the chord name contains additional pitches, they can optionally be prefixed with some text. The default is no prefix, in order to avoid too much visual clutter, but for small numbers of additional pitches this can be visually effective.\n\n\\new ChordNames {\n  <c e g d\'>    % add9\n  \\set additionalPitchPrefix = #"add"\n  <c e g d\'>    % add9\n}\n \n\nchordNoteNamer\nWhen the chord name contains additional pitches other than the root (e.g., an added bass note), this function is used to print the additional pitch. By default the pitch is printed using chordRootNamer. The chordNoteNamer property can be set to a specialized function to change this behavior. For example, the bass note can be printed in lower case.\n\nchordNameSeparator\nDifferent parts of a chord name are normally separated by a small amount of horizontal space. By setting chordNameSeparator, you can use any desired markup for a separator. This does not affect the separator between a chord and its bass note; to customize that, use slashChordSeparator.\n\n\\chords {\n  c4:7.9- c:7.9-/g\n  \\set chordNameSeparator = \\markup { "/" }\n  \\break\n  c4:7.9- c:7.9-/g\n}\n \n\nslashChordSeparator\nChords can be played over a bass note other than the conventional root of the chord. These are known as \u201cinversions\u201d or \u201cslash chords\u201d, because the default way of notating them is with a forward slash between the main chord and the bass note. Therefore the value of slashChordSeparator defaults to a forward slash, but you can change it to any markup you choose.\n\n\\chords {\n  c4:7.9- c:7.9-/g\n  \\set slashChordSeparator = \\markup { " over " }\n  \\break\n  c4:7.9- c:7.9-/g\n}\n \n\nchordNameExceptions\nThis property is a list of pairs. The first item in each pair is a set of pitches used to identify the steps present in the chord. The second item is a markup that will follow the chordRootNamer output to create the chord name.\n\nminorChordModifier\nMinor chords are often denoted via a \u2018m\u2019 suffix to the right of the root of the chord. However some idioms prefer other suffices, such as a minus sign.\n\n\\chords {\n  c4:min f:min7\n  \\set minorChordModifier = \\markup { "-" }\n  \\break\n  c4:min f:min7\n}\n \n\nchordPrefixSpacer\nThe modifier for minor chords as determined by minorChordModifier is usually printed immediately to the right of the root of the chord. A spacer can be placed between the root and the modifier by setting chordPrefixSpacer. The spacer is not used when the root is altered.\n\n'},{label:"ChordNames",detail:"Predefined fret diagrams",documentation:'It is common that both chord names and fret diagrams are displayed together. This is achieved by putting a ChordNames context in parallel with a FretBoards context and giving both contexts the same music.\n\n    \\include "predefined-guitar-fretboards.ly"\n    mychords = \\chordmode{\n      c1 f g\n    }\n    <<\n      \\new ChordNames {\n        \\mychords\n      }\n      \\new FretBoards {\n        \\mychords\n      }\n    >>'},{label:"\\chordNameSeparator",detail:"Customizing chord names",documentation:""},{label:"\\chordNoteNamer",detail:"Customizing chord names",documentation:""},{label:"\\chordPrefixSpacer",detail:"Customizing chord names",documentation:""},{label:"\\chordRepeats",detail:"A.18 Available music functions",documentation:"Walk through music putting the notes of the previous chord into repeat chords, as well as an optional list of event-types such as #'(string-number-event)."},{label:"\\chordRootNamer",detail:"Customizing chord names",documentation:""},{label:"\\chords",detail:"Printing chord names",documentation:"\\chords { \u2026 } is a shortcut notation for \\new ChordNames { \\chordmode { \u2026 } }.\n\n    \\chords {\n      c2 f4.:m g8:maj7\n    }\n\n    \\new ChordNames {\n      \\chordmode {\n        c2 f4.:m g8:maj7\n      }\n    }"},{label:"\\circle",detail:"Graphic notation inside markup",documentation:'Some markup commands allow decoration of text elements with graphics, as demonstrated in the following example.\n\n    \\markup \\fill-line {\n      \\center-column {\n        \\circle Jack\n        \\box "in the box"\n        \\null\n        \\line {\n          Erik Satie\n          \\hspace #3\n          \\bracket "1866 - 1925"\n        }\n        \\null\n        \\rounded-box \\bold Prelude\n      }\n    }'},{label:"\\clef",detail:"Clef",documentation:"The clef may be altered. Middle C is shown in every example. The following clef names can (but do not need to) be enclosed in quotes.\n\n    \\clef treble\n    c2 c\n    \\clef alto\n    c2 c\n    \\clef tenor\n    c2 c\n    \\clef bass\n    c2 c\n\nOther clefs include:\n\n    \\clef french\n    c2 c\n    \\clef soprano\n    c2 c\n    \\clef mezzosoprano\n    c2 c\n    \\clef baritone\n    c2 c\n    \\break\n    \\clef varbaritone\n    c2 c\n    \\clef subbass\n    c2 c\n    \\clef percussion\n    c2 c\n    \\break\n    \\clef G   % synonym for treble\n    c2 c\n    \\clef F   % synonym for bass\n    c2 c\n    \\clef C   % synonym for alto\n    c2 c"},{label:"\\clef",detail:"A.18 Available music functions",documentation:"Set the current clef to type."},{label:"\\color",detail:"Coloring objects",documentation:'Individual objects may be assigned colors. Valid color names are listed in the List of colors.\n\n    \\override NoteHead.color = #red\n    c4 c\n    \\override NoteHead.color = #(x11-color \'LimeGreen)\n    d\n    \\override Stem.color = #blue\n    e\n\nThe full range of colors defined for X11 can be accessed by using the Scheme function x11-color. The function takes one argument; this can be a symbol in the form \'FooBar or a string in the form "FooBar". The first form is quicker to write and is more efficient. However, using the second form it is possible to access X11 colors by the multi-word form of its name.\n\nIf x11-color cannot make sense of the parameter then the color returned defaults to black.\n\n    \\override Staff.StaffSymbol.color = #(x11-color \'SlateBlue2)\n    \\set Staff.instrumentName = \\markup {\n      \\with-color #(x11-color \'navy) "Clarinet"\n    }\n    gis8 a\n    \\override Beam.color = #(x11-color "medium turquoise")\n    gis a\n    \\override Accidental.color = #(x11-color \'DarkRed)\n    gis a\n    \\override NoteHead.color = #(x11-color "LimeGreen")\n    gis a\n    % this is deliberate nonsense; note that the stems remain black\n    \\override Stem.color = #(x11-color \'Boggle)\n    b2 cis'},{label:"\\column",detail:"Text alignment",documentation:'A markup object may include several lines of text. In the following example, each element or expression is placed on its own line, either left-aligned or centered:\n\n    \\markup {\n      \\column {\n        a\n        "b c"\n        \\line { d e f }\n      }\n      \\hspace #10\n      \\center-column {\n        a\n        "b c"\n        \\line { d e f }\n      }\n    }'},{label:"\\combine",detail:"Graphic notation inside markup",documentation:"Other graphic elements or symbols may be printed without requiring any text. As with any markup expression, such objects can be combined.\n\n    \\markup {\n      \\combine\n        \\draw-circle #4 #0.4 ##f\n        \\filled-box #'(-4 . 4) #'(-0.5 . 0.5) #1\n      \\hspace #5\n      \\center-column {\n        \\triangle ##t\n        \\combine\n          \\draw-line #'(0 . 4)\n          \\arrow-head #Y #DOWN ##f\n      }\n    }"},{label:"\\common-shortest-duration",detail:"4.5.1 Horizontal spacing overview",documentation:"Notes that are even shorter than the common shortest note are followed by a space that is proportional to their duration relative to the common shortest note. So if we were to add only a few 16th notes to the example above, they would be followed by half a NHW:\n\n    c2 c4. c8 | c4. c16[ c] c4. c8 | c8 c c4 c c\n\nIn the Essay on automated music engraving, it was explained that stem directions influence spacing (see Optical spacing). This is controlled with the stem-spacing-correction property in the NoteSpacing, object. These are generated for every Voice context. The StaffSpacing object (generated in Staff context) contains the same property for controlling the stem/bar line spacing. The following example shows these corrections, once with default settings, and once with exaggerated corrections:\n\nProportional notation is supported; see Proportional notation."},{label:"Completion_heads_engraver",detail:"Automatic note splitting",documentation:'Long notes which overrun bar lines can be converted automatically to tied notes. This is done by replacing the Note_heads_engraver with the Completion_heads_engraver. Similarly, long rests which overrun bar lines are split automatically by replacing the Rest_engraver with the Completion_rest_engraver. In the following example, notes and rests crossing the bar lines are split, notes are also tied.\n\n    \\new Voice \\with {\n      \\remove "Note_heads_engraver"\n      \\consists "Completion_heads_engraver"\n      \\remove "Rest_engraver"\n      \\consists "Completion_rest_engraver"\n    }\n    { c2. c8 d4 e f g a b c8 c2 b4 a g16 f4 e d c8. c2 r1*2 }\n\nThese engravers split all running notes and rests at the bar line, and inserts ties for notes. One of its uses is to debug complex scores: if the measures are not entirely filled, then the ties show exactly how much each measure is off.'},{label:"Completion_rest_engraver",detail:"Automatic note splitting",documentation:'Long notes which overrun bar lines can be converted automatically to tied notes. This is done by replacing the Note_heads_engraver with the Completion_heads_engraver. Similarly, long rests which overrun bar lines are split automatically by replacing the Rest_engraver with the Completion_rest_engraver. In the following example, notes and rests crossing the bar lines are split, notes are also tied.\n\n    \\new Voice \\with {\n      \\remove "Note_heads_engraver"\n      \\consists "Completion_heads_engraver"\n      \\remove "Rest_engraver"\n      \\consists "Completion_rest_engraver"\n    }\n    { c2. c8 d4 e f g a b c8 c2 b4 a g16 f4 e d c8. c2 r1*2 }\n\nThese engravers split all running notes and rests at the bar line, and inserts ties for notes. One of its uses is to debug complex scores: if the measures are not entirely filled, then the ties show exactly how much each measure is off.'},{label:"\\compoundMeter",detail:"A.18 Available music functions",documentation:"Create compound time signatures. The argument is a Scheme list of lists. Each list describes one fraction, with the last entry being the denominator, while the first entries describe the summands in the enumerator. If the time signature consists of just one fraction, the list can be given directly, i.e. not as a list containing a single list. For example, a time signature of (3+1)/8 + 2/4 would be created as \\compoundMeter #'((3 1 8) (2 4)), and a time signature of (3+2)/8 as \\compoundMeter #'((3 2 8)) or shorter \\compoundMeter #'(3 2 8)."},{label:"\\compressFullBarRests",detail:"Full measure rests",documentation:"By default a multi-measure rest is expanded in the printed score to show all the rest measures explicitly. Alternatively, a multi-measure rest can be shown as a single measure containing a multi-measure rest symbol, with the number of measures of rest printed above the measure:\n\n    % Default behavior\n    \\time 3/4 r2. | R2.*2 |\n    \\time 2/4 R2 |\n    \\time 4/4\n    % Rest measures contracted to single measure\n    \\compressFullBarRests\n    r1 | R1*17 | R1*4 |\n    % Rest measures expanded\n    \\expandFullBarRests\n    \\time 3/4\n    R2.*2 |"},{label:"\\compressFullBarRests",detail:"Full measure rests",documentation:"\\textLengthOn, \\textLengthOff, \\fermataMarkup, \\compressFullBarRests, \\expandFullBarRests."},{label:"\\consists",detail:"5.1.6 Defining new contexts",documentation:'Specific contexts, like Staff and Voice, are made from simple building blocks. It is possible to create new types of contexts with different combinations of engraver plug-ins.\n\nThe next example shows how to build a different type of Voice context from scratch. It will be similar to Voice, but only prints centered slash note heads. It can be used to indicate improvisation in jazz pieces,\n\nThese settings are defined within a \\context block inside a \\layout block,\n\n    \\layout {\n      \\context {\n        \u2026\n      }\n    }\n\nIn the following discussion, the example input shown should go in place of the \u2026 in the previous fragment.\n\nFirst it is necessary to define a name for the new context:\n\n    \\name ImproVoice\n\nSince it is similar to the Voice context, we want commands that work in (existing) Voice contexts to continue working. This is achieved by giving the new context an alias of Voice,\n\n    \\alias Voice\n\nThe context will print notes and instructive texts, so we need to add the engravers which provide this functionality, plus the engraver which groups notes, stems and rests which occur at the same musical moment into columns,\n\n    \\consists "Note_heads_engraver"\n    \\consists "Text_engraver"\n    \\consists "Rhythmic_column_engraver"\n\nThe note heads should all be placed on the center line,\n\n    \\consists "Pitch_squash_engraver"\n    squashedPosition = #0\n\nThe Pitch_squash_engraver modifies note heads (created by the Note_heads_engraver) and sets their vertical position to the value of squashedPosition, in this case\xa00, the center line.\n\nThe notes look like a slash, and have no stem,\n\n    \\override NoteHead.style = #\'slash\n    \\hide Stem\n\nAll these plug-ins have to communicate under the control of the context. The mechanisms with which contexts communicate are established by declaring the context \\type. Within a \\layout block, most contexts will be of type Engraver_group. Some special contexts and contexts in \\midi blocks use other context types. Copying and modifying an existing context definition will also fill in the type. Since this example creates a definition from scratch, it needs to be specified explicitly.\n\n    \\type "Engraver_group"\n\nPut together, we get\n\n    \\context {\n      \\name ImproVoice\n      \\type "Engraver_group"\n      \\consists "Note_heads_engraver"\n      \\consists "Text_engraver"\n      \\consists "Rhythmic_column_engraver"\n      \\consists "Pitch_squash_engraver"\n      squashedPosition = #0\n      \\override NoteHead.style = #\'slash\n      \\hide Stem\n      \\alias Voice\n    }'},{label:"\\controlpitch",detail:"Octave checks",documentation:"In relative mode, it is easy to forget an octave changing mark. Octave checks make such errors easier to find by displaying a warning and correcting the octave if a note is found in an unexpected octave.\n\nTo check the octave of a note, specify the absolute octave after the =\xa0symbol. This example will generate a warning (and change the pitch) because the second note is the absolute octave d'' instead of d' as indicated by the octave correction.\n\n    \\relative c'' {\n      c2 d='4 d\n      e2 f\n    }\n\nThe octave of notes may also be checked with the \\octaveCheck\xa0controlpitch command. controlpitch is specified in absolute mode. This checks that the interval between the previous note and the controlpitch is within a fourth (i.e., the normal calculation of relative mode). If this check fails, a warning is printed, but the previous note is not changed. Future notes are relative to the controlpitch.\n\n    \\relative c'' {\n      c2 d\n      \\octaveCheck c'\n      e2 f\n    }\n\nCompare the two bars below. The first and third \\octaveCheck checks fail, but the second one does not fail.\n\n    \\relative c'' {\n      c4 f g f\n      c4\n      \\octaveCheck c'\n      f\n      \\octaveCheck c'\n      g\n      \\octaveCheck c'\n      f\n    }"},{label:"\\cr",detail:"Dynamics",documentation:"A crescendo mark is started with \\< and terminated with \\!, an absolute dynamic, or an additional crescendo or decrescendo mark. A decrescendo mark is started with \\> and is also terminated with \\!, an absolute dynamic, or another crescendo or decrescendo mark. \\cr and \\decr may be used instead of \\< and \\>. Hairpins are engraved by default using this notation.\n\n    c2\\< c\\!\n    d2\\< d\\f\n    e2\\< e\\>\n    f2\\> f\\!\n    e2\\> e\\mp\n    d2\\> d\\>\n    c1\\!\n\nA hairpin that is terminated with \\! will end at the right edge of the note that has the \\! assigned to it. In the case where it is terminated with the start of another crescendo or decrescendo mark, it will end at the centre of the note that has the next \\< or \\> assigned to it. The next hairpin will then start at the right edge of the same note instead of the usual left edge had it been terminated with \\! before.\n\n    c1\\< | c4 a c\\< a | c4 a c\\! a\\< | c4 a c a\\!\n\nHairpins that are terminated with absolute dynamic marks instead of \\! will also be engraved in a similar way. However, the length of the absolute dynamic itself can alter where the preceding hairpin ends.\n\n    c1\\< | c4 a c\\mf a | c1\\< | c4 a c\\ffff a"},{label:"\\cresc",detail:"Dynamics",documentation:"Textual crescendo marks begin with \\cresc. Textual decrescendos begin with \\decresc or \\dim. Extender lines are engraved as required.\n\n    g8\\cresc a b c b c d e\\mf |\n    f8\\decresc e d c e\\> d c b |\n    a1\\dim ~ |\n    a2. r4\\! |"},{label:"\\crescHairpin",detail:"Dynamics",documentation:"Textual marks for dynamic changes can also replace hairpins:\n\n    \\crescTextCresc\n    c4\\< d e f\\! |\n    \\dimTextDecresc\n    g4\\> e d c\\! |\n    \\dimTextDecr\n    e4\\> d c b\\! |\n    \\dimTextDim\n    d4\\> c b a\\! |\n    \\crescHairpin\n    \\dimHairpin\n    c4\\< d\\! e\\> d\\! |\n\nTo create new absolute dynamic marks or text that should be aligned with dynamics, see New dynamic marks."},{label:"\\crescTextCresc",detail:"Dynamics",documentation:"Textual marks for dynamic changes can also replace hairpins:\n\n    \\crescTextCresc\n    c4\\< d e f\\! |\n    \\dimTextDecresc\n    g4\\> e d c\\! |\n    \\dimTextDecr\n    e4\\> d c b\\! |\n    \\dimTextDim\n    d4\\> c b a\\! |\n    \\crescHairpin\n    \\dimHairpin\n    c4\\< d\\! e\\> d\\! |\n\nTo create new absolute dynamic marks or text that should be aligned with dynamics, see New dynamic marks."},{label:"\\cross",detail:"Special note heads",documentation:"The appearance of note heads may be altered:\n\n    c4 b\n    \\override NoteHead.style = #'cross\n    c4 b\n    \\revert NoteHead.style\n    a b\n    \\override NoteHead.style = #'harmonic\n    a b\n    \\revert NoteHead.style\n    c4 d e f\n\nTo see all note head styles, see Note head styles.\n\nThe cross style is used to represent a variety of musical intentions. The following generic predefined commands modify the note head in both staff and tablature contexts and can be used to represent any musical meaning:\n\n    c4 b\n    \\xNotesOn\n     a b c4 b\n    \\xNotesOff\n    c4 d\n\nThe music function form of this predefined command may be used inside and outside chords to generate crossed note heads in both staff and tablature contexts:\n\n    c4 b\n    \\xNote { e f }\n    c b < g \\xNote c f > b\n\nAs synonyms for \\xNote, \\xNotesOn and \\xNotesOff, \\deadNote, \\deadNotesOn and \\deadNotesOff can be used. The term dead note is commonly used by guitarists.\n\nThere is also a similar shorthand for diamond shapes:\n\n    <c f\\harmonic>2 <d a'\\harmonic>4 <c g'\\harmonic> f\\harmonic"},{label:"\\crossStaff",detail:"A.18 Available music functions",documentation:"Create cross-staff stems"},{label:"\\cueClef",detail:"Formatting cue notes",documentation:'The simplest way to format cue notes is to explicitly create a CueVoice context within the part.\n\nR1\n<<\n  { e2\\rest r4. e8 }\n  \\new CueVoice {\n    \\stemUp d\'8^"flute" c d e fis2\n  }\n>>\nd,4 r a r\n\n\nThe \\cueClef command can also be used with an explict CueVoice context if a change of clef is required and will print an appropriately sized clef for the cue notes. The \\cueClefUnset command can then be used to switch back to the original clef, again with an appropriately sized clef.\n\n\\clef "bass"\nR1\n<<\n  { e2\\rest r4. \\cueClefUnset e,8 }\n  \\new CueVoice {\n    \\cueClef "treble" \\stemUp d\'\'8^"flute" c d e fis2\n  }\n>>\nd,,4 r a r\n\n\nThe \\cueClef and \\cueClefUnset command can also be used without a CueVoice if required.\n\n\\clef "bass"\nR1\n\\cueClef "treble"\nd\'8^"flute" c d e fis2\n\\cueClefUnset\nd,,4 r a r\n\n\nFor more complex cue note placement, e.g including transposition, or inserting cue notes from multiple music sources the \\cueDuring or \\cueDuringWithClef commands can be used. These are more specialized form of \\quoteDuring, see Quoting other voices in the previous section.\n\nThe syntax is:\n\n    \\cueDuring #quotename #direction #music\n\nand\n\n    \\cueDuringWithClef #quotename #direction #clef #music\n\nThe music from the corresponding measures of the quote name is added as a CueVoice context and occurs simultaneously with the music, which then creates a polyphonic situation. The direction takes the argument UP or DOWN, and corresponds to the first and second voices respectively, determining how the cue notes are printed in relation to the other voice.\n\n    fluteNotes = \\relative c\'\' {\n      r2. c4 | d8 c d e fis2 | g2 d |\n    }\n    oboeNotes = \\relative c\'\' {\n      R1\n      \\new CueVoice { \\set instrumentCueName = "flute" }\n      \\cueDuring #"flute" #UP { R1 }\n      g2 c,\n    }\n    \\addQuote "flute" { \\fluteNotes }\n    \\new Staff {\n      \\oboeNotes\n    }\n\nIt is possible to adjust which aspects of the music are quoted with \\cueDuring by setting the quotedCueEventTypes property. Its default value is \'(note-event rest-event tie-event beam-event tuplet-span-event), which means that only notes, rests, ties, beams and tuplets are quoted, but not articulations, dynamic marks, markup etc.\n\nNote: When a Voice starts with cueDuring, as in the following example, the Voice context must be explicitly declared, or else the entire music expression would belong to the CueVoice context.\n\n\n\n    oboeNotes = \\relative c\'\' {\n      r2 r8 d16(\\f f e g f a)\n      g8 g16 g g2.\n    }\n    \\addQuote "oboe" { \\oboeNotes }\n    \\new Voice \\relative c\'\' {\n      \\set Score.quotedCueEventTypes = #\'(note-event rest-event tie-event\n                                          beam-event tuplet-span-event\n                                          dynamic-event slur-event)\n      \\cueDuring #"oboe" #UP { R1 }\n      g2 c,\n    }\n\nThe name of the instrument playing the cue can be printed by setting the instrumentCueName property in a temporary CueVoice context. The placement and style of the instrumentCueName is controlled by the InstrumentSwitch object, see Instrument names. If the cue notes require a change in clef, this can be done manually but the original clef should also be restored manually at the end of the cue notes.\n\n    fluteNotes = \\relative c\'\' {\n      r2. c4 d8 c d e fis2 g2 d2\n    }\n    bassoonNotes = \\relative c {\n      \\clef bass\n      R1\n      \\clef treble\n      \\new CueVoice { \\set instrumentCueName = "flute" }\n      \\cueDuring #"flute" #UP { R1 }\n      \\clef bass\n      g4. b8 d2\n    }\n    \\addQuote "flute" { \\fluteNotes }\n    \\new Staff {\n      \\bassoonNotes\n    }\n\nAlternatively, the \\cueDuringWithClef function can be used instead. This command takes an extra argument to specify the change of clef that needs to be printed for the cue notes but will automatically print the original clef once the cue notes have finished.\n\n    fluteNotes = \\relative c\'\' {\n      r2. c4 d8 c d e fis2 g2 d2\n    }\n    bassoonNotes = \\relative c {\n      \\clef bass\n      R1\n      \\new CueVoice { \\set instrumentCueName = "flute" }\n      \\cueDuringWithClef #"flute" #UP #"treble" { R1 }\n      g4. b8 d2\n    }\n    \\addQuote "flute" { \\fluteNotes }\n    \\new Staff {\n      \\bassoonNotes\n    }'},{label:"\\cueClef",detail:"A.18 Available music functions",documentation:"Set the current cue clef to type."},{label:"\\cueClefUnset",detail:"A.18 Available music functions",documentation:"Unset the current cue clef."},{label:"\\cueDuring",detail:"Formatting cue notes",documentation:'The simplest way to format cue notes is to explicitly create a CueVoice context within the part.\n\nR1\n<<\n  { e2\\rest r4. e8 }\n  \\new CueVoice {\n    \\stemUp d\'8^"flute" c d e fis2\n  }\n>>\nd,4 r a r\n\n\nThe \\cueClef command can also be used with an explict CueVoice context if a change of clef is required and will print an appropriately sized clef for the cue notes. The \\cueClefUnset command can then be used to switch back to the original clef, again with an appropriately sized clef.\n\n\\clef "bass"\nR1\n<<\n  { e2\\rest r4. \\cueClefUnset e,8 }\n  \\new CueVoice {\n    \\cueClef "treble" \\stemUp d\'\'8^"flute" c d e fis2\n  }\n>>\nd,,4 r a r\n\n\nThe \\cueClef and \\cueClefUnset command can also be used without a CueVoice if required.\n\n\\clef "bass"\nR1\n\\cueClef "treble"\nd\'8^"flute" c d e fis2\n\\cueClefUnset\nd,,4 r a r\n\n\nFor more complex cue note placement, e.g including transposition, or inserting cue notes from multiple music sources the \\cueDuring or \\cueDuringWithClef commands can be used. These are more specialized form of \\quoteDuring, see Quoting other voices in the previous section.\n\nThe syntax is:\n\n    \\cueDuring #quotename #direction #music\n\nand\n\n    \\cueDuringWithClef #quotename #direction #clef #music\n\nThe music from the corresponding measures of the quote name is added as a CueVoice context and occurs simultaneously with the music, which then creates a polyphonic situation. The direction takes the argument UP or DOWN, and corresponds to the first and second voices respectively, determining how the cue notes are printed in relation to the other voice.\n\n    fluteNotes = \\relative c\'\' {\n      r2. c4 | d8 c d e fis2 | g2 d |\n    }\n    oboeNotes = \\relative c\'\' {\n      R1\n      \\new CueVoice { \\set instrumentCueName = "flute" }\n      \\cueDuring #"flute" #UP { R1 }\n      g2 c,\n    }\n    \\addQuote "flute" { \\fluteNotes }\n    \\new Staff {\n      \\oboeNotes\n    }\n\nIt is possible to adjust which aspects of the music are quoted with \\cueDuring by setting the quotedCueEventTypes property. Its default value is \'(note-event rest-event tie-event beam-event tuplet-span-event), which means that only notes, rests, ties, beams and tuplets are quoted, but not articulations, dynamic marks, markup etc.\n\nNote: When a Voice starts with cueDuring, as in the following example, the Voice context must be explicitly declared, or else the entire music expression would belong to the CueVoice context.\n\n\n\n    oboeNotes = \\relative c\'\' {\n      r2 r8 d16(\\f f e g f a)\n      g8 g16 g g2.\n    }\n    \\addQuote "oboe" { \\oboeNotes }\n    \\new Voice \\relative c\'\' {\n      \\set Score.quotedCueEventTypes = #\'(note-event rest-event tie-event\n                                          beam-event tuplet-span-event\n                                          dynamic-event slur-event)\n      \\cueDuring #"oboe" #UP { R1 }\n      g2 c,\n    }\n\nThe name of the instrument playing the cue can be printed by setting the instrumentCueName property in a temporary CueVoice context. The placement and style of the instrumentCueName is controlled by the InstrumentSwitch object, see Instrument names. If the cue notes require a change in clef, this can be done manually but the original clef should also be restored manually at the end of the cue notes.\n\n    fluteNotes = \\relative c\'\' {\n      r2. c4 d8 c d e fis2 g2 d2\n    }\n    bassoonNotes = \\relative c {\n      \\clef bass\n      R1\n      \\clef treble\n      \\new CueVoice { \\set instrumentCueName = "flute" }\n      \\cueDuring #"flute" #UP { R1 }\n      \\clef bass\n      g4. b8 d2\n    }\n    \\addQuote "flute" { \\fluteNotes }\n    \\new Staff {\n      \\bassoonNotes\n    }\n\nAlternatively, the \\cueDuringWithClef function can be used instead. This command takes an extra argument to specify the change of clef that needs to be printed for the cue notes but will automatically print the original clef once the cue notes have finished.\n\n    fluteNotes = \\relative c\'\' {\n      r2. c4 d8 c d e fis2 g2 d2\n    }\n    bassoonNotes = \\relative c {\n      \\clef bass\n      R1\n      \\new CueVoice { \\set instrumentCueName = "flute" }\n      \\cueDuringWithClef #"flute" #UP #"treble" { R1 }\n      g4. b8 d2\n    }\n    \\addQuote "flute" { \\fluteNotes }\n    \\new Staff {\n      \\bassoonNotes\n    }'},{label:"\\cueDuring",detail:"A.18 Available music functions",documentation:"Insert contents of quote what corresponding to main-music, in a CueVoice oriented by dir."},{label:"\\cueDuringWithClef",detail:"Formatting cue notes",documentation:'The simplest way to format cue notes is to explicitly create a CueVoice context within the part.\n\nR1\n<<\n  { e2\\rest r4. e8 }\n  \\new CueVoice {\n    \\stemUp d\'8^"flute" c d e fis2\n  }\n>>\nd,4 r a r\n\n\nThe \\cueClef command can also be used with an explict CueVoice context if a change of clef is required and will print an appropriately sized clef for the cue notes. The \\cueClefUnset command can then be used to switch back to the original clef, again with an appropriately sized clef.\n\n\\clef "bass"\nR1\n<<\n  { e2\\rest r4. \\cueClefUnset e,8 }\n  \\new CueVoice {\n    \\cueClef "treble" \\stemUp d\'\'8^"flute" c d e fis2\n  }\n>>\nd,,4 r a r\n\n\nThe \\cueClef and \\cueClefUnset command can also be used without a CueVoice if required.\n\n\\clef "bass"\nR1\n\\cueClef "treble"\nd\'8^"flute" c d e fis2\n\\cueClefUnset\nd,,4 r a r\n\n\nFor more complex cue note placement, e.g including transposition, or inserting cue notes from multiple music sources the \\cueDuring or \\cueDuringWithClef commands can be used. These are more specialized form of \\quoteDuring, see Quoting other voices in the previous section.\n\nThe syntax is:\n\n    \\cueDuring #quotename #direction #music\n\nand\n\n    \\cueDuringWithClef #quotename #direction #clef #music\n\nThe music from the corresponding measures of the quote name is added as a CueVoice context and occurs simultaneously with the music, which then creates a polyphonic situation. The direction takes the argument UP or DOWN, and corresponds to the first and second voices respectively, determining how the cue notes are printed in relation to the other voice.\n\n    fluteNotes = \\relative c\'\' {\n      r2. c4 | d8 c d e fis2 | g2 d |\n    }\n    oboeNotes = \\relative c\'\' {\n      R1\n      \\new CueVoice { \\set instrumentCueName = "flute" }\n      \\cueDuring #"flute" #UP { R1 }\n      g2 c,\n    }\n    \\addQuote "flute" { \\fluteNotes }\n    \\new Staff {\n      \\oboeNotes\n    }\n\nIt is possible to adjust which aspects of the music are quoted with \\cueDuring by setting the quotedCueEventTypes property. Its default value is \'(note-event rest-event tie-event beam-event tuplet-span-event), which means that only notes, rests, ties, beams and tuplets are quoted, but not articulations, dynamic marks, markup etc.\n\nNote: When a Voice starts with cueDuring, as in the following example, the Voice context must be explicitly declared, or else the entire music expression would belong to the CueVoice context.\n\n\n\n    oboeNotes = \\relative c\'\' {\n      r2 r8 d16(\\f f e g f a)\n      g8 g16 g g2.\n    }\n    \\addQuote "oboe" { \\oboeNotes }\n    \\new Voice \\relative c\'\' {\n      \\set Score.quotedCueEventTypes = #\'(note-event rest-event tie-event\n                                          beam-event tuplet-span-event\n                                          dynamic-event slur-event)\n      \\cueDuring #"oboe" #UP { R1 }\n      g2 c,\n    }\n\nThe name of the instrument playing the cue can be printed by setting the instrumentCueName property in a temporary CueVoice context. The placement and style of the instrumentCueName is controlled by the InstrumentSwitch object, see Instrument names. If the cue notes require a change in clef, this can be done manually but the original clef should also be restored manually at the end of the cue notes.\n\n    fluteNotes = \\relative c\'\' {\n      r2. c4 d8 c d e fis2 g2 d2\n    }\n    bassoonNotes = \\relative c {\n      \\clef bass\n      R1\n      \\clef treble\n      \\new CueVoice { \\set instrumentCueName = "flute" }\n      \\cueDuring #"flute" #UP { R1 }\n      \\clef bass\n      g4. b8 d2\n    }\n    \\addQuote "flute" { \\fluteNotes }\n    \\new Staff {\n      \\bassoonNotes\n    }\n\nAlternatively, the \\cueDuringWithClef function can be used instead. This command takes an extra argument to specify the change of clef that needs to be printed for the cue notes but will automatically print the original clef once the cue notes have finished.\n\n    fluteNotes = \\relative c\'\' {\n      r2. c4 d8 c d e fis2 g2 d2\n    }\n    bassoonNotes = \\relative c {\n      \\clef bass\n      R1\n      \\new CueVoice { \\set instrumentCueName = "flute" }\n      \\cueDuringWithClef #"flute" #UP #"treble" { R1 }\n      g4. b8 d2\n    }\n    \\addQuote "flute" { \\fluteNotes }\n    \\new Staff {\n      \\bassoonNotes\n    }'},{label:"\\cueDuringWithClef",detail:"A.18 Available music functions",documentation:"Insert contents of quote what corresponding to main-music, in a CueVoice oriented by dir."},{label:"\\currentBarNumber",detail:"Bar numbers",documentation:"Bar numbers are typeset by default at the start of every line except the first line. The number itself is stored in the currentBarNumber property, which is normally updated automatically for every measure. It may also be set manually:\n\n    c1 c c c\n    \\break\n    \\set Score.currentBarNumber = #50\n    c1 c c c"},{label:"\\currentBarNumber",detail:"Time administration",documentation:"Time is administered by the Timing_translator, which by default is to be found in the Score context. An alias, Timing, is added to the context in which the Timing_translator is placed. To ensure that the Timing alias is available, you may need to explicitly instantiate the containing context (such as Voice or Staff).\n\nThe following properties of Timing are used to keep track of timing within the score."},{label:"\\deadNote",detail:"A.18 Available music functions",documentation:"Print note with a cross-shaped note head."},{label:"\\decr",detail:"Dynamics",documentation:"A crescendo mark is started with \\< and terminated with \\!, an absolute dynamic, or an additional crescendo or decrescendo mark. A decrescendo mark is started with \\> and is also terminated with \\!, an absolute dynamic, or another crescendo or decrescendo mark. \\cr and \\decr may be used instead of \\< and \\>. Hairpins are engraved by default using this notation.\n\n    c2\\< c\\!\n    d2\\< d\\f\n    e2\\< e\\>\n    f2\\> f\\!\n    e2\\> e\\mp\n    d2\\> d\\>\n    c1\\!\n\nA hairpin that is terminated with \\! will end at the right edge of the note that has the \\! assigned to it. In the case where it is terminated with the start of another crescendo or decrescendo mark, it will end at the centre of the note that has the next \\< or \\> assigned to it. The next hairpin will then start at the right edge of the same note instead of the usual left edge had it been terminated with \\! before.\n\n    c1\\< | c4 a c\\< a | c4 a c\\! a\\< | c4 a c a\\!\n\nHairpins that are terminated with absolute dynamic marks instead of \\! will also be engraved in a similar way. However, the length of the absolute dynamic itself can alter where the preceding hairpin ends.\n\n    c1\\< | c4 a c\\mf a | c1\\< | c4 a c\\ffff a"},{label:"\\decresc",detail:"Dynamics",documentation:"Textual crescendo marks begin with \\cresc. Textual decrescendos begin with \\decresc or \\dim. Extender lines are engraved as required.\n\n    g8\\cresc a b c b c d e\\mf |\n    f8\\decresc e d c e\\> d c b |\n    a1\\dim ~ |\n    a2. r4\\! |"},{label:"\\default",detail:"Automatic accidentals",documentation:"There are many different conventions on how to typeset accidentals. LilyPond provides a function to specify which accidental style to use. This function is called as follows:\n\n    \\new Staff <<\n      \\accidentalStyle voice\n      { \u2026 }\n    >>\n\nThe accidental style applies to the current Staff by default (with the exception of the styles piano and piano-cautionary, which are explained below). Optionally, the function can take a second argument that determines in which scope the style should be changed. For example, to use the same style in all staves of the current StaffGroup, use:\n\n    \\accidentalStyle StaffGroup.voice\n\nThe following accidental styles are supported. To demonstrate each style, we use the following example:\n\n    musicA = {\n      <<\n        \\relative c' {\n          cis'8 fis, bes4 <a cis>8 f bis4 |\n          cis2. <c, g'>4 |\n        }\n        \\\\\n        \\relative c' {\n          ais'2 cis, |\n          fis8 b a4 cis2 |\n        }\n      >>\n    }\n    musicB = {\n      \\clef bass\n      \\new Voice {\n        \\voiceTwo \\relative c' {\n          <fis, a cis>8[ <fis a cis>\n          \\change Staff = up\n          cis' cis\n          \\change Staff = down\n          <fis, a> <fis a>]\n          \\showStaffSwitch\n          \\change Staff = up\n          dis'4 |\n          \\change Staff = down\n          <fis, a cis>4 gis <f a d>2 |\n        }\n      }\n    }\n    \\new PianoStaff {\n      <<\n        \\context Staff = \"up\" {\n          \\accidentalStyle default\n          \\musicA\n        }\n        \\context Staff = \"down\" {\n          \\accidentalStyle default\n          \\musicB\n        }\n      >>\n    }\n\nNote that the last lines of this example can be replaced by the following, as long as the same accidental style should be used in both staves.\n\n    \\new PianoStaff {\n      <<\n        \\context Staff = \"up\" {\n          %%% change the next line as desired:\n          \\accidentalStyle Score.default\n          \\musicA\n        }\n        \\context Staff = \"down\" {\n          \\musicB\n        }\n      >>\n    }\n\ndefault\nThis is the default typesetting behavior. It corresponds to eighteenth-century common practice: accidentals are remembered to the end of the measure in which they occur and only in their own octave. Thus, in the example below, no natural signs are printed before the\xa0b in the second measure or the last\xa0c:\n\n \n\nvoice\nThe normal behavior is to remember the accidentals at Staff-level. In this style, however, accidentals are typeset individually for each voice. Apart from that, the rule is similar to default.\n\nAs a result, accidentals from one voice do not get canceled in other voices, which is often an unwanted result: in the following example, it is hard to determine whether the second\xa0a should be played natural or sharp. The voice option should therefore be used only if the voices are to be read solely by individual musicians. If the staff is to be used by one musician (e.g., a conductor or in a piano score) then modern or modern-cautionary should be used instead.\n\n \n\nmodern\nThis rule corresponds to the common practice in the twentieth century. It omits some extra natural signs, which were traditionally prefixed to a sharp following a double sharp, or a flat following a double flat. The modern rule prints the same accidentals as default, with two additions that serve to avoid ambiguity: after temporary accidentals, cancellation marks are printed also in the following measure (for notes in the same octave) and, in the same measure, for notes in other octaves. Hence the naturals before the\xa0b and the\xa0c in the second measure of the upper staff:\n\n \n\nmodern-cautionary\nThis rule is similar to modern, but the \u2018extra\u2019 accidentals (the ones not typeset by default) are typeset as cautionary accidentals. They are by default printed with parentheses, but they can also be printed in reduced size by defining the cautionary-style property of AccidentalSuggestion.\n\n \n\nmodern-voice\nThis rule is used for multivoice accidentals to be read both by musicians playing one voice and musicians playing all voices. Accidentals are typeset for each voice, but they are canceled across voices in the same Staff. Hence, the\xa0a in the last measure is canceled because the previous cancellation was in a different voice, and the\xa0d in the lower staff is canceled because of the accidental in a different voice in the previous measure:\n\n \n\nmodern-voice-cautionary\nThis rule is the same as modern-voice, but with the extra accidentals (the ones not typeset by voice) typeset as cautionaries. Even though all accidentals typeset by default are typeset with this rule, some of them are typeset as cautionaries.\n\n \n\npiano\nThis rule reflects twentieth-century practice for piano notation. Its behavior is very similar to modern style, but here accidentals also get canceled across the staves in the same GrandStaff or PianoStaff, hence all the cancellations of the final notes.\n\nThis accidental style applies to the current GrandStaff or PianoStaff by default.\n\n \n\npiano-cautionary\nThis is the same as piano but with the extra accidentals typeset as cautionaries.\n\n \n\nneo-modern\nThis rule reproduces a common practice in contemporary music: accidentals are printed like with modern, but they are printed again if the same note appears later in the same measure \u2013 except if the note is immediately repeated.\n\n \n\nneo-modern-cautionary\nThis rule is similar to neo-modern, but the extra accidentals are printed as cautionary accidentals.\n\n \n\nneo-modern-voice\nThis rule is used for multivoice accidentals to be read both by musicians playing one voice and musicians playing all voices. Accidentals are typeset for each voice as with neo-modern, but they are canceled across voices in the same Staff.\n\n \n\nneo-modern-voice-cautionary\nThis rule is similar to neo-modern-voice, but the extra accidentals are printed as cautionary accidentals.\n\n \n\ndodecaphonic\nThis rule reflects a practice introduced by composers at the beginning of the 20th century, in an attempt to abolish the hierarchy between natural and non-natural notes. With this style, every note gets an accidental sign, including natural signs.\n\n \n\nteaching\nThis rule is intended for students, and makes it easy to create scale sheets with automatically created cautionary accidentals. Accidentals are printed like with modern, but cautionary accidentals are added for all sharp or flat tones specified by the key signature, except if the note is immediately repeated.\n\n \n\nno-reset\nThis is the same as default but with accidentals lasting \u2018forever\u2019 and not only within the same measure:\n\n \n\nforget\nThis is the opposite of no-reset: Accidentals are not remembered at all \u2013 and hence all accidentals are typeset relative to the key signature, regardless of what came before in the music.\n\n \n\n"},{label:"\\default",detail:"Automatic accidentals",documentation:"This is the default typesetting behavior. It corresponds to eighteenth-century common practice: accidentals are remembered to the end of the measure in which they occur and only in their own octave. Thus, in the example below, no natural signs are printed before the\xa0b in the second measure or the last\xa0c:"},{label:"\\default-staff-staff-spacing",detail:"Within-system spacing properties",documentation:"The within-system vertical spacing mechanisms are controlled by two sets of grob properties. The first set is associated with the VerticalAxisGroup grob, which is created by all staves and non-staff lines. The second set is associated with the StaffGrouper grob, which can be created by staff-groups, but only if explicitly called. These properties are described individually at the end of this section.\n\nThe names of these properties (except for staff-affinity) follow the format item1-item2-spacing, where item1 and item2 are the items to be spaced. Note that item2 is not necessarily below item1; for example, nonstaff-relatedstaff-spacing will measure upwards from the non-staff line if staff-affinity is UP.\n\nEach distance is measured between the reference points of the two items. The reference point for a staff is the vertical center of its StaffSymbol (i.e. the middle line if line-count is odd; the middle space if line-count is even). The reference points for individual non-staff lines are given in the following table:\n\nNon-staff line\tReference point\nChordNames\tbaseline\nNoteNames\tbaseline\nLyrics\tbaseline\nDynamics\tmid-height of \u2018m\u2019\nFiguredBass\thighest point\nFretBoards\ttop line\n\n\nIn the following image, horizontal lines indicate the positions of these reference points:\n\nEach of the vertical spacing grob properties (except staff-affinity) uses the same alist structure as the \\paper spacing variables discussed in Flexible vertical spacing \\paper variables. Specific methods for modifying alists are discussed in Modifying alists. Grob properties should be adjusted with an \\override inside a \\score or \\layout block, and not inside a \\paper block.\n\nThe following example demonstrates the two ways these alists can be modified. The first declaration updates one key-value individually, and the second completely re-defines the property:\n\n    \\new Staff \\with {\n      \\override VerticalAxisGroup.default-staff-staff-spacing.basic-distance = #10\n    } { \u2026 }\n    \\new Staff \\with {\n      \\override VerticalAxisGroup.default-staff-staff-spacing =\n        #'((basic-distance . 10)\n           (minimum-distance . 9)\n           (padding . 1)\n           (stretchability . 10))\n    } { \u2026 }\n\nTo change any spacing settings globally, put them in the \\layout block:\n\n    \\layout {\n      \\context {\n        \\Staff\n        \\override VerticalAxisGroup.default-staff-staff-spacing.basic-distance = #10\n      }\n    }\n\nStandard settings for the vertical spacing grob properties are listed in VerticalAxisGroup and StaffGrouper. Default overrides for specific types of non-staff lines are listed in the relevant context descriptions in Contexts."},{label:"\\defaultBarType",detail:"Bar lines",documentation:'The command \u2018\\bar bartype\u2019 is a shortcut for \u2018\\set Timing.whichBar = bartype\u2019. A bar line is created whenever the whichBar property is set.\n\nThe default bar type used for automatically inserted bar lines is "|". This may be changed at any time with \u2018\\set Timing.defaultBarType = bartype\u2019.'},{label:"\\defaultNoteHeads",detail:"A.18 Available music functions",documentation:"Revert to the default note head style."},{label:"\\defaultTimeSignature",detail:"Time signature",documentation:"The time signature symbol that is used in 2/2 and 4/4 time can be changed to a numeric style:\n\n    % Default style\n    \\time 4/4 c1\n    \\time 2/2 c1\n    % Change to numeric style\n    \\numericTimeSignature\n    \\time 4/4 c1\n    \\time 2/2 c1\n    % Revert to default style\n    \\defaultTimeSignature\n    \\time 4/4 c1\n    \\time 2/2 c1\n\nMensural time signatures are covered in Mensural time signatures."},{label:"\\defineBarLine",detail:"Bar lines",documentation:'New bar line types can be defined with \\defineBarLine:\n\n    \\defineBarLine bartype #\'(end begin span)\n\nThe \\defineBarline variables can include the \u2018empty\u2019 string "", which is equivalent to an invisible bar line being printed. Or they can be set to #f which prints no bar line at all.\n\nAfter the definiton, the new bar line can be used by \\bar bartype.\n\nThere are currently ten bar line elements available:\n\n    \\defineBarLine ":" #\'("" ":" "")\n    \\defineBarLine "=" #\'("=" "" "")\n    \\defineBarLine "[" #\'("" "[" "")\n    \\defineBarLine "]" #\'("]" "" "")\n    \\new Staff {\n      s1 \\bar "|"\n      s1 \\bar "."\n      s1 \\bar "!"\n      s1 \\bar ";"\n      s1 \\bar ":"\n      s1 \\bar "k"\n      s1 \\bar "S"\n      s1 \\bar "="\n      s1 \\bar "["\n      s1 \\bar "]"\n      s1 \\bar ""\n    }\n\nThe "=" bar line provides the double span bar line, used in combination with the segno sign. Do not use it as a standalone double thin bar line; here, \\bar "||" is preferred.\n\nThe "-" sign starts annotations to bar lines which are useful to distinguish those with identical appearance but different behavior at line breaks and/or different span bars. The part following the "-" sign is not used for building up the bar line.\n\n    \\defineBarLine "||-dashedSpan" #\'("||" "" "!!")\n    \\new StaffGroup <<\n      \\new Staff {\n        c1 \\bar "||"\n        c1 \\bar "||-dashedSpan"\n        c1\n      }\n      \\new Staff {\n        c1\n        c1\n        c1\n      }\n    >>\n\nFurthermore, the space character " " serves as a placeholder for defining span bars correctly aligned to the main bar lines:\n\n    \\defineBarLine ":|.-wrong" #\'(":|." "" "|.")\n    \\defineBarLine ":|.-right" #\'(":|." "" " |.")\n    \\new StaffGroup <<\n      \\new Staff {\n        c1 \\bar ":|.-wrong"\n        c1 \\bar ":|.-right"\n        c1\n      }\n      \\new Staff {\n        c1\n        c1\n        c1\n      }\n    >>\n\nIf additional elements are needed, LilyPond provides a simple way to define them. For more informations on modifying or adding bar lines, see file \u2018scm/bar-line.scm\u2019.\n\nIn scores with many staves, a \\bar command in one staff is automatically applied to all staves. The resulting bar lines are connected between different staves of a StaffGroup, PianoStaff, or GrandStaff.\n\n    <<\n      \\new StaffGroup <<\n        \\new Staff {\n          e4 d\n          \\bar "||"\n          f4 e\n        }\n        \\new Staff { \\clef bass c4 g e g }\n      >>\n      \\new Staff { \\clef bass c2 c2 }\n    >>'},{label:"\\defineBarLine",detail:"A.18 Available music functions",documentation:"Define bar line settings for bar line bar. The list glyph-list must have three entries which define the appearance at the end of line, at the beginning of the next line, and the span bar, respectively."},{label:"\\denies",detail:"5.1.6 Defining new contexts",documentation:'Specific contexts, like Staff and Voice, are made from simple building blocks. It is possible to create new types of contexts with different combinations of engraver plug-ins.\n\nThe next example shows how to build a different type of Voice context from scratch. It will be similar to Voice, but only prints centered slash note heads. It can be used to indicate improvisation in jazz pieces,\n\nThese settings are defined within a \\context block inside a \\layout block,\n\n    \\layout {\n      \\context {\n        \u2026\n      }\n    }\n\nIn the following discussion, the example input shown should go in place of the \u2026 in the previous fragment.\n\nFirst it is necessary to define a name for the new context:\n\n    \\name ImproVoice\n\nSince it is similar to the Voice context, we want commands that work in (existing) Voice contexts to continue working. This is achieved by giving the new context an alias of Voice,\n\n    \\alias Voice\n\nThe context will print notes and instructive texts, so we need to add the engravers which provide this functionality, plus the engraver which groups notes, stems and rests which occur at the same musical moment into columns,\n\n    \\consists "Note_heads_engraver"\n    \\consists "Text_engraver"\n    \\consists "Rhythmic_column_engraver"\n\nThe note heads should all be placed on the center line,\n\n    \\consists "Pitch_squash_engraver"\n    squashedPosition = #0\n\nThe Pitch_squash_engraver modifies note heads (created by the Note_heads_engraver) and sets their vertical position to the value of squashedPosition, in this case\xa00, the center line.\n\nThe notes look like a slash, and have no stem,\n\n    \\override NoteHead.style = #\'slash\n    \\hide Stem\n\nAll these plug-ins have to communicate under the control of the context. The mechanisms with which contexts communicate are established by declaring the context \\type. Within a \\layout block, most contexts will be of type Engraver_group. Some special contexts and contexts in \\midi blocks use other context types. Copying and modifying an existing context definition will also fill in the type. Since this example creates a definition from scratch, it needs to be specified explicitly.\n\n    \\type "Engraver_group"\n\nPut together, we get\n\n    \\context {\n      \\name ImproVoice\n      \\type "Engraver_group"\n      \\consists "Note_heads_engraver"\n      \\consists "Text_engraver"\n      \\consists "Rhythmic_column_engraver"\n      \\consists "Pitch_squash_engraver"\n      squashedPosition = #0\n      \\override NoteHead.style = #\'slash\n      \\hide Stem\n      \\alias Voice\n    }'},{label:"\\dim",detail:"Dynamics",documentation:"Textual crescendo marks begin with \\cresc. Textual decrescendos begin with \\decresc or \\dim. Extender lines are engraved as required.\n\n    g8\\cresc a b c b c d e\\mf |\n    f8\\decresc e d c e\\> d c b |\n    a1\\dim ~ |\n    a2. r4\\! |"},{label:"\\dim",detail:"Common chords",documentation:"The table below shows the actions of the quality modifiers on triads and seventh chords. The default seventh step added to chords is a minor or flatted seventh, which makes the dominant seventh the basic seventh chord. All alterations are relative to the dominant seventh. A more complete table of modifier usage is found at Common chord modifiers.\n\nModifier\tAction\tExample\nNone\tThe default action; produces a major triad.\t\n \n\nm, m7\tThe minor chord. This modifier lowers the 3rd.\t\n \n\ndim, dim7\tThe diminished chord. This modifier lowers the 3rd, 5th and (if present) the 7th step.\t\n \n\naug\tThe augmented chord. This modifier raises the 5th step.\t\n \n\nmaj, maj7\tThe major 7th chord. This modifier adds a raised 7th step. The 7 following maj is optional. Do NOT use this modifier to create a major triad.\t\n \n\n"},{label:"\\dimHairpin",detail:"Dynamics",documentation:"Textual marks for dynamic changes can also replace hairpins:\n\n    \\crescTextCresc\n    c4\\< d e f\\! |\n    \\dimTextDecresc\n    g4\\> e d c\\! |\n    \\dimTextDecr\n    e4\\> d c b\\! |\n    \\dimTextDim\n    d4\\> c b a\\! |\n    \\crescHairpin\n    \\dimHairpin\n    c4\\< d\\! e\\> d\\! |\n\nTo create new absolute dynamic marks or text that should be aligned with dynamics, see New dynamic marks."},{label:"\\dimTextDecr",detail:"Dynamics",documentation:"Textual marks for dynamic changes can also replace hairpins:\n\n    \\crescTextCresc\n    c4\\< d e f\\! |\n    \\dimTextDecresc\n    g4\\> e d c\\! |\n    \\dimTextDecr\n    e4\\> d c b\\! |\n    \\dimTextDim\n    d4\\> c b a\\! |\n    \\crescHairpin\n    \\dimHairpin\n    c4\\< d\\! e\\> d\\! |\n\nTo create new absolute dynamic marks or text that should be aligned with dynamics, see New dynamic marks."},{label:"\\dimTextDecresc",detail:"Dynamics",documentation:"Textual marks for dynamic changes can also replace hairpins:\n\n    \\crescTextCresc\n    c4\\< d e f\\! |\n    \\dimTextDecresc\n    g4\\> e d c\\! |\n    \\dimTextDecr\n    e4\\> d c b\\! |\n    \\dimTextDim\n    d4\\> c b a\\! |\n    \\crescHairpin\n    \\dimHairpin\n    c4\\< d\\! e\\> d\\! |\n\nTo create new absolute dynamic marks or text that should be aligned with dynamics, see New dynamic marks."},{label:"\\dimTextDim",detail:"Dynamics",documentation:"Textual marks for dynamic changes can also replace hairpins:\n\n    \\crescTextCresc\n    c4\\< d e f\\! |\n    \\dimTextDecresc\n    g4\\> e d c\\! |\n    \\dimTextDecr\n    e4\\> d c b\\! |\n    \\dimTextDim\n    d4\\> c b a\\! |\n    \\crescHairpin\n    \\dimHairpin\n    c4\\< d\\! e\\> d\\! |\n\nTo create new absolute dynamic marks or text that should be aligned with dynamics, see New dynamic marks."},{label:"\\displayLilyMusic",detail:"A.18 Available music functions",documentation:"Display the LilyPond input representation of music to the console."},{label:"\\displayMusic",detail:"A.18 Available music functions",documentation:"Display the internal representation of music to the console."},{label:"\\displayScheme",detail:"A.18 Available music functions",documentation:"Display the internal representation of expr to the console."},{label:"\\dodecaphonic",detail:"Automatic accidentals",documentation:"This rule reflects a practice introduced by composers at the beginning of the 20th century, in an attempt to abolish the hierarchy between natural and non-natural notes. With this style, every note gets an accidental sign, including natural signs."},{label:"\\dorian",detail:"Key signature",documentation:'Here, mode should be \\major or \\minor to get a key signature of pitch-major or pitch-minor, respectively. You may also use the standard mode names, also called church modes: \\ionian, \\dorian, \\phrygian, \\lydian, \\mixolydian, \\aeolian, and \\locrian.\n\n    \\key g \\major\n    fis1\n    f\n    fis\n\nAdditional modes can be defined, by listing the alterations for each scale step when the mode starts on C.\n\n    freygish = #`((0 . ,NATURAL) (1 . ,FLAT) (2 . ,NATURAL)\n        (3 . ,NATURAL) (4 . ,NATURAL) (5 . ,FLAT) (6 . ,FLAT))\n    \\relative c\' {\n      \\key c \\freygish c4 des e f\n      \\bar "||" \\key d \\freygish d es fis g\n    }\n\nAccidentals in the key signature may be printed in octaves other than their traditional positions, or in multiple octaves, by using the flat-positions and sharp-positions properties of KeySignature. Entries in these properties specify the range of staff-positions where accidentals will be printed. If a single position is specified in an entry, the accidentals are placed within the octave ending at that staff position.\n\n    \\override Staff.KeySignature.flat-positions = #\'((-5 . 5))\n    \\override Staff.KeyCancellation.flat-positions = #\'((-5 . 5))\n    \\clef bass \\key es \\major es g bes d\n    \\clef treble \\bar "||" \\key es \\major es g bes d\n    \\override Staff.KeySignature.sharp-positions = #\'(2)\n    \\bar "||" \\key b \\major b fis b2'},{label:"\\dotsDown",detail:"Durations",documentation:"Dots are normally moved up to avoid staff lines, except in polyphonic situations. Dots may be manually placed above or below the staff; see Direction and placement."},{label:"\\dotsNeutral",detail:"Durations",documentation:"Dots are normally moved up to avoid staff lines, except in polyphonic situations. Dots may be manually placed above or below the staff; see Direction and placement."},{label:"\\dotsUp",detail:"Durations",documentation:"Dots are normally moved up to avoid staff lines, except in polyphonic situations. Dots may be manually placed above or below the staff; see Direction and placement."},{label:"\\draw-circle",detail:"Graphic notation inside markup",documentation:"Other graphic elements or symbols may be printed without requiring any text. As with any markup expression, such objects can be combined.\n\n    \\markup {\n      \\combine\n        \\draw-circle #4 #0.4 ##f\n        \\filled-box #'(-4 . 4) #'(-0.5 . 0.5) #1\n      \\hspace #5\n      \\center-column {\n        \\triangle ##t\n        \\combine\n          \\draw-line #'(0 . 4)\n          \\arrow-head #Y #DOWN ##f\n      }\n    }"},{label:"\\draw-line",detail:"Graphic notation inside markup",documentation:"Other graphic elements or symbols may be printed without requiring any text. As with any markup expression, such objects can be combined.\n\n    \\markup {\n      \\combine\n        \\draw-circle #4 #0.4 ##f\n        \\filled-box #'(-4 . 4) #'(-0.5 . 0.5) #1\n      \\hspace #5\n      \\center-column {\n        \\triangle ##t\n        \\combine\n          \\draw-line #'(0 . 4)\n          \\arrow-head #Y #DOWN ##f\n      }\n    }"},{label:"\\drummode",detail:"Instantiating new staves",documentation:"Staves (singular: staff) are created with the \\new or \\context commands. For details, see Creating and referencing contexts.\n\nThe basic staff context is Staff:\n\n    \\new Staff { c4 d e f }\n\nThe DrumStaff context creates a five-line staff set up for a typical drum set. Each instrument is shown with a different symbol. The instruments are entered in drum mode following a \\drummode command, with each instrument specified by name. For details, see Percussion staves.\n\n    \\new DrumStaff {\n      \\drummode { cymc hh ss tomh }\n    }\n\nRhythmicStaff creates a single-line staff that only displays the rhythmic values of the input. Real durations are preserved. For details, see Showing melody rhythms.\n\n    \\new RhythmicStaff { c4 d e f }\n\nTabStaff creates a tablature with six strings in standard guitar tuning. For details, see Default tablatures.\n\n    \\new TabStaff { c4 d e f }\n\nThere are two staff contexts specific for the notation of ancient music: MensuralStaff and VaticanaStaff. They are described in Pre-defined contexts.\n\nThe GregorianTranscriptionStaff context creates a staff to notate modern Gregorian chant. It does not show bar lines.\n\n    \\new GregorianTranscriptionStaff { c4 d e f e d }\n\nNew single staff contexts may be defined. For details, see Defining new contexts."},{label:"DrumStaff",detail:"Instantiating new staves",documentation:"Staves (singular: staff) are created with the \\new or \\context commands. For details, see Creating and referencing contexts.\n\nThe basic staff context is Staff:\n\n    \\new Staff { c4 d e f }\n\nThe DrumStaff context creates a five-line staff set up for a typical drum set. Each instrument is shown with a different symbol. The instruments are entered in drum mode following a \\drummode command, with each instrument specified by name. For details, see Percussion staves.\n\n    \\new DrumStaff {\n      \\drummode { cymc hh ss tomh }\n    }\n\nRhythmicStaff creates a single-line staff that only displays the rhythmic values of the input. Real durations are preserved. For details, see Showing melody rhythms.\n\n    \\new RhythmicStaff { c4 d e f }\n\nTabStaff creates a tablature with six strings in standard guitar tuning. For details, see Default tablatures.\n\n    \\new TabStaff { c4 d e f }\n\nThere are two staff contexts specific for the notation of ancient music: MensuralStaff and VaticanaStaff. They are described in Pre-defined contexts.\n\nThe GregorianTranscriptionStaff context creates a staff to notate modern Gregorian chant. It does not show bar lines.\n\n    \\new GregorianTranscriptionStaff { c4 d e f e d }\n\nNew single staff contexts may be defined. For details, see Defining new contexts."},{label:"\\dynamic",detail:"New dynamic marks",documentation:"In markup mode, editorial dynamics (within parentheses or square brackets) can be created. The syntax for markup mode is described in Formatting text.\n\n    roundF = \\markup {\n        \\center-align \\concat { \\bold { \\italic ( }\n               \\dynamic f \\bold { \\italic ) } } }\n    boxF = \\markup { \\bracket { \\dynamic f } }\n    \\relative c' {\n      c1_\\roundF\n      c1_\\boxF\n    }"},{label:"\\dynamicDown",detail:"Dynamics",documentation:""},{label:"DynamicLineSpanner",detail:"Dynamics",documentation:"Vertical positioning of dynamics is handled by DynamicLineSpanner.\n\nA Dynamics context is available to engrave dynamics on their own horizontal line. Use spacer rests to indicate timing. (Notes in a Dynamics context will also take up musical time, but will not be engraved.) The Dynamics context can usefully contain some other items such as text scripts, text spanners, and piano pedal marks.\n\n    <<\n      \\new Staff \\relative c' {\n        c2 d4 e |\n        c4 e e,2 |\n        g'4 a g a |\n        c1 |\n      }\n      \\new Dynamics {\n        s1\\< |\n        s1\\f |\n        s2\\dim s2-\"rit.\" |\n        s1\\p |\n      }\n    >>"},{label:"\\dynamicNeutral",detail:"Dynamics",documentation:""},{label:"\\dynamicUp",detail:"Dynamics",documentation:""},{label:"\\easyHeadsOff",detail:"Easy notation note heads",documentation:"The \u2018easy play\u2019 note head includes a note name inside the head. It is used in music for beginners. To make the letters readable, it should be printed in a large font size. To print with a larger font, see Setting the staff size.\n\n    #(set-global-staff-size 26)\n    \\relative c' {\n      \\easyHeadsOn\n      c2 e4 f\n      g1\n      \\easyHeadsOff\n      c,1\n    }"},{label:"\\easyHeadsOn",detail:"Easy notation note heads",documentation:"The \u2018easy play\u2019 note head includes a note name inside the head. It is used in music for beginners. To make the letters readable, it should be printed in a large font size. To print with a larger font, see Setting the staff size.\n\n    #(set-global-staff-size 26)\n    \\relative c' {\n      \\easyHeadsOn\n      c2 e4 f\n      g1\n      \\easyHeadsOff\n      c,1\n    }"},{label:"\\endSpanners",detail:"A.18 Available music functions",documentation:"Terminate the next spanner prematurely after exactly one note without the need of a specific end spanner."},{label:"\\epsfile",detail:"Graphic notation inside markup",documentation:'Advanced graphic features include the ability to include external image files converted to the Encapsulated PostScript format (eps), or to directly embed graphics into the input file, using native PostScript code. In such a case, it may be useful to explicitly specify the size of the drawing, as demonstrated below:\n\n    c1^\\markup {\n      \\combine\n        \\epsfile #X #10 #"./context-example.eps"\n        \\with-dimensions #\'(0 . 6) #\'(0 . 10)\n        \\postscript #"\n          -2 3 translate\n          2.7 2 scale\n          newpath\n          2 -1 moveto\n          4 -2 4 1 1 arct\n          4 2 3 3 1 arct\n          0 4 0 3 1 arct\n          0 0 1 -1 1 arct\n          closepath\n          stroke"\n      }\n    c\n\nAn exhaustive list of graphics-specific commands can be found in Graphic.'},{label:"\\espressivo",detail:"Dynamics",documentation:"The \\espressivo command can be used to indicate a crescendo and decrescendo on the same note. However, be warned that this is implemented as an articulation, not a dynamic.\n\n    c2 b4 a\n    g1\\espressivo"},{label:"\\eventChords",detail:"A.18 Available music functions",documentation:"Compatibility function wrapping EventChord around isolated rhythmic events occuring since version 2.15.28, after expanding repeat chords \u2018q\u2019."},{label:"\\expandFullBarRests",detail:"Full measure rests",documentation:"By default a multi-measure rest is expanded in the printed score to show all the rest measures explicitly. Alternatively, a multi-measure rest can be shown as a single measure containing a multi-measure rest symbol, with the number of measures of rest printed above the measure:\n\n    % Default behavior\n    \\time 3/4 r2. | R2.*2 |\n    \\time 2/4 R2 |\n    \\time 4/4\n    % Rest measures contracted to single measure\n    \\compressFullBarRests\n    r1 | R1*17 | R1*4 |\n    % Rest measures expanded\n    \\expandFullBarRests\n    \\time 3/4\n    R2.*2 |"},{label:"\\expandFullBarRests",detail:"Full measure rests",documentation:"\\textLengthOn, \\textLengthOff, \\fermataMarkup, \\compressFullBarRests, \\expandFullBarRests."},{label:"\\extra-offset",detail:"Within-system spacing properties",documentation:"The within-system vertical spacing mechanisms are controlled by two sets of grob properties. The first set is associated with the VerticalAxisGroup grob, which is created by all staves and non-staff lines. The second set is associated with the StaffGrouper grob, which can be created by staff-groups, but only if explicitly called. These properties are described individually at the end of this section.\n\nThe names of these properties (except for staff-affinity) follow the format item1-item2-spacing, where item1 and item2 are the items to be spaced. Note that item2 is not necessarily below item1; for example, nonstaff-relatedstaff-spacing will measure upwards from the non-staff line if staff-affinity is UP.\n\nEach distance is measured between the reference points of the two items. The reference point for a staff is the vertical center of its StaffSymbol (i.e. the middle line if line-count is odd; the middle space if line-count is even). The reference points for individual non-staff lines are given in the following table:\n\nNon-staff line\tReference point\nChordNames\tbaseline\nNoteNames\tbaseline\nLyrics\tbaseline\nDynamics\tmid-height of \u2018m\u2019\nFiguredBass\thighest point\nFretBoards\ttop line\n\n\nIn the following image, horizontal lines indicate the positions of these reference points:\n\nEach of the vertical spacing grob properties (except staff-affinity) uses the same alist structure as the \\paper spacing variables discussed in Flexible vertical spacing \\paper variables. Specific methods for modifying alists are discussed in Modifying alists. Grob properties should be adjusted with an \\override inside a \\score or \\layout block, and not inside a \\paper block.\n\nThe following example demonstrates the two ways these alists can be modified. The first declaration updates one key-value individually, and the second completely re-defines the property:\n\n    \\new Staff \\with {\n      \\override VerticalAxisGroup.default-staff-staff-spacing.basic-distance = #10\n    } { \u2026 }\n    \\new Staff \\with {\n      \\override VerticalAxisGroup.default-staff-staff-spacing =\n        #'((basic-distance . 10)\n           (minimum-distance . 9)\n           (padding . 1)\n           (stretchability . 10))\n    } { \u2026 }\n\nTo change any spacing settings globally, put them in the \\layout block:\n\n    \\layout {\n      \\context {\n        \\Staff\n        \\override VerticalAxisGroup.default-staff-staff-spacing.basic-distance = #10\n      }\n    }\n\nStandard settings for the vertical spacing grob properties are listed in VerticalAxisGroup and StaffGrouper. Default overrides for specific types of non-staff lines are listed in the relevant context descriptions in Contexts."},{label:"\\f",detail:"Dynamics",documentation:"Absolute dynamic marks are specified using a command after a note, such as c4\\ff. The available dynamic marks are \\ppppp, \\pppp, \\ppp, \\pp, \\p, \\mp, \\mf, \\f, \\ff, \\fff, \\ffff, \\fffff, \\fp, \\sf, \\sff, \\sp, \\spp, \\sfz, and \\rfz. Dynamic marks may be manually placed above or below the staff; see Direction and placement.\n\n    c2\\ppp c\\mp\n    c2\\rfz c^\\mf\n    c2_\\spp c^\\ff"},{label:"\\featherDurations",detail:"Feathered beams",documentation:"Feathered beams are used to indicate that a small group of notes should be played at an increasing (or decreasing) tempo, without changing the overall tempo of the piece. The extent of the feathered beam must be indicated manually using [ and ], and the beam feathering is turned on by specifying a direction to the Beam property grow-direction.\n\nIf the placement of the notes and the sound in the MIDI output is to reflect the ritardando or accelerando indicated by the feathered beam the notes must be grouped as a music expression delimited by braces and preceded by a featherDurations command which specifies the ratio between the durations of the first and last notes in the group.\n\nThe square brackets show the extent of the beam and the braces show which notes are to have their durations modified. Normally these would delimit the same group of notes, but this is not required: the two commands are independent.\n\nIn the following example the eight 16th notes occupy exactly the same time as a half note, but the first note is one half as long as the last one, with the intermediate notes gradually lengthening. The first four 32nd notes gradually speed up, while the last four 32nd notes are at a constant tempo.\n\n    \\override Beam.grow-direction = #LEFT\n    \\featherDurations #(ly:make-moment 2/1)\n    { c16[ c c c c c c c] }\n    \\override Beam.grow-direction = #RIGHT\n    \\featherDurations #(ly:make-moment 2/3)\n    { c32[ d e f] }\n    % revert to non-feathered beams\n    \\override Beam.grow-direction = #'()\n    { g32[ a b c] }\n\nThe spacing in the printed output represents the note durations only approximately, but the MIDI output is exact."},{label:"\\featherDurations",detail:"A.18 Available music functions",documentation:"Adjust durations of music in argument by rational factor."},{label:"\\fermataMarkup",detail:"Full measure rests",documentation:'Markups can be added to multi-measure rests. The predefined command \\fermataMarkup is provided for adding fermatas.\n\n    \\compressFullBarRests\n    \\time 3/4\n    R2.*10^\\markup { \\italic "ad lib." }\n    R2.^\\fermataMarkup\n\nNote: Markups attached to a multi-measure rest are objects of type MultiMeasureRestText, not TextScript. Overrides must be directed to the correct object, or they will be ignored. See the following example:\n\n\n\n    % This fails, as the wrong object name is specified\n    \\override TextScript.padding = #5\n    R1^"wrong"\n    % This is the correct object name to be specified\n    \\override MultiMeasureRestText.padding = #5\n    R1^"right"\n\nWhen a multi-measure rest immediately follows a \\partial setting, resulting bar-check warnings may not be displayed.'},{label:"\\fermataMarkup",detail:"Full measure rests",documentation:"\\textLengthOn, \\textLengthOff, \\fermataMarkup, \\compressFullBarRests, \\expandFullBarRests."},{label:"\\ff",detail:"Dynamics",documentation:"Absolute dynamic marks are specified using a command after a note, such as c4\\ff. The available dynamic marks are \\ppppp, \\pppp, \\ppp, \\pp, \\p, \\mp, \\mf, \\f, \\ff, \\fff, \\ffff, \\fffff, \\fp, \\sf, \\sff, \\sp, \\spp, \\sfz, and \\rfz. Dynamic marks may be manually placed above or below the staff; see Direction and placement.\n\n    c2\\ppp c\\mp\n    c2\\rfz c^\\mf\n    c2_\\spp c^\\ff"},{label:"\\fff",detail:"Dynamics",documentation:"Absolute dynamic marks are specified using a command after a note, such as c4\\ff. The available dynamic marks are \\ppppp, \\pppp, \\ppp, \\pp, \\p, \\mp, \\mf, \\f, \\ff, \\fff, \\ffff, \\fffff, \\fp, \\sf, \\sff, \\sp, \\spp, \\sfz, and \\rfz. Dynamic marks may be manually placed above or below the staff; see Direction and placement.\n\n    c2\\ppp c\\mp\n    c2\\rfz c^\\mf\n    c2_\\spp c^\\ff"},{label:"\\ffff",detail:"Dynamics",documentation:"Absolute dynamic marks are specified using a command after a note, such as c4\\ff. The available dynamic marks are \\ppppp, \\pppp, \\ppp, \\pp, \\p, \\mp, \\mf, \\f, \\ff, \\fff, \\ffff, \\fffff, \\fp, \\sf, \\sff, \\sp, \\spp, \\sfz, and \\rfz. Dynamic marks may be manually placed above or below the staff; see Direction and placement.\n\n    c2\\ppp c\\mp\n    c2\\rfz c^\\mf\n    c2_\\spp c^\\ff"},{label:"\\fffff",detail:"Dynamics",documentation:"Absolute dynamic marks are specified using a command after a note, such as c4\\ff. The available dynamic marks are \\ppppp, \\pppp, \\ppp, \\pp, \\p, \\mp, \\mf, \\f, \\ff, \\fff, \\ffff, \\fffff, \\fp, \\sf, \\sff, \\sp, \\spp, \\sfz, and \\rfz. Dynamic marks may be manually placed above or below the staff; see Direction and placement.\n\n    c2\\ppp c\\mp\n    c2\\rfz c^\\mf\n    c2_\\spp c^\\ff"},{label:"\\fill-line",detail:"Text alignment",documentation:'Similarly, a list of elements or expressions may be spread to fill the entire horizontal line width (if there is only one element, it will be centered on the page). These expressions can, in turn, include multi-line text or any other markup expression:\n\n    \\markup {\n      \\fill-line {\n        \\line { William S. Gilbert }\n        \\center-column {\n          \\huge \\smallCaps "The Mikado"\n          or\n          \\smallCaps "The Town of Titipu"\n        }\n        \\line { Sir Arthur Sullivan }\n      }\n    }\n    \\markup {\n      \\fill-line { 1885 }\n    }'},{label:"\\filled-box",detail:"Graphic notation inside markup",documentation:"Other graphic elements or symbols may be printed without requiring any text. As with any markup expression, such objects can be combined.\n\n    \\markup {\n      \\combine\n        \\draw-circle #4 #0.4 ##f\n        \\filled-box #'(-4 . 4) #'(-0.5 . 0.5) #1\n      \\hspace #5\n      \\center-column {\n        \\triangle ##t\n        \\combine\n          \\draw-line #'(0 . 4)\n          \\arrow-head #Y #DOWN ##f\n      }\n    }"},{label:"\\finger",detail:"Fingering instructions",documentation:'Fingering instructions can be entered using \u2018note-digit\u2019:\n\n    c4-1 d-2 f-4 e-3\n\nMarkup texts or strings may be used for finger changes.\n\n    c4-1 d-2 f\\finger \\markup \\tied-lyric #"4~3" c\\finger "2 - 3"'},{label:"\\finger",detail:"A.18 Available music functions",documentation:"Apply finger as a fingering indication."},{label:"\\first-page-number",detail:"\\paper variables for page numbering",documentation:"The value of the page number on the first page."},{label:"\\followVoice",detail:"Staff-change lines",documentation:'Whenever a voice switches to another staff, a line connecting the notes can be printed automatically:\n\n    \\new PianoStaff <<\n      \\new Staff = "one" {\n        \\showStaffSwitch\n        c1\n        \\change Staff = "two"\n        b2 a\n      }\n      \\new Staff = "two" {\n        \\clef bass\n        s1*2\n      }\n    >>'},{label:"\\font-interface",detail:"Selecting notation font size",documentation:"Font size changes are achieved by scaling the design size that is closest to the desired size. The standard font size (for font-size = #0) depends on the standard staff height. For a 20pt staff, a 10pt font is selected.\n\nThe font-size property can only be set on layout objects that use fonts. These are the ones supporting the font-interface layout interface."},{label:"\\font-interface",detail:"Fonts explained",documentation:"Fonts are handled through several libraries. FontConfig is used to detect available fonts on the system; the selected fonts are rendered using Pango.\n\nMusic notation fonts can be described as a set of specific glyphs, ordered in several families. The following syntax allows various LilyPond feta non-text fonts to be used directly in markup mode:\n\n    a1^\\markup {\n      \\vcenter {\n        \\override #'(font-encoding . fetaBraces)\n        \\lookup #\"brace120\"\n        \\override #'(font-encoding . fetaText)\n        \\column { 1 3 sf }\n        \\override #'(font-encoding . fetaMusic)\n        \\lookup #\"noteheads.s0petrucci\"\n      }\n    }\n\nHowever, all these glyphs except the braces of various sizes contained in fetaBraces are available using the simpler syntax described in Music notation inside markup.\n\nWhen using the glyphs contained in fetaBraces, the size of the brace is specified by the numerical part of the glyph name, in arbitrary units. Any integer from 0 to 575 inclusive may be specified, 0 giving the smallest brace. The optimum value must be determined by trial and error. These glyphs are all left braces; right braces may be obtained by rotation, see Rotating objects.\n\nThree families of text fonts are made available: the roman (serif) font, that defaults to New Century Schoolbook, the sans font and the monospaced typewriter font \u2013 these last two families are determined by the Pango installation.\n\nNote: There are no default fonts associated with the sans and typewriter font-families. An input file that specifies either of these can lead to different output on different computers. To ensure consistent output among multiple platforms, fonts must be specified by name, and those fonts must be available on any system that processes the file. See Single entry fonts and Entire document fonts.\n\n\n\nEach family may include different shapes and series. The following example demonstrates the ability to select alternate families, shapes, series and sizes. The value supplied to font-size is the required change from the default size.\n\n    \\override Score.RehearsalMark.font-family = #'typewriter\n    \\mark \\markup \"Ouverture\"\n    \\override Voice.TextScript.font-shape = #'italic\n    \\override Voice.TextScript.font-series = #'bold\n    d2.^\\markup \"Allegro\"\n    \\override Voice.TextScript.font-size = #-3\n    c4^smaller\n\nA similar syntax may be used in markup mode; however in this case it is preferable to use the simpler syntax explained in Selecting font and font size:\n\n    \\markup {\n      \\column {\n        \\line {\n          \\override #'(font-shape . italic)\n          \\override #'(font-size . 4)\n          Idomeneo,\n        }\n        \\line {\n          \\override #'(font-family . typewriter)\n          {\n            \\override #'(font-series . bold)\n            re\n            di\n          }\n          \\override #'(font-family . sans)\n          Creta\n        }\n      }\n    }\n\nAlthough it is easy to switch between preconfigured fonts, it is also possible to use other fonts, as explained in the following sections: Single entry fonts and Entire document fonts."},{label:"\\font-size",detail:"Selecting notation font size",documentation:"The font size of notation elements may be altered. It does not change the size of variable symbols, such as beams or slurs.\n\nNote: For font sizes of text, see Selecting font and font size.\n\n\n\n    \\huge\n    c4.-> d8---3\n    \\large\n    c4.-> d8---3\n    \\normalsize\n    c4.-> d8---3\n    \\small\n    c4.-> d8---3\n    \\tiny\n    c4.-> d8---3\n    \\teeny\n    c4.-> d8---3\n\nInternally, this sets the fontSize property. This in turn causes the font-size property to be set in all layout objects. The value of font-size is a number indicating the size relative to the standard size for the current staff height. Each step up is an increase of approximately 12% of the font size. Six steps is exactly a factor of two. The Scheme function magstep converts a font-size number to a scaling factor. The font-size property can also be set directly, so that only certain layout objects are affected.\n\n    \\set fontSize = #3\n    c4.-> d8---3\n    \\override NoteHead.font-size = #-4\n    c4.-> d8---3\n    \\override Script.font-size = #2\n    c4.-> d8---3\n    \\override Stem.font-size = #-5\n    c4.-> d8---3"},{label:"\\font-size",detail:"Selecting notation font size",documentation:"Font size changes are achieved by scaling the design size that is closest to the desired size. The standard font size (for font-size = #0) depends on the standard staff height. For a 20pt staff, a 10pt font is selected.\n\nThe font-size property can only be set on layout objects that use fonts. These are the ones supporting the font-interface layout interface."},{label:"\\fontsize",detail:"Selecting font and font size",documentation:"The font size can be altered, relative to the global staff size, in a number of different ways\n\nIt can be set to predefined size,\n\n    b1_\\markup { \\huge Sinfonia }\n    b1^\\markup { \\teeny da }\n    b1-\\markup { \\normalsize camera }\n\nIt can be set relative to its previous value,\n\n    b1_\\markup { \\larger Sinfonia }\n    b1^\\markup { \\smaller da }\n    b1-\\markup { \\magnify #0.6  camera }\n\nIt can be increased or decreased relative to the value set by the global staff size,\n\n    b1_\\markup { \\fontsize #-2 Sinfonia }\n    b1^\\markup { \\fontsize #1 da }\n    b1-\\markup { \\fontsize #3 camera }\n\nIt can also be set to a fixed point-size, regardless of the global staff size,\n\n    b1_\\markup { \\abs-fontsize #20 Sinfonia }\n    b1^\\markup { \\abs-fontsize #8 da }\n    b1-\\markup { \\abs-fontsize #14 camera }"},{label:"\\fontSize",detail:"Selecting notation font size",documentation:"The font size of notation elements may be altered. It does not change the size of variable symbols, such as beams or slurs.\n\nNote: For font sizes of text, see Selecting font and font size.\n\n\n\n    \\huge\n    c4.-> d8---3\n    \\large\n    c4.-> d8---3\n    \\normalsize\n    c4.-> d8---3\n    \\small\n    c4.-> d8---3\n    \\tiny\n    c4.-> d8---3\n    \\teeny\n    c4.-> d8---3\n\nInternally, this sets the fontSize property. This in turn causes the font-size property to be set in all layout objects. The value of font-size is a number indicating the size relative to the standard size for the current staff height. Each step up is an increase of approximately 12% of the font size. Six steps is exactly a factor of two. The Scheme function magstep converts a font-size number to a scaling factor. The font-size property can also be set directly, so that only certain layout objects are affected.\n\n    \\set fontSize = #3\n    c4.-> d8---3\n    \\override NoteHead.font-size = #-4\n    c4.-> d8---3\n    \\override Script.font-size = #2\n    c4.-> d8---3\n    \\override Stem.font-size = #-5\n    c4.-> d8---3"},{label:"\\footnote",detail:"A.18 Available music functions",documentation:"Make the markup footnote a footnote on item. The footnote is marked with a markup mark moved by offset with respect to the marked music.\n\nIf mark is not given or specified as \\default, it is replaced by an automatically generated sequence number. If item is a symbol list of form \u2018Grob\u2019 or \u2018Context.Grob\u2019, then grobs of that type will be marked at the current time step in the given context (default Bottom).\n\nIf item is music, the music will get a footnote attached to a grob immediately attached to the event, like \\tweak does. For attaching a footnote to an indirectly caused grob, write \\single\\footnote, use item to specify the grob, and follow it with the music to annotate.\n\nLike with \\tweak, if you use a footnote on a following post-event, the \\footnote command itself needs to be attached to the preceding note or rest as a post-event with -."},{label:"\\forget",detail:"Automatic accidentals",documentation:"This is the opposite of no-reset: Accidentals are not remembered at all \u2013 and hence all accidentals are typeset relative to the key signature, regardless of what came before in the music."},{label:"\\four-string-banjo",detail:"Banjo tablatures",documentation:"A number of common tunings for the five-string banjo are predefined: banjo-c-tuning (gCGBD), banjo-modal-tuning (gDGCD), banjo-open-d-tuning (aDF#AD) and banjo-open-dm-tuning (aDFAD).\n\nThese may be converted to four-string tunings using the four-string-banjo function:\n\n    \\set TabStaff.stringTunings = #(four-string-banjo banjo-c-tuning)"},{label:"\\fp",detail:"Dynamics",documentation:"Absolute dynamic marks are specified using a command after a note, such as c4\\ff. The available dynamic marks are \\ppppp, \\pppp, \\ppp, \\pp, \\p, \\mp, \\mf, \\f, \\ff, \\fff, \\ffff, \\fffff, \\fp, \\sf, \\sff, \\sp, \\spp, \\sfz, and \\rfz. Dynamic marks may be manually placed above or below the staff; see Direction and placement.\n\n    c2\\ppp c\\mp\n    c2\\rfz c^\\mf\n    c2_\\spp c^\\ff"},{label:"\\fret-diagram",detail:"Fret diagram markups",documentation:'The size of the fret diagram, and the number of frets in the diagram can be changed in the fret-diagram markup string.\n\n    <<\n      \\new ChordNames {\n         \\chordmode {\n           f1 g\n         }\n      }\n      \\new Staff {\n        \\clef "treble_8"\n        <f, c f a c\' f\'>1^\\markup {\n          \\fret-diagram #"s:1.5;c:6-1-1;6-1;5-3;4-3;3-2;2-1;1-1;"\n        }\n        <g, b, d g b g\'>1^\\markup {\n          \\fret-diagram #"h:6;6-3;5-2;4-o;3-o;2-o;1-3;"\n        }\n      }\n    >>\n\nThe number of strings in a fret diagram can be changed to accommodate different instruments such as banjos and ukuleles with the fret-diagram markup string.\n\n    <<\n      \\new ChordNames {\n        \\chordmode {\n          a1\n        }\n      }\n      \\new Staff {\n        % An \'A\' chord for ukulele\n        a\'1^\\markup {\n          \\fret-diagram #"w:4;4-2-2;3-1-1;2-o;1-o;"\n        }\n      }\n    >>\n\nFingering indications can be added, and the location of fingering labels can be controlled by the fret-diagram markup string.\n\n    <<\n      \\new ChordNames {\n        \\chordmode {\n          c1 d:m\n        }\n      }\n      \\new Staff {\n        \\clef "treble_8"\n        <c e g c\' e\'>1^\\markup {\n          \\fret-diagram #"f:1;6-x;5-3-3;4-2-2;3-o;2-1-1;1-o;"\n        }\n        <d a d\' f\'>1^\\markup {\n          \\fret-diagram #"f:2;6-x;5-x;4-o;3-2-2;2-3-3;1-1-1;"\n        }\n      }\n    >>\n\nDot radius and dot position can be controlled with the fret-diagram markup string.\n\n    <<\n      \\new ChordNames {\n        \\chordmode {\n          c1 d:m\n        }\n      }\n      \\new Staff {\n        \\clef "treble_8"\n        <c e g c\' e\'>1^\\markup {\n          \\fret-diagram #"d:0.35;6-x;5-3;4-2;3-o;2-1;1-o;"\n        }\n        <d a d\' f\'>1^\\markup {\n          \\fret-diagram #"p:0.2;6-x;5-x;4-o;3-2;2-3;1-1;"\n        }\n      }\n    >>'},{label:"\\fret-diagram-interface",detail:"Fret diagram markups",documentation:"The graphical layout of a fret diagram can be customized according to user preference through the properties of the fret-diagram-interface. Details are found at fret-diagram-interface. For a fret diagram markup, the interface properties belong to Voice.TextScript."},{label:"\\fret-diagram-terse",detail:"Fret diagram markups",documentation:'The fret-diagram-terse markup string omits string numbers; the string number is implied by the presence of semicolons. There is one semicolon for each string in the diagram. The first semicolon corresponds to the highest string number and the last semicolon corresponds to the first string. Mute strings, open strings, and fret numbers can be indicated.\n\n    <<\n      \\new ChordNames {\n        \\chordmode {\n          c1 d:m\n        }\n      }\n      \\new Staff {\n        \\clef "treble_8"\n        <c e g c\' e\'>1^\\markup {\n          \\fret-diagram-terse #"x;3;2;o;1;o;"\n        }\n        <d a d\' f\'>1^\\markup {\n          \\fret-diagram-terse #"x;x;o;2;3;1;"\n        }\n      }\n    >>\n\nBarre indicators can be included in the fret-diagram-terse markup string.\n\n    <<\n      \\new ChordNames {\n        \\chordmode {\n          f1 g\n        }\n      }\n      \\new Staff {\n        \\clef "treble_8"\n        <f, c f a c\' f\'>1^\\markup {\n          \\fret-diagram-terse #"1-(;3;3;2;1;1-);"\n        }\n        <g, d g b d\' g\'>1^\\markup {\n          \\fret-diagram-terse #"3-(;5;5;4;3;3-);"\n        }\n      }\n    >>\n\nFingering indications can be included in the fret-diagram-terse markup string.\n\n    <<\n      \\new ChordNames {\n        \\chordmode {\n          c1 d:m\n        }\n      }\n      \\new Staff {\n        \\override Voice.TextScript.fret-diagram-details.finger-code = #\'below-string\n        \\clef "treble_8"\n        <c e g c\' e\'>1^\\markup {\n          \\fret-diagram-terse #"x;3-3;2-2;o;1-1;o;"\n        }\n        <d a d\' f\'>1^\\markup {\n          \\fret-diagram-terse #"x;x;o;2-2;3-3;1-1;"\n        }\n      }\n    >>\n\nOther fret diagram properties must be adjusted using \\override when using the fret-diagram-terse markup.'},{label:"\\fret-diagram-verbose",detail:"Fret diagram markups",documentation:"The fret-diagram-verbose markup string is in the format of a Scheme list. Each element of the list indicates an item to be placed on the fret diagram.\n\n    <<\n        \\new ChordNames {\n          \\chordmode {\n            c1 d:m\n          }\n        }\n      \\new Staff {\n        \\clef \"treble_8\"\n        <c e g c' e'>1^\\markup {\n          \\fret-diagram-verbose #'(\n            (mute 6)\n            (place-fret 5 3)\n            (place-fret 4 2)\n            (open 3)\n            (place-fret 2 1)\n            (open 1)\n          )\n        }\n        <d a d' f'>1^\\markup {\n          \\fret-diagram-verbose #'(\n            (mute 6)\n            (mute 5)\n            (open 4)\n            (place-fret 3 2)\n            (place-fret 2 3)\n            (place-fret 1 1)\n          )\n        }\n      }\n    >>\n\nFingering indications and barres can be included in a fret-diagram-verbose markup string. Unique to the fret-diagram-verbose interface is a capo indication that can be placed on the fret diagram. The capo indication is a thick bar that covers all strings. The fret with the capo will be the lowest fret in the fret diagram.\n\n    <<\n        \\new ChordNames {\n          \\chordmode {\n            f1 g c\n          }\n        }\n      \\new Staff {\n        \\clef \"treble_8\"\n        \\override Voice.TextScript.fret-diagram-details.finger-code = #'below-string\n        <f, c f a c' f'>1^\\markup {\n          \\fret-diagram-verbose #'(\n            (place-fret 6 1)\n            (place-fret 5 3)\n            (place-fret 4 3)\n            (place-fret 3 2)\n            (place-fret 2 1)\n            (place-fret 1 1)\n            (barre 6 1 1)\n          )\n        }\n        <g, b, d g b g'>1^\\markup {\n          \\fret-diagram-verbose #'(\n            (place-fret 6 3 2)\n            (place-fret 5 2 1)\n            (open 4)\n            (open 3)\n            (open 2)\n            (place-fret 1 3 3)\n          )\n        }\n        <c g c' e' g'>1^\\markup {\n          \\fret-diagram-verbose #'(\n            (capo 3)\n            (mute 6)\n            (place-fret 4 5 1)\n            (place-fret 3 5 2)\n            (place-fret 2 5 3)\n          )\n        }\n      }\n    >>\n\nAll other fret diagram properties must be adjusted using \\override when using the fret-diagram-verbose markup."},{label:"FretBoards",detail:"Predefined fret diagrams",documentation:'Fret diagrams can be displayed using the FretBoards context. By default, the FretBoards context will display fret diagrams that are stored in a lookup table:\n\n    \\include "predefined-guitar-fretboards.ly"\n    \\new FretBoards {\n      \\chordmode {\n        c1 d\n      }\n    }\n\nThe default predefined fret diagrams are contained in the file \u2018predefined-guitar-fretboards.ly\u2019. Fret diagrams are stored based on the pitches of a chord and the value of stringTunings that is currently in use. \u2018predefined-guitar-fretboards.ly\u2019 contains predefined fret diagrams only for guitar-tuning. Predefined fret diagrams can be added for other instruments or other tunings by following the examples found in \u2018predefined-guitar-fretboards.ly\u2019.\n\nFret diagrams for the ukulele are contained in the file \n\u2018predefined-ukulele-fretboards.ly\u2019.\n\n    \\include "predefined-ukulele-fretboards.ly"\n    myChords = \\chordmode { a1 a:m a:aug }\n    \\new ChordNames {\n      \\myChords\n    }\n    \\new FretBoards {\n      \\set Staff.stringTunings = #ukulele-tuning\n      \\myChords\n    }\n\nFret diagrams for the mandolin are contained in the file \n\u2018predefined-mandolin-fretboards.ly\u2019.\n\n    \\include "predefined-mandolin-fretboards.ly"\n    myChords = \\chordmode { c1 c:m7.5- c:aug }\n    \\new ChordNames {\n      \\myChords\n    }\n    \\new FretBoards {\n      \\set Staff.stringTunings = #mandolin-tuning\n      \\myChords\n    }\n\nChord pitches can be entered either as simultaneous music or using chord mode (see Chord mode overview).\n\n    \\include "predefined-guitar-fretboards.ly"\n    \\new FretBoards {\n      \\chordmode { c1 }\n      <c\' e\' g\'>1\n    }'},{label:"\\funkHeads",detail:"Shape note heads",documentation:"In shape note head notation, the shape of the note head corresponds to the harmonic function of a note in the scale. This notation was popular in nineteenth-century American song books. Shape note heads can be produced in Sacred Harp, Southern Harmony, Funk (Harmonica Sacra), Walker, and Aiken (Christian Harmony) styles:\n\n    \\aikenHeads\n    c, d e f g2 a b1 c \\break\n    \\sacredHarpHeads\n    c,4 d e f g2 a b1 c \\break\n    \\southernHarmonyHeads\n    c,4 d e f g2 a b1 c \\break\n    \\funkHeads\n    c,4 d e f g2 a b1 c \\break\n    \\walkerHeads\n    c,4 d e f g2 a b1 c \\break"},{label:"\\funkHeadsMinor",detail:"Shape note heads",documentation:"Shapes are typeset according to the step in the scale, where the base of the scale is determined by the \\key command. When writing in a minor key, the scale step can be determined from the relative major:\n\n    \\key a \\minor\n    \\aikenHeads\n    a b c d e2 f g1 a \\break\n    \\aikenHeadsMinor\n    a,4 b c d e2 f g1 a \\break\n    \\sacredHarpHeadsMinor\n    a,2 b c d \\break\n    \\southernHarmonyHeadsMinor\n    a2 b c d \\break\n    \\funkHeadsMinor\n    a2 b c d \\break\n    \\walkerHeadsMinor\n    a2 b c d \\break"},{label:"\\general-align",detail:"Text alignment",documentation:'Some commands can affect both the horizontal and vertical alignment of text objects in markup mode. Any object affected by these commands must be preceded with an anchor point:\n\n    d2^\\markup {\n      Acte I\n      \\translate #\'(-1 . 2) "Sc\xe8ne 1"\n    }\n    a\'\n    g_\\markup {\n      \\null\n      \\general-align #Y #3.2 \\bold "Tr\xe8s mod\xe9r\xe9"\n    }\n    a\n    d,^\\markup {\n      \\null\n      \\translate-scaled #\'(-1 . 2) \\teeny "Une for\xeat."\n    }\n    a\'4 a g2 a'},{label:"\\glissando",detail:"Glissando",documentation:"A glissando is created by appending \\glissando to a note:\n\n    g2\\glissando g'\n    c2\\glissando c,\n    \\afterGrace f,1\\glissando f'16\n\nA glissando can connect notes across staves:\n\n    \\new PianoStaff <<\n      \\new Staff = \"right\" {\n        e'''2\\glissando\n        \\change Staff = \"left\"\n        a,,4\\glissando\n        \\change Staff = \"right\"\n        b''8 r |\n      }\n      \\new Staff = \"left\" {\n        \\clef bass\n        s1\n      }\n    >>\n\nA glissando can connect notes in chords. If anything other than a direct one-to-one pairing of the notes in the two chords is required the connections between the notes are defined by setting \\glissandoMap, where the notes of a chord are assumed to be numbered from zero in the order in which they appear in the input \u2018.ly\u2019 file.\n\n    <c, e>1\\glissando g' |\n    <c, e>1\\glissando |\n    <g' b> |\n    \\break\n    \\set glissandoMap = #'((0 . 1) (1 . 0))\n    <c, g'>1\\glissando |\n    <d a'> |\n    \\set glissandoMap = #'((0 . 0) (0 . 1) (0 . 2))\n    c1\\glissando |\n    <d f a> |\n    \\set glissandoMap = #'((2 . 0) (1 . 0) (0 . 1))\n    <f d a'>1\\glissando |\n    <c c'> |\n\nDifferent styles of glissandi can be created. For details, see Line styles."},{label:"\\grace",detail:"A.18 Available music functions",documentation:"Insert music as grace notes."},{label:"GregorianTranscriptionStaff",detail:"Instantiating new staves",documentation:"Staves (singular: staff) are created with the \\new or \\context commands. For details, see Creating and referencing contexts.\n\nThe basic staff context is Staff:\n\n    \\new Staff { c4 d e f }\n\nThe DrumStaff context creates a five-line staff set up for a typical drum set. Each instrument is shown with a different symbol. The instruments are entered in drum mode following a \\drummode command, with each instrument specified by name. For details, see Percussion staves.\n\n    \\new DrumStaff {\n      \\drummode { cymc hh ss tomh }\n    }\n\nRhythmicStaff creates a single-line staff that only displays the rhythmic values of the input. Real durations are preserved. For details, see Showing melody rhythms.\n\n    \\new RhythmicStaff { c4 d e f }\n\nTabStaff creates a tablature with six strings in standard guitar tuning. For details, see Default tablatures.\n\n    \\new TabStaff { c4 d e f }\n\nThere are two staff contexts specific for the notation of ancient music: MensuralStaff and VaticanaStaff. They are described in Pre-defined contexts.\n\nThe GregorianTranscriptionStaff context creates a staff to notate modern Gregorian chant. It does not show bar lines.\n\n    \\new GregorianTranscriptionStaff { c4 d e f e d }\n\nNew single staff contexts may be defined. For details, see Defining new contexts."},{label:"\\gridInterval",detail:"Grid lines",documentation:'Vertical lines can be drawn between staves synchronized with the notes.\n\nThe Grid_point_engraver must be used to create the end points of the lines, while the Grid_line_span_engraver must be used to actually draw the lines. By default this centers grid lines horizontally below and to the left side of each note head. Grid lines extend from the middle lines of each staff. The gridInterval must specify the duration between the grid lines.\n\n    \\layout {\n      \\context {\n        \\Staff\n        \\consists "Grid_point_engraver"\n        gridInterval = #(ly:make-moment 1/4)\n      }\n      \\context {\n        \\Score\n        \\consists "Grid_line_span_engraver"\n      }\n    }\n    \\score {\n      \\new ChoirStaff <<\n        \\new Staff \\relative c\'\' {\n          \\stemUp\n          c4. d8 e8 f g4\n        }\n        \\new Staff \\relative c {\n          \\clef bass\n          \\stemDown\n          c4 g\' f e\n        }\n      >>\n    }'},{label:"Grid_line_span_engraver",detail:"Grid lines",documentation:'Vertical lines can be drawn between staves synchronized with the notes.\n\nThe Grid_point_engraver must be used to create the end points of the lines, while the Grid_line_span_engraver must be used to actually draw the lines. By default this centers grid lines horizontally below and to the left side of each note head. Grid lines extend from the middle lines of each staff. The gridInterval must specify the duration between the grid lines.\n\n    \\layout {\n      \\context {\n        \\Staff\n        \\consists "Grid_point_engraver"\n        gridInterval = #(ly:make-moment 1/4)\n      }\n      \\context {\n        \\Score\n        \\consists "Grid_line_span_engraver"\n      }\n    }\n    \\score {\n      \\new ChoirStaff <<\n        \\new Staff \\relative c\'\' {\n          \\stemUp\n          c4. d8 e8 f g4\n        }\n        \\new Staff \\relative c {\n          \\clef bass\n          \\stemDown\n          c4 g\' f e\n        }\n      >>\n    }'},{label:"Grid_point_engraver",detail:"Grid lines",documentation:'Vertical lines can be drawn between staves synchronized with the notes.\n\nThe Grid_point_engraver must be used to create the end points of the lines, while the Grid_line_span_engraver must be used to actually draw the lines. By default this centers grid lines horizontally below and to the left side of each note head. Grid lines extend from the middle lines of each staff. The gridInterval must specify the duration between the grid lines.\n\n    \\layout {\n      \\context {\n        \\Staff\n        \\consists "Grid_point_engraver"\n        gridInterval = #(ly:make-moment 1/4)\n      }\n      \\context {\n        \\Score\n        \\consists "Grid_line_span_engraver"\n      }\n    }\n    \\score {\n      \\new ChoirStaff <<\n        \\new Staff \\relative c\'\' {\n          \\stemUp\n          c4. d8 e8 f g4\n        }\n        \\new Staff \\relative c {\n          \\clef bass\n          \\stemDown\n          c4 g\' f e\n        }\n      >>\n    }'},{label:"\\grobdescriptions",detail:"A.18 Available music functions",documentation:"Create a context modification from descriptions, a list in the format of all-grob-descriptions."},{label:"\\grow-direction",detail:"Feathered beams",documentation:"Feathered beams are used to indicate that a small group of notes should be played at an increasing (or decreasing) tempo, without changing the overall tempo of the piece. The extent of the feathered beam must be indicated manually using [ and ], and the beam feathering is turned on by specifying a direction to the Beam property grow-direction.\n\nIf the placement of the notes and the sound in the MIDI output is to reflect the ritardando or accelerando indicated by the feathered beam the notes must be grouped as a music expression delimited by braces and preceded by a featherDurations command which specifies the ratio between the durations of the first and last notes in the group.\n\nThe square brackets show the extent of the beam and the braces show which notes are to have their durations modified. Normally these would delimit the same group of notes, but this is not required: the two commands are independent.\n\nIn the following example the eight 16th notes occupy exactly the same time as a half note, but the first note is one half as long as the last one, with the intermediate notes gradually lengthening. The first four 32nd notes gradually speed up, while the last four 32nd notes are at a constant tempo.\n\n    \\override Beam.grow-direction = #LEFT\n    \\featherDurations #(ly:make-moment 2/1)\n    { c16[ c c c c c c c] }\n    \\override Beam.grow-direction = #RIGHT\n    \\featherDurations #(ly:make-moment 2/3)\n    { c32[ d e f] }\n    % revert to non-feathered beams\n    \\override Beam.grow-direction = #'()\n    { g32[ a b c] }\n\nThe spacing in the printed output represents the note durations only approximately, but the MIDI output is exact."},{label:"\\halign",detail:"Text alignment",documentation:"Horizontal alignment may be fine-tuned using a numeric value:\n\n    a1-\\markup { \\halign #-1 poco }\n    e'\n    a,-\\markup { \\halign #0 poco }\n    e'\n    a,-\\markup { \\halign #0.5 poco }\n    e'\n    a,-\\markup { \\halign #2 poco }\n\nSome objects may have alignment procedures of their own, and therefore are not affected by these commands. It is possible to move such markup objects as a whole, as shown for instance in Text marks."},{label:"\\harmonicByFret",detail:"A.18 Available music functions",documentation:"Convert music into mixed harmonics; the resulting notes resemble harmonics played on a fretted instrument by touching the strings at fret."},{label:"\\harmonicByRatio",detail:"A.18 Available music functions",documentation:"Convert music into mixed harmonics; the resulting notes resemble harmonics played on a fretted instrument by touching the strings at the point given through ratio."},{label:"\\harmonicNote",detail:"A.18 Available music functions",documentation:"Print note with a diamond-shaped note head."},{label:"\\harmonicsOn",detail:"A.18 Available music functions",documentation:"Set the default note head style to a diamond-shaped style."},{label:"\\hbracket",detail:"Graphic notation inside markup",documentation:'Some markup commands allow decoration of text elements with graphics, as demonstrated in the following example.\n\n    \\markup \\fill-line {\n      \\center-column {\n        \\circle Jack\n        \\box "in the box"\n        \\null\n        \\line {\n          Erik Satie\n          \\hspace #3\n          \\bracket "1866 - 1925"\n        }\n        \\null\n        \\rounded-box \\bold Prelude\n      }\n    }'},{label:"\\hide",detail:"A.18 Available music functions",documentation:"Set item\u2019s \u2018transparent\u2019 property to #t, making it invisible while still retaining its dimensions.\n\nIf item is a symbol list of form GrobName or Context.GrobName, the result is an override for the grob name specified by it. If item is a music expression, the result is the same music expression with an appropriate tweak applied to it."},{label:"\\hideKeySignature",detail:"Bagpipe definitions",documentation:'LilyPond contains special definitions for Scottish, Highland Bagpipe music; to use them, add\n\n    \\include "bagpipe.ly"\n\nto the top of your input file. This lets you add the special grace notes common to bagpipe music with short commands. For example, you could write \\taor instead of\n\n    \\grace { \\small G32[ d G e] }\n\n\u2018bagpipe.ly\u2019 also contains pitch definitions for the bagpipe notes in the appropriate octaves, so you do not need to worry about \\relative or \\transpose.\n\n    \\include "bagpipe.ly"\n    { \\grg G4 \\grg a \\grg b \\grg c \\grg d \\grg e \\grg f \\grA g A }\n\nBagpipe music nominally uses the key of D Major (even though that isn\u2019t really true). However, since that is the only key that can be used, the key signature is normally not written out. To set this up correctly, always start your music with \\hideKeySignature. If you for some reason want to show the key signature, you can use \\showKeySignature instead.\n\nSome modern music use cross fingering on c and f to flatten those notes. This can be indicated by cflat or fflat. Similarly, the piobaireachd high g can be written gflat when it occurs in light music.'},{label:"\\hideNotes",detail:"Hidden notes",documentation:"Hidden (or invisible or transparent) notes can be useful in preparing theory or composition exercises.\n\n    c4 d\n    \\hideNotes\n    e4 f\n    \\unHideNotes\n    g a\n    \\hideNotes\n    b\n    \\unHideNotes\n    c\n\nNote heads, stems, and flags, and rests are invisible. Beams are invisible if they start on a hidden note. Objects that are attached to invisible notes are still visible.\n\n    e8(\\p f g a)--\n    \\hideNotes\n    e8(\\p f g a)--"},{label:"\\hideStaffSwitch",detail:"Staff-change lines",documentation:'Whenever a voice switches to another staff, a line connecting the notes can be printed automatically:\n\n    \\new PianoStaff <<\n      \\new Staff = "one" {\n        \\showStaffSwitch\n        c1\n        \\change Staff = "two"\n        b2 a\n      }\n      \\new Staff = "two" {\n        \\clef bass\n        s1*2\n      }\n    >>'},{label:"\\horizontal-shift",detail:"\\paper variables for shifts and indents",documentation:"The amount that all systems (including titles and system separators) are shifted to the right. Default: 0.0\\mm."},{label:"Horizontal_bracket_engraver",detail:"Analysis brackets",documentation:"Brackets are used in musical analysis to indicate structure in musical pieces. Simple horizontal brackets are supported.\n\n    \\layout {\n      \\context {\n        \\Voice\n        \\consists \"Horizontal_bracket_engraver\"\n      }\n    }\n    \\relative c'' {\n      c2\\startGroup\n      d\\stopGroup\n    }\n\nAnalysis brackets may be nested.\n\n    \\layout {\n      \\context {\n        \\Voice\n        \\consists \"Horizontal_bracket_engraver\"\n      }\n    }\n    \\relative c'' {\n      c4\\startGroup\\startGroup\n      d4\\stopGroup\n      e4\\startGroup\n      d4\\stopGroup\\stopGroup\n    }"},{label:"\\huge",detail:"Selecting notation font size",documentation:"The font size of notation elements may be altered. It does not change the size of variable symbols, such as beams or slurs.\n\nNote: For font sizes of text, see Selecting font and font size.\n\n\n\n    \\huge\n    c4.-> d8---3\n    \\large\n    c4.-> d8---3\n    \\normalsize\n    c4.-> d8---3\n    \\small\n    c4.-> d8---3\n    \\tiny\n    c4.-> d8---3\n    \\teeny\n    c4.-> d8---3\n\nInternally, this sets the fontSize property. This in turn causes the font-size property to be set in all layout objects. The value of font-size is a number indicating the size relative to the standard size for the current staff height. Each step up is an increase of approximately 12% of the font size. Six steps is exactly a factor of two. The Scheme function magstep converts a font-size number to a scaling factor. The font-size property can also be set directly, so that only certain layout objects are affected.\n\n    \\set fontSize = #3\n    c4.-> d8---3\n    \\override NoteHead.font-size = #-4\n    c4.-> d8---3\n    \\override Script.font-size = #2\n    c4.-> d8---3\n    \\override Stem.font-size = #-5\n    c4.-> d8---3"},{label:"\\huge",detail:"Selecting font and font size",documentation:"\\teeny, \\tiny, \\small, \\normalsize, \\large, \\huge, \\smaller, \\larger."},{label:"\\improvisationOff",detail:"Improvisation",documentation:'Improvisation is sometimes denoted with slashed note heads, where the performer may choose any pitch but should play the specified rhythm. Such note heads can be created:\n\n    \\new Voice \\with {\n      \\consists "Pitch_squash_engraver"\n    } {\n      e8 e g a a16( bes) a8 g\n      \\improvisationOn\n      e8 ~\n      e2 ~ e8 f4 f8 ~\n      f2\n      \\improvisationOff\n      a16( bes) a8 g e\n    }'},{label:"\\improvisationOff",detail:"Showing melody rhythms",documentation:"Guitar chord charts often show the strumming rhythms. This can be done with the Pitch_squash_engraver and \\improvisationOn.\n\n    <<\n      \\new ChordNames {\n        \\chordmode {\n          c1 f g c\n        }\n      }\n      \\new Voice \\with {\n        \\consists \"Pitch_squash_engraver\"\n      } \\relative c'' {\n        \\improvisationOn\n        c4 c8 c c4 c8 c\n        f4 f8 f f4 f8 f\n        g4 g8 g g4 g8 g\n        c4 c8 c c4 c8 c\n      }\n    >>"},{label:"\\improvisationOn",detail:"Improvisation",documentation:'Improvisation is sometimes denoted with slashed note heads, where the performer may choose any pitch but should play the specified rhythm. Such note heads can be created:\n\n    \\new Voice \\with {\n      \\consists "Pitch_squash_engraver"\n    } {\n      e8 e g a a16( bes) a8 g\n      \\improvisationOn\n      e8 ~\n      e2 ~ e8 f4 f8 ~\n      f2\n      \\improvisationOff\n      a16( bes) a8 g e\n    }'},{label:"\\improvisationOn",detail:"Showing melody rhythms",documentation:"Guitar chord charts often show the strumming rhythms. This can be done with the Pitch_squash_engraver and \\improvisationOn.\n\n    <<\n      \\new ChordNames {\n        \\chordmode {\n          c1 f g c\n        }\n      }\n      \\new Voice \\with {\n        \\consists \"Pitch_squash_engraver\"\n      } \\relative c'' {\n        \\improvisationOn\n        c4 c8 c c4 c8 c\n        f4 f8 f f4 f8 f\n        g4 g8 g g4 g8 g\n        c4 c8 c c4 c8 c\n      }\n    >>"},{label:"\\indent",detail:"Instrument names",documentation:'However, if the instrument names are longer, the instrument names in a staff group may not be centered unless the indent and short-indent settings are increased. For details about these settings, see \\paper variables for shifts and indents.\n\n    \\relative c\'\' {\n      <<\n        \\new Staff \\with {\n          instrumentName = #"Alto Flute in G"\n          shortInstrumentName = #"Flt."\n        }\n        {\n          f2 g4 f \\break\n          g4 f g2\n        }\n        \\new Staff \\with {\n          instrumentName = #"Clarinet"\n          shortInstrumentName = #"Clar."\n        }\n        {\n          c,4 b c2 \\break\n          c2 b4 c\n        }\n      >>\n    }\n    \\layout {\n      indent = 3.0\\cm\n      short-indent = 1.5\\cm\n    }'},{label:"\\indent",detail:"\\paper variables for shifts and indents",documentation:"The level of indentation for the first system in a score. If the paper size is modified, this dimension\u2019s default value is scaled accordingly. This variable can also be set in a \\layout block."},{label:"\\indent",detail:"4.5.4 Line length",documentation:"The most basic settings influencing the spacing are indent and line-width. They are set in the \\layout block. They control the indentation of the first line of music, and the lengths of the lines.\n\nIf ragged-right is set to true in the \\layout block, then systems ends at their natural horizontal length, instead of being spread horizontally to fill the whole line. This is useful for short fragments, and for checking how tight the natural spacing is. The normal default setting is false, but if the score has only one system the default value is true."},{label:"\\inner-margin",detail:"\\paper variables for two-sided mode",documentation:"The margin all pages have at the inner side if they are part of a book. If the paper size is modified, this dimension\u2019s default value is scaled accordingly. Works only with two-sided set to true."},{label:"\\inStaffSegno",detail:"A.18 Available music functions",documentation:"Put the segno variant \u2019varsegno\u2019 at this position into the staff, compatible with the repeat command."},{label:"\\instrumentSwitch",detail:"Instrument names",documentation:'If an instrument switch is needed, \\addInstrumentDefinition may be used in combination with \\instrumentSwitch to create a detailed list of the necessary changes for the switch. The \\addInstrumentDefinition command has two arguments: an identifying string, and an association list of context properties and values to be used for the instrument. It must be placed in the toplevel scope. \\instrumentSwitch is used in the music expression to declare the instrument switch:\n\n    \\addInstrumentDefinition #"contrabassoon"\n      #`((instrumentTransposition . ,(ly:make-pitch -1 0 0))\n         (shortInstrumentName . "Cbsn.")\n         (clefGlyph . "clefs.F")\n         (middleCPosition . 6)\n         (clefPosition . 2)\n         (instrumentCueName . ,(make-bold-markup "cbsn."))\n         (midiInstrument . "bassoon"))\n    \\new Staff \\with {\n      instrumentName = #"Bassoon"\n    }\n    \\relative c\' {\n      \\clef tenor\n      \\compressFullBarRests\n      c2 g\'\n      R1*16\n      \\instrumentSwitch "contrabassoon"\n      c,,2 g \\break\n      c,1 ~ | c1\n    }'},{label:"\\instrumentSwitch",detail:"A.18 Available music functions",documentation:"Switch instrument to name, which must be predefined with \\addInstrumentDefinition."},{label:"\\inversion",detail:"A.18 Available music functions",documentation:"Invert music about around and transpose from around to to."},{label:"\\ionian",detail:"Key signature",documentation:'Here, mode should be \\major or \\minor to get a key signature of pitch-major or pitch-minor, respectively. You may also use the standard mode names, also called church modes: \\ionian, \\dorian, \\phrygian, \\lydian, \\mixolydian, \\aeolian, and \\locrian.\n\n    \\key g \\major\n    fis1\n    f\n    fis\n\nAdditional modes can be defined, by listing the alterations for each scale step when the mode starts on C.\n\n    freygish = #`((0 . ,NATURAL) (1 . ,FLAT) (2 . ,NATURAL)\n        (3 . ,NATURAL) (4 . ,NATURAL) (5 . ,FLAT) (6 . ,FLAT))\n    \\relative c\' {\n      \\key c \\freygish c4 des e f\n      \\bar "||" \\key d \\freygish d es fis g\n    }\n\nAccidentals in the key signature may be printed in octaves other than their traditional positions, or in multiple octaves, by using the flat-positions and sharp-positions properties of KeySignature. Entries in these properties specify the range of staff-positions where accidentals will be printed. If a single position is specified in an entry, the accidentals are placed within the octave ending at that staff position.\n\n    \\override Staff.KeySignature.flat-positions = #\'((-5 . 5))\n    \\override Staff.KeyCancellation.flat-positions = #\'((-5 . 5))\n    \\clef bass \\key es \\major es g bes d\n    \\clef treble \\bar "||" \\key es \\major es g bes d\n    \\override Staff.KeySignature.sharp-positions = #\'(2)\n    \\bar "||" \\key b \\major b fis b2'},{label:"\\italic",detail:"Selecting font and font size",documentation:"Basic font switching is supported in markup mode:\n\n    d1^\\markup {\n      \\bold { Pi\xf9 mosso }\n      \\italic { non troppo \\underline Vivo }\n    }\n    r2 r4 r8\n    d,_\\markup { \\italic quasi \\smallCaps Tromba }\n    f1 d2 r"},{label:"\\justified-lines",detail:"Multi-page markup",documentation:"Although standard markup objects are not breakable, a specific syntax makes it possible to enter lines of text that can spread over multiple pages:\n\n    \\markuplist {\n      \\justified-lines {\n        A very long text of justified lines.\n        ...\n      }\n      \\wordwrap-lines {\n        Another very long paragraph.\n        ...\n      }\n      ...\n    }\n\nThis syntax accepts a list of markups, that can be\n\n - the result of a markup list command,\n - a list of markups,\n - a list of markup lists.\n\nAn exhaustive list of markup list commands can be found in Text markup list commands."},{label:"\\justify",detail:"Text alignment",documentation:"Long text indications can also be automatically wrapped accordingly to the given line width. These will be either left-aligned or justified, as shown in the following example.\n\n    \\markup {\n      \\column {\n        \\line  \\smallCaps { La vida breve }\n        \\line \\bold { Acto I }\n        \\wordwrap \\italic {\n          (La escena representa el corral de una casa de\n          gitanos en el Albaic\xedn de Granada.  Al fondo una\n          puerta por la que se ve el negro interior de\n          una Fragua, iluminado por los rojos resplandores\n          del fuego.)\n        }\n        \\hspace #0\n        \\line \\bold { Acto II }\n        \\override #'(line-width . 50)\n        \\justify \\italic {\n          (Calle de Granada.  Fachada de la casa de Carmela\n          y su hermano Manuel con grandes ventanas abiertas\n          a trav\xe9s de las que se ve el patio\n          donde se celebra una alegre fiesta)\n        }\n      }\n    }"},{label:"\\keepWithTag",detail:"A.18 Available music functions",documentation:"Include only elements of music that are either untagged or tagged with one of the tags in tag. tag may be either a single symbol or a list of symbols."},{label:"\\key",detail:"Key signature",documentation:"The key signature indicates the tonality in which a piece is played. It is denoted by a set of alterations (flats or sharps) at the start of the staff. The key signature may be altered:\n\n    \\key pitch mode"},{label:"\\key",detail:"Shape note heads",documentation:"Shapes are typeset according to the step in the scale, where the base of the scale is determined by the \\key command. When writing in a minor key, the scale step can be determined from the relative major:\n\n    \\key a \\minor\n    \\aikenHeads\n    a b c d e2 f g1 a \\break\n    \\aikenHeadsMinor\n    a,4 b c d e2 f g1 a \\break\n    \\sacredHarpHeadsMinor\n    a,2 b c d \\break\n    \\southernHarmonyHeadsMinor\n    a2 b c d \\break\n    \\funkHeadsMinor\n    a2 b c d \\break\n    \\walkerHeadsMinor\n    a2 b c d \\break"},{label:"\\key",detail:"A.18 Available music functions",documentation:"Set key to tonic and scale pitch-alist. If both are null, just generate KeyChangeEvent."},{label:"\\killCues",detail:"Formatting cue notes",documentation:'The \\killCues command removes cue notes from a music expression, so the same music expression can be used to produce the instrument part with cues and the score. The \\killCues command removes only the notes and events that were quoted by \\cueDuring. Other markup associated with cues, such as clef changes and a label identifying the source instrument, can be tagged for selective inclusion in the score; see Using tags.\n\n    fluteNotes = \\relative c\'\' {\n      r2. c4 d8 c d e fis2 g2 d2\n    }\n    bassoonNotes = \\relative c {\n      \\clef bass\n      R1\n      \\tag #\'part {\n        \\clef treble\n        \\new CueVoice { \\set instrumentCueName = "flute" }\n      }\n      \\cueDuring #"flute" #UP { R1 }\n      \\tag #\'part \\clef bass\n      g4. b8 d2\n    }\n    \\addQuote "flute" { \\fluteNotes }\n    \\new Staff {\n      \\bassoonNotes\n    }\n    \\new StaffGroup <<\n      \\new Staff {\n        \\fluteNotes\n      }\n      \\new Staff {\n        \\removeWithTag #\'part { \\killCues { \\bassoonNotes } }\n      }\n    >>\n\nAlternatively, Clef changes and instrument labels can be collected into an instrument definition for repeated use, using \\addInstrumentDefinition described in Instrument names.'},{label:"\\killCues",detail:"A.18 Available music functions",documentation:"Remove cue notes from music."},{label:"\\label",detail:"A.18 Available music functions",documentation:"Create label as a bookmarking label."},{label:"\\laissezVibrer",detail:"Ties",documentation:"L.v. ties (laissez vibrer) indicate that notes must not be damped at the end. It is used in notation for piano, harp and other string and percussion instruments. They can be entered as follows:\n\n    <c f g>1\\laissezVibrer"},{label:"\\language",detail:"A.18 Available music functions",documentation:"Set note names for language language."},{label:"\\languageRestore",detail:"A.18 Available music functions",documentation:"Restore a previously-saved pitchnames alist."},{label:"\\languageSaveAndChange",detail:"A.18 Available music functions",documentation:"Store the previous pitchnames alist, and set a new one."},{label:"\\large",detail:"Selecting notation font size",documentation:"The font size of notation elements may be altered. It does not change the size of variable symbols, such as beams or slurs.\n\nNote: For font sizes of text, see Selecting font and font size.\n\n\n\n    \\huge\n    c4.-> d8---3\n    \\large\n    c4.-> d8---3\n    \\normalsize\n    c4.-> d8---3\n    \\small\n    c4.-> d8---3\n    \\tiny\n    c4.-> d8---3\n    \\teeny\n    c4.-> d8---3\n\nInternally, this sets the fontSize property. This in turn causes the font-size property to be set in all layout objects. The value of font-size is a number indicating the size relative to the standard size for the current staff height. Each step up is an increase of approximately 12% of the font size. Six steps is exactly a factor of two. The Scheme function magstep converts a font-size number to a scaling factor. The font-size property can also be set directly, so that only certain layout objects are affected.\n\n    \\set fontSize = #3\n    c4.-> d8---3\n    \\override NoteHead.font-size = #-4\n    c4.-> d8---3\n    \\override Script.font-size = #2\n    c4.-> d8---3\n    \\override Stem.font-size = #-5\n    c4.-> d8---3"},{label:"\\large",detail:"Selecting font and font size",documentation:"\\teeny, \\tiny, \\small, \\normalsize, \\large, \\huge, \\smaller, \\larger."},{label:"\\larger",detail:"Selecting font and font size",documentation:"The font size can be altered, relative to the global staff size, in a number of different ways\n\nIt can be set to predefined size,\n\n    b1_\\markup { \\huge Sinfonia }\n    b1^\\markup { \\teeny da }\n    b1-\\markup { \\normalsize camera }\n\nIt can be set relative to its previous value,\n\n    b1_\\markup { \\larger Sinfonia }\n    b1^\\markup { \\smaller da }\n    b1-\\markup { \\magnify #0.6  camera }\n\nIt can be increased or decreased relative to the value set by the global staff size,\n\n    b1_\\markup { \\fontsize #-2 Sinfonia }\n    b1^\\markup { \\fontsize #1 da }\n    b1-\\markup { \\fontsize #3 camera }\n\nIt can also be set to a fixed point-size, regardless of the global staff size,\n\n    b1_\\markup { \\abs-fontsize #20 Sinfonia }\n    b1^\\markup { \\abs-fontsize #8 da }\n    b1-\\markup { \\abs-fontsize #14 camera }"},{label:"\\larger",detail:"Selecting font and font size",documentation:"\\teeny, \\tiny, \\small, \\normalsize, \\large, \\huge, \\smaller, \\larger."},{label:"\\last-bottom-spacing",detail:"List of flexible vertical spacing \\paper variables",documentation:"the distance from the last system or top-level markup on a page to the bottom of the printable area (i.e. the top of the bottom margin)."},{label:"\\layout file",detail:"4.2.2 Setting the staff size",documentation:"The default staff size is set to 20 points. This may be changed in two ways:\n\nTo set the staff size globally for all scores in a file (or in a book block, to be precise), use set-global-staff-size.\n\n    #(set-global-staff-size 14)\n\nThis sets the global default size to 14pt staff height and scales all fonts accordingly.\n\nTo set the staff size individually for each score, use\n\n    \\score{\n      \u2026\n      \\layout {\n        #(layout-set-staff-size 15)\n      }\n    }\n\nThe Feta font provides musical symbols at eight different sizes. Each font is tuned for a different staff size: at a smaller size the font becomes heavier, to match the relatively heavier staff lines. The recommended font sizes are listed in the following table:\n\n    font name\n    staff height (pt)\n    staff height (mm)\n    use\n    feta11\n    11.22\n    3.9\n    pocket scores\n    feta13\n    12.60\n    4.4\n    feta14\n    14.14\n    5.0\n    feta16\n    15.87\n    5.6\n    feta18\n    17.82\n    6.3\n    song books\n    feta20\n    20\n    7.0\n    standard parts\n    feta23\n    22.45\n    7.9\n    feta26\n    25.2\n    8.9\n\nThese fonts are available in any sizes. The context property fontSize and the layout property staff-space (in StaffSymbol) can be used to tune the size for individual staves. The sizes of individual staves are relative to the global size."},{label:"\\left-align",detail:"Text alignment",documentation:"Markup objects may be aligned in different ways. By default, a text indication is aligned on its left edge: in the following example, there is no difference between the first and the second markup.\n\n    d1-\\markup { poco }\n    f\n    d-\\markup { \\left-align poco }\n    f\n    d-\\markup { \\center-align { poco } }\n    f\n    d-\\markup { \\right-align poco }"},{label:"\\left-margin",detail:"\\paper variables for widths and margins",documentation:"The margin between the left edge of the page and the start of the staff lines in unindented systems. If the paper size is modified, this dimension\u2019s default value is scaled accordingly. If left-margin is unset, and both line-width and right-margin are set, then left-margin is set to (paper-width\xa0-\xa0line-width\xa0-\xa0right-margin). If only line-width is set, then both margins are set to ((paper-width\xa0-\xa0line-width)\xa0/\xa02), and the systems are consequently centered on the page. Also see check-consistency."},{label:"\\line-width",detail:"\\paper variables for widths and margins",documentation:"The horizontal extent of the staff lines in unindented, non-ragged systems, equal to (paper-width\xa0-\xa0left-margin\xa0-\xa0right-margin) when unset. If line-width is set, and both left-margin and right-margin are unset, then the margins will be updated to center the systems on the page automatically. Also see check-consistency. This variable can also be set in a \\layout block."},{label:"\\line-width",detail:"4.5.4 Line length",documentation:"The most basic settings influencing the spacing are indent and line-width. They are set in the \\layout block. They control the indentation of the first line of music, and the lengths of the lines.\n\nIf ragged-right is set to true in the \\layout block, then systems ends at their natural horizontal length, instead of being spread horizontally to fill the whole line. This is useful for short fragments, and for checking how tight the natural spacing is. The normal default setting is false, but if the score has only one system the default value is true."},{label:"\\locrian",detail:"Key signature",documentation:'Here, mode should be \\major or \\minor to get a key signature of pitch-major or pitch-minor, respectively. You may also use the standard mode names, also called church modes: \\ionian, \\dorian, \\phrygian, \\lydian, \\mixolydian, \\aeolian, and \\locrian.\n\n    \\key g \\major\n    fis1\n    f\n    fis\n\nAdditional modes can be defined, by listing the alterations for each scale step when the mode starts on C.\n\n    freygish = #`((0 . ,NATURAL) (1 . ,FLAT) (2 . ,NATURAL)\n        (3 . ,NATURAL) (4 . ,NATURAL) (5 . ,FLAT) (6 . ,FLAT))\n    \\relative c\' {\n      \\key c \\freygish c4 des e f\n      \\bar "||" \\key d \\freygish d es fis g\n    }\n\nAccidentals in the key signature may be printed in octaves other than their traditional positions, or in multiple octaves, by using the flat-positions and sharp-positions properties of KeySignature. Entries in these properties specify the range of staff-positions where accidentals will be printed. If a single position is specified in an entry, the accidentals are placed within the octave ending at that staff position.\n\n    \\override Staff.KeySignature.flat-positions = #\'((-5 . 5))\n    \\override Staff.KeyCancellation.flat-positions = #\'((-5 . 5))\n    \\clef bass \\key es \\major es g bes d\n    \\clef treble \\bar "||" \\key es \\major es g bes d\n    \\override Staff.KeySignature.sharp-positions = #\'(2)\n    \\bar "||" \\key b \\major b fis b2'},{label:"\\longa",detail:"Durations",documentation:"Durations are designated by numbers and dots. Durations are entered as their reciprocal values. For example, a quarter note is entered using a 4 (since it is a 1/4 note), and a half note is entered using a 2 (since it is a 1/2 note). For notes longer than a whole you must use the \\longa (a double breve) and \\breve commands. Durations as short as 128th notes may be specified. Shorter values are possible, but only as beamed notes.\n\n    \\time 8/1\n    c\\longa c\\breve c1 c2\n    c4 c8 c16 c32 c64 c128 c128\n\nHere are the same durations with automatic beaming turned off.\n\n    \\time 8/1\n    \\autoBeamOff\n    c\\longa c\\breve c1 c2\n    c4 c8 c16 c32 c64 c128 c128\n\nA note with the duration of a quadruple breve may be entered with \\maxima, but this is supported only within ancient music notation. For details, see Ancient notation."},{label:"\\longa",detail:"Rests",documentation:"Rests are entered like notes with the note name r. Durations longer than a whole rest use the following predefined commands:\n\n    \\new Staff {\n      % These two lines are just to prettify this example\n      \\time 16/1\n      \\omit Staff.TimeSignature\n      % Print a maxima rest, equal to four breves\n      r\\maxima\n      % Print a longa rest, equal to two breves\n      r\\longa\n      % Print a breve rest\n      r\\breve\n      r1 r2 r4 r8 r16 r32 r64 r128\n    }"},{label:"\\lower",detail:"Text alignment",documentation:"Vertical alignment is a bit more complex. As stated above, markup objects can be moved as a whole; however, it is also possible to move specific elements inside a markup block. In this case, the element to be moved needs to be preceded with an anchor point, that can be another markup element or an invisible object. The following example demonstrates these two possibilities; the last markup in this example has no anchor point, and therefore is not moved.\n\n    d2^\\markup {\n      Acte I\n      \\raise #2 { Sc\xe8ne 1 }\n    }\n    a'\n    g_\\markup {\n      \\null\n      \\lower #4 \\bold { Tr\xe8s mod\xe9r\xe9 }\n    }\n    a\n    d,^\\markup {\n      \\raise #4 \\italic { Une for\xeat. }\n    }\n    a'4 a g2 a"},{label:"\\ly:minimal-breaking",detail:"4.3.5 Minimal page breaking",documentation:"The ly:minimal-breaking function performs minimal computations to calculate the page breaking: it fills a page with as many systems as possible before moving to the next one. Thus, it may be preferred for scores with many pages, where the other page breaking functions could be too slow or memory demanding, or a lot of texts. It is enabled using:\n\n    \\paper {\n      page-breaking = #ly:minimal-breaking\n    }"},{label:"\\ly:one-line-breaking",detail:"4.3.6 One-line page breaking",documentation:"The ly:one-line-breaking function is a special-purpose page breaking algorithm that puts each score on its own page, and on a single line. This page breaking function does not typeset titles or margins; only the score will be displayed.\n\nThe page width will be adjusted so that the longest score fits on one line. In particular, paper-width, line-width and indent variables in the \\paper block will be ignored, although left-margin and right-margin will still be honored. The height of the page will be left unmodified."},{label:"\\ly:optimal-breaking",detail:"4.3.3 Optimal page breaking",documentation:"The ly:optimal-breaking function is LilyPond\u2019s default method of determining page breaks. It attempts to find a page breaking that minimizes cramping and stretching, both horizontally and vertically. Unlike ly:page-turn-breaking, it has no concept of page turns."},{label:"\\ly:page-turn-breaking",detail:"4.3.4 Optimal page turning",documentation:"Often it is necessary to find a page breaking configuration so that there is a rest at the end of every second page. This way, the musician can turn the page without having to miss notes. The ly:page-turn-breaking function attempts to find a page breaking minimizing cramping and stretching, but with the additional restriction that it is only allowed to introduce page turns in specified places.\n\nThere are two steps to using this page breaking function. First, you must enable it in the \\paper block, as explained in Page breaking. Then you must tell the function where you would like to allow page breaks.\n\nThere are two ways to achieve the second step. First, you can specify each potential page turn manually, by inserting \\allowPageTurn into your input file at the appropriate places.\n\nIf this is too tedious, you can add a Page_turn_engraver to a Staff or Voice context. The Page_turn_engraver will scan the context for sections without notes (note that it does not scan for rests; it scans for the absence of notes. This is so that single-staff polyphony with rests in one of the parts does not throw off the Page_turn_engraver). When it finds a sufficiently long section without notes, the Page_turn_engraver will insert an \\allowPageTurn at the final bar line in that section, unless there is a \u2018special\u2019 bar line (such as a double bar), in which case the \\allowPageTurn will be inserted at the final \u2018special\u2019 bar line in the section."},{label:"\\lydian",detail:"Key signature",documentation:'Here, mode should be \\major or \\minor to get a key signature of pitch-major or pitch-minor, respectively. You may also use the standard mode names, also called church modes: \\ionian, \\dorian, \\phrygian, \\lydian, \\mixolydian, \\aeolian, and \\locrian.\n\n    \\key g \\major\n    fis1\n    f\n    fis\n\nAdditional modes can be defined, by listing the alterations for each scale step when the mode starts on C.\n\n    freygish = #`((0 . ,NATURAL) (1 . ,FLAT) (2 . ,NATURAL)\n        (3 . ,NATURAL) (4 . ,NATURAL) (5 . ,FLAT) (6 . ,FLAT))\n    \\relative c\' {\n      \\key c \\freygish c4 des e f\n      \\bar "||" \\key d \\freygish d es fis g\n    }\n\nAccidentals in the key signature may be printed in octaves other than their traditional positions, or in multiple octaves, by using the flat-positions and sharp-positions properties of KeySignature. Entries in these properties specify the range of staff-positions where accidentals will be printed. If a single position is specified in an entry, the accidentals are placed within the octave ending at that staff position.\n\n    \\override Staff.KeySignature.flat-positions = #\'((-5 . 5))\n    \\override Staff.KeyCancellation.flat-positions = #\'((-5 . 5))\n    \\clef bass \\key es \\major es g bes d\n    \\clef treble \\bar "||" \\key es \\major es g bes d\n    \\override Staff.KeySignature.sharp-positions = #\'(2)\n    \\bar "||" \\key b \\major b fis b2'},{label:"\\m",detail:"Common chords",documentation:"The table below shows the actions of the quality modifiers on triads and seventh chords. The default seventh step added to chords is a minor or flatted seventh, which makes the dominant seventh the basic seventh chord. All alterations are relative to the dominant seventh. A more complete table of modifier usage is found at Common chord modifiers.\n\nModifier\tAction\tExample\nNone\tThe default action; produces a major triad.\t\n \n\nm, m7\tThe minor chord. This modifier lowers the 3rd.\t\n \n\ndim, dim7\tThe diminished chord. This modifier lowers the 3rd, 5th and (if present) the 7th step.\t\n \n\naug\tThe augmented chord. This modifier raises the 5th step.\t\n \n\nmaj, maj7\tThe major 7th chord. This modifier adds a raised 7th step. The 7 following maj is optional. Do NOT use this modifier to create a major triad.\t\n \n\n"},{label:"\\magnify",detail:"Selecting font and font size",documentation:"The font size can be altered, relative to the global staff size, in a number of different ways\n\nIt can be set to predefined size,\n\n    b1_\\markup { \\huge Sinfonia }\n    b1^\\markup { \\teeny da }\n    b1-\\markup { \\normalsize camera }\n\nIt can be set relative to its previous value,\n\n    b1_\\markup { \\larger Sinfonia }\n    b1^\\markup { \\smaller da }\n    b1-\\markup { \\magnify #0.6  camera }\n\nIt can be increased or decreased relative to the value set by the global staff size,\n\n    b1_\\markup { \\fontsize #-2 Sinfonia }\n    b1^\\markup { \\fontsize #1 da }\n    b1-\\markup { \\fontsize #3 camera }\n\nIt can also be set to a fixed point-size, regardless of the global staff size,\n\n    b1_\\markup { \\abs-fontsize #20 Sinfonia }\n    b1^\\markup { \\abs-fontsize #8 da }\n    b1-\\markup { \\abs-fontsize #14 camera }"},{label:"\\magstep",detail:"Selecting notation font size",documentation:"The font size of notation elements may be altered. It does not change the size of variable symbols, such as beams or slurs.\n\nNote: For font sizes of text, see Selecting font and font size.\n\n\n\n    \\huge\n    c4.-> d8---3\n    \\large\n    c4.-> d8---3\n    \\normalsize\n    c4.-> d8---3\n    \\small\n    c4.-> d8---3\n    \\tiny\n    c4.-> d8---3\n    \\teeny\n    c4.-> d8---3\n\nInternally, this sets the fontSize property. This in turn causes the font-size property to be set in all layout objects. The value of font-size is a number indicating the size relative to the standard size for the current staff height. Each step up is an increase of approximately 12% of the font size. Six steps is exactly a factor of two. The Scheme function magstep converts a font-size number to a scaling factor. The font-size property can also be set directly, so that only certain layout objects are affected.\n\n    \\set fontSize = #3\n    c4.-> d8---3\n    \\override NoteHead.font-size = #-4\n    c4.-> d8---3\n    \\override Script.font-size = #2\n    c4.-> d8---3\n    \\override Stem.font-size = #-5\n    c4.-> d8---3"},{label:"\\magstep",detail:"5.4.3 Distances and measurements",documentation:"If just a section of a score needs to be rendered to a different scale, for example an ossia section or a footnote, the global staff size cannot simply be changed as this would affect the entire score. In such cases the change in size is made by overriding both the staff-space property of StaffSymbol and the size of the fonts. A Scheme function, magstep, is available to convert from a font size change to the equivalent change in staff-space. For an explanation and an example of its use, see Length and thickness of objects."},{label:"\\maj",detail:"Common chords",documentation:"The table below shows the actions of the quality modifiers on triads and seventh chords. The default seventh step added to chords is a minor or flatted seventh, which makes the dominant seventh the basic seventh chord. All alterations are relative to the dominant seventh. A more complete table of modifier usage is found at Common chord modifiers.\n\nModifier\tAction\tExample\nNone\tThe default action; produces a major triad.\t\n \n\nm, m7\tThe minor chord. This modifier lowers the 3rd.\t\n \n\ndim, dim7\tThe diminished chord. This modifier lowers the 3rd, 5th and (if present) the 7th step.\t\n \n\naug\tThe augmented chord. This modifier raises the 5th step.\t\n \n\nmaj, maj7\tThe major 7th chord. This modifier adds a raised 7th step. The 7 following maj is optional. Do NOT use this modifier to create a major triad.\t\n \n\n"},{label:"\\major",detail:"Key signature",documentation:'Here, mode should be \\major or \\minor to get a key signature of pitch-major or pitch-minor, respectively. You may also use the standard mode names, also called church modes: \\ionian, \\dorian, \\phrygian, \\lydian, \\mixolydian, \\aeolian, and \\locrian.\n\n    \\key g \\major\n    fis1\n    f\n    fis\n\nAdditional modes can be defined, by listing the alterations for each scale step when the mode starts on C.\n\n    freygish = #`((0 . ,NATURAL) (1 . ,FLAT) (2 . ,NATURAL)\n        (3 . ,NATURAL) (4 . ,NATURAL) (5 . ,FLAT) (6 . ,FLAT))\n    \\relative c\' {\n      \\key c \\freygish c4 des e f\n      \\bar "||" \\key d \\freygish d es fis g\n    }\n\nAccidentals in the key signature may be printed in octaves other than their traditional positions, or in multiple octaves, by using the flat-positions and sharp-positions properties of KeySignature. Entries in these properties specify the range of staff-positions where accidentals will be printed. If a single position is specified in an entry, the accidentals are placed within the octave ending at that staff position.\n\n    \\override Staff.KeySignature.flat-positions = #\'((-5 . 5))\n    \\override Staff.KeyCancellation.flat-positions = #\'((-5 . 5))\n    \\clef bass \\key es \\major es g bes d\n    \\clef treble \\bar "||" \\key es \\major es g bes d\n    \\override Staff.KeySignature.sharp-positions = #\'(2)\n    \\bar "||" \\key b \\major b fis b2'},{label:"\\major seven symbols",detail:"Predefined commands",documentation:"\\whiteTriangleMarkup, \\blackTriangleMarkup, \\germanChords, \\semiGermanChords, \\italianChords, \\frenchChords."},{label:"\\majorSevenSymbol",detail:"Customizing chord names",documentation:""},{label:"\\make-dynamic-script",detail:"New dynamic marks",documentation:'Simple, centered dynamic marks are easily created with the make-dynamic-script function.\n\n    sfzp = #(make-dynamic-script "sfzp")\n    \\relative c\' {\n      c4 c c\\sfzp c\n    }\n\nIn general, make-dynamic-script takes any markup object as its argument. The dynamic font only contains the characters f,m,p,r,s and z, so if a dynamic mark that includes plain text or punctuation symbols is desired, markup commands that reverts font family and font encoding to normal text should be used, for example \\normal-text. The interest of using make-dynamic-script instead of an ordinary markup is ensuring the vertical alignment of markup objects and hairpins that are attached to the same note head.\n\n    roundF = \\markup { \\center-align \\concat {\n               \\normal-text { \\bold { \\italic ( } }\n               \\dynamic f\n               \\normal-text { \\bold { \\italic ) } } } }\n    boxF = \\markup { \\bracket { \\dynamic f } }\n    mfEspress = \\markup { \\center-align \\line {\n                  \\hspace #3.7 mf \\normal-text \\italic espress. } }\n    roundFdynamic = #(make-dynamic-script roundF)\n    boxFdynamic = #(make-dynamic-script boxF)\n    mfEspressDynamic = #(make-dynamic-script mfEspress)\n    \\relative c\' {\n      c4_\\roundFdynamic\\< d e f\n      g,1~_\\boxFdynamic\\>\n      g1\n      g\'1~\\mfEspressDynamic\n      g1\n    }\n\nThe Scheme form of markup mode may be used instead. Its syntax is explained in Markup construction in Scheme.\n\n    moltoF = #(make-dynamic-script\n                (markup #:normal-text "molto"\n                        #:dynamic "f"))\n    \\relative c\' {\n      <d e>16 <d e>\n      <d e>2..\\moltoF\n    }\n\nTo left-align the dynamic text rather than centering it on a note use a \\tweak:\n\n    moltoF = \\tweak DynamicText.self-alignment-X #LEFT\n             #(make-dynamic-script\n                (markup #:normal-text "molto"\n                        #:dynamic "f"))\n    \\relative c\' {\n      <d e>16 <d e>\n      <d e>2..\\moltoF <d e>1\n    }\n\nFont settings in markup mode are described in Selecting font and font size.'},{label:"\\make-pango-font-tree",detail:"Entire document fonts",documentation:"Notation Reference: Fonts explained, Single entry fonts, Selecting font and font size, Font."},{label:"\\makeClusters",detail:"Clusters",documentation:"A cluster indicates a continuous range of pitches to be played. They can be denoted as the envelope of a set of notes. They are entered by applying the function \\makeClusters to a sequence of chords, e.g.,\n\n    \\makeClusters { <g b>2 <c g'> }\n\nOrdinary notes and clusters can be put together in the same staff, even simultaneously. In such a case no attempt is made to automatically avoid collisions between ordinary notes and clusters."},{label:"\\makeClusters",detail:"A.18 Available music functions",documentation:"Display chords in arg as clusters."},{label:"\\makeDefaultStringTuning",detail:"A.18 Available music functions",documentation:"This defines a string tuning symbol via a list of pitches. The symbol also gets registered in defaultStringTunings for documentation purposes."},{label:"\\mark",detail:"Rehearsal marks",documentation:"To print a rehearsal mark, use the \\mark command.\n\n    c1 \\mark \\default\n    c1 \\mark \\default\n    c1 \\mark \\default\n    c1 \\mark \\default\n\nThe mark is incremented automatically if you use \\mark \\default, but you can also use an integer argument to set the mark manually. The value to use is stored in the property rehearsalMark.\n\n    c1 \\mark \\default\n    c1 \\mark \\default\n    c1 \\mark #8\n    c1 \\mark \\default\n    c1 \\mark \\default\n\nThe letter\xa0\u2018I\u2019 is skipped in accordance with engraving traditions. If you wish to include the letter \u2018I\u2019, then use one of the following commands, depending on which style of rehearsal mark you want (letters only, letters in a hollow box, or letters in a hollow circle).\n\n    \\set Score.markFormatter = #format-mark-alphabet\n    \\set Score.markFormatter = #format-mark-box-alphabet\n    \\set Score.markFormatter = #format-mark-circle-alphabet\n\n    \\set Score.markFormatter = #format-mark-box-alphabet\n    c1 \\mark \\default\n    c1 \\mark \\default\n    c1 \\mark #8\n    c1 \\mark \\default\n    c1 \\mark \\default"},{label:"\\mark",detail:"Text marks",documentation:'Various text elements may be added to a score using the syntax described in Rehearsal marks:\n\n    c4\n    \\mark "Allegro"\n    c c c\n\nThis syntax makes it possible to put any text on a bar line; more complex text formatting may be added using a \\markup block, as described in Formatting text:\n\n    <c e>1\n    \\mark \\markup { \\italic { colla parte } }\n    <d f>2 <e g>\n    <c f aes>1\n\nThis syntax also allows to print special signs, like coda, segno or fermata, by specifying the appropriate symbol name as explained in Music notation inside markup:\n\n    <bes f>2 <aes d>\n    \\mark \\markup { \\musicglyph #"scripts.ufermata" }\n    <e g>1\n\nSuch objects are only typeset above the top staff of the score; depending on whether they are specified at the end or the middle of a bar, they can be placed above the bar line or between notes. When specified at a line break, the mark will be printed at the beginning of the next line.\n\n    \\mark "Allegro"\n    c1 c\n    \\mark "assai" \\break\n    c  c'},{label:"\\mark",detail:"A.18 Available music functions",documentation:"Make the music for the \\mark command."},{label:"\\markLengthOff",detail:"Metronome marks",documentation:'In a part for an instrument with long periods of rests, tempo indications sometimes follow each other closely. The command \\markLengthOn provides extra horizontal space to prevent tempo indications from overlapping, and \\markLengthOff restores the default behavior of ignoring tempo marks for horizontal spacing.\n\n    \\compressFullBarRests\n    \\markLengthOn\n    \\tempo "Molto vivace"\n    R1*12\n    \\tempo "Meno mosso"\n    R1*16\n    \\markLengthOff\n    \\tempo "Tranquillo"\n    R1*20'},{label:"\\markLengthOff",detail:"Text marks",documentation:"\\markLengthOn, \\markLengthOff."},{label:"\\markLengthOn",detail:"Metronome marks",documentation:'In a part for an instrument with long periods of rests, tempo indications sometimes follow each other closely. The command \\markLengthOn provides extra horizontal space to prevent tempo indications from overlapping, and \\markLengthOff restores the default behavior of ignoring tempo marks for horizontal spacing.\n\n    \\compressFullBarRests\n    \\markLengthOn\n    \\tempo "Molto vivace"\n    R1*12\n    \\tempo "Meno mosso"\n    R1*16\n    \\markLengthOff\n    \\tempo "Tranquillo"\n    R1*20'},{label:"\\markLengthOn",detail:"Text marks",documentation:"\\markLengthOn, \\markLengthOff."},{label:"\\markup",detail:"Text marks",documentation:'Various text elements may be added to a score using the syntax described in Rehearsal marks:\n\n    c4\n    \\mark "Allegro"\n    c c c\n\nThis syntax makes it possible to put any text on a bar line; more complex text formatting may be added using a \\markup block, as described in Formatting text:\n\n    <c e>1\n    \\mark \\markup { \\italic { colla parte } }\n    <d f>2 <e g>\n    <c f aes>1\n\nThis syntax also allows to print special signs, like coda, segno or fermata, by specifying the appropriate symbol name as explained in Music notation inside markup:\n\n    <bes f>2 <aes d>\n    \\mark \\markup { \\musicglyph #"scripts.ufermata" }\n    <e g>1\n\nSuch objects are only typeset above the top staff of the score; depending on whether they are specified at the end or the middle of a bar, they can be placed above the bar line or between notes. When specified at a line break, the mark will be printed at the beginning of the next line.\n\n    \\mark "Allegro"\n    c1 c\n    \\mark "assai" \\break\n    c  c'},{label:"\\markup",detail:"Separate text",documentation:"A \\markup block can exist by itself, outside of any \\score block, as a \u201ctop-level expression\u201d. This syntax is described in File structure.\n\n    \\markup {\n      Tomorrow, and tomorrow, and tomorrow...\n    }\n\nThis allows printing text separately from the music, which is particularly useful when the input file contains several music pieces, as described in Multiple scores in a book.\n\n    \\score {\n      c'1\n    }\n    \\markup {\n      Tomorrow, and tomorrow, and tomorrow...\n    }\n    \\score {\n      c'1\n    }\n\nSeparate text blocks can be spread over multiple pages, making it possible to print text documents or books entirely within LilyPond. This feature, and the specific syntax it requires, are described in Multi-page markup."},{label:"\\markup",detail:"Separate text",documentation:"\\markup, \\markuplist."},{label:"\\markup",detail:"Text markup introduction",documentation:"A \\markup block is used to typeset text with an extensible syntax called \u201cmarkup mode\u201d."},{label:"\\markup-markup-spacing",detail:"List of flexible vertical spacing \\paper variables",documentation:"the distance between two (title or top-level) markups."},{label:"\\markup-system-spacing",detail:"List of flexible vertical spacing \\paper variables",documentation:"the distance between a (title or top-level) markup and the system that follows it."},{label:"\\markuplist",detail:"Separate text",documentation:"\\markup, \\markuplist."},{label:"\\markuplist",detail:"Multi-page markup",documentation:"Although standard markup objects are not breakable, a specific syntax makes it possible to enter lines of text that can spread over multiple pages:\n\n    \\markuplist {\n      \\justified-lines {\n        A very long text of justified lines.\n        ...\n      }\n      \\wordwrap-lines {\n        Another very long paragraph.\n        ...\n      }\n      ...\n    }\n\nThis syntax accepts a list of markups, that can be\n\n - the result of a markup list command,\n - a list of markups,\n - a list of markup lists.\n\nAn exhaustive list of markup list commands can be found in Text markup list commands."},{label:"\\max-systems-per-page",detail:"\\paper variables for line breaking",documentation:"The maximum number of systems that will be placed on a page. This is currently supported only by the ly:optimal-breaking algorithm. Default: unset."},{label:"\\maxima",detail:"Durations",documentation:"Durations are designated by numbers and dots. Durations are entered as their reciprocal values. For example, a quarter note is entered using a 4 (since it is a 1/4 note), and a half note is entered using a 2 (since it is a 1/2 note). For notes longer than a whole you must use the \\longa (a double breve) and \\breve commands. Durations as short as 128th notes may be specified. Shorter values are possible, but only as beamed notes.\n\n    \\time 8/1\n    c\\longa c\\breve c1 c2\n    c4 c8 c16 c32 c64 c128 c128\n\nHere are the same durations with automatic beaming turned off.\n\n    \\time 8/1\n    \\autoBeamOff\n    c\\longa c\\breve c1 c2\n    c4 c8 c16 c32 c64 c128 c128\n\nA note with the duration of a quadruple breve may be entered with \\maxima, but this is supported only within ancient music notation. For details, see Ancient notation."},{label:"\\maxima",detail:"Rests",documentation:"Rests are entered like notes with the note name r. Durations longer than a whole rest use the following predefined commands:\n\n    \\new Staff {\n      % These two lines are just to prettify this example\n      \\time 16/1\n      \\omit Staff.TimeSignature\n      % Print a maxima rest, equal to four breves\n      r\\maxima\n      % Print a longa rest, equal to two breves\n      r\\longa\n      % Print a breve rest\n      r\\breve\n      r1 r2 r4 r8 r16 r32 r64 r128\n    }"},{label:"\\measureLength",detail:"Setting automatic beam behavior",documentation:"When automatic beaming is enabled, the placement of automatic beams is determined by three context properties: baseMoment, beatStructure, and beamExceptions. The default values of these variables may be overridden as described below, or alternatively the default values themselves may be changed as explained in Time signature.\n\nIf a beamExceptions rule is defined for the time signature in force, that rule alone is used to determine the beam placement; the values of baseMoment and beatStructure are ignored.\n\nIf no beamExceptions rule is defined for the time signature in force, the beam placement is determined by the values of baseMoment and beatStructure."},{label:"\\measureLength",detail:"Time administration",documentation:"Time is administered by the Timing_translator, which by default is to be found in the Score context. An alias, Timing, is added to the context in which the Timing_translator is placed. To ensure that the Timing alias is available, you may need to explicitly instantiate the containing context (such as Voice or Staff).\n\nThe following properties of Timing are used to keep track of timing within the score."},{label:"\\measurePosition",detail:"Upbeats",documentation:"Partial or pick-up measures, such as an anacrusis or an upbeat, are entered using the \\partial command,\n\n    \\partial duration\n\nwhere duration is the remaining length of the partial measure before the start of the next full measure.\n\n    \\time 3/4\n    \\partial 8\n    e8 | a4 c8 b c4 |\n\nThe duration can be any value less than a full measure:\n\n    \\time 3/4\n    \\partial 4.\n    r4 e8 | a4 c8 b c4 |\n\n\\partial duration can also be written as:\n\n    \\set Timing.measurePosition -duration\n\nSo the first example above could be written:\n\n    \\time 3/4\n    \\set Timing.measurePosition = #(ly:make-moment -1/8)\n    e8 | a4 c8 b c4 |\n\nThe property measurePosition contains a rational number, which is usually positive and indicates how much of the measure has passed at this point. The \\partial duration command sets it to a negative number, when it has a different meaning: it then says that the current (first) bar will be preceded by a bar 0 (the partial bar) with a duration given by duration."},{label:"\\measurePosition",detail:"Time administration",documentation:"Time is administered by the Timing_translator, which by default is to be found in the Score context. An alias, Timing, is added to the context in which the Timing_translator is placed. To ensure that the Timing alias is available, you may need to explicitly instantiate the containing context (such as Voice or Staff).\n\nThe following properties of Timing are used to keep track of timing within the score."},{label:"MensuralStaff",detail:"Instantiating new staves",documentation:"Staves (singular: staff) are created with the \\new or \\context commands. For details, see Creating and referencing contexts.\n\nThe basic staff context is Staff:\n\n    \\new Staff { c4 d e f }\n\nThe DrumStaff context creates a five-line staff set up for a typical drum set. Each instrument is shown with a different symbol. The instruments are entered in drum mode following a \\drummode command, with each instrument specified by name. For details, see Percussion staves.\n\n    \\new DrumStaff {\n      \\drummode { cymc hh ss tomh }\n    }\n\nRhythmicStaff creates a single-line staff that only displays the rhythmic values of the input. Real durations are preserved. For details, see Showing melody rhythms.\n\n    \\new RhythmicStaff { c4 d e f }\n\nTabStaff creates a tablature with six strings in standard guitar tuning. For details, see Default tablatures.\n\n    \\new TabStaff { c4 d e f }\n\nThere are two staff contexts specific for the notation of ancient music: MensuralStaff and VaticanaStaff. They are described in Pre-defined contexts.\n\nThe GregorianTranscriptionStaff context creates a staff to notate modern Gregorian chant. It does not show bar lines.\n\n    \\new GregorianTranscriptionStaff { c4 d e f e d }\n\nNew single staff contexts may be defined. For details, see Defining new contexts."},{label:"\\mergeDifferentlyDottedOff",detail:"Collision resolution",documentation:"The note heads of notes in different voices with the same pitch, same note head and opposite stem direction are automatically merged, but notes with different note heads or the same stem direction are not. Rests opposite a stem in a different voice are shifted vertically. The following example shows three different circumstances, on beats 1 and 3 in bar 1 and beat 1 in bar 2, where the automatic merging fails.\n\n    <<\n      {\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nNotes with different note heads may be merged as shown below. In this example the note heads on beat 1 of bar 1 are now merged:\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nQuarter and half notes are not merged in this way, since it would be difficult to tell them apart.\n\nNote heads with different dots as shown in beat 3 of bar 1 may be also be merged:\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        \\mergeDifferentlyDottedOn\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nThe half note and eighth note at the start of the second measure are incorrectly merged because the automatic merge cannot successfully complete the merge when three or more notes line up in the same note column, and in this case the merged note head is incorrect. To allow the merge to select the correct note head a \\shift must be applied to the note that should not be merged. Here, \\shiftOn is applied to move the top g out of the column, and \\mergeDifferentlyHeadedOn then works properly.\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        \\mergeDifferentlyDottedOn\n        c8 d e d c d c4\n        \\shiftOn\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nThe \\shiftOn command allows (but does not force) the notes in a voice to be shifted. When \\shiftOn is applied to a voice, a note or chord in that voice is shifted only if its stem would otherwise collide with a stem from another voice, and only if the colliding stems point in the same direction. The \\shiftOff command prevents this type of shifting from occurring.\n\nBy default, the outer voices (normally voices one and two) have \\shiftOff specified, while the inner voices (three and above) have \\shiftOn specified. When a shift is applied, voices with upstems (odd-numbered voices) are shifted to the right, and voices with downstems (even-numbered voices) are shifted to the left.\n\nHere is an example to help you visualize how an abbreviated polyphonic expression would be expanded internally.\n\nNote: Note that with three or more voices, the vertical order of voices in your input file should not be the same as the vertical order of voices on the staff!\n\n\n\n    \\new Staff \\relative c'' {\n      %% abbreviated entry\n      <<\n        { f2  }  % 1: highest\n        \\\\\n        { g,2 }  % 2: lowest\n        \\\\\n        { d'2 }  % 3: upper middle\n        \\\\\n        { b2  }  % 4: lower middle\n      >>\n      %% internal expansion of the above\n      <<\n        \\new Voice = \"1\" { \\voiceOne   \\shiftOff f'2 }\n        \\new Voice = \"2\" { \\voiceTwo   \\shiftOff g,2 }\n        \\new Voice = \"3\" { \\voiceThree \\shiftOn  d'2 } % shifts right\n        \\new Voice = \"4\" { \\voiceFour  \\shiftOn  b2  } % shifts left\n      >>\n    }\n\nTwo additional commands, \\shiftOnn and \\shiftOnnn provide further shift levels which may be specified temporarily to resolve collisions in complex situations \u2013 see Real music example.\n\nNotes are only merged if they have opposing stem directions (as they have, for example, in voices one and two by default or when the stems are explicitly set in opposite directions)."},{label:"\\mergeDifferentlyDottedOn",detail:"Collision resolution",documentation:"The note heads of notes in different voices with the same pitch, same note head and opposite stem direction are automatically merged, but notes with different note heads or the same stem direction are not. Rests opposite a stem in a different voice are shifted vertically. The following example shows three different circumstances, on beats 1 and 3 in bar 1 and beat 1 in bar 2, where the automatic merging fails.\n\n    <<\n      {\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nNotes with different note heads may be merged as shown below. In this example the note heads on beat 1 of bar 1 are now merged:\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nQuarter and half notes are not merged in this way, since it would be difficult to tell them apart.\n\nNote heads with different dots as shown in beat 3 of bar 1 may be also be merged:\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        \\mergeDifferentlyDottedOn\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nThe half note and eighth note at the start of the second measure are incorrectly merged because the automatic merge cannot successfully complete the merge when three or more notes line up in the same note column, and in this case the merged note head is incorrect. To allow the merge to select the correct note head a \\shift must be applied to the note that should not be merged. Here, \\shiftOn is applied to move the top g out of the column, and \\mergeDifferentlyHeadedOn then works properly.\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        \\mergeDifferentlyDottedOn\n        c8 d e d c d c4\n        \\shiftOn\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nThe \\shiftOn command allows (but does not force) the notes in a voice to be shifted. When \\shiftOn is applied to a voice, a note or chord in that voice is shifted only if its stem would otherwise collide with a stem from another voice, and only if the colliding stems point in the same direction. The \\shiftOff command prevents this type of shifting from occurring.\n\nBy default, the outer voices (normally voices one and two) have \\shiftOff specified, while the inner voices (three and above) have \\shiftOn specified. When a shift is applied, voices with upstems (odd-numbered voices) are shifted to the right, and voices with downstems (even-numbered voices) are shifted to the left.\n\nHere is an example to help you visualize how an abbreviated polyphonic expression would be expanded internally.\n\nNote: Note that with three or more voices, the vertical order of voices in your input file should not be the same as the vertical order of voices on the staff!\n\n\n\n    \\new Staff \\relative c'' {\n      %% abbreviated entry\n      <<\n        { f2  }  % 1: highest\n        \\\\\n        { g,2 }  % 2: lowest\n        \\\\\n        { d'2 }  % 3: upper middle\n        \\\\\n        { b2  }  % 4: lower middle\n      >>\n      %% internal expansion of the above\n      <<\n        \\new Voice = \"1\" { \\voiceOne   \\shiftOff f'2 }\n        \\new Voice = \"2\" { \\voiceTwo   \\shiftOff g,2 }\n        \\new Voice = \"3\" { \\voiceThree \\shiftOn  d'2 } % shifts right\n        \\new Voice = \"4\" { \\voiceFour  \\shiftOn  b2  } % shifts left\n      >>\n    }\n\nTwo additional commands, \\shiftOnn and \\shiftOnnn provide further shift levels which may be specified temporarily to resolve collisions in complex situations \u2013 see Real music example.\n\nNotes are only merged if they have opposing stem directions (as they have, for example, in voices one and two by default or when the stems are explicitly set in opposite directions)."},{label:"\\mergeDifferentlyHeadedOff",detail:"Collision resolution",documentation:"The note heads of notes in different voices with the same pitch, same note head and opposite stem direction are automatically merged, but notes with different note heads or the same stem direction are not. Rests opposite a stem in a different voice are shifted vertically. The following example shows three different circumstances, on beats 1 and 3 in bar 1 and beat 1 in bar 2, where the automatic merging fails.\n\n    <<\n      {\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nNotes with different note heads may be merged as shown below. In this example the note heads on beat 1 of bar 1 are now merged:\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nQuarter and half notes are not merged in this way, since it would be difficult to tell them apart.\n\nNote heads with different dots as shown in beat 3 of bar 1 may be also be merged:\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        \\mergeDifferentlyDottedOn\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nThe half note and eighth note at the start of the second measure are incorrectly merged because the automatic merge cannot successfully complete the merge when three or more notes line up in the same note column, and in this case the merged note head is incorrect. To allow the merge to select the correct note head a \\shift must be applied to the note that should not be merged. Here, \\shiftOn is applied to move the top g out of the column, and \\mergeDifferentlyHeadedOn then works properly.\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        \\mergeDifferentlyDottedOn\n        c8 d e d c d c4\n        \\shiftOn\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nThe \\shiftOn command allows (but does not force) the notes in a voice to be shifted. When \\shiftOn is applied to a voice, a note or chord in that voice is shifted only if its stem would otherwise collide with a stem from another voice, and only if the colliding stems point in the same direction. The \\shiftOff command prevents this type of shifting from occurring.\n\nBy default, the outer voices (normally voices one and two) have \\shiftOff specified, while the inner voices (three and above) have \\shiftOn specified. When a shift is applied, voices with upstems (odd-numbered voices) are shifted to the right, and voices with downstems (even-numbered voices) are shifted to the left.\n\nHere is an example to help you visualize how an abbreviated polyphonic expression would be expanded internally.\n\nNote: Note that with three or more voices, the vertical order of voices in your input file should not be the same as the vertical order of voices on the staff!\n\n\n\n    \\new Staff \\relative c'' {\n      %% abbreviated entry\n      <<\n        { f2  }  % 1: highest\n        \\\\\n        { g,2 }  % 2: lowest\n        \\\\\n        { d'2 }  % 3: upper middle\n        \\\\\n        { b2  }  % 4: lower middle\n      >>\n      %% internal expansion of the above\n      <<\n        \\new Voice = \"1\" { \\voiceOne   \\shiftOff f'2 }\n        \\new Voice = \"2\" { \\voiceTwo   \\shiftOff g,2 }\n        \\new Voice = \"3\" { \\voiceThree \\shiftOn  d'2 } % shifts right\n        \\new Voice = \"4\" { \\voiceFour  \\shiftOn  b2  } % shifts left\n      >>\n    }\n\nTwo additional commands, \\shiftOnn and \\shiftOnnn provide further shift levels which may be specified temporarily to resolve collisions in complex situations \u2013 see Real music example.\n\nNotes are only merged if they have opposing stem directions (as they have, for example, in voices one and two by default or when the stems are explicitly set in opposite directions)."},{label:"\\mergeDifferentlyHeadedOn",detail:"Collision resolution",documentation:"The note heads of notes in different voices with the same pitch, same note head and opposite stem direction are automatically merged, but notes with different note heads or the same stem direction are not. Rests opposite a stem in a different voice are shifted vertically. The following example shows three different circumstances, on beats 1 and 3 in bar 1 and beat 1 in bar 2, where the automatic merging fails.\n\n    <<\n      {\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nNotes with different note heads may be merged as shown below. In this example the note heads on beat 1 of bar 1 are now merged:\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nQuarter and half notes are not merged in this way, since it would be difficult to tell them apart.\n\nNote heads with different dots as shown in beat 3 of bar 1 may be also be merged:\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        \\mergeDifferentlyDottedOn\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nThe half note and eighth note at the start of the second measure are incorrectly merged because the automatic merge cannot successfully complete the merge when three or more notes line up in the same note column, and in this case the merged note head is incorrect. To allow the merge to select the correct note head a \\shift must be applied to the note that should not be merged. Here, \\shiftOn is applied to move the top g out of the column, and \\mergeDifferentlyHeadedOn then works properly.\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        \\mergeDifferentlyDottedOn\n        c8 d e d c d c4\n        \\shiftOn\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nThe \\shiftOn command allows (but does not force) the notes in a voice to be shifted. When \\shiftOn is applied to a voice, a note or chord in that voice is shifted only if its stem would otherwise collide with a stem from another voice, and only if the colliding stems point in the same direction. The \\shiftOff command prevents this type of shifting from occurring.\n\nBy default, the outer voices (normally voices one and two) have \\shiftOff specified, while the inner voices (three and above) have \\shiftOn specified. When a shift is applied, voices with upstems (odd-numbered voices) are shifted to the right, and voices with downstems (even-numbered voices) are shifted to the left.\n\nHere is an example to help you visualize how an abbreviated polyphonic expression would be expanded internally.\n\nNote: Note that with three or more voices, the vertical order of voices in your input file should not be the same as the vertical order of voices on the staff!\n\n\n\n    \\new Staff \\relative c'' {\n      %% abbreviated entry\n      <<\n        { f2  }  % 1: highest\n        \\\\\n        { g,2 }  % 2: lowest\n        \\\\\n        { d'2 }  % 3: upper middle\n        \\\\\n        { b2  }  % 4: lower middle\n      >>\n      %% internal expansion of the above\n      <<\n        \\new Voice = \"1\" { \\voiceOne   \\shiftOff f'2 }\n        \\new Voice = \"2\" { \\voiceTwo   \\shiftOff g,2 }\n        \\new Voice = \"3\" { \\voiceThree \\shiftOn  d'2 } % shifts right\n        \\new Voice = \"4\" { \\voiceFour  \\shiftOn  b2  } % shifts left\n      >>\n    }\n\nTwo additional commands, \\shiftOnn and \\shiftOnnn provide further shift levels which may be specified temporarily to resolve collisions in complex situations \u2013 see Real music example.\n\nNotes are only merged if they have opposing stem directions (as they have, for example, in voices one and two by default or when the stems are explicitly set in opposite directions)."},{label:"\\mf",detail:"Dynamics",documentation:"Absolute dynamic marks are specified using a command after a note, such as c4\\ff. The available dynamic marks are \\ppppp, \\pppp, \\ppp, \\pp, \\p, \\mp, \\mf, \\f, \\ff, \\fff, \\ffff, \\fffff, \\fp, \\sf, \\sff, \\sp, \\spp, \\sfz, and \\rfz. Dynamic marks may be manually placed above or below the staff; see Direction and placement.\n\n    c2\\ppp c\\mp\n    c2\\rfz c^\\mf\n    c2_\\spp c^\\ff"},{label:"\\min-systems-per-page",detail:"\\paper variables for line breaking",documentation:"The minimum number of systems that will be placed on a page. This may cause pages to be overfilled if it is made too large. This is currently supported only by the ly:optimal-breaking algorithm. Default: unset."},{label:"\\minimum-Y-extent",detail:"Within-system spacing properties",documentation:"The within-system vertical spacing mechanisms are controlled by two sets of grob properties. The first set is associated with the VerticalAxisGroup grob, which is created by all staves and non-staff lines. The second set is associated with the StaffGrouper grob, which can be created by staff-groups, but only if explicitly called. These properties are described individually at the end of this section.\n\nThe names of these properties (except for staff-affinity) follow the format item1-item2-spacing, where item1 and item2 are the items to be spaced. Note that item2 is not necessarily below item1; for example, nonstaff-relatedstaff-spacing will measure upwards from the non-staff line if staff-affinity is UP.\n\nEach distance is measured between the reference points of the two items. The reference point for a staff is the vertical center of its StaffSymbol (i.e. the middle line if line-count is odd; the middle space if line-count is even). The reference points for individual non-staff lines are given in the following table:\n\nNon-staff line\tReference point\nChordNames\tbaseline\nNoteNames\tbaseline\nLyrics\tbaseline\nDynamics\tmid-height of \u2018m\u2019\nFiguredBass\thighest point\nFretBoards\ttop line\n\n\nIn the following image, horizontal lines indicate the positions of these reference points:\n\nEach of the vertical spacing grob properties (except staff-affinity) uses the same alist structure as the \\paper spacing variables discussed in Flexible vertical spacing \\paper variables. Specific methods for modifying alists are discussed in Modifying alists. Grob properties should be adjusted with an \\override inside a \\score or \\layout block, and not inside a \\paper block.\n\nThe following example demonstrates the two ways these alists can be modified. The first declaration updates one key-value individually, and the second completely re-defines the property:\n\n    \\new Staff \\with {\n      \\override VerticalAxisGroup.default-staff-staff-spacing.basic-distance = #10\n    } { \u2026 }\n    \\new Staff \\with {\n      \\override VerticalAxisGroup.default-staff-staff-spacing =\n        #'((basic-distance . 10)\n           (minimum-distance . 9)\n           (padding . 1)\n           (stretchability . 10))\n    } { \u2026 }\n\nTo change any spacing settings globally, put them in the \\layout block:\n\n    \\layout {\n      \\context {\n        \\Staff\n        \\override VerticalAxisGroup.default-staff-staff-spacing.basic-distance = #10\n      }\n    }\n\nStandard settings for the vertical spacing grob properties are listed in VerticalAxisGroup and StaffGrouper. Default overrides for specific types of non-staff lines are listed in the relevant context descriptions in Contexts."},{label:"\\minimumFret",detail:"Default tablatures",documentation:'By default pitches are assigned to the lowest playing position on the fret-board (first position). Open strings are automatically preferred. If you would like a certain pitch to be played on a specific string you can add a string number indication to the pitch name. If you don\u2019t want to have string number indications appear in traditional notation, you can override the respective stencil. Usually it will be more comfortable to define the playing position by using the value of minimumFret. The default value for minimumFret is 0.\n\nEven when minimumFret is set, open strings are used whenever possible. This behaviour can be changed by setting restrainOpenStrings to #t.\n\n    \\layout { \\omit Voice.StringNumber }\n    \\new StaffGroup <<\n       \\new Staff \\relative c {\n         \\clef "treble_8"\n         \\time 2/4\n         c16 d e f g4\n         c,16\\5 d\\5 e\\4 f\\4 g4\\4\n         c,16 d e f g4\n       }\n       \\new TabStaff \\relative c {\n         c16 d e f g4\n         c,16\\5 d\\5 e\\4 f\\4 g4\\4\n         \\set TabStaff.minimumFret = #5\n         \\set TabStaff.restrainOpenStrings = ##t\n         c,16 d e f g4\n       }\n    >>'},{label:"\\minimumFret",detail:"Automatic fret diagrams",documentation:"The minimum fret to be used in calculating strings and frets for the FretBoard context can be set with the minimumFret property.\n\n    <<\n      \\new ChordNames {\n        \\chordmode {\n          d1:m d:m\n        }\n      }\n      \\new FretBoards {\n        <d a d' f'>1\n        \\set FretBoards.minimumFret = #5\n        <d a d' f'>1\n      }\n      \\new Staff {\n        \\clef \"treble_8\"\n        <d a d' f'>1\n        <d a d' f'>1\n      }\n    >>\n\nThe strings and frets for the FretBoards context depend on the stringTunings property, which has the same meaning as in the TabStaff context. See Custom tablatures for information on the stringTunings property.\n\nThe graphical layout of a fret diagram can be customized according to user preference through the properties of the fret-diagram-interface. Details are found at fret-diagram-interface. For a FretBoards fret diagram, the interface properties belong to FretBoards.FretBoard."},{label:"\\minimumPageTurnLength",detail:"4.3.4 Optimal page turning",documentation:'The Page_turn_engraver reads the context property minimumPageTurnLength to determine how long a note-free section must be before a page turn is considered. The default value for minimumPageTurnLength is (ly:make-moment 1/1). If you want to disable page turns, you can set it to something very large.\n\n    \\new Staff \\with { \\consists "Page_turn_engraver" }\n    {\n      a4 b c d |\n      R1 | % a page turn will be allowed here\n      a4 b c d |\n      \\set Staff.minimumPageTurnLength = #(ly:make-moment 5/2)\n      R1 | % a page turn will not be allowed here\n      a4 b r2 |\n      R1*2 | % a page turn will be allowed here\n      a1\n    }'},{label:"\\minimumRepeatLengthForPageTurn",detail:"4.3.4 Optimal page turning",documentation:"The Page_turn_engraver detects volta repeats. It will only allow a page turn during the repeat if there is enough time at the beginning and end of the repeat to turn the page back. The Page_turn_engraver can also disable page turns if the repeat is very short. If you set the context property minimumRepeatLengthForPageTurn then the Page_turn_engraver will only allow turns in repeats whose duration is longer than this value.\n\nThe page turning commands, \\pageTurn, \\noPageTurn and \\allowPageTurn, may also be used at top-level, between scores and top-level markups."},{label:"\\minor",detail:"Key signature",documentation:'Here, mode should be \\major or \\minor to get a key signature of pitch-major or pitch-minor, respectively. You may also use the standard mode names, also called church modes: \\ionian, \\dorian, \\phrygian, \\lydian, \\mixolydian, \\aeolian, and \\locrian.\n\n    \\key g \\major\n    fis1\n    f\n    fis\n\nAdditional modes can be defined, by listing the alterations for each scale step when the mode starts on C.\n\n    freygish = #`((0 . ,NATURAL) (1 . ,FLAT) (2 . ,NATURAL)\n        (3 . ,NATURAL) (4 . ,NATURAL) (5 . ,FLAT) (6 . ,FLAT))\n    \\relative c\' {\n      \\key c \\freygish c4 des e f\n      \\bar "||" \\key d \\freygish d es fis g\n    }\n\nAccidentals in the key signature may be printed in octaves other than their traditional positions, or in multiple octaves, by using the flat-positions and sharp-positions properties of KeySignature. Entries in these properties specify the range of staff-positions where accidentals will be printed. If a single position is specified in an entry, the accidentals are placed within the octave ending at that staff position.\n\n    \\override Staff.KeySignature.flat-positions = #\'((-5 . 5))\n    \\override Staff.KeyCancellation.flat-positions = #\'((-5 . 5))\n    \\clef bass \\key es \\major es g bes d\n    \\clef treble \\bar "||" \\key es \\major es g bes d\n    \\override Staff.KeySignature.sharp-positions = #\'(2)\n    \\bar "||" \\key b \\major b fis b2'},{label:"\\minorChordModifier",detail:"Customizing chord names",documentation:""},{label:"\\mixed",detail:"Piano pedals",documentation:"There are three styles of pedal indications: text, bracket, and mixed. The sustain pedal and the una corda pedal use the text style by default while the sostenuto pedal uses mixed by default.\n\n    c4\\sustainOn g c2\\sustainOff\n    \\set Staff.pedalSustainStyle = #'mixed\n    c4\\sustainOn g c d\n    d\\sustainOff\\sustainOn g, c2\\sustainOff\n    \\set Staff.pedalSustainStyle = #'bracket\n    c4\\sustainOn g c d\n    d\\sustainOff\\sustainOn g, c2\n    \\bar \"|.\"\n\nThe placement of the pedal commands matches the physical movement of the sustain pedal during piano performance. Pedalling to the final bar line is indicated by omitting the final pedal off command.\n\nPedal indications may be placed in a Dynamics context, which aligns them on a horizontal line."},{label:"\\mixolydian",detail:"Key signature",documentation:'Here, mode should be \\major or \\minor to get a key signature of pitch-major or pitch-minor, respectively. You may also use the standard mode names, also called church modes: \\ionian, \\dorian, \\phrygian, \\lydian, \\mixolydian, \\aeolian, and \\locrian.\n\n    \\key g \\major\n    fis1\n    f\n    fis\n\nAdditional modes can be defined, by listing the alterations for each scale step when the mode starts on C.\n\n    freygish = #`((0 . ,NATURAL) (1 . ,FLAT) (2 . ,NATURAL)\n        (3 . ,NATURAL) (4 . ,NATURAL) (5 . ,FLAT) (6 . ,FLAT))\n    \\relative c\' {\n      \\key c \\freygish c4 des e f\n      \\bar "||" \\key d \\freygish d es fis g\n    }\n\nAccidentals in the key signature may be printed in octaves other than their traditional positions, or in multiple octaves, by using the flat-positions and sharp-positions properties of KeySignature. Entries in these properties specify the range of staff-positions where accidentals will be printed. If a single position is specified in an entry, the accidentals are placed within the octave ending at that staff position.\n\n    \\override Staff.KeySignature.flat-positions = #\'((-5 . 5))\n    \\override Staff.KeyCancellation.flat-positions = #\'((-5 . 5))\n    \\clef bass \\key es \\major es g bes d\n    \\clef treble \\bar "||" \\key es \\major es g bes d\n    \\override Staff.KeySignature.sharp-positions = #\'(2)\n    \\bar "||" \\key b \\major b fis b2'},{label:"\\modalInversion",detail:"Modal inversion",documentation:"A motif can be inverted within a given scale around a given pivot note and transposed in a single operation with:\n\n    \\modalInversion around-pitch to-pitch scale motif\n\nThe notes of motif are placed the same number of scale degrees from the around-pitch note within the scale, but in the opposite direction, and the result is then shifted within the scale by the number of scale degrees given by the interval between to-pitch and around-pitch.\n\nSo to simply invert around a note in the scale use the same value for around-pitch and to-pitch:\n\n    octatonicScale = \\relative c' { ees f fis gis a b c d }\n    motif = \\relative c' { c8. ees16 fis8. a16 b8. gis16 f8. d16 }\n    \\new Staff {\n      \\motif\n      \\modalInversion fis' fis' \\octatonicScale \\motif\n    }\n\nTo invert around a pivot between two notes in the scale, invert around one of the notes and then transpose by one scale degree. The two notes specified can be interpreted as bracketing the pivot point:\n\n    scale = \\relative c' { c g' }\n    motive = \\relative c' { c c g' c, }\n    \\new Staff {\n      \\motive\n      \\modalInversion c' g' \\scale \\motive\n    }\n\nThe combined operation of inversion and retrograde produce the retrograde-inversion:\n\n    octatonicScale = \\relative c' { ees f fis gis a b c d }\n    motif = \\relative c' { c8. ees16 fis8. a16 b8. gis16 f8. d16 }\n    \\new Staff {\n      \\motif\n      \\retrograde \\modalInversion c' c' \\octatonicScale \\motif\n    }"},{label:"\\modalInversion",detail:"A.18 Available music functions",documentation:"Invert music about around using scale and transpose from around to to."},{label:"\\modalTranspose",detail:"Modal transposition",documentation:"A motif can be transposed within a given scale with:\n\n    \\modalTranspose from-pitch to-pitch scale motif\n\nThe notes of motif are shifted within the scale by the number of scale degrees given by the interval between to-pitch and from-pitch:\n\n    diatonicScale = \\relative c' { c d e f g a b }\n    motif = \\relative c' { c8 d e f g a b c }\n    \\new Staff {\n      \\motif\n      \\modalTranspose c f \\diatonicScale \\motif\n      \\modalTranspose c b, \\diatonicScale \\motif\n    }\n\nAn ascending scale of any length and with any intervals may be specified:\n\n    pentatonicScale = \\relative c' { ges aes bes des ees }\n    motif = \\relative c' { ees8 des ges,4 <ges' bes,> <ges bes,> }\n    \\new Staff {\n      \\motif\n      \\modalTranspose ges ees' \\pentatonicScale \\motif\n    }\n\nWhen used with a chromatic scale \\modalTranspose has a similar effect to \\transpose, but with the ability to specify the names of the notes to be used:\n\n    chromaticScale = \\relative c' { c cis d dis e f fis g gis a ais b }\n    motif = \\relative c' { c8 d e f g a b c }\n    \\new Staff {\n      \\motif\n      \\transpose c f \\motif\n      \\modalTranspose c f \\chromaticScale \\motif\n    }"},{label:"\\modalTranspose",detail:"A.18 Available music functions",documentation:"Transpose music from pitch from to pitch to using scale."},{label:"\\modern",detail:"Automatic accidentals",documentation:"This rule corresponds to the common practice in the twentieth century. It omits some extra natural signs, which were traditionally prefixed to a sharp following a double sharp, or a flat following a double flat. The modern rule prints the same accidentals as default, with two additions that serve to avoid ambiguity: after temporary accidentals, cancellation marks are printed also in the following measure (for notes in the same octave) and, in the same measure, for notes in other octaves. Hence the naturals before the\xa0b and the\xa0c in the second measure of the upper staff:"},{label:"\\modern-cautionary",detail:"Automatic accidentals",documentation:"This rule is similar to modern, but the \u2018extra\u2019 accidentals (the ones not typeset by default) are typeset as cautionary accidentals. They are by default printed with parentheses, but they can also be printed in reduced size by defining the cautionary-style property of AccidentalSuggestion."},{label:"\\modern-voice",detail:"Automatic accidentals",documentation:"This rule is used for multivoice accidentals to be read both by musicians playing one voice and musicians playing all voices. Accidentals are typeset for each voice, but they are canceled across voices in the same Staff. Hence, the\xa0a in the last measure is canceled because the previous cancellation was in a different voice, and the\xa0d in the lower staff is canceled because of the accidental in a different voice in the previous measure:"},{label:"\\modern-voice-cautionary",detail:"Automatic accidentals",documentation:""},{label:"\\mp",detail:"Dynamics",documentation:"Absolute dynamic marks are specified using a command after a note, such as c4\\ff. The available dynamic marks are \\ppppp, \\pppp, \\ppp, \\pp, \\p, \\mp, \\mf, \\f, \\ff, \\fff, \\ffff, \\fffff, \\fp, \\sf, \\sff, \\sp, \\spp, \\sfz, and \\rfz. Dynamic marks may be manually placed above or below the staff; see Direction and placement.\n\n    c2\\ppp c\\mp\n    c2\\rfz c^\\mf\n    c2_\\spp c^\\ff"},{label:"MultiMeasureRestText",detail:"Full measure rests",documentation:'Markups can be added to multi-measure rests. The predefined command \\fermataMarkup is provided for adding fermatas.\n\n    \\compressFullBarRests\n    \\time 3/4\n    R2.*10^\\markup { \\italic "ad lib." }\n    R2.^\\fermataMarkup\n\nNote: Markups attached to a multi-measure rest are objects of type MultiMeasureRestText, not TextScript. Overrides must be directed to the correct object, or they will be ignored. See the following example:\n\n\n\n    % This fails, as the wrong object name is specified\n    \\override TextScript.padding = #5\n    R1^"wrong"\n    % This is the correct object name to be specified\n    \\override MultiMeasureRestText.padding = #5\n    R1^"right"\n\nWhen a multi-measure rest immediately follows a \\partial setting, resulting bar-check warnings may not be displayed.'},{label:"\\musicglyph",detail:"Rehearsal marks",documentation:'Music glyphs (such as the segno sign) may be printed inside a \\mark\n\n    c1 \\mark \\markup { \\musicglyph #"scripts.segno" }\n    c1 \\mark \\markup { \\musicglyph #"scripts.coda" }\n    c1 \\mark \\markup { \\musicglyph #"scripts.ufermata" }\n    c1\n\nSee The Feta font, for a list of symbols which may be printed with \\musicglyph.\n\nFor common tweaks to the positioning of rehearsal marks, see Formatting text. For more precise control, see break-alignable-interface in Aligning objects.\n\nThe file \u2018scm/translation-functions.scm\u2019 contains the definitions of format-mark-numbers and format-mark-letters. They can be used as inspiration for other formatting functions.'},{label:"\\musicMap",detail:"A.18 Available music functions",documentation:"Apply proc to mus and all of the music it contains."},{label:"\\name",detail:"5.1.6 Defining new contexts",documentation:'Specific contexts, like Staff and Voice, are made from simple building blocks. It is possible to create new types of contexts with different combinations of engraver plug-ins.\n\nThe next example shows how to build a different type of Voice context from scratch. It will be similar to Voice, but only prints centered slash note heads. It can be used to indicate improvisation in jazz pieces,\n\nThese settings are defined within a \\context block inside a \\layout block,\n\n    \\layout {\n      \\context {\n        \u2026\n      }\n    }\n\nIn the following discussion, the example input shown should go in place of the \u2026 in the previous fragment.\n\nFirst it is necessary to define a name for the new context:\n\n    \\name ImproVoice\n\nSince it is similar to the Voice context, we want commands that work in (existing) Voice contexts to continue working. This is achieved by giving the new context an alias of Voice,\n\n    \\alias Voice\n\nThe context will print notes and instructive texts, so we need to add the engravers which provide this functionality, plus the engraver which groups notes, stems and rests which occur at the same musical moment into columns,\n\n    \\consists "Note_heads_engraver"\n    \\consists "Text_engraver"\n    \\consists "Rhythmic_column_engraver"\n\nThe note heads should all be placed on the center line,\n\n    \\consists "Pitch_squash_engraver"\n    squashedPosition = #0\n\nThe Pitch_squash_engraver modifies note heads (created by the Note_heads_engraver) and sets their vertical position to the value of squashedPosition, in this case\xa00, the center line.\n\nThe notes look like a slash, and have no stem,\n\n    \\override NoteHead.style = #\'slash\n    \\hide Stem\n\nAll these plug-ins have to communicate under the control of the context. The mechanisms with which contexts communicate are established by declaring the context \\type. Within a \\layout block, most contexts will be of type Engraver_group. Some special contexts and contexts in \\midi blocks use other context types. Copying and modifying an existing context definition will also fill in the type. Since this example creates a definition from scratch, it needs to be specified explicitly.\n\n    \\type "Engraver_group"\n\nPut together, we get\n\n    \\context {\n      \\name ImproVoice\n      \\type "Engraver_group"\n      \\consists "Note_heads_engraver"\n      \\consists "Text_engraver"\n      \\consists "Rhythmic_column_engraver"\n      \\consists "Pitch_squash_engraver"\n      squashedPosition = #0\n      \\override NoteHead.style = #\'slash\n      \\hide Stem\n      \\alias Voice\n    }'},{label:"\\neo-modern",detail:"Automatic accidentals",documentation:"This rule reproduces a common practice in contemporary music: accidentals are printed like with modern, but they are printed again if the same note appears later in the same measure \u2013 except if the note is immediately repeated."},{label:"\\neo-modern-cautionary",detail:"Automatic accidentals",documentation:"This rule is similar to neo-modern, but the extra accidentals are printed as cautionary accidentals."},{label:"\\neo-modern-voice",detail:"Automatic accidentals",documentation:"This rule is used for multivoice accidentals to be read both by musicians playing one voice and musicians playing all voices. Accidentals are typeset for each voice as with neo-modern, but they are canceled across voices in the same Staff."},{label:"\\neo-modern-voice-cautionary",detail:"Automatic accidentals",documentation:"This rule is similar to neo-modern-voice, but the extra accidentals are printed as cautionary accidentals."},{label:"\\no-reset",detail:"Automatic accidentals",documentation:"This is the same as default but with accidentals lasting \u2018forever\u2019 and not only within the same measure:"},{label:"\\noBeam",detail:"Manual beams",documentation:"Individual notes may be marked with \\noBeam to prevent them from being beamed:\n\n    \\time 2/4\n    c8 c\\noBeam c c\n\nGrace note beams and normal note beams can occur simultaneously. Unbeamed grace notes are not put into normal note beams.\n\n    c4 d8[\n    \\grace { e32 d c d }\n    e8] e[ e\n    \\grace { f16 }\n    e8 e]"},{label:"\\nonstaff-nonstaff-spacing",detail:"Within-system spacing properties",documentation:"The within-system vertical spacing mechanisms are controlled by two sets of grob properties. The first set is associated with the VerticalAxisGroup grob, which is created by all staves and non-staff lines. The second set is associated with the StaffGrouper grob, which can be created by staff-groups, but only if explicitly called. These properties are described individually at the end of this section.\n\nThe names of these properties (except for staff-affinity) follow the format item1-item2-spacing, where item1 and item2 are the items to be spaced. Note that item2 is not necessarily below item1; for example, nonstaff-relatedstaff-spacing will measure upwards from the non-staff line if staff-affinity is UP.\n\nEach distance is measured between the reference points of the two items. The reference point for a staff is the vertical center of its StaffSymbol (i.e. the middle line if line-count is odd; the middle space if line-count is even). The reference points for individual non-staff lines are given in the following table:\n\nNon-staff line\tReference point\nChordNames\tbaseline\nNoteNames\tbaseline\nLyrics\tbaseline\nDynamics\tmid-height of \u2018m\u2019\nFiguredBass\thighest point\nFretBoards\ttop line\n\n\nIn the following image, horizontal lines indicate the positions of these reference points:\n\nEach of the vertical spacing grob properties (except staff-affinity) uses the same alist structure as the \\paper spacing variables discussed in Flexible vertical spacing \\paper variables. Specific methods for modifying alists are discussed in Modifying alists. Grob properties should be adjusted with an \\override inside a \\score or \\layout block, and not inside a \\paper block.\n\nThe following example demonstrates the two ways these alists can be modified. The first declaration updates one key-value individually, and the second completely re-defines the property:\n\n    \\new Staff \\with {\n      \\override VerticalAxisGroup.default-staff-staff-spacing.basic-distance = #10\n    } { \u2026 }\n    \\new Staff \\with {\n      \\override VerticalAxisGroup.default-staff-staff-spacing =\n        #'((basic-distance . 10)\n           (minimum-distance . 9)\n           (padding . 1)\n           (stretchability . 10))\n    } { \u2026 }\n\nTo change any spacing settings globally, put them in the \\layout block:\n\n    \\layout {\n      \\context {\n        \\Staff\n        \\override VerticalAxisGroup.default-staff-staff-spacing.basic-distance = #10\n      }\n    }\n\nStandard settings for the vertical spacing grob properties are listed in VerticalAxisGroup and StaffGrouper. Default overrides for specific types of non-staff lines are listed in the relevant context descriptions in Contexts."},{label:"\\nonstaff-relatedstaff-spacing",detail:"Within-system spacing properties",documentation:"The within-system vertical spacing mechanisms are controlled by two sets of grob properties. The first set is associated with the VerticalAxisGroup grob, which is created by all staves and non-staff lines. The second set is associated with the StaffGrouper grob, which can be created by staff-groups, but only if explicitly called. These properties are described individually at the end of this section.\n\nThe names of these properties (except for staff-affinity) follow the format item1-item2-spacing, where item1 and item2 are the items to be spaced. Note that item2 is not necessarily below item1; for example, nonstaff-relatedstaff-spacing will measure upwards from the non-staff line if staff-affinity is UP.\n\nEach distance is measured between the reference points of the two items. The reference point for a staff is the vertical center of its StaffSymbol (i.e. the middle line if line-count is odd; the middle space if line-count is even). The reference points for individual non-staff lines are given in the following table:\n\nNon-staff line\tReference point\nChordNames\tbaseline\nNoteNames\tbaseline\nLyrics\tbaseline\nDynamics\tmid-height of \u2018m\u2019\nFiguredBass\thighest point\nFretBoards\ttop line\n\n\nIn the following image, horizontal lines indicate the positions of these reference points:\n\nEach of the vertical spacing grob properties (except staff-affinity) uses the same alist structure as the \\paper spacing variables discussed in Flexible vertical spacing \\paper variables. Specific methods for modifying alists are discussed in Modifying alists. Grob properties should be adjusted with an \\override inside a \\score or \\layout block, and not inside a \\paper block.\n\nThe following example demonstrates the two ways these alists can be modified. The first declaration updates one key-value individually, and the second completely re-defines the property:\n\n    \\new Staff \\with {\n      \\override VerticalAxisGroup.default-staff-staff-spacing.basic-distance = #10\n    } { \u2026 }\n    \\new Staff \\with {\n      \\override VerticalAxisGroup.default-staff-staff-spacing =\n        #'((basic-distance . 10)\n           (minimum-distance . 9)\n           (padding . 1)\n           (stretchability . 10))\n    } { \u2026 }\n\nTo change any spacing settings globally, put them in the \\layout block:\n\n    \\layout {\n      \\context {\n        \\Staff\n        \\override VerticalAxisGroup.default-staff-staff-spacing.basic-distance = #10\n      }\n    }\n\nStandard settings for the vertical spacing grob properties are listed in VerticalAxisGroup and StaffGrouper. Default overrides for specific types of non-staff lines are listed in the relevant context descriptions in Contexts."},{label:"\\nonstaff-unrelatedstaff-spacing",detail:"Within-system spacing properties",documentation:"The within-system vertical spacing mechanisms are controlled by two sets of grob properties. The first set is associated with the VerticalAxisGroup grob, which is created by all staves and non-staff lines. The second set is associated with the StaffGrouper grob, which can be created by staff-groups, but only if explicitly called. These properties are described individually at the end of this section.\n\nThe names of these properties (except for staff-affinity) follow the format item1-item2-spacing, where item1 and item2 are the items to be spaced. Note that item2 is not necessarily below item1; for example, nonstaff-relatedstaff-spacing will measure upwards from the non-staff line if staff-affinity is UP.\n\nEach distance is measured between the reference points of the two items. The reference point for a staff is the vertical center of its StaffSymbol (i.e. the middle line if line-count is odd; the middle space if line-count is even). The reference points for individual non-staff lines are given in the following table:\n\nNon-staff line\tReference point\nChordNames\tbaseline\nNoteNames\tbaseline\nLyrics\tbaseline\nDynamics\tmid-height of \u2018m\u2019\nFiguredBass\thighest point\nFretBoards\ttop line\n\n\nIn the following image, horizontal lines indicate the positions of these reference points:\n\nEach of the vertical spacing grob properties (except staff-affinity) uses the same alist structure as the \\paper spacing variables discussed in Flexible vertical spacing \\paper variables. Specific methods for modifying alists are discussed in Modifying alists. Grob properties should be adjusted with an \\override inside a \\score or \\layout block, and not inside a \\paper block.\n\nThe following example demonstrates the two ways these alists can be modified. The first declaration updates one key-value individually, and the second completely re-defines the property:\n\n    \\new Staff \\with {\n      \\override VerticalAxisGroup.default-staff-staff-spacing.basic-distance = #10\n    } { \u2026 }\n    \\new Staff \\with {\n      \\override VerticalAxisGroup.default-staff-staff-spacing =\n        #'((basic-distance . 10)\n           (minimum-distance . 9)\n           (padding . 1)\n           (stretchability . 10))\n    } { \u2026 }\n\nTo change any spacing settings globally, put them in the \\layout block:\n\n    \\layout {\n      \\context {\n        \\Staff\n        \\override VerticalAxisGroup.default-staff-staff-spacing.basic-distance = #10\n      }\n    }\n\nStandard settings for the vertical spacing grob properties are listed in VerticalAxisGroup and StaffGrouper. Default overrides for specific types of non-staff lines are listed in the relevant context descriptions in Contexts."},{label:"\\noPageBreak",detail:"A.18 Available music functions",documentation:"Forbid a page break. May be used at toplevel (i.e., between scores or markups), or inside a score."},{label:"\\noPageTurn",detail:"A.18 Available music functions",documentation:"Forbid a page turn. May be used at toplevel (i.e., between scores or markups), or inside a score."},{label:"\\normal-size-super",detail:"Selecting font and font size",documentation:"Text may be printed as subscript or superscript. By default these are printed in a smaller size, but a normal size can be used as well:\n\n    \\markup {\n      \\column {\n        \\line { 1 \\super st movement }\n        \\line { 1 \\normal-size-super st movement\n          \\sub { (part two) }  }\n      }\n    }"},{label:"\\normalsize",detail:"Selecting notation font size",documentation:"The font size of notation elements may be altered. It does not change the size of variable symbols, such as beams or slurs.\n\nNote: For font sizes of text, see Selecting font and font size.\n\n\n\n    \\huge\n    c4.-> d8---3\n    \\large\n    c4.-> d8---3\n    \\normalsize\n    c4.-> d8---3\n    \\small\n    c4.-> d8---3\n    \\tiny\n    c4.-> d8---3\n    \\teeny\n    c4.-> d8---3\n\nInternally, this sets the fontSize property. This in turn causes the font-size property to be set in all layout objects. The value of font-size is a number indicating the size relative to the standard size for the current staff height. Each step up is an increase of approximately 12% of the font size. Six steps is exactly a factor of two. The Scheme function magstep converts a font-size number to a scaling factor. The font-size property can also be set directly, so that only certain layout objects are affected.\n\n    \\set fontSize = #3\n    c4.-> d8---3\n    \\override NoteHead.font-size = #-4\n    c4.-> d8---3\n    \\override Script.font-size = #2\n    c4.-> d8---3\n    \\override Stem.font-size = #-5\n    c4.-> d8---3"},{label:"\\normalsize",detail:"Selecting font and font size",documentation:"\\teeny, \\tiny, \\small, \\normalsize, \\large, \\huge, \\smaller, \\larger."},{label:"Note_heads_engraver",detail:"Automatic note splitting",documentation:'Long notes which overrun bar lines can be converted automatically to tied notes. This is done by replacing the Note_heads_engraver with the Completion_heads_engraver. Similarly, long rests which overrun bar lines are split automatically by replacing the Rest_engraver with the Completion_rest_engraver. In the following example, notes and rests crossing the bar lines are split, notes are also tied.\n\n    \\new Voice \\with {\n      \\remove "Note_heads_engraver"\n      \\consists "Completion_heads_engraver"\n      \\remove "Rest_engraver"\n      \\consists "Completion_rest_engraver"\n    }\n    { c2. c8 d4 e f g a b c8 c2 b4 a g16 f4 e d c8. c2 r1*2 }\n\nThese engravers split all running notes and rests at the bar line, and inserts ties for notes. One of its uses is to debug complex scores: if the measures are not entirely filled, then the ties show exactly how much each measure is off.'},{label:"\\null",detail:"Text alignment",documentation:"Vertical alignment is a bit more complex. As stated above, markup objects can be moved as a whole; however, it is also possible to move specific elements inside a markup block. In this case, the element to be moved needs to be preceded with an anchor point, that can be another markup element or an invisible object. The following example demonstrates these two possibilities; the last markup in this example has no anchor point, and therefore is not moved.\n\n    d2^\\markup {\n      Acte I\n      \\raise #2 { Sc\xe8ne 1 }\n    }\n    a'\n    g_\\markup {\n      \\null\n      \\lower #4 \\bold { Tr\xe8s mod\xe9r\xe9 }\n    }\n    a\n    d,^\\markup {\n      \\raise #4 \\italic { Une for\xeat. }\n    }\n    a'4 a g2 a"},{label:"\\numericTimeSignature",detail:"Time signature",documentation:"The time signature symbol that is used in 2/2 and 4/4 time can be changed to a numeric style:\n\n    % Default style\n    \\time 4/4 c1\n    \\time 2/2 c1\n    % Change to numeric style\n    \\numericTimeSignature\n    \\time 4/4 c1\n    \\time 2/2 c1\n    % Revert to default style\n    \\defaultTimeSignature\n    \\time 4/4 c1\n    \\time 2/2 c1\n\nMensural time signatures are covered in Mensural time signatures."},{label:"\\octaveCheck",detail:"Octave checks",documentation:"In relative mode, it is easy to forget an octave changing mark. Octave checks make such errors easier to find by displaying a warning and correcting the octave if a note is found in an unexpected octave.\n\nTo check the octave of a note, specify the absolute octave after the =\xa0symbol. This example will generate a warning (and change the pitch) because the second note is the absolute octave d'' instead of d' as indicated by the octave correction.\n\n    \\relative c'' {\n      c2 d='4 d\n      e2 f\n    }\n\nThe octave of notes may also be checked with the \\octaveCheck\xa0controlpitch command. controlpitch is specified in absolute mode. This checks that the interval between the previous note and the controlpitch is within a fourth (i.e., the normal calculation of relative mode). If this check fails, a warning is printed, but the previous note is not changed. Future notes are relative to the controlpitch.\n\n    \\relative c'' {\n      c2 d\n      \\octaveCheck c'\n      e2 f\n    }\n\nCompare the two bars below. The first and third \\octaveCheck checks fail, but the second one does not fail.\n\n    \\relative c'' {\n      c4 f g f\n      c4\n      \\octaveCheck c'\n      f\n      \\octaveCheck c'\n      g\n      \\octaveCheck c'\n      f\n    }"},{label:"\\octaveCheck",detail:"A.18 Available music functions",documentation:"Octave check."},{label:"\\offset",detail:"A.18 Available music functions",documentation:"Offset the default value of property of item by offsets. If item is a string, the result is \\override for the specified grob type. If item is a music expression, the result is the same music expression with an appropriate tweak applied."},{label:"\\omit",detail:"A.18 Available music functions",documentation:"Set item\u2019s \u2018stencil\u2019 property to #f, effectively omitting it without taking up space.\n\nIf item is a symbol list of form GrobName or Context.GrobName, the result is an override for the grob name specified by it. If item is a music expression, the result is the same music expression with an appropriate tweak applied to it."},{label:"\\once",detail:"A.18 Available music functions",documentation:"Set once to #t on all layout instruction events in music. This will complain about music with an actual duration. As a special exception, if music contains \u2018tweaks\u2019 it will be silently ignored in order to allow for \\once \\tweak to work as both one-time override and proper tweak."},{label:"\\oneVoice",detail:"Single-staff polyphony",documentation:'The basic structure needed to achieve multiple independent voices in a single staff is illustrated in the following example:\n\n    \\new Staff <<\n      \\new Voice = "first"\n        { \\voiceOne r8 r16 g e8. f16 g8[ c,] f e16 d }\n      \\new Voice= "second"\n        { \\voiceTwo d16 c d8~ d16 b c8~ c16 b c8~ c16 b8. }\n    >>\n\nHere, voices are instantiated explicitly and are given names. The \\voiceOne \u2026 \\voiceFour commands set up the voices so that first and third voices get stems up, second and fourth voices get stems down, third and fourth voice note heads are horizontally shifted, and rests in the respective voices are automatically moved to avoid collisions. The \\oneVoice command returns all the voice settings to the neutral default directions.'},{label:"\\ottava",detail:"Ottava brackets",documentation:"Ottava brackets introduce an extra transposition of an octave for the staff:\n\n    a2 b\n    \\ottava #-2\n    a2 b\n    \\ottava #-1\n    a2 b\n    \\ottava #0\n    a2 b\n    \\ottava #1\n    a2 b\n    \\ottava #2\n    a2 b"},{label:"\\ottava",detail:"A.18 Available music functions",documentation:"Set the octavation."},{label:"\\outer-margin",detail:"\\paper variables for two-sided mode",documentation:"The margin all pages have at the outer side if they are part of a book. If the paper size is modified, this dimension\u2019s default value is scaled accordingly. Works only with two-sided set to true."},{label:"\\outside-staff-horizontal-padding",detail:"4.4.3 Vertical collision avoidance",documentation:'Intuitively, there are some objects in musical notation that belong to the staff and there are other objects that should be placed outside the staff. Objects belonging outside the staff include things such as rehearsal marks, text and dynamic markings (from now on, these will be called outside-staff objects). LilyPond\u2019s rule for the vertical placement of outside-staff objects is to place them as close to the staff as possible but not so close that they collide with another object.\n\nLilyPond uses the outside-staff-priority property to determine whether a grob is an outside-staff object: if outside-staff-priority is a number, the grob is an outside-staff object. In addition, outside-staff-priority tells LilyPond in which order the objects should be placed.\n\nFirst, LilyPond places all the objects that do not belong outside the staff. Then it sorts the outside-staff objects according to their outside-staff-priority (in increasing order). One by one, LilyPond takes the outside-staff objects and places them so that they do not collide with any objects that have already been placed. That is, if two outside-staff grobs are competing for the same space, the one with the lower outside-staff-priority will be placed closer to the staff.\n\n    c4_"Text"\\pp\n    r2.\n    \\once \\override TextScript.outside-staff-priority = #1\n    c4_"Text"\\pp % this time the text will be closer to the staff\n    r2.\n    % by setting outside-staff-priority to a non-number,\n    % we disable the automatic collision avoidance\n    \\once \\override TextScript.outside-staff-priority = ##f\n    \\once \\override DynamicLineSpanner.outside-staff-priority = ##f\n    c4_"Text"\\pp % now they will collide\n\nThe vertical padding around outside-staff objects can be controlled with outside-staff-padding.\n\n    \\once \\override TextScript.outside-staff-padding = #0\n    a4-"outside-staff-padding = #0"\n    \\once \\override TextScript.outside-staff-padding = #3\n    d-"outside-staff-padding = #3"\n    c-"default outside-staff-padding"\n    b-"default outside-staff-padding"\n    R1\n\nBy default, outside-staff objects are placed so they avoid a horizontal collision with previously-positioned grobs. This can lead to situations in which objects are placed close to each other horizontally. As shown in the example below, setting outside-staff-horizontal-padding increases the horizontal spacing required, and in this case moves the text up to prevent it from getting too close to the ledger lines.\n\n    c4^"Word" c c\'\'2\n    R1\n    \\once \\override TextScript.outside-staff-horizontal-padding = #1\n    c,,4^"Word" c c\'\'2'},{label:"\\outside-staff-padding",detail:"4.4.3 Vertical collision avoidance",documentation:'Intuitively, there are some objects in musical notation that belong to the staff and there are other objects that should be placed outside the staff. Objects belonging outside the staff include things such as rehearsal marks, text and dynamic markings (from now on, these will be called outside-staff objects). LilyPond\u2019s rule for the vertical placement of outside-staff objects is to place them as close to the staff as possible but not so close that they collide with another object.\n\nLilyPond uses the outside-staff-priority property to determine whether a grob is an outside-staff object: if outside-staff-priority is a number, the grob is an outside-staff object. In addition, outside-staff-priority tells LilyPond in which order the objects should be placed.\n\nFirst, LilyPond places all the objects that do not belong outside the staff. Then it sorts the outside-staff objects according to their outside-staff-priority (in increasing order). One by one, LilyPond takes the outside-staff objects and places them so that they do not collide with any objects that have already been placed. That is, if two outside-staff grobs are competing for the same space, the one with the lower outside-staff-priority will be placed closer to the staff.\n\n    c4_"Text"\\pp\n    r2.\n    \\once \\override TextScript.outside-staff-priority = #1\n    c4_"Text"\\pp % this time the text will be closer to the staff\n    r2.\n    % by setting outside-staff-priority to a non-number,\n    % we disable the automatic collision avoidance\n    \\once \\override TextScript.outside-staff-priority = ##f\n    \\once \\override DynamicLineSpanner.outside-staff-priority = ##f\n    c4_"Text"\\pp % now they will collide\n\nThe vertical padding around outside-staff objects can be controlled with outside-staff-padding.\n\n    \\once \\override TextScript.outside-staff-padding = #0\n    a4-"outside-staff-padding = #0"\n    \\once \\override TextScript.outside-staff-padding = #3\n    d-"outside-staff-padding = #3"\n    c-"default outside-staff-padding"\n    b-"default outside-staff-padding"\n    R1\n\nBy default, outside-staff objects are placed so they avoid a horizontal collision with previously-positioned grobs. This can lead to situations in which objects are placed close to each other horizontally. As shown in the example below, setting outside-staff-horizontal-padding increases the horizontal spacing required, and in this case moves the text up to prevent it from getting too close to the ledger lines.\n\n    c4^"Word" c c\'\'2\n    R1\n    \\once \\override TextScript.outside-staff-horizontal-padding = #1\n    c,,4^"Word" c c\'\'2'},{label:"\\outside-staff-priority",detail:"4.4.3 Vertical collision avoidance",documentation:'Intuitively, there are some objects in musical notation that belong to the staff and there are other objects that should be placed outside the staff. Objects belonging outside the staff include things such as rehearsal marks, text and dynamic markings (from now on, these will be called outside-staff objects). LilyPond\u2019s rule for the vertical placement of outside-staff objects is to place them as close to the staff as possible but not so close that they collide with another object.\n\nLilyPond uses the outside-staff-priority property to determine whether a grob is an outside-staff object: if outside-staff-priority is a number, the grob is an outside-staff object. In addition, outside-staff-priority tells LilyPond in which order the objects should be placed.\n\nFirst, LilyPond places all the objects that do not belong outside the staff. Then it sorts the outside-staff objects according to their outside-staff-priority (in increasing order). One by one, LilyPond takes the outside-staff objects and places them so that they do not collide with any objects that have already been placed. That is, if two outside-staff grobs are competing for the same space, the one with the lower outside-staff-priority will be placed closer to the staff.\n\n    c4_"Text"\\pp\n    r2.\n    \\once \\override TextScript.outside-staff-priority = #1\n    c4_"Text"\\pp % this time the text will be closer to the staff\n    r2.\n    % by setting outside-staff-priority to a non-number,\n    % we disable the automatic collision avoidance\n    \\once \\override TextScript.outside-staff-priority = ##f\n    \\once \\override DynamicLineSpanner.outside-staff-priority = ##f\n    c4_"Text"\\pp % now they will collide\n\nThe vertical padding around outside-staff objects can be controlled with outside-staff-padding.\n\n    \\once \\override TextScript.outside-staff-padding = #0\n    a4-"outside-staff-padding = #0"\n    \\once \\override TextScript.outside-staff-padding = #3\n    d-"outside-staff-padding = #3"\n    c-"default outside-staff-padding"\n    b-"default outside-staff-padding"\n    R1\n\nBy default, outside-staff objects are placed so they avoid a horizontal collision with previously-positioned grobs. This can lead to situations in which objects are placed close to each other horizontally. As shown in the example below, setting outside-staff-horizontal-padding increases the horizontal spacing required, and in this case moves the text up to prevent it from getting too close to the ledger lines.\n\n    c4^"Word" c c\'\'2\n    R1\n    \\once \\override TextScript.outside-staff-horizontal-padding = #1\n    c,,4^"Word" c c\'\'2'},{label:"\\overrideProperty",detail:"A.18 Available music functions",documentation:"Set the grob property specified by grob-property-path to value. grob-property-path is a symbol list of the form Context.GrobName.property or GrobName.property, possibly with subproperties given as well."},{label:"\\overrideTimeSignatureSettings",detail:"A.18 Available music functions",documentation:"Override timeSignatureSettings for time signatures of time-signature to have settings of base-moment, beat-structure, and beam-exceptions."},{label:"\\p",detail:"Dynamics",documentation:"Absolute dynamic marks are specified using a command after a note, such as c4\\ff. The available dynamic marks are \\ppppp, \\pppp, \\ppp, \\pp, \\p, \\mp, \\mf, \\f, \\ff, \\fff, \\ffff, \\fffff, \\fp, \\sf, \\sff, \\sp, \\spp, \\sfz, and \\rfz. Dynamic marks may be manually placed above or below the staff; see Direction and placement.\n\n    c2\\ppp c\\mp\n    c2\\rfz c^\\mf\n    c2_\\spp c^\\ff"},{label:"\\pad-around",detail:"Graphic notation inside markup",documentation:'Some commands may require an increase in the padding around the text; this is achieved with some markup commands exhaustively described in Align.\n\n    \\markup \\fill-line {\n      \\center-column {\n        \\box "Charles Ives (1874 - 1954)"\n        \\null\n        \\box \\pad-markup #2 "THE UNANSWERED QUESTION"\n        \\box \\pad-x #8 "A Cosmic Landscape"\n        \\null\n      }\n    }\n    \\markup \\column {\n      \\line {\n        \\hspace #10\n        \\box \\pad-to-box #\'(-5 . 20) #\'(0 . 5)\n          \\bold "Largo to Presto"\n      }\n      \\pad-around #3\n          "String quartet keeps very even time,\n    Flute quartet keeps very uneven time."\n    }'},{label:"\\pad-markup",detail:"Graphic notation inside markup",documentation:'Some commands may require an increase in the padding around the text; this is achieved with some markup commands exhaustively described in Align.\n\n    \\markup \\fill-line {\n      \\center-column {\n        \\box "Charles Ives (1874 - 1954)"\n        \\null\n        \\box \\pad-markup #2 "THE UNANSWERED QUESTION"\n        \\box \\pad-x #8 "A Cosmic Landscape"\n        \\null\n      }\n    }\n    \\markup \\column {\n      \\line {\n        \\hspace #10\n        \\box \\pad-to-box #\'(-5 . 20) #\'(0 . 5)\n          \\bold "Largo to Presto"\n      }\n      \\pad-around #3\n          "String quartet keeps very even time,\n    Flute quartet keeps very uneven time."\n    }'},{label:"\\pad-to-box",detail:"Graphic notation inside markup",documentation:'Some commands may require an increase in the padding around the text; this is achieved with some markup commands exhaustively described in Align.\n\n    \\markup \\fill-line {\n      \\center-column {\n        \\box "Charles Ives (1874 - 1954)"\n        \\null\n        \\box \\pad-markup #2 "THE UNANSWERED QUESTION"\n        \\box \\pad-x #8 "A Cosmic Landscape"\n        \\null\n      }\n    }\n    \\markup \\column {\n      \\line {\n        \\hspace #10\n        \\box \\pad-to-box #\'(-5 . 20) #\'(0 . 5)\n          \\bold "Largo to Presto"\n      }\n      \\pad-around #3\n          "String quartet keeps very even time,\n    Flute quartet keeps very uneven time."\n    }'},{label:"\\pad-x",detail:"Graphic notation inside markup",documentation:'Some commands may require an increase in the padding around the text; this is achieved with some markup commands exhaustively described in Align.\n\n    \\markup \\fill-line {\n      \\center-column {\n        \\box "Charles Ives (1874 - 1954)"\n        \\null\n        \\box \\pad-markup #2 "THE UNANSWERED QUESTION"\n        \\box \\pad-x #8 "A Cosmic Landscape"\n        \\null\n      }\n    }\n    \\markup \\column {\n      \\line {\n        \\hspace #10\n        \\box \\pad-to-box #\'(-5 . 20) #\'(0 . 5)\n          \\bold "Largo to Presto"\n      }\n      \\pad-around #3\n          "String quartet keeps very even time,\n    Flute quartet keeps very uneven time."\n    }'},{label:"\\page-breaking",detail:"\\paper variables for page breaking",documentation:"The page-breaking algorithm to use. Choices are ly:minimal-breaking, ly:page-turn-breaking, ly:one-line-breaking and ly:optimal-breaking (the default)."},{label:"\\page-breaking-system-system-spacing",detail:"\\paper variables for page breaking",documentation:"Tricks the page breaker into thinking that system-system-spacing is set to something different than it really is. For example, if page-breaking-system-system-spacing #'padding is set to something substantially larger than system-system-spacing #'padding, then the page-breaker will put fewer systems on each page. Default: unset."},{label:"\\page-count",detail:"\\paper variables for page breaking",documentation:"The number of pages to be used for a score, unset by default."},{label:"\\page-spacing-weight",detail:"Miscellaneous \\paper variables",documentation:"The relative importance of page (vertical) spacing and line (horizontal) spacing. High values will make page spacing more important. Default: 10."},{label:"\\pageBreak",detail:"A.18 Available music functions",documentation:"Force a page break. May be used at toplevel (i.e., between scores or markups), or inside a score."},{label:"\\pageTurn",detail:"A.18 Available music functions",documentation:"Force a page turn between two scores or top-level markups."},{label:"\\palmMute",detail:"A.18 Available music functions",documentation:"Print note with a triangle-shaped note head."},{label:"\\palmMuteOn",detail:"A.18 Available music functions",documentation:"Set the default note head style to a triangle-shaped style."},{label:"\\paper-height",detail:"4.1.3 Fixed vertical spacing \\paper variables",documentation:"The height of the page, unset by default. Note that the automatic scaling of some vertical dimensions is not affected by this."},{label:"\\paper-width",detail:"\\paper variables for widths and margins",documentation:"The width of the page, unset by default. While paper-width has no effect on the automatic scaling of some horizontal dimensions, it does influence the line-width variable. If both paper-width and line-width are set, then left-margin and right-margin will also be updated. Also see check-consistency."},{label:"\\parallelMusic",detail:"Writing music in parallel",documentation:"Music for multiple parts can be interleaved in input code. The function \\parallelMusic accepts a list with the names of a number of variables to be created, and a musical expression. The content of alternate measures from the expression become the value of the respective variables, so you can use them afterwards to print the music.\n\nNote: Bar checks | must be used, and the measures must be of the same length.\n\n\n\n    \\parallelMusic #'(voiceA voiceB voiceC) {\n      % Bar 1\n      r8 g'16 c'' e'' g' c'' e'' r8 g'16 c'' e'' g' c'' e'' |\n      r16 e'8.~   e'4            r16 e'8.~   e'4            |\n      c'2                        c'2                        |\n      % Bar 2\n      r8 a'16 d'' f'' a' d'' f'' r8 a'16 d'' f'' a' d'' f'' |\n      r16 d'8.~   d'4            r16 d'8.~   d'4            |\n      c'2                        c'2                        |\n    }\n    \\new StaffGroup <<\n      \\new Staff << \\voiceA \\\\ \\voiceB >>\n      \\new Staff { \\clef bass \\voiceC }\n    >>\n\nRelative mode may be used. Note that the \\relative command is not used inside \\parallelMusic itself. The notes are relative to the preceding note in the voice, not to the previous note in the input \u2013 in other words, relative notes for voiceA ignore the notes in voiceB.\n\n    \\parallelMusic #'(voiceA voiceB voiceC) {\n      % Bar 1\n      r8 g16 c e g, c e r8 g,16 c e g, c e  |\n      r16 e8.~ e4       r16 e8.~  e4        |\n      c2                c                   |\n      % Bar 2\n      r8 a,16 d f a, d f r8 a,16 d f a, d f |\n      r16 d8.~  d4       r16 d8.~  d4       |\n      c2                 c                  |\n     }\n    \\new StaffGroup <<\n      \\new Staff << \\relative c'' \\voiceA \\\\ \\relative c' \\voiceB >>\n      \\new Staff \\relative c' { \\clef bass \\voiceC }\n    >>\n\nThis works quite well for piano music. This example maps four consecutive measures to four variables:\n\n    global = {\n      \\key g \\major\n      \\time 2/4\n    }\n    \\parallelMusic #'(voiceA voiceB voiceC voiceD) {\n      % Bar 1\n      a8    b     c   d     |\n      d4          e         |\n      c16 d e fis d e fis g |\n      a4          a         |\n      % Bar 2\n      e8      fis  g     a   |\n      fis4         g         |\n      e16 fis g  a fis g a b |\n      a4           a         |\n      % Bar 3 ...\n    }\n    \\score {\n      \\new PianoStaff <<\n         \\new Staff {\n           \\global\n           <<\n             \\relative c'' \\voiceA\n             \\\\\n             \\relative c'  \\voiceB\n           >>\n         }\n         \\new Staff {\n           \\global \\clef bass\n           <<\n             \\relative c \\voiceC\n             \\\\\n             \\relative c \\voiceD\n           >>\n         }\n      >>\n    }"},{label:"\\parallelMusic",detail:"A.18 Available music functions",documentation:"Define parallel music sequences, separated by \u2019|\u2019 (bar check signs), and assign them to the identifiers provided in voice-ids.\n\nvoice-ids: a list of music identifiers (symbols containing only letters)\n\nmusic: a music sequence, containing BarChecks as limiting expressions.\n\nExample:\n\n  \\parallelMusic #'(A B C) {\n    c c | d d | e e |\n    d d | e e | f f |\n  }\n<==>\n  A = { c c | d d | }\n  B = { d d | e e | }\n  C = { e e | f f | }\n"},{label:"\\parenthesize",detail:"Parentheses",documentation:"Objects may be parenthesized by prefixing \\parenthesize to the music event. When prefixed to a chord, it parenthesizes every note. Individual notes inside a chord may also be parenthesized.\n\n    c2 \\parenthesize d\n    c2 \\parenthesize <c e g>\n    c2 <c \\parenthesize e g>\n\nNon-note objects may be parenthesized as well. For articulations, a hyphen is needed before the \\parenthesize command.\n\n    c2-\\parenthesize -. d\n    c2 \\parenthesize r"},{label:"\\parenthesize",detail:"A.18 Available music functions",documentation:"Tag arg to be parenthesized."},{label:"\\partcombine",detail:"Automatic part combining",documentation:"Automatic part combining is used to merge two separate parts of music onto a single staff. This can be especially helpful when typesetting orchestral scores. A single Voice is printed while the two parts of music are the same, but in places where they differ, a second Voice is printed. Stem directions are set up & down accordingly while Solo and a due parts are also identified and marked appropriately.\n\nThe syntax for automatic part combining is:\n\n    \\partcombine musicexpr1 musicexpr2\n\nThe following example demonstrates the basic functionality, putting parts on a single staff as polyphony and setting stem directions accordingly. The same variables are used for the independent parts and the combined staff.\n\n    instrumentOne = \\relative c' {\n      c4 d e f |\n      R1 |\n      d'4 c b a |\n      b4 g2 f4 |\n      e1 |\n    }\n    instrumentTwo = \\relative g' {\n      R1 |\n      g4 a b c |\n      d4 c b a |\n      g4 f( e) d |\n      e1 |\n    }\n    <<\n      \\new Staff \\instrumentOne\n      \\new Staff \\instrumentTwo\n      \\new Staff \\partcombine \\instrumentOne \\instrumentTwo\n    >>\n\nBoth parts have identical notes in the third measure, so only one instance of the notes is printed. Stem, slur, and tie directions are set automatically, depending on whether the parts are playing solo or in unison. When needed in polyphony situations, the first part (with context called one) gets \u201cup\u201d stems, while the second (called two) always gets \u201cdown\u201d stems. In solo situations, the first and second parts get marked with \u201cSolo\u201d and \u201cSolo II\u201d, respectively. The unison (a due) parts are marked with the text \u201ca2\u201d.\n\nBoth arguments to \\partcombine will be interpreted as separate Voice contexts, so if the music is being specified in relative mode then both parts must contain a \\relative function, i.e.,\n\n    \\partcombine\n      \\relative \u2026 musicexpr1\n      \\relative \u2026 musicexpr2\n\nA \\relative section that encloses a \\partcombine has no effect on the pitches of musicexpr1 or musicexpr2."},{label:"\\partcombine",detail:"A.18 Available music functions",documentation:"Take the music in part1 and part2 and typeset so that they share a staff."},{label:"\\partcombineApart",detail:"Automatic part combining",documentation:'In professional scores, voices are often kept apart from each other for long passages of music even if some of the notes are the same in both voices, and could just as easily be printed as unison. Combining notes into a chord, or showing one voice as solo is, therefore, not ideal as the \\partcombine function considers each note separately. In this case the \\partcombine function can be overriden with the following commands:\n\nCommands ending in \u2026Once apply only to the next note in the music expression.\n\n - \\partcombineApart and \\partcombineApartOnce keep the notes as two separate voices, even if they can be combined into a chord or unison.\n - \\partcombineChords and \\partcombineChordsOnce combine the notes into a chord.\n - \\partcombineUnisono and \\partcombineUnisonoOnce combine both voices as \u201cunison\u201d.\n - \\partcombineSoloI and \\partcombineSoloIOnce print only voice one, and mark it as a \u201cSolo\u201d.\n - \\partcombineSoloII or \\partcombineSoloIIOnce print only voice two and mark it as a \u201cSolo\u201d.\n - \\partcombineAutomatic and \\partcombineAutomaticOnce end the functions of the commands above, and revert back to the standard \\partcombine functionality.\n\n    instrumentOne = \\relative c\' {\n      \\partcombineApart c2^"apart" e |\n      \\partcombineAutomatic e2^"auto" e |\n      \\partcombineChords e\'2^"chord" e |\n      \\partcombineAutomatic c2^"auto" c |\n      \\partcombineApart c2^"apart" \\partcombineChordsOnce e^"chord once" |\n      c2 c |\n    }\n    instrumentTwo = \\relative c\' {\n      c2 c |\n      e2 e |\n      a,2 c |\n      c2 c\' |\n      c2 c |\n      c2 c |\n    }\n    <<\n      \\new Staff { \\instrumentOne }\n      \\new Staff { \\instrumentTwo }\n      \\new Staff { \\partcombine \\instrumentOne \\instrumentTwo }\n    >>'},{label:"\\partcombineAutomatic",detail:"Automatic part combining",documentation:'In professional scores, voices are often kept apart from each other for long passages of music even if some of the notes are the same in both voices, and could just as easily be printed as unison. Combining notes into a chord, or showing one voice as solo is, therefore, not ideal as the \\partcombine function considers each note separately. In this case the \\partcombine function can be overriden with the following commands:\n\nCommands ending in \u2026Once apply only to the next note in the music expression.\n\n - \\partcombineApart and \\partcombineApartOnce keep the notes as two separate voices, even if they can be combined into a chord or unison.\n - \\partcombineChords and \\partcombineChordsOnce combine the notes into a chord.\n - \\partcombineUnisono and \\partcombineUnisonoOnce combine both voices as \u201cunison\u201d.\n - \\partcombineSoloI and \\partcombineSoloIOnce print only voice one, and mark it as a \u201cSolo\u201d.\n - \\partcombineSoloII or \\partcombineSoloIIOnce print only voice two and mark it as a \u201cSolo\u201d.\n - \\partcombineAutomatic and \\partcombineAutomaticOnce end the functions of the commands above, and revert back to the standard \\partcombine functionality.\n\n    instrumentOne = \\relative c\' {\n      \\partcombineApart c2^"apart" e |\n      \\partcombineAutomatic e2^"auto" e |\n      \\partcombineChords e\'2^"chord" e |\n      \\partcombineAutomatic c2^"auto" c |\n      \\partcombineApart c2^"apart" \\partcombineChordsOnce e^"chord once" |\n      c2 c |\n    }\n    instrumentTwo = \\relative c\' {\n      c2 c |\n      e2 e |\n      a,2 c |\n      c2 c\' |\n      c2 c |\n      c2 c |\n    }\n    <<\n      \\new Staff { \\instrumentOne }\n      \\new Staff { \\instrumentTwo }\n      \\new Staff { \\partcombine \\instrumentOne \\instrumentTwo }\n    >>'},{label:"\\partcombineChords",detail:"Automatic part combining",documentation:'In professional scores, voices are often kept apart from each other for long passages of music even if some of the notes are the same in both voices, and could just as easily be printed as unison. Combining notes into a chord, or showing one voice as solo is, therefore, not ideal as the \\partcombine function considers each note separately. In this case the \\partcombine function can be overriden with the following commands:\n\nCommands ending in \u2026Once apply only to the next note in the music expression.\n\n - \\partcombineApart and \\partcombineApartOnce keep the notes as two separate voices, even if they can be combined into a chord or unison.\n - \\partcombineChords and \\partcombineChordsOnce combine the notes into a chord.\n - \\partcombineUnisono and \\partcombineUnisonoOnce combine both voices as \u201cunison\u201d.\n - \\partcombineSoloI and \\partcombineSoloIOnce print only voice one, and mark it as a \u201cSolo\u201d.\n - \\partcombineSoloII or \\partcombineSoloIIOnce print only voice two and mark it as a \u201cSolo\u201d.\n - \\partcombineAutomatic and \\partcombineAutomaticOnce end the functions of the commands above, and revert back to the standard \\partcombine functionality.\n\n    instrumentOne = \\relative c\' {\n      \\partcombineApart c2^"apart" e |\n      \\partcombineAutomatic e2^"auto" e |\n      \\partcombineChords e\'2^"chord" e |\n      \\partcombineAutomatic c2^"auto" c |\n      \\partcombineApart c2^"apart" \\partcombineChordsOnce e^"chord once" |\n      c2 c |\n    }\n    instrumentTwo = \\relative c\' {\n      c2 c |\n      e2 e |\n      a,2 c |\n      c2 c\' |\n      c2 c |\n      c2 c |\n    }\n    <<\n      \\new Staff { \\instrumentOne }\n      \\new Staff { \\instrumentTwo }\n      \\new Staff { \\partcombine \\instrumentOne \\instrumentTwo }\n    >>'},{label:"\\partcombineDown",detail:"A.18 Available music functions",documentation:"Take the music in part1 and part2 and typeset so that they share a staff with stems directed downward."},{label:"\\partcombineForce",detail:"A.18 Available music functions",documentation:"Override the part-combiner."},{label:"\\partcombineSoloI",detail:"Automatic part combining",documentation:'In professional scores, voices are often kept apart from each other for long passages of music even if some of the notes are the same in both voices, and could just as easily be printed as unison. Combining notes into a chord, or showing one voice as solo is, therefore, not ideal as the \\partcombine function considers each note separately. In this case the \\partcombine function can be overriden with the following commands:\n\nCommands ending in \u2026Once apply only to the next note in the music expression.\n\n - \\partcombineApart and \\partcombineApartOnce keep the notes as two separate voices, even if they can be combined into a chord or unison.\n - \\partcombineChords and \\partcombineChordsOnce combine the notes into a chord.\n - \\partcombineUnisono and \\partcombineUnisonoOnce combine both voices as \u201cunison\u201d.\n - \\partcombineSoloI and \\partcombineSoloIOnce print only voice one, and mark it as a \u201cSolo\u201d.\n - \\partcombineSoloII or \\partcombineSoloIIOnce print only voice two and mark it as a \u201cSolo\u201d.\n - \\partcombineAutomatic and \\partcombineAutomaticOnce end the functions of the commands above, and revert back to the standard \\partcombine functionality.\n\n    instrumentOne = \\relative c\' {\n      \\partcombineApart c2^"apart" e |\n      \\partcombineAutomatic e2^"auto" e |\n      \\partcombineChords e\'2^"chord" e |\n      \\partcombineAutomatic c2^"auto" c |\n      \\partcombineApart c2^"apart" \\partcombineChordsOnce e^"chord once" |\n      c2 c |\n    }\n    instrumentTwo = \\relative c\' {\n      c2 c |\n      e2 e |\n      a,2 c |\n      c2 c\' |\n      c2 c |\n      c2 c |\n    }\n    <<\n      \\new Staff { \\instrumentOne }\n      \\new Staff { \\instrumentTwo }\n      \\new Staff { \\partcombine \\instrumentOne \\instrumentTwo }\n    >>'},{label:"\\partcombineSoloII",detail:"Automatic part combining",documentation:'In professional scores, voices are often kept apart from each other for long passages of music even if some of the notes are the same in both voices, and could just as easily be printed as unison. Combining notes into a chord, or showing one voice as solo is, therefore, not ideal as the \\partcombine function considers each note separately. In this case the \\partcombine function can be overriden with the following commands:\n\nCommands ending in \u2026Once apply only to the next note in the music expression.\n\n - \\partcombineApart and \\partcombineApartOnce keep the notes as two separate voices, even if they can be combined into a chord or unison.\n - \\partcombineChords and \\partcombineChordsOnce combine the notes into a chord.\n - \\partcombineUnisono and \\partcombineUnisonoOnce combine both voices as \u201cunison\u201d.\n - \\partcombineSoloI and \\partcombineSoloIOnce print only voice one, and mark it as a \u201cSolo\u201d.\n - \\partcombineSoloII or \\partcombineSoloIIOnce print only voice two and mark it as a \u201cSolo\u201d.\n - \\partcombineAutomatic and \\partcombineAutomaticOnce end the functions of the commands above, and revert back to the standard \\partcombine functionality.\n\n    instrumentOne = \\relative c\' {\n      \\partcombineApart c2^"apart" e |\n      \\partcombineAutomatic e2^"auto" e |\n      \\partcombineChords e\'2^"chord" e |\n      \\partcombineAutomatic c2^"auto" c |\n      \\partcombineApart c2^"apart" \\partcombineChordsOnce e^"chord once" |\n      c2 c |\n    }\n    instrumentTwo = \\relative c\' {\n      c2 c |\n      e2 e |\n      a,2 c |\n      c2 c\' |\n      c2 c |\n      c2 c |\n    }\n    <<\n      \\new Staff { \\instrumentOne }\n      \\new Staff { \\instrumentTwo }\n      \\new Staff { \\partcombine \\instrumentOne \\instrumentTwo }\n    >>'},{label:"\\partcombineUnisono",detail:"Automatic part combining",documentation:'In professional scores, voices are often kept apart from each other for long passages of music even if some of the notes are the same in both voices, and could just as easily be printed as unison. Combining notes into a chord, or showing one voice as solo is, therefore, not ideal as the \\partcombine function considers each note separately. In this case the \\partcombine function can be overriden with the following commands:\n\nCommands ending in \u2026Once apply only to the next note in the music expression.\n\n - \\partcombineApart and \\partcombineApartOnce keep the notes as two separate voices, even if they can be combined into a chord or unison.\n - \\partcombineChords and \\partcombineChordsOnce combine the notes into a chord.\n - \\partcombineUnisono and \\partcombineUnisonoOnce combine both voices as \u201cunison\u201d.\n - \\partcombineSoloI and \\partcombineSoloIOnce print only voice one, and mark it as a \u201cSolo\u201d.\n - \\partcombineSoloII or \\partcombineSoloIIOnce print only voice two and mark it as a \u201cSolo\u201d.\n - \\partcombineAutomatic and \\partcombineAutomaticOnce end the functions of the commands above, and revert back to the standard \\partcombine functionality.\n\n    instrumentOne = \\relative c\' {\n      \\partcombineApart c2^"apart" e |\n      \\partcombineAutomatic e2^"auto" e |\n      \\partcombineChords e\'2^"chord" e |\n      \\partcombineAutomatic c2^"auto" c |\n      \\partcombineApart c2^"apart" \\partcombineChordsOnce e^"chord once" |\n      c2 c |\n    }\n    instrumentTwo = \\relative c\' {\n      c2 c |\n      e2 e |\n      a,2 c |\n      c2 c\' |\n      c2 c |\n      c2 c |\n    }\n    <<\n      \\new Staff { \\instrumentOne }\n      \\new Staff { \\instrumentTwo }\n      \\new Staff { \\partcombine \\instrumentOne \\instrumentTwo }\n    >>'},{label:"\\partcombineUp",detail:"A.18 Available music functions",documentation:"Take the music in part1 and part2 and typeset so that they share a staff with stems directed upward."},{label:"\\partial",detail:"Upbeats",documentation:"Partial or pick-up measures, such as an anacrusis or an upbeat, are entered using the \\partial command,\n\n    \\partial duration\n\nwhere duration is the remaining length of the partial measure before the start of the next full measure.\n\n    \\time 3/4\n    \\partial 8\n    e8 | a4 c8 b c4 |\n\nThe duration can be any value less than a full measure:\n\n    \\time 3/4\n    \\partial 4.\n    r4 e8 | a4 c8 b c4 |\n\n\\partial duration can also be written as:\n\n    \\set Timing.measurePosition -duration\n\nSo the first example above could be written:\n\n    \\time 3/4\n    \\set Timing.measurePosition = #(ly:make-moment -1/8)\n    e8 | a4 c8 b c4 |\n\nThe property measurePosition contains a rational number, which is usually positive and indicates how much of the measure has passed at this point. The \\partial duration command sets it to a negative number, when it has a different meaning: it then says that the current (first) bar will be preceded by a bar 0 (the partial bar) with a duration given by duration."},{label:"\\partial",detail:"A.18 Available music functions",documentation:"Make a partial measure."},{label:"\\pedalSustainStyle",detail:"Piano pedals",documentation:"There are three styles of pedal indications: text, bracket, and mixed. The sustain pedal and the una corda pedal use the text style by default while the sostenuto pedal uses mixed by default.\n\n    c4\\sustainOn g c2\\sustainOff\n    \\set Staff.pedalSustainStyle = #'mixed\n    c4\\sustainOn g c d\n    d\\sustainOff\\sustainOn g, c2\\sustainOff\n    \\set Staff.pedalSustainStyle = #'bracket\n    c4\\sustainOn g c d\n    d\\sustainOff\\sustainOn g, c2\n    \\bar \"|.\"\n\nThe placement of the pedal commands matches the physical movement of the sustain pedal during piano performance. Pedalling to the final bar line is indicated by omitting the final pedal off command.\n\nPedal indications may be placed in a Dynamics context, which aligns them on a horizontal line."},{label:"\\percent",detail:"Percent repeats",documentation:"Repeated short patterns are printed once, and the repeated pattern is replaced with a special sign.\n\nThe syntax is\n\n    \\repeat percent number musicexpr\n\nwhere musicexpr is a music expression.\n\nPatterns that are shorter than one measure are replaced by slashes.\n\n    \\repeat percent 4 { c128 d e f }\n    \\repeat percent 4 { c64 d e f }\n    \\repeat percent 5 { c32 d e f }\n    \\repeat percent 4 { c16 d e f }\n    \\repeat percent 4 { c8 d }\n    \\repeat percent 4 { c4 }\n    \\repeat percent 2 { c2 }\n\nPatterns of one or two measures are replaced by percent-like symbols.\n\n    \\repeat percent 2 { c4 d e f }\n    \\repeat percent 2 { c2 d }\n    \\repeat percent 2 { c1 }\n\n    \\repeat percent 3 { c4 d e f | c2 g' }\n\nPatterns that are shorter than one measure but contain mixed durations use a double-percent symbol.\n\n    \\repeat percent 4 { c8. <d f>16 }\n    \\repeat percent 2 { \\tuplet 3/2 { r8 c d } e4 }"},{label:"\\phrasingSlurDashed",detail:"Phrasing slurs",documentation:"Phrasing slurs can be solid, dotted, or dashed. Solid is the default style for phrasing slurs:\n\n    c4\\( e g2\\)\n    \\phrasingSlurDashed\n    g4\\( e c2\\)\n    \\phrasingSlurDotted\n    c4\\( e g2\\)\n    \\phrasingSlurSolid\n    g4\\( e c2\\)"},{label:"\\phrasingSlurDashPattern",detail:"Phrasing slurs",documentation:"Custom dash patterns for phrasing slurs can be defined:\n\n    c4\\( e g2\\)\n    \\phrasingSlurDashPattern #0.7 #0.75\n    g4\\( e c2\\)\n    \\phrasingSlurDashPattern #0.5 #2.0\n    c4\\( e g2\\)\n    \\phrasingSlurSolid\n    g4\\( e c2\\)\n\nDash pattern definitions for phrasing slurs have the same structure as dash pattern definitions for slurs. For more information about complex dash patterns, see the snippets under Slurs."},{label:"\\phrasingSlurDashPattern",detail:"A.18 Available music functions",documentation:"Set up a custom style of dash pattern for dash-fraction ratio of line to space repeated at dash-period interval for phrasing slurs."},{label:"\\phrasingSlurDotted",detail:"Phrasing slurs",documentation:"Phrasing slurs can be solid, dotted, or dashed. Solid is the default style for phrasing slurs:\n\n    c4\\( e g2\\)\n    \\phrasingSlurDashed\n    g4\\( e c2\\)\n    \\phrasingSlurDotted\n    c4\\( e g2\\)\n    \\phrasingSlurSolid\n    g4\\( e c2\\)"},{label:"\\phrasingSlurDown",detail:"Phrasing slurs",documentation:"Typographically, a phrasing slur behaves almost exactly like a normal slur. However, they are treated as different objects; a \\slurUp will have no effect on a phrasing slur. Phrasing may be manually placed above or below the staff; see Direction and placement."},{label:"\\phrasingSlurHalfDashed",detail:"Phrasing slurs",documentation:"Phrasing slurs can also be made half-dashed (the first half dashed, the second half solid) or half-solid (the first half solid, the second half dashed):\n\n    c4\\( e g2\\)\n    \\phrasingSlurHalfDashed\n    g4\\( e c2\\)\n    \\phrasingSlurHalfSolid\n    c4\\( e g2\\)\n    \\phrasingSlurSolid\n    g4\\( e c2\\)"},{label:"\\phrasingSlurHalfSolid",detail:"Phrasing slurs",documentation:"Phrasing slurs can also be made half-dashed (the first half dashed, the second half solid) or half-solid (the first half solid, the second half dashed):\n\n    c4\\( e g2\\)\n    \\phrasingSlurHalfDashed\n    g4\\( e c2\\)\n    \\phrasingSlurHalfSolid\n    c4\\( e g2\\)\n    \\phrasingSlurSolid\n    g4\\( e c2\\)"},{label:"\\phrasingSlurNeutral",detail:"Phrasing slurs",documentation:"Typographically, a phrasing slur behaves almost exactly like a normal slur. However, they are treated as different objects; a \\slurUp will have no effect on a phrasing slur. Phrasing may be manually placed above or below the staff; see Direction and placement."},{label:"\\phrasingSlurSolid",detail:"Phrasing slurs",documentation:"Phrasing slurs can be solid, dotted, or dashed. Solid is the default style for phrasing slurs:\n\n    c4\\( e g2\\)\n    \\phrasingSlurDashed\n    g4\\( e c2\\)\n    \\phrasingSlurDotted\n    c4\\( e g2\\)\n    \\phrasingSlurSolid\n    g4\\( e c2\\)"},{label:"\\phrasingSlurUp",detail:"Phrasing slurs",documentation:"Typographically, a phrasing slur behaves almost exactly like a normal slur. However, they are treated as different objects; a \\slurUp will have no effect on a phrasing slur. Phrasing may be manually placed above or below the staff; see Direction and placement."},{label:"\\phrygian",detail:"Key signature",documentation:'Here, mode should be \\major or \\minor to get a key signature of pitch-major or pitch-minor, respectively. You may also use the standard mode names, also called church modes: \\ionian, \\dorian, \\phrygian, \\lydian, \\mixolydian, \\aeolian, and \\locrian.\n\n    \\key g \\major\n    fis1\n    f\n    fis\n\nAdditional modes can be defined, by listing the alterations for each scale step when the mode starts on C.\n\n    freygish = #`((0 . ,NATURAL) (1 . ,FLAT) (2 . ,NATURAL)\n        (3 . ,NATURAL) (4 . ,NATURAL) (5 . ,FLAT) (6 . ,FLAT))\n    \\relative c\' {\n      \\key c \\freygish c4 des e f\n      \\bar "||" \\key d \\freygish d es fis g\n    }\n\nAccidentals in the key signature may be printed in octaves other than their traditional positions, or in multiple octaves, by using the flat-positions and sharp-positions properties of KeySignature. Entries in these properties specify the range of staff-positions where accidentals will be printed. If a single position is specified in an entry, the accidentals are placed within the octave ending at that staff position.\n\n    \\override Staff.KeySignature.flat-positions = #\'((-5 . 5))\n    \\override Staff.KeyCancellation.flat-positions = #\'((-5 . 5))\n    \\clef bass \\key es \\major es g bes d\n    \\clef treble \\bar "||" \\key es \\major es g bes d\n    \\override Staff.KeySignature.sharp-positions = #\'(2)\n    \\bar "||" \\key b \\major b fis b2'},{label:"\\piano",detail:"Automatic accidentals",documentation:"This rule reflects twentieth-century practice for piano notation. Its behavior is very similar to modern style, but here accidentals also get canceled across the staves in the same GrandStaff or PianoStaff, hence all the cancellations of the final notes.\n\nThis accidental style applies to the current GrandStaff or PianoStaff by default."},{label:"\\piano-cautionary",detail:"Automatic accidentals",documentation:"This is the same as piano but with the extra accidentals typeset as cautionaries."},{label:"PianoStaff",detail:"References for keyboards",documentation:"Keyboard instruments are usually notated with Piano staves. These are two or more normal staves coupled with a brace. The same notation is also used for other keyed instruments. Organ music is normally written with two staves inside a PianoStaff group and third, normal staff for the pedals.\n\nThe staves in keyboard music are largely independent, but sometimes voices can cross between the two staves. This section discusses notation techniques particular to keyboard music.\n\nSeveral common issues in keyboard music are covered elsewhere:\n\n - Keyboard music usually contains multiple voices and the number of voices may change regularly; this is described in Collision resolution.\n - Keyboard music can be written in parallel, as described in Writing music in parallel.\n - Dynamics may be placed in a Dynamics context, between the two Staff contexts to align the dynamic marks on a horizontal line centered between the staves; see Dynamics.\n - Fingerings are indicated with Fingering instructions.\n - Organ pedal indications are inserted as articulations, see List of articulations.\n - Vertical grid lines can be shown with Grid lines.\n - Keyboard music often contains Laissez vibrer ties as well as ties on arpeggios and tremolos, described in Ties.\n - Placing arpeggios across multiple voices and staves is covered in Arpeggio.\n - Tremolo marks are described in Tremolo repeats.\n - Several of the tweaks that can occur in keyboard music are demonstrated in Real music example.\n - Hidden notes can be used to produce ties that cross voices, as shown in Other uses for tweaks."},{label:"PianoStaff",detail:"Changing staff automatically",documentation:'Voices can be made to switch automatically between the top and the bottom staff. The syntax for this is\n\n    \\autochange \u2026music\u2026\n\nThis will create two staves inside the current staff group (usually a PianoStaff), called "up" and "down". The lower staff will be in the bass clef by default. The autochanger switches on the basis of the pitch (middle\xa0C is the turning point), and it looks ahead skipping over rests to switch in advance.\n\n    \\new PianoStaff {\n      \\autochange {\n        g4 a b c\'\n        d\'4 r a g\n      }\n    }'},{label:"\\pitchedTrill",detail:"Trills",documentation:"Trills that require an auxiliary note with an explicit pitch can be typeset with the \\pitchedTrill command. The first argument is the main note, and the second is the trilled note, printed as a stemless note head in parentheses.\n\n    \\pitchedTrill\n    d2\\startTrillSpan fis\n    d2\n    c2\\stopTrillSpan\n    r2"},{label:"\\pitchedTrill",detail:"A.18 Available music functions",documentation:"Print a trill with main-note as the main note of the trill and print secondary-note as a stemless note head in parentheses."},{label:"Pitch_squash_engraver",detail:"Showing melody rhythms",documentation:"Guitar chord charts often show the strumming rhythms. This can be done with the Pitch_squash_engraver and \\improvisationOn.\n\n    <<\n      \\new ChordNames {\n        \\chordmode {\n          c1 f g c\n        }\n      }\n      \\new Voice \\with {\n        \\consists \"Pitch_squash_engraver\"\n      } \\relative c'' {\n        \\improvisationOn\n        c4 c8 c c4 c8 c\n        f4 f8 f f4 f8 f\n        g4 g8 g g4 g8 g\n        c4 c8 c c4 c8 c\n      }\n    >>"},{label:"\\pointAndClickOff",detail:"A.18 Available music functions",documentation:"Suppress generating extra code in final-format (e.g. pdf) files to point back to the lilypond source statement."},{label:"\\pointAndClickOn",detail:"A.18 Available music functions",documentation:"Enable generation of code in final-format (e.g. pdf) files to reference the originating lilypond source statement; this is helpful when developing a score but generates bigger final-format files."},{label:"\\pointAndClickTypes",detail:"A.18 Available music functions",documentation:"Set a type or list of types (such as #'note-event) for which point-and-click info is generated."},{label:"\\postscript",detail:"Graphic notation inside markup",documentation:'Advanced graphic features include the ability to include external image files converted to the Encapsulated PostScript format (eps), or to directly embed graphics into the input file, using native PostScript code. In such a case, it may be useful to explicitly specify the size of the drawing, as demonstrated below:\n\n    c1^\\markup {\n      \\combine\n        \\epsfile #X #10 #"./context-example.eps"\n        \\with-dimensions #\'(0 . 6) #\'(0 . 10)\n        \\postscript #"\n          -2 3 translate\n          2.7 2 scale\n          newpath\n          2 -1 moveto\n          4 -2 4 1 1 arct\n          4 2 3 3 1 arct\n          0 4 0 3 1 arct\n          0 0 1 -1 1 arct\n          closepath\n          stroke"\n      }\n    c\n\nAn exhaustive list of graphics-specific commands can be found in Graphic.'},{label:"\\powerChords",detail:"Indicating power chords",documentation:'Power chords and their symbols can be engraved in chord mode or as chord constructs:\n\n    ChordsAndSymbols = {\n      \\chordmode {\n        \\powerChords\n        e,,1:1.5\n        a,,1:1.5.8\n        \\set minimumFret = #8\n        c,1:1.5\n        f,1:1.5.8\n      }\n      \\set minimumFret = #5\n      <a, e>1\n      <g d\' g\'>1\n    }\n    \\score {\n      <<\n        \\new ChordNames {\n        \\ChordsAndSymbols\n        }\n        \\new Staff {\n          \\clef "treble_8"\n          \\ChordsAndSymbols\n        }\n        \\new TabStaff {\n          \\ChordsAndSymbols\n        }\n      >>\n    }\n\nPower chord symbols are automatically switched off as soon as one of the other common chord modifier is used:\n\n    mixedChords = \\chordmode {\n      c,1\n      \\powerChords\n      b,,1:1.5\n      fis,,1:1.5.8\n      g,,1:m\n    }\n    \\score {\n      <<\n        \\new ChordNames {\n          \\mixedChords\n        }\n        \\new Staff {\n          \\clef "treble_8"\n          \\mixedChords\n        }\n        \\new TabStaff {\n          \\mixedChords\n        }\n      >>\n    }'},{label:"\\pp",detail:"Dynamics",documentation:"Absolute dynamic marks are specified using a command after a note, such as c4\\ff. The available dynamic marks are \\ppppp, \\pppp, \\ppp, \\pp, \\p, \\mp, \\mf, \\f, \\ff, \\fff, \\ffff, \\fffff, \\fp, \\sf, \\sff, \\sp, \\spp, \\sfz, and \\rfz. Dynamic marks may be manually placed above or below the staff; see Direction and placement.\n\n    c2\\ppp c\\mp\n    c2\\rfz c^\\mf\n    c2_\\spp c^\\ff"},{label:"\\ppp",detail:"Dynamics",documentation:"Absolute dynamic marks are specified using a command after a note, such as c4\\ff. The available dynamic marks are \\ppppp, \\pppp, \\ppp, \\pp, \\p, \\mp, \\mf, \\f, \\ff, \\fff, \\ffff, \\fffff, \\fp, \\sf, \\sff, \\sp, \\spp, \\sfz, and \\rfz. Dynamic marks may be manually placed above or below the staff; see Direction and placement.\n\n    c2\\ppp c\\mp\n    c2\\rfz c^\\mf\n    c2_\\spp c^\\ff"},{label:"\\pppp",detail:"Dynamics",documentation:"Absolute dynamic marks are specified using a command after a note, such as c4\\ff. The available dynamic marks are \\ppppp, \\pppp, \\ppp, \\pp, \\p, \\mp, \\mf, \\f, \\ff, \\fff, \\ffff, \\fffff, \\fp, \\sf, \\sff, \\sp, \\spp, \\sfz, and \\rfz. Dynamic marks may be manually placed above or below the staff; see Direction and placement.\n\n    c2\\ppp c\\mp\n    c2\\rfz c^\\mf\n    c2_\\spp c^\\ff"},{label:"\\ppppp",detail:"Dynamics",documentation:"Absolute dynamic marks are specified using a command after a note, such as c4\\ff. The available dynamic marks are \\ppppp, \\pppp, \\ppp, \\pp, \\p, \\mp, \\mf, \\f, \\ff, \\fff, \\ffff, \\fffff, \\fp, \\sf, \\sff, \\sp, \\spp, \\sfz, and \\rfz. Dynamic marks may be manually placed above or below the staff; see Direction and placement.\n\n    c2\\ppp c\\mp\n    c2\\rfz c^\\mf\n    c2_\\spp c^\\ff"},{label:"\\predefinedFretboardsOff",detail:"Automatic fret diagrams",documentation:"As no predefined diagrams are loaded by default, automatic calculation of fret diagrams is the default behavior. Once default diagrams are loaded, automatic calculation can be enabled and disabled with predefined commands:\n\n    \\storePredefinedDiagram #default-fret-table\n                            <c e g c' e'>\n                            #guitar-tuning\n                            #\"x;3-1-(;5-2;5-3;5-4;3-1-1-);\"\n    <<\n      \\new ChordNames {\n        \\chordmode {\n          c1 c c\n        }\n      }\n      \\new FretBoards {\n        <c e g c' e'>1\n        \\predefinedFretboardsOff\n        <c e g c' e'>1\n        \\predefinedFretboardsOn\n        <c e g c' e'>1\n      }\n      \\new Staff {\n        \\clef \"treble_8\"\n        <c e g c' e'>1\n        <c e g c' e'>1\n        <c e g c' e'>1\n      }\n    >>\n\nSometimes the fretboard calculator will be unable to find an acceptable diagram. This can often be remedied by manually assigning a note to a string. In many cases, only one note need be manually placed on a string; the rest of the notes will then be placed appropriately by the FretBoards context."},{label:"\\predefinedFretboardsOn",detail:"Automatic fret diagrams",documentation:"As no predefined diagrams are loaded by default, automatic calculation of fret diagrams is the default behavior. Once default diagrams are loaded, automatic calculation can be enabled and disabled with predefined commands:\n\n    \\storePredefinedDiagram #default-fret-table\n                            <c e g c' e'>\n                            #guitar-tuning\n                            #\"x;3-1-(;5-2;5-3;5-4;3-1-1-);\"\n    <<\n      \\new ChordNames {\n        \\chordmode {\n          c1 c c\n        }\n      }\n      \\new FretBoards {\n        <c e g c' e'>1\n        \\predefinedFretboardsOff\n        <c e g c' e'>1\n        \\predefinedFretboardsOn\n        <c e g c' e'>1\n      }\n      \\new Staff {\n        \\clef \"treble_8\"\n        <c e g c' e'>1\n        <c e g c' e'>1\n        <c e g c' e'>1\n      }\n    >>\n\nSometimes the fretboard calculator will be unable to find an acceptable diagram. This can often be remedied by manually assigning a note to a string. In many cases, only one note need be manually placed on a string; the rest of the notes will then be placed appropriately by the FretBoards context."},{label:"\\print-all-headers",detail:"Miscellaneous \\paper variables",documentation:"If set to true, this will print all headers for each \\score in the output. Normally only the piece and opus header variables are printed. Default: #f."},{label:"\\print-first-page-number",detail:"\\paper variables for page numbering",documentation:"If set to true, a page number is printed on the first page."},{label:"\\print-page-number",detail:"\\paper variables for page numbering",documentation:"If set to false, page numbers are not printed."},{label:"\\pushToTag",detail:"A.18 Available music functions",documentation:"Add more to the front of elements of all music expressions in music that are tagged with tag."},{label:"\\quotedCueEventTypes",detail:"Quoting other voices",documentation:'By default quoted music will include all articulations, dynamics, markups, etc., in the quoted expression. It is possible to choose which of these objects from the quoted music are displayed by using the quotedEventTypes context property.\n\n    fluteNotes = \\relative c\'\' {\n      a2 g2 |\n      b4\\<^"quoted" r8 ais a4\\f( c->)\n     }\n    oboeNotes = \\relative c\'\' {\n      c2. b4 |\n      \\quoteDuring #"flute" { s1 }\n    }\n    \\addQuote "flute" { \\fluteNotes }\n    \\score {\n      <<\n        \\set Score.quotedEventTypes = #\'(note-event articulation-event\n                                         crescendo-event rest-event\n                                         slur-event dynamic-event)\n        \\new Staff \\with { instrumentName = "Flute" } \\fluteNotes\n        \\new Staff \\with { instrumentName = "Oboe" } \\oboeNotes\n      >>\n     }\n\nQuotes can also be tagged, see Using tags.'},{label:"\\quotedEventTypes",detail:"Quoting other voices",documentation:'By default quoted music will include all articulations, dynamics, markups, etc., in the quoted expression. It is possible to choose which of these objects from the quoted music are displayed by using the quotedEventTypes context property.\n\n    fluteNotes = \\relative c\'\' {\n      a2 g2 |\n      b4\\<^"quoted" r8 ais a4\\f( c->)\n     }\n    oboeNotes = \\relative c\'\' {\n      c2. b4 |\n      \\quoteDuring #"flute" { s1 }\n    }\n    \\addQuote "flute" { \\fluteNotes }\n    \\score {\n      <<\n        \\set Score.quotedEventTypes = #\'(note-event articulation-event\n                                         crescendo-event rest-event\n                                         slur-event dynamic-event)\n        \\new Staff \\with { instrumentName = "Flute" } \\fluteNotes\n        \\new Staff \\with { instrumentName = "Oboe" } \\oboeNotes\n      >>\n     }\n\nQuotes can also be tagged, see Using tags.'},{label:"\\quoteDuring",detail:"Quoting other voices",documentation:'It is very common for one voice to use the same notes as those from another voice. For example, first and second violins playing the same phrase during a particular passage of the music. This is done by letting one voice quote the other, without having to re-enter the music all over again for the second voice.\n\nThe \\addQuote command, used in the top level scope, defines a stream of music from which fragments can be quoted.\n\nThe \\quoteDuring command is used to indicate the point where the quotation begins. It is followed by two arguments: the name of the quoted voice, as defined with \\addQuote, and a music expression for the duration of the quote.\n\n    fluteNotes = \\relative c\'\' {\n      a4 gis g gis | b4^"quoted" r8 ais\\p a4( f)\n    }\n    oboeNotes = \\relative c\'\' {\n      c4 cis c b \\quoteDuring #"flute" { s1 }\n    }\n    \\addQuote "flute" { \\fluteNotes }\n    \\score {\n      <<\n        \\new Staff \\with { instrumentName = "Flute" } \\fluteNotes\n        \\new Staff \\with { instrumentName = "Oboe" } \\oboeNotes\n      >>\n    }\n\nIf the music expression used in \\quoteDuring contains notes instead of spacer or multimeasure rests then the quote will appear as polyphony and may produce unexpected results.\n\n    fluteNotes = \\relative c\'\' {\n      a4 gis g gis | b4^"quoted" r8 ais\\p a4( f)\n    }\n    oboeNotes = \\relative c\'\' {\n      c4 cis c b \\quoteDuring #"flute" { e4 r8 ais b4 a }\n    }\n    \\addQuote "flute" { \\fluteNotes }\n    \\score {\n      <<\n        \\new Staff \\with { instrumentName = "Flute" } \\fluteNotes\n        \\new Staff \\with { instrumentName = "Oboe" } \\oboeNotes\n      >>\n    }\n\nThe \\quoteDuring command uses the \\transposition settings of both quoted and quoting parts to produce notes for the quoting part that have the same sounding pitch as those in the quoted part.\n\n    clarinetNotes = \\relative c\'\' {\n      \\transposition bes\n      \\key d \\major\n      b4 ais a ais | cis4^"quoted" r8 bis\\p b4( f)\n    }\n    oboeNotes = \\relative c\'\' {\n      c4 cis c b \\quoteDuring #"clarinet" { s1 }\n    }\n    \\addQuote "clarinet" { \\clarinetNotes }\n    \\score {\n      <<\n        \\new Staff \\with { instrumentName = "Clarinet" } \\clarinetNotes\n        \\new Staff \\with { instrumentName = "Oboe" } \\oboeNotes\n      >>\n    }'},{label:"\\quoteDuring",detail:"Formatting cue notes",documentation:'The simplest way to format cue notes is to explicitly create a CueVoice context within the part.\n\nR1\n<<\n  { e2\\rest r4. e8 }\n  \\new CueVoice {\n    \\stemUp d\'8^"flute" c d e fis2\n  }\n>>\nd,4 r a r\n\n\nThe \\cueClef command can also be used with an explict CueVoice context if a change of clef is required and will print an appropriately sized clef for the cue notes. The \\cueClefUnset command can then be used to switch back to the original clef, again with an appropriately sized clef.\n\n\\clef "bass"\nR1\n<<\n  { e2\\rest r4. \\cueClefUnset e,8 }\n  \\new CueVoice {\n    \\cueClef "treble" \\stemUp d\'\'8^"flute" c d e fis2\n  }\n>>\nd,,4 r a r\n\n\nThe \\cueClef and \\cueClefUnset command can also be used without a CueVoice if required.\n\n\\clef "bass"\nR1\n\\cueClef "treble"\nd\'8^"flute" c d e fis2\n\\cueClefUnset\nd,,4 r a r\n\n\nFor more complex cue note placement, e.g including transposition, or inserting cue notes from multiple music sources the \\cueDuring or \\cueDuringWithClef commands can be used. These are more specialized form of \\quoteDuring, see Quoting other voices in the previous section.\n\nThe syntax is:\n\n    \\cueDuring #quotename #direction #music\n\nand\n\n    \\cueDuringWithClef #quotename #direction #clef #music\n\nThe music from the corresponding measures of the quote name is added as a CueVoice context and occurs simultaneously with the music, which then creates a polyphonic situation. The direction takes the argument UP or DOWN, and corresponds to the first and second voices respectively, determining how the cue notes are printed in relation to the other voice.\n\n    fluteNotes = \\relative c\'\' {\n      r2. c4 | d8 c d e fis2 | g2 d |\n    }\n    oboeNotes = \\relative c\'\' {\n      R1\n      \\new CueVoice { \\set instrumentCueName = "flute" }\n      \\cueDuring #"flute" #UP { R1 }\n      g2 c,\n    }\n    \\addQuote "flute" { \\fluteNotes }\n    \\new Staff {\n      \\oboeNotes\n    }\n\nIt is possible to adjust which aspects of the music are quoted with \\cueDuring by setting the quotedCueEventTypes property. Its default value is \'(note-event rest-event tie-event beam-event tuplet-span-event), which means that only notes, rests, ties, beams and tuplets are quoted, but not articulations, dynamic marks, markup etc.\n\nNote: When a Voice starts with cueDuring, as in the following example, the Voice context must be explicitly declared, or else the entire music expression would belong to the CueVoice context.\n\n\n\n    oboeNotes = \\relative c\'\' {\n      r2 r8 d16(\\f f e g f a)\n      g8 g16 g g2.\n    }\n    \\addQuote "oboe" { \\oboeNotes }\n    \\new Voice \\relative c\'\' {\n      \\set Score.quotedCueEventTypes = #\'(note-event rest-event tie-event\n                                          beam-event tuplet-span-event\n                                          dynamic-event slur-event)\n      \\cueDuring #"oboe" #UP { R1 }\n      g2 c,\n    }\n\nThe name of the instrument playing the cue can be printed by setting the instrumentCueName property in a temporary CueVoice context. The placement and style of the instrumentCueName is controlled by the InstrumentSwitch object, see Instrument names. If the cue notes require a change in clef, this can be done manually but the original clef should also be restored manually at the end of the cue notes.\n\n    fluteNotes = \\relative c\'\' {\n      r2. c4 d8 c d e fis2 g2 d2\n    }\n    bassoonNotes = \\relative c {\n      \\clef bass\n      R1\n      \\clef treble\n      \\new CueVoice { \\set instrumentCueName = "flute" }\n      \\cueDuring #"flute" #UP { R1 }\n      \\clef bass\n      g4. b8 d2\n    }\n    \\addQuote "flute" { \\fluteNotes }\n    \\new Staff {\n      \\bassoonNotes\n    }\n\nAlternatively, the \\cueDuringWithClef function can be used instead. This command takes an extra argument to specify the change of clef that needs to be printed for the cue notes but will automatically print the original clef once the cue notes have finished.\n\n    fluteNotes = \\relative c\'\' {\n      r2. c4 d8 c d e fis2 g2 d2\n    }\n    bassoonNotes = \\relative c {\n      \\clef bass\n      R1\n      \\new CueVoice { \\set instrumentCueName = "flute" }\n      \\cueDuringWithClef #"flute" #UP #"treble" { R1 }\n      g4. b8 d2\n    }\n    \\addQuote "flute" { \\fluteNotes }\n    \\new Staff {\n      \\bassoonNotes\n    }'},{label:"\\quoteDuring",detail:"A.18 Available music functions",documentation:"Indicate a section of music to be quoted. what indicates the name of the quoted voice, as specified in an \\addQuote command. main-music is used to indicate the length of music to be quoted; usually contains spacers or multi-measure rests."},{label:"\\r",detail:"Rests",documentation:"Rests are entered like notes with the note name r. Durations longer than a whole rest use the following predefined commands:\n\n    \\new Staff {\n      % These two lines are just to prettify this example\n      \\time 16/1\n      \\omit Staff.TimeSignature\n      % Print a maxima rest, equal to four breves\n      r\\maxima\n      % Print a longa rest, equal to two breves\n      r\\longa\n      % Print a breve rest\n      r\\breve\n      r1 r2 r4 r8 r16 r32 r64 r128\n    }"},{label:"R",detail:"Full measure rests",documentation:'Rests for one or more full measures are entered like notes with the note name uppercase R:\n\n    % Rest measures contracted to single measure\n    \\compressFullBarRests\n    R1*4\n    R1*24\n    R1*4\n    b2^"Tutti" b4 a4\n\nThe duration of full-measure rests is identical to the duration notation used for notes. The duration in a multi-measure rest must always be an integral number of measure-lengths, so augmentation dots or fractions must often be used:\n\n    \\compressFullBarRests\n    \\time 2/4\n    R1 | R2 |\n    \\time 3/4\n    R2. | R2.*2 |\n    \\time 13/8\n    R1*13/8 | R1*13/8*12 |\n    \\time 10/8\n    R4*5*4 |\n\nA full-measure rest is printed as either a whole or breve rest, centered in the measure, depending on the time signature.\n\n    \\time 4/4\n    R1 |\n    \\time 6/4\n    R1*3/2 |\n    \\time 8/4\n    R1*2 |'},{label:"\\ragged-bottom",detail:"4.1.3 Fixed vertical spacing \\paper variables",documentation:"If this is set to true, systems will be set at their natural spacing, neither compressed nor stretched vertically to fit the page."},{label:"\\ragged-last",detail:"\\paper variables for widths and margins",documentation:"If set to true, the last system in the score will not fill the line width. Instead the last system ends at its natural horizontal length. Default: #f. This variable can also be set in a \\layout block."},{label:"\\ragged-last",detail:"4.5.4 Line length",documentation:"The most basic settings influencing the spacing are indent and line-width. They are set in the \\layout block. They control the indentation of the first line of music, and the lengths of the lines.\n\nIf ragged-right is set to true in the \\layout block, then systems ends at their natural horizontal length, instead of being spread horizontally to fill the whole line. This is useful for short fragments, and for checking how tight the natural spacing is. The normal default setting is false, but if the score has only one system the default value is true."},{label:"\\ragged-last-bottom",detail:"4.1.3 Fixed vertical spacing \\paper variables",documentation:"If this is set to false, then the last page, and the last page in each section created with a \\bookpart block, will be vertically justified in the same way as the earlier pages."},{label:"\\ragged-right",detail:"\\paper variables for widths and margins",documentation:"If set to true, systems will not fill the line width. Instead, systems end at their natural horizontal length. Default: #t for scores with only one system, and #f for scores with two or more systems. This variable can also be set in a \\layout block."},{label:"\\ragged-right",detail:"4.5.4 Line length",documentation:"The most basic settings influencing the spacing are indent and line-width. They are set in the \\layout block. They control the indentation of the first line of music, and the lengths of the lines.\n\nIf ragged-right is set to true in the \\layout block, then systems ends at their natural horizontal length, instead of being spread horizontally to fill the whole line. This is useful for short fragments, and for checking how tight the natural spacing is. The normal default setting is false, but if the score has only one system the default value is true."},{label:"\\raise",detail:"Text alignment",documentation:"Vertical alignment is a bit more complex. As stated above, markup objects can be moved as a whole; however, it is also possible to move specific elements inside a markup block. In this case, the element to be moved needs to be preceded with an anchor point, that can be another markup element or an invisible object. The following example demonstrates these two possibilities; the last markup in this example has no anchor point, and therefore is not moved.\n\n    d2^\\markup {\n      Acte I\n      \\raise #2 { Sc\xe8ne 1 }\n    }\n    a'\n    g_\\markup {\n      \\null\n      \\lower #4 \\bold { Tr\xe8s mod\xe9r\xe9 }\n    }\n    a\n    d,^\\markup {\n      \\raise #4 \\italic { Une for\xeat. }\n    }\n    a'4 a g2 a"},{label:"\\relative",detail:"Relative octave entry",documentation:"Absolute octave entry requires specifying the octave for every single note. Relative octave entry, in contrast, specifies each octave in relation to the last note: changing one note\u2019s octave will affect all of the following notes.\n\nRelative note mode has to be entered explicitly using the \\relative command:\n\n    \\relative startpitch musicexpr\n\nIn relative mode, each note is assumed to be as close to the previous note as possible. This means that the octave of each pitch inside musicexpr is calculated as follows:\n\n - If no octave changing mark is used on a pitch, its octave is calculated so that the interval with the previous note is less than a fifth. This interval is determined without considering accidentals.\n - An octave changing mark\xa0' or\xa0, can be added to respectively raise or lower a pitch by an extra octave, relative to the pitch calculated without an octave mark.\n - Multiple octave changing marks can be used. For example, ''\xa0and\xa0,, will alter the pitch by two octaves.\n - The pitch of the first note is relative to startpitch. startpitch is specified in absolute octave mode. Which choices are meaningful?\nan octave of c\nIdentifying middle C with c' is quite basic, so finding octaves of c tends to be straightforward. If your music starts with gis above c''', you\u2019d write something like \\relative c''' { gis' \u2026 }\n\nan octave of the first note inside\nWriting \\relative gis''' { gis \u2026 } makes it easy to determine the absolute pitch of the first note inside.\n\nno explicit starting pitch\nThis (namely writing \\relative { gis''' \u2026 }) can be viewed as a compact version of the previous option: the first note inside is written in absolute pitch itself. This happens to be equivalent to choosing f as the reference pitch.\n\nThe documentation will usually employ the first option.\n\n\n\nHere is the relative mode shown in action:\n\n    \\relative c {\n      \\clef bass\n      c d e f\n      g a b c\n      d e f g\n    }\n\nOctave changing marks are used for intervals greater than a fourth:\n\n    \\relative c'' {\n      c g c f,\n      c' a, e'' c\n    }\n\nA note sequence without a single octave mark can nevertheless span large intervals:\n\n    \\relative c {\n      c f b e\n      a d g c\n    }\n\nWhen \\relative blocks are nested, the innermost \\relative block applies.\n\n    \\relative c' {\n      c d e f\n      \\relative c'' {\n        c d e f\n      }\n    }\n\n\\relative has no effect on \\chordmode blocks.\n\n    \\new Staff {\n      \\relative c''' {\n        \\chordmode { c1 }\n      }\n      \\chordmode { c1 }\n    }\n\n\\relative is not allowed inside of \\chordmode blocks.\n\nMusic inside a \\transpose block is absolute unless a \\relative is included.\n\n    \\relative c' {\n      d e\n      \\transpose f g {\n        d e\n        \\relative c' {\n          d e\n        }\n      }\n    }"},{label:"\\relative",detail:"Changing staff automatically",documentation:'A \\relative section that is outside of \\autochange has no effect on the pitches of the music, so if necessary, put \\relative inside \\autochange.\n\nIf additional control is needed over the individual staves, they can be created manually with the names "up" and "down". The \\autochange command will then switch its voice between the existing staves.\n\nNote: If staves are created manually, they must be named "up" and "down".\n\n\n\nFor example, staves must be created manually in order to place a key signature in the lower staff:\n\n    \\new PianoStaff <<\n      \\new Staff = "up" {\n        \\new Voice = "melOne" {\n          \\key g \\major\n          \\autochange \\relative c\' {\n            g8 b a c b d c e\n            d8 r fis, g a2\n          }\n        }\n      }\n      \\new Staff = "down" {\n        \\key g \\major\n        \\clef bass\n      }\n    >>'},{label:"\\relative",detail:"A.18 Available music functions",documentation:"Make music relative to pitch. If pitch is omitted, the first note in music is given in absolute pitch."},{label:"\\removeWithTag",detail:"A.18 Available music functions",documentation:"Remove elements of music that are tagged with one of the tags in tag. tag may be either a single symbol or a list of symbols."},{label:"\\repeatCommands",detail:"Manual repeat marks",documentation:"The property repeatCommands can be used to control the layout of repeats. Its value is a Scheme list of repeat commands.\n\nstart-repeat\nPrint a .|: bar line.\n\nc1\n\\set Score.repeatCommands = #'(start-repeat)\nd4 e f g\nc1\n \n\nAs per standard engraving practice, repeat signs are not printed at the beginning of a piece.\n\nend-repeat\nPrint a :|. bar line:\n\nc1\nd4 e f g\n\\set Score.repeatCommands = #'(end-repeat)\nc1\n \n\n(volta number) \u2026 (volta #f)\nCreate a new volta with the specified number. The volta bracket must be explicitly terminated, or it will not be printed.\n\nf4 g a b\n\\set Score.repeatCommands = #'((volta \"2\"))\ng4 a g a\n\\set Score.repeatCommands = #'((volta #f))\nc1\n \n\n\n\nMultiple repeat commands may occur at the same point:\n\n    f4 g a b\n    \\set Score.repeatCommands = #'((volta \"2, 5\") end-repeat)\n    g4 a g a\n    c1\n    \\set Score.repeatCommands = #'((volta #f) (volta \"95\") end-repeat)\n    b1\n    \\set Score.repeatCommands = #'((volta #f))"},{label:"\\repeatTie",detail:"Ties",documentation:"When a second alternative of a repeat starts with a tied note, you have to specify the repeated tie as follows:\n\n    \\repeat volta 2 { c g <c e>2~ }\n    \\alternative {\n      % First alternative: following note is tied normally\n      { <c e>2. r4 }\n      % Second alternative: following note has a repeated tie\n      { <c e>2\\repeatTie d4 c } }"},{label:"\\resetRelativeOctave",detail:"A.18 Available music functions",documentation:"Set the octave inside a \\relative section."},{label:"\\rest",detail:"Rests",documentation:"Rests are entered like notes with the note name r. Durations longer than a whole rest use the following predefined commands:\n\n    \\new Staff {\n      % These two lines are just to prettify this example\n      \\time 16/1\n      \\omit Staff.TimeSignature\n      % Print a maxima rest, equal to four breves\n      r\\maxima\n      % Print a longa rest, equal to two breves\n      r\\longa\n      % Print a breve rest\n      r\\breve\n      r1 r2 r4 r8 r16 r32 r64 r128\n    }"},{label:"\\restrainOpenStrings",detail:"Default tablatures",documentation:'By default pitches are assigned to the lowest playing position on the fret-board (first position). Open strings are automatically preferred. If you would like a certain pitch to be played on a specific string you can add a string number indication to the pitch name. If you don\u2019t want to have string number indications appear in traditional notation, you can override the respective stencil. Usually it will be more comfortable to define the playing position by using the value of minimumFret. The default value for minimumFret is 0.\n\nEven when minimumFret is set, open strings are used whenever possible. This behaviour can be changed by setting restrainOpenStrings to #t.\n\n    \\layout { \\omit Voice.StringNumber }\n    \\new StaffGroup <<\n       \\new Staff \\relative c {\n         \\clef "treble_8"\n         \\time 2/4\n         c16 d e f g4\n         c,16\\5 d\\5 e\\4 f\\4 g4\\4\n         c,16 d e f g4\n       }\n       \\new TabStaff \\relative c {\n         c16 d e f g4\n         c,16\\5 d\\5 e\\4 f\\4 g4\\4\n         \\set TabStaff.minimumFret = #5\n         \\set TabStaff.restrainOpenStrings = ##t\n         c,16 d e f g4\n       }\n    >>'},{label:"\\retrograde",detail:"Retrograde",documentation:"A music expression can be reversed to produce its retrograde:\n\n    music = \\relative c' { c8. ees16( fis8. a16 b8.) gis16 f8. d16 }\n    \\new Staff {\n      \\music\n      \\retrograde \\music\n    }"},{label:"\\retrograde",detail:"A.18 Available music functions",documentation:"Return music in reverse order."},{label:"\\revertTimeSignatureSettings",detail:"A.18 Available music functions",documentation:"Revert timeSignatureSettings for time signatures of time-signature."},{label:"\\rfz",detail:"Dynamics",documentation:"Absolute dynamic marks are specified using a command after a note, such as c4\\ff. The available dynamic marks are \\ppppp, \\pppp, \\ppp, \\pp, \\p, \\mp, \\mf, \\f, \\ff, \\fff, \\ffff, \\fffff, \\fp, \\sf, \\sff, \\sp, \\spp, \\sfz, and \\rfz. Dynamic marks may be manually placed above or below the staff; see Direction and placement.\n\n    c2\\ppp c\\mp\n    c2\\rfz c^\\mf\n    c2_\\spp c^\\ff"},{label:"\\rgb-color",detail:"Coloring objects",documentation:"Exact RGB colors can be specified using the Scheme function rgb-color.\n\n    \\override Staff.StaffSymbol.color = #(x11-color 'SlateBlue2)\n    \\set Staff.instrumentName = \\markup {\n      \\with-color #(x11-color 'navy) \"Clarinet\"\n    }\n    \\override Stem.color = #(rgb-color 0 0 0)\n    gis8 a\n    \\override Stem.color = #(rgb-color 1 1 1)\n    gis8 a\n    \\override Stem.color = #(rgb-color 0 0 0.5)\n    gis4 a"},{label:"RhythmicStaff",detail:"Instantiating new staves",documentation:"Staves (singular: staff) are created with the \\new or \\context commands. For details, see Creating and referencing contexts.\n\nThe basic staff context is Staff:\n\n    \\new Staff { c4 d e f }\n\nThe DrumStaff context creates a five-line staff set up for a typical drum set. Each instrument is shown with a different symbol. The instruments are entered in drum mode following a \\drummode command, with each instrument specified by name. For details, see Percussion staves.\n\n    \\new DrumStaff {\n      \\drummode { cymc hh ss tomh }\n    }\n\nRhythmicStaff creates a single-line staff that only displays the rhythmic values of the input. Real durations are preserved. For details, see Showing melody rhythms.\n\n    \\new RhythmicStaff { c4 d e f }\n\nTabStaff creates a tablature with six strings in standard guitar tuning. For details, see Default tablatures.\n\n    \\new TabStaff { c4 d e f }\n\nThere are two staff contexts specific for the notation of ancient music: MensuralStaff and VaticanaStaff. They are described in Pre-defined contexts.\n\nThe GregorianTranscriptionStaff context creates a staff to notate modern Gregorian chant. It does not show bar lines.\n\n    \\new GregorianTranscriptionStaff { c4 d e f e d }\n\nNew single staff contexts may be defined. For details, see Defining new contexts."},{label:"\\right-align",detail:"Text alignment",documentation:"Markup objects may be aligned in different ways. By default, a text indication is aligned on its left edge: in the following example, there is no difference between the first and the second markup.\n\n    d1-\\markup { poco }\n    f\n    d-\\markup { \\left-align poco }\n    f\n    d-\\markup { \\center-align { poco } }\n    f\n    d-\\markup { \\right-align poco }"},{label:"\\right-margin",detail:"\\paper variables for widths and margins",documentation:"The margin between the right edge of the page and the end of the staff lines in non-ragged systems. If the paper size is modified, this dimension\u2019s default value is scaled accordingly. If right-margin is unset, and both line-width and left-margin are set, then right-margin is set to (paper-width\xa0-\xa0line-width\xa0-\xa0left-margin). If only line-width is set, then both margins are set to ((paper-width\xa0-\xa0line-width)\xa0/\xa02), and the systems are consequently centered on the page. Also see check-consistency."},{label:"\\rightHandFinger",detail:"Right-hand fingerings",documentation:'Right-hand fingerings p-i-m-a must be entered using \\rightHandFinger followed by a number.\n\nNote: If the number is entered in Scheme notation, remember to append a space before following it with a closing > or similar.\n\n\n\n    \\clef "treble_8"\n    c4\\rightHandFinger #1\n    e\\rightHandFinger #2\n    g\\rightHandFinger #3\n    c\\rightHandFinger #4\n    <c,\\rightHandFinger #1 e\\rightHandFinger #2\n     g\\rightHandFinger #3 c\\rightHandFinger #4 >1\n\nFor convenience, you can abbreviate \\rightHandFinger to something short, for example RH,\n\n    RH=#rightHandFinger'},{label:"\\rightHandFinger",detail:"A.18 Available music functions",documentation:"Apply finger as a fingering indication."},{label:"\\rounded-box",detail:"Graphic notation inside markup",documentation:'Some markup commands allow decoration of text elements with graphics, as demonstrated in the following example.\n\n    \\markup \\fill-line {\n      \\center-column {\n        \\circle Jack\n        \\box "in the box"\n        \\null\n        \\line {\n          Erik Satie\n          \\hspace #3\n          \\bracket "1866 - 1925"\n        }\n        \\null\n        \\rounded-box \\bold Prelude\n      }\n    }'},{label:"\\s",detail:"Invisible rests",documentation:"An invisible rest (also called a \u2018spacer rest\u2019) can be entered like a note with the note name\xa0s:\n\n    c4 c s c\n    s2 c"},{label:"\\sacredHarpHeads",detail:"Shape note heads",documentation:"In shape note head notation, the shape of the note head corresponds to the harmonic function of a note in the scale. This notation was popular in nineteenth-century American song books. Shape note heads can be produced in Sacred Harp, Southern Harmony, Funk (Harmonica Sacra), Walker, and Aiken (Christian Harmony) styles:\n\n    \\aikenHeads\n    c, d e f g2 a b1 c \\break\n    \\sacredHarpHeads\n    c,4 d e f g2 a b1 c \\break\n    \\southernHarmonyHeads\n    c,4 d e f g2 a b1 c \\break\n    \\funkHeads\n    c,4 d e f g2 a b1 c \\break\n    \\walkerHeads\n    c,4 d e f g2 a b1 c \\break"},{label:"\\sacredHarpHeadsMinor",detail:"Shape note heads",documentation:"Shapes are typeset according to the step in the scale, where the base of the scale is determined by the \\key command. When writing in a minor key, the scale step can be determined from the relative major:\n\n    \\key a \\minor\n    \\aikenHeads\n    a b c d e2 f g1 a \\break\n    \\aikenHeadsMinor\n    a,4 b c d e2 f g1 a \\break\n    \\sacredHarpHeadsMinor\n    a,2 b c d \\break\n    \\southernHarmonyHeadsMinor\n    a2 b c d \\break\n    \\funkHeadsMinor\n    a2 b c d \\break\n    \\walkerHeadsMinor\n    a2 b c d \\break"},{label:"\\scaleDurations",detail:"Scaling durations",documentation:"Longer stretches of music may be compressed by a fraction in the same way, as if every note, chord or rest had the fraction as a multiplier. This leaves the appearance of the music unchanged but the internal duration of the notes will be multiplied by the fraction num/den. Here is an example showing how music can be compressed and expanded:\n\n    \\time 2/4\n    % Normal durations\n    <c a>4 c8 a\n    % Scale music by *2/3\n    \\scaleDurations 2/3 {\n      <c a f>4. c8 a f\n    }\n    % Scale music by *2\n    \\scaleDurations 2/1 {\n      <c' a>4 c8 b\n    }\n\nOne application of this command is in polymetric notation, see Polymetric notation."},{label:"\\scaleDurations",detail:"Polymetric notation",documentation:"Polymetric notation is supported explicitly or by manually modifying the visible time signature symbol and/or scaling note durations."},{label:"\\scaleDurations",detail:"A.18 Available music functions",documentation:"Multiply the duration of events in music by fraction."},{label:"\\score-markup-spacing",detail:"List of flexible vertical spacing \\paper variables",documentation:"the distance between the last system of a score and the (title or top-level) markup that follows it."},{label:"\\score-system-spacing",detail:"List of flexible vertical spacing \\paper variables",documentation:"the distance between the last system of a score and the first system of the score that follows it, when no (title or top-level) markup exists between them."},{label:"\\scoreTitleMarkup",detail:"Custom layout for titles",documentation:'\\markup commands in the \\header block are useful for simple text formatting, but they do not allow precise control over the placement of titles. To customize the placement of the text fields, change either or both of the following \\paper variables:\n\n - bookTitleMarkup\n - scoreTitleMarkup\n\nThe placement of titles when using the default values of these \\markup variables is shown in the examples in Default layout of bookpart and score titles.\n\nThe default settings for scoreTitleMarkup as defined in \u2018ly/titling-init.ly\u2019 are:\n\n    scoreTitleMarkup = \\markup { \\column {\n      \\on-the-fly \\print-all-headers { \\bookTitleMarkup \\hspace #1 }\n      \\fill-line {\n        \\fromproperty #\'header:piece\n        \\fromproperty #\'header:opus\n      }\n    }\n    }\n\nThis places the piece and opus text fields at opposite ends of the same line:\n\n    \\score {\n      { s1 }\n      \\header {\n        piece = "PRAELUDIUM I"\n        opus = "BWV 846"\n      }\n    }\n\nThis example redefines scoreTitleMarkup so that the piece text field is centered and in a large, bold font.\n\n    \\book {\n      \\paper {\n        indent = 0\\mm\n        scoreTitleMarkup = \\markup {\n          \\fill-line {\n            \\null\n            \\fontsize #4 \\bold \\fromproperty #\'header:piece\n            \\fromproperty #\'header:opus\n          }\n        }\n      }\n      \\header { tagline = ##f }\n      \\score {\n        { s1 }\n        \\header {\n          piece = "PRAELUDIUM I"\n          opus = "BWV 846"\n        }\n      }\n    }\n\nText fields not normally effective in score \\header blocks can be printed in the Score Title area if print-all-headers is placed inside the \\paper block. A disadvantage of using this method is that text fields that are intended specifically for the Bookpart Title area need to be manually suppressed in every \\score block. See Titles explained.\n\nTo avoid this, add the desired text field to the scoreTitleMarkup definition. In the following example, the composer text field (normally associated with bookTitleMarkup) is added to scoreTitleMarkup, allowing each score to list a different composer:\n\n    \\book {\n      \\paper {\n        indent = 0\\mm\n        scoreTitleMarkup = \\markup {\n          \\fill-line {\n            \\null\n            \\fontsize #4 \\bold \\fromproperty #\'header:piece\n            \\fromproperty #\'header:composer\n          }\n        }\n      }\n      \\header { tagline = ##f }\n      \\score {\n        { s1 }\n        \\header {\n          piece = "MENUET"\n          composer = "Christian Petzold"\n        }\n      }\n      \\score {\n        { s1 }\n        \\header {\n          piece = "RONDEAU"\n          composer = "Fran\xe7ois Couperin"\n        }\n      }\n    }\n\nIt is also possible to create your own custom text fields, and refer to them in the markup definition.\n\n    \\book {\n      \\paper {\n        indent = 0\\mm\n        scoreTitleMarkup = \\markup {\n          \\fill-line {\n            \\null\n            \\override #`(direction . ,UP) {\n              \\dir-column {\n                \\center-align \\fontsize #-1 \\bold\n                  \\fromproperty #\'header:mycustomtext %% User-defined field\n                \\center-align \\fontsize #4 \\bold\n                  \\fromproperty #\'header:piece\n              }\n            }\n            \\fromproperty #\'header:opus\n          }\n        }\n      }\n      \\header { tagline = ##f }\n      \\score {\n        { s1 }\n        \\header {\n          piece = "FUGA I"\n          mycustomtext = "A 4 VOCI" %% User-defined field\n          opus = "BWV 846"\n        }\n      }\n    }'},{label:"\\self-alignment-X",detail:"Within-system spacing properties",documentation:"The within-system vertical spacing mechanisms are controlled by two sets of grob properties. The first set is associated with the VerticalAxisGroup grob, which is created by all staves and non-staff lines. The second set is associated with the StaffGrouper grob, which can be created by staff-groups, but only if explicitly called. These properties are described individually at the end of this section.\n\nThe names of these properties (except for staff-affinity) follow the format item1-item2-spacing, where item1 and item2 are the items to be spaced. Note that item2 is not necessarily below item1; for example, nonstaff-relatedstaff-spacing will measure upwards from the non-staff line if staff-affinity is UP.\n\nEach distance is measured between the reference points of the two items. The reference point for a staff is the vertical center of its StaffSymbol (i.e. the middle line if line-count is odd; the middle space if line-count is even). The reference points for individual non-staff lines are given in the following table:\n\nNon-staff line\tReference point\nChordNames\tbaseline\nNoteNames\tbaseline\nLyrics\tbaseline\nDynamics\tmid-height of \u2018m\u2019\nFiguredBass\thighest point\nFretBoards\ttop line\n\n\nIn the following image, horizontal lines indicate the positions of these reference points:\n\nEach of the vertical spacing grob properties (except staff-affinity) uses the same alist structure as the \\paper spacing variables discussed in Flexible vertical spacing \\paper variables. Specific methods for modifying alists are discussed in Modifying alists. Grob properties should be adjusted with an \\override inside a \\score or \\layout block, and not inside a \\paper block.\n\nThe following example demonstrates the two ways these alists can be modified. The first declaration updates one key-value individually, and the second completely re-defines the property:\n\n    \\new Staff \\with {\n      \\override VerticalAxisGroup.default-staff-staff-spacing.basic-distance = #10\n    } { \u2026 }\n    \\new Staff \\with {\n      \\override VerticalAxisGroup.default-staff-staff-spacing =\n        #'((basic-distance . 10)\n           (minimum-distance . 9)\n           (padding . 1)\n           (stretchability . 10))\n    } { \u2026 }\n\nTo change any spacing settings globally, put them in the \\layout block:\n\n    \\layout {\n      \\context {\n        \\Staff\n        \\override VerticalAxisGroup.default-staff-staff-spacing.basic-distance = #10\n      }\n    }\n\nStandard settings for the vertical spacing grob properties are listed in VerticalAxisGroup and StaffGrouper. Default overrides for specific types of non-staff lines are listed in the relevant context descriptions in Contexts."},{label:"\\set",detail:"Setting automatic beam behavior",documentation:"When automatic beaming is enabled, the placement of automatic beams is determined by three context properties: baseMoment, beatStructure, and beamExceptions. The default values of these variables may be overridden as described below, or alternatively the default values themselves may be changed as explained in Time signature.\n\nIf a beamExceptions rule is defined for the time signature in force, that rule alone is used to determine the beam placement; the values of baseMoment and beatStructure are ignored.\n\nIf no beamExceptions rule is defined for the time signature in force, the beam placement is determined by the values of baseMoment and beatStructure."},{label:"\\set-octavation",detail:"Ottava brackets",documentation:"Ottava brackets introduce an extra transposition of an octave for the staff:\n\n    a2 b\n    \\ottava #-2\n    a2 b\n    \\ottava #-1\n    a2 b\n    \\ottava #0\n    a2 b\n    \\ottava #1\n    a2 b\n    \\ottava #2\n    a2 b"},{label:"\\settingsFrom",detail:"A.18 Available music functions",documentation:"Take the layout instruction events from music, optionally restricted to those applying to context type ctx, and return a context modification duplicating their effect."},{label:"\\sf",detail:"Dynamics",documentation:"Absolute dynamic marks are specified using a command after a note, such as c4\\ff. The available dynamic marks are \\ppppp, \\pppp, \\ppp, \\pp, \\p, \\mp, \\mf, \\f, \\ff, \\fff, \\ffff, \\fffff, \\fp, \\sf, \\sff, \\sp, \\spp, \\sfz, and \\rfz. Dynamic marks may be manually placed above or below the staff; see Direction and placement.\n\n    c2\\ppp c\\mp\n    c2\\rfz c^\\mf\n    c2_\\spp c^\\ff"},{label:"\\sff",detail:"Dynamics",documentation:"Absolute dynamic marks are specified using a command after a note, such as c4\\ff. The available dynamic marks are \\ppppp, \\pppp, \\ppp, \\pp, \\p, \\mp, \\mf, \\f, \\ff, \\fff, \\ffff, \\fffff, \\fp, \\sf, \\sff, \\sp, \\spp, \\sfz, and \\rfz. Dynamic marks may be manually placed above or below the staff; see Direction and placement.\n\n    c2\\ppp c\\mp\n    c2\\rfz c^\\mf\n    c2_\\spp c^\\ff"},{label:"\\sfz",detail:"Dynamics",documentation:"Absolute dynamic marks are specified using a command after a note, such as c4\\ff. The available dynamic marks are \\ppppp, \\pppp, \\ppp, \\pp, \\p, \\mp, \\mf, \\f, \\ff, \\fff, \\ffff, \\fffff, \\fp, \\sf, \\sff, \\sp, \\spp, \\sfz, and \\rfz. Dynamic marks may be manually placed above or below the staff; see Direction and placement.\n\n    c2\\ppp c\\mp\n    c2\\rfz c^\\mf\n    c2_\\spp c^\\ff"},{label:"\\shape",detail:"A.18 Available music functions",documentation:"Offset control-points of item by offsets. The argument is a list of number pairs or list of such lists. Each element of a pair represents an offset to one of the coordinates of a control-point. If item is a string, the result is \\once\\override for the specified grob type. If item is a music expression, the result is the same music expression with an appropriate tweak applied."},{label:"\\shiftDurations",detail:"A.18 Available music functions",documentation:"Change the duration of arg by adding dur to the durlog of arg and dots to the dots of arg."},{label:"\\shiftOff",detail:"Collision resolution",documentation:"The note heads of notes in different voices with the same pitch, same note head and opposite stem direction are automatically merged, but notes with different note heads or the same stem direction are not. Rests opposite a stem in a different voice are shifted vertically. The following example shows three different circumstances, on beats 1 and 3 in bar 1 and beat 1 in bar 2, where the automatic merging fails.\n\n    <<\n      {\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nNotes with different note heads may be merged as shown below. In this example the note heads on beat 1 of bar 1 are now merged:\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nQuarter and half notes are not merged in this way, since it would be difficult to tell them apart.\n\nNote heads with different dots as shown in beat 3 of bar 1 may be also be merged:\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        \\mergeDifferentlyDottedOn\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nThe half note and eighth note at the start of the second measure are incorrectly merged because the automatic merge cannot successfully complete the merge when three or more notes line up in the same note column, and in this case the merged note head is incorrect. To allow the merge to select the correct note head a \\shift must be applied to the note that should not be merged. Here, \\shiftOn is applied to move the top g out of the column, and \\mergeDifferentlyHeadedOn then works properly.\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        \\mergeDifferentlyDottedOn\n        c8 d e d c d c4\n        \\shiftOn\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nThe \\shiftOn command allows (but does not force) the notes in a voice to be shifted. When \\shiftOn is applied to a voice, a note or chord in that voice is shifted only if its stem would otherwise collide with a stem from another voice, and only if the colliding stems point in the same direction. The \\shiftOff command prevents this type of shifting from occurring.\n\nBy default, the outer voices (normally voices one and two) have \\shiftOff specified, while the inner voices (three and above) have \\shiftOn specified. When a shift is applied, voices with upstems (odd-numbered voices) are shifted to the right, and voices with downstems (even-numbered voices) are shifted to the left.\n\nHere is an example to help you visualize how an abbreviated polyphonic expression would be expanded internally.\n\nNote: Note that with three or more voices, the vertical order of voices in your input file should not be the same as the vertical order of voices on the staff!\n\n\n\n    \\new Staff \\relative c'' {\n      %% abbreviated entry\n      <<\n        { f2  }  % 1: highest\n        \\\\\n        { g,2 }  % 2: lowest\n        \\\\\n        { d'2 }  % 3: upper middle\n        \\\\\n        { b2  }  % 4: lower middle\n      >>\n      %% internal expansion of the above\n      <<\n        \\new Voice = \"1\" { \\voiceOne   \\shiftOff f'2 }\n        \\new Voice = \"2\" { \\voiceTwo   \\shiftOff g,2 }\n        \\new Voice = \"3\" { \\voiceThree \\shiftOn  d'2 } % shifts right\n        \\new Voice = \"4\" { \\voiceFour  \\shiftOn  b2  } % shifts left\n      >>\n    }\n\nTwo additional commands, \\shiftOnn and \\shiftOnnn provide further shift levels which may be specified temporarily to resolve collisions in complex situations \u2013 see Real music example.\n\nNotes are only merged if they have opposing stem directions (as they have, for example, in voices one and two by default or when the stems are explicitly set in opposite directions)."},{label:"\\shiftOn",detail:"Collision resolution",documentation:"The note heads of notes in different voices with the same pitch, same note head and opposite stem direction are automatically merged, but notes with different note heads or the same stem direction are not. Rests opposite a stem in a different voice are shifted vertically. The following example shows three different circumstances, on beats 1 and 3 in bar 1 and beat 1 in bar 2, where the automatic merging fails.\n\n    <<\n      {\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nNotes with different note heads may be merged as shown below. In this example the note heads on beat 1 of bar 1 are now merged:\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nQuarter and half notes are not merged in this way, since it would be difficult to tell them apart.\n\nNote heads with different dots as shown in beat 3 of bar 1 may be also be merged:\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        \\mergeDifferentlyDottedOn\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nThe half note and eighth note at the start of the second measure are incorrectly merged because the automatic merge cannot successfully complete the merge when three or more notes line up in the same note column, and in this case the merged note head is incorrect. To allow the merge to select the correct note head a \\shift must be applied to the note that should not be merged. Here, \\shiftOn is applied to move the top g out of the column, and \\mergeDifferentlyHeadedOn then works properly.\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        \\mergeDifferentlyDottedOn\n        c8 d e d c d c4\n        \\shiftOn\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nThe \\shiftOn command allows (but does not force) the notes in a voice to be shifted. When \\shiftOn is applied to a voice, a note or chord in that voice is shifted only if its stem would otherwise collide with a stem from another voice, and only if the colliding stems point in the same direction. The \\shiftOff command prevents this type of shifting from occurring.\n\nBy default, the outer voices (normally voices one and two) have \\shiftOff specified, while the inner voices (three and above) have \\shiftOn specified. When a shift is applied, voices with upstems (odd-numbered voices) are shifted to the right, and voices with downstems (even-numbered voices) are shifted to the left.\n\nHere is an example to help you visualize how an abbreviated polyphonic expression would be expanded internally.\n\nNote: Note that with three or more voices, the vertical order of voices in your input file should not be the same as the vertical order of voices on the staff!\n\n\n\n    \\new Staff \\relative c'' {\n      %% abbreviated entry\n      <<\n        { f2  }  % 1: highest\n        \\\\\n        { g,2 }  % 2: lowest\n        \\\\\n        { d'2 }  % 3: upper middle\n        \\\\\n        { b2  }  % 4: lower middle\n      >>\n      %% internal expansion of the above\n      <<\n        \\new Voice = \"1\" { \\voiceOne   \\shiftOff f'2 }\n        \\new Voice = \"2\" { \\voiceTwo   \\shiftOff g,2 }\n        \\new Voice = \"3\" { \\voiceThree \\shiftOn  d'2 } % shifts right\n        \\new Voice = \"4\" { \\voiceFour  \\shiftOn  b2  } % shifts left\n      >>\n    }\n\nTwo additional commands, \\shiftOnn and \\shiftOnnn provide further shift levels which may be specified temporarily to resolve collisions in complex situations \u2013 see Real music example.\n\nNotes are only merged if they have opposing stem directions (as they have, for example, in voices one and two by default or when the stems are explicitly set in opposite directions)."},{label:"\\shiftOnn",detail:"Collision resolution",documentation:"The note heads of notes in different voices with the same pitch, same note head and opposite stem direction are automatically merged, but notes with different note heads or the same stem direction are not. Rests opposite a stem in a different voice are shifted vertically. The following example shows three different circumstances, on beats 1 and 3 in bar 1 and beat 1 in bar 2, where the automatic merging fails.\n\n    <<\n      {\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nNotes with different note heads may be merged as shown below. In this example the note heads on beat 1 of bar 1 are now merged:\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nQuarter and half notes are not merged in this way, since it would be difficult to tell them apart.\n\nNote heads with different dots as shown in beat 3 of bar 1 may be also be merged:\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        \\mergeDifferentlyDottedOn\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nThe half note and eighth note at the start of the second measure are incorrectly merged because the automatic merge cannot successfully complete the merge when three or more notes line up in the same note column, and in this case the merged note head is incorrect. To allow the merge to select the correct note head a \\shift must be applied to the note that should not be merged. Here, \\shiftOn is applied to move the top g out of the column, and \\mergeDifferentlyHeadedOn then works properly.\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        \\mergeDifferentlyDottedOn\n        c8 d e d c d c4\n        \\shiftOn\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nThe \\shiftOn command allows (but does not force) the notes in a voice to be shifted. When \\shiftOn is applied to a voice, a note or chord in that voice is shifted only if its stem would otherwise collide with a stem from another voice, and only if the colliding stems point in the same direction. The \\shiftOff command prevents this type of shifting from occurring.\n\nBy default, the outer voices (normally voices one and two) have \\shiftOff specified, while the inner voices (three and above) have \\shiftOn specified. When a shift is applied, voices with upstems (odd-numbered voices) are shifted to the right, and voices with downstems (even-numbered voices) are shifted to the left.\n\nHere is an example to help you visualize how an abbreviated polyphonic expression would be expanded internally.\n\nNote: Note that with three or more voices, the vertical order of voices in your input file should not be the same as the vertical order of voices on the staff!\n\n\n\n    \\new Staff \\relative c'' {\n      %% abbreviated entry\n      <<\n        { f2  }  % 1: highest\n        \\\\\n        { g,2 }  % 2: lowest\n        \\\\\n        { d'2 }  % 3: upper middle\n        \\\\\n        { b2  }  % 4: lower middle\n      >>\n      %% internal expansion of the above\n      <<\n        \\new Voice = \"1\" { \\voiceOne   \\shiftOff f'2 }\n        \\new Voice = \"2\" { \\voiceTwo   \\shiftOff g,2 }\n        \\new Voice = \"3\" { \\voiceThree \\shiftOn  d'2 } % shifts right\n        \\new Voice = \"4\" { \\voiceFour  \\shiftOn  b2  } % shifts left\n      >>\n    }\n\nTwo additional commands, \\shiftOnn and \\shiftOnnn provide further shift levels which may be specified temporarily to resolve collisions in complex situations \u2013 see Real music example.\n\nNotes are only merged if they have opposing stem directions (as they have, for example, in voices one and two by default or when the stems are explicitly set in opposite directions)."},{label:"\\shiftOnnn",detail:"Collision resolution",documentation:"The note heads of notes in different voices with the same pitch, same note head and opposite stem direction are automatically merged, but notes with different note heads or the same stem direction are not. Rests opposite a stem in a different voice are shifted vertically. The following example shows three different circumstances, on beats 1 and 3 in bar 1 and beat 1 in bar 2, where the automatic merging fails.\n\n    <<\n      {\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nNotes with different note heads may be merged as shown below. In this example the note heads on beat 1 of bar 1 are now merged:\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nQuarter and half notes are not merged in this way, since it would be difficult to tell them apart.\n\nNote heads with different dots as shown in beat 3 of bar 1 may be also be merged:\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        \\mergeDifferentlyDottedOn\n        c8 d e d c d c4\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nThe half note and eighth note at the start of the second measure are incorrectly merged because the automatic merge cannot successfully complete the merge when three or more notes line up in the same note column, and in this case the merged note head is incorrect. To allow the merge to select the correct note head a \\shift must be applied to the note that should not be merged. Here, \\shiftOn is applied to move the top g out of the column, and \\mergeDifferentlyHeadedOn then works properly.\n\n    <<\n      {\n        \\mergeDifferentlyHeadedOn\n        \\mergeDifferentlyDottedOn\n        c8 d e d c d c4\n        \\shiftOn\n        g'2 fis\n      } \\\\ {\n        c2 c8. b16 c4\n        e,2 r\n      } \\\\ {\n        \\oneVoice\n        s1\n        e8 a b c d2\n      }\n    >>\n\nThe \\shiftOn command allows (but does not force) the notes in a voice to be shifted. When \\shiftOn is applied to a voice, a note or chord in that voice is shifted only if its stem would otherwise collide with a stem from another voice, and only if the colliding stems point in the same direction. The \\shiftOff command prevents this type of shifting from occurring.\n\nBy default, the outer voices (normally voices one and two) have \\shiftOff specified, while the inner voices (three and above) have \\shiftOn specified. When a shift is applied, voices with upstems (odd-numbered voices) are shifted to the right, and voices with downstems (even-numbered voices) are shifted to the left.\n\nHere is an example to help you visualize how an abbreviated polyphonic expression would be expanded internally.\n\nNote: Note that with three or more voices, the vertical order of voices in your input file should not be the same as the vertical order of voices on the staff!\n\n\n\n    \\new Staff \\relative c'' {\n      %% abbreviated entry\n      <<\n        { f2  }  % 1: highest\n        \\\\\n        { g,2 }  % 2: lowest\n        \\\\\n        { d'2 }  % 3: upper middle\n        \\\\\n        { b2  }  % 4: lower middle\n      >>\n      %% internal expansion of the above\n      <<\n        \\new Voice = \"1\" { \\voiceOne   \\shiftOff f'2 }\n        \\new Voice = \"2\" { \\voiceTwo   \\shiftOff g,2 }\n        \\new Voice = \"3\" { \\voiceThree \\shiftOn  d'2 } % shifts right\n        \\new Voice = \"4\" { \\voiceFour  \\shiftOn  b2  } % shifts left\n      >>\n    }\n\nTwo additional commands, \\shiftOnn and \\shiftOnnn provide further shift levels which may be specified temporarily to resolve collisions in complex situations \u2013 see Real music example.\n\nNotes are only merged if they have opposing stem directions (as they have, for example, in voices one and two by default or when the stems are explicitly set in opposite directions)."},{label:"\\short-indent",detail:"Instrument names",documentation:'However, if the instrument names are longer, the instrument names in a staff group may not be centered unless the indent and short-indent settings are increased. For details about these settings, see \\paper variables for shifts and indents.\n\n    \\relative c\'\' {\n      <<\n        \\new Staff \\with {\n          instrumentName = #"Alto Flute in G"\n          shortInstrumentName = #"Flt."\n        }\n        {\n          f2 g4 f \\break\n          g4 f g2\n        }\n        \\new Staff \\with {\n          instrumentName = #"Clarinet"\n          shortInstrumentName = #"Clar."\n        }\n        {\n          c,4 b c2 \\break\n          c2 b4 c\n        }\n      >>\n    }\n    \\layout {\n      indent = 3.0\\cm\n      short-indent = 1.5\\cm\n    }'},{label:"\\short-indent",detail:"\\paper variables for shifts and indents",documentation:"The level of indentation for all systems in a score besides the first system. If the paper size is modified, this dimension\u2019s default value is scaled accordingly. This variable can also be set in a \\layout block."},{label:"\\show-available-fonts",detail:"Single entry fonts",documentation:"The following command displays a list of all available fonts on the operating system:\n\n    lilypond -dshow-available-fonts x"},{label:"\\showFirstLength",detail:"3.4.2 Skipping corrected music",documentation:"When entering or copying music, usually only the music near the end (where you are adding notes) is interesting to view and correct. To speed up this correction process, it is possible to skip typesetting of all but the last few measures. This is achieved by putting\n\n    showLastLength = R1*5\n    \\score { \u2026 }\n\nin your source file. This will render only the last 5 measures (assuming 4/4 time signature) of every \\score in the input file. For longer pieces, rendering only a small part is often an order of magnitude quicker than rendering it completely. When working on the beginning of a score you have already typeset (e.g. to add a new part), the showFirstLength property may be useful as well.\n\nSkipping parts of a score can be controlled in a more fine-grained fashion with the property Score.skipTypesetting. When it is set, no typesetting is performed at all.\n\nThis property is also used to control output to the MIDI file. Note that it skips all events, including tempo and instrument changes. You have been warned.\n\n    c8 d\n    \\set Score.skipTypesetting = ##t\n    e8 e e e e e e e\n    \\set Score.skipTypesetting = ##f\n    c8 d b bes a g c2\n\nIn polyphonic music, Score.skipTypesetting will affect all voices and staves, saving even more time."},{label:"\\showKeySignature",detail:"Bagpipe definitions",documentation:'LilyPond contains special definitions for Scottish, Highland Bagpipe music; to use them, add\n\n    \\include "bagpipe.ly"\n\nto the top of your input file. This lets you add the special grace notes common to bagpipe music with short commands. For example, you could write \\taor instead of\n\n    \\grace { \\small G32[ d G e] }\n\n\u2018bagpipe.ly\u2019 also contains pitch definitions for the bagpipe notes in the appropriate octaves, so you do not need to worry about \\relative or \\transpose.\n\n    \\include "bagpipe.ly"\n    { \\grg G4 \\grg a \\grg b \\grg c \\grg d \\grg e \\grg f \\grA g A }\n\nBagpipe music nominally uses the key of D Major (even though that isn\u2019t really true). However, since that is the only key that can be used, the key signature is normally not written out. To set this up correctly, always start your music with \\hideKeySignature. If you for some reason want to show the key signature, you can use \\showKeySignature instead.\n\nSome modern music use cross fingering on c and f to flatten those notes. This can be indicated by cflat or fflat. Similarly, the piobaireachd high g can be written gflat when it occurs in light music.'},{label:"\\showLastLength",detail:"3.4.2 Skipping corrected music",documentation:"When entering or copying music, usually only the music near the end (where you are adding notes) is interesting to view and correct. To speed up this correction process, it is possible to skip typesetting of all but the last few measures. This is achieved by putting\n\n    showLastLength = R1*5\n    \\score { \u2026 }\n\nin your source file. This will render only the last 5 measures (assuming 4/4 time signature) of every \\score in the input file. For longer pieces, rendering only a small part is often an order of magnitude quicker than rendering it completely. When working on the beginning of a score you have already typeset (e.g. to add a new part), the showFirstLength property may be useful as well.\n\nSkipping parts of a score can be controlled in a more fine-grained fashion with the property Score.skipTypesetting. When it is set, no typesetting is performed at all.\n\nThis property is also used to control output to the MIDI file. Note that it skips all events, including tempo and instrument changes. You have been warned.\n\n    c8 d\n    \\set Score.skipTypesetting = ##t\n    e8 e e e e e e e\n    \\set Score.skipTypesetting = ##f\n    c8 d b bes a g c2\n\nIn polyphonic music, Score.skipTypesetting will affect all voices and staves, saving even more time."},{label:"\\showStaffSwitch",detail:"Staff-change lines",documentation:'Whenever a voice switches to another staff, a line connecting the notes can be printed automatically:\n\n    \\new PianoStaff <<\n      \\new Staff = "one" {\n        \\showStaffSwitch\n        c1\n        \\change Staff = "two"\n        b2 a\n      }\n      \\new Staff = "two" {\n        \\clef bass\n        s1*2\n      }\n    >>'},{label:"\\single",detail:"A.18 Available music functions",documentation:"Convert overrides to tweaks and apply them to music. This does not convert \\revert, \\set or \\unset."},{label:"\\skip",detail:"Invisible rests",documentation:"An invisible rest (also called a \u2018spacer rest\u2019) can be entered like a note with the note name\xa0s:\n\n    c4 c s c\n    s2 c"},{label:"\\skip",detail:"A.18 Available music functions",documentation:"Skip forward by dur."},{label:"\\skipTypesetting",detail:"3.4.2 Skipping corrected music",documentation:"When entering or copying music, usually only the music near the end (where you are adding notes) is interesting to view and correct. To speed up this correction process, it is possible to skip typesetting of all but the last few measures. This is achieved by putting\n\n    showLastLength = R1*5\n    \\score { \u2026 }\n\nin your source file. This will render only the last 5 measures (assuming 4/4 time signature) of every \\score in the input file. For longer pieces, rendering only a small part is often an order of magnitude quicker than rendering it completely. When working on the beginning of a score you have already typeset (e.g. to add a new part), the showFirstLength property may be useful as well.\n\nSkipping parts of a score can be controlled in a more fine-grained fashion with the property Score.skipTypesetting. When it is set, no typesetting is performed at all.\n\nThis property is also used to control output to the MIDI file. Note that it skips all events, including tempo and instrument changes. You have been warned.\n\n    c8 d\n    \\set Score.skipTypesetting = ##t\n    e8 e e e e e e e\n    \\set Score.skipTypesetting = ##f\n    c8 d b bes a g c2\n\nIn polyphonic music, Score.skipTypesetting will affect all voices and staves, saving even more time."},{label:"\\slashChordSeparator",detail:"Customizing chord names",documentation:""},{label:"\\slashedGrace",detail:"A.18 Available music functions",documentation:"Create slashed graces (slashes through stems, but no slur) from the following music expression"},{label:"\\slurDashed",detail:"Slurs",documentation:"Slurs can be solid, dotted, or dashed. Solid is the default slur style:\n\n    c4( e g2)\n    \\slurDashed\n    g4( e c2)\n    \\slurDotted\n    c4( e g2)\n    \\slurSolid\n    g4( e c2)"},{label:"\\slurDashPattern",detail:"Slurs",documentation:"Custom dash patterns for slurs can be defined:\n\n    c4( e g2)\n    \\slurDashPattern #0.7 #0.75\n    g4( e c2)\n    \\slurDashPattern #0.5 #2.0\n    c4( e g2)\n    \\slurSolid\n    g4( e c2)"},{label:"\\slurDashPattern",detail:"A.18 Available music functions",documentation:"Set up a custom style of dash pattern for dash-fraction ratio of line to space repeated at dash-period interval for slurs."},{label:"\\slurDotted",detail:"Slurs",documentation:"Slurs can be solid, dotted, or dashed. Solid is the default slur style:\n\n    c4( e g2)\n    \\slurDashed\n    g4( e c2)\n    \\slurDotted\n    c4( e g2)\n    \\slurSolid\n    g4( e c2)"},{label:"\\slurDown",detail:"Slurs",documentation:"Slurs may be manually placed above or below the staff; see Direction and placement."},{label:"\\slurHalfDashed",detail:"Slurs",documentation:"Slurs can also be made half-dashed (the first half dashed, the second half solid) or half-solid (the first half solid, the second half dashed):\n\n    c4( e g2)\n    \\slurHalfDashed\n    g4( e c2)\n    \\slurHalfSolid\n    c4( e g2)\n    \\slurSolid\n    g4( e c2)"},{label:"\\slurHalfSolid",detail:"Slurs",documentation:"Slurs can also be made half-dashed (the first half dashed, the second half solid) or half-solid (the first half solid, the second half dashed):\n\n    c4( e g2)\n    \\slurHalfDashed\n    g4( e c2)\n    \\slurHalfSolid\n    c4( e g2)\n    \\slurSolid\n    g4( e c2)"},{label:"\\slurNeutral",detail:"Slurs",documentation:"Slurs may be manually placed above or below the staff; see Direction and placement."},{label:"\\slurSolid",detail:"Slurs",documentation:"Slurs can be solid, dotted, or dashed. Solid is the default slur style:\n\n    c4( e g2)\n    \\slurDashed\n    g4( e c2)\n    \\slurDotted\n    c4( e g2)\n    \\slurSolid\n    g4( e c2)"},{label:"\\slurUp",detail:"Slurs",documentation:"\\slurUp, \\slurDown, \\slurNeutral, \\slurDashed, \\slurDotted, \\slurHalfDashed, \\slurHalfSolid, \\slurDashPattern, \\slurSolid."},{label:"\\small",detail:"Selecting notation font size",documentation:"The font size of notation elements may be altered. It does not change the size of variable symbols, such as beams or slurs.\n\nNote: For font sizes of text, see Selecting font and font size.\n\n\n\n    \\huge\n    c4.-> d8---3\n    \\large\n    c4.-> d8---3\n    \\normalsize\n    c4.-> d8---3\n    \\small\n    c4.-> d8---3\n    \\tiny\n    c4.-> d8---3\n    \\teeny\n    c4.-> d8---3\n\nInternally, this sets the fontSize property. This in turn causes the font-size property to be set in all layout objects. The value of font-size is a number indicating the size relative to the standard size for the current staff height. Each step up is an increase of approximately 12% of the font size. Six steps is exactly a factor of two. The Scheme function magstep converts a font-size number to a scaling factor. The font-size property can also be set directly, so that only certain layout objects are affected.\n\n    \\set fontSize = #3\n    c4.-> d8---3\n    \\override NoteHead.font-size = #-4\n    c4.-> d8---3\n    \\override Script.font-size = #2\n    c4.-> d8---3\n    \\override Stem.font-size = #-5\n    c4.-> d8---3"},{label:"\\small",detail:"Selecting font and font size",documentation:"\\teeny, \\tiny, \\small, \\normalsize, \\large, \\huge, \\smaller, \\larger."},{label:"\\smaller",detail:"Selecting font and font size",documentation:"The font size can be altered, relative to the global staff size, in a number of different ways\n\nIt can be set to predefined size,\n\n    b1_\\markup { \\huge Sinfonia }\n    b1^\\markup { \\teeny da }\n    b1-\\markup { \\normalsize camera }\n\nIt can be set relative to its previous value,\n\n    b1_\\markup { \\larger Sinfonia }\n    b1^\\markup { \\smaller da }\n    b1-\\markup { \\magnify #0.6  camera }\n\nIt can be increased or decreased relative to the value set by the global staff size,\n\n    b1_\\markup { \\fontsize #-2 Sinfonia }\n    b1^\\markup { \\fontsize #1 da }\n    b1-\\markup { \\fontsize #3 camera }\n\nIt can also be set to a fixed point-size, regardless of the global staff size,\n\n    b1_\\markup { \\abs-fontsize #20 Sinfonia }\n    b1^\\markup { \\abs-fontsize #8 da }\n    b1-\\markup { \\abs-fontsize #14 camera }"},{label:"\\smaller",detail:"Selecting font and font size",documentation:"\\teeny, \\tiny, \\small, \\normalsize, \\large, \\huge, \\smaller, \\larger."},{label:"\\sostenutoOff",detail:"Piano pedals",documentation:"Pianos generally have three pedals that alter the way sound is produced: sustain, sostenuto (sos.), and una corda (U.C.). Sustain pedals are also found on vibraphones and celestas.\n\n    c4\\sustainOn d e g\n    <c, f a>1\\sustainOff\n    c4\\sostenutoOn e g c,\n    <bes d f>1\\sostenutoOff\n    c4\\unaCorda d e g\n    <d fis a>1\\treCorde"},{label:"\\sostenutoOn",detail:"Piano pedals",documentation:"Pianos generally have three pedals that alter the way sound is produced: sustain, sostenuto (sos.), and una corda (U.C.). Sustain pedals are also found on vibraphones and celestas.\n\n    c4\\sustainOn d e g\n    <c, f a>1\\sustainOff\n    c4\\sostenutoOn e g c,\n    <bes d f>1\\sostenutoOff\n    c4\\unaCorda d e g\n    <d fis a>1\\treCorde"},{label:"\\southernHarmonyHeads",detail:"Shape note heads",documentation:"In shape note head notation, the shape of the note head corresponds to the harmonic function of a note in the scale. This notation was popular in nineteenth-century American song books. Shape note heads can be produced in Sacred Harp, Southern Harmony, Funk (Harmonica Sacra), Walker, and Aiken (Christian Harmony) styles:\n\n    \\aikenHeads\n    c, d e f g2 a b1 c \\break\n    \\sacredHarpHeads\n    c,4 d e f g2 a b1 c \\break\n    \\southernHarmonyHeads\n    c,4 d e f g2 a b1 c \\break\n    \\funkHeads\n    c,4 d e f g2 a b1 c \\break\n    \\walkerHeads\n    c,4 d e f g2 a b1 c \\break"},{label:"\\southernHarmonyHeadsMinor",detail:"Shape note heads",documentation:"Shapes are typeset according to the step in the scale, where the base of the scale is determined by the \\key command. When writing in a minor key, the scale step can be determined from the relative major:\n\n    \\key a \\minor\n    \\aikenHeads\n    a b c d e2 f g1 a \\break\n    \\aikenHeadsMinor\n    a,4 b c d e2 f g1 a \\break\n    \\sacredHarpHeadsMinor\n    a,2 b c d \\break\n    \\southernHarmonyHeadsMinor\n    a2 b c d \\break\n    \\funkHeadsMinor\n    a2 b c d \\break\n    \\walkerHeadsMinor\n    a2 b c d \\break"},{label:"\\sp",detail:"Dynamics",documentation:"Absolute dynamic marks are specified using a command after a note, such as c4\\ff. The available dynamic marks are \\ppppp, \\pppp, \\ppp, \\pp, \\p, \\mp, \\mf, \\f, \\ff, \\fff, \\ffff, \\fffff, \\fp, \\sf, \\sff, \\sp, \\spp, \\sfz, and \\rfz. Dynamic marks may be manually placed above or below the staff; see Direction and placement.\n\n    c2\\ppp c\\mp\n    c2\\rfz c^\\mf\n    c2_\\spp c^\\ff"},{label:"\\spacing",detail:"4.5.1 Horizontal spacing overview",documentation:"Notes that are even shorter than the common shortest note are followed by a space that is proportional to their duration relative to the common shortest note. So if we were to add only a few 16th notes to the example above, they would be followed by half a NHW:\n\n    c2 c4. c8 | c4. c16[ c] c4. c8 | c8 c c4 c c\n\nIn the Essay on automated music engraving, it was explained that stem directions influence spacing (see Optical spacing). This is controlled with the stem-spacing-correction property in the NoteSpacing, object. These are generated for every Voice context. The StaffSpacing object (generated in Staff context) contains the same property for controlling the stem/bar line spacing. The following example shows these corrections, once with default settings, and once with exaggerated corrections:\n\nProportional notation is supported; see Proportional notation."},{label:"\\spacingTweaks",detail:"A.18 Available music functions",documentation:"Set the system stretch, by reading the \u2019system-stretch property of the \u2018parameters\u2019 assoc list."},{label:"Span_stem_engraver",detail:"Cross-staff stems",documentation:"Chords that cross staves may be produced using the Span_stem_engraver. Care must be taken to ensure that automatic beams do not beam the notes on one staff when it\u2019s not required on the other.\n\n    \\layout {\n      \\context {\n        \\PianoStaff\n        \\consists #Span_stem_engraver\n      }\n    }\n    {\n      \\new PianoStaff <<\n        \\new Staff {\n          <b d'>4 r d'16\\> e'8. g8 r\\!\n          e'8 f' g'4 e'2\n        }\n        \\new Staff {\n          \\clef bass\n          \\voiceOne\n          \\autoBeamOff\n          \\crossStaff { <e g>4 e, g16 a8. c8} d\n          \\autoBeamOn\n          g8 f g4 c2\n        }\n      >>\n    }\n\nFor the time being, this engraver can not be specified by its name in double quotes, but rather prefixing its name with a hash symbol #, due to the way it is implemented."},{label:"\\spp",detail:"Dynamics",documentation:"Absolute dynamic marks are specified using a command after a note, such as c4\\ff. The available dynamic marks are \\ppppp, \\pppp, \\ppp, \\pp, \\p, \\mp, \\mf, \\f, \\ff, \\fff, \\ffff, \\fffff, \\fp, \\sf, \\sff, \\sp, \\spp, \\sfz, and \\rfz. Dynamic marks may be manually placed above or below the staff; see Direction and placement.\n\n    c2\\ppp c\\mp\n    c2\\rfz c^\\mf\n    c2_\\spp c^\\ff"},{label:"\\staff-affinity",detail:"Within-system spacing properties",documentation:"The within-system vertical spacing mechanisms are controlled by two sets of grob properties. The first set is associated with the VerticalAxisGroup grob, which is created by all staves and non-staff lines. The second set is associated with the StaffGrouper grob, which can be created by staff-groups, but only if explicitly called. These properties are described individually at the end of this section.\n\nThe names of these properties (except for staff-affinity) follow the format item1-item2-spacing, where item1 and item2 are the items to be spaced. Note that item2 is not necessarily below item1; for example, nonstaff-relatedstaff-spacing will measure upwards from the non-staff line if staff-affinity is UP.\n\nEach distance is measured between the reference points of the two items. The reference point for a staff is the vertical center of its StaffSymbol (i.e. the middle line if line-count is odd; the middle space if line-count is even). The reference points for individual non-staff lines are given in the following table:\n\nNon-staff line\tReference point\nChordNames\tbaseline\nNoteNames\tbaseline\nLyrics\tbaseline\nDynamics\tmid-height of \u2018m\u2019\nFiguredBass\thighest point\nFretBoards\ttop line\n\n\nIn the following image, horizontal lines indicate the positions of these reference points:\n\nEach of the vertical spacing grob properties (except staff-affinity) uses the same alist structure as the \\paper spacing variables discussed in Flexible vertical spacing \\paper variables. Specific methods for modifying alists are discussed in Modifying alists. Grob properties should be adjusted with an \\override inside a \\score or \\layout block, and not inside a \\paper block.\n\nThe following example demonstrates the two ways these alists can be modified. The first declaration updates one key-value individually, and the second completely re-defines the property:\n\n    \\new Staff \\with {\n      \\override VerticalAxisGroup.default-staff-staff-spacing.basic-distance = #10\n    } { \u2026 }\n    \\new Staff \\with {\n      \\override VerticalAxisGroup.default-staff-staff-spacing =\n        #'((basic-distance . 10)\n           (minimum-distance . 9)\n           (padding . 1)\n           (stretchability . 10))\n    } { \u2026 }\n\nTo change any spacing settings globally, put them in the \\layout block:\n\n    \\layout {\n      \\context {\n        \\Staff\n        \\override VerticalAxisGroup.default-staff-staff-spacing.basic-distance = #10\n      }\n    }\n\nStandard settings for the vertical spacing grob properties are listed in VerticalAxisGroup and StaffGrouper. Default overrides for specific types of non-staff lines are listed in the relevant context descriptions in Contexts."},{label:"\\staff-staff-spacing",detail:"Within-system spacing properties",documentation:"The within-system vertical spacing mechanisms are controlled by two sets of grob properties. The first set is associated with the VerticalAxisGroup grob, which is created by all staves and non-staff lines. The second set is associated with the StaffGrouper grob, which can be created by staff-groups, but only if explicitly called. These properties are described individually at the end of this section.\n\nThe names of these properties (except for staff-affinity) follow the format item1-item2-spacing, where item1 and item2 are the items to be spaced. Note that item2 is not necessarily below item1; for example, nonstaff-relatedstaff-spacing will measure upwards from the non-staff line if staff-affinity is UP.\n\nEach distance is measured between the reference points of the two items. The reference point for a staff is the vertical center of its StaffSymbol (i.e. the middle line if line-count is odd; the middle space if line-count is even). The reference points for individual non-staff lines are given in the following table:\n\nNon-staff line\tReference point\nChordNames\tbaseline\nNoteNames\tbaseline\nLyrics\tbaseline\nDynamics\tmid-height of \u2018m\u2019\nFiguredBass\thighest point\nFretBoards\ttop line\n\n\nIn the following image, horizontal lines indicate the positions of these reference points:\n\nEach of the vertical spacing grob properties (except staff-affinity) uses the same alist structure as the \\paper spacing variables discussed in Flexible vertical spacing \\paper variables. Specific methods for modifying alists are discussed in Modifying alists. Grob properties should be adjusted with an \\override inside a \\score or \\layout block, and not inside a \\paper block.\n\nThe following example demonstrates the two ways these alists can be modified. The first declaration updates one key-value individually, and the second completely re-defines the property:\n\n    \\new Staff \\with {\n      \\override VerticalAxisGroup.default-staff-staff-spacing.basic-distance = #10\n    } { \u2026 }\n    \\new Staff \\with {\n      \\override VerticalAxisGroup.default-staff-staff-spacing =\n        #'((basic-distance . 10)\n           (minimum-distance . 9)\n           (padding . 1)\n           (stretchability . 10))\n    } { \u2026 }\n\nTo change any spacing settings globally, put them in the \\layout block:\n\n    \\layout {\n      \\context {\n        \\Staff\n        \\override VerticalAxisGroup.default-staff-staff-spacing.basic-distance = #10\n      }\n    }\n\nStandard settings for the vertical spacing grob properties are listed in VerticalAxisGroup and StaffGrouper. Default overrides for specific types of non-staff lines are listed in the relevant context descriptions in Contexts."},{label:"Staff.midiInstrument",detail:"3.5.2 MIDI Instruments",documentation:'The MIDI instrument to be used is specified by setting the Staff.midiInstrument property to the instrument name. The name should be chosen from the list in MIDI instruments.\n\n    \\new Staff {\n      \\set Staff.midiInstrument = #"glockenspiel"\n      \u2026notes\u2026\n    }\n\n    \\new Staff \\with {midiInstrument = #"cello"} {\n      \u2026notes\u2026\n    }\n\nIf the selected instrument does not exactly match an instrument from the list of MIDI instruments, the Grand Piano ("acoustic grand") instrument is used.'},{label:"\\staffgroup-staff-spacing",detail:"Within-system spacing properties",documentation:"The within-system vertical spacing mechanisms are controlled by two sets of grob properties. The first set is associated with the VerticalAxisGroup grob, which is created by all staves and non-staff lines. The second set is associated with the StaffGrouper grob, which can be created by staff-groups, but only if explicitly called. These properties are described individually at the end of this section.\n\nThe names of these properties (except for staff-affinity) follow the format item1-item2-spacing, where item1 and item2 are the items to be spaced. Note that item2 is not necessarily below item1; for example, nonstaff-relatedstaff-spacing will measure upwards from the non-staff line if staff-affinity is UP.\n\nEach distance is measured between the reference points of the two items. The reference point for a staff is the vertical center of its StaffSymbol (i.e. the middle line if line-count is odd; the middle space if line-count is even). The reference points for individual non-staff lines are given in the following table:\n\nNon-staff line\tReference point\nChordNames\tbaseline\nNoteNames\tbaseline\nLyrics\tbaseline\nDynamics\tmid-height of \u2018m\u2019\nFiguredBass\thighest point\nFretBoards\ttop line\n\n\nIn the following image, horizontal lines indicate the positions of these reference points:\n\nEach of the vertical spacing grob properties (except staff-affinity) uses the same alist structure as the \\paper spacing variables discussed in Flexible vertical spacing \\paper variables. Specific methods for modifying alists are discussed in Modifying alists. Grob properties should be adjusted with an \\override inside a \\score or \\layout block, and not inside a \\paper block.\n\nThe following example demonstrates the two ways these alists can be modified. The first declaration updates one key-value individually, and the second completely re-defines the property:\n\n    \\new Staff \\with {\n      \\override VerticalAxisGroup.default-staff-staff-spacing.basic-distance = #10\n    } { \u2026 }\n    \\new Staff \\with {\n      \\override VerticalAxisGroup.default-staff-staff-spacing =\n        #'((basic-distance . 10)\n           (minimum-distance . 9)\n           (padding . 1)\n           (stretchability . 10))\n    } { \u2026 }\n\nTo change any spacing settings globally, put them in the \\layout block:\n\n    \\layout {\n      \\context {\n        \\Staff\n        \\override VerticalAxisGroup.default-staff-staff-spacing.basic-distance = #10\n      }\n    }\n\nStandard settings for the vertical spacing grob properties are listed in VerticalAxisGroup and StaffGrouper. Default overrides for specific types of non-staff lines are listed in the relevant context descriptions in Contexts."},{label:"Staff_symbol_engraver",detail:"Hiding staves",documentation:"Staff lines can be hidden by removing the Staff_symbol_engraver from the Staff context. As an alternative, \\stopStaff may be used.\n\n    \\new Staff \\with {\n      \\remove \"Staff_symbol_engraver\"\n    }\n    \\relative c''' { a8 f e16 d c b a2 }\n\nEmpty staves can be hidden by setting the \\Staff \\RemoveEmptyStaves command in the \\layout block. In orchestral scores, this style is known as \u2018Frenched Score\u2019. By default, this command hides and removes all empty staves in a score except for those in the first system.\n\nNote: A staff is considered empty when it contains only multi-measure rests, rests, skips, spacer rests, or a combination of these elements.\n\n\n\n    \\layout {\n      \\context {\n        \\Staff \\RemoveEmptyStaves\n      }\n    }\n    \\relative c' <<\n      \\new Staff {\n        e4 f g a \\break\n        b1 \\break\n        a4 b c2\n      }\n      \\new Staff {\n        c,4 d e f \\break\n        R1 \\break\n        f4 g c,2\n      }\n    >>"},{label:"\\start-repeat",detail:"Manual repeat marks",documentation:"The property repeatCommands can be used to control the layout of repeats. Its value is a Scheme list of repeat commands.\n\nstart-repeat\nPrint a .|: bar line.\n\nc1\n\\set Score.repeatCommands = #'(start-repeat)\nd4 e f g\nc1\n \n\nAs per standard engraving practice, repeat signs are not printed at the beginning of a piece.\n\nend-repeat\nPrint a :|. bar line:\n\nc1\nd4 e f g\n\\set Score.repeatCommands = #'(end-repeat)\nc1\n \n\n(volta number) \u2026 (volta #f)\nCreate a new volta with the specified number. The volta bracket must be explicitly terminated, or it will not be printed.\n\nf4 g a b\n\\set Score.repeatCommands = #'((volta \"2\"))\ng4 a g a\n\\set Score.repeatCommands = #'((volta #f))\nc1\n \n\n\n\nMultiple repeat commands may occur at the same point:\n\n    f4 g a b\n    \\set Score.repeatCommands = #'((volta \"2, 5\") end-repeat)\n    g4 a g a\n    c1\n    \\set Score.repeatCommands = #'((volta #f) (volta \"95\") end-repeat)\n    b1\n    \\set Score.repeatCommands = #'((volta #f))"},{label:"\\startGroup",detail:"Analysis brackets",documentation:"Brackets are used in musical analysis to indicate structure in musical pieces. Simple horizontal brackets are supported.\n\n    \\layout {\n      \\context {\n        \\Voice\n        \\consists \"Horizontal_bracket_engraver\"\n      }\n    }\n    \\relative c'' {\n      c2\\startGroup\n      d\\stopGroup\n    }\n\nAnalysis brackets may be nested.\n\n    \\layout {\n      \\context {\n        \\Voice\n        \\consists \"Horizontal_bracket_engraver\"\n      }\n    }\n    \\relative c'' {\n      c4\\startGroup\\startGroup\n      d4\\stopGroup\n      e4\\startGroup\n      d4\\stopGroup\\stopGroup\n    }"},{label:"\\startStaff",detail:"Staff symbol",documentation:"The \\stopStaff and \\startStaff commands can be used to stop or (re)start the staff lines respectively, from being printed at any point witin a score.\n\n    \\stopStaff f4 d \\startStaff g, e\n    f'4 d \\stopStaff g, e\n    f'4 d \\startStaff g, e"},{label:"\\startStaff",detail:"Ossia staves",documentation:'Ossia staves can be set by creating a new simultaneous staff in the appropriate location:\n\n    \\new Staff \\relative c\'\' {\n      c4 b d c\n      <<\n        { c4 b d c }\n        \\new Staff { e4 d f e }\n      >>\n      c4 b c2\n    }\n\nHowever, the above example is not what is usually desired. To create ossia staves that are above the original staff, have no time signature or clef, and have a smaller font size, tweaks must be used. The Learning Manual describes a specific technique to achieve this goal, beginning with Nesting music expressions.\n\nThe following example uses the alignAboveContext property to align the ossia staff. This method is most appropriate when only a few ossia staves are needed.\n\n    \\new Staff = "main" \\relative c\'\' {\n      c4 b d c\n      <<\n        { c4 b d c }\n        \\new Staff \\with {\n          \\remove "Time_signature_engraver"\n          alignAboveContext = #"main"\n          fontSize = #-3\n          \\override StaffSymbol.staff-space = #(magstep -3)\n          \\override StaffSymbol.thickness = #(magstep -3)\n          firstClef = ##f\n        }\n        { e4 d f e }\n      >>\n      c4 b c2\n    }\n\nIf many isolated ossia staves are needed, creating an empty Staff context with a specific context id may be more appropriate; the ossia staves may then be created by calling this context and using \\startStaff and \\stopStaff at the desired locations. The benefits of this method are more apparent if the piece is longer than the following example.\n\n    <<\n      \\new Staff = "ossia" \\with {\n        \\remove "Time_signature_engraver"\n        \\hide Clef\n        fontSize = #-3\n        \\override StaffSymbol.staff-space = #(magstep -3)\n        \\override StaffSymbol.thickness = #(magstep -3)\n      }\n      { \\stopStaff s1*6 }\n      \\new Staff \\relative c\' {\n        c4 b c2\n        <<\n          { e4 f e2 }\n          \\context Staff = "ossia" {\n            \\startStaff e4 g8 f e2 \\stopStaff\n          }\n        >>\n        g4 a g2 \\break\n        c4 b c2\n        <<\n          { g4 a g2 }\n          \\context Staff = "ossia" {\n            \\startStaff g4 e8 f g2 \\stopStaff\n          }\n        >>\n        e4 d c2\n      }\n    >>\n\nUsing the \\Staff \\RemoveEmptyStaves command to create ossia staves may be used as an alternative. This method is most convenient when ossia staves occur immediately following a line break. For more information about \\Staff \\RemoveEmptyStaves, see Hiding staves.\n\n    <<\n      \\new Staff = "ossia" \\with {\n        \\remove "Time_signature_engraver"\n        \\hide Clef\n        fontSize = #-3\n        \\override StaffSymbol.staff-space = #(magstep -3)\n        \\override StaffSymbol.thickness = #(magstep -3)\n      } \\relative c\'\' {\n        R1*3\n        c4 e8 d c2\n      }\n      \\new Staff \\relative c\' {\n        c4 b c2\n        e4 f e2\n        g4 a g2 \\break\n        c4 b c2\n        g4 a g2\n        e4 d c2\n      }\n    >>\n    \\layout {\n      \\context {\n        \\Staff \\RemoveEmptyStaves\n        \\override VerticalAxisGroup.remove-first = ##t\n      }\n    }'},{label:"\\startTrillSpan",detail:"Trills",documentation:"Short trills without an extender line are printed with \\trill; see Articulations and ornamentations.\n\nLonger trills with an extender line are made with \\startTrillSpan and \\stopTrillSpan:\n\n    d1\\startTrillSpan\n    d1\n    c2\\stopTrillSpan\n    r2\n\nA trill spanner crossing a line break will restart exactly above the first note on the new line.\n\n    d1\\startTrillSpan\n    \\break\n    d1\n    c2\\stopTrillSpan\n    r2\n\nConsecutive trill spans will work without explicit \\stopTrillSpan commands, since successive trill spanners will automatically become the right bound of the previous trill.\n\n    d1\\startTrillSpan\n    d1\n    b1\\startTrillSpan\n    d2\\stopTrillSpan\n    r2\n\nTrills can also be combined with grace notes. The syntax of this construct and the method to precisely position the grace notes are described in Grace notes.\n\n    d1~\\afterGrace\n    d1\\startTrillSpan { c32[ d]\\stopTrillSpan }\n    c2 r2"},{label:"Stem",detail:"Cross-staff stems",documentation:"Chords that cross staves may be produced using the Span_stem_engraver. Care must be taken to ensure that automatic beams do not beam the notes on one staff when it\u2019s not required on the other.\n\n    \\layout {\n      \\context {\n        \\PianoStaff\n        \\consists #Span_stem_engraver\n      }\n    }\n    {\n      \\new PianoStaff <<\n        \\new Staff {\n          <b d'>4 r d'16\\> e'8. g8 r\\!\n          e'8 f' g'4 e'2\n        }\n        \\new Staff {\n          \\clef bass\n          \\voiceOne\n          \\autoBeamOff\n          \\crossStaff { <e g>4 e, g16 a8. c8} d\n          \\autoBeamOn\n          g8 f g4 c2\n        }\n      >>\n    }\n\nFor the time being, this engraver can not be specified by its name in double quotes, but rather prefixing its name with a hash symbol #, due to the way it is implemented."},{label:"\\stem-spacing-correction",detail:"4.5.1 Horizontal spacing overview",documentation:"Notes that are even shorter than the common shortest note are followed by a space that is proportional to their duration relative to the common shortest note. So if we were to add only a few 16th notes to the example above, they would be followed by half a NHW:\n\n    c2 c4. c8 | c4. c16[ c] c4. c8 | c8 c c4 c c\n\nIn the Essay on automated music engraving, it was explained that stem directions influence spacing (see Optical spacing). This is controlled with the stem-spacing-correction property in the NoteSpacing, object. These are generated for every Voice context. The StaffSpacing object (generated in Staff context) contains the same property for controlling the stem/bar line spacing. The following example shows these corrections, once with default settings, and once with exaggerated corrections:\n\nProportional notation is supported; see Proportional notation."},{label:"\\stemDown",detail:"Stems",documentation:"Whenever a note is found, a Stem object is created automatically. For whole notes and rests, they are also created but made invisible.\n\nStems may be manually placed to point up or down; see Direction and placement."},{label:"\\stemLeftBeamCount",detail:"Manual beams",documentation:"Even more strict manual control with the beams can be achieved by setting the properties stemLeftBeamCount and stemRightBeamCount. They specify the number of beams to draw on the left and right side, respectively, of the next note. If either property is set, its value will be used only once, and then it is erased. In this example, the last f is printed with only one beam on the left side, i.e., the eighth-note beam of the group as a whole.\n\n    a8[ r16 f g a]\n    a8[ r16\n    \\set stemLeftBeamCount = #2\n    \\set stemRightBeamCount = #1\n    f16\n    \\set stemLeftBeamCount = #1\n    g16 a]"},{label:"\\stemNeutral",detail:"Stems",documentation:"Whenever a note is found, a Stem object is created automatically. For whole notes and rests, they are also created but made invisible.\n\nStems may be manually placed to point up or down; see Direction and placement."},{label:"\\stemRightBeamCount",detail:"Manual beams",documentation:"Even more strict manual control with the beams can be achieved by setting the properties stemLeftBeamCount and stemRightBeamCount. They specify the number of beams to draw on the left and right side, respectively, of the next note. If either property is set, its value will be used only once, and then it is erased. In this example, the last f is printed with only one beam on the left side, i.e., the eighth-note beam of the group as a whole.\n\n    a8[ r16 f g a]\n    a8[ r16\n    \\set stemLeftBeamCount = #2\n    \\set stemRightBeamCount = #1\n    f16\n    \\set stemLeftBeamCount = #1\n    g16 a]"},{label:"\\stemUp",detail:"Stems",documentation:"Whenever a note is found, a Stem object is created automatically. For whole notes and rests, they are also created but made invisible.\n\nStems may be manually placed to point up or down; see Direction and placement."},{label:"\\stopGroup",detail:"Analysis brackets",documentation:"Brackets are used in musical analysis to indicate structure in musical pieces. Simple horizontal brackets are supported.\n\n    \\layout {\n      \\context {\n        \\Voice\n        \\consists \"Horizontal_bracket_engraver\"\n      }\n    }\n    \\relative c'' {\n      c2\\startGroup\n      d\\stopGroup\n    }\n\nAnalysis brackets may be nested.\n\n    \\layout {\n      \\context {\n        \\Voice\n        \\consists \"Horizontal_bracket_engraver\"\n      }\n    }\n    \\relative c'' {\n      c4\\startGroup\\startGroup\n      d4\\stopGroup\n      e4\\startGroup\n      d4\\stopGroup\\stopGroup\n    }"},{label:"\\stopStaff",detail:"Staff symbol",documentation:"The \\stopStaff and \\startStaff commands can be used to stop or (re)start the staff lines respectively, from being printed at any point witin a score.\n\n    \\stopStaff f4 d \\startStaff g, e\n    f'4 d \\stopStaff g, e\n    f'4 d \\startStaff g, e"},{label:"\\stopStaff",detail:"Ossia staves",documentation:'Ossia staves can be set by creating a new simultaneous staff in the appropriate location:\n\n    \\new Staff \\relative c\'\' {\n      c4 b d c\n      <<\n        { c4 b d c }\n        \\new Staff { e4 d f e }\n      >>\n      c4 b c2\n    }\n\nHowever, the above example is not what is usually desired. To create ossia staves that are above the original staff, have no time signature or clef, and have a smaller font size, tweaks must be used. The Learning Manual describes a specific technique to achieve this goal, beginning with Nesting music expressions.\n\nThe following example uses the alignAboveContext property to align the ossia staff. This method is most appropriate when only a few ossia staves are needed.\n\n    \\new Staff = "main" \\relative c\'\' {\n      c4 b d c\n      <<\n        { c4 b d c }\n        \\new Staff \\with {\n          \\remove "Time_signature_engraver"\n          alignAboveContext = #"main"\n          fontSize = #-3\n          \\override StaffSymbol.staff-space = #(magstep -3)\n          \\override StaffSymbol.thickness = #(magstep -3)\n          firstClef = ##f\n        }\n        { e4 d f e }\n      >>\n      c4 b c2\n    }\n\nIf many isolated ossia staves are needed, creating an empty Staff context with a specific context id may be more appropriate; the ossia staves may then be created by calling this context and using \\startStaff and \\stopStaff at the desired locations. The benefits of this method are more apparent if the piece is longer than the following example.\n\n    <<\n      \\new Staff = "ossia" \\with {\n        \\remove "Time_signature_engraver"\n        \\hide Clef\n        fontSize = #-3\n        \\override StaffSymbol.staff-space = #(magstep -3)\n        \\override StaffSymbol.thickness = #(magstep -3)\n      }\n      { \\stopStaff s1*6 }\n      \\new Staff \\relative c\' {\n        c4 b c2\n        <<\n          { e4 f e2 }\n          \\context Staff = "ossia" {\n            \\startStaff e4 g8 f e2 \\stopStaff\n          }\n        >>\n        g4 a g2 \\break\n        c4 b c2\n        <<\n          { g4 a g2 }\n          \\context Staff = "ossia" {\n            \\startStaff g4 e8 f g2 \\stopStaff\n          }\n        >>\n        e4 d c2\n      }\n    >>\n\nUsing the \\Staff \\RemoveEmptyStaves command to create ossia staves may be used as an alternative. This method is most convenient when ossia staves occur immediately following a line break. For more information about \\Staff \\RemoveEmptyStaves, see Hiding staves.\n\n    <<\n      \\new Staff = "ossia" \\with {\n        \\remove "Time_signature_engraver"\n        \\hide Clef\n        fontSize = #-3\n        \\override StaffSymbol.staff-space = #(magstep -3)\n        \\override StaffSymbol.thickness = #(magstep -3)\n      } \\relative c\'\' {\n        R1*3\n        c4 e8 d c2\n      }\n      \\new Staff \\relative c\' {\n        c4 b c2\n        e4 f e2\n        g4 a g2 \\break\n        c4 b c2\n        g4 a g2\n        e4 d c2\n      }\n    >>\n    \\layout {\n      \\context {\n        \\Staff \\RemoveEmptyStaves\n        \\override VerticalAxisGroup.remove-first = ##t\n      }\n    }'},{label:"\\stopStaff",detail:"Hiding staves",documentation:"Staff lines can be hidden by removing the Staff_symbol_engraver from the Staff context. As an alternative, \\stopStaff may be used.\n\n    \\new Staff \\with {\n      \\remove \"Staff_symbol_engraver\"\n    }\n    \\relative c''' { a8 f e16 d c b a2 }\n\nEmpty staves can be hidden by setting the \\Staff \\RemoveEmptyStaves command in the \\layout block. In orchestral scores, this style is known as \u2018Frenched Score\u2019. By default, this command hides and removes all empty staves in a score except for those in the first system.\n\nNote: A staff is considered empty when it contains only multi-measure rests, rests, skips, spacer rests, or a combination of these elements.\n\n\n\n    \\layout {\n      \\context {\n        \\Staff \\RemoveEmptyStaves\n      }\n    }\n    \\relative c' <<\n      \\new Staff {\n        e4 f g a \\break\n        b1 \\break\n        a4 b c2\n      }\n      \\new Staff {\n        c,4 d e f \\break\n        R1 \\break\n        f4 g c,2\n      }\n    >>"},{label:"\\stopTrillSpan",detail:"Trills",documentation:"Short trills without an extender line are printed with \\trill; see Articulations and ornamentations.\n\nLonger trills with an extender line are made with \\startTrillSpan and \\stopTrillSpan:\n\n    d1\\startTrillSpan\n    d1\n    c2\\stopTrillSpan\n    r2\n\nA trill spanner crossing a line break will restart exactly above the first note on the new line.\n\n    d1\\startTrillSpan\n    \\break\n    d1\n    c2\\stopTrillSpan\n    r2\n\nConsecutive trill spans will work without explicit \\stopTrillSpan commands, since successive trill spanners will automatically become the right bound of the previous trill.\n\n    d1\\startTrillSpan\n    d1\n    b1\\startTrillSpan\n    d2\\stopTrillSpan\n    r2\n\nTrills can also be combined with grace notes. The syntax of this construct and the method to precisely position the grace notes are described in Grace notes.\n\n    d1~\\afterGrace\n    d1\\startTrillSpan { c32[ d]\\stopTrillSpan }\n    c2 r2"},{label:"\\storePredefinedDiagram",detail:"Predefined fret diagrams",documentation:"In addition to fret diagrams, LilyPond stores an internal list of chord shapes. The chord shapes are fret diagrams that can be shifted along the neck to different positions to provide different chords. Chord shapes can be added to the internal list and then used to define predefined fret diagrams. Because they can be moved to various positions on the neck, chord shapes will normally not contain any open strings. Like fret diagrams, chord shapes can be entered as either fret-diagram-terse strings or fret-diagram-verbose marking lists.\n\n    \\include \"predefined-guitar-fretboards.ly\"\n    % Add a new chord shape\n    \\addChordShape #'powerf #guitar-tuning #\"1-1;3-3;3-4;x;x;x;\"\n    % add some new chords based on the power chord shape\n    \\storePredefinedDiagram #default-fret-table\n                            \\chordmode { f'' }\n                            #guitar-tuning\n                            #(chord-shape 'powerf guitar-tuning)\n    \\storePredefinedDiagram #default-fret-table\n                            \\chordmode { g'' }\n                            #guitar-tuning\n                            #(offset-fret 2 (chord-shape 'powerf guitar-tuning))\n    mychords = \\chordmode{\n      f1 f'' g g''\n    }\n    <<\n      \\new ChordNames {\n        \\mychords\n      }\n      \\new FretBoards {\n        \\mychords\n      }\n    >>\n\nThe graphical layout of a fret diagram can be customized according to user preference through the properties of the fret-diagram-interface. Details are found at fret-diagram-interface. For a predefined fret diagram, the interface properties belong to FretBoards.FretBoard."},{label:"\\storePredefinedDiagram",detail:"A.18 Available music functions",documentation:"Add predefined fret diagram defined by diagram-definition for the chord pitches chord and the stringTuning tuning."},{label:"\\stringTuning",detail:"Custom tablatures",documentation:"Any desired string tuning can be created. The \\stringTuning function can be used to define a string tuning which can be used to set stringTunings for the current context.\n\nIts argument is a chord construct defining the pitches of each string in the tuning. The chord construct must be in absolute octave mode, see Absolute octave entry. The string with the highest number (generally the lowest string) must come first in the chord. For example, we can define a string tuning for a four-string instrument with pitches of a'', d'', g', and c':\n\n    mynotes = {\n      c'4 e' g' c'' |\n      e''4 g'' b'' c'''\n    }\n    <<\n      \\new Staff {\n        \\clef treble\n        \\mynotes\n      }\n      \\new TabStaff {\n        \\set Staff.stringTunings = \\stringTuning <c' g' d'' a''>\n        \\mynotes\n      }\n    >>\n\nThe stringTunings property is also used by FretBoards to calculate automatic fret diagrams.\n\nString tunings are used as part of the hash key for predefined fret diagrams (see Predefined fret diagrams).\n\nThe previous example could also be written as follows:\n\n    custom-tuning = \\stringTuning <c' g' d'' a''>\n    mynotes = {\n      c'4 e' g' c'' |\n      e''4 g'' b'' c'''\n    }\n    <<\n      \\new Staff {\n        \\clef treble\n        \\mynotes\n      }\n      \\new TabStaff {\n        \\set TabStaff.stringTunings = #custom-tuning\n        \\mynotes\n      }\n    >>\n\nInternally, a string tuning is a Scheme list of string pitches, one for each string, ordered by string number from 1 to N, where string 1 is at the top of the tablature staff and string N is at the bottom. This ordinarily results in ordering from highest pitch to lowest pitch, but some instruments (e.g. ukulele) do not have strings ordered by pitch.\n\nA string pitch in a string tuning list is a LilyPond pitch object. Pitch objects are created with the Scheme function ly:make-pitch (see Scheme functions).\n\n\\stringTuning creates such an object from chord input.\n\nLilyPond automatically calculates the number of lines in the TabStaff and the number of strings in an automatically calculated FretBoard as the number of elements in stringTunings.\n\nTo let all TabStaff contexts use the same custom tuning by default, you can use\n\n    \\layout {\n      \\context {\n        \\TabStaff\n        stringTunings = \\stringTuning <c' g' d'' a''>\n      }\n    }"},{label:"\\stringTuning",detail:"A.18 Available music functions",documentation:"Convert chord to a string tuning. chord must be in absolute pitches and should have the highest string number (generally the lowest pitch) first."},{label:"\\stringTunings",detail:"Custom tablatures",documentation:'LilyPond tablature automatically calculates the fret for a note based on the string to which the note is assigned. In order to do this, the tuning of the strings must be specified. The tuning of the strings is given in the stringTunings property.\n\nLilyPond comes with predefined string tunings for banjo, mandolin, guitar, bass guitar, ukulele, violin, viola, cello, and double bass. LilyPond automatically sets the correct transposition for predefined tunings. The following example is for bass guitar, which sounds an octave lower than written.\n\n    <<\n      \\new Voice \\with {\n        \\omit StringNumber\n      } {\n        \\clef "bass_8"\n        \\relative c, {\n          c4 d e f\n        }\n      }\n      \\new TabStaff \\with {\n        stringTunings = #bass-tuning\n      } {\n        \\relative c, {\n          c4 d e f\n        }\n      }\n    >>\n\nThe default string tuning is guitar-tuning, which is the standard EADGBE tuning. Some other predefined tunings are guitar-open-g-tuning, mandolin-tuning and banjo-open-g-tuning. The predefined string tunings are found in \u2018ly/string-tunings-init.ly\u2019.'},{label:"\\stringTunings",detail:"Predefined fret diagrams",documentation:'Fret diagrams can be displayed using the FretBoards context. By default, the FretBoards context will display fret diagrams that are stored in a lookup table:\n\n    \\include "predefined-guitar-fretboards.ly"\n    \\new FretBoards {\n      \\chordmode {\n        c1 d\n      }\n    }\n\nThe default predefined fret diagrams are contained in the file \u2018predefined-guitar-fretboards.ly\u2019. Fret diagrams are stored based on the pitches of a chord and the value of stringTunings that is currently in use. \u2018predefined-guitar-fretboards.ly\u2019 contains predefined fret diagrams only for guitar-tuning. Predefined fret diagrams can be added for other instruments or other tunings by following the examples found in \u2018predefined-guitar-fretboards.ly\u2019.\n\nFret diagrams for the ukulele are contained in the file \n\u2018predefined-ukulele-fretboards.ly\u2019.\n\n    \\include "predefined-ukulele-fretboards.ly"\n    myChords = \\chordmode { a1 a:m a:aug }\n    \\new ChordNames {\n      \\myChords\n    }\n    \\new FretBoards {\n      \\set Staff.stringTunings = #ukulele-tuning\n      \\myChords\n    }\n\nFret diagrams for the mandolin are contained in the file \n\u2018predefined-mandolin-fretboards.ly\u2019.\n\n    \\include "predefined-mandolin-fretboards.ly"\n    myChords = \\chordmode { c1 c:m7.5- c:aug }\n    \\new ChordNames {\n      \\myChords\n    }\n    \\new FretBoards {\n      \\set Staff.stringTunings = #mandolin-tuning\n      \\myChords\n    }\n\nChord pitches can be entered either as simultaneous music or using chord mode (see Chord mode overview).\n\n    \\include "predefined-guitar-fretboards.ly"\n    \\new FretBoards {\n      \\chordmode { c1 }\n      <c\' e\' g\'>1\n    }'},{label:"\\styledNoteHeads",detail:"A.18 Available music functions",documentation:"Set heads in music to style."},{label:"\\sub",detail:"Selecting font and font size",documentation:"Text may be printed as subscript or superscript. By default these are printed in a smaller size, but a normal size can be used as well:\n\n    \\markup {\n      \\column {\n        \\line { 1 \\super st movement }\n        \\line { 1 \\normal-size-super st movement\n          \\sub { (part two) }  }\n      }\n    }"},{label:"\\suggestAccidentals",detail:"Annotational accidentals (musica ficta)",documentation:"This will treat every subsequent accidental as musica ficta until it is unset with \\set suggestAccidentals = ##f. A more practical way is to use \\once \\set suggestAccidentals = ##t, which can even be defined as a convenient shorthand:\n\n    ficta = { \\once \\set suggestAccidentals = ##t }\n    \\score { \\relative c''\n      \\new MensuralVoice  {\n        \\once \\set suggestAccidentals = ##t\n        bes4 a2 g2 \\ficta fis8 \\ficta e! fis2 g1\n      }\n    }"},{label:"\\super",detail:"Selecting font and font size",documentation:"Text may be printed as subscript or superscript. By default these are printed in a smaller size, but a normal size can be used as well:\n\n    \\markup {\n      \\column {\n        \\line { 1 \\super st movement }\n        \\line { 1 \\normal-size-super st movement\n          \\sub { (part two) }  }\n      }\n    }"},{label:"\\sus",detail:"Extended and altered chords",documentation:"The modifier sus can be added to the modifier string to create suspended chords. This removes the 3rd step from the chord. Append either 2 or 4 to add the 2nd or 4th step to the chord. sus is equivalent to ^3; sus4 is equivalent to .4^3.\n\n    \\chordmode {\n      c1:sus c:sus2 c:sus4 c:5.4^3\n    }"},{label:"\\sustainOff",detail:"Piano pedals",documentation:"Pianos generally have three pedals that alter the way sound is produced: sustain, sostenuto (sos.), and una corda (U.C.). Sustain pedals are also found on vibraphones and celestas.\n\n    c4\\sustainOn d e g\n    <c, f a>1\\sustainOff\n    c4\\sostenutoOn e g c,\n    <bes d f>1\\sostenutoOff\n    c4\\unaCorda d e g\n    <d fis a>1\\treCorde"},{label:"\\sustainOn",detail:"Piano pedals",documentation:"Pianos generally have three pedals that alter the way sound is produced: sustain, sostenuto (sos.), and una corda (U.C.). Sustain pedals are also found on vibraphones and celestas.\n\n    c4\\sustainOn d e g\n    <c, f a>1\\sustainOff\n    c4\\sostenutoOn e g c,\n    <bes d f>1\\sostenutoOff\n    c4\\unaCorda d e g\n    <d fis a>1\\treCorde"},{label:"\\system-count",detail:"\\paper variables for line breaking",documentation:"The number of systems to be used for a score. Default: unset. This variable can also be set in a \\layout block."},{label:"\\system-separator-markup",detail:"Miscellaneous \\paper variables",documentation:"A markup object that is inserted between systems, often used for orchestral scores. Default: unset. The \\slashSeparator markup, defined in \u2018ly/titling-init.ly\u2019, is provided as a sensible default, for example:\n\n    #(set-default-paper-size \"a8\")\n    \\book {\n      \\paper {\n        system-separator-markup = \\slashSeparator\n      }\n      \\header {\n        tagline = ##f\n      }\n      \\score {\n        \\relative c'' { c1 \\break c1 \\break c1 }\n      }\n    }"},{label:"\\system-system-spacing",detail:"List of flexible vertical spacing \\paper variables",documentation:"the distance between two systems in the same score."},{label:"\\systems-per-page",detail:"\\paper variables for line breaking",documentation:"The number of systems that should be placed on each page. This is currently supported only by the ly:optimal-breaking algorithm. Default: unset."},{label:"\\tabChordRepeats",detail:"A.18 Available music functions",documentation:"Walk through music putting the notes, fingerings and string numbers of the previous chord into repeat chords, as well as an optional list of event-types such as #'(articulation-event)."},{label:"\\tabChordRepetition",detail:"A.18 Available music functions",documentation:"Include the string and fingering information in a chord repetition. This function is deprecated; try using \\tabChordRepeats instead."},{label:"TabStaff",detail:"Instantiating new staves",documentation:"Staves (singular: staff) are created with the \\new or \\context commands. For details, see Creating and referencing contexts.\n\nThe basic staff context is Staff:\n\n    \\new Staff { c4 d e f }\n\nThe DrumStaff context creates a five-line staff set up for a typical drum set. Each instrument is shown with a different symbol. The instruments are entered in drum mode following a \\drummode command, with each instrument specified by name. For details, see Percussion staves.\n\n    \\new DrumStaff {\n      \\drummode { cymc hh ss tomh }\n    }\n\nRhythmicStaff creates a single-line staff that only displays the rhythmic values of the input. Real durations are preserved. For details, see Showing melody rhythms.\n\n    \\new RhythmicStaff { c4 d e f }\n\nTabStaff creates a tablature with six strings in standard guitar tuning. For details, see Default tablatures.\n\n    \\new TabStaff { c4 d e f }\n\nThere are two staff contexts specific for the notation of ancient music: MensuralStaff and VaticanaStaff. They are described in Pre-defined contexts.\n\nThe GregorianTranscriptionStaff context creates a staff to notate modern Gregorian chant. It does not show bar lines.\n\n    \\new GregorianTranscriptionStaff { c4 d e f e d }\n\nNew single staff contexts may be defined. For details, see Defining new contexts."},{label:"TabStaff",detail:"Default tablatures",documentation:"Music for plucked string instruments is frequently notated using a finger/touch notation or tablature. In contrast to traditional notation pitches are not denoted with note heads, but by numbers (or letter-like symbols in historical intavolatura). The staff lines in tablature indicate the string on which the note is to be played, and a number placed on a staff line indicated the fret at which the corresponding string is to be pressed. Notes that are to be played simultaneously are vertically aligned.\n\nBy default, string 1 is the highest string, and corresponds to the top line on the TabStaff. The tuning of the TabStaff strings defaults to the standard guitar tuning (with 6 strings). The notes are printed as tablature, by using TabStaff and TabVoice contexts. A calligraphic tablature clef is added automatically.\n\n    \\new TabStaff \\relative c' {\n      a,8 a' <c e> a\n      d,8 a' <d f> a\n    }\n\nDefault tablatures do not contain any symbols for tone duration nor any other musical symbols such as e.g. expressive marks.\n\n    symbols = {\n      \\time 3/4\n      c4-.^\"Allegro\" d( e)\n      f4-.\\f g a^\\fermata\n      \\mark \\default\n      c8_.\\<\\( c16 c~ c2\\!\n      c'2.\\prall\\)\n    }\n    \\score {\n      <<\n        \\new Staff { \\clef \"G_8\" \\symbols }\n        \\new TabStaff { \\symbols }\n      >>\n    }"},{label:"TabVoice",detail:"Default tablatures",documentation:"Music for plucked string instruments is frequently notated using a finger/touch notation or tablature. In contrast to traditional notation pitches are not denoted with note heads, but by numbers (or letter-like symbols in historical intavolatura). The staff lines in tablature indicate the string on which the note is to be played, and a number placed on a staff line indicated the fret at which the corresponding string is to be pressed. Notes that are to be played simultaneously are vertically aligned.\n\nBy default, string 1 is the highest string, and corresponds to the top line on the TabStaff. The tuning of the TabStaff strings defaults to the standard guitar tuning (with 6 strings). The notes are printed as tablature, by using TabStaff and TabVoice contexts. A calligraphic tablature clef is added automatically.\n\n    \\new TabStaff \\relative c' {\n      a,8 a' <c e> a\n      d,8 a' <d f> a\n    }\n\nDefault tablatures do not contain any symbols for tone duration nor any other musical symbols such as e.g. expressive marks.\n\n    symbols = {\n      \\time 3/4\n      c4-.^\"Allegro\" d( e)\n      f4-.\\f g a^\\fermata\n      \\mark \\default\n      c8_.\\<\\( c16 c~ c2\\!\n      c'2.\\prall\\)\n    }\n    \\score {\n      <<\n        \\new Staff { \\clef \"G_8\" \\symbols }\n        \\new TabStaff { \\symbols }\n      >>\n    }"},{label:"\\tag",detail:"A.18 Available music functions",documentation:"Tag the following music with tag and return the result, by adding the single symbol or symbol list tag to the tags property of music."},{label:"\\taor",detail:"Bagpipe definitions",documentation:'LilyPond contains special definitions for Scottish, Highland Bagpipe music; to use them, add\n\n    \\include "bagpipe.ly"\n\nto the top of your input file. This lets you add the special grace notes common to bagpipe music with short commands. For example, you could write \\taor instead of\n\n    \\grace { \\small G32[ d G e] }\n\n\u2018bagpipe.ly\u2019 also contains pitch definitions for the bagpipe notes in the appropriate octaves, so you do not need to worry about \\relative or \\transpose.\n\n    \\include "bagpipe.ly"\n    { \\grg G4 \\grg a \\grg b \\grg c \\grg d \\grg e \\grg f \\grA g A }\n\nBagpipe music nominally uses the key of D Major (even though that isn\u2019t really true). However, since that is the only key that can be used, the key signature is normally not written out. To set this up correctly, always start your music with \\hideKeySignature. If you for some reason want to show the key signature, you can use \\showKeySignature instead.\n\nSome modern music use cross fingering on c and f to flatten those notes. This can be indicated by cflat or fflat. Similarly, the piobaireachd high g can be written gflat when it occurs in light music.'},{label:"\\teaching",detail:"Automatic accidentals",documentation:"This rule is intended for students, and makes it easy to create scale sheets with automatically created cautionary accidentals. Accidentals are printed like with modern, but cautionary accidentals are added for all sharp or flat tones specified by the key signature, except if the note is immediately repeated."},{label:"\\teeny",detail:"Selecting notation font size",documentation:"The font size of notation elements may be altered. It does not change the size of variable symbols, such as beams or slurs.\n\nNote: For font sizes of text, see Selecting font and font size.\n\n\n\n    \\huge\n    c4.-> d8---3\n    \\large\n    c4.-> d8---3\n    \\normalsize\n    c4.-> d8---3\n    \\small\n    c4.-> d8---3\n    \\tiny\n    c4.-> d8---3\n    \\teeny\n    c4.-> d8---3\n\nInternally, this sets the fontSize property. This in turn causes the font-size property to be set in all layout objects. The value of font-size is a number indicating the size relative to the standard size for the current staff height. Each step up is an increase of approximately 12% of the font size. Six steps is exactly a factor of two. The Scheme function magstep converts a font-size number to a scaling factor. The font-size property can also be set directly, so that only certain layout objects are affected.\n\n    \\set fontSize = #3\n    c4.-> d8---3\n    \\override NoteHead.font-size = #-4\n    c4.-> d8---3\n    \\override Script.font-size = #2\n    c4.-> d8---3\n    \\override Stem.font-size = #-5\n    c4.-> d8---3"},{label:"\\teeny",detail:"Selecting font and font size",documentation:"\\teeny, \\tiny, \\small, \\normalsize, \\large, \\huge, \\smaller, \\larger."},{label:"\\tempo",detail:"Metronome marks",documentation:'A basic metronome mark is simple to write:\n\n    \\tempo 4 = 120\n    c2 d\n    e4. d8 c2\n\nMetronome marks may also be printed as a range of two numbers:\n\n    \\tempo 4 = 40 - 46\n    c4. e8 a4 g\n    b,2 d4 r\n\nTempo indications with text can be used instead:\n\n    \\tempo "Allegretto"\n    c4 e d c\n    b4. a16 b c4 r4\n\nCombining a metronome mark and text will automatically place the metronome mark within parentheses:\n\n    \\tempo "Allegro" 4 = 160\n    g4 c d e\n    d4 b g2\n\nIn general, the text can be any markup object:\n\n    \\tempo \\markup { \\italic Faster } 4 = 132\n    a8-. r8 b-. r gis-. r a-. r\n\nA parenthesized metronome mark with no textual indication may be written by including an empty string in the input:\n\n    \\tempo "" 8 = 96\n    d4 g e c'},{label:"\\temporary",detail:"A.18 Available music functions",documentation:"Make any \\override in music replace an existing grob property value only temporarily, restoring the old value when a corresponding \\revert is executed. This is achieved by clearing the \u2018pop-first\u2019 property normally set on \\overrides.\n\nAn \\override/\\revert sequence created by using \\temporary and \\undo on the same music containing overrides will cancel out perfectly or cause a\xa0warning.\n\nNon-property-related music is ignored, warnings are generated for any property-changing music that isn\u2019t an \\override."},{label:"\\text",detail:"Piano pedals",documentation:"There are three styles of pedal indications: text, bracket, and mixed. The sustain pedal and the una corda pedal use the text style by default while the sostenuto pedal uses mixed by default.\n\n    c4\\sustainOn g c2\\sustainOff\n    \\set Staff.pedalSustainStyle = #'mixed\n    c4\\sustainOn g c d\n    d\\sustainOff\\sustainOn g, c2\\sustainOff\n    \\set Staff.pedalSustainStyle = #'bracket\n    c4\\sustainOn g c d\n    d\\sustainOff\\sustainOn g, c2\n    \\bar \"|.\"\n\nThe placement of the pedal commands matches the physical movement of the sustain pedal during piano performance. Pedalling to the final bar line is indicated by omitting the final pedal off command.\n\nPedal indications may be placed in a Dynamics context, which aligns them on a horizontal line."},{label:"\\textLengthOff",detail:"Full measure rests",documentation:"\\textLengthOn, \\textLengthOff, \\fermataMarkup, \\compressFullBarRests, \\expandFullBarRests."},{label:"\\textLengthOff",detail:"Text scripts",documentation:"\\textLengthOn, \\textLengthOff."},{label:"\\textLengthOn",detail:"Full measure rests",documentation:"\\textLengthOn, \\textLengthOff, \\fermataMarkup, \\compressFullBarRests, \\expandFullBarRests."},{label:"\\textLengthOn",detail:"Text scripts",documentation:"\\textLengthOn, \\textLengthOff."},{label:"\\textSpannerDown",detail:"Text spanners",documentation:"\\textSpannerUp, \\textSpannerDown, \\textSpannerNeutral."},{label:"\\textSpannerNeutral",detail:"Text spanners",documentation:"\\textSpannerUp, \\textSpannerDown, \\textSpannerNeutral."},{label:"\\textSpannerUp",detail:"Text spanners",documentation:"\\textSpannerUp, \\textSpannerDown, \\textSpannerNeutral."},{label:"\\thumb",detail:"Fingering instructions",documentation:"A thumb-script can be added (e.g. cello music) to indicate that a note should be played with the thumb.\n\n    <a_\\thumb a'-3>2 <b_\\thumb b'-3>"},{label:"\\tieDashed",detail:"Ties",documentation:"Ties may be made dashed, dotted, or a combination of solid and dashed.\n\n    \\tieDotted\n    c2~ c\n    \\tieDashed\n    c2~ c\n    \\tieHalfDashed\n    c2~ c\n    \\tieHalfSolid\n    c2~ c\n    \\tieSolid\n    c2~ c\n\nCustom dash patterns can be specified:\n\n    \\tieDashPattern #0.3 #0.75\n    c2~ c\n    \\tieDashPattern #0.7 #1.5\n    c2~ c\n    \\tieSolid\n    c2~ c\n\nDash pattern definitions for ties have the same structure as dash pattern definitions for slurs. For more information about complex dash patterns, see Slurs.\n\nOverride whiteout and layer layout properties for ties that collide with other objects in a staff.\n\n    \\override Tie.layer = #-2\n    \\override Staff.TimeSignature.layer = #-1\n    \\override Staff.KeySignature.layer = #-1\n    \\override Staff.TimeSignature.whiteout = ##t\n    \\override Staff.KeySignature.whiteout = ##t\n    b2 b~\n    \\time 3/4\n    \\key a \\major\n    b r4"},{label:"\\tieDashPattern",detail:"A.18 Available music functions",documentation:"Set up a custom style of dash pattern for dash-fraction ratio of line to space repeated at dash-period interval for ties."},{label:"\\tieDotted",detail:"Ties",documentation:"Ties may be made dashed, dotted, or a combination of solid and dashed.\n\n    \\tieDotted\n    c2~ c\n    \\tieDashed\n    c2~ c\n    \\tieHalfDashed\n    c2~ c\n    \\tieHalfSolid\n    c2~ c\n    \\tieSolid\n    c2~ c\n\nCustom dash patterns can be specified:\n\n    \\tieDashPattern #0.3 #0.75\n    c2~ c\n    \\tieDashPattern #0.7 #1.5\n    c2~ c\n    \\tieSolid\n    c2~ c\n\nDash pattern definitions for ties have the same structure as dash pattern definitions for slurs. For more information about complex dash patterns, see Slurs.\n\nOverride whiteout and layer layout properties for ties that collide with other objects in a staff.\n\n    \\override Tie.layer = #-2\n    \\override Staff.TimeSignature.layer = #-1\n    \\override Staff.KeySignature.layer = #-1\n    \\override Staff.TimeSignature.whiteout = ##t\n    \\override Staff.KeySignature.whiteout = ##t\n    b2 b~\n    \\time 3/4\n    \\key a \\major\n    b r4"},{label:"\\tieDown",detail:"Ties",documentation:"Ties may be made to curve up or down manually; see Direction and placement."},{label:"\\tieNeutral",detail:"Ties",documentation:"Ties may be made to curve up or down manually; see Direction and placement."},{label:"\\tieSolid",detail:"Ties",documentation:"Ties may be made dashed, dotted, or a combination of solid and dashed.\n\n    \\tieDotted\n    c2~ c\n    \\tieDashed\n    c2~ c\n    \\tieHalfDashed\n    c2~ c\n    \\tieHalfSolid\n    c2~ c\n    \\tieSolid\n    c2~ c\n\nCustom dash patterns can be specified:\n\n    \\tieDashPattern #0.3 #0.75\n    c2~ c\n    \\tieDashPattern #0.7 #1.5\n    c2~ c\n    \\tieSolid\n    c2~ c\n\nDash pattern definitions for ties have the same structure as dash pattern definitions for slurs. For more information about complex dash patterns, see Slurs.\n\nOverride whiteout and layer layout properties for ties that collide with other objects in a staff.\n\n    \\override Tie.layer = #-2\n    \\override Staff.TimeSignature.layer = #-1\n    \\override Staff.KeySignature.layer = #-1\n    \\override Staff.TimeSignature.whiteout = ##t\n    \\override Staff.KeySignature.whiteout = ##t\n    b2 b~\n    \\time 3/4\n    \\key a \\major\n    b r4"},{label:"\\tieUp",detail:"Ties",documentation:"Ties may be made to curve up or down manually; see Direction and placement."},{label:"\\time",detail:"Time signature",documentation:"The time signature is set as follows:\n\n    \\time 2/4 c2\n    \\time 3/4 c2."},{label:"\\time",detail:"Setting automatic beam behavior",documentation:"When automatic beaming is enabled, the placement of automatic beams is determined by three context properties: baseMoment, beatStructure, and beamExceptions. The default values of these variables may be overridden as described below, or alternatively the default values themselves may be changed as explained in Time signature.\n\nIf a beamExceptions rule is defined for the time signature in force, that rule alone is used to determine the beam placement; the values of baseMoment and beatStructure are ignored.\n\nIf no beamExceptions rule is defined for the time signature in force, the beam placement is determined by the values of baseMoment and beatStructure."},{label:"\\time",detail:"A.18 Available music functions",documentation:"Set fraction as time signature, with optional number list beat-structure before it."},{label:"\\times",detail:"A.18 Available music functions",documentation:"Scale music in time by fraction."},{label:"\\timeSignatureFraction",detail:"Polymetric notation",documentation:"Polymetric notation is supported explicitly or by manually modifying the visible time signature symbol and/or scaling note durations."},{label:"\\tiny",detail:"Selecting notation font size",documentation:"The font size of notation elements may be altered. It does not change the size of variable symbols, such as beams or slurs.\n\nNote: For font sizes of text, see Selecting font and font size.\n\n\n\n    \\huge\n    c4.-> d8---3\n    \\large\n    c4.-> d8---3\n    \\normalsize\n    c4.-> d8---3\n    \\small\n    c4.-> d8---3\n    \\tiny\n    c4.-> d8---3\n    \\teeny\n    c4.-> d8---3\n\nInternally, this sets the fontSize property. This in turn causes the font-size property to be set in all layout objects. The value of font-size is a number indicating the size relative to the standard size for the current staff height. Each step up is an increase of approximately 12% of the font size. Six steps is exactly a factor of two. The Scheme function magstep converts a font-size number to a scaling factor. The font-size property can also be set directly, so that only certain layout objects are affected.\n\n    \\set fontSize = #3\n    c4.-> d8---3\n    \\override NoteHead.font-size = #-4\n    c4.-> d8---3\n    \\override Script.font-size = #2\n    c4.-> d8---3\n    \\override Stem.font-size = #-5\n    c4.-> d8---3"},{label:"\\tiny",detail:"Selecting font and font size",documentation:"\\teeny, \\tiny, \\small, \\normalsize, \\large, \\huge, \\smaller, \\larger."},{label:"\\tocItem",detail:"A.18 Available music functions",documentation:"Add a line to the table of content, using the tocItemMarkup paper variable markup"},{label:"\\top-margin",detail:"4.1.3 Fixed vertical spacing \\paper variables",documentation:"The margin between the top of the page and the top of the printable area. If the paper size is modified, this dimension\u2019s default value is scaled accordingly."},{label:"\\top-markup-spacing",detail:"List of flexible vertical spacing \\paper variables",documentation:"the distance from the top of the printable area (i.e. the bottom of the top margin) to the first (title or top-level) markup on a page, when there is no system between the two."},{label:"\\top-system-spacing",detail:"List of flexible vertical spacing \\paper variables",documentation:"the distance from the top of the printable area (i.e. the bottom of the top margin) to the first system on a page, when there is no (title or top-level) markup between the two."},{label:"\\translate",detail:"Text alignment",documentation:'Some commands can affect both the horizontal and vertical alignment of text objects in markup mode. Any object affected by these commands must be preceded with an anchor point:\n\n    d2^\\markup {\n      Acte I\n      \\translate #\'(-1 . 2) "Sc\xe8ne 1"\n    }\n    a\'\n    g_\\markup {\n      \\null\n      \\general-align #Y #3.2 \\bold "Tr\xe8s mod\xe9r\xe9"\n    }\n    a\n    d,^\\markup {\n      \\null\n      \\translate-scaled #\'(-1 . 2) \\teeny "Une for\xeat."\n    }\n    a\'4 a g2 a'},{label:"\\translate-scaled",detail:"Text alignment",documentation:'Some commands can affect both the horizontal and vertical alignment of text objects in markup mode. Any object affected by these commands must be preceded with an anchor point:\n\n    d2^\\markup {\n      Acte I\n      \\translate #\'(-1 . 2) "Sc\xe8ne 1"\n    }\n    a\'\n    g_\\markup {\n      \\null\n      \\general-align #Y #3.2 \\bold "Tr\xe8s mod\xe9r\xe9"\n    }\n    a\n    d,^\\markup {\n      \\null\n      \\translate-scaled #\'(-1 . 2) \\teeny "Une for\xeat."\n    }\n    a\'4 a g2 a'},{label:"\\transpose",detail:"Transpose",documentation:"A music expression can be transposed with \\transpose. The syntax is\n\n    \\transpose frompitch topitch musicexpr\n\nThis means that musicexpr is transposed by the interval between the pitches frompitch and topitch: any note with pitch frompitch is changed to topitch and any other note is transposed by the same interval. Both pitches are entered in absolute mode.\n\nNote: Music inside a \\transpose block is absolute unless a \\relative is included in the block.\n\n\n\nConsider a piece written in the key of D-major. It can be transposed up to E-major; note that the key signature is automatically transposed as well.\n\n    \\transpose d e {\n      \\relative c' {\n        \\key d \\major\n        d4 fis a d\n      }\n    }"},{label:"\\transpose",detail:"A.18 Available music functions",documentation:"Transpose music from pitch from to pitch to."},{label:"\\transposedCueDuring",detail:"Formatting cue notes",documentation:'Like \\quoteDuring, \\cueDuring takes instrument transpositions into account. Cue notes are produced at the pitches that would be written for the instrument receiving the cue to produce the sounding pitches of the source instrument.\n\nTo transpose cue notes differently, use \\transposedCueDuring. This command takes an extra argument to specify (in absolute mode) the printed pitch that you want to represent the sound of a concert middle C. This is useful for taking cues from an instrument in a completely different register.\n\n    piccoloNotes = \\relative c\'\'\' {\n      \\clef "treble^8"\n      R1\n      c8 c c e g2\n      c4 g g2\n    }\n    bassClarinetNotes = \\relative c\' {\n      \\key d \\major\n      \\transposition bes,\n      d4 r a r\n      \\transposedCueDuring #"piccolo" #UP d { R1 }\n      d4 r a r\n    }\n    \\addQuote "piccolo" { \\piccoloNotes }\n    <<\n      \\new Staff \\piccoloNotes\n      \\new Staff \\bassClarinetNotes\n    >>'},{label:"\\transposedCueDuring",detail:"A.18 Available music functions",documentation:"Insert notes from the part what into a voice called cue, using the transposition defined by pitch. This happens simultaneously with main-music, which is usually a rest.\tThe argument dir determines whether the cue notes should be notated as a first or second voice."},{label:"\\transposition",detail:"Instrument transpositions",documentation:'When typesetting scores that involve transposing instruments, some parts can be typeset in a different pitch than the concert pitch. In these cases, the key of the transposing instrument should be specified; otherwise the MIDI output and cues in other parts will produce incorrect pitches. For more information about quotations, see Quoting other voices.\n\n    \\transposition pitch\n\nThe pitch to use for \\transposition should correspond to the real sound heard when a\xa0c\' written on the staff is played by the transposing instrument. This pitch is entered in absolute mode, so an instrument that produces a real sound which is one tone higher than the printed music should use \\transposition d\'. \\transposition should only be used if the pitches are not being entered in concert pitch.\n\nHere are a few notes for violin and B-flat clarinet where the parts have been entered using the notes and key as they appear in each part of the conductor\u2019s score. The two instruments are playing in unison.\n\n    \\new GrandStaff <<\n      \\new Staff = "violin" {\n        \\relative c\'\' {\n          \\set Staff.instrumentName = #"Vln"\n          \\set Staff.midiInstrument = #"violin"\n          % not strictly necessary, but a good reminder\n          \\transposition c\'\n          \\key c \\major\n          g4( c8) r c r c4\n        }\n      }\n      \\new Staff = "clarinet" {\n        \\relative c\'\' {\n          \\set Staff.instrumentName = \\markup { Cl (B\\flat) }\n          \\set Staff.midiInstrument = #"clarinet"\n          \\transposition bes\n          \\key d \\major\n          a4( d8) r d r d4\n        }\n      }\n    >>\n\nThe \\transposition may be changed during a piece. For example, a clarinetist may be required to switch from an A clarinet to a B-flat clarinet.\n\n    flute = \\relative c\'\' {\n      \\key f \\major\n      \\cueDuring #"clarinet" #DOWN {\n        R1 _\\markup\\tiny "clarinet"\n        c4 f e d\n        R1 _\\markup\\tiny "clarinet"\n      }\n    }\n    clarinet = \\relative c\'\' {\n      \\key aes \\major\n      \\transposition a\n      aes4 bes c des\n      R1^\\markup { muta in B\\flat }\n      \\key g \\major\n      \\transposition bes\n      d2 g,\n    }\n    \\addQuote "clarinet" \\clarinet\n    <<\n      \\new Staff \\with { instrumentName = #"Flute" }\n        \\flute\n      \\new Staff \\with { instrumentName = #"Cl (A)" }\n        \\clarinet\n    >>'},{label:"\\transposition",detail:"Quoting other voices",documentation:'It is very common for one voice to use the same notes as those from another voice. For example, first and second violins playing the same phrase during a particular passage of the music. This is done by letting one voice quote the other, without having to re-enter the music all over again for the second voice.\n\nThe \\addQuote command, used in the top level scope, defines a stream of music from which fragments can be quoted.\n\nThe \\quoteDuring command is used to indicate the point where the quotation begins. It is followed by two arguments: the name of the quoted voice, as defined with \\addQuote, and a music expression for the duration of the quote.\n\n    fluteNotes = \\relative c\'\' {\n      a4 gis g gis | b4^"quoted" r8 ais\\p a4( f)\n    }\n    oboeNotes = \\relative c\'\' {\n      c4 cis c b \\quoteDuring #"flute" { s1 }\n    }\n    \\addQuote "flute" { \\fluteNotes }\n    \\score {\n      <<\n        \\new Staff \\with { instrumentName = "Flute" } \\fluteNotes\n        \\new Staff \\with { instrumentName = "Oboe" } \\oboeNotes\n      >>\n    }\n\nIf the music expression used in \\quoteDuring contains notes instead of spacer or multimeasure rests then the quote will appear as polyphony and may produce unexpected results.\n\n    fluteNotes = \\relative c\'\' {\n      a4 gis g gis | b4^"quoted" r8 ais\\p a4( f)\n    }\n    oboeNotes = \\relative c\'\' {\n      c4 cis c b \\quoteDuring #"flute" { e4 r8 ais b4 a }\n    }\n    \\addQuote "flute" { \\fluteNotes }\n    \\score {\n      <<\n        \\new Staff \\with { instrumentName = "Flute" } \\fluteNotes\n        \\new Staff \\with { instrumentName = "Oboe" } \\oboeNotes\n      >>\n    }\n\nThe \\quoteDuring command uses the \\transposition settings of both quoted and quoting parts to produce notes for the quoting part that have the same sounding pitch as those in the quoted part.\n\n    clarinetNotes = \\relative c\'\' {\n      \\transposition bes\n      \\key d \\major\n      b4 ais a ais | cis4^"quoted" r8 bis\\p b4( f)\n    }\n    oboeNotes = \\relative c\'\' {\n      c4 cis c b \\quoteDuring #"clarinet" { s1 }\n    }\n    \\addQuote "clarinet" { \\clarinetNotes }\n    \\score {\n      <<\n        \\new Staff \\with { instrumentName = "Clarinet" } \\clarinetNotes\n        \\new Staff \\with { instrumentName = "Oboe" } \\oboeNotes\n      >>\n    }'},{label:"\\transposition",detail:"A.18 Available music functions",documentation:"Set instrument transposition"},{label:"\\treCorde",detail:"Piano pedals",documentation:"Pianos generally have three pedals that alter the way sound is produced: sustain, sostenuto (sos.), and una corda (U.C.). Sustain pedals are also found on vibraphones and celestas.\n\n    c4\\sustainOn d e g\n    <c, f a>1\\sustainOff\n    c4\\sostenutoOn e g c,\n    <bes d f>1\\sostenutoOff\n    c4\\unaCorda d e g\n    <d fis a>1\\treCorde"},{label:"\\tremolo",detail:"Tremolo repeats",documentation:"Tremolos can take two forms: alternation between two chords or two notes, and rapid repetition of a single note or chord. Tremolos consisting of an alternation are indicated by adding beams between the notes or chords being alternated, while tremolos consisting of the rapid repetition of a single note are indicated by adding beams or slashes to a single note.\n\nTo place tremolo marks between notes, use \\repeat with tremolo style:\n\n    \\repeat tremolo 8 { c16 d }\n    \\repeat tremolo 6 { c16 d }\n    \\repeat tremolo 2 { c16 d }\n\nThe \\repeat tremolo syntax expects exactly two notes within the braces, and the number of repetitions must correspond to a note value that can be expressed with plain or dotted notes. Thus, \\repeat tremolo 7 is valid and produces a double dotted note, but \\repeat tremolo 9 is not.\n\nThe duration of the tremolo equals the duration of the braced expression multiplied by the number of repeats: \\repeat tremolo 8 { c16 d16 } gives a whole note tremolo, notated as two whole notes joined by tremolo beams.\n\nThere are two ways to put tremolo marks on a single note. The \\repeat tremolo syntax is also used here, in which case the note should not be surrounded by braces:\n\n    \\repeat tremolo 4 c'16"},{label:"\\tremoloFlags",detail:"Tremolo repeats",documentation:"The same output can be obtained by adding :N after the note, where N indicates the duration of the subdivision (it must be at least 8). If N is 8, one beam is added to the note\u2019s stem. If N is omitted, the last value (stored in tremoloFlags) is used:\n\n    c2:8 c:32\n    c: c:"},{label:"\\triangle",detail:"Graphic notation inside markup",documentation:"Other graphic elements or symbols may be printed without requiring any text. As with any markup expression, such objects can be combined.\n\n    \\markup {\n      \\combine\n        \\draw-circle #4 #0.4 ##f\n        \\filled-box #'(-4 . 4) #'(-0.5 . 0.5) #1\n      \\hspace #5\n      \\center-column {\n        \\triangle ##t\n        \\combine\n          \\draw-line #'(0 . 4)\n          \\arrow-head #Y #DOWN ##f\n      }\n    }"},{label:"\\trill",detail:"Trills",documentation:"Short trills without an extender line are printed with \\trill; see Articulations and ornamentations.\n\nLonger trills with an extender line are made with \\startTrillSpan and \\stopTrillSpan:\n\n    d1\\startTrillSpan\n    d1\n    c2\\stopTrillSpan\n    r2\n\nA trill spanner crossing a line break will restart exactly above the first note on the new line.\n\n    d1\\startTrillSpan\n    \\break\n    d1\n    c2\\stopTrillSpan\n    r2\n\nConsecutive trill spans will work without explicit \\stopTrillSpan commands, since successive trill spanners will automatically become the right bound of the previous trill.\n\n    d1\\startTrillSpan\n    d1\n    b1\\startTrillSpan\n    d2\\stopTrillSpan\n    r2\n\nTrills can also be combined with grace notes. The syntax of this construct and the method to precisely position the grace notes are described in Grace notes.\n\n    d1~\\afterGrace\n    d1\\startTrillSpan { c32[ d]\\stopTrillSpan }\n    c2 r2"},{label:"\\tuplet",detail:"Tuplets",documentation:"Tuplets are made from a music expression with the \\tuplet command, multiplying the speed of the music expression by a fraction:\n\n    \\tuplet fraction { music }\n\nThe fraction\u2019s numerator will be printed over or under the notes, optionally with a bracket. The most common tuplets are triplets: 3\xa0notes sound within the duration normally allowed for\xa02:\n\n    a2 \\tuplet 3/2 { b4 b b }\n    c4 c \\tuplet 3/2 { b4 a g }"},{label:"\\tuplet",detail:"Polymetric notation",documentation:"Polymetric notation is supported explicitly or by manually modifying the visible time signature symbol and/or scaling note durations."},{label:"\\tuplet",detail:"A.18 Available music functions",documentation:"Scale the given music to tuplets. ratio is a fraction that specifies how many notes are played in place of the nominal value: it will be \u20183/2\u2019 for triplets, namely three notes being played in place of two. If the optional duration tuplet-span is specified, it is used instead of tupletSpannerDuration for grouping the tuplets. For example,\n\n    \\tuplet 3/2 4 { c8 c c c c c }\n\nwill result in two groups of three tuplets, each group lasting for a quarter note."},{label:"\\tupletDown",detail:"Tuplets",documentation:"Tuplet brackets may be manually placed above or below the staff; see Direction and placement.\n\nTuplets may be nested:\n\n    \\autoBeamOff\n    c4 \\tuplet 5/4 { f8 e f \\tuplet 3/2 { e[ f g] } } f4\n\nModifying nested tuplets which begin at the same musical moment must be done with \\tweak.\n\nTo modify the duration of notes without printing a tuplet bracket, see Scaling durations."},{label:"\\tupletNeutral",detail:"Tuplets",documentation:"Tuplet brackets may be manually placed above or below the staff; see Direction and placement.\n\nTuplets may be nested:\n\n    \\autoBeamOff\n    c4 \\tuplet 5/4 { f8 e f \\tuplet 3/2 { e[ f g] } } f4\n\nModifying nested tuplets which begin at the same musical moment must be done with \\tweak.\n\nTo modify the duration of notes without printing a tuplet bracket, see Scaling durations."},{label:"TupletNumber",detail:"Selected Snippets",documentation:'Changing the tuplet number\n\nBy default, only the numerator of the tuplet number is printed over the tuplet bracket. Alternatively, num:den of the tuplet number may be printed, or the tuplet number may be suppressed altogether.\n\n    \\relative c\'\' {\n      \\tuplet 3/2 { c8 c c }\n      \\tuplet 3/2 { c8 c c }\n      \\override TupletNumber.text = #tuplet-number::calc-fraction-text\n      \\tuplet 3/2 { c8 c c }\n      \\omit TupletNumber\n      \\tuplet 3/2 { c8 c c }\n    }\n\nNon-default tuplet numbers\n\nLilyPond also provides formatting functions to print tuplet numbers different than the actual fraction, as well as to append a note value to the tuplet number or tuplet fraction.\n\n    \\relative c\'\' {\n      \\once \\override TupletNumber.text =\n        #(tuplet-number::non-default-tuplet-denominator-text 7)\n      \\tuplet 3/2  { c4. c4. c4. c4. }\n      \\once \\override TupletNumber.text =\n        #(tuplet-number::non-default-tuplet-fraction-text 12 7)\n      \\tuplet 3/2  { c4. c4. c4. c4. }\n      \\once \\override TupletNumber.text =\n        #(tuplet-number::append-note-wrapper\n          (tuplet-number::non-default-tuplet-fraction-text 12 7) "8")\n      \\tuplet 3/2  { c4. c4. c4. c4. }\n      \\once \\override TupletNumber.text =\n        #(tuplet-number::append-note-wrapper\n          tuplet-number::calc-denominator-text "4")\n      \\tuplet 3/2  { c8 c8 c8 c8 c8 c8 }\n      \\once \\override TupletNumber.text =\n        #(tuplet-number::append-note-wrapper\n          tuplet-number::calc-fraction-text "4")\n      \\tuplet 3/2  { c8 c8 c8 c8 c8 c8 }\n      \\once \\override TupletNumber.text =\n        #(tuplet-number::fraction-with-notes "4." "8")\n      \\tuplet 3/2  { c4. c4. c4. c4. }\n      \\once \\override TupletNumber.text =\n        #(tuplet-number::non-default-fraction-with-notes 12 "8" 4 "4")\n      \\tuplet 3/2  { c4. c4. c4. c4. }\n    }\n\nControlling tuplet bracket visibility\n\nThe default behavior of tuplet-bracket visibility is to print a bracket unless there is a beam of the same length as the tuplet. To control the visibility of tuplet brackets, set the property \'bracket-visibility to either #t (always print a bracket), #f (never print a bracket) or #\'if-no-beam (only print a bracket if there is no beam).\n\n    music = \\relative c\'\' {\n      \\tuplet 3/2 { c16[ d e } f8]\n      \\tuplet 3/2 { c8 d e }\n      \\tuplet 3/2 { c4 d e }\n    }\n    \\new Voice {\n      \\relative c\' {\n        << \\music s4^"default" >>\n        \\override TupletBracket.bracket-visibility = #\'if-no-beam\n        << \\music s4^"\'if-no-beam" >>\n        \\override TupletBracket.bracket-visibility = ##t\n        << \\music s4^"#t" >>\n        \\override TupletBracket.bracket-visibility = ##f\n        << \\music s4^"#f" >>\n      }\n    }\n\nPermitting line breaks within beamed tuplets\n\nThis artificial example shows how both manual and automatic line breaks may be permitted to within a beamed tuplet. Note that such off-beat tuplets have to be beamed manually.\n\n    \\layout {\n      \\context {\n        \\Voice\n        % Permit line breaks within tuplets\n        \\remove "Forbid_line_break_engraver"\n        % Allow beams to be broken at line breaks\n        \\override Beam.breakable = ##t\n      }\n    }\n    \\relative c\'\' {\n      a8\n      \\repeat unfold 5 { \\tuplet 3/2 { c[ b a] } }\n      % Insert a manual line break within a tuplet\n      \\tuplet 3/2 { c[ b \\bar "" \\break a] }\n      \\repeat unfold 5 { \\tuplet 3/2 { c[ b a] } }\n      c8\n    }'},{label:"\\tupletNumberFormatFunction",detail:"Selected Snippets",documentation:'Entering several tuplets using only one \\tuplet command\n\nThe property tupletSpannerDuration sets how long each of the tuplets contained within the brackets after \\tuplet should last. Many consecutive tuplets can then be placed within a single \\tuplet expression, thus saving typing.\n\nThere are several ways to set tupletSpannerDuration. The command \\tupletSpan sets it to a given duration, and clears it when instead of a duration \\default is specified. Another way is to use an optional argument with \\tuplet.\n\n    \\relative c\' {\n      \\time 2/4\n      \\tupletSpan 4\n      \\tuplet 3/2 { c8^"\\\\tupletSpan 4" c c c c c }\n      \\tupletSpan \\default\n      \\tuplet 3/2 { c8^"\\\\tupletSpan \\\\default" c c c c c }\n      \\tuplet 3/2 4 { c8^"\\\\tuplet 3/2 4 {...}" c c c c c }\n    }'},{label:"\\tupletSpan",detail:"A.18 Available music functions",documentation:"Set tupletSpannerDuration, the length into which \\tuplet without an explicit \u2018tuplet-span\u2019 argument of its own will group its tuplets, to the duration tuplet-span. To revert to the default of not subdividing the contents of a \\tuplet command without explicit \u2018tuplet-span\u2019, use\n\n    \\tupletSpan \\default"},{label:"\\tupletSpannerDuration",detail:"Selected Snippets",documentation:'Entering several tuplets using only one \\tuplet command\n\nThe property tupletSpannerDuration sets how long each of the tuplets contained within the brackets after \\tuplet should last. Many consecutive tuplets can then be placed within a single \\tuplet expression, thus saving typing.\n\nThere are several ways to set tupletSpannerDuration. The command \\tupletSpan sets it to a given duration, and clears it when instead of a duration \\default is specified. Another way is to use an optional argument with \\tuplet.\n\n    \\relative c\' {\n      \\time 2/4\n      \\tupletSpan 4\n      \\tuplet 3/2 { c8^"\\\\tupletSpan 4" c c c c c }\n      \\tupletSpan \\default\n      \\tuplet 3/2 { c8^"\\\\tupletSpan \\\\default" c c c c c }\n      \\tuplet 3/2 4 { c8^"\\\\tuplet 3/2 4 {...}" c c c c c }\n    }'},{label:"\\tupletUp",detail:"Tuplets",documentation:"Tuplet brackets may be manually placed above or below the staff; see Direction and placement.\n\nTuplets may be nested:\n\n    \\autoBeamOff\n    c4 \\tuplet 5/4 { f8 e f \\tuplet 3/2 { e[ f g] } } f4\n\nModifying nested tuplets which begin at the same musical moment must be done with \\tweak.\n\nTo modify the duration of notes without printing a tuplet bracket, see Scaling durations."},{label:"\\tweak",detail:"A.18 Available music functions",documentation:"Add a tweak to the following item, usually music. Layout objects created by item get their property prop set to value. If prop has the form \u2018Grob.property\u2019, like with\n\n    \\tweak Accidental.color #red cis'\n\nan indirectly created grob (\u2018Accidental\u2019 is caused by \u2018NoteHead\u2019) can be tweaked; otherwise only directly created grobs are affected.\n\nAs a special case, item may be a symbol list specifying a grob path, in which case \\override is called on it instead of creating tweaked music. This is mainly useful when using \\tweak as as a component for building other functions.\n\nIf this use case would call for \\once \\override rather than a plain \\override, writing \\once \\tweak \u2026 can be convenient.\n\nprop can contain additional elements in which case a nested property (inside of an alist) is tweaked."},{label:"\\two-sided",detail:"\\paper variables for two-sided mode",documentation:"If set to true, use inner-margin, outer-margin and binding-offset to determine margins depending on whether the page number is odd or even. This overrides left-margin and right-margin."},{label:"\\type",detail:"5.1.6 Defining new contexts",documentation:'Specific contexts, like Staff and Voice, are made from simple building blocks. It is possible to create new types of contexts with different combinations of engraver plug-ins.\n\nThe next example shows how to build a different type of Voice context from scratch. It will be similar to Voice, but only prints centered slash note heads. It can be used to indicate improvisation in jazz pieces,\n\nThese settings are defined within a \\context block inside a \\layout block,\n\n    \\layout {\n      \\context {\n        \u2026\n      }\n    }\n\nIn the following discussion, the example input shown should go in place of the \u2026 in the previous fragment.\n\nFirst it is necessary to define a name for the new context:\n\n    \\name ImproVoice\n\nSince it is similar to the Voice context, we want commands that work in (existing) Voice contexts to continue working. This is achieved by giving the new context an alias of Voice,\n\n    \\alias Voice\n\nThe context will print notes and instructive texts, so we need to add the engravers which provide this functionality, plus the engraver which groups notes, stems and rests which occur at the same musical moment into columns,\n\n    \\consists "Note_heads_engraver"\n    \\consists "Text_engraver"\n    \\consists "Rhythmic_column_engraver"\n\nThe note heads should all be placed on the center line,\n\n    \\consists "Pitch_squash_engraver"\n    squashedPosition = #0\n\nThe Pitch_squash_engraver modifies note heads (created by the Note_heads_engraver) and sets their vertical position to the value of squashedPosition, in this case\xa00, the center line.\n\nThe notes look like a slash, and have no stem,\n\n    \\override NoteHead.style = #\'slash\n    \\hide Stem\n\nAll these plug-ins have to communicate under the control of the context. The mechanisms with which contexts communicate are established by declaring the context \\type. Within a \\layout block, most contexts will be of type Engraver_group. Some special contexts and contexts in \\midi blocks use other context types. Copying and modifying an existing context definition will also fill in the type. Since this example creates a definition from scratch, it needs to be specified explicitly.\n\n    \\type "Engraver_group"\n\nPut together, we get\n\n    \\context {\n      \\name ImproVoice\n      \\type "Engraver_group"\n      \\consists "Note_heads_engraver"\n      \\consists "Text_engraver"\n      \\consists "Rhythmic_column_engraver"\n      \\consists "Pitch_squash_engraver"\n      squashedPosition = #0\n      \\override NoteHead.style = #\'slash\n      \\hide Stem\n      \\alias Voice\n    }'},{label:"\\unaCorda",detail:"Piano pedals",documentation:"Pianos generally have three pedals that alter the way sound is produced: sustain, sostenuto (sos.), and una corda (U.C.). Sustain pedals are also found on vibraphones and celestas.\n\n    c4\\sustainOn d e g\n    <c, f a>1\\sustainOff\n    c4\\sostenutoOn e g c,\n    <bes d f>1\\sostenutoOff\n    c4\\unaCorda d e g\n    <d fis a>1\\treCorde"},{label:"\\underline",detail:"Selecting font and font size",documentation:"Basic font switching is supported in markup mode:\n\n    d1^\\markup {\n      \\bold { Pi\xf9 mosso }\n      \\italic { non troppo \\underline Vivo }\n    }\n    r2 r4 r8\n    d,_\\markup { \\italic quasi \\smallCaps Tromba }\n    f1 d2 r"},{label:"\\undo",detail:"A.18 Available music functions",documentation:"Convert \\override and \\set in music to \\revert and \\unset, respectively. Any reverts and unsets already in music cause a warning. Non-property-related music is ignored."},{label:"\\unfold",detail:"Written-out repeats",documentation:"By using the unfold command, repeats can be used to simplify the writing out of repetitious music. The syntax is\n\n    \\repeat unfold repeatcount musicexpr\n\nwhere musicexpr is a music expression and repeatcount is the number of times musicexpr is repeated.\n\n    \\repeat unfold 2 { c4 d e f }\n    c1\n\nIn some cases, especially in a \\relative context, the \\repeat unfold function is not the same as writing out the music expression multiple times. E.g,\n\n    \\repeat unfold 2 { a'4 b c }\n\nis not equivalent to\n\n    a'4 b c | a'4 b c\n\nUnfold repeats can be made with alternate endings.\n\n    \\repeat unfold 2 { c4 d e f }\n    \\alternative {\n      { c2 g' }\n      { c,2 b }\n    }\n    c1\n\nIf there are more repeats than there are alternate endings, the first alternative is applied multiple times until the remaining alternatives make up the total number of repeats.\n\n    \\repeat unfold 4 { c4 d e f }\n    \\alternative {\n      { c2 g' }\n      { c,2 b }\n      { e2 d }\n     }\n    c1\n\nIf there are more alternate endings than repeats then only the first alternatives are applied. The remaining alternatives will be ignored and not printed.\n\n    \\repeat unfold 2 { c4 d e f }\n    \\alternative {\n      { c2 g' }\n      { c,2 b }\n      { e2 d }\n    }\n    c1\n\nIt is also possible to nest multiple unfold functions (with or without alternate endings).\n\n    \\repeat unfold 2 {\n      \\repeat unfold 2 { c4 d e f }\n      \\alternative {\n        { c2 g' }\n        { c,2 b }\n      }\n    }\n    c1\n\nChord constructs can be repeated by the chord repetition symbol q. See Chord repetition.\n\nNote: If you include \\relative inside a \\repeat without explicitly instantiating the Voice context, extra (unwanted) staves will appear. See An extra staff appears.\n\n"},{label:"\\unfoldRepeats",detail:"A.18 Available music functions",documentation:"Force any \\repeat volta, \\repeat tremolo or \\repeat percent commands in music to be interpreted as \\repeat unfold."},{label:"\\unHideNotes",detail:"Hidden notes",documentation:"Hidden (or invisible or transparent) notes can be useful in preparing theory or composition exercises.\n\n    c4 d\n    \\hideNotes\n    e4 f\n    \\unHideNotes\n    g a\n    \\hideNotes\n    b\n    \\unHideNotes\n    c\n\nNote heads, stems, and flags, and rests are invisible. Beams are invisible if they start on a hidden note. Objects that are attached to invisible notes are still visible.\n\n    e8(\\p f g a)--\n    \\hideNotes\n    e8(\\p f g a)--"},{label:"VaticanaStaff",detail:"Instantiating new staves",documentation:"Staves (singular: staff) are created with the \\new or \\context commands. For details, see Creating and referencing contexts.\n\nThe basic staff context is Staff:\n\n    \\new Staff { c4 d e f }\n\nThe DrumStaff context creates a five-line staff set up for a typical drum set. Each instrument is shown with a different symbol. The instruments are entered in drum mode following a \\drummode command, with each instrument specified by name. For details, see Percussion staves.\n\n    \\new DrumStaff {\n      \\drummode { cymc hh ss tomh }\n    }\n\nRhythmicStaff creates a single-line staff that only displays the rhythmic values of the input. Real durations are preserved. For details, see Showing melody rhythms.\n\n    \\new RhythmicStaff { c4 d e f }\n\nTabStaff creates a tablature with six strings in standard guitar tuning. For details, see Default tablatures.\n\n    \\new TabStaff { c4 d e f }\n\nThere are two staff contexts specific for the notation of ancient music: MensuralStaff and VaticanaStaff. They are described in Pre-defined contexts.\n\nThe GregorianTranscriptionStaff context creates a staff to notate modern Gregorian chant. It does not show bar lines.\n\n    \\new GregorianTranscriptionStaff { c4 d e f e d }\n\nNew single staff contexts may be defined. For details, see Defining new contexts."},{label:"VerticalAxisGroup",detail:"Within-system spacing properties",documentation:"The within-system vertical spacing mechanisms are controlled by two sets of grob properties. The first set is associated with the VerticalAxisGroup grob, which is created by all staves and non-staff lines. The second set is associated with the StaffGrouper grob, which can be created by staff-groups, but only if explicitly called. These properties are described individually at the end of this section.\n\nThe names of these properties (except for staff-affinity) follow the format item1-item2-spacing, where item1 and item2 are the items to be spaced. Note that item2 is not necessarily below item1; for example, nonstaff-relatedstaff-spacing will measure upwards from the non-staff line if staff-affinity is UP.\n\nEach distance is measured between the reference points of the two items. The reference point for a staff is the vertical center of its StaffSymbol (i.e. the middle line if line-count is odd; the middle space if line-count is even). The reference points for individual non-staff lines are given in the following table:\n\nNon-staff line\tReference point\nChordNames\tbaseline\nNoteNames\tbaseline\nLyrics\tbaseline\nDynamics\tmid-height of \u2018m\u2019\nFiguredBass\thighest point\nFretBoards\ttop line\n\n\nIn the following image, horizontal lines indicate the positions of these reference points:\n\nEach of the vertical spacing grob properties (except staff-affinity) uses the same alist structure as the \\paper spacing variables discussed in Flexible vertical spacing \\paper variables. Specific methods for modifying alists are discussed in Modifying alists. Grob properties should be adjusted with an \\override inside a \\score or \\layout block, and not inside a \\paper block.\n\nThe following example demonstrates the two ways these alists can be modified. The first declaration updates one key-value individually, and the second completely re-defines the property:\n\n    \\new Staff \\with {\n      \\override VerticalAxisGroup.default-staff-staff-spacing.basic-distance = #10\n    } { \u2026 }\n    \\new Staff \\with {\n      \\override VerticalAxisGroup.default-staff-staff-spacing =\n        #'((basic-distance . 10)\n           (minimum-distance . 9)\n           (padding . 1)\n           (stretchability . 10))\n    } { \u2026 }\n\nTo change any spacing settings globally, put them in the \\layout block:\n\n    \\layout {\n      \\context {\n        \\Staff\n        \\override VerticalAxisGroup.default-staff-staff-spacing.basic-distance = #10\n      }\n    }\n\nStandard settings for the vertical spacing grob properties are listed in VerticalAxisGroup and StaffGrouper. Default overrides for specific types of non-staff lines are listed in the relevant context descriptions in Contexts."},{label:"\\voice",detail:"Automatic accidentals",documentation:"There are many different conventions on how to typeset accidentals. LilyPond provides a function to specify which accidental style to use. This function is called as follows:\n\n    \\new Staff <<\n      \\accidentalStyle voice\n      { \u2026 }\n    >>\n\nThe accidental style applies to the current Staff by default (with the exception of the styles piano and piano-cautionary, which are explained below). Optionally, the function can take a second argument that determines in which scope the style should be changed. For example, to use the same style in all staves of the current StaffGroup, use:\n\n    \\accidentalStyle StaffGroup.voice\n\nThe following accidental styles are supported. To demonstrate each style, we use the following example:\n\n    musicA = {\n      <<\n        \\relative c' {\n          cis'8 fis, bes4 <a cis>8 f bis4 |\n          cis2. <c, g'>4 |\n        }\n        \\\\\n        \\relative c' {\n          ais'2 cis, |\n          fis8 b a4 cis2 |\n        }\n      >>\n    }\n    musicB = {\n      \\clef bass\n      \\new Voice {\n        \\voiceTwo \\relative c' {\n          <fis, a cis>8[ <fis a cis>\n          \\change Staff = up\n          cis' cis\n          \\change Staff = down\n          <fis, a> <fis a>]\n          \\showStaffSwitch\n          \\change Staff = up\n          dis'4 |\n          \\change Staff = down\n          <fis, a cis>4 gis <f a d>2 |\n        }\n      }\n    }\n    \\new PianoStaff {\n      <<\n        \\context Staff = \"up\" {\n          \\accidentalStyle default\n          \\musicA\n        }\n        \\context Staff = \"down\" {\n          \\accidentalStyle default\n          \\musicB\n        }\n      >>\n    }\n\nNote that the last lines of this example can be replaced by the following, as long as the same accidental style should be used in both staves.\n\n    \\new PianoStaff {\n      <<\n        \\context Staff = \"up\" {\n          %%% change the next line as desired:\n          \\accidentalStyle Score.default\n          \\musicA\n        }\n        \\context Staff = \"down\" {\n          \\musicB\n        }\n      >>\n    }\n\ndefault\nThis is the default typesetting behavior. It corresponds to eighteenth-century common practice: accidentals are remembered to the end of the measure in which they occur and only in their own octave. Thus, in the example below, no natural signs are printed before the\xa0b in the second measure or the last\xa0c:\n\n \n\nvoice\nThe normal behavior is to remember the accidentals at Staff-level. In this style, however, accidentals are typeset individually for each voice. Apart from that, the rule is similar to default.\n\nAs a result, accidentals from one voice do not get canceled in other voices, which is often an unwanted result: in the following example, it is hard to determine whether the second\xa0a should be played natural or sharp. The voice option should therefore be used only if the voices are to be read solely by individual musicians. If the staff is to be used by one musician (e.g., a conductor or in a piano score) then modern or modern-cautionary should be used instead.\n\n \n\nmodern\nThis rule corresponds to the common practice in the twentieth century. It omits some extra natural signs, which were traditionally prefixed to a sharp following a double sharp, or a flat following a double flat. The modern rule prints the same accidentals as default, with two additions that serve to avoid ambiguity: after temporary accidentals, cancellation marks are printed also in the following measure (for notes in the same octave) and, in the same measure, for notes in other octaves. Hence the naturals before the\xa0b and the\xa0c in the second measure of the upper staff:\n\n \n\nmodern-cautionary\nThis rule is similar to modern, but the \u2018extra\u2019 accidentals (the ones not typeset by default) are typeset as cautionary accidentals. They are by default printed with parentheses, but they can also be printed in reduced size by defining the cautionary-style property of AccidentalSuggestion.\n\n \n\nmodern-voice\nThis rule is used for multivoice accidentals to be read both by musicians playing one voice and musicians playing all voices. Accidentals are typeset for each voice, but they are canceled across voices in the same Staff. Hence, the\xa0a in the last measure is canceled because the previous cancellation was in a different voice, and the\xa0d in the lower staff is canceled because of the accidental in a different voice in the previous measure:\n\n \n\nmodern-voice-cautionary\nThis rule is the same as modern-voice, but with the extra accidentals (the ones not typeset by voice) typeset as cautionaries. Even though all accidentals typeset by default are typeset with this rule, some of them are typeset as cautionaries.\n\n \n\npiano\nThis rule reflects twentieth-century practice for piano notation. Its behavior is very similar to modern style, but here accidentals also get canceled across the staves in the same GrandStaff or PianoStaff, hence all the cancellations of the final notes.\n\nThis accidental style applies to the current GrandStaff or PianoStaff by default.\n\n \n\npiano-cautionary\nThis is the same as piano but with the extra accidentals typeset as cautionaries.\n\n \n\nneo-modern\nThis rule reproduces a common practice in contemporary music: accidentals are printed like with modern, but they are printed again if the same note appears later in the same measure \u2013 except if the note is immediately repeated.\n\n \n\nneo-modern-cautionary\nThis rule is similar to neo-modern, but the extra accidentals are printed as cautionary accidentals.\n\n \n\nneo-modern-voice\nThis rule is used for multivoice accidentals to be read both by musicians playing one voice and musicians playing all voices. Accidentals are typeset for each voice as with neo-modern, but they are canceled across voices in the same Staff.\n\n \n\nneo-modern-voice-cautionary\nThis rule is similar to neo-modern-voice, but the extra accidentals are printed as cautionary accidentals.\n\n \n\ndodecaphonic\nThis rule reflects a practice introduced by composers at the beginning of the 20th century, in an attempt to abolish the hierarchy between natural and non-natural notes. With this style, every note gets an accidental sign, including natural signs.\n\n \n\nteaching\nThis rule is intended for students, and makes it easy to create scale sheets with automatically created cautionary accidentals. Accidentals are printed like with modern, but cautionary accidentals are added for all sharp or flat tones specified by the key signature, except if the note is immediately repeated.\n\n \n\nno-reset\nThis is the same as default but with accidentals lasting \u2018forever\u2019 and not only within the same measure:\n\n \n\nforget\nThis is the opposite of no-reset: Accidentals are not remembered at all \u2013 and hence all accidentals are typeset relative to the key signature, regardless of what came before in the music.\n\n \n\n"},{label:"Voice",detail:"Single-staff polyphony",documentation:'The basic structure needed to achieve multiple independent voices in a single staff is illustrated in the following example:\n\n    \\new Staff <<\n      \\new Voice = "first"\n        { \\voiceOne r8 r16 g e8. f16 g8[ c,] f e16 d }\n      \\new Voice= "second"\n        { \\voiceTwo d16 c d8~ d16 b c8~ c16 b c8~ c16 b8. }\n    >>\n\nHere, voices are instantiated explicitly and are given names. The \\voiceOne \u2026 \\voiceFour commands set up the voices so that first and third voices get stems up, second and fourth voices get stems down, third and fourth voice note heads are horizontally shifted, and rests in the respective voices are automatically moved to avoid collisions. The \\oneVoice command returns all the voice settings to the neutral default directions.'},{label:"\\voice",detail:"Automatic accidentals",documentation:"The normal behavior is to remember the accidentals at Staff-level. In this style, however, accidentals are typeset individually for each voice. Apart from that, the rule is similar to default.\n\nAs a result, accidentals from one voice do not get canceled in other voices, which is often an unwanted result: in the following example, it is hard to determine whether the second\xa0a should be played natural or sharp. The voice option should therefore be used only if the voices are to be read solely by individual musicians. If the staff is to be used by one musician (e.g., a conductor or in a piano score) then modern or modern-cautionary should be used instead."},{label:"\\voiceOne",detail:"Single-staff polyphony",documentation:'The basic structure needed to achieve multiple independent voices in a single staff is illustrated in the following example:\n\n    \\new Staff <<\n      \\new Voice = "first"\n        { \\voiceOne r8 r16 g e8. f16 g8[ c,] f e16 d }\n      \\new Voice= "second"\n        { \\voiceTwo d16 c d8~ d16 b c8~ c16 b c8~ c16 b8. }\n    >>\n\nHere, voices are instantiated explicitly and are given names. The \\voiceOne \u2026 \\voiceFour commands set up the voices so that first and third voices get stems up, second and fourth voices get stems down, third and fourth voice note heads are horizontally shifted, and rests in the respective voices are automatically moved to avoid collisions. The \\oneVoice command returns all the voice settings to the neutral default directions.'},{label:"\\void",detail:"A.18 Available music functions",documentation:"Accept a scheme argument, return a void expression. Use this if you want to have a scheme expression evaluated because of its side-effects, but its value ignored."},{label:"\\walkerHeads",detail:"Shape note heads",documentation:"In shape note head notation, the shape of the note head corresponds to the harmonic function of a note in the scale. This notation was popular in nineteenth-century American song books. Shape note heads can be produced in Sacred Harp, Southern Harmony, Funk (Harmonica Sacra), Walker, and Aiken (Christian Harmony) styles:\n\n    \\aikenHeads\n    c, d e f g2 a b1 c \\break\n    \\sacredHarpHeads\n    c,4 d e f g2 a b1 c \\break\n    \\southernHarmonyHeads\n    c,4 d e f g2 a b1 c \\break\n    \\funkHeads\n    c,4 d e f g2 a b1 c \\break\n    \\walkerHeads\n    c,4 d e f g2 a b1 c \\break"},{label:"\\walkerHeadsMinor",detail:"Shape note heads",documentation:"Shapes are typeset according to the step in the scale, where the base of the scale is determined by the \\key command. When writing in a minor key, the scale step can be determined from the relative major:\n\n    \\key a \\minor\n    \\aikenHeads\n    a b c d e2 f g1 a \\break\n    \\aikenHeadsMinor\n    a,4 b c d e2 f g1 a \\break\n    \\sacredHarpHeadsMinor\n    a,2 b c d \\break\n    \\southernHarmonyHeadsMinor\n    a2 b c d \\break\n    \\funkHeadsMinor\n    a2 b c d \\break\n    \\walkerHeadsMinor\n    a2 b c d \\break"},{label:"\\whichBar",detail:"Bar lines",documentation:'The command \u2018\\bar bartype\u2019 is a shortcut for \u2018\\set Timing.whichBar = bartype\u2019. A bar line is created whenever the whichBar property is set.\n\nThe default bar type used for automatically inserted bar lines is "|". This may be changed at any time with \u2018\\set Timing.defaultBarType = bartype\u2019.'},{label:"\\with-color",detail:"Coloring objects",documentation:'Individual objects may be assigned colors. Valid color names are listed in the List of colors.\n\n    \\override NoteHead.color = #red\n    c4 c\n    \\override NoteHead.color = #(x11-color \'LimeGreen)\n    d\n    \\override Stem.color = #blue\n    e\n\nThe full range of colors defined for X11 can be accessed by using the Scheme function x11-color. The function takes one argument; this can be a symbol in the form \'FooBar or a string in the form "FooBar". The first form is quicker to write and is more efficient. However, using the second form it is possible to access X11 colors by the multi-word form of its name.\n\nIf x11-color cannot make sense of the parameter then the color returned defaults to black.\n\n    \\override Staff.StaffSymbol.color = #(x11-color \'SlateBlue2)\n    \\set Staff.instrumentName = \\markup {\n      \\with-color #(x11-color \'navy) "Clarinet"\n    }\n    gis8 a\n    \\override Beam.color = #(x11-color "medium turquoise")\n    gis a\n    \\override Accidental.color = #(x11-color \'DarkRed)\n    gis a\n    \\override NoteHead.color = #(x11-color "LimeGreen")\n    gis a\n    % this is deliberate nonsense; note that the stems remain black\n    \\override Stem.color = #(x11-color \'Boggle)\n    b2 cis'},{label:"\\withMusicProperty",detail:"A.18 Available music functions",documentation:"Set sym to val in music."},{label:"\\wordwrap",detail:"Text alignment",documentation:"Long text indications can also be automatically wrapped accordingly to the given line width. These will be either left-aligned or justified, as shown in the following example.\n\n    \\markup {\n      \\column {\n        \\line  \\smallCaps { La vida breve }\n        \\line \\bold { Acto I }\n        \\wordwrap \\italic {\n          (La escena representa el corral de una casa de\n          gitanos en el Albaic\xedn de Granada.  Al fondo una\n          puerta por la que se ve el negro interior de\n          una Fragua, iluminado por los rojos resplandores\n          del fuego.)\n        }\n        \\hspace #0\n        \\line \\bold { Acto II }\n        \\override #'(line-width . 50)\n        \\justify \\italic {\n          (Calle de Granada.  Fachada de la casa de Carmela\n          y su hermano Manuel con grandes ventanas abiertas\n          a trav\xe9s de las que se ve el patio\n          donde se celebra una alegre fiesta)\n        }\n      }\n    }"},{label:"\\wordwrap-lines",detail:"Multi-page markup",documentation:"Although standard markup objects are not breakable, a specific syntax makes it possible to enter lines of text that can spread over multiple pages:\n\n    \\markuplist {\n      \\justified-lines {\n        A very long text of justified lines.\n        ...\n      }\n      \\wordwrap-lines {\n        Another very long paragraph.\n        ...\n      }\n      ...\n    }\n\nThis syntax accepts a list of markups, that can be\n\n - the result of a markup list command,\n - a list of markups,\n - a list of markup lists.\n\nAn exhaustive list of markup list commands can be found in Text markup list commands."},{label:"X-offset",detail:"Within-system spacing properties",documentation:"The within-system vertical spacing mechanisms are controlled by two sets of grob properties. The first set is associated with the VerticalAxisGroup grob, which is created by all staves and non-staff lines. The second set is associated with the StaffGrouper grob, which can be created by staff-groups, but only if explicitly called. These properties are described individually at the end of this section.\n\nThe names of these properties (except for staff-affinity) follow the format item1-item2-spacing, where item1 and item2 are the items to be spaced. Note that item2 is not necessarily below item1; for example, nonstaff-relatedstaff-spacing will measure upwards from the non-staff line if staff-affinity is UP.\n\nEach distance is measured between the reference points of the two items. The reference point for a staff is the vertical center of its StaffSymbol (i.e. the middle line if line-count is odd; the middle space if line-count is even). The reference points for individual non-staff lines are given in the following table:\n\nNon-staff line\tReference point\nChordNames\tbaseline\nNoteNames\tbaseline\nLyrics\tbaseline\nDynamics\tmid-height of \u2018m\u2019\nFiguredBass\thighest point\nFretBoards\ttop line\n\n\nIn the following image, horizontal lines indicate the positions of these reference points:\n\nEach of the vertical spacing grob properties (except staff-affinity) uses the same alist structure as the \\paper spacing variables discussed in Flexible vertical spacing \\paper variables. Specific methods for modifying alists are discussed in Modifying alists. Grob properties should be adjusted with an \\override inside a \\score or \\layout block, and not inside a \\paper block.\n\nThe following example demonstrates the two ways these alists can be modified. The first declaration updates one key-value individually, and the second completely re-defines the property:\n\n    \\new Staff \\with {\n      \\override VerticalAxisGroup.default-staff-staff-spacing.basic-distance = #10\n    } { \u2026 }\n    \\new Staff \\with {\n      \\override VerticalAxisGroup.default-staff-staff-spacing =\n        #'((basic-distance . 10)\n           (minimum-distance . 9)\n           (padding . 1)\n           (stretchability . 10))\n    } { \u2026 }\n\nTo change any spacing settings globally, put them in the \\layout block:\n\n    \\layout {\n      \\context {\n        \\Staff\n        \\override VerticalAxisGroup.default-staff-staff-spacing.basic-distance = #10\n      }\n    }\n\nStandard settings for the vertical spacing grob properties are listed in VerticalAxisGroup and StaffGrouper. Default overrides for specific types of non-staff lines are listed in the relevant context descriptions in Contexts."},{label:"\\x11-color",detail:"Coloring objects",documentation:'Individual objects may be assigned colors. Valid color names are listed in the List of colors.\n\n    \\override NoteHead.color = #red\n    c4 c\n    \\override NoteHead.color = #(x11-color \'LimeGreen)\n    d\n    \\override Stem.color = #blue\n    e\n\nThe full range of colors defined for X11 can be accessed by using the Scheme function x11-color. The function takes one argument; this can be a symbol in the form \'FooBar or a string in the form "FooBar". The first form is quicker to write and is more efficient. However, using the second form it is possible to access X11 colors by the multi-word form of its name.\n\nIf x11-color cannot make sense of the parameter then the color returned defaults to black.\n\n    \\override Staff.StaffSymbol.color = #(x11-color \'SlateBlue2)\n    \\set Staff.instrumentName = \\markup {\n      \\with-color #(x11-color \'navy) "Clarinet"\n    }\n    gis8 a\n    \\override Beam.color = #(x11-color "medium turquoise")\n    gis a\n    \\override Accidental.color = #(x11-color \'DarkRed)\n    gis a\n    \\override NoteHead.color = #(x11-color "LimeGreen")\n    gis a\n    % this is deliberate nonsense; note that the stems remain black\n    \\override Stem.color = #(x11-color \'Boggle)\n    b2 cis'},{label:"\\xNote",detail:"A.18 Available music functions",documentation:"Print note with a cross-shaped note head."},{label:"\\xNotesOn",detail:"A.18 Available music functions",documentation:"Set the default note head style to a cross-shaped style."}].map(function(e){var t=e.label;return{label:t,detail:e.detail,documentation:e.documentation,kind:0,insertText:t.replace(P,"")}}),F={provideCompletionItems:function(e,t,n){var i=e.getValueInRange({endColumn:t.column,endLineNumber:t.lineNumber,startColumn:1,startLineNumber:1});return"\\"===i[i.length-2]?R:[{kind:0,label:""}]}},j={tokenPostfix:".ly",brackets:[{open:"\\(",close:"\\)",token:"bracket.parenthesis"},{open:"(",close:")",token:"bracket.parenthesis"},{open:"{",close:"}",token:"bracket.curly"},{open:"[",close:"]",token:"bracket.square"},{open:"<<",close:">>",token:"bracket.triangle"},{open:"<",close:">",token:"bracket.triangle"}],tokenizer:{root:[{regex:/#"/,action:{token:"string.d.delim",bracket:"@open",next:'@dstring.d."'}},{regex:/#.*/,action:{token:"constant"}},{regex:/\b((solx|soltcs|soltcb|solstqt|solss|solsqt|solsd|solsb|sols|solkk|solk|soldsd|soldd|sold|solcs|solcb|solbtqt|solbsb|solbqt|solbb|solb|sol|six|sitcs|sitcb|sistqt|siss|sisqt|sisd|sisb|sis|sikk|sik|sidsd|sidd|sid|sics|sicb|sibtqt|sibsb|sibqt|sibb|sib|si|rex|retcs|retcb|restqt|ress|resqt|resd|resb|res|rekk|rek|redsd|redd|red|recs|recb|rebtqt|rebsb|rebqt|rebb|reb|re|mix|mitcs|mitcb|mistqt|miss|misqt|misd|misb|mis|mikk|mik|midsd|midd|mid|mics|micb|mibtqt|mibsb|mibqt|mibb|mib|mi|lax|latcs|latcb|lastqt|lass|lasqt|lasd|lasb|las|lakk|lak|ladsd|ladd|lad|lacs|lacb|labtqt|labsb|labqt|labb|lab|la|hississ|hiss|hisis|hisih|his|hih|hessess|heses|heseh|h|gx|gtqs|gtqf|gss|gsharpsharp|gsharp|gs|gqs|gqf|gississ|giss|gisis|gisih|gis|gih|gflatflat|gflat|gff|gf|gessess|gess|geses|geseh|ges|geh|g|fx|ftqs|ftqf|fss|fsharpsharp|fsharp|fs|fqs|fqf|fississ|fiss|fisis|fisih|fis|fih|fflatflat|fflat|fff|ff|fessess|fess|feses|feseh|fes|feh|fax|fatcs|fatcb|fastqt|fass|fasqt|fasd|fasb|fas|fakk|fak|fadsd|fadd|fad|facs|facb|fabtqt|fabsb|fabqt|fabb|fab|fa|f|ex|etqs|etqf|essess|ess|esharpsharp|esharp|eses|eseh|es|eqs|eqf|eississ|eiss|eisis|eisih|eis|eih|eflatflat|eflat|eff|ef|eessess|eess|eeses|eeseh|ees|eeh|e|dx|dtqs|dtqf|dss|dsharpsharp|dsharp|ds|dqs|dqf|dox|dotcs|dotcb|dostqt|doss|dosqt|dosd|dosb|dos|dokk|dok|dodsd|dodd|dod|docs|docb|dobtqt|dobsb|dobqt|dobb|dob|do|dississ|diss|disis|disih|dis|dih|dflatflat|dflat|dff|df|dessess|dess|deses|deseh|des|deh|d|cx|ctqs|ctqf|css|csharpsharp|csharp|cs|cqs|cqf|cississ|ciss|cisis|cisih|cis|cih|cflatflat|cflat|cff|cf|cessess|cess|ceses|ceseh|ces|ceh|c|bx|btqs|btqf|bss|bsharpsharp|bsharp|bs|bqs|bqf|bisis|bisih|bis|bih|bflatflat|bflat|bff|bf|bess|beses|beseh|bes|beh|bb|b|ax|atqs|atqf|assess|ass|asharpsharp|asharp|ases|aseh|asas|asah|as|aqs|aqf|aississ|aiss|aisis|aisih|ais|aih|aflatflat|aflat|aff|af|aessess|aess|aeses|aeseh|aes|aeh|a|a)(\s*[=]?\s*(([,]\s*)|([']\s*)){0,4}\s*[?!]?)?|r|s|R|q)(?![A-Za-z])((128|64|32|16|8|4|2|1|\\breve|\\longa|\\maxima)(\s*[.]\s*)*((\s*\*\s*\d+(\/\d+)?)+)?)?(\s*[:](\s*(aug7|aug|dim|maj7|maj9|maj11|maj|m7\.5-|m7\+|m11|m9|m7|m6|m5|m|dim7|13\.11|13[-+]?|6[-+]?|9[-+]?|11[-+]?|sus2|sus4|sus|1[-+]?\.5[-+]?|1[-+]?\.5[-+]?\.8[-+]?|\d*[-+]?)((\s*[.]?\s*\d+[-+]?)|[-+])*)?)?(\s*\^\s*\d+(\s*\.\s*\d+)*)?(?![A-Za-z0-9])?/,action:{token:"string"}},{regex:/([-_^](\s*))?(((\\lyrics\s*)({))|((\\lyricmode\s*)({))|((\\addlyrics\s*)({))|((\\lyricsto\s*(\".*\")\s*)({))|(((\\lyricsto)\s*(\S*)\s*)({)))/,action:{token:"string.d.delim",bracket:"@open",next:"@lyricmode"}},{regex:/([-_^](\s*))?\\[a-zA-Z-.]*/,action:{token:"keyword"}},{regex:/\b(NullVoice|spacing|signature|routine|notes|handler|corrected|beams|arpeggios|Volta_engraver|Voice|Vertical_align_engraver|Vaticana_ligature_engraver|VaticanaVoice|VaticanaStaff|Tweak_engraver|Tuplet_engraver|Trill_spanner_engraver|Timing_translator|Time_signature_performer|Time_signature_engraver|Tie_performer|Tie_engraver|Text_spanner_engraver|Text_engraver|Tempo_performer|Tab_tie_follow_engraver|Tab_staff_symbol_engraver|Tab_note_heads_engraver|TabVoice|TabStaff|System_start_delimiter_engraver|Stem_engraver|Stanza_number_engraver|Stanza_number_align_engraver|Staff_symbol_engraver|Staff_performer|Staff_collecting_engraver|StaffGroup|Staff|Spanner_break_forbid_engraver|Span_bar_stub_engraver|Span_bar_engraver|Span_arpeggio_engraver|Spacing_engraver|Slur_performer|Slur_engraver|Slash_repeat_engraver|Separating_line_group_engraver|Script_row_engraver|Script_engraver|Script_column_engraver|Score|Rhythmic_column_engraver|RhythmicStaff|Rest_engraver|Rest_collision_engraver|Repeat_tie_engraver|Repeat_acknowledge_engraver|Pure_from_neighbor_engraver|Pitched_trill_engraver|Pitch_squash_engraver|Piano_pedal_performer|Piano_pedal_engraver|Piano_pedal_align_engraver|PianoStaff|Phrasing_slur_engraver|PetrucciVoice|PetrucciStaff|Percent_repeat_engraver|Part_combine_engraver|Parenthesis_engraver|Paper_column_engraver|Output_property_engraver|Ottava_spanner_engraver|Note_spacing_engraver|Note_performer|Note_name_engraver|Note_heads_engraver|Note_head_line_engraver|NoteNames|New_fingering_engraver|New_dynamic_engraver|Multi_measure_rest_engraver|Metronome_mark_engraver|Mensural_ligature_engraver|MensuralVoice|MensuralStaff|Mark_engraver|Lyrics|Lyric_performer|Lyric_engraver|Ligature_bracket_engraver|Ledger_line_engraver|Laissez_vibrer_engraver|KievanVoice|KievanStaff|Key_performer|Key_engraver|Keep_alive_together_engraver|Instrument_switch_engraver|Instrument_name_engraver|Hyphen_engraver|Hara_kiri_engraver|Grob_pq_engraver|GregorianTranscriptionVoice|GregorianTranscriptionStaff|GrandStaff|Grace_spacing_engraver|Grace_engraver|Grace_beam_engraver|Global|Glissando_engraver|Fretboard_engraver|FretBoards|Forbid_line_break_engraver|Footnote_engraver|Font_size_engraver|Fingering_engraver|Figured_bass_position_engraver|Figured_bass_engraver|FiguredBass|Extender_engraver|Episema_engraver|Dynamics|Dynamic_performer|Dynamic_align_engraver|Drum_notes_engraver|Drum_note_performer|DrumVoice|DrumStaff|Double_percent_repeat_engraver|Dots_engraver|Dot_column_engraver|Devnull|Default_bar_line_engraver|Custos_engraver|Cue_clef_engraver|CueVoice|Control_track_performer|Concurrent_hairpin_engraver|Collision_engraver|Cluster_spanner_engraver|Clef_engraver|Chord_tremolo_engraver|Chord_name_engraver|ChordNames|ChordNameVoice|ChoirStaff|Breathing_sign_engraver|Break_align_engraver|Bend_engraver|Beam_performer|Beam_engraver|Beam_collision_engraver|Bar_number_engraver|Bar_engraver|Axis_group_engraver|Auto_beam_engraver|Arpeggio_engraver|Accidental_engraver|Score|volta|unfold|percent|tremolo)\b/,action:{token:"constructor"}},{regex:/</,action:{token:"string"}},{regex:">(128|64|32|16|8|4|2|1|\\breve|\\longa|\\maxima)?",action:{token:"string"}},{regex:/\d+\/\d+/,action:{token:"constant"}},{regex:/\d+/,action:{token:"constant"}},{regex:/[{}()[\]]/,action:{token:"@brackets"}},{regex:/"/,action:{token:"string.d.delim",bracket:"@open",next:'@dstring.d."'}},{regex:/\w+/,action:{token:"text"}},{include:"@whitespace"}],whitespace:[{regex:/[ \t\r\n]+/,action:{token:"white"}},{regex:/%{/,action:{token:"comment",next:"@comment"}},{regex:/%.*/,action:{token:"comment"}}],comment:[{regex:/[^%{}]+/,action:{token:"comment"}},{regex:/%{/,action:{token:"comment",next:"@push"}},{regex:"%}",action:{token:"comment",next:"@pop"}},{regex:/%{/,action:{token:"comment"}},{regex:/%.*/,action:{token:"comment"}}],lyricmode:[{regex:/{/,action:{token:"comment",next:"@push"}},{regex:/}/,action:{token:"comment",next:"@pop"}}],dstring:[{regex:/[^\\`"#]+/,action:{token:"string.$S2"}},{regex:/\\$/,action:{token:"string.$S2.escape"}},{regex:/\\./,action:{token:"string.$S2.escape.invalid"}},{regex:/[`"]/,action:{cases:{"$#==$S3":{token:"string.$S2.delim",bracket:"@close",next:"@pop"},"@default":"string.$S2"}}}]}},W=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),V=!1,B=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.commands=new M(function(e,n){t.props.showMakelily(e,n)}),t.oldDecorations=[],t.handleEditorDidMount=function(e,n){e.focus(),t.editor=e,window.addEventListener("resize",t.handleResize,!1),t.commands.init(e)},t.handleEditorWillMount=function(e){V||(V=!0,e.languages.register({id:"lilypond"}),e.languages.setMonarchTokensProvider("lilypond",j),e.languages.registerCompletionItemProvider("lilypond",F),e.languages.registerCodeLensProvider("lilypond",new A(t.commands)))},t.handleResize=function(){t.editor&&t.editor.layout()},t}return W(t,e),t.prototype.componentDidUpdate=function(e){if(void 0!==this.editor){var t=this.props,n=t.mode,i=t.logs,o=t.defaultSelection;if(e.mode!==n&&this.editor.layout(),e.logs!==i){var r=[],a=/hacklily.ly:([0-9]*):(([0-9]*):([0-9]*))?\s*([ew].*)/g,l=this.oldDecorations||[];if(i){for(var c=a.exec(i);c;c=a.exec(i))r.push({options:{hoverMessage:{isTrusted:!1,value:c[5]},inlineClassName:"lilymonaco-inline-error",linesDecorationsClassName:Object(s.css)(g.a.errorDecoration)},range:{endColumn:parseInt(c[4]||String(parseInt(c[2],10)+1),10),endLineNumber:parseInt(c[1],10)-1,startColumn:parseInt(c[3],10),startLineNumber:parseInt(c[1],10)-1}});this.oldDecorations=this.editor.deltaDecorations(l,r)}}e.defaultSelection!==o&&null!==o&&(this.editor.setSelection(o),this.editor.revealLineInCenter(o.selectionStartLineNumber),this.editor.focus())}},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.handleResize)},t.prototype.find=function(){this.editor&&this.editor.trigger("host","actions.find",void 0)},t.prototype.findNext=function(){this.editor&&this.editor.trigger("host","editor.action.nextMatchFindAction",void 0)},t.prototype.getMakelilyProperties=function(){var e=/\\time.*/g,t=/\\clef.*/g,n=/\\key.*/g,i=this.props.code||"";function o(e){return e?e[0]:null}function r(e){return e?e[e.length-1]:null}var a={makelilyClef:(o(i.match(t))||"\\clef treble").replace("\\clef ",""),makelilyKey:(o(i.match(n))||"\\key c \\major").replace("\\key ",""),makelilyTime:(o(i.match(e))||"\\time 4/4").replace("\\time ","")};if(!this.editor)return a;for(var s="",l=i.split("\n"),c=this.editor.getPosition(),u=0;u<c.lineNumber-1;u+=1)s+=l[u]+"\n";return s+=l[c.lineNumber-1].slice(0,c.column),a.makelilyClef=(r(s.match(t))||a.makelilyClef).replace("\\clef ",""),a.makelilyKey=(r(s.match(n))||a.makelilyKey).replace("\\key ",""),a.makelilyTime=(r(s.match(e))||a.makelilyTime).replace("\\time ",""),a},t.prototype.insertText=function(e){if(this.editor){var t=this.editor.getPosition(),n={forceMoveMarkers:!0,range:new v.Range(t.lineNumber,1,t.lineNumber,1),text:e};this.editor.executeEdits("hacklily",[n])}},t.prototype.render=function(){var e=this.props,t=e.code,n=e.mode,i=e.onSetCode,r=e.readOnly,a=e.rendererVersion,l=e.onHideUnstableNotification,c=e.hideUnstable219Notification,u={autoClosingBrackets:!0,minimap:{enabled:!1},readOnly:r,selectionHighlight:!1,wordBasedSuggestions:!1},d=n===I?"100%":"50%",h=null;r&&(h=this.props.isImmutableSrc?o.a.createElement("div",{className:Object(s.css)(g.a.urgentEditorNotification),style:{width:d}},o.a.createElement("i",{className:"fa-info-circle fa fa-fw"})," to edit, import this song"):o.a.createElement("div",{className:Object(s.css)(g.a.urgentEditorNotification),style:{width:d}},o.a.createElement("i",{className:"fa-lock fa fa-fw"})," read-only \u2014 to edit, log in as the owner or save a copy"));var f=null;return"unstable"!==a||c||(f=o.a.createElement("div",{className:Object(s.css)(g.a.urgentEditorNotification),style:{width:d}},o.a.createElement("i",{className:"fa-bug fa fa-fw"})," This song uses LilyPond 2.19, which is an unstable development version and may change without notice."," ",o.a.createElement("a",{onClick:l,className:Object(s.css)(g.a.urgentEditorNotificationClose),href:"javascript:void(0)"},"I understand."))),null===t||void 0===t?null:o.a.createElement("div",{className:"monaco "+Object(s.css)(n===N&&g.a.monacoHidden)},h,f,o.a.createElement(_.a,{key:r?"read-only":"read-write",editorDidMount:this.handleEditorDidMount,editorWillMount:this.handleEditorWillMount,height:"100%",language:"lilypond",onChange:i,options:u,theme:this.props.colourScheme,value:t,width:d}))},t.prototype.selectAll=function(){this.editor&&this.editor.trigger("host","editor.action.selectAll",void 0)},t}(o.a.PureComponent),H=function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function s(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((i=i.apply(e,t||[])).next())})},z=function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},U=function(){return function(){this.message="This file does not exist."}}();function q(e){return H(this,void 0,Promise,function(){var t,n,i;return z(this,function(o){switch(o.label){case 0:if(2!==(t=e.repo.split("/")).length)throw new Error("Could not get repo details.");o.label=1;case 1:return o.trys.push([1,3,,7]),[4,function(e,t,n){return H(this,void 0,Promise,function(){var i;return z(this,function(o){switch(o.label){case 0:return[4,fetch("https://api.github.com/repos/"+t+"/"+n+"?cache_bust="+(new Date).getTime(),{headers:{Accept:"application/json",Authorization:"token "+e}})];case 1:if(404===(i=o.sent()).status)throw new U;if(i.status>=400)throw new Error("Could not get repo");return[2,i.json()]}})})}(e.accessToken,t[0],t[1])];case 2:return n=o.sent(),[3,7];case 3:if(!((i=o.sent())instanceof U))return[3,5];if(t[0]!==e.username)throw new Error("Invalid repo.");return[4,function(e,t,n){return H(this,void 0,Promise,function(){var i;return z(this,function(o){switch(o.label){case 0:return[4,fetch("https://api.github.com/user/repos?cache_bust="+(new Date).getTime(),{body:JSON.stringify({auto_init:!0,description:"Sheet music by "+t,has_issues:!1,has_pages:!0,has_projects:!1,has_wiki:!1,homepage:"https://"+t+".github.io/sheet-music",name:n}),headers:{Accept:"application/json",Authorization:"token "+e,"Content-Type":"application/json"},method:"POST"})];case 1:if((i=o.sent()).status>=400)throw new Error("Could not create repo");return[2,i.json()]}})})}(e.accessToken,t[0],t[1])];case 4:return n=o.sent(),[3,6];case 5:throw i;case 6:return[3,7];case 7:return[2,n]}})})}function G(e,t,n){return void 0===n&&(n="master"),H(this,void 0,Promise,function(){var i;return z(this,function(o){switch(o.label){case 0:return i={Authorization:"token "+e},[4,fetch("https://api.github.com/repos/"+t+"/contents?ref="+n+"&cache_bust="+(new Date).getTime(),{headers:i})];case 1:return[4,o.sent().json()];case 2:return[2,o.sent().map(function(e){return{path:e.path,sha:e.sha}})]}})})}var K=function(){return function(){this.message="Cannot save file because it conflicts with another file."}}();function Y(e,t,n,i,o,r){return void 0===r&&(r="master"),H(this,void 0,Promise,function(){var a;return z(this,function(s){switch(s.label){case 0:return[4,fetch("https://api.github.com/repos/"+t+"/contents/"+n,{body:JSON.stringify({branch:r,content:i,message:"Saved via https://www.hacklily.org",sha:o||void 0}),headers:{Accept:"application/json",Authorization:"token "+e,"Content-Type":"application/json"},method:"PUT"})];case 1:if(409===(a=s.sent()).status)throw new K;if(404===a.status)throw new U;if(200!==a.status&&201!==a.status)throw new Error("Status: "+a.statusText);return[2]}})})}function Z(e,t,n,i,o){return void 0===o&&(o="master"),H(this,void 0,Promise,function(){var r;return z(this,function(a){switch(a.label){case 0:return[4,fetch("https://api.github.com/repos/"+t+"/contents/"+n,{body:JSON.stringify({branch:o,message:"Saved via https://www.hacklily.org",sha:i||void 0}),headers:{Accept:"application/json",Authorization:"token "+e,"Content-Type":"application/json"},method:"DELETE"})];case 1:if(409===(r=a.sent()).status)throw new K;if(200!==r.status)throw new Error("Status: "+r.statusText);return[2]}})})}var $=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),X=function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function s(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((i=i.apply(e,t||[])).next())})},Q=function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},J=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={repoError:null,repoTree:null},t.fetchSongs=function(){return X(t,void 0,Promise,function(){var e,t;return Q(this,function(n){switch(n.label){case 0:if(!(e=this.props.auth))return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,G(e.accessToken,e.repo)];case 2:return t=n.sent(),this.setState({repoTree:t}),[3,4];case 3:return n.sent(),this.setState({repoError:"Could not retreive your songs."}),[3,4];case 4:return[3,6];case 5:this.setState({repoError:null,repoTree:null}),n.label=6;case 6:return[2]}})})},t.handleColourSchemeToggled=function(){var e="vs-dark"===t.props.colourScheme?"vs":"vs-dark";t.props.setColourScheme(e)},t.handleSongDeleteClick=function(e){var n=e.currentTarget.dataset.song;if(!n)throw new Error("No song defined on element.");t.props.onDeleteSong(n)},t.handleSongLiClick=function(e){var n=e.currentTarget.dataset.song;if(!n)throw new Error("No song defined on element.");t.props.onLoadSong(n)},t}return $(t,e),t.prototype.componentDidMount=function(){this.fetchSongs()},t.prototype.componentDidUpdate=function(e){e.auth!==this.props.auth&&this.fetchSongs()},t.prototype.render=function(){var e,t=this.props,n=t.auth,i=t.onSignOut,r=t.onHide,a=t.onShowAbout,l=t.windowWidth;n&&(e=o.a.createElement("button",{onClick:i,className:Object(s.css)(g.f.option)},o.a.createElement("i",{className:"fa fa-fw fa-sign-out","aria-hidden":!0})," Sign out (",n.name,")"));var c=null;l<500&&(c=o.a.createElement("div",null,o.a.createElement("i",{className:"fa fa-fw fa-exclamation-triangle"})," Hacklily works best on wider screens."));var u=o.a.createElement("a",{href:"http://lilypond.org/doc/v2.18/Documentation/learning/index",rel:"noopener noreferrer",className:Object(s.css)(g.f.option),target:"_blank"},o.a.createElement("i",{className:"fa fa-fw fa-life-ring","aria-hidden":!0})," Lilypond manual"),d=o.a.createElement("button",{onClick:a,className:Object(s.css)(g.f.option)},o.a.createElement("i",{className:"fa fa-fw fa-info-circle","aria-hidden":!0})," About Hacklily");return o.a.createElement(m.a,{className:Object(s.css)(g.f.menu),contentLabel:"Menu",isOpen:!0,onRequestClose:r,overlayClassName:Object(s.css)(g.f.menuOverlay)},o.a.createElement("div",{className:Object(s.css)(g.f.menuColumn)},c,o.a.createElement("div",{className:Object(s.css)(g.f.songList,g.f.option)},this.renderSongs()),e,u,this.renderSetColourScheme(),d))},t.prototype.renderSetColourScheme=function(){var e="vs-dark"===this.props.colourScheme?"Use light colour scheme":"Use dark colour scheme";return o.a.createElement("button",{onClick:this.handleColourSchemeToggled,className:Object(s.css)(g.f.option)},o.a.createElement("i",{className:"fa fa-fw fa-lightbulb-o","aria-hidden":!0})," ",e)},t.prototype.renderSongs=function(){var e,t=this,n=this.props,i=n.auth,r=n.onSignIn,a=this.state,l=a.repoTree,c=a.repoError;if(i)if(c)e=o.a.createElement("div",{className:Object(s.css)(g.f.placeholder)},c);else if(l){var u=l.filter(function(e){return e.path.endsWith(".ly")}).sort();if(u.length){var d=u.map(function(e){return o.a.createElement("li",{key:e.path},o.a.createElement("button",{className:Object(s.css)(g.f.song),onClick:t.handleSongLiClick,"data-song":i.repo+"/"+e.path},o.a.createElement("i",{className:"fa fa-file-o fa-fw","aria-hidden":!0})," ",e.path),o.a.createElement("button",{className:Object(s.css)(g.f.deleteSong),onClick:t.handleSongDeleteClick,"data-song":i.repo+"/"+e.path},o.a.createElement("i",{className:"fa fa-remove fa-fw","aria-hidden":!0}),o.a.createElement("span",{className:Object(s.css)(g.d.srOnly)},"Delete this song")))});e=o.a.createElement("ul",{className:Object(s.css)(g.f.innerSongList)},d)}else e=o.a.createElement("div",{className:Object(s.css)(g.f.placeholder)},"Save / share a song to see it here.")}else e=o.a.createElement("div",{className:Object(s.css)(g.f.placeholder)},o.a.createElement("i",{className:"fa fa-spinner fa-spin","aria-hidden":!0}));else e=o.a.createElement("div",{className:Object(s.css)(g.f.placeholder)},o.a.createElement("button",{onClick:r,className:Object(s.css)(g.f.placeholderLink)},"Sign in")," ","to see your songs.");return e},t}(o.a.PureComponent),ee=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),te=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ee(t,e),t.prototype.render=function(){return o.a.createElement(m.a,{className:Object(s.css)(g.g.modal),contentLabel:"About Hacklily",isOpen:!0,onRequestClose:this.props.onHide,overlayClassName:Object(s.css)(g.g.overlay)},o.a.createElement("div",null,o.a.createElement("div",{className:Object(s.css)(g.g.modalHeader)},o.a.createElement("strong",null,"Page not found (404)"),o.a.createElement("button",{"aria-label":"Back to song",onClick:this.props.onHide,className:Object(s.css)(g.g.closeButton)},o.a.createElement("i",{className:"fa-close fa","aria-hidden":!0}))),o.a.createElement("div",{className:Object(s.css)(g.g.modalBody)},o.a.createElement("p",{style:{marginTop:0}},"The requested page may have been moved or deleted."),o.a.createElement("p",null,"Hacklily is a free online sheet-music editor and publishing tool. While you are here, why not"," ",o.a.createElement("button",{onClick:this.props.onHide,className:Object(s.css)(g.g.link)},"give it a try"),"?"))))},t}(o.a.PureComponent),ne=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ie=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ne(t,e),t.prototype.render=function(){return o.a.createElement(m.a,{className:Object(s.css)(g.g.modal),contentLabel:"About Hacklily",isOpen:!0,onRequestClose:this.props.onHide,overlayClassName:Object(s.css)(g.g.overlay)},o.a.createElement("div",null,o.a.createElement("div",{className:Object(s.css)(g.g.modalHeader)},"About Hacklily",o.a.createElement("button",{"aria-label":"Back to song",onClick:this.props.onHide,className:Object(s.css)(g.g.closeButton)},o.a.createElement("i",{className:"fa-close fa","aria-hidden":!0}))),o.a.createElement("div",{className:Object(s.css)(g.g.modalBody)},o.a.createElement("div",null,o.a.createElement("strong",null,"Hacklily is an online sheet-music editor and publishing tool."),o.a.createElement("p",null,"It is powered by"," ",o.a.createElement("a",{href:"http://lilypond.org/",target:"_blank",rel:"noopener noreferrer"},"LilyPond"),". New to LilyPond? Take a look at the"," ",o.a.createElement("a",{href:"http://lilypond.org/doc/v2.18/Documentation/learning/index",rel:"noopener noreferrer",target:"_blank"},"tutorial"),"!"),o.a.createElement("p",null,"You can view Hacklily's source and contribute code on"," ",o.a.createElement("a",{href:"https://github.com/hacklily/hacklily",target:"_blank",rel:"noopener noreferrer"},"GitHub"),".")),o.a.createElement("div",{className:Object(s.css)(g.g.license)},o.a.createElement("p",null,"This project is"," ",o.a.createElement("a",{href:"https://www.fsf.org/about/what-is-free-software"},"free software"),": you can redistribute it and/or modify it under the terms of the GNU General Public License (GNU GPL) as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. The code is distributed WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU GPL for more details."),o.a.createElement("p",null,o.a.createElement("a",{href:"https://www.gnu.org/licenses/gpl-3.0.html"},"Read the GNU General Public License version 3.")),o.a.createElement("p",null,"See"," ",o.a.createElement("a",{href:"about-javascript.html"},"additional license statements",o.a.createElement("span",{className:Object(s.css)(g.g.gpl)},o.a.createElement("img",{src:"gplv3-127x51.png",alt:"Licensed under the GNU General Public License version 3"}))),", ",o.a.createElement("a",{href:"dmca.html"},"DMCA info"),", and"," ",o.a.createElement("a",{href:"privacy-statement.html"},"privacy statement"),".",o.a.createElement("br",null),"\xa9 Copyright"," ",o.a.createElement("a",{href:"https://nettek.ca",target:"_blank",rel:"noopener noreferrer"},"Joshua Netterfield")," ","2017 - present. \ud83c\udde8\ud83c\udde6")))))},t}(o.a.PureComponent),oe=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),re=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return oe(t,e),t.prototype.render=function(){return o.a.createElement(m.a,{className:Object(s.css)(g.g.modal),contentLabel:"Resolve external changes",isOpen:!0,overlayClassName:Object(s.css)(g.g.overlay)},o.a.createElement("div",null,o.a.createElement("div",{className:Object(s.css)(g.g.modalHeader)},"Keep unsaved changes?"),o.a.createElement("div",{className:Object(s.css)(g.g.modalBody)},o.a.createElement("p",{style:{marginTop:0}},o.a.createElement("strong",null,"This song was edited outside of this browser.")," You can either keep the unsaved version from this browser, or revert to the saved version."),o.a.createElement("p",null,o.a.createElement("strong",null,"Tip: ")," Next time, save songs before closing Hacklily."),o.a.createElement("div",{style:{display:"flex",marginBottom:10}},o.a.createElement("div",{style:{flex:1}}),o.a.createElement("div",null,o.a.createElement("button",{onClick:this.props.resolveLocalStorage,className:Object(s.css)(g.b.buttonStyle)},"Keep unsaved version"),o.a.createElement("button",{onClick:this.props.resolveGitHub,className:Object(s.css)(g.b.buttonStyle)},"Revert to saved version"))))))},t}(o.a.PureComponent),ae=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),se=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ae(t,e),t.prototype.render=function(){return o.a.createElement(m.a,{className:Object(s.css)(g.g.modal),contentLabel:"Opened in another tab...",isOpen:!0,overlayClassName:Object(s.css)(g.g.overlay)},o.a.createElement("div",null,o.a.createElement("div",{className:Object(s.css)(g.g.modalHeader)},"This song was opened in another tab. You can only edit in one tab at once. If you have closed the other tab, you may"," ",o.a.createElement("a",{href:window.location.toString()},"resume editing here"),".")))},t}(o.a.PureComponent);function le(e){localStorage.setItem("startedEditingNotification",e),localStorage.removeItem("startedEditingNotification")}var ce=null;function ue(e){ce&&(window.removeEventListener("storage",ce),ce=null),e&&(ce=function(t){"startedEditingNotification"===t.key&&t.newValue&&e(t.newValue)},window.addEventListener("storage",ce))}var de=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),he=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return de(t,e),t.prototype.componentWillMount=function(){var e=new Uint32Array(1);crypto.getRandomValues(e);var t=e[0].toString();this.props.setCSRF(t)},t.prototype.render=function(){var e=this.props,t=e.csrf,n=e.onHide,i=e.connectToGitHubReason;if(!u)return o.a.createElement(m.a,{isOpen:!0,onRequestClose:n,className:Object(s.css)(g.g.modal),contentLabel:"Sign in",overlayClassName:Object(s.css)(g.g.overlay)},o.a.createElement("p",null,"GitHub integration is not enabled in this copy of Hacklily since the"," ",o.a.createElement("code",null,"REACT_APP_GITHUB_CLIENT_ID")," environment variable was not set when bundling the application."));var r=o.a.createElement("span",null,o.a.createElement("strong",null,o.a.createElement("i",{className:"fa fa-info-circle","aria-hidden":"true"})," ",i||"Sign in or create an account"));return o.a.createElement(m.a,{isOpen:!0,onRequestClose:n,className:Object(s.css)(g.g.modal),contentLabel:"Sign in",overlayClassName:Object(s.css)(g.g.overlay)},o.a.createElement("div",null,o.a.createElement("div",{className:Object(s.css)(g.g.modalHeader)},r,o.a.createElement("button",{className:Object(s.css)(g.g.closeButton),"aria-label":"Back to song",onClick:n},o.a.createElement("i",{className:"fa-close fa","aria-hidden":!0}))),o.a.createElement("div",{className:Object(s.css)(g.g.modalBody)},o.a.createElement("p",{className:Object(s.css)(g.g.signInPrivacy)},"Songs you save will be ",o.a.createElement("strong",null,"public")," on GitHub and Hacklily."),o.a.createElement("p",{className:Object(s.css)(g.g.signInPrivacy)},"If you do not have a"," ",o.a.createElement("a",{href:"https://help.github.com/articles/github-glossary/#repository",target:"_blank",rel:"noopener noreferrer"},"repo")," ","named ",o.a.createElement("code",null,"sheet-music"),", Hacklily will create one."),o.a.createElement("p",{className:Object(s.css)(g.g.login)},o.a.createElement("a",{href:h(t)},o.a.createElement("button",{className:Object(s.css)(g.c.btnGithub)},"Continue with GitHub"))),o.a.createElement("p",{className:Object(s.css)(g.g.license)},"Only save songs you want to share. See the"," ",o.a.createElement("a",{href:"privacy-statement.html",target:"_blank",rel:"noopener noreferrer"},"privacy statement"),"."," ",o.a.createElement("a",{href:"dmca.html",target:"_blank",rel:"noopener noreferrer"},"DMCA")))))},t}(o.a.PureComponent),fe=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),pe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return fe(t,e),t.prototype.render=function(){return o.a.createElement(m.a,{className:Object(s.css)(g.g.modal),contentLabel:"Saving...",isOpen:!0,overlayClassName:Object(s.css)(g.g.overlay)},o.a.createElement("div",null,o.a.createElement("div",{className:Object(s.css)(g.g.modalHeader)},"Saving, please wait\u2026"," ",o.a.createElement("i",{className:"fa fa-spinner fa-spin","aria-hidden":!0}))))},t}(o.a.PureComponent),me=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ge=function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function s(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((i=i.apply(e,t||[])).next())})},be=function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};function ye(e,t,n,i,o){return ge(this,void 0,Promise,function(){var r,a,s,l,c,u,d,h,f,p,m,g;return be(this,function(b){switch(b.label){case 0:return r="stable",a=/\\version\s*"(\d+)\.?(\d+)?\.?(\d+)?/gm.exec(e),s=a?a.slice(1).map(function(e){return parseInt(e,10)}):[],l=2===s[0]&&s[1]>18,r=l?"unstable":"stable",[4,i.call("render",{version:r,backend:"pdf",src:e})];case 1:return c=b.sent().result.files[0],u=n.replace(/\.ly$/,".pdf"),[4,G(t.accessToken,t.repo)];case 2:if(d=b.sent(),h=d.find(function(e){return e.path===n}),f=d.find(function(e){return e.path===u}),!o&&(h||f))throw new Error("That name is already taken.");p=t.accessToken,m=t.repo,b.label=3;case 3:return b.trys.push([3,6,,7]),[4,Y(p,m,u,c,f?f.sha:void 0,"master")];case 4:return b.sent(),[4,Y(p,m,n,(y=e,btoa(encodeURIComponent(y).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode(+("0x"+t))}))),h?h.sha:void 0,"master")];case 5:return b.sent(),[3,7];case 6:throw g=b.sent(),console.log(g),g instanceof K?o?new Error("Could not save file. You may need to wait a minute or so after publishing before publishing again."):new Error("This name is already taken."):g instanceof U?g:new Error("Could not save file.");case 7:return[2,!0]}var y})})}var ve=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={filename:"",files:null,invitationRequired:!1,saving:!1},t.handleChange=function(e){var n=e.target.value.replace(/[^a-zA-Z0-9_-]*/g,"");t.setState({filename:n})},t.handleSave=function(){return ge(t,void 0,Promise,function(){var e,t,n,i,o,r,a;return be(this,function(s){switch(s.label){case 0:e=!1,s.label=1;case 1:return s.trys.push([1,3,4,5]),this.setState({saving:!0}),t=this.props,n=t.code,i=t.auth,o=t.rpc,r=this.state.filename,[4,ye(n,i,r+".ly",o,!1)];case 2:return s.sent(),[3,5];case 3:return(a=s.sent())instanceof U?(e=!0,this.setState({invitationRequired:!0}),[2]):(console.log(a),alert(a.toString()),e=!0,[3,5]);case 4:return this.setState({saving:!1}),e||this.props.onPublished(this.props.auth.repo+"/"+this.state.filename+".ly"),[7];case 5:return[2]}})})},t.loadExistingSongs=function(){return ge(t,void 0,Promise,function(){var e,t,n,i;return be(this,function(o){switch(o.label){case 0:return e=this.props.auth,t=e.accessToken,n=e.repo,[4,G(t,n)];case 1:return i=o.sent(),this.setState({files:i}),[2]}})})},t}return me(t,e),t.prototype.componentDidMount=function(){this.loadExistingSongs()},t.prototype.render=function(){var e=this.props,t=e.auth,n=e.onHide,i=this.state,r=i.filename,a=i.files,l=i.invitationRequired,c=!1;if(i.saving)return o.a.createElement(pe,null);var u=null;return r.length?a&&-1!==a.map(function(e){return e.path}).indexOf(r+".ly")?(c=!0,u=o.a.createElement("span",{className:Object(s.css)(g.h.error)},o.a.createElement("i",{className:"fa fa-exclamation-triangle","aria-hidden":!0})," That filename is taken.")):l&&(u=o.a.createElement("span",{className:Object(s.css)(g.h.error)},"Permission denied. You may need to"," ",o.a.createElement("a",{href:"https://github.com/"+t.repo+"/invitations",target:"_blank",rel:"noreferrer noopener"},"enable write access")," ","then try agin!")):(c=!0,u=o.a.createElement("span",{className:Object(s.css)(g.h.error)},o.a.createElement("i",{className:"fa fa-exclamation-triangle","aria-hidden":!0})," Please enter a filename.")),o.a.createElement(m.a,{className:Object(s.css)(g.g.modal,g.g.big),contentLabel:"Publish",isOpen:!0,onRequestClose:n,overlayClassName:Object(s.css)(g.g.overlay)},o.a.createElement("div",null,o.a.createElement("div",{className:Object(s.css)(g.g.modalHeader)},"Save / share song",o.a.createElement("button",{"aria-label":"Back to song",onClick:n,className:Object(s.css)(g.g.closeButton)},o.a.createElement("i",{className:"fa-close fa","aria-hidden":!0}))),o.a.createElement("div",{className:Object(s.css)(g.g.modalBody)},o.a.createElement("div",{className:Object(s.css)(g.h.row)},o.a.createElement("span",{className:Object(s.css)(g.h.cell)},"Save to:\xa0",o.a.createElement("code",{className:Object(s.css)(g.h.mono)},o.a.createElement("a",{href:"https://github.com/"+t.repo,target:"_blank",rel:"noopener noreferrer"},""+t.repo),"/")),o.a.createElement("input",{value:r,className:Object(s.css)(g.h.cell,g.h.expand,g.h.mono),placeholder:"filename",autoFocus:!0,onChange:this.handleChange}),o.a.createElement("span",{className:Object(s.css)(g.h.cell)},o.a.createElement("code",{className:Object(s.css)(g.h.mono)},"\xa0.ly")),o.a.createElement("div",{style:{width:7,display:"table-cell"}})),o.a.createElement("div",{className:Object(s.css)(g.h.footer)},u,o.a.createElement("button",{onClick:this.handleSave,disabled:c,className:Object(s.css)(g.b.buttonStyle,g.h.publishBtn)},o.a.createElement("i",{className:"fa fa-save","aria-hidden":!0})," Save / share")))))},t}(o.a.PureComponent),we=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return we(t,e),t.prototype.render=function(){return o.a.createElement(m.a,{className:Object(s.css)(g.g.modal),contentLabel:"Unsaved changes",isOpen:!0,onRequestClose:this.props.cancel,overlayClassName:Object(s.css)(g.g.overlay)},o.a.createElement("div",null,o.a.createElement("div",{className:Object(s.css)(g.g.modalHeader)},"Your changes have not been saved.",o.a.createElement("button",{"aria-label":"Cancel",onClick:this.props.cancel,className:Object(s.css)(g.g.closeButton)},o.a.createElement("i",{className:"fa-close fa","aria-hidden":!0}))),o.a.createElement("div",{className:Object(s.css)(g.g.modalBody)},o.a.createElement("p",{style:{marginTop:0}},"If you do not save your changes, they will be"," ",o.a.createElement("strong",null,"permanently lost"),"!"),o.a.createElement("div",{style:{display:"flex",marginBottom:10}},o.a.createElement("div",{style:{flex:1}}),o.a.createElement("div",null,o.a.createElement("button",{onClick:this.props.cancel,className:Object(s.css)(g.b.buttonStyle)},"Cancel"),o.a.createElement("button",{onClick:this.props.discardChanges,className:Object(s.css)(g.b.buttonStyle)},"Discard changes"),o.a.createElement("button",{onClick:this.props.save,className:Object(s.css)(g.b.buttonStyle)},"Save"))))))},t}(o.a.PureComponent),Se=n(313),Ce=n.n(Se),xe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function ke(e){var t=e.length/4*3,n=new ArrayBuffer(t);return function(e,t){var n=e;n=(n=Te(n=Te(n))).replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var i,o,r,a,s,l,c,u=parseInt(String(n.length/4*3),10),d=t?new Uint8Array(t):new Uint8Array(u),h=0,f=0;f<u;f+=3)a=xe.indexOf(n.charAt(h)),h+=1,s=xe.indexOf(n.charAt(h)),h+=1,l=xe.indexOf(n.charAt(h)),h+=1,c=xe.indexOf(n.charAt(h)),h+=1,i=a<<2|s>>4,o=(15&s)<<4|l>>2,r=(3&l)<<6|c,d[f]=i,64!==l&&(d[f+1]=o),64!==c&&(d[f+2]=r)}(e,n),n}function Te(e){return 64===xe.indexOf(e.charAt(e.length-1))?e.substring(0,e.length-1):e}var Oe=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ne=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hover:!1},t.handleMouseClick=function(){t.handleMouseEnter()},t.handleMouseEnter=function(){setTimeout(function(){t.setState({hover:!0})},10)},t.handleMouseLeave=function(){t.setState({hover:!1})},t}return Oe(t,e),t.prototype.render=function(){var e=this.props.logs,t=this.state.hover;return null===e?null:t?o.a.createElement("div",{className:Object(s.css)(g.e.mask),onClick:this.handleMouseLeave,role:"presentation"},o.a.createElement("div",{className:Object(s.css)(g.b.buttonStyle,g.e.logsButton),onMouseLeave:this.handleMouseLeave},o.a.createElement("pre",{style:{whiteSpace:"pre-wrap"}},e))):o.a.createElement("div",{className:Object(s.css)(g.b.buttonStyle,g.e.logsButton),onClick:this.handleMouseClick,onMouseEnter:this.handleMouseEnter,role:"button"},o.a.createElement("i",{className:"fa fa-file-o","aria-hidden":!0})," Logs")},t}(o.a.Component),Le=n(314),Ie=n.n(Le);var Ee=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),De=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},Ae=function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function s(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((i=i.apply(e,t||[])).next())})},Me=function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},Pe='\n<link rel="stylesheet" type="text/css" href="/preview.css">\n<div id="root"></div>\n';var Re=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={error:null,pendingPreviews:0,previewAlreadyDirty:!1},t.iframeLoaded=!1,t.previousMIDIData=null,t.sheetMusicView=null,t.handleIFrameLoaded=function(){if(t.sheetMusicView&&t.sheetMusicView.contentWindow){var e=t.sheetMusicView.contentWindow.document.body;e.innerHTML=Pe,e.addEventListener("click",function(e){e.preventDefault();for(var n=e.target;n&&"a"!==n.localName;)n=n.parentElement;if(n&&"a"===n.localName){var i=n.getAttribute("xlink:href");if(!i)return;var o=i.split(".ly:");if(2===o.length){var r=o[1].split(":"),a=r[0],s=r[1],l=r[2];t.props.onSelectionChanged({positionColumn:parseInt(l,10)+1,positionLineNumber:parseInt(a,10)-1,selectionStartColumn:parseInt(s,10)+1,selectionStartLineNumber:parseInt(a,10)-1})}}})}t.handleModeDidChange(),t.iframeLoaded=!0},t.handleModeDidChange=function(){if(t.sheetMusicView&&t.sheetMusicView.contentWindow){var e=t.sheetMusicView.contentWindow.document.body;switch(e.classList.remove("modeBoth","modeView","modeEdit"),t.props.mode){case L:e.classList.add("modeBoth");break;case N:e.classList.add("modeView");break;default:e.classList.add("modeEdit")}}},t.handleSetSheetMusicView=function(e){t.sheetMusicView=e},t}var n;return Ee(t,e),t.prototype.componentDidMount=function(){this.fetchNewPreview()},t.prototype.componentDidUpdate=function(e){e.code!==this.props.code&&this.fetchNewPreview(),e.mode!==this.props.mode&&this.handleModeDidChange()},t.prototype.render=function(){var e=this.props,t=e.mode,n=e.logs,i=this.state,r=i.pendingPreviews,a=i.error,l=Object(s.css)(g.a.pendingPreviewMask,t===N&&g.a.previewPendingMaskModeView);return o.a.createElement("div",{style:{backgroundColor:"white"}},o.a.createElement("iframe",{className:Object(s.css)(g.a.sheetMusicView),frameBorder:"0",height:"100%",ref:this.handleSetSheetMusicView,width:t===L?"50%":t===N?"100%":"0"}),r>0&&o.a.createElement("div",{className:l}),a&&o.a.createElement("div",{className:Object(s.css)(g.a.errorMask)},a),this.renderDownload(),o.a.createElement(Ne,{logs:n}))},t.prototype.fetchNewPreview=function(){return Ae(this,void 0,Promise,function(){var e,t,n,i,o,r,a,s,l,c,u,d,h,f,p,m,g,b,y,v,w;return Me(this,function(_){switch(_.label){case 0:if(this.state.pendingPreviews)return this.setState({previewAlreadyDirty:!0}),[2];this.setState({pendingPreviews:this.state.pendingPreviews+1}),this.iframeLoaded||this.handleIFrameLoaded(),e=this.props,t=e.code,n=e.isStandalone,i=e.rpc,o="stable",_.label=1;case 1:return _.trys.push([1,6,,7]),r=void 0,a=void 0,s=void 0,n?[4,this.props.standaloneRender(t,"svg")]:[3,3];case 2:return l=_.sent(),s=l.content,r=l.logs,a=null,[3,5];case 3:if(!i)throw new Error("If not standalone, rpc must be set!");return c=/\\version\s*"(\d+)\.?(\d+)?\.?(\d+)?/gm.exec(t),u=c?c.slice(1).map(function(e){return parseInt(e,10)}):[],d=2===u[0]&&u[1]>18,o=d?"unstable":"stable",[4,i.call("render",{backend:"svg",src:t,version:o})];case 4:h=_.sent(),s=h.result.files,r=h.result.logs,a=h.result.midi||null,_.label=5;case 5:if(f=function(e){return e.replace(/\/tmp\/lyp\/wrappers\/hacklily.ly:([0-9]*):([0-9]*)/g,"/tmp/hacklily.ly:2:1").replace(/`\/tmp\/lyp\/wrappers\/hacklily.ly'/g,"`hacklily-wrapper.ly'").replace(/^Lyp.*\n/gm,"").replace(/^GNU LilyPond Server.*[\n\s]*/gm,"").replace(/^>\s*\n?/gm,"")}(r),!this.sheetMusicView)throw new Error("Could not get frame's window");if(!this.sheetMusicView.contentWindow)throw new Error("Could not get frame's window");if(!(p=this.sheetMusicView.contentWindow.document.getElementById("root")))throw new Error("Could not get sheet music view root!");for(p.style.minHeight=0===s.length||""===s[0].trim()?p.scrollHeight+"px":null,p.innerHTML=Ce.a.sanitize(s.join(""),{ALLOW_UNKNOWN_PROTOCOLS:!0}),this.props.onLogsObtained(f,o),a!==this.previousMIDIData&&(a?this.props.onMidiObtained(ke(a.replace(/\s/g,""))):this.props.onMidiObtained(null)),this.previousMIDIData=a,m=Array.from(p.getElementsByTagName("svg")),g=0,b=m;g<b.length;g++)(y=b[g]).removeAttribute("width"),y.removeAttribute("height");return this.setState({pendingPreviews:this.state.pendingPreviews-1}),this.state.previewAlreadyDirty&&(this.setState({error:null,previewAlreadyDirty:!1}),this.fetchNewPreview()),[2];case 6:return v=_.sent(),w=v&&v.error&&"string"===typeof v.error.message&&v.error.message||"unknown error",this.props.onLogsObtained(w,o),this.setState({error:w,pendingPreviews:this.state.pendingPreviews-1,previewAlreadyDirty:!0}),[3,7];case 7:return[2]}})})},t.prototype.renderDownload=function(){return o.a.createElement("a",{href:"javascript:void(0)",onClick:this.props.onShowDownload,className:Object(s.css)(g.b.buttonStyle,g.a.downloadButton)},o.a.createElement("i",{className:"fa fa-download"})," Export")},De([(n=1e3,function(e,t,i){var o=i.value;if(void 0===o)throw new Error("No function to debounce.");return i.value=Ie()(o,n),i})],t.prototype,"fetchNewPreview",null),t}(o.a.PureComponent),Fe=n(124),je=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),We=function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function s(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((i=i.apply(e,t||[])).next())})},Ve=function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},Be=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return je(t,e),t.prototype.render=function(){return this.props.to===this.to&&this.props.from===this.from||(this.disconnect(),this.from=this.props.from,this.to=this.props.to,this.connect()),null},t.prototype.componentWillUnmount=function(){this.disconnect()},t.prototype.disconnect=function(){this.from&&this.to&&this.from.disconnect(this.to)},t.prototype.connect=function(){this.from&&this.to&&this.from.connect(this.to)},t}(o.a.Component),He=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.resolvers={},t.rejectors={},t.fetchSongs=function(){return We(t,void 0,void 0,function(){var e,t;return Ve(this,function(n){switch(n.label){case 0:if(!(e=this.props.auth))return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,G(e.accessToken,e.repo)];case 2:return t=n.sent(),this.channel&&(this.channel.objects.webContentsBridge.remoteFiles=t),[3,4];case 3:return n.sent(),console.error("Could not retreive your songs."),[3,4];case 4:return[3,6];case 5:console.error("Could not retreive your songs."),n.label=6;case 6:return[2]}})})},t.renderLy=function(e,n){console.log("HI!"),console.log("Rendering "+n);var i=String(Math.random());return t.channel?(t.channel.objects.webContentsBridge.render(i,e,n),new Promise(function(e,n){t.resolvers[i]=e,t.rejectors[i]=n})):(console.log("No channel"),new Promise(function(e,t){t(new Error("No channel"))}))},t.save=function(e,n){return We(t,void 0,void 0,function(){var t;return Ve(this,function(i){switch(i.label){case 0:return[4,this.renderLy(e,"pdf")];case 1:return t=i.sent(),this.channel.objects.webContentsBridge.save(e,n,t.content[0]),[2]}})})},t.handleRenderCompleted=function(e,n,i){console.log("Render completed "+e),t.resolvers[e]&&(console.log("Found resolver"),t.resolvers[e]({content:n,logs:i}),delete t.resolvers[e],delete t.rejectors[e])},t.handleRenderError=function(e,n){console.log("Render error "+e),t.rejectors[e]&&(console.warn(n),t.rejectors[e]({error:n}),delete t.resolvers[e],delete t.rejectors[e])},t}return je(t,e),t.prototype.render=function(){if(this.channel){var e=this.channel.objects,t=e.webContentsBridge,n=e.localFiles;return o.a.createElement("noscript",null,o.a.createElement(Be,{from:t.onNewSong,to:this.props.onNewSong}),o.a.createElement(Be,{from:t.onOpen,to:this.props.onOpen}),o.a.createElement(Be,{from:t.onImport,to:this.props.onImport}),o.a.createElement(Be,{from:t.onImportRejected,to:this.props.onImportRejected}),o.a.createElement(Be,{from:t.onSave,to:this.props.onSave}),o.a.createElement(Be,{from:t.onFind,to:this.props.onFind}),o.a.createElement(Be,{from:t.onFindNext,to:this.props.onFindNext}),o.a.createElement(Be,{from:t.onViewMode,to:this.props.onViewMode}),o.a.createElement(Be,{from:t.onRequestImport,to:this.props.onRequestImport}),o.a.createElement(Be,{from:t.onSelectAll,to:this.props.onSelectAll}),o.a.createElement(Be,{from:t.onSplitMode,to:this.props.onSplitMode}),o.a.createElement(Be,{from:t.onCodeMode,to:this.props.onCodeMode}),o.a.createElement(Be,{from:t.onAboutHacklily,to:this.props.onAboutHacklily}),o.a.createElement(Be,{from:t.onExportRequested,to:this.props.onExportRequested}),o.a.createElement(Be,{from:t.unsavedChangesSave,to:this.props.onUnsavedChangesSave}),o.a.createElement(Be,{from:t.unsavedChangesCancel,to:this.props.onUnsavedChangesCancel}),o.a.createElement(Be,{from:t.unsavedChangesDiscard,to:this.props.onUnsavedChangesDiscard}),o.a.createElement(Be,{from:t.openCancel,to:this.props.onOpenCancel}),o.a.createElement(Be,{from:t.openFile,to:this.props.onOpenFile}),o.a.createElement(Be,{from:t.renderCompleted,to:this.handleRenderCompleted}),o.a.createElement(Be,{from:t.renderError,to:this.handleRenderError}),o.a.createElement(Be,{from:t.saveAsCancel,to:this.props.onSaveAsCancel}),o.a.createElement(Be,{from:t.saveAsFile,to:this.props.onSaveAsFile}),o.a.createElement(Be,{from:n.pathChanged,to:this.props.onLocalFilesChanged}))}return null},t.prototype.componentWillMount=function(){var e=this;"undefined"!==typeof QWebChannel&&new QWebChannel(qt.webChannelTransport,function(t){e.channel=t})},Object.defineProperty(t.prototype,"localFiles",{get:function(){return this.channel?this.channel.objects.localFiles.contents:null},enumerable:!0,configurable:!0}),t.prototype.componentWillUnmount=function(){this.channel&&(this.channel=null)},t.prototype.componentWillReceiveProps=function(e){if(this.channel){var t=this.channel.objects.webContentsBridge;e.showUnsavedChangesDialog!==this.props.showUnsavedChangesDialog&&(t.unsavedChangesModalVisible=e.showUnsavedChangesDialog),e.showOpenDialog!==this.props.showOpenDialog&&(t.openDialogVisible=e.showOpenDialog,e.showOpenDialog&&this.fetchSongs()),e.showSaveAs!==this.props.showSaveAs&&(t.saveAsVisible=e.showSaveAs,this.props.showSaveAs&&this.fetchSongs()),e.showImport!==this.props.showImport&&(t.importVisible=e.showImport),e.showSaving!==this.props.showSaving&&(t.savingVisible=e.showSaving)}},t}(o.a.Component),ze=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ue=function(){return(Ue=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},qe=function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function s(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((i=i.apply(e,t||[])).next())})},Ge=function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};function Ke(e){return e[e.length-1]}var Ye=2,Ze="wss://hacklily-render.nettek.ca/rpc",$e=["404","about","code","edit","saveAs","src","state","standaloneImport"],Xe='\\header {\n  title = "Untitled"\n  composer = "Composer"\n}\n\n\\score {\n  \\relative c\' {\n    c4\n  }\n\n  \\layout {}\n  \\midi {}\n}',Qe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={cleanSongs:{null:{baseSHA:null,src:Xe}},connectToGitHubReason:null,defaultSelection:null,interstitialChanges:null,localFiles:null,locked:!1,login:!1,logs:"",makelilyClef:"treble",makelilyKey:"c \\major",makelilySingleTaskMode:!0,makelilyTime:"4/4",makelilyTool:"notes",menu:!1,midi:null,mode:window.innerWidth>=E?L:N,pendingPreviews:0,publish:!1,reconnectCooloff:Ye,reconnectTimeout:NaN,rendererVersion:"stable",saving:!1,showDownloadModal:!1,showMakelily:null,windowWidth:window.innerWidth,wsError:!1},t.editor=null,t.rpc=null,t.socket=null,t.standaloneAppHost=null,t.cancelInterstitial=function(){t.setState({interstitialChanges:null})},t.discardChanges=function(){if(!t.state.interstitialChanges)throw new Error("Invariant violation");var e=t.props.edit||"null";t.props.markSongClean(e),t.props.setQuery(t.state.interstitialChanges),t.setState({interstitialChanges:null})},t.getSongName=function(){var e=t.props.edit?t.props.edit.split("/"):["untitled"];return e[e.length-1]},t.handleBeforeUnload=function(e){t.state.login||t.state.locked||t.props.isStandalone||t.isDirty()&&(t.setState({interstitialChanges:null}),e.returnValue="Changes you made have not been saved.")},t.handleClear404=function(){t.props.setQuery({404:void 0})},t.handleCodeChanged=function(e){var n=t.state.cleanSongs[t.props.edit||"null"],i=n.baseSHA;n.src===e?t.props.markSongClean(t.props.edit||"null"):t.props.editSong(t.props.edit||"null",{baseSHA:i,src:e})},t.handleDeleteSong=function(e){return qe(t,void 0,Promise,function(){var t,n,i;return Ge(this,function(o){switch(o.label){case 0:if(o.trys.push([0,,2,3]),this.setState({saving:!0}),!(t=this.props.auth)||!this.rpc)throw new Error("Invariant violation: contract broken");return n=Ke(e.split("/")),[4,function(e,t,n){return ge(this,void 0,Promise,function(){var n,i,o,r,a,s,l;return be(this,function(c){switch(c.label){case 0:return n=t.replace(/\.ly$/,".pdf"),[4,G(e.accessToken,e.repo)];case 1:i=c.sent(),o=i.find(function(e){return e.path===t}),r=i.find(function(e){return e.path===n}),a=e.accessToken,s=e.repo,c.label=2;case 2:return c.trys.push([2,7,,8]),r?[4,Z(a,s,n,r.sha,"master")]:[3,4];case 3:c.sent(),c.label=4;case 4:return o?[4,Z(a,s,t,o.sha,"master")]:[3,6];case 5:c.sent(),c.label=6;case 6:return[3,8];case 7:return l=c.sent(),console.log(l),alert("Could not delete file."),[2,!1];case 8:return[2,!0]}})})}(t,n,this.rpc)];case 1:return o.sent()&&(delete(i=JSON.parse(JSON.stringify(this.state.cleanSongs)))[e],this.setState({cleanSongs:i,menu:!1}),this.props.markSongClean(e),this.props.setQuery({edit:void 0,src:void 0})),[3,3];case 2:return this.setState({saving:!1}),[7];case 3:return[2]}})})},t.handleEditingNotification=function(e){e===(t.props.edit||"null")&&t.setState({locked:!0})},t.handleExport=function(){throw new Error("Not implemented")},t.handleExportMIDI=function(){var e=t.state.midi;if(e){var n=t.getSongName(),i=new Blob([e],{type:"audio/midi"}),o=URL.createObjectURL(i);t.triggerDownload(n+".midi",o),t.setState({showDownloadModal:!1})}else alert("No MIDI data found. Make sure you have a \\midi {} and a \\layout {} in your \\score {}.")},t.handleExportPDF=function(){return qe(t,void 0,Promise,function(){var e,t,n,i,o,r,a,s;return Ge(this,function(l){switch(l.label){case 0:if(!(e=this.song()))return alert("Could not export PDF."),[2];if(!(t=this.rpc))return alert("Could not connect to server"),[2];this.setState({showDownloadModal:"loading"}),n=this.getSongName(),l.label=1;case 1:return l.trys.push([1,3,,4]),i="stable",o=/\\version\s*"(\d+)\.?(\d+)?\.?(\d+)?/gm.exec(e.src),r=o?o.slice(1).map(function(e){return parseInt(e,10)}):[],a=2===r[0]&&r[1]>18,i=a?"unstable":"stable",[4,t.call("render",{version:i,backend:"pdf",src:e.src})];case 2:return s=l.sent().result.files[0],console.log(s),this.triggerDownload(n+".pdf","data:text/plain;base64,"+s),[3,4];case 3:return l.sent(),alert("Could not export PDF."),[3,4];case 4:return this.setState({showDownloadModal:!1}),[2]}})})},t.handleExportLy=function(){var e=t.song();if(e){var n=t.getSongName();t.triggerDownload(n+".ly","data:text/plain;charset=utf-8,"+encodeURIComponent(e.src)),t.setState({showDownloadModal:!1})}else alert("Could not export lilypond source.")},t.handleFind=function(){t.editor&&t.editor.find()},t.handleFindNext=function(){t.editor&&t.editor.findNext()},t.handleHideDownload=function(){t.setState({showDownloadModal:!1})},t.handleHideHelp=function(){t.props.setQuery({about:void 0})},t.handleHideLogin=function(){t.setState({connectToGitHubReason:null,login:!1})},t.handleHideMakelily=function(){t.setState({makelilyInsertCB:void 0,showMakelily:null})},t.handleHideMenu=function(){t.setState({menu:!1})},t.handleHidePublish=function(){t.props.saveAs?t.props.setQuery({saveAs:void 0}):t.setState({publish:!1}),t.state.interstitialChanges&&t.cancelInterstitial()},t.handleHideUnstableNotification=function(){t.props.setHideUnstable219Notification(!0)},t.handleImport=function(e,n){return qe(t,void 0,Promise,function(){return Ge(this,function(e){return this.props.setQuery({edit:void 0,src:void 0},!0),this.props.editSong("null",{baseSHA:null,src:n}),this.handleShowPublish(),[2]})})},t.handleImportRejected=function(){t.props.setQuery({standaloneImport:void 0})},t.handleImportRequested=function(){t.setQueryOrShowInterstitial({standaloneImport:!0})},t.handleInsertLy=function(e){t.editor&&(t.state.makelilyInsertCB?t.state.makelilyInsertCB(e+"\n"):t.editor.insertText("\n"+e+"\n")),t.setState({makelilyInsertCB:void 0,showMakelily:null})},t.handleLoadSong=function(e){t.setQueryOrShowInterstitial({edit:e,src:void 0}),t.setState({menu:!1})},t.handleLocalFilesChanged=function(){t.standaloneAppHost&&t.setState({localFiles:t.standaloneAppHost.localFiles})},t.handleLogsObtained=function(e,n){e!==t.state.logs&&t.setState({logs:e,rendererVersion:n})},t.handleMidiObtained=function(e){e!==t.state.midi&&t.setState({midi:e})},t.handleModeChanged=function(e){t.setState({mode:e})},t.handleModeChangedEdit=function(){t.handleModeChanged(I)},t.handleModeChangedSplit=function(){t.handleModeChanged(L)},t.handleModeChangedView=function(){t.handleModeChanged(N)},t.handleOpen=function(){t.setState({menu:!0})},t.handleOpenFileStandalone=function(e,n,i,o){var r=t.props.auth;if(t.handleHideMenu(),"remote"!==n)throw new Error("Not implemented");if(!r)throw new Error("Not signed in. Cannot open remote file.");t.handleLoadSong(r.repo+"/"+e)},t.handlePublished=function(e){if(t.props.markSongClean("null"),t.state.interstitialChanges?(t.props.setQuery(t.state.interstitialChanges),t.setState({interstitialChanges:null})):t.props.setQuery({edit:e,saveAs:void 0,src:void 0}),t.setState({publish:!1}),!t.rpc)throw new Error("Expected rpc to be defined");t.rpc.call("notifySaved",{})},t.handleResolveGitHub=function(){if(!t.props.edit)throw new Error("Expected us to be editing a published song");t.props.markSongClean(t.props.edit)},t.handleResolveLocalStorage=function(){if(!t.props.edit)throw new Error("Expected us to be editing a published song");t.props.editSong(t.props.edit,{baseSHA:t.state.cleanSongs[t.props.edit].baseSHA,src:t.song().src})},t.handleSelectAll=function(){t.editor&&t.editor.selectAll()},t.handleSelectionChanged=function(e){e!==t.state.defaultSelection&&t.setState({defaultSelection:e})},t.handleShowDownload=function(){t.setState({showDownloadModal:!0})},t.handleShowHelp=function(){t.setState({menu:!1}),t.props.setQuery({about:"1"})},t.handleShowMakelily=function(e,i){return qe(t,void 0,Promise,function(){var t,o;return Ge(this,function(r){switch(r.label){case 0:return(t=this.editor)?[4,Promise.all([n.e(1),n.e(55),n.e(5)]).then(n.t.bind(null,822,7))]:[2];case 1:return o=r.sent().default,this.setState(Ue({showMakelily:o},t.getMakelilyProperties(),{makelilyInsertCB:i,makelilySingleTaskMode:!!e,makelilyTool:e||this.state.makelilyTool})),[2]}})})},t.handleShowMenu=function(){t.setState({menu:!0}),t.props.about&&t.props.setQuery({about:void 0})},t.handleShowNew=function(){var e=!t.props.dirtySongs[t.props.edit||"null"];t.props.auth||e?t.setQueryOrShowInterstitial({edit:void 0,src:void 0}):t.setState({connectToGitHubReason:"Connect to GitHub to save this song\u2026",login:!0})},t.handleShowPublish=function(){t.props.auth?t.props.edit?t.handleUpdateGitHub():t.setState({publish:!0}):t.setState({connectToGitHubReason:"Connect to GitHub to share this song\u2026",login:!0})},t.handleShowSaveAs=function(){t.props.auth?t.props.setQuery({saveAs:"1"}):(t.setState({connectToGitHubReason:"Connect to GitHub to save a copy of this song\u2026",login:!0}),t.props.setQuery({saveAs:"1"},!0))},t.handleSignIn=function(){t.setState({connectToGitHubReason:null,login:!0,menu:!1,publish:!1})},t.handleSignOut=function(){var e=t.props.auth;if(t.rpc){if(t.props.setAuth(null),!e)throw new Error("Cannot sign out because we are not signed in.");var n=e.accessToken;localStorage.clear(),function(e,t){l(this,void 0,Promise,function(){return c(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,3,4]),[4,e.call("signOut",{token:t})];case 1:return n.sent(),[3,4];case 2:return n.sent(),alert("Could not revoke GitHub authorization. If you would like, you can manually do this from your GitHub settings."),[3,4];case 3:return window.location.reload(),[7];case 4:return[2]}})})}(t.rpc,n)}else alert("Cannot sign out because you are not connected to the server.")},t.handleUpdateGitHub=function(){return qe(t,void 0,Promise,function(){var e,t,n,i,o,r,a;return Ge(this,function(s){switch(s.label){case 0:if(s.trys.push([0,,6,7]),this.setState({saving:!0}),e=this.song(),t=this.props,n=t.auth,i=t.edit,!n||!i||!e||!this.rpc)throw new Error("Invariant violation: contract broken");o=Ke(i.split("/")),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,ye(e.src,n,o,this.rpc,!0)];case 2:return s.sent(),(r=JSON.parse(JSON.stringify(this.state.cleanSongs)))[i]={baseSHA:e.baseSHA,src:e.src},this.setState({cleanSongs:r}),this.props.markSongClean(i),[3,4];case 3:return a=s.sent(),alert(a.toString()),[3,4];case 4:if(!this.rpc)throw new Error("Expected rpc to be defined");return[4,this.rpc.call("notifySaved",{})];case 5:return s.sent(),[3,7];case 6:return this.setState({saving:!1}),this.state.interstitialChanges&&(this.props.setQuery(this.state.interstitialChanges),this.setState({interstitialChanges:null})),[7];case 7:return[2]}})})},t.handleWindowResize=function(){t.setState({windowWidth:window.innerWidth}),t.state.mode===L&&window.innerWidth<E&&t.setState({mode:N}),t.state.mode!==L&&window.innerWidth>=E&&t.setState({mode:L})},t.handleWSError=function(e){t.socket&&(t.disconnectWS(),t.setState({reconnectCooloff:2*t.state.reconnectCooloff,reconnectTimeout:t.state.reconnectCooloff,wsError:!0}),setTimeout(t.wsReconnectTick,1e3))},t.handleWSOpen=function(){return qe(t,void 0,Promise,function(){var e,t,n,i,o;return Ge(this,function(r){switch(r.label){case 0:if(!this.socket)throw new Error("Socket not opened, but handleWSOpen called.");if(this.rpc=new Fe.a(this.socket),!this.props.code||!this.props.state)return[3,6];r.label=1;case 1:return r.trys.push([1,4,,5]),[4,function(e,t,n,i){return l(this,void 0,Promise,function(){var o;return c(this,function(r){switch(r.label){case 0:if(i!==n)throw console.warn("Invalid csrf."),new Error("Something went wrong. Could not log you in.");return[4,e.call("signIn",{oauth:t,state:n})];case 1:if(!(o=r.sent()).result.accessToken||!o.result.email||!o.result.name||!o.result.repo||!o.result.username)throw new Error("Could not log you in.");return[2,o.result]}})})}(this.rpc,this.props.code,this.props.state,this.props.csrf)];case 2:return n=r.sent(),e=n,[4,q(n)];case 3:return e.repoDetails=r.sent(),this.props.setAuth(n),this.props.setQuery({code:void 0,state:void 0},!0),[3,5];case 4:return t=r.sent(),alert(t.message||"Could not log you in"),this.props.setQuery({code:void 0,state:void 0},!0),[3,5];case 5:return[3,10];case 6:if(!this.props.auth)return[3,10];r.label=7;case 7:return r.trys.push([7,9,,10]),n=Ue({},this.props.auth),i=n,[4,q(n)];case 8:return i.repoDetails=r.sent(),this.props.setAuth(n),[3,10];case 9:return o=r.sent(),alert(o.message||"Could not get GitHub repo details."),[3,10];case 10:return this.setState({reconnectCooloff:Ye}),this.forceUpdate(),[2]}})})},t.setEditor=function(e){t.editor=e},t.setQueryOrShowInterstitial=function(e){t.isDirty()?t.setState({interstitialChanges:e}):t.props.setQuery(e)},t.setStandaloneAppHost=function(e){t.standaloneAppHost=e,e&&t.setState({localFiles:e.localFiles})},t.standalonePublish=function(e,n){return qe(t,void 0,Promise,function(){var t,i,o,r;return Ge(this,function(a){switch(a.label){case 0:this.setState({publish:!1}),a.label=1;case 1:if(a.trys.push([1,,9,10]),this.setState({saving:!0}),t=this.song(),!(i=this.props.auth)||!t||!this.rpc)throw new Error("Invariant violation: contract broken");a.label=2;case 2:return a.trys.push([2,7,,8]),o="local"===n?"local/"+e:i.repo+"/"+e,"remote"!==n?[3,4]:[4,ye(t.src,i,e,this.rpc,!1)];case 3:return a.sent(),[3,6];case 4:if(!this.standaloneAppHost)throw new Error("Expected standaloneAppHost when saving locally...");return[4,this.standaloneAppHost.save(t.src,e)];case 5:a.sent(),a.label=6;case 6:return this.handlePublished(o),[3,8];case 7:return r=a.sent(),this.setState({saving:!1},function(){alert(r.toString())}),[3,8];case 8:return[3,10];case 9:return this.setState({saving:!1}),this.state.interstitialChanges&&(this.props.setQuery(this.state.interstitialChanges),this.setState({interstitialChanges:null})),[7];case 10:return[2]}})})},t.standaloneRender=function(e,n){if(!t.standaloneAppHost)throw new Error("Function only valid in standalone mode.");return t.standaloneAppHost.renderLy(e,n)},t.triggerDownload=function(e,t){var n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)},t.wsReconnectTick=function(){var e=t.state.reconnectTimeout-1;e>0?(t.setState({reconnectTimeout:e}),setTimeout(t.wsReconnectTick,1e3)):(t.setState({reconnectTimeout:NaN}),t.connectToWS())},t}return ze(t,e),t.prototype.componentDidMount=function(){window.addEventListener("resize",this.handleWindowResize)},t.prototype.componentDidUpdate=function(e){var t;this.props.edit!==e.edit&&(this.fetchSong(),le(this.props.edit||"null")),this.props.isStandalone&&!this.props.auth&&this.props.csrf&&!this.props.code&&(t=this.props.csrf,window.location.href=h(t)),this.props.auth||this.state.login||this.props.state||!this.props.saveAs||this.props.setQuery({saveAs:void 0},!0)},t.prototype.componentWillMount=function(){if(this.connectToWS(),this.fetchSong(),le(this.props.edit||"null"),window.addEventListener("beforeunload",this.handleBeforeUnload),ue(this.handleEditingNotification),this.props.isStandalone&&!this.props.auth&&!this.props.csrf){var e=new Uint32Array(1);crypto.getRandomValues(e);var t=e[0].toString();this.props.setCSRF(t)}},t.prototype.componentWillUnmount=function(){this.disconnectWS(),window.removeEventListener("beforeunload",this.handleBeforeUnload),window.addEventListener("resize",this.handleWindowResize),ue(null)},t.prototype.render=function(){var e,t=this.state,n=t.logs,i=t.mode,r=t.midi,a=t.defaultSelection,s=t.rendererVersion,l=t.windowWidth,c=this.props,u=c.auth,d=c.edit,h=c.isStandalone,f=c.hideUnstable219Notification,p=this.isOnline(),m=this.renderPreview(),g=this.song(),b=Boolean(this.props.edit||this.props.src)&&Boolean(this.props.dirtySongs.null),y=!h&&o.a.createElement(D,{mode:i,midi:r,online:p,loggedIn:null!==u,onModeChanged:this.handleModeChanged,onShowClone:this.handleShowSaveAs,onShowMakelily:this.handleShowMakelily,onShowMenu:this.handleShowMenu,onShowNew:this.handleShowNew,onShowPublish:this.handleShowPublish,sandboxIsDirty:b,song:this.props.src?"untitled-import":d,inSandbox:!this.props.edit&&!this.props.src,isDirty:this.isDirty(),isImmutableSrc:Boolean(this.props.src),windowWidth:l});return e=this.props.isStandalone?o.a.createElement(He,{ref:this.setStandaloneAppHost,auth:u,showOpenDialog:this.state.menu,showSaveAs:this.state.publish,showUnsavedChangesDialog:!!this.state.interstitialChanges,showImport:!!this.props.standaloneImport,showSaving:this.state.saving,onNewSong:this.handleShowNew,onOpen:this.handleOpen,onOpenFile:this.handleOpenFileStandalone,onOpenCancel:this.handleHideMenu,onImport:this.handleImport,onImportRejected:this.handleImportRejected,onRequestImport:this.handleImportRequested,onSave:this.handleShowPublish,onSaveAsCancel:this.handleHidePublish,onSaveAsFile:this.standalonePublish,onFind:this.handleFind,onFindNext:this.handleFindNext,onViewMode:this.handleModeChangedView,onSelectAll:this.handleSelectAll,onSplitMode:this.handleModeChangedSplit,onCodeMode:this.handleModeChangedEdit,onAboutHacklily:this.handleShowHelp,onExportRequested:this.handleExport,onLocalFilesChanged:this.handleLocalFilesChanged,onUnsavedChangesCancel:this.cancelInterstitial,onUnsavedChangesDiscard:this.discardChanges,onUnsavedChangesSave:this.handleShowPublish}):null,o.a.createElement("div",{className:"App "+(h?"standalone":"")},y,this.renderModal(),o.a.createElement("div",{className:"content"},o.a.createElement(B,{ref:this.setEditor,code:g?g.src:void 0,colourScheme:this.props.colourScheme,mode:i,hideUnstable219Notification:f,onSetCode:this.handleCodeChanged,onHideUnstableNotification:this.handleHideUnstableNotification,logs:n,defaultSelection:a,readOnly:!!g&&"PUBLIC_READONLY"===g.baseSHA,isImmutableSrc:Boolean(this.props.src),showMakelily:this.handleShowMakelily,rendererVersion:s}),m),e)},t.prototype.connectToWS=function(){this.socket=new WebSocket(Ze),this.socket.addEventListener("open",this.handleWSOpen),this.socket.addEventListener("error",this.handleWSError),this.socket.addEventListener("close",this.handleWSError),this.forceUpdate()},t.prototype.disconnectWS=function(){this.socket&&(this.socket.removeEventListener("open",this.handleWSOpen),this.socket.removeEventListener("error",this.handleWSError),this.socket.removeEventListener("close",this.handleWSError),this.socket.close(),this.socket=null,this.rpc&&(this.rpc.destroy(),this.rpc=null))},t.prototype.fetchSong=function(){return qe(this,void 0,Promise,function(){var e,t,n,i,o,r,a,s,l,c,u;return Ge(this,function(d){switch(d.label){case 0:return e=this.props,t=e.auth,"null"!==(n=e.edit)&&n?(i=n.split("/"),o=i[0]+"/"+i[1],r=i.slice(2).join("/"),t&&t.repo===o?[3,3]:[4,fetch("https://raw.githubusercontent.com/"+o+"/master/"+r)]):[2];case 1:return(a=d.sent()).status>=400?(alert("Could not fetch the requested song."),[2]):[4,a.text()];case 2:return l=d.sent(),(u=JSON.parse(JSON.stringify(this.state.cleanSongs)))[n]?[2]:(u[n]={baseSHA:"PUBLIC_READONLY",src:l},this.setState({cleanSongs:u}),[2]);case 3:return d.trys.push([3,5,,6]),[4,function(e,t,n,i){return void 0===i&&(i="master"),H(this,void 0,Promise,function(){var o,r,a;return z(this,function(s){switch(s.label){case 0:return o={Authorization:"token "+e},[4,fetch("https://api.github.com/repos/"+t+"/contents/"+n+"?ref="+i+"&cache_bust="+(new Date).getTime(),{headers:o})];case 1:if(404===(r=s.sent()).status)throw new U;return[4,r.json()];case 2:return a=s.sent(),[2,{content:atob(a.content),sha:a.sha}]}})})}(t.accessToken,t.repo,r)];case 4:return s=d.sent(),l=s.content,c=s.sha,(u=JSON.parse(JSON.stringify(this.state.cleanSongs)))[n]={baseSHA:c,src:l},this.setState({cleanSongs:u}),[3,6];case 5:return d.sent()instanceof U&&this.props.setQuery({edit:void 0,src:void 0,404:"1"}),[3,6];case 6:return[2]}})})},t.prototype.hasConflict=function(){var e=this.props,t=e.dirtySongs,n=e.edit,i=this.state.cleanSongs,o=n||"null",r=t[o],a=i[o];return r&&a&&r.baseSHA!==a.baseSHA},t.prototype.isDirty=function(){var e=this.props,t=e.edit,n=e.dirtySongs;return!e.src&&void 0!==n[t||"null"]},t.prototype.isOnline=function(){return Boolean(this.rpc)},t.prototype.renderModal=function(){var e=this.state,t=e.locked,n=e.login,i=e.connectToGitHubReason,r=e.menu,a=e.publish,s=e.interstitialChanges,l=e.saving,c=e.showMakelily,u=e.showDownloadModal,d=this.props,h=d.about,f=d.auth,p=d.csrf,m=d.isStandalone,g=d.setCSRF,b=d[404],v=d.saveAs,w=this.song(),_=this.hasConflict();switch(!0){case t:return o.a.createElement(se,null);case void 0!==b:return o.a.createElement(te,{onHide:this.handleClear404});case l&&!m:return o.a.createElement(pe,null);case _:return o.a.createElement(re,{resolveGitHub:this.handleResolveGitHub,resolveLocalStorage:this.handleResolveLocalStorage});case n:return o.a.createElement(he,{key:location.href,connectToGitHubReason:i,onHide:this.handleHideLogin,csrf:p,setCSRF:g});case Boolean(h):return o.a.createElement(ie,{onHide:this.handleHideHelp});case a||Boolean(v):return w&&f&&this.rpc&&!m?o.a.createElement(ve,{onHide:this.handleHidePublish,onPublished:this.handlePublished,auth:f,code:w.src,rpc:this.rpc}):null;case r&&!m:return o.a.createElement(J,{auth:f,colourScheme:this.props.colourScheme,windowWidth:this.state.windowWidth,onDeleteSong:this.handleDeleteSong,onHide:this.handleHideMenu,onShowAbout:this.handleShowHelp,onSignIn:this.handleSignIn,onSignOut:this.handleSignOut,onLoadSong:this.handleLoadSong,setColourScheme:this.props.setColourScheme});case null!==s&&!m:return o.a.createElement(_e,{discardChanges:this.discardChanges,cancel:this.cancelInterstitial,save:this.handleShowPublish});case null!==c:if(null===c)throw new Error("(this will never happen");var S=c;return o.a.createElement(S,{clef:this.state.makelilyClef,defaultTool:this.state.makelilyTool,keySig:this.state.makelilyKey,onHide:this.handleHideMakelily,singleTaskMode:this.state.makelilySingleTaskMode,onInsertLy:this.handleInsertLy,time:this.state.makelilyTime});case Boolean(u):var C=null;if(this.props.edit){var x=this.props.edit.split("/");C="https://github.com/"+x[0]+"/"+x[1]+"/blob/master/"+x.slice(2).join("/")}return o.a.createElement(y,{loading:"loading"===u,onHide:this.handleHideDownload,onExportLy:this.handleExportLy,onExportMIDI:this.handleExportMIDI,onExportPDF:this.handleExportPDF,songURL:C});default:return null}},t.prototype.renderPreview=function(){var e=this.props.isStandalone,t=this.state,n=t.mode,i=t.reconnectTimeout,r=t.logs,a=t.wsError,l=this.song(),c=this.isOnline();if(!l)return o.a.createElement("div",{className:Object(s.css)(g.a.sheetMusicView),style:{width:n===L?"50%":n===N?"100%":"0"}},o.a.createElement("div",{className:Object(s.css)(g.a.sheetMusicError)},"Fetching sheet music\u2026"));if(this.socket||e){if(c&&this.rpc||e)return o.a.createElement(Re,{code:l.src,isStandalone:e,mode:n,onLogsObtained:this.handleLogsObtained,onMidiObtained:this.handleMidiObtained,onSelectionChanged:this.handleSelectionChanged,onShowDownload:this.handleShowDownload,rpc:e?null:this.rpc,standaloneRender:this.standaloneRender,logs:r});var u=Object(s.css)(g.a.pendingPreviewMask,n===N&&g.a.previewPendingMaskModeView);return o.a.createElement("span",null,o.a.createElement("div",{className:Object(s.css)(g.a.sheetMusicView),style:{width:n===L?"50%":n===N?"100%":"0"}}),o.a.createElement("div",{className:u}))}if(a)return o.a.createElement("div",{className:Object(s.css)(g.a.sheetMusicView),style:{width:n===L?"50%":n===N?"100%":"0"}},o.a.createElement("div",{className:Object(s.css)(g.a.sheetMusicError)},o.a.createElement("i",{className:"fa fa-exclamation-triangle","aria-hidden":!0})," ","Could not connect to server.",o.a.createElement("br",null),"Trying again in ",i,"\u2026"));throw new Error("Invalid state.")},t.prototype.song=function(){var e=this.props,t=e.dirtySongs,n=e.edit,i=e.src;if(i)return{baseSHA:"PUBLIC_READONLY",src:i};var o=this.state.cleanSongs,r=n||"null",a=t[r]||o[r];return a||void 0},t}(o.a.PureComponent);var Je=function(){return(Je=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function et(){a.a.render(o.a.createElement(Qe,Je({},tt(),{dirtySongs:function(){for(var e={},t=0;t<localStorage.length;t+=1){var n=localStorage.key(t);if(n){var i=localStorage.getItem(n);i&&n.startsWith("dirtySong::")&&(e[n.split("::")[1]]=JSON.parse(i))}}return e}(),auth:function(e){if(!e)return null;try{var t=JSON.parse(e);return t&&t.accessToken&&t.email&&t.name&&t.repo&&t.username?t:null}catch(e){return null}}(localStorage.auth),csrf:localStorage.csrf||null,colourScheme:localStorage.colourScheme||"vs-dark",hideUnstable219Notification:localStorage.hideUnstable219Notification||!1,setQuery:nt,editSong:it,markSongClean:ot,setAuth:rt,setColourScheme:at,setCSRF:lt,setHideUnstable219Notification:st,isStandalone:"yes"===Object({NODE_ENV:"production",PUBLIC_URL:"",HOMEPAGE:"https://www.hacklily.org",REACT_APP_GITHUB_CLIENT_ID:"10a6656f66c8392b4d35",REACT_APP_BACKEND_WS_URL:"wss://hacklily-render.nettek.ca/rpc"}).REACT_APP_STANDALONE})),document.getElementById("root"))}function tt(){var e=function(e){for(var t={},n=0,i=("?"===e[0]?e.substr(1):e).split("&");n<i.length;n++){var o=i[n];if(o){var r=o.split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]||"")}}return t}(window.location.hash.slice(1)||window.location.search),t={};return Object.keys(e).forEach(function(n){var i=$e.indexOf(n);if(-1!==i){var o=$e[i];t[o]=e[n]}else console.warn("Warning: unknown query property "+n+". Please add it to QUERY_PROP_KEYS in App.tsx.")}),t}function nt(e,t){void 0===t&&(t=!1);var n=tt();Object.keys(e).forEach(function(t){t in e&&(n[t]=e[t])});var i=window.location.hash.length>1?"#":"?",o=location.href.split(i)[0],r=function(e){for(var t=[],n=0,i=Object.keys(e);n<i.length;n++){var o=i[n];void 0!==e[o]&&t.push(encodeURIComponent(o)+"="+encodeURIComponent(e[o]))}return t.join("&").replace(/%2F/g,"/")}(n),a=o.length+r.length+1>1024?"#":"?",s=r.length?""+o+a+r:o;t?history.replaceState(null,"",s):history.pushState(null,"",s),et()}function it(e,t){localStorage["dirtySong::"+e]=JSON.stringify(t),et()}function ot(e){delete localStorage["dirtySong::"+e],et()}function rt(e){e?localStorage.auth=JSON.stringify(e):delete localStorage.auth,et()}function at(e){localStorage.colourScheme=e,document.location.reload()}function st(e){e?localStorage.hideUnstable219Notification=!0:delete localStorage.hideUnstable219Notification,et()}function lt(e){e?(localStorage.csrf=e,localStorage.csrfQueryParams=JSON.stringify(tt(),null,2)):(delete localStorage.csrf,delete localStorage.csrfQueryParams),et()}(window.addEventListener("popstate",function(e){et()}),tt().state===localStorage.csrf&&localStorage.csrf&&localStorage.csrfQueryParams)?nt(JSON.parse(localStorage.csrfQueryParams),!0):et()}]);
//# sourceMappingURL=app.1bac24c3.js.map